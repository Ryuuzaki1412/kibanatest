/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.lens_bundle_jsonpfunction=window.lens_bundle_jsonpfunction||[]).push([[1],Array(67).concat([function(e,t,a){"use strict";var n,r=function(){var e={};return function(t){if(void 0===e[t]){var a=document.querySelector(t);if(window.HTMLIFrameElement&&a instanceof window.HTMLIFrameElement)try{a=a.contentDocument.head}catch(e){a=null}e[t]=a}return e[t]}}(),o=[];function i(e){for(var t=-1,a=0;a<o.length;a++)if(o[a].identifier===e){t=a;break}return t}function s(e,t){for(var a={},n=[],r=0;r<e.length;r++){var s=e[r],l=t.base?s[0]+t.base:s[0],c=a[l]||0,d="".concat(l," ").concat(c);a[l]=c+1;var u=i(d),p={css:s[1],media:s[2],sourceMap:s[3]};-1!==u?(o[u].references++,o[u].updater(p)):o.push({identifier:d,updater:m(p,t),references:1}),n.push(d)}return n}function l(e){var t=document.createElement("style"),n=e.attributes||{};if(void 0===n.nonce){var o=a.nc;o&&(n.nonce=o)}if(Object.keys(n).forEach((function(e){t.setAttribute(e,n[e])})),"function"==typeof e.insert)e.insert(t);else{var i=r(e.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(t)}return t}var c,d=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function u(e,t,a,n){var r=a?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(e.styleSheet)e.styleSheet.cssText=d(t,r);else{var o=document.createTextNode(r),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(o,i[t]):e.appendChild(o)}}function p(e,t,a){var n=a.css,r=a.media,o=a.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var g=null,b=0;function m(e,t){var a,n,r;if(t.singleton){var o=b++;a=g||(g=l(t)),n=u.bind(null,a,o,!1),r=u.bind(null,a,o,!0)}else a=l(t),n=p.bind(null,a,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(a)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n));var a=s(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var n=0;n<a.length;n++){var r=i(a[n]);o[r].references--}for(var l=s(e,t),c=0;c<a.length;c++){var d=i(a[c]);0===o[d].references&&(o[d].updater(),o.splice(d,1))}a=l}}}},function(e,t,a){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var a=function(e,t){var a,n,r,o=e[1]||"",i=e[3];if(!i)return o;if(t&&"function"==typeof btoa){var s=(a=i,n=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n),"/*# ".concat(r," */")),l=i.sources.map((function(e){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(e," */")}));return[o].concat(l).concat([s]).join("\n")}return[o].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(a,"}"):a})).join("")},t.i=function(e,a,n){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(n)for(var o=0;o<this.length;o++){var i=this[o][0];null!=i&&(r[i]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);n&&r[l[0]]||(a&&(l[2]?l[2]="".concat(a," and ").concat(l[2]):l[2]=a),t.push(l))}},t}},,,function(e,t,a){"use strict";a.d(t,"i",(function(){return u})),a.d(t,"e",(function(){return w})),a.d(t,"g",(function(){return L})),a.d(t,"d",(function(){return S.a})),a.d(t,"o",(function(){return I})),a.d(t,"a",(function(){return M})),a.d(t,"t",(function(){return C})),a.d(t,"u",(function(){return P})),a.d(t,"r",(function(){return T})),a.d(t,"q",(function(){return z})),a.d(t,"m",(function(){return W})),a.d(t,"f",(function(){return B})),a.d(t,"l",(function(){return R.a})),a.d(t,"p",(function(){return R.b})),a.d(t,"n",(function(){return G})),a.d(t,"s",(function(){return U})),a.d(t,"j",(function(){return Y})),a.d(t,"c",(function(){return K})),a.d(t,"b",(function(){return X})),a.d(t,"h",(function(){return Z})),a.d(t,"k",(function(){return oe})),a(199);var n=a(7),r=a.n(n),o=a(4),i=a(139),s=a(16),l=a.n(s),c=a(2);const d={legend:({title:e,titleId:t,...a})=>Object(c.jsx)("svg",l()({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t},a),e?Object(c.jsx)("title",{id:t},e):null,Object(c.jsx)("path",{clipRule:"evenodd",fillRule:"evenodd",d:"M2.786.357a.25.25 0 01.428 0l2.559 4.264A.25.25 0 015.558 5H.442a.25.25 0 01-.215-.379L2.786.357zM3 1.944L4.234 4H1.766L3 1.944z"}),Object(c.jsx)("path",{d:"M8.5 2a.5.5 0 000 1h7a.5.5 0 000-1h-7z"}),Object(c.jsx)("path",{clipRule:"evenodd",fillRule:"evenodd",d:"M1.5 6a.5.5 0 00-.5.5v3a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-3a.5.5 0 00-.5-.5h-3zM2 7v2h2V7H2z"}),Object(c.jsx)("path",{d:"M8.5 7.5a.5.5 0 000 1h7a.5.5 0 000-1h-7z"}),Object(c.jsx)("path",{clipRule:"evenodd",fillRule:"evenodd",d:"M3 16a2.5 2.5 0 100-5 2.5 2.5 0 000 5zm0-1a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"}),Object(c.jsx)("path",{d:"M8.5 13a.5.5 0 000 1h7a.5.5 0 000-1h-7z"})),labels:"visText",values:"number",list:"list",visualOptions:"brush"},u=({children:e,title:t,type:a,isDisabled:r=!1,groupPosition:s,buttonDataTestSubj:l,panelClassName:u="lnsVisToolbar__popover",handleClose:p})=>{const[g,b]=Object(n.useState)(!1),m="string"==typeof a?d[a]:a;return Object(c.jsx)(o.EuiFlexItem,{grow:!1},Object(c.jsx)(o.EuiPopover,{panelClassName:u,ownFocus:!0,"aria-label":t,button:Object(c.jsx)(i.a,{as:"iconButton",iconType:m,onClick:()=>{b(!g)},"aria-label":t,isDisabled:r,groupPosition:s,"data-test-subj":l}),isOpen:g,closePopover:()=>{b(!1),null==p||p()},anchorPosition:"downRight"},Object(c.jsx)(o.EuiPopoverTitle,null,t),e))};var p=a(0),g=a(35),b=a(119);const m=[{id:g.Position.Top,label:p.i18n.translate("xpack.lens.shared.legendPositionTop",{defaultMessage:"Top"}),iconType:"arrowUp"},{id:g.Position.Right,label:p.i18n.translate("xpack.lens.shared.legendPositionRight",{defaultMessage:"Right"}),iconType:"arrowRight"},{id:g.Position.Bottom,label:p.i18n.translate("xpack.lens.shared.legendPositionBottom",{defaultMessage:"Bottom"}),iconType:"arrowDown"},{id:g.Position.Left,label:p.i18n.translate("xpack.lens.shared.legendPositionLeft",{defaultMessage:"Left"}),iconType:"arrowLeft"}],f=[{id:"xy_location_outside",value:"outside",label:p.i18n.translate("xpack.lens.xyChart.legendLocation.outside",{defaultMessage:"Outside"})},{id:"xy_location_inside",value:"inside",label:p.i18n.translate("xpack.lens.xyChart.legendLocation.inside",{defaultMessage:"Inside"})}],x=[{id:"xy_location_alignment_top_right",value:"top_right",label:p.i18n.translate("xpack.lens.shared.legendLocationTopRight",{defaultMessage:"Top right"}),iconType:"editorPositionTopRight"},{id:"xy_location_alignment_top_left",value:"top_left",label:p.i18n.translate("xpack.lens.shared.legendLocationTopLeft",{defaultMessage:"Top left"}),iconType:"editorPositionTopLeft"},{id:"xy_location_alignment_bottom_right",value:"bottom_right",label:p.i18n.translate("xpack.lens.shared.legendLocationBottomRight",{defaultMessage:"Bottom right"}),iconType:"editorPositionBottomRight"},{id:"xy_location_alignment_bottom_left",value:"bottom_left",label:p.i18n.translate("xpack.lens.shared.legendLocationBottomLeft",{defaultMessage:"Bottom left"}),iconType:"editorPositionBottomLeft"}],h=({location:e,onLocationChange:t=(()=>{}),position:a,onPositionChange:n,verticalAlignment:i,horizontalAlignment:s,onAlignmentChange:l=(()=>{}),isDisabled:d=!1})=>{const u=`${i||g.VerticalAlignment.Top}_${s||g.HorizontalAlignment.Right}`;return d?null:Object(c.jsx)(r.a.Fragment,null,e&&Object(c.jsx)(o.EuiFormRow,{display:"columnCompressed",label:p.i18n.translate("xpack.lens.shared.legendLocationLabel",{defaultMessage:"Location"})},Object(c.jsx)(o.EuiButtonGroup,{isFullWidth:!0,legend:p.i18n.translate("xpack.lens.shared.legendLocationLabel",{defaultMessage:"Location"}),"data-test-subj":"lens-legend-location-btn",name:"legendLocation",buttonSize:"compressed",options:f,isDisabled:d,idSelected:f.find((({value:t})=>t===e)).id,onChange:e=>{const a=f.find((({id:t})=>t===e)).value;t(a)}})),Object(c.jsx)(o.EuiFormRow,{display:"columnCompressed",label:p.i18n.translate("xpack.lens.shared.legendInsideAlignmentLabel",{defaultMessage:"Alignment"})},Object(c.jsx)(r.a.Fragment,null,(!e||"outside"===e)&&Object(c.jsx)(o.EuiButtonGroup,{legend:p.i18n.translate("xpack.lens.shared.legendAlignmentLabel",{defaultMessage:"Alignment"}),isDisabled:d,"data-test-subj":"lens-legend-position-btn",name:"legendPosition",buttonSize:"compressed",options:m,idSelected:a||g.Position.Right,onChange:n,isIconOnly:!0}),"inside"===e&&Object(c.jsx)(o.EuiButtonGroup,{legend:p.i18n.translate("xpack.lens.shared.legendInsideLocationAlignmentLabel",{defaultMessage:"Alignment"}),type:"single","data-test-subj":"lens-legend-inside-alignment-btn",name:"legendInsideAlignment",buttonSize:"compressed",isDisabled:d,options:x,idSelected:x.find((({value:e})=>e===u)).id,onChange:e=>{const t=x.find((({id:t})=>t===e)).value;l(t)},isIconOnly:!0}))))},v=({floatingColumns:e,onFloatingColumnsChange:t=(()=>{}),isLegendOutside:a})=>{const{inputValue:n,handleInputChange:r}=Object(b.a)({value:null!=e?e:1,onChange:t});return a?null:Object(c.jsx)(o.EuiFormRow,{label:p.i18n.translate("xpack.lens.shared.legendInsideColumnsLabel",{defaultMessage:"Number of columns"}),fullWidth:!0,display:"columnCompressed"},Object(c.jsx)(o.EuiFieldNumber,{"data-test-subj":"lens-legend-location-columns-input",value:n,min:1,max:5,compressed:!0,onChange:e=>{r(Number(e.target.value))},step:1}))};var y=a(5);const j=[{value:y.LegendSize.SMALL,inputDisplay:p.i18n.translate("xpack.lens.shared.legendSizeSetting.legendSizeOptions.small",{defaultMessage:"Small"})},{value:y.LegendSize.MEDIUM,inputDisplay:p.i18n.translate("xpack.lens.shared.legendSizeSetting.legendSizeOptions.medium",{defaultMessage:"Medium"})},{value:y.LegendSize.LARGE,inputDisplay:p.i18n.translate("xpack.lens.shared.legendSizeSetting.legendSizeOptions.large",{defaultMessage:"Large"})},{value:y.LegendSize.EXTRA_LARGE,inputDisplay:p.i18n.translate("xpack.lens.shared.legendSizeSetting.legendSizeOptions.extraLarge",{defaultMessage:"Extra large"})}],_=({legendSize:e,onLegendSizeChange:t,isVerticalLegend:a,showAutoOption:r})=>{Object(n.useEffect)((()=>{e&&!a&&t(void 0)}),[a,e,t]);const i=Object(n.useCallback)((e=>t(e===y.DEFAULT_LEGEND_SIZE?void 0:e)),[t]);if(!a)return null;const s=r?[{value:y.LegendSize.AUTO,inputDisplay:p.i18n.translate("xpack.lens.shared.legendSizeSetting.legendSizeOptions.auto",{defaultMessage:"Auto"})},...j]:j;return Object(c.jsx)(o.EuiFormRow,{display:"columnCompressed",label:p.i18n.translate("xpack.lens.shared.legendSizeSetting.label",{defaultMessage:"Legend width"}),fullWidth:!0},Object(c.jsx)(o.EuiSuperSelect,{compressed:!0,valueOfSelected:null!=e?e:y.DEFAULT_LEGEND_SIZE,options:s,onChange:i}))},D=({value:e,setValue:t})=>{const{inputValue:a,handleInputChange:n}=Object(b.a)({value:e,onChange:t});return Object(c.jsx)(o.EuiFieldNumber,{"data-test-subj":"lens-legend-max-lines-input",value:a,min:1,max:5,step:1,compressed:!0,onChange:e=>{const t=Number(e.target.value);n(Math.min(5,Math.max(t,1)))}})},O=()=>{},w=({legendOptions:e,mode:t,onDisplayChange:a,position:n,location:i,onLocationChange:s=O,verticalAlignment:l,horizontalAlignment:d,floatingColumns:b,onAlignmentChange:m=O,onFloatingColumnsChange:f=O,onPositionChange:x,renderNestedLegendSwitch:y,nestedLegend:j,onNestedLegendChange:w=O,valueInLegend:L,onValueInLegendChange:S=O,renderValueInLegendSwitch:I,groupPosition:k="right",maxLines:P,onMaxLinesChange:C=O,shouldTruncate:T,onTruncateLegendChange:z=O,legendSize:E,onLegendSizeChange:M,showAutoLegendSizeOption:F})=>Object(c.jsx)(u,{title:p.i18n.translate("xpack.lens.shared.legendLabel",{defaultMessage:"Legend"}),type:"legend",groupPosition:k,buttonDataTestSubj:"lnsLegendButton"},Object(c.jsx)(o.EuiFormRow,{display:"columnCompressed",label:p.i18n.translate("xpack.lens.shared.legendVisibilityLabel",{defaultMessage:"Display"})},Object(c.jsx)(o.EuiButtonGroup,{isFullWidth:!0,legend:p.i18n.translate("xpack.lens.shared.legendVisibilityLabel",{defaultMessage:"Display"}),"data-test-subj":"lens-legend-display-btn",name:"legendDisplay",buttonSize:"compressed",options:e,idSelected:e.find((({value:e})=>e===t)).id,onChange:a})),"hide"!==t&&Object(c.jsx)(r.a.Fragment,null,Object(c.jsx)(h,{location:i,onLocationChange:s,verticalAlignment:l,horizontalAlignment:d,onAlignmentChange:m,position:n,onPositionChange:x}),"inside"!==i&&Object(c.jsx)(_,{legendSize:E,onLegendSizeChange:M,isVerticalLegend:!n||n===g.Position.Left||n===g.Position.Right,showAutoOption:F}),i&&Object(c.jsx)(v,{floatingColumns:b,onFloatingColumnsChange:f,isLegendOutside:"outside"===i}),Object(c.jsx)(o.EuiFormRow,{display:"columnCompressedSwitch",label:p.i18n.translate("xpack.lens.shared.truncateLegend",{defaultMessage:"Truncate text"})},Object(c.jsx)(o.EuiSwitch,{compressed:!0,label:p.i18n.translate("xpack.lens.shared.truncateLegend",{defaultMessage:"Truncate text"}),"data-test-subj":"lens-legend-truncate-switch",showLabel:!1,checked:null==T||T,onChange:z})),T&&Object(c.jsx)(o.EuiFormRow,{label:p.i18n.translate("xpack.lens.shared.maxLinesLabel",{defaultMessage:"Maximum lines"}),fullWidth:!0,display:"columnCompressed"},Object(c.jsx)(D,{value:null!=P?P:1,setValue:C})),y&&Object(c.jsx)(o.EuiFormRow,{display:"columnCompressedSwitch",label:p.i18n.translate("xpack.lens.shared.nestedLegendLabel",{defaultMessage:"Nested"})},Object(c.jsx)(o.EuiSwitch,{compressed:!0,label:p.i18n.translate("xpack.lens.pieChart.nestedLegendLabel",{defaultMessage:"Nested"}),"data-test-subj":"lens-legend-nested-switch",showLabel:!1,checked:Boolean(j),onChange:w})),I&&Object(c.jsx)(o.EuiFormRow,{display:"columnCompressedSwitch",label:p.i18n.translate("xpack.lens.shared.valueInLegendLabel",{defaultMessage:"Show value"})},Object(c.jsx)(o.EuiSwitch,{compressed:!0,label:p.i18n.translate("xpack.lens.shared.valueInLegendLabel",{defaultMessage:"Show value"}),"data-test-subj":"lens-legend-show-value",showLabel:!1,checked:!!L,onChange:S}))));function L({palettes:e,activePalette:t,setPalette:a}){const n=e.getAll().filter((({internal:e})=>!e)).map((({id:e,title:a,getCategoricalColors:n})=>({value:e,title:a,type:"fixed",palette:n(10,e===(null==t?void 0:t.name)?null==t?void 0:t.params:void 0)})));return Object(c.jsx)(o.EuiFormRow,{fullWidth:!0,label:p.i18n.translate("xpack.lens.palettePicker.label",{defaultMessage:"Palette"})},Object(c.jsx)(o.EuiColorPalettePicker,{fullWidth:!0,"data-test-subj":"lns-palettePicker",palettes:n,onChange:e=>{a({type:"palette",name:e})},valueOfSelected:(null==t?void 0:t.name)||"default",selectionDisplay:"palette"}))}var S=a(142);function I(e,t,a){const n=t.getFieldByName(e);return"document"===(null==n?void 0:n.type)||a(t.id,e)}function k({isInvalid:e,label:t,helpText:a,error:n,lowerValue:r,onLowerValueChange:i,onLowerValueBlur:s,upperValue:l,onUpperValueChange:d,onUpperValueBlur:u,testSubjLayout:p,testSubjLower:g,testSubjUpper:b}){return Object(c.jsx)(o.EuiFormRow,{display:"columnCompressed",fullWidth:!0,isInvalid:e,label:t,helpText:a,error:n},Object(c.jsx)(o.EuiFormControlLayoutDelimited,{"data-test-subj":p,compressed:!0,startControl:Object(c.jsx)(o.EuiFieldNumber,{compressed:!0,value:r,isInvalid:e,"data-test-subj":g,onChange:i,onBlur:s,step:"any",controlOnly:!0}),endControl:Object(c.jsx)(o.EuiFieldNumber,{compressed:!0,value:l,"data-test-subj":b,onChange:d,onBlur:u,step:"any",controlOnly:!0})}))}function P(e){return e&&null!=e.lowerBound&&null!=e.upperBound&&e.lowerBound<=0&&e.upperBound>=0}function C(e){return e&&null!=e.lowerBound&&null!=e.upperBound&&e.upperBound>e.lowerBound}function T(e,t){if(!t)return!1;const a=null==e?void 0:e.getOperationForColumnId(t);return Boolean(a&&"number"===a.dataType&&"interval"===a.scale)}function z(e,t,a){const n=null==t?void 0:t[e];if(a&&n){const e=n.rows.map((({[a]:e})=>e)).filter((e=>null!=e)).sort(((e,t)=>e-t));if(e.length)return{min:e[0],max:e[e.length-1]}}}const E=Object(o.htmlIdGenerator)()();function M({type:e,canHaveNiceValues:t,disableCustomRange:a,...n}){var r,i;const{extent:s,shouldIncludeZero:d,setExtent:u,dataBounds:g,testSubjPrefix:b}=n,{inclusiveZeroError:m,boundaryError:f}=function(e,t){return{inclusiveZeroError:e&&!P(t),boundaryError:!C(t)}}(d,s),x="metric"===e?"full":"dataBounds",h=t&&s.mode===x,v="custom"===(null==s?void 0:s.mode)&&("bucket"===e||!a),y="metric"===e?F:A;return Object(c.jsx)(y,l()({},n,{disableCustomRange:a}),h?Object(c.jsx)(o.EuiFormRow,{label:p.i18n.translate("xpack.lens.fullExtent.niceValues",{defaultMessage:"Round to nice values"}),display:"columnCompressedSwitch",fullWidth:!0},Object(c.jsx)(o.EuiSwitch,{showLabel:!1,label:p.i18n.translate("xpack.lens.fullExtent.niceValues",{defaultMessage:"Round to nice values"}),"data-test-subj":`${b}_axisExtent_niceValues`,checked:Boolean(null==s.niceValues||s.niceValues),onChange:()=>{u({...s,mode:x,niceValues:!Boolean(null==s.niceValues||s.niceValues)})},compressed:!0})):null,v?Object(c.jsx)(k,{isInvalid:m||f,label:" ",helpText:!d||m&&!f?void 0:p.i18n.translate("xpack.lens.axisExtent.inclusiveZero",{defaultMessage:"Bounds must include zero."}),error:f?p.i18n.translate("xpack.lens.axisExtent.boundaryError",{defaultMessage:"Lower bound has to be larger than upper bound"}):d&&m?p.i18n.translate("xpack.lens.axisExtent.inclusiveZero",{defaultMessage:"Bounds must include zero."}):void 0,testSubjLayout:`${b}_axisExtent_customBounds`,testSubjLower:`${b}_axisExtent_lowerBound`,testSubjUpper:`${b}_axisExtent_upperBound`,lowerValue:null!==(r=s.lowerBound)&&void 0!==r?r:"",onLowerValueChange:e=>{const t=Number(e.target.value),a=""===e.target.value||Number.isNaN(Number(t));u({...s,lowerBound:a?void 0:t})},onLowerValueBlur:()=>{void 0===s.lowerBound&&g&&u({...s,lowerBound:Math.min(0,g.min)})},upperValue:null!==(i=s.upperBound)&&void 0!==i?i:"",onUpperValueChange:e=>{const t=Number(e.target.value),a=""===e.target.value||Number.isNaN(Number(t));u({...s,upperBound:a?void 0:t})},onUpperValueBlur:()=>{void 0===s.upperBound&&g&&u({...s,upperBound:g.max})}}):null)}function F({extent:e,setExtent:t,dataBounds:a,shouldIncludeZero:n,disableCustomRange:i,testSubjPrefix:s,children:l}){return Object(c.jsx)(r.a.Fragment,null,Object(c.jsx)(o.EuiFormRow,{display:"columnCompressed",fullWidth:!0,label:p.i18n.translate("xpack.lens.axisExtent.label",{defaultMessage:"Bounds"}),helpText:n?p.i18n.translate("xpack.lens.axisExtent.disabledDataBoundsMessage",{defaultMessage:"Only line charts can be fit to the data bounds"}):void 0},Object(c.jsx)(o.EuiButtonGroup,{isFullWidth:!0,legend:p.i18n.translate("xpack.lens.axisExtent.label",{defaultMessage:"Bounds"}),"data-test-subj":`${s}_axisBounds_groups`,name:"axisBounds",buttonSize:"compressed",options:[{id:`${E}full`,label:p.i18n.translate("xpack.lens.axisExtent.full",{defaultMessage:"Full"}),"data-test-subj":`${s}_axisExtent_groups_full'`},{id:`${E}dataBounds`,label:p.i18n.translate("xpack.lens.axisExtent.axisExtent.dataBounds",{defaultMessage:"Data"}),"data-test-subj":`${s}_axisExtent_groups_DataBounds'`,isDisabled:n},{id:`${E}custom`,label:p.i18n.translate("xpack.lens.axisExtent.axisExtent.custom",{defaultMessage:"Custom"}),"data-test-subj":`${s}_axisExtent_groups_custom'`,isDisabled:i}],idSelected:`${E}${n&&"dataBounds"===e.mode||i?"full":e.mode}`,onChange:n=>{const r=n.replace(E,"");t({...e,mode:r,lowerBound:"custom"===r&&a?Math.min(0,a.min):void 0,upperBound:"custom"===r&&a?a.max:void 0})}})),l)}function A({extent:e,setExtent:t,dataBounds:a,testSubjPrefix:n,children:i}){var s;return Object(c.jsx)(r.a.Fragment,null,Object(c.jsx)(o.EuiFormRow,{display:"columnCompressed",fullWidth:!0,label:p.i18n.translate("xpack.lens.axisExtent.label",{defaultMessage:"Bounds"})},Object(c.jsx)(o.EuiButtonGroup,{isFullWidth:!0,legend:p.i18n.translate("xpack.lens.axisExtent.label",{defaultMessage:"Bounds"}),"data-test-subj":`${n}_axisBounds_groups`,name:"axisBounds",buttonSize:"compressed",options:[{id:`${E}dataBounds`,label:p.i18n.translate("xpack.lens.axisExtent.dataBounds",{defaultMessage:"Data"}),"data-test-subj":`${n}_axisExtent_groups_DataBounds'`},{id:`${E}custom`,label:p.i18n.translate("xpack.lens.axisExtent.custom",{defaultMessage:"Custom"}),"data-test-subj":`${n}_axisExtent_groups_custom'`}],idSelected:`${E}${null!==(s=e.mode)&&void 0!==s?s:"dataBounds"}`,onChange:n=>{const r=n.replace(E,"");t({...e,mode:r,lowerBound:"custom"===r&&a?a.min:void 0,upperBound:"custom"===r&&a?a.max:void 0})}})),i)}const N={xy:"axisExtentConfig"},W=(e,t="xy")=>({type:"expression",chain:[{type:"function",function:N[t],arguments:{mode:null!=e&&e.mode?[e.mode]:[],lowerBound:null!=(null==e?void 0:e.lowerBound)?[e.lowerBound]:[],upperBound:null!=(null==e?void 0:e.upperBound)?[e.upperBound]:[],niceValues:null!=(null==e?void 0:e.niceValues)?[e.niceValues]:[!0]}}]});function B({isOpen:e,handleClose:t,siblingRef:a,children:r,title:i,isInlineEditing:s}){const[l,d]=Object(n.useState)(!1),u=()=>{t(),d(!1)};return Object(n.useEffect)((()=>{e&&!s&&setTimeout((()=>{d(!0)}),255)}),[s,e]),e&&a.current?Object(c.jsx)(o.EuiPortal,{insert:{sibling:a.current,position:"after"}},Object(c.jsx)(o.EuiFocusTrap,{disabled:!l,clickOutsideDisables:!0},Object(c.jsx)(o.EuiOutsideClickDetector,{onOutsideClick:u,isDisabled:!e},Object(c.jsx)("div",{role:"dialog","aria-labelledby":"lnsPalettePanelContainerTitle","data-test-subj":"lns-indexPattern-PalettePanelContainer",className:"lnsPalettePanelContainer"},Object(c.jsx)(o.EuiFlyoutHeader,{hasBorder:!0,className:"lnsPalettePanelContainer__header"},Object(c.jsx)(o.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},Object(c.jsx)(o.EuiFlexItem,{grow:!1},Object(c.jsx)(o.EuiButtonIcon,{color:"text","data-test-subj":"lns-indexPattern-PalettePanelContainerBack",className:"lnsPalettePanelContainer__backIcon",onClick:u,iconType:"sortLeft","aria-label":p.i18n.translate("xpack.lens.table.palettePanelContainer.back",{defaultMessage:"Back"})})),Object(c.jsx)(o.EuiFlexItem,null,Object(c.jsx)(o.EuiTitle,{size:"xs"},Object(c.jsx)("h3",{id:"lnsPalettePanelContainerTitle",className:"lnsPalettePanelContainer__headerTitle"},i))))),r&&Object(c.jsx)("div",{className:"lnsPalettePanelContainer__content"},r),Object(c.jsx)(o.EuiFlyoutFooter,{className:"lnsPalettePanelContainer__footer"},Object(c.jsx)(o.EuiButtonEmpty,{flush:"left",size:"s",iconType:"sortLeft",onClick:u},p.i18n.translate("xpack.lens.table.palettePanelContainer.back",{defaultMessage:"Back"}))))))):null}a(210);var R=a(120),V=a(215);const G={name:V.f,reverse:!1,rangeType:V.g,rangeMin:V.e,rangeMax:V.d,progression:V.h,stops:[],steps:V.b,colorStops:[],continuity:V.c};var H=a(107),$=a.n(H);const U=(e,{skipFirstRender:t}={skipFirstRender:!1},a,r)=>{const o=Object(n.useRef)(!0),i=[...r||[],o];return $()((()=>{if(!t||!o.current)return e();o.current=!1}),a,i)},q=[{id:"value_labels_hide",value:"hide",label:p.i18n.translate("xpack.lens.shared.valueLabelsVisibility.auto",{defaultMessage:"Hide"}),"data-test-subj":"lns_valueLabels_hide"},{id:"value_labels_inside",value:"show",label:p.i18n.translate("xpack.lens.shared.valueLabelsVisibility.inside",{defaultMessage:"Show"}),"data-test-subj":"lns_valueLabels_inside"}],Y=({isVisible:e=!0,valueLabels:t="hide",onValueLabelChange:a})=>{var n;if(!e)return null;const r=p.i18n.translate("xpack.lens.shared.chartValueLabelVisibilityLabel",{defaultMessage:"Labels"}),i=(null===(n=q.find((({value:e})=>e===t)))||void 0===n?void 0:n.id)||"value_labels_hide";return Object(c.jsx)(o.EuiFormRow,{display:"columnCompressed",label:Object(c.jsx)("span",null,r," ",Object(c.jsx)(o.EuiIconTip,{color:"subdued",content:p.i18n.translate("xpack.lens.shared.chartValueLabelVisibilityTooltip",{defaultMessage:"If there is not enough space, value labels might be hidden"}),iconProps:{className:"eui-alignTop"},position:"top",size:"s",type:"questionInCircle"}))},Object(c.jsx)(o.EuiButtonGroup,{isFullWidth:!0,legend:r,"data-test-subj":"lens-value-labels-visibility-btn",name:"valueLabelsDisplay",buttonSize:"compressed",options:q,idSelected:i,onChange:e=>{const t=q.find((({id:t})=>t===e));t&&a(t.value)}}))},K=({axis:e,axisTitle:t,updateTitleState:a,isAxisTitleVisible:i})=>{const s=Object(n.useMemo)((()=>({title:t,visibility:!t&&i?"auto":i?"custom":"none"})),[t,i]),l=Object(n.useCallback)((({title:t,visibility:n})=>a({title:t,visible:"none"!==n},e)),[e,a]),{inputValue:d,handleInputChange:u}=Object(b.a)({value:s,onChange:l},{allowFalsyValue:!0});return Object(c.jsx)(r.a.Fragment,null,Object(c.jsx)(o.EuiFormRow,{display:"columnCompressed",label:p.i18n.translate("xpack.lens.label.shared.axisHeader",{defaultMessage:"Axis title"}),fullWidth:!0},Object(c.jsx)(oe,{header:p.i18n.translate("xpack.lens.shared.axisNameLabel",{defaultMessage:"Axis title"}),dataTestSubj:`lns${e}AxisTitle`,label:d.title,mode:d.visibility,placeholder:p.i18n.translate("xpack.lens.shared.overwriteAxisTitle",{defaultMessage:"Overwrite axis title"}),hasAutoOption:!0,handleChange:({mode:e,label:t})=>{u({title:t,visibility:e})}})),Object(c.jsx)(o.EuiSpacer,{size:"s"}))},X=({axis:e,isAxisLabelVisible:t,updateTicksVisibilityState:a})=>{const i=Object(n.useCallback)((t=>a(t,e)),[e,a]);return Object(c.jsx)(r.a.Fragment,null,Object(c.jsx)(o.EuiFormRow,{display:"columnCompressedSwitch",label:p.i18n.translate("xpack.lens.shared.tickLabels",{defaultMessage:"Tick labels"}),fullWidth:!0},Object(c.jsx)(o.EuiSwitch,{compressed:!0,"data-test-subj":`lnsshow${e}AxisTickLabels`,label:p.i18n.translate("xpack.lens.shared.tickLabels",{defaultMessage:"Tick labels"}),onChange:()=>i(!t),checked:t,showLabel:!1})))};var J={name:"2rtvke",styles:"flex-direction:row;align-items:center"};const Z=({label:e,icon:t,indicator:a})=>Object(c.jsx)(o.EuiFlexGroup,{gutterSize:"s",alignItems:"center",responsive:!1,className:"lnsLayerPanel__settingsStaticHeader"},t&&Object(c.jsx)(o.EuiFlexItem,{grow:!1},Object(c.jsx)(o.EuiIcon,{type:t})," "),Object(c.jsx)(o.EuiFlexItem,{grow:!0,css:J},Object(c.jsx)(o.EuiTitle,{size:"xxs"},Object(c.jsx)("h5",null,e)),a)),Q=p.i18n.translate("xpack.lens.label.header",{defaultMessage:"Label"}),ee={id:"lns_title_none",value:"none",text:p.i18n.translate("xpack.lens.chart.labelVisibility.none",{defaultMessage:"None"})},te={id:"lns_title_custom",value:"custom",text:p.i18n.translate("xpack.lens.chart.labelVisibility.custom",{defaultMessage:"Custom"})},ae={id:"lns_title_auto",value:"auto",text:p.i18n.translate("xpack.lens.chart.labelVisibility.auto",{defaultMessage:"Auto"})},ne=[ee,te],re=[ee,ae,te];function oe({label:e,mode:t,handleChange:a,hasAutoOption:n=!1,placeholder:r="",header:i=Q,dataTestSubj:s}){return Object(c.jsx)(o.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},Object(c.jsx)(o.EuiFlexItem,{grow:!1},Object(c.jsx)(o.EuiSelect,{fullWidth:!0,compressed:!0,"data-test-subj":`${s}-select`,"aria-label":"Label",onChange:({target:t})=>{const n="custom"===t.value?"":"auto"===t.value?void 0:e;a({label:n,mode:t.value})},options:n?re:ne,value:t})),Object(c.jsx)(o.EuiFlexItem,null,Object(c.jsx)(o.EuiFieldText,{"data-test-subj":s,compressed:!0,placeholder:"none"===t?"":r,value:e||"",disabled:"none"===t,onChange:({target:e})=>a({mode:"custom",label:e.value}),"aria-label":i})))}},,,,function(e,t,a){"use strict";a.d(t,"F",(function(){return j.p})),a.d(t,"D",(function(){return j.n})),a.d(t,"I",(function(){return j.s})),a.d(t,"G",(function(){return j.q})),a.d(t,"t",(function(){return j.c})),a.d(t,"u",(function(){return j.d})),a.d(t,"y",(function(){return j.i})),a.d(t,"J",(function(){return j.t})),a.d(t,"r",(function(){return j.a})),a.d(t,"C",(function(){return j.m})),a.d(t,"H",(function(){return j.r})),a.d(t,"z",(function(){return j.j})),a.d(t,"A",(function(){return j.k})),a.d(t,"E",(function(){return j.o})),a.d(t,"w",(function(){return j.f})),a.d(t,"v",(function(){return j.e})),a.d(t,"s",(function(){return j.b})),a.d(t,"x",(function(){return j.h})),a.d(t,"B",(function(){return j.l})),a.d(t,"j",(function(){return _})),a.d(t,"g",(function(){return D})),a.d(t,"h",(function(){return O})),a.d(t,"l",(function(){return w})),a.d(t,"K",(function(){return L})),a.d(t,"N",(function(){return S})),a.d(t,"f",(function(){return I})),a.d(t,"d",(function(){return k})),a.d(t,"b",(function(){return P})),a.d(t,"M",(function(){return C})),a.d(t,"m",(function(){return T})),a.d(t,"S",(function(){return z})),a.d(t,"U",(function(){return E})),a.d(t,"i",(function(){return M})),a.d(t,"R",(function(){return F})),a.d(t,"q",(function(){return A})),a.d(t,"P",(function(){return N})),a.d(t,"Q",(function(){return B})),a.d(t,"T",(function(){return R})),a.d(t,"O",(function(){return V})),a.d(t,"e",(function(){return G})),a.d(t,"o",(function(){return H})),a.d(t,"p",(function(){return $})),a.d(t,"c",(function(){return U})),a.d(t,"a",(function(){return q})),a.d(t,"L",(function(){return K})),a.d(t,"n",(function(){return Z})),a.d(t,"k",(function(){return ee})),a.d(t,"V",(function(){return te})),a.d(t,"W",(function(){return ae}));var n=a(39),r=(a(283),a(34)),o=a(79),i=a(12),s=a(158),l=a(103),c=a(105);const d=e=>t=>a=>n=>{if(_.match(n))return Object(s.b)(t,e,n.payload,"true"===Object(l.b)(new i.Storage(localStorage),c.a));a(n)};var u=a(27),p=a(14),g=a.n(p),b=a(70),m=a(47),f=a(9);const x=e=>t=>{let a;return n=>r=>{var i;if(null!==(i=r.payload)&&void 0!==i&&i.searchSessionId||o.f.match(r)||!Object(j.c)(t.getState())&&!P.match(r)||!function(e,t){var a,n;const{activeDatasourceId:r,datasourceStates:o,dataViews:i}=e.lens;return Boolean(r&&o[r]&&(null===(a=(n=t[r]).isTimeBased)||void 0===a?void 0:a.call(n,o[r].state,i.indexPatterns)))}(t.getState(),e.datasourceMap)||function(e,t){const a=e.query.timefilter.timefilter,n=a.getTime();if(!Object(b.containsDynamicMath)(n.from)&&!Object(b.containsDynamicMath)(n.to))return;const{min:r,max:o}=a.getBounds();if(!r||!o)return;const i=g.a.duration(o.diff(r)).asMilliseconds();Date.now()-e.nowProvider.get().valueOf()>Math.max(i*h,v)&&t(L({searchSessionId:e.search.session.start(),resolvedDateRange:Object(b.getResolvedDateRange)(a)}))}(e.lensServices.data,t.dispatch),w.match(r)&&a)return a();n(r),t.getState().lens.isLoading||a||(a=function(e,t,a){const{query:n,search:r}=e,{filterManager:o}=n,i=Object(u.debounce)(((e=r.session.start())=>{const i=o.getFilters(),s=Object(u.isEqual)(t().lens.filters,i)?null:{filters:i};a(L({searchSessionId:e,...s,resolvedDateRange:Object(b.getResolvedDateRange)(n.timefilter.timefilter)}))}),100),s=r.session.getSession$().pipe(Object(m.delay)(0)).subscribe((e=>{e&&t().lens.searchSessionId!==e&&i(e)})),l=o.getUpdates$().subscribe({next:()=>{i()}}),c=e.query.timefilter.timefilter.getTimeUpdate$().subscribe({next:()=>{i()}}),d=e.query.timefilter.timefilter.getAutoRefreshFetch$().pipe(Object(m.tap)((()=>{i()})),Object(m.switchMap)((e=>Object(f.waitUntilNextSessionCompletes$)(r.session).pipe(Object(m.finalize)(e))))).subscribe();return()=>{l.unsubscribe(),c.unsubscribe(),d.unsubscribe(),s.unsubscribe()}}(e.lensServices.data,t.getState,t.dispatch))}},h=.02,v=1e4,y=e=>t=>a=>n=>{if(o.k.match(n)){const a=t.getState().lens.isFullscreenDatasource;e.lensServices.chrome.setIsVisible(Boolean(a))}a(n)};var j=a(127);const{loadInitial:_,initEmpty:D,initExisting:O,navigateAway:w,setExecutionContext:L,setState:S,enableAutoApply:I,disableAutoApply:k,applyChanges:P,setSaveable:C,onActiveDataChange:T,updateDatasourceState:z,updateVisualizationState:E,insertLayer:M,switchVisualization:F,rollbackSuggestion:A,submitSuggestion:N,switchDatasource:W,switchAndCleanDatasource:B,updateIndexPatterns:R,setToggleFullscreen:V,editVisualizationAction:G,removeLayers:H,removeOrClearLayer:$,cloneLayer:U,addLayer:q,onDropToDimension:Y,setLayerDefaultDimension:K,removeDimension:X,setIsLoadLibraryVisible:J,registerLibraryAnnotationGroup:Z,changeIndexPattern:Q}=o.d,ee=(e,t,a)=>{const r=[...Object(n.getDefaultMiddleware)({serializableCheck:{ignoredActionPaths:["payload.activeData","payload.dataViews.indexPatterns","payload.redirectCallback","payload.history","payload.newState.dataViews","payload.source.filterOperations","payload.target.filterOperations"],ignoredPaths:["lens.dataViews.indexPatterns","lens.activeData"]}}),d(e),x(e),y(e),e=>t=>a=>{if(T.match(a)){if(Object(u.isEqual)(e.getState().lens.activeData,a.payload.activeData))return}else if(z.match(a)){const{datasourceId:t,newDatasourceState:n}=a.payload,{datasourceStates:r}=e.getState().lens;if(Object(u.isEqual)(r[t].state,n))return}else if(L.match(a)){const t=Object.keys(a.payload),n=e.getState().lens,r=t.reduce(((e,t)=>({...e,[t]:n[t]})),{});if(Object(u.isEqual)(a.payload,r))return}t(a)}];return a&&r.push(a),Object(n.configureStore)({reducer:{lens:Object(o.e)(e)},middleware:r,preloadedState:null!=t?t:{lens:Object(o.c)(e)}})},te=()=>Object(r.useDispatch)(),ae=r.useSelector},function(e,t,a){"use strict";var n=a(123);a.d(t,"a",(function(){return n.a}))},,,function(e,t,a){"use strict";a.d(t,"c",(function(){return p})),a.d(t,"f",(function(){return f})),a.d(t,"b",(function(){return v})),a.d(t,"j",(function(){return j})),a.d(t,"k",(function(){return S})),a.d(t,"g",(function(){return B})),a.d(t,"i",(function(){return G})),a.d(t,"a",(function(){return H})),a.d(t,"h",(function(){return $})),a.d(t,"d",(function(){return q})),a.d(t,"e",(function(){return Y}));var n=a(39),r=a(27),o=a(31),i=a(70),s=a(76),l=a(94),c=a(127),d=a(157);const u={persistedDoc:void 0,searchSessionId:"",filters:[],query:{language:"kuery",query:""},resolvedDateRange:{fromDate:"",toDate:""},isFullscreenDatasource:!1,isSaveable:!1,isLoading:!1,isLinkedToOriginatingApp:!1,activeDatasourceId:null,datasourceStates:{},visualization:{state:null,activeId:null},dataViews:{indexPatternRefs:[],indexPatterns:{}},annotationGroups:{}},p=({lensServices:{data:e},initialContext:t,initialStateFromLocator:a,embeddableEditorIncomingState:n,datasourceMap:r,visualizationMap:o})=>{const s=Object(i.getInitialDatasourceId)(r),l={};if(s&&Object.keys(r).forEach((e=>{l[e]={state:null,isLoading:!0}})),a)return"datasourceStates"in a&&Object.keys(r).forEach((e=>{l[e].state=a.datasourceStates[e]})),{...u,isLoading:!0,...a,activeDatasourceId:"activeDatasourceId"in a&&a.activeDatasourceId||s,datasourceStates:l};const c=t?((e,t)=>"searchQuery"in e&&e.searchQuery?e.searchQuery:"query"in e&&e.query?e.query:t.query.queryString.getQuery())(t,e):e.query.queryString.getDefaultQuery();return{...u,isLoading:!0,query:c,filters:t?"searchFilters"in t&&t.searchFilters?t.searchFilters:e.query.filterManager.getFilters():e.query.filterManager.getGlobalFilters(),searchSessionId:e.search.session.getSessionId()||"",resolvedDateRange:Object(i.getResolvedDateRange)(e.query.timefilter.timefilter),isLinkedToOriginatingApp:Boolean((null==n?void 0:n.originatingApp)||t&&"isEmbeddable"in t&&(null==t?void 0:t.isEmbeddable)),activeDatasourceId:s,datasourceStates:l,visualization:{state:null,activeId:Object.keys(o)[0]||null}}},g=Object(n.createAction)("lens/setState"),b=Object(n.createAction)("lens/setExecutionContext"),m=Object(n.createAction)("lens/initExisting"),f=Object(n.createAction)("lens/onActiveDataChange"),x=Object(n.createAction)("lens/setSaveable"),h=Object(n.createAction)("lens/enableAutoApply"),v=Object(n.createAction)("lens/disableAutoApply"),y=Object(n.createAction)("lens/applyChanges"),j=Object(n.createAction)("lens/setChangesApplied"),_=Object(n.createAction)("lens/updateDatasourceState"),D=Object(n.createAction)("lens/updateVisualizationState"),O=Object(n.createAction)("lens/insertLayer"),w=Object(n.createAction)("lens/switchVisualization"),L=Object(n.createAction)("lens/rollbackSuggestion"),S=Object(n.createAction)("lens/setToggleFullscreen"),I=Object(n.createAction)("lens/setIsLoadLibraryVisible"),k=Object(n.createAction)("lens/submitSuggestion"),P=Object(n.createAction)("lens/switchDatasource"),C=Object(n.createAction)("lens/switchAndCleanDatasource"),T=Object(n.createAction)("lens/navigateAway"),z=Object(n.createAction)("lens/loadInitial"),E=Object(n.createAction)("initEmpty",(function({newState:e,initialContext:t}){return{payload:{layerId:Object(s.a)(),newState:e,initialContext:t}}})),M=Object(n.createAction)("lens/editVisualizationAction"),F=Object(n.createAction)("lens/removeLayers"),A=Object(n.createAction)("lens/removeOrClearLayer"),N=Object(n.createAction)("cloneLayer",(function({layerId:e}){return{payload:{newLayerId:Object(s.a)(),layerId:e}}})),W=Object(n.createAction)("lens/addLayer"),B=Object(n.createAction)("lens/onDropToDimension"),R=Object(n.createAction)("lens/setLayerDefaultDimension"),V=Object(n.createAction)("lens/updateIndexPatterns"),G=Object(n.createAction)("lens/replaceIndexPattern"),H=Object(n.createAction)("lens/changeIndexPattern"),$=Object(n.createAction)("lens/removeDimension"),U=Object(n.createAction)("lens/registerLibraryAnnotationGroup"),q={initExisting:m,setState:g,setExecutionContext:b,onActiveDataChange:f,setSaveable:x,enableAutoApply:h,disableAutoApply:v,applyChanges:y,setChangesApplied:j,updateDatasourceState:_,updateVisualizationState:D,insertLayer:O,switchVisualization:w,rollbackSuggestion:L,setToggleFullscreen:S,setIsLoadLibraryVisible:I,submitSuggestion:k,switchDatasource:P,switchAndCleanDatasource:C,navigateAway:T,loadInitial:z,initEmpty:E,editVisualizationAction:M,removeLayers:F,removeOrClearLayer:A,addLayer:W,onDropToDimension:B,cloneLayer:N,setLayerDefaultDimension:R,updateIndexPatterns:V,replaceIndexpattern:G,changeIndexPattern:H,removeDimension:$,syncLinkedDimensions:X,registerLibraryAnnotationGroup:U},Y=e=>{const{datasourceMap:t,visualizationMap:a}=e;return Object(n.createReducer)(u,{[g.type]:(e,{payload:t})=>({...e,...t}),[b.type]:(e,{payload:t})=>({...e,...t}),[m.type]:(e,{payload:t})=>({...e,...t}),[f.type]:(e,{payload:{activeData:t}})=>({...e,activeData:t}),[x.type]:(e,{payload:t})=>({...e,isSaveable:t}),[h.type]:e=>{e.autoApplyDisabled=!1},[v.type]:e=>{e.autoApplyDisabled=!0,e.changesApplied=!0},[y.type]:e=>{void 0===e.applyChangesCounter&&(e.applyChangesCounter=0),e.applyChangesCounter++},[j.type]:(e,{payload:t})=>{e.changesApplied=t},[N.type]:(e,{payload:{layerId:n,newLayerId:o}})=>{const i=new Map,l=e=>{const t=i.get(e);if(!t){const t=Object(s.a)();return i.set(e,t),t}return t};if(!e.activeDatasourceId||!e.visualization.activeId)return e;e.datasourceStates=Object(r.mapValues)(e.datasourceStates,((e,a)=>a?{...e,state:t[a].cloneLayer(e.state,n,o,l)}:e)),e.visualization.state=a[e.visualization.activeId].cloneLayer(e.visualization.state,n,o,i)},[A.type]:(e,{payload:{visualizationId:n,layerId:o,layerIds:s}})=>{const l=a[n],c=t[e.activeDatasourceId],d="clear"===Object(i.getRemoveOperation)(l,e.visualization.state,o,s.length);let u=[];e.datasourceStates=Object(r.mapValues)(e.datasourceStates,((a,n)=>{const r=t[n],{newState:i,removedLayerIds:s}=d?r.clearLayer(a.state,o):r.removeLayer(a.state,o);return u=[...u,...s],{...a,...n===e.activeDatasourceId&&{state:i}}})),e.stagedPreview=void 0;const p=c.getUsedDataView(e.datasourceStates[e.activeDatasourceId].state);!d&&l.removeLayer||(e.visualization.state=l.clearLayer(e.visualization.state,o,p)),Object(r.uniq)(u).forEach((t=>{var a;return e.visualization.state=null===(a=l.removeLayer)||void 0===a?void 0:a.call(l,e.visualization.state,t)}))},[H.type]:(e,{payload:r})=>{const{visualizationIds:o,datasourceIds:i,layerId:s,indexPatternId:l,dataViews:d}=r,u=[...e.dataViews.indexPatternRefs],p=new Set(u.map((e=>e.id)));Object.values(d.indexPatterns||{}).forEach((e=>{p.has(e.id)||u.push({id:e.id,name:e.name,title:e.title})}));const g={dataViews:{...e.dataViews,indexPatterns:d.indexPatterns,indexPatternRefs:u}};if(null!=o&&o.length)for(const t of o){const n=t&&e.visualization.activeId===t&&a[t];n&&s&&null!=n&&n.onIndexPatternChange&&(g.visualization={...e.visualization,state:n.onIndexPatternChange(e.visualization.state,l,s)})}if(null!=i&&i.length){g.datasourceStates={...e.datasourceStates};const r=Object(c.l)({lens:{...Object(n.current)(e),dataViews:g.dataViews}},t),o=r.datasourceLayers;for(const n of i){const i=n&&t[n];if(i&&null!=i&&i.onIndexPatternChange&&(g.datasourceStates={...g.datasourceStates,[n]:{isLoading:!1,state:i.onIndexPatternChange(g.datasourceStates[n].state,d.indexPatterns,l,s)}},s&&e.visualization.activeId)){const t=i.getPublicAPI({state:g.datasourceStates[n].state,layerId:s,indexPatterns:d.indexPatterns}),l=new Set(t.getTableSpec().map((({columnId:e})=>e))),c=o[s];if(c){const t=c.getTableSpec().map((({columnId:e})=>e)).filter((e=>!l.has(e))),n=a[e.visualization.activeId];let o=(g.visualization||e.visualization).state;t.forEach((e=>{o=n.removeDimension({layerId:s,columnId:e,prevState:o,frame:r})})),g.visualization={...e.visualization,state:o}}}}}return{...e,...g}},[V.type]:(e,{payload:t})=>({...e,dataViews:{...e.dataViews,...t}}),[G.type]:(e,{payload:n})=>{var r,o;e.dataViews.indexPatterns[n.newIndexPattern.id]=n.newIndexPattern,delete e.dataViews.indexPatterns[n.oldId],e.dataViews.indexPatternRefs=e.dataViews.indexPatternRefs.filter((e=>e.id!==n.oldId)),e.dataViews.indexPatternRefs.push({id:n.newIndexPattern.id,title:n.newIndexPattern.title,name:n.newIndexPattern.name});const i=a[e.visualization.activeId];e.visualization.state=null!==(r=null===(o=i.onIndexPatternRename)||void 0===o?void 0:o.call(i,e.visualization.state,n.oldId,n.newIndexPattern.id))&&void 0!==r?r:e.visualization.state,Object.entries(e.datasourceStates).forEach((([a,r])=>{var o,i;const s=t[a];e.datasourceStates[a].state=null!==(o=null==s||null===(i=s.onIndexPatternRename)||void 0===i?void 0:i.call(s,r.state,n.oldId,n.newIndexPattern.id))&&void 0!==o?o:r.state}))},[_.type]:(e,{payload:r})=>{if(r.clearStagedPreview&&(e.stagedPreview=void 0),e.datasourceStates[r.datasourceId]={state:r.newDatasourceState,isLoading:!1},r.dontSyncLinkedDimensions)return;const o=Object(n.current)(e),{datasourceState:i,visualizationState:s}=X(o,a,t,r.datasourceId);e.visualization.state=s,e.datasourceStates[r.datasourceId].state=i},[D.type]:(e,{payload:r})=>{if(!e.visualization.activeId)throw new Error("Invariant: visualization state got updated without active visualization");if(e.visualization.activeId!==r.visualizationId)return e;if(e.visualization.state=r.newState,!e.activeDatasourceId)return;if(r.dontSyncLinkedDimensions)return;const{datasourceState:o,visualizationState:i}=X(Object(n.current)(e),a,t);e.datasourceStates[e.activeDatasourceId].state=o,e.visualization.state=i},[w.type]:(e,{payload:t})=>{const{newVisualizationId:a,visualizationState:n,datasourceState:r,datasourceId:o}=t.suggestion;return{...e,datasourceStates:o?{...e.datasourceStates,[o]:{...e.datasourceStates[o],state:r}}:e.datasourceStates,visualization:{...e.visualization,activeId:a,state:n},stagedPreview:t.clearStagedPreview?void 0:e.stagedPreview||{datasourceStates:e.datasourceStates,visualization:e.visualization,activeData:e.activeData}}},[L.type]:e=>({...e,...e.stagedPreview||{},stagedPreview:void 0}),[S.type]:e=>({...e,isFullscreenDatasource:!e.isFullscreenDatasource}),[k.type]:e=>({...e,stagedPreview:void 0}),[P.type]:(e,{payload:t})=>({...e,datasourceStates:{...e.datasourceStates,[t.newDatasourceId]:e.datasourceStates[t.newDatasourceId]||{state:null,isLoading:!0}},activeDatasourceId:t.newDatasourceId}),[C.type]:(e,{payload:r})=>{var o,i;const s=r.visualizationId&&a[r.visualizationId],l=e.visualization;let c=l.state;const d=[];if(s&&s.getLayerIds){const e=s.getLayerIds(l.state);d.push(...Object.values(e)),c=s.initialize((()=>d[0]))}const u=d[0],p=Object(n.current)(e).datasourceStates[r.newDatasourceId]?null===(o=Object(n.current)(e).datasourceStates[r.newDatasourceId])||void 0===o?void 0:o.state:t[r.newDatasourceId].createEmptyLayer(null!==(i=r.currentIndexPatternId)&&void 0!==i?i:""),g=t[r.newDatasourceId].insertLayer(p,u);return{...e,datasourceStates:{[r.newDatasourceId]:{state:g,isLoading:!1}},activeDatasourceId:r.newDatasourceId,visualization:{...l,state:c}}},[T.type]:e=>e,[z.type]:(e,t)=>e,[E.type]:(e,{payload:n})=>{const r={...e,...n.newState},o=Object(l.c)({datasourceMap:t,datasourceStates:r.datasourceStates,visualizationMap:a,visualizeTriggerFieldContext:n.initialContext,dataViews:r.dataViews});if(o)return{...r,datasourceStates:{...r.datasourceStates,[o.datasourceId]:{...r.datasourceStates[o.datasourceId],state:o.datasourceState}},visualization:{...r.visualization,activeId:o.visualizationId,state:o.visualizationState},stagedPreview:void 0};const s=r.visualization;if(!s.activeId)throw new Error("Invariant: visualization state got updated without active visualization");const c=a[s.activeId];if(null===s.state&&c){var d;const e=Object(i.getInitialDatasourceId)(t),a=c.initialize((()=>n.layerId)),o=t[e];return{...r,activeDatasourceId:e,datasourceStates:{...r.datasourceStates,[e]:{...r.datasourceStates[e],state:o.insertLayer(null===(d=r.datasourceStates[e])||void 0===d?void 0:d.state,n.layerId)}},visualization:{...s,state:a}}}return r},[M.type]:(e,{payload:t})=>{if(!e.visualization.activeId)throw new Error("Invariant: visualization state got updated without active visualization");if(e.visualization.activeId!==t.visualizationId)return e;const n=a[t.visualizationId];null!=n&&n.onEditAction&&(e.visualization.state=n.onEditAction(e.visualization.state,t.event))},[O.type]:(e,{payload:a})=>{const r=t[a.datasourceId].insertLayer;return{...e,datasourceStates:{...e.datasourceStates,[a.datasourceId]:{...e.datasourceStates[a.datasourceId],state:r(Object(n.current)(e).datasourceStates[a.datasourceId].state,a.layerId)}}}},[F.type]:(e,{payload:{visualizationId:r,layerIds:o}})=>{if(!e.visualization.activeId)throw new Error("Invariant: visualization state got updated without active visualization");const i=r&&a[r];if(e.visualization.activeId===r&&i&&i.removeLayer&&e.visualization.state){const t=o.reduce(((e,t)=>i.removeLayer?i.removeLayer(e,t):e),e.visualization.state);e.visualization.state="function"==typeof t?t(Object(n.current)(e.visualization.state)):t}o.forEach((a=>{var r;const[o]=null!==(r=Object.entries(t).find((([t,n])=>e.datasourceStates[t]&&n.getLayers(e.datasourceStates[t].state).includes(a))))&&void 0!==r?r:[];if(o){const{newState:r}=t[o].removeLayer(Object(n.current)(e).datasourceStates[o].state,a);e.datasourceStates[o].state=r}}))},[W.type]:(e,{payload:{layerId:r,layerType:o,extraArg:i,ignoreInitialValues:s}})=>{var l,d;if(!e.activeDatasourceId||!e.visualization.activeId)return e;const u=a[e.visualization.activeId],p=t[e.activeDatasourceId],g=p.getUsedDataView(e.datasourceStates[e.activeDatasourceId].state),b=u.appendLayer(e.visualization.state,r,o,g,i),m=Object(c.l)({lens:Object(n.current)(e)},t),{noDatasource:f}=u.getSupportedLayers(b,m).find((({type:e})=>e===o))||{},x=null!==(l=null===(d=u.getLayersToLinkTo)||void 0===d?void 0:d.call(u,b,r))&&void 0!==l?l:[],h=!f&&p?p.insertLayer(e.datasourceStates[e.activeDatasourceId].state,r,x):e.datasourceStates[e.activeDatasourceId].state,{activeDatasourceState:v,activeVisualizationState:y}=s?{activeDatasourceState:h,activeVisualizationState:b}:K({datasourceState:h,visualizationState:b,framePublicAPI:m,activeVisualization:u,activeDatasource:p,layerId:r,layerType:o});e.visualization.state=y,e.datasourceStates[e.activeDatasourceId].state=v,e.stagedPreview=void 0;const{datasourceState:j,visualizationState:_}=X(Object(n.current)(e),a,t);e.datasourceStates[e.activeDatasourceId].state=j,e.visualization.state=_},[B.type]:(e,{payload:{source:r,target:o,dropType:i}})=>{var s,l;if(!e.visualization.activeId)return e;const u=a[e.visualization.activeId],p=Object(c.l)({lens:Object(n.current)(e)},t),{groups:g}=u.getConfiguration({layerId:o.layerId,frame:p,state:e.visualization.state}),[b,m]=Object.entries(t).find((([t,a])=>e.datasourceStates[t]&&a.getLayers(e.datasourceStates[t].state).includes(o.layerId)))||[];let f;if(m&&b){var x;if(f=null==m?void 0:m.onDrop({state:e.datasourceStates[b].state,source:r,target:{...o,filterOperations:(null===(x=g.find((({groupId:e})=>e===o.groupId)))||void 0===x?void 0:x.filterOperations)||Boolean},targetLayerDimensionGroups:g,dropType:i,indexPatterns:p.dataViews.indexPatterns}),!f)return;e.datasourceStates[b].state=f}u.onDrop=null===(s=u.onDrop)||void 0===s?void 0:s.bind(u);const h=null===(l=u.onDrop||d.a)||void 0===l?void 0:l({prevState:e.visualization.state,frame:p,target:o,source:r,dropType:i,group:g.find((({groupId:e})=>e===o.groupId))},u);if(e.visualization.state=h,b){const{datasourceState:r,visualizationState:o}=X(Object(n.current)(e),a,t);e.datasourceStates[b].state=r,e.visualization.state=o}e.stagedPreview=void 0},[R.type]:(e,{payload:{layerId:r,columnId:i,groupId:s}})=>{if(!e.activeDatasourceId||!e.visualization.activeId)return e;const l=t[e.activeDatasourceId],d=a[e.visualization.activeId],u=d.getLayerType(r,e.visualization.state)||o.LayerTypes.DATA,{activeDatasourceState:p,activeVisualizationState:g}=K({datasourceState:e.datasourceStates[e.activeDatasourceId].state,visualizationState:e.visualization.state,framePublicAPI:Object(c.l)({lens:Object(n.current)(e)},t),activeVisualization:d,activeDatasource:l,layerId:r,layerType:u,columnId:i,groupId:s});e.visualization.state=g,e.datasourceStates[e.activeDatasourceId].state=p},[$.type]:(e,{payload:{layerId:r,columnId:o,datasourceId:i}})=>{var s,l;if(!e.visualization.activeId)return e;const d=a[e.visualization.activeId],u=null===(s=d.getLinkedDimensions)||void 0===s?void 0:s.call(d,e.visualization.state),p=null==u||null===(l=u.filter((({from:{columnId:e}})=>o===e)))||void 0===l?void 0:l.map((({to:e})=>e)),g=i?t[i]:void 0,b=Object(c.l)({lens:Object(n.current)(e)},t),m=t=>{if(g&&i){let a;try{a=Object(n.current)(e.datasourceStates[i].state)}catch{a=e.datasourceStates[i].state}e.datasourceStates[i].state=null==g?void 0:g.removeColumn({layerId:t.layerId,columnId:t.columnId,prevState:a,indexPatterns:b.dataViews.indexPatterns})}let a;try{a=Object(n.current)(e.visualization.state)}catch{a=e.visualization.state}e.visualization.state=d.removeDimension({layerId:t.layerId,columnId:t.columnId,prevState:a,frame:b})};m({layerId:r,columnId:o}),null==p||p.forEach((e=>e.columnId&&m({columnId:e.columnId,layerId:e.layerId})))},[U.type]:(e,{payload:{group:t,id:a}})=>{e.annotationGroups[a]=t}})};function K({visualizationState:e,datasourceState:t,activeVisualization:a,activeDatasource:n,framePublicAPI:r,layerType:o,layerId:i,columnId:s,groupId:l}){const{initialDimensions:c,noDatasource:d}=a.getSupportedLayers(e,r).find((({type:e})=>e===o))||{};if(c){const o=l?c.find((({groupId:e})=>e===l)):c[0];if(o){const l=a.setDimension({groupId:o.groupId,layerId:i,columnId:s||o.columnId,prevState:e,frame:r});return!d&&null!=n&&n.initializeDimension?{activeDatasourceState:n.initializeDimension(t,i,r.dataViews.indexPatterns,{...o,columnId:s||o.columnId,visualizationGroups:a.getConfiguration({layerId:i,frame:r,state:l}).groups}),activeVisualizationState:l}:{activeDatasourceState:t,activeVisualizationState:l}}}return{activeDatasourceState:t,activeVisualizationState:e}}function X(e,t,a,n){var r;const o=null!=n?n:e.activeDatasourceId;if(!o)return{datasourceState:null,visualizationState:e.visualization.state};const i=Object(c.g)({lens:e}).indexPatterns;let l=e.datasourceStates[o].state,u=e.visualization.state;const p=t[e.visualization.activeId],g=null===(r=p.getLinkedDimensions)||void 0===r?void 0:r.call(p,u),b=Object(c.l)({lens:e},a),m=e=>p.getConfiguration({state:u,layerId:e,frame:b}).groups;if(g){const e=g.map((e=>{var t;return{...e,to:{...e.to,columnId:null!==(t=e.to.columnId)&&void 0!==t?t:Object(s.a)()}}}));l=a[o].syncColumns({state:l,links:e,getDimensionGroups:m,indexPatterns:i}),e.forEach((({from:e,to:t})=>{var a;const n={...e,id:e.columnId,humanData:{label:""}},r={...t,filterOperations:()=>!0};u=null===(a=p.onDrop||d.a)||void 0===a?void 0:a({prevState:u,frame:b,target:r,source:n,dropType:"duplicate_compatible",group:m(t.layerId).find((({groupId:e})=>e===r.groupId))},p)}))}return{datasourceState:l,visualizationState:u}}},function(e,t,a){"use strict";a.d(t,"c",(function(){return s})),a.d(t,"b",(function(){return i})),a.d(t,"d",(function(){return l})),a.d(t,"a",(function(){return c}));var n=a(27),r=a(12),o=a(43);const[i,s]=Object(r.createGetterSetter)("UsageCollection",!1),l=(e,t)=>{var a;const r=i(),s=null!==(a=(e=>{if(e){var t;const a=e=>e.type?e:e.child?a(e.child):void 0;return null===(t=a(e))||void 0===t?void 0:t.type}})(t))&&void 0!==a?a:"application";Object.entries(Object(n.groupBy)(Array.isArray(e)?e:[e])).forEach((([e,t])=>{null==r||r.reportUiCounter(s,o.METRIC_TYPE.COUNT,`render_lens_${e}`,t.length)}))},c=e=>{const t=[];return null!=e&&e.type&&t.push(`vis_${e.type}`),t}},,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(38),r=a(7),o=n.__importDefault(a(217));t.default=function(e,t){var a=r.useState(t),n=a[0],i=a[1];return o.default((function(){var t=e.subscribe(i);return function(){return t.unsubscribe()}}),[e]),n}},function(e,t,a){"use strict";var n=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function r(e,t){if(e.length!==t.length)return!1;for(var a=0;a<e.length;a++)if(!((r=e[a])===(o=t[a])||n(r)&&n(o)))return!1;var r,o;return!0}e.exports=function(e,t){void 0===t&&(t=r);var a=null;function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(a&&a.lastThis===this&&t(n,a.lastArgs))return a.lastResult;var o=e.apply(this,n);return a={lastResult:o,lastArgs:n,lastThis:this},o}return n.clear=function(){a=null},n}},function(e,t,a){"use strict";a.d(t,"a",(function(){return W})),a.d(t,"e",(function(){return j})),a.d(t,"d",(function(){return w})),a.d(t,"c",(function(){return z})),a.d(t,"b",(function(){return Y}));var n=a(7),r=a.n(n),o=a(4),i=a(0);const s="domDragDrop",l={selectedTarget:({label:e,groupLabel:t,position:a,layerNumber:n},{label:r,groupLabel:o,position:s,canSwap:l,canDuplicate:c,canCombine:d,layerNumber:u})=>l||c?i.i18n.translate("domDragDrop.announce.selectedTarget.replaceMain",{defaultMessage:"You're dragging {label} from {groupLabel} at position {position} in layer {layerNumber} over {dropLabel} from {dropGroupLabel} group at position {dropPosition} in layer {dropLayerNumber}. Press space or enter to replace {dropLabel} with {label}.{duplicateCopy}{swapCopy}{combineCopy}",values:{label:e,groupLabel:t,position:a,dropLabel:r,dropGroupLabel:o,dropPosition:s,duplicateCopy:c?p:"",swapCopy:l?g:"",combineCopy:d?b:"",layerNumber:n,dropLayerNumber:u}}):i.i18n.translate("domDragDrop.announce.selectedTarget.replace",{defaultMessage:"Replace {dropLabel} in {dropGroupLabel} group at position {dropPosition} in layer {dropLayerNumber} with {label}. Press space or enter to replace.",values:{label:e,dropLabel:r,dropGroupLabel:o,dropPosition:s,dropLayerNumber:u}}),dropped:({label:e},{label:t,groupLabel:a,position:n,layerNumber:r})=>i.i18n.translate("domDragDrop.announce.duplicated.replace",{defaultMessage:"Replaced {dropLabel} with {label} in {groupLabel} at position {position} in layer {dropLayerNumber}",values:{label:e,dropLabel:t,groupLabel:a,position:n,dropLayerNumber:r}})},c={selectedTarget:({label:e,groupLabel:t,layerNumber:a},{groupLabel:n,position:r})=>t!==n?i.i18n.translate("domDragDrop.announce.selectedTarget.duplicated",{defaultMessage:"Duplicate {label} to {dropGroupLabel} group at position {position} in layer {layerNumber}. Hold Alt or Option and press space or enter to duplicate",values:{label:e,dropGroupLabel:n,position:r,layerNumber:a}}):i.i18n.translate("domDragDrop.announce.selectedTarget.duplicatedInGroup",{defaultMessage:"Duplicate {label} to {dropGroupLabel} group at position {position} in layer {layerNumber}. Press space or enter to duplicate",values:{label:e,dropGroupLabel:n,position:r,layerNumber:a}}),dropped:({label:e},{groupLabel:t,position:a,layerNumber:n})=>i.i18n.translate("domDragDrop.announce.dropped.duplicated",{defaultMessage:"Duplicated {label} in {groupLabel} group at position {position} in layer {layerNumber}",values:{label:e,groupLabel:t,position:a,layerNumber:n}})},d={selectedTarget:({label:e,groupLabel:t,position:a},{position:n})=>a===n?i.i18n.translate("domDragDrop.announce.selectedTarget.reorderedBack",{defaultMessage:"{label} returned to its initial position {prevPosition}",values:{label:e,prevPosition:a}}):i.i18n.translate("domDragDrop.announce.selectedTarget.reordered",{defaultMessage:"Reorder {label} in {groupLabel} group from position {prevPosition} to position {position}. Press space or enter to reorder",values:{label:e,groupLabel:t,position:n,prevPosition:a}}),dropped:({label:e,groupLabel:t,position:a},{position:n})=>i.i18n.translate("domDragDrop.announce.dropped.reordered",{defaultMessage:"Reordered {label} in {groupLabel} group from position {prevPosition} to position {position}",values:{label:e,groupLabel:t,position:n,prevPosition:a}})},u={selectedTarget:({label:e,groupLabel:t,position:a,layerNumber:n},{label:r,groupLabel:o,position:s,canSwap:l,canDuplicate:c,canCombine:d,layerNumber:u})=>l||c||d?i.i18n.translate("domDragDrop.announce.selectedTarget.combineMain",{defaultMessage:"You're dragging {label} from {groupLabel} at position {position} in layer {layerNumber} over {dropLabel} from {dropGroupLabel} group at position {dropPosition} in layer {dropLayerNumber}. Press space or enter to combine {dropLabel} with {label}.{duplicateCopy}{swapCopy}{combineCopy}",values:{label:e,groupLabel:t,position:a,dropLabel:r,dropGroupLabel:o,dropPosition:s,duplicateCopy:c?p:"",swapCopy:l?g:"",combineCopy:d?b:"",layerNumber:n,dropLayerNumber:u}}):i.i18n.translate("domDragDrop.announce.selectedTarget.combine",{defaultMessage:"Combine {dropLabel} in {dropGroupLabel} group at position {dropPosition} in layer {dropLayerNumber} with {label}. Press space or enter to combine.",values:{label:e,dropLabel:r,dropGroupLabel:o,dropPosition:s,dropLayerNumber:u}}),dropped:({label:e},{label:t,groupLabel:a,position:n,layerNumber:r})=>i.i18n.translate("domDragDrop.announce.duplicated.combine",{defaultMessage:"Combine {dropLabel} with {label} in {groupLabel} at position {position} in layer {dropLayerNumber}",values:{label:e,dropLabel:t,groupLabel:a,position:n,dropLayerNumber:r}})},p=i.i18n.translate("domDragDrop.announce.duplicate.short",{defaultMessage:" Hold alt or option to duplicate."}),g=i.i18n.translate("domDragDrop.announce.swap.short",{defaultMessage:" Hold shift to swap."}),b=i.i18n.translate("domDragDrop.announce.combine.short",{defaultMessage:" Hold control to combine"}),m={selectedTarget:{reorder:d.selectedTarget,duplicate_compatible:c.selectedTarget,field_replace:l.selectedTarget,field_combine:u.selectedTarget,replace_compatible:l.selectedTarget,replace_incompatible:({label:e,groupLabel:t,position:a,layerNumber:n},{label:r,groupLabel:o,position:s,nextLabel:l,canSwap:c,canDuplicate:d,canCombine:u,layerNumber:m})=>c||d||u?i.i18n.translate("domDragDrop.announce.selectedTarget.replaceIncompatibleMain",{defaultMessage:"You're dragging {label} from {groupLabel} at position {position} in layer {layerNumber} over {dropLabel} from {dropGroupLabel} group at position {dropPosition} in layer {dropLayerNumber}. Press space or enter to convert {label} to {nextLabel} and replace {dropLabel}.{duplicateCopy}{swapCopy}{combineCopy}",values:{label:e,groupLabel:t,position:a,dropLabel:r,dropGroupLabel:o,dropPosition:s,nextLabel:l,duplicateCopy:d?p:"",swapCopy:c?g:"",combineCopy:u?b:"",layerNumber:n,dropLayerNumber:m}}):i.i18n.translate("domDragDrop.announce.selectedTarget.replaceIncompatible",{defaultMessage:"Convert {label} to {nextLabel} and replace {dropLabel} in {dropGroupLabel} group at position {dropPosition} in layer {dropLayerNumber}. Press space or enter to replace",values:{label:e,dropLabel:r,dropGroupLabel:o,dropPosition:s,nextLabel:l,dropLayerNumber:m}}),move_incompatible:({label:e,groupLabel:t,position:a,layerNumber:n},{groupLabel:r,position:o,nextLabel:s,canSwap:l,canDuplicate:c,layerNumber:d})=>l||c?i.i18n.translate("domDragDrop.announce.selectedTarget.moveIncompatibleMain",{defaultMessage:"You're dragging {label} from {groupLabel} at position {position} in layer {layerNumber} over position {dropPosition} in {dropGroupLabel} group in layer {dropLayerNumber}. Press space or enter to convert {label} to {nextLabel} and move.{duplicateCopy}",values:{label:e,groupLabel:t,position:a,dropGroupLabel:r,dropPosition:o,nextLabel:s,duplicateCopy:c?p:"",layerNumber:n,dropLayerNumber:d}}):i.i18n.translate("domDragDrop.announce.selectedTarget.moveIncompatible",{defaultMessage:"Convert {label} to {nextLabel} and move to {dropGroupLabel} group at position {dropPosition} in layer {dropLayerNumber}. Press space or enter to move",values:{label:e,dropGroupLabel:r,dropPosition:o,nextLabel:s,dropLayerNumber:d}}),move_compatible:({label:e,groupLabel:t,position:a},{groupLabel:n,position:r,canSwap:o,canDuplicate:s,layerNumber:l})=>o||s?i.i18n.translate("domDragDrop.announce.selectedTarget.moveCompatibleMain",{defaultMessage:"You're dragging {label} from {groupLabel} at position {position} over position {dropPosition} in {dropGroupLabel} group in layer {dropLayerNumber}. Press space or enter to move.{duplicateCopy}",values:{label:e,groupLabel:t,position:a,dropGroupLabel:n,dropPosition:r,duplicateCopy:s?p:"",dropLayerNumber:l}}):i.i18n.translate("domDragDrop.announce.selectedTarget.moveCompatible",{defaultMessage:"Move {label} to {dropGroupLabel} group at position {dropPosition} in layer {dropLayerNumber}. Press space or enter to move",values:{label:e,dropGroupLabel:n,dropPosition:r,dropLayerNumber:l}}),duplicate_incompatible:({label:e},{groupLabel:t,position:a,nextLabel:n,layerNumber:r})=>i.i18n.translate("domDragDrop.announce.selectedTarget.duplicateIncompatible",{defaultMessage:"Convert copy of {label} to {nextLabel} and add to {groupLabel} group at position {position} in layer {dropLayerNumber}. Hold Alt or Option and press space or enter to duplicate",values:{label:e,groupLabel:t,position:a,nextLabel:n,dropLayerNumber:r}}),replace_duplicate_incompatible:({label:e},{label:t,groupLabel:a,position:n,nextLabel:r,layerNumber:o})=>i.i18n.translate("domDragDrop.announce.selectedTarget.replaceDuplicateIncompatible",{defaultMessage:"Convert copy of {label} to {nextLabel} and replace {dropLabel} in {groupLabel} group at position {position} in layer {dropLayerNumber}. Hold Alt or Option and press space or enter to duplicate and replace",values:{label:e,groupLabel:a,position:n,dropLabel:t,nextLabel:r,dropLayerNumber:o}}),replace_duplicate_compatible:({label:e},{label:t,groupLabel:a,position:n,layerNumber:r})=>i.i18n.translate("domDragDrop.announce.selectedTarget.replaceDuplicateCompatible",{defaultMessage:"Duplicate {label} and replace {dropLabel} in {groupLabel} at position {position} in layer {dropLayerNumber}. Hold Alt or Option and press space or enter to duplicate and replace",values:{label:e,dropLabel:t,groupLabel:a,position:n,dropLayerNumber:r}}),swap_compatible:({label:e,groupLabel:t,position:a,layerNumber:n},{label:r,groupLabel:o,position:s,layerNumber:l})=>i.i18n.translate("domDragDrop.announce.selectedTarget.swapCompatible",{defaultMessage:"Swap {label} in {groupLabel} group at position {position} in layer {layerNumber} with {dropLabel} in {dropGroupLabel} group at position {dropPosition} in layer {dropLayerNumber}. Hold Shift and press space or enter to swap",values:{label:e,groupLabel:t,position:a,dropLabel:r,dropGroupLabel:o,dropPosition:s,layerNumber:n,dropLayerNumber:l}}),swap_incompatible:({label:e,groupLabel:t,position:a,layerNumber:n},{label:r,groupLabel:o,position:s,nextLabel:l,layerNumber:c})=>i.i18n.translate("domDragDrop.announce.selectedTarget.swapIncompatible",{defaultMessage:"Convert {label} to {nextLabel} in {groupLabel} group at position {position} in layer {layerNumber} and swap with {dropLabel} in {dropGroupLabel} group at position {dropPosition} in layer {dropLayerNumber}. Hold Shift and press space or enter to swap",values:{label:e,groupLabel:t,position:a,dropLabel:r,dropGroupLabel:o,dropPosition:s,nextLabel:l,layerNumber:n,dropLayerNumber:c}}),combine_compatible:({label:e,groupLabel:t,position:a,layerNumber:n},{label:r,groupLabel:o,position:s,layerNumber:l})=>i.i18n.translate("domDragDrop.announce.selectedTarget.combineCompatible",{defaultMessage:"Combine {label} in {groupLabel} group at position {position} in layer {layerNumber} with {dropLabel} in {dropGroupLabel} group at position {dropPosition} in layer {dropLayerNumber}. Hold Control and press space or enter to combine",values:{label:e,groupLabel:t,position:a,dropLabel:r,dropGroupLabel:o,dropPosition:s,layerNumber:n,dropLayerNumber:l}}),combine_incompatible:({label:e,groupLabel:t,position:a,layerNumber:n},{label:r,groupLabel:o,position:s,nextLabel:l,layerNumber:c})=>i.i18n.translate("domDragDrop.announce.selectedTarget.combineIncompatible",{defaultMessage:"Convert {label} to {nextLabel} in {groupLabel} group at position {position} in layer {layerNumber} and combine with {dropLabel} in {dropGroupLabel} group at position {dropPosition} in layer {dropLayerNumber}. Hold Control and press space or enter to combine",values:{label:e,groupLabel:t,position:a,dropLabel:r,dropGroupLabel:o,dropPosition:s,nextLabel:l,dropLayerNumber:c,layerNumber:n}})},dropped:{reorder:d.dropped,duplicate_compatible:c.dropped,field_replace:l.dropped,field_combine:u.dropped,replace_compatible:l.dropped,replace_incompatible:({label:e},{label:t,groupLabel:a,position:n,nextLabel:r,layerNumber:o})=>i.i18n.translate("domDragDrop.announce.dropped.replaceIncompatible",{defaultMessage:"Converted {label} to {nextLabel} and replaced {dropLabel} in {groupLabel} group at position {position} in layer {dropLayerNumber}",values:{label:e,nextLabel:r,dropLabel:t,groupLabel:a,position:n,dropLayerNumber:o}}),move_incompatible:({label:e},{groupLabel:t,position:a,nextLabel:n,layerNumber:r})=>i.i18n.translate("domDragDrop.announce.dropped.moveIncompatible",{defaultMessage:"Converted {label} to {nextLabel} and moved to {groupLabel} group at position {position} in layer {dropLayerNumber}",values:{label:e,nextLabel:n,groupLabel:t,position:a,dropLayerNumber:r}}),move_compatible:({label:e},{groupLabel:t,position:a,layerNumber:n})=>i.i18n.translate("domDragDrop.announce.dropped.moveCompatible",{defaultMessage:"Moved {label} to {groupLabel} group at position {position} in layer {dropLayerNumber}",values:{label:e,groupLabel:t,position:a,dropLayerNumber:n}}),duplicate_incompatible:({label:e},{groupLabel:t,position:a,nextLabel:n,layerNumber:r})=>i.i18n.translate("domDragDrop.announce.dropped.duplicateIncompatible",{defaultMessage:"Converted copy of {label} to {nextLabel} and added to {groupLabel} group at position {position} in layer {dropLayerNumber}",values:{label:e,groupLabel:t,position:a,nextLabel:n,dropLayerNumber:r}}),replace_duplicate_incompatible:({label:e},{label:t,groupLabel:a,position:n,nextLabel:r,layerNumber:o})=>i.i18n.translate("domDragDrop.announce.dropped.replaceDuplicateIncompatible",{defaultMessage:"Converted copy of {label} to {nextLabel} and replaced {dropLabel} in {groupLabel} group at position {position} in layer {dropLayerNumber}",values:{label:e,dropLabel:t,groupLabel:a,position:n,nextLabel:r,dropLayerNumber:o}}),replace_duplicate_compatible:({label:e},{label:t,groupLabel:a,position:n,layerNumber:r})=>i.i18n.translate("domDragDrop.announce.duplicated.replaceDuplicateCompatible",{defaultMessage:"Replaced {dropLabel} with a copy of {label} in {groupLabel} at position {position} in layer {dropLayerNumber}",values:{label:e,dropLabel:t,groupLabel:a,position:n,dropLayerNumber:r}}),swap_compatible:({label:e,groupLabel:t,position:a,layerNumber:n},{label:r,groupLabel:o,position:s,layerNumber:l})=>i.i18n.translate("domDragDrop.announce.dropped.swapCompatible",{defaultMessage:"Moved {label} to {dropGroupLabel} at position {dropPosition} in layer {dropLayerNumber} and {dropLabel} to {groupLabel} group at position {position} in layer {layerNumber}",values:{label:e,groupLabel:t,position:a,dropLabel:r,dropGroupLabel:o,dropPosition:s,layerNumber:n,dropLayerNumber:l}}),swap_incompatible:({label:e,groupLabel:t,position:a,layerNumber:n},{label:r,groupLabel:o,position:s,nextLabel:l,layerNumber:c})=>i.i18n.translate("domDragDrop.announce.dropped.swapIncompatible",{defaultMessage:"Converted {label} to {nextLabel} in {groupLabel} group at position {position} in layer {layerNumber} and swapped with {dropLabel} in {dropGroupLabel} group at position {dropPosition} in layer {dropLayerNumber}",values:{label:e,groupLabel:t,position:a,dropGroupLabel:o,dropLabel:r,dropPosition:s,nextLabel:l,dropLayerNumber:c,layerNumber:n}}),combine_compatible:({label:e,groupLabel:t},{label:a,groupLabel:n,position:r,layerNumber:o})=>i.i18n.translate("domDragDrop.announce.dropped.combineCompatible",{defaultMessage:"Combined {label} in group {groupLabel} to {dropLabel} in group {dropGroupLabel} at position {dropPosition} in layer {dropLayerNumber}",values:{label:e,groupLabel:t,dropLabel:a,dropGroupLabel:n,dropPosition:r,dropLayerNumber:o}}),combine_incompatible:({label:e,groupLabel:t,position:a,layerNumber:n},{label:r,groupLabel:o,position:s,nextLabel:l,layerNumber:c})=>i.i18n.translate("domDragDrop.announce.dropped.combineIncompatible",{defaultMessage:"Converted {label} to {nextLabel} in {groupLabel} group at position {position} and combined with {dropLabel} in {dropGroupLabel} group at position {dropPosition} in layer {dropLayerNumber}",values:{label:e,groupLabel:t,position:a,dropGroupLabel:o,dropLabel:r,dropPosition:s,nextLabel:l,dropLayerNumber:c}})}},f={lifted:({label:e})=>i.i18n.translate("domDragDrop.announce.lifted",{defaultMessage:"Lifted {label}",values:{label:e}}),cancelled:({label:e,groupLabel:t,position:a})=>t&&a?i.i18n.translate("domDragDrop.announce.cancelledItem",{defaultMessage:"Movement cancelled. {label} returned to {groupLabel} group at position {position}",values:{label:e,groupLabel:t,position:a}}):i.i18n.translate("domDragDrop.announce.cancelled",{defaultMessage:"Movement cancelled. {label} returned to its initial position",values:{label:e}}),noTarget:()=>i.i18n.translate("domDragDrop.announce.selectedTarget.noSelected",{defaultMessage:"No target selected. Use arrow keys to select a target"}),dropped:({label:e},{groupLabel:t,position:a,label:n,layerNumber:r})=>t&&a?i.i18n.translate("domDragDrop.announce.droppedDefault",{defaultMessage:"Added {label} in {dropGroupLabel} group at position {position} in layer {dropLayerNumber}",values:{label:e,dropGroupLabel:t,position:a,dropLayerNumber:r}}):i.i18n.translate("domDragDrop.announce.droppedNoPosition",{defaultMessage:"Added {label} to {dropLabel}",values:{label:e,dropLabel:n}}),selectedTarget:({label:e},{label:t,groupLabel:a,position:n,layerNumber:r})=>a&&n?i.i18n.translate("domDragDrop.announce.selectedTarget.default",{defaultMessage:"Add {label} to {dropGroupLabel} group at position {position} in layer {dropLayerNumber}. Press space or enter to add",values:{label:e,dropGroupLabel:a,position:n,dropLayerNumber:r}}):i.i18n.translate("domDragDrop.announce.selectedTarget.defaultNoPosition",{defaultMessage:"Add {label} to {dropLabel}. Press space or enter to add",values:{dropLabel:t,label:e}})},x={...f,dropped:(e,t,a)=>{var n,r;return a&&(null===(n=m.dropped)||void 0===n||null===(r=n[a])||void 0===r?void 0:r.call(n,e,t))||f.dropped(e,t)},selectedTarget:(e,t,a)=>{var n,r;return a&&(null===(n=m.selectedTarget)||void 0===n||null===(r=n[a])||void 0===r?void 0:r.call(n,e,t))||f.selectedTarget(e,t)}};var h=a(2);const v={dragging:void 0,activeDropTarget:void 0,keyboardMode:!1,dropTargetsByOrder:{},dataTestSubjPrefix:s},y=r.a.createContext([v,()=>{}]);function j(){const e=r.a.useContext(y);if(void 0===e)throw new Error("useDragDropContext must be used within a <RootDragDropProvider/> or <ChildDragDropProvider/>");return e}const _=(e,t)=>{switch(t.type){case"resetState":case"endDragging":case"dropToTarget":return{...e,dropTargetsByOrder:void 0,dragging:void 0,keyboardMode:!1,activeDropTarget:void 0};case"registerDropTargets":return{...e,dropTargetsByOrder:{...e.dropTargetsByOrder,...t.payload}};case"leaveDropTarget":return{...e,activeDropTarget:void 0};case"selectDropTarget":return{...e,activeDropTarget:t.payload.dropTarget};case"startDragging":return{...e,...t.payload};default:return e}},D=(e,t,a)=>{const[o,i]=Object(n.useReducer)(e,t);return[o,r.a.useCallback((e=>{void 0!==a&&a.length>0&&a.forEach((t=>t(e))),i(e)}),[a])]},O=()=>{const[e,t]=r.a.useState("");return{a11yMessage:e,a11yMiddleware:r.a.useCallback((e=>{switch(e.type){case"startDragging":return void t(x.lifted(e.payload.dragging.humanData));case"selectDropTarget":return void t(x.selectedTarget(e.payload.dragging.humanData,e.payload.dropTarget.humanData,e.payload.dropTarget.dropType));case"leaveDropTarget":return void t(x.noTarget());case"dropToTarget":const{dragging:a,dropTarget:n}=e.payload;return void t(x.dropped(a.humanData,n.humanData,n.dropType));case"endDragging":return void t(x.cancelled(e.payload.dragging.humanData));default:return}}),[])}};function w({children:e,dataTestSubj:t=s,customMiddleware:a}){const{a11yMessage:n,a11yMiddleware:l}=O(),c=r.a.useMemo((()=>a?[a,l]:[l]),[a,l]),[d,u]=D(_,{...v,dataTestSubjPrefix:t},c);return Object(h.jsx)(r.a.Fragment,null,Object(h.jsx)(S,{value:[d,u]},e),Object(h.jsx)(o.EuiScreenReaderOnly,null,Object(h.jsx)("div",null,Object(h.jsx)("p",{"aria-live":"assertive","aria-atomic":!0},n),Object(h.jsx)("p",{id:`${t}-keyboardInstructionsWithReorder`},i.i18n.translate("domDragDrop.keyboardInstructionsReorder",{defaultMessage:"Press space or enter to start dragging. When dragging, use the up/down arrow keys to reorder items in the group and left/right arrow keys to choose drop targets outside of the group. Press space or enter again to finish."})),Object(h.jsx)("p",{id:`${t}-keyboardInstructions`},i.i18n.translate("domDragDrop.keyboardInstructions",{defaultMessage:"Press space or enter to start dragging. When dragging, use the left/right arrow keys to move between drop targets. Press space or enter again to finish."})))))}function L(e,t,a,n=(()=>!0),r=!1){if(!e)return;const o=[...Object.entries(e).filter((([,e])=>e&&n(e))).reduce(((e,t)=>{const[,a]=t;return a?e.find((([,e])=>(null==e?void 0:e.id)===a.id))?e:[...e,t]:e}),[]),a].sort((([e],[t])=>{const a=e.split(",").map((e=>Number(e))),n=t.split(",").map((e=>Number(e))),r=a.findIndex(((e,t)=>a[t]!==n[t]));return a[r]-n[r]}));let i=o.findIndex((([e,a])=>(null==a?void 0:a.id)===(null==t?void 0:t.id)));-1===i&&(i=o.findIndex((([e])=>e===a[0])));const s=(o.length+i-1)%o.length,l=(i+1)%o.length;return o[r?s:l][1]}function S({value:e,children:t}){return Object(h.jsx)(y.Provider,{value:e},t)}var I=a(30),k=a.n(I);const P={reorderedItems:[],direction:"-",draggingHeight:32,isReorderOn:!1},C=r.a.createContext([P,()=>()=>{}]),T=(e,t)=>{switch(t.type){case"reset":return{...e,reorderedItems:[]};case"registerDraggingItemHeight":return{...e,draggingHeight:t.payload};case"registerReorderedItemHeight":return{...e,reorderedItems:e.reorderedItems.map((e=>e.id===t.payload.id?{...e,height:t.payload.height}:e))};case"setIsReorderOn":return{...e,isReorderOn:t.payload};case"setReorderedItems":const{items:a,draggingIndex:n,droppingIndex:r}=t.payload;return n<r?{...e,reorderedItems:a.slice(n+1,r+1),direction:"-"}:{...e,reorderedItems:a.slice(r,n),direction:"+"};default:return e}};function z({children:e,className:t,dataTestSubj:a=s}){const[o,i]=Object(n.useReducer)(T,P);return Object(h.jsx)("div",{"data-test-subj":`${a}-reorderableGroup`,className:k()(t,{"domDragDrop-isActiveGroup":o.isReorderOn&&r.a.Children.count(e)>1})},Object(h.jsx)(C.Provider,{value:[o,i]},e))}var E=a(16),M=a.n(E),F=a(281),A=a.n(F);a(276);const N=()=>{},W=e=>{const[t,a]=j(),{dragging:n,dropTargetsByOrder:r}=t;if(e.isDisabled)return e.children;const{value:o,draggable:i,dropTypes:s,reorderableGroup:l}=e,c=i&&o.id===(null==n?void 0:n.id)?{keyboardMode:t.keyboardMode,activeDropTarget:t.activeDropTarget,dropTargetsByOrder:r}:void 0;if(i&&(!s||!s.length)){const n={...e,activeDraggingProps:c,dataTestSubjPrefix:t.dataTestSubjPrefix,dndDispatch:a};return l&&l.length>1?Object(h.jsx)(H,M()({},n,{reorderableGroup:l})):Object(h.jsx)(R,n)}const d={...e,dndState:t,dndDispatch:a,isNotDroppable:!(s&&s.length||!n||o.id===n.id)};return l&&l.length>1&&null!=l&&l.some((e=>e.id===(null==n?void 0:n.id)))&&"reorder"===(null==s?void 0:s[0])?Object(h.jsx)($,M()({},d,{reorderableGroup:l})):Object(h.jsx)(V,d)},B=()=>{const e=window.getSelection();e&&e.removeAllRanges()},R=Object(n.memo)((function({dataTestSubj:e,className:t,dragClassName:a,value:i,children:s,dndDispatch:l,order:c,activeDraggingProps:d,dataTestSubjPrefix:u,dragType:p,onDragStart:g,onDragEnd:b,extraKeyboardHandler:m,ariaDescribedBy:f}){const{keyboardMode:x,activeDropTarget:v,dropTargetsByOrder:y}=d||{},j=Object(n.useCallback)((e=>{l(e?{type:"selectDropTarget",payload:{dropTarget:e,dragging:i}}:{type:"leaveDropTarget"})}),[l,i]),_=Object(n.useCallback)(((e,t)=>{const a=y&&Object.values(y).filter((t=>(null==t?void 0:t.id)===e));j(null==a?void 0:a[t])}),[y,j]),D=Object(n.useMemo)((()=>({onKeyDown:e=>{if(e.preventDefault(),"Alt"===e.key&&null!=v&&v.id)_(v.id,1);else if("Shift"===e.key&&null!=v&&v.id)_(v.id,2);else if("Control"===e.key&&null!=v&&v.id){const e=Number(v.humanData.canSwap)+Number(v.humanData.canDuplicate);_(v.id,e+1)}},onKeyUp:e=>{if(e.preventDefault(),null!=v&&v.id&&["Shift","Alt","Control"].includes(e.key))if(e.altKey)_(v.id,1);else if(e.shiftKey)_(v.id,2);else if(e.ctrlKey){const e=Number(v.humanData.canSwap)+Number(v.humanData.canDuplicate);_(v.id,e+1)}else _(v.id,0)}})),[v,_]),O=Object(n.useCallback)(((e,t)=>{if(e&&"dataTransfer"in e&&e.dataTransfer.getData("text"))return;if(e&&"dataTransfer"in e){e.dataTransfer.setData("text",i.humanData.label);const t=e.currentTarget;a&&!t.classList.contains(a)&&(t.classList.add(a),requestAnimationFrame((()=>{t.classList.remove(a)})))}const n=null==e?void 0:e.currentTarget;setTimeout((()=>{l({type:"startDragging",payload:{...t?{keyboardMode:!0}:{},dragging:{...i,ghost:t?{children:s,style:{width:n.offsetWidth,minHeight:null==n?void 0:n.offsetHeight}}:void 0}}}),null==g||g(n)}))}),[l,i,g]),w=Object(n.useCallback)((e=>{null==e||e.stopPropagation(),l({type:"endDragging",payload:{dragging:i}}),null==b||b()}),[l,i,b]),S="move"===p&&x&&v&&"reorder"!==v.dropType;return Object(h.jsx)("div",{className:k()(t,{"domDragDrop-isHidden":d&&"move"===p&&!x||S,"domDragDrop--isDragStarted":d}),"data-test-subj":`${u}_draggable-${i.humanData.label}`},Object(h.jsx)(o.EuiScreenReaderOnly,{showOnFocus:!0},Object(h.jsx)("button",{"aria-label":i.humanData.label,"aria-describedby":f||`${u}-keyboardInstructions`,className:"domDragDrop__keyboardHandler","data-test-subj":`${u}-keyboardHandler`,onBlur:e=>{d&&w()},onKeyDown:e=>{const{key:t}=e;t===o.keys.ENTER||t===o.keys.SPACE?(v&&(()=>{if(v){const{dropType:e,onDrop:t}=v;setTimeout((()=>{l({type:"dropToTarget",payload:{dragging:i,dropTarget:v}})})),t(i,e)}})(),d?w():O(e,!0)):t===o.keys.ESCAPE&&d&&(e.stopPropagation(),e.preventDefault(),w()),m&&m(e),x&&(o.keys.ARROW_LEFT!==t&&o.keys.ARROW_RIGHT!==t||((e,t=!1)=>{const a=L(y,v,[c.join(",")],(e=>"reorder"!==(null==e?void 0:e.dropType)),t);e.altKey&&null!=a&&a.id?_(a.id,1):e.shiftKey&&null!=a&&a.id?_(a.id,2):e.ctrlKey&&null!=a&&a.id?_(a.id,3):j(a)})(e,!(o.keys.ARROW_LEFT!==t)),D.onKeyDown(e))},onKeyUp:D.onKeyUp})),r.a.cloneElement(s,{"data-test-subj":e||u,className:k()(s.props.className,"domDragDrop","domDragDrop-isDraggable"),draggable:!0,onDragEnd:w,onDragStart:O,onMouseDown:B}))})),V=Object(n.memo)((function(e){const{dataTestSubj:t,className:a,onDrop:r,value:i,children:s,draggable:l,dndState:c,dndDispatch:d,isNotDroppable:u,dropTypes:p,order:g,getAdditionalClassesOnEnter:b,getAdditionalClassesOnDroppable:m,getCustomDropTarget:f}=e,{dragging:x,activeDropTarget:v,dataTestSubjPrefix:y,keyboardMode:j}=c,[_,D]=Object(n.useState)(!1),O=Object(n.useRef)(null);A()((()=>{p&&null!=p&&p[0]&&r&&j&&d({type:"registerDropTargets",payload:p.reduce(((t,a,n)=>({...t,[[...e.order,n].join(",")]:{...i,onDrop:r,dropType:a}})),{})})}),[g,d,p,j]),Object(n.useEffect)((()=>{let e=!0;return v&&v.id!==i.id&&D(!1),setTimeout((()=>{!v&&e&&D(!1)}),1e3),()=>{e=!1}}),[v,D,i.id]);const w=()=>{_||D(!0)},L=(e,t)=>{if(!p||p.length<=1)return t;const a=p.indexOf(t);if(a>0)return t;if(0===a){if(e.altKey&&p[1])return p[1];if(e.shiftKey&&p[2])return p[2];if(e.ctrlKey&&(p.length>3?p[3]:p[1]))return p.length>3?p[3]:p[1]}return t},S=()=>{d({type:"leaveDropTarget"})},I=(e,a)=>{const n=Boolean((null==v?void 0:v.id)===i.id&&e===(null==v?void 0:v.dropType));return{"data-test-subj":t||y,className:P(e,a),onDragEnter:w,onDragLeave:S,onDragOver:e?t=>((e,t)=>{if(e.preventDefault(),!x||!r)return;const a=L(e,t);(null==v?void 0:v.id)===i.id&&(null==v?void 0:v.dropType)===a||d({type:"selectDropTarget",payload:{dropTarget:{...i,dropType:a,onDrop:r},dragging:x}})})(t,e):N,onDrop:e?t=>((e,t)=>{if(e.preventDefault(),e.stopPropagation(),D(!1),r&&x){const a=L(e,t);r(x,a),setTimeout((()=>{d({type:"dropToTarget",payload:{dragging:x,dropTarget:{...i,dropType:a,onDrop:r}}})}))}d({type:"resetState"})})(t,e):N,draggable:l,ghost:n&&"reorder"!==e&&(null==x?void 0:x.ghost)&&x.ghost||void 0}},P=(e,t=s)=>{const n=Boolean((null==v?void 0:v.id)===i.id&&e===(null==v?void 0:v.dropType)),r=null==m?void 0:m(e),o=k()("domDragDrop",{"domDragDrop-isDraggable":l,"domDragDrop-isDroppable":!l,"domDragDrop-isDropTarget":e,"domDragDrop-isActiveDropTarget":e&&n,"domDragDrop-isNotDroppable":u},r&&{[r]:e});return k()(o,a,t.props.className)},C=I(p&&p[0]);return Object(h.jsx)("div",{"data-test-subj":`${y}Container`,className:k()("domDragDrop__container",{"domDragDrop__container-active":_||(null==v?void 0:v.id)===i.id}),onDragEnter:w,ref:O},Object(h.jsx)(G,M()({},C,{className:k()(C.className,(()=>{const e=null==b?void 0:b(null==v?void 0:v.dropType);return k()(e&&{[e]:(null==v?void 0:v.id)===i.id})})()),children:s})),p&&p.length>1&&Object(h.jsx)(o.EuiFlexGroup,{gutterSize:"none",direction:"column","data-test-subj":`${y}ExtraDrops`,className:k()("domDragDrop__extraDrops",{"domDragDrop__extraDrops-visible":_||(null==v?void 0:v.id)===i.id})},p.slice(1).map((e=>{const t=null==f?void 0:f(e);return t?Object(h.jsx)(o.EuiFlexItem,{key:e,className:"domDragDrop__extraDropWrapper"},Object(h.jsx)(G,I(e,t),t)):null}))))})),G=({ghost:e,children:t,...a})=>Object(h.jsx)(r.a.Fragment,null,r.a.cloneElement(t,a),e?r.a.cloneElement(e.children,{className:k()(e.children.props.className,"domDragDrop_ghost"),style:e.style}):null),H=Object(n.memo)((function(e){const[{isReorderOn:t,reorderedItems:a,direction:r},i]=Object(n.useContext)(C),{value:s,activeDraggingProps:l,reorderableGroup:c,dndDispatch:d,dataTestSubjPrefix:u}=e,{keyboardMode:p,activeDropTarget:g,dropTargetsByOrder:b}=l||{},m=!!l,f=p?m&&(!g||c.some((e=>e.id===(null==g?void 0:g.id)))):m;Object(n.useEffect)((()=>{i({type:"setIsReorderOn",payload:f})}),[i,f]);const x=e=>{if(!e)return i({type:"reset"}),void d({type:"leaveDropTarget"});const t=c.findIndex((t=>t.id===e.id)),a=c.findIndex((e=>e.id===(null==s?void 0:s.id)));-1!==a&&(d({type:"selectDropTarget",payload:{dropTarget:e,dragging:s}}),i({type:"setReorderedItems",payload:{draggingIndex:a,droppingIndex:t,items:c}}))},v=p&&m&&a.length;return Object(h.jsx)("div",{"data-test-subj":`${u}-reorderableDrag`,className:k()("domDragDrop-reorderable",{"domDragDrop-translatableDrag":m,"domDragDrop-isKeyboardReorderInProgress":p&&m}),style:v?{transform:`translateY(${"+"===r?"-":"+"}${a.reduce(((e,t)=>{var a;return e+(null!==(a=t.height)&&void 0!==a?a:0)+8}),0)}px)`}:void 0},Object(h.jsx)(R,M()({},e,{ariaDescribedBy:`${u}-keyboardInstructionsWithReorder`,extraKeyboardHandler:a=>{if(t&&p){a.stopPropagation(),a.preventDefault();let t=c.findIndex((e=>e.id===s.id));if(g){const e=c.findIndex((e=>e.id===(null==g?void 0:g.id)));-1!==e&&(t=e)}if(a.key===o.keys.ARROW_LEFT||a.key===o.keys.ARROW_RIGHT)i({type:"reset"});else if(o.keys.ARROW_DOWN===a.key){if(t<c.length-1){const t=L(b,g,[e.order.join(",")],(e=>"reorder"===(null==e?void 0:e.dropType)));x(t)}}else if(o.keys.ARROW_UP===a.key&&t>0){const t=L(b,g,[e.order.join(",")],(e=>"reorder"===(null==e?void 0:e.dropType)),!0);x(t)}}},onDragStart:e=>{e&&setTimeout((()=>{i({type:"registerDraggingItemHeight",payload:e.offsetHeight+8})}))},onDragEnd:()=>{i({type:"reset"})}})))})),$=Object(n.memo)((function(e){const{onDrop:t,value:a,dndState:r,dndDispatch:o,reorderableGroup:i}=e,{dragging:s,dataTestSubjPrefix:l,activeDropTarget:c}=r,d=i.findIndex((e=>e.id===a.id)),[{isReorderOn:u,reorderedItems:p,draggingHeight:g,direction:b},m]=Object(n.useContext)(C),f=Object(n.useRef)(null),x=u&&p.some((e=>e.id===a.id))&&p.length;return Object(n.useEffect)((()=>{var e;x&&null!==(e=f.current)&&void 0!==e&&e.clientHeight&&m({type:"registerReorderedItemHeight",payload:{id:a.id,height:f.current.clientHeight}})}),[x,m,a.id]),Object(h.jsx)("div",null,Object(h.jsx)("div",{style:p.some((e=>e.id===a.id))?{transform:`translateY(${b}${g}px)`}:void 0,ref:f,"data-test-subj":`${l}-translatableDrop`,className:"domDragDrop-translatableDrop domDragDrop-reorderable"},Object(h.jsx)(V,e)),Object(h.jsx)("div",{"data-test-subj":`${l}-reorderableDropLayer`,className:k()("domDragDrop",{domDragDrop__reorderableDrop:s}),onDrop:e=>{e.preventDefault(),e.stopPropagation(),t&&s&&(t(s,"reorder"),setTimeout((()=>{o({type:"dropToTarget",payload:{dragging:s,dropTarget:{...a,dropType:"reorder",onDrop:t}}})}))),o({type:"resetState"})},onDragOver:e=>{if(e.preventDefault(),(null==c?void 0:c.id)!==(null==a?void 0:a.id)&&t){const e=i.findIndex((e=>e.id===(null==s?void 0:s.id)));if(!s||-1===e)return;const n=d;e===n&&m({type:"reset"}),m({type:"setReorderedItems",payload:{draggingIndex:e,droppingIndex:n,items:i}}),o({type:"selectDropTarget",payload:{dropTarget:{...a,dropType:"reorder",onDrop:t},dragging:s}})}},onDragLeave:()=>{o({type:"leaveDropTarget"}),m({type:"reset"})}}))})),U=({type:e,isIncompatible:t})=>{const{icon:a,label:n,controlKey:r}=function(e){switch(e){case"duplicate":return{icon:"copy",label:i.i18n.translate("domDragDrop.dropTargets.duplicate",{defaultMessage:"Duplicate"}),controlKey:i.i18n.translate("domDragDrop.dropTargets.altOption",{defaultMessage:"Alt/Option"})};case"swap":return{icon:"merge",label:i.i18n.translate("domDragDrop.dropTargets.swap",{defaultMessage:"Swap"}),controlKey:i.i18n.translate("domDragDrop.dropTargets.shift",{defaultMessage:"Shift"})};case"combine":return{icon:"aggregate",label:i.i18n.translate("domDragDrop.dropTargets.combine",{defaultMessage:"Combine"}),controlKey:i.i18n.translate("domDragDrop.dropTargets.control",{defaultMessage:"Control"})};default:throw Error("Drop type not supported")}}(e);return Object(h.jsx)(o.EuiFlexGroup,{gutterSize:"s",justifyContent:"spaceBetween",alignItems:"center",className:k()("domDragDrop__extraDrop",{"domDragDrop-incompatibleExtraDrop":t})},Object(h.jsx)(o.EuiFlexItem,{grow:!1},Object(h.jsx)(o.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},Object(h.jsx)(o.EuiFlexItem,{grow:!1},Object(h.jsx)(o.EuiIcon,{size:"m",type:a})),Object(h.jsx)(o.EuiFlexItem,{grow:!1,"data-test-subj":`${s}-dropTarget-${e}`},Object(h.jsx)(o.EuiText,{size:"s"},n)))),Object(h.jsx)(o.EuiFlexItem,{grow:!1},Object(h.jsx)(o.EuiText,{size:"xs"},Object(h.jsx)("code",null," ",r))))},q={replace_duplicate_incompatible:U({type:"duplicate",isIncompatible:!0}),duplicate_incompatible:U({type:"duplicate",isIncompatible:!0}),swap_incompatible:U({type:"swap",isIncompatible:!0}),replace_duplicate_compatible:U({type:"duplicate"}),duplicate_compatible:U({type:"duplicate"}),swap_compatible:U({type:"swap"}),field_combine:U({type:"combine"}),combine_compatible:U({type:"combine"}),combine_incompatible:U({type:"combine",isIncompatible:!0})},Y={getCustomDropTarget:e=>(null==q?void 0:q[e])||null,getAdditionalClassesOnDroppable:e=>{if(e&&["move_incompatible","replace_incompatible","swap_incompatible","duplicate_incompatible","replace_duplicate_incompatible","combine_incompatible"].includes(e))return"domDragDrop-notCompatible"},getAdditionalClassesOnEnter:e=>{if(e&&["field_replace","replace_compatible","replace_incompatible","replace_duplicate_compatible","replace_duplicate_incompatible"].includes(e))return"domDragDrop-isReplacing"}}},,,,,,function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const n="event-annotation-group"},function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return s})),a.d(t,"d",(function(){return l})),a.d(t,"b",(function(){return c}));var n=a(31),r=a(99),o=a(75);function i({datasourceMap:e,datasourceStates:t,visualizationMap:a,activeVisualization:o,subVisualizationId:i,visualizationState:s,field:l,visualizeTriggerFieldContext:c,activeData:d,dataViews:u,mainPalette:p,allowMixed:g}){const b=Object.entries(e).filter((([e])=>t[e]&&!t[e].isLoading)),m=b.reduce(((e,[a,r])=>{const i=t[a].state;if(!o||!i)return e;const l=r.getLayers(i);for(const t of l){const a=o.getLayerType(t,s)||n.LayerTypes.DATA;e[t]=a}return e}),{}),f=(e,t)=>{var a;return t.includes(null!==(a=m[e])&&void 0!==a?a:n.LayerTypes.DATA)},x=b.flatMap((([e,a])=>{const o=t[e].state;let i;try{i=c?"isVisualizeAction"in c?a.getDatasourceSuggestionsForVisualizeCharts(o,c.layers,u.indexPatterns):a.getDatasourceSuggestionsForVisualizeField(o,c.dataViewSpec.id,c.fieldName,u.indexPatterns):l?a.getDatasourceSuggestionsForField(o,l,(e=>f(e,[n.LayerTypes.DATA])),u.indexPatterns):a.getDatasourceSuggestionsFromCurrentState(o,u.indexPatterns,(e=>f(e,[n.LayerTypes.DATA])),d)}catch(e){return Object(r.c)(e),[]}return i.map((t=>({...t,datasourceId:e})))}));return Object.entries(a).flatMap((([e,t])=>{if(!t)return[];const a=t.getSupportedLayers().map((({type:e})=>e));return x.filter((e=>{const t=e.keptLayerIds.filter((e=>f(e,a))).length;return t||t===e.keptLayerIds.length})).flatMap((n=>{var l;const u=n.datasourceId,b=n.table,m=e===(null==o?void 0:o.id)?s:void 0,x=p||(null==o||null===(l=o.getMainPalette)||void 0===l?void 0:l.call(o,s));return function(e,t,a,n,o,i,s,l,c,d,u){try{return e.getSuggestions({table:t,state:o,keptLayerIds:n.keptLayerIds,subVisualizationId:i,mainPalette:s,isFromContext:l,activeData:c,allowMixed:d,datasourceId:u}).map((({state:e,...r})=>({...r,visualizationId:a,visualizationState:e,keptLayerIds:n.keptLayerIds,datasourceState:n.state,datasourceId:n.datasourceId,columns:t.columns.length,changeType:t.changeType})))}catch(e){return Object(r.c)(e),[]}}(t,b,e,{...n,keptLayerIds:n.keptLayerIds.filter((e=>f(e,a)))},m,i,x,c&&"isVisualizeAction"in c,d,g,u)}))})).sort(((e,t)=>t.score-e.score))}function s({datasourceMap:e,datasourceStates:t,visualizationMap:a,visualizeTriggerFieldContext:n,dataViews:r}){const o=(null==a?void 0:a[Object.keys(a)[0]])||null,s=i({datasourceMap:e,datasourceStates:t,visualizationMap:a,activeVisualization:o,visualizationState:void 0,visualizeTriggerFieldContext:n,dataViews:r});if(n&&"isVisualizeAction"in n){var l;const e=s.filter((e=>e.visualizationId===n.type)),t=a[n.type]||null;return null==t||null===(l=t.getSuggestionFromConvertToLensContext)||void 0===l?void 0:l.call(t,{suggestions:e,context:n})}return n&&"query"in n&&n.query?s.find((e=>"textBased"===e.datasourceId)):s.length?s.find((e=>e.visualizationId===(null==o?void 0:o.id)))||s[0]:void 0}function l(e,t,a){e(Object(o.R)({suggestion:{newVisualizationId:t.visualizationId,visualizationState:t.visualizationState,datasourceState:t.datasourceState,datasourceId:t.datasourceId},clearStagedPreview:null==a?void 0:a.clearStagedPreview})),null!=a&&a.applyImmediately&&e(Object(o.b)())}function c(e,t,a,n,r,o,s,l){var c;const d=Object.values(e).some((e=>e&&e.getTableSpec().length>0)),u=t.activeId?n[t.activeId]:void 0,p=null==u||null===(c=u.getMainPalette)||void 0===c?void 0:c.call(u,t.state),g=i({datasourceMap:{[r.id]:r},datasourceStates:a,visualizationMap:d&&t.activeId?{[t.activeId]:u}:n,activeVisualization:u,visualizationState:t.state,field:o,mainPalette:p,dataViews:s,allowMixed:l});return g.find((e=>e.visualizationId===t.activeId))||g.filter((e=>!e.hide))[0]||g[0]}},function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(0),r=a(3);const o=n.i18n.translate("xpack.lens.indexPattern.records",{defaultMessage:"Records"}),i={displayName:o,customLabel:o,name:r.DOCUMENT_FIELD_NAME,type:"document",aggregatable:!0,searchable:!0}},,,,function(e,t,a){"use strict";a.d(t,"a",(function(){return error_boundary_ErrorBoundary})),a.d(t,"b",(function(){return d.a})),a.d(t,"c",(function(){return d.b}));var n=a(1),r=a.n(n),o=a(7),i=a.n(o),s=a(4),l=a(2);const c=({error:e})=>{throw e};class error_boundary_ErrorBoundary extends i.a.Component{constructor(...e){super(...e),r()(this,"state",{originalError:void 0})}static getDerivedStateFromError(e){return{originalError:e}}componentDidCatch(e){var t,a;null===(t=(a=this.props).onError)||void 0===t||t.call(a,e)}static getDerivedStateFromProps(){return{originalError:void 0}}render(){var e;return null!==(e=this.state)&&void 0!==e&&e.originalError?Object(l.jsx)(s.EuiErrorBoundary,null,Object(l.jsx)(c,{error:this.state.originalError})):this.props.children}}var d=a(109)},,,function(e,t,a){"use strict";a.d(t,"b",(function(){return f})),a.d(t,"d",(function(){return h})),a.d(t,"e",(function(){return v})),a.d(t,"c",(function(){return y})),a.d(t,"f",(function(){return j})),a.d(t,"a",(function(){return _}));var n=a(27),r=a(239),o=a(42),i=a(93),s=a(3),l=a(129),c=a(70),d=a(103),u=a(130),p=a(128);const g=s.COLOR_MAPPING_OFF_BY_DEFAULT?{type:"legacyPalette",value:{name:"default",type:"palette"}}:{type:"colorMapping",value:{...r.a}},b=(e,t)=>{var a;const n=Object(d.b)(e,"indexPatternId");return n&&(null===(a=t.find((e=>e.id===n)))||void 0===a?void 0:a.id)},m=(e,t,a)=>{const n=e.map((({id:e})=>e)),r=t.filter((e=>!n.includes(e)));return Object.values(a).filter((({id:e})=>r.includes(e))).map((({id:e,title:t,name:a})=>({id:e,title:t,name:a})))};async function f({dataViews:e,datasourceMap:t,datasourceStates:a,storage:r,defaultIndexPatternId:i,references:s,initialContext:l,adHocDataViews:d,annotationGroups:p},g){var f;const x=Object.fromEntries(Object.entries(d||{}).map((([e,t])=>[e,o.DataViewPersistableStateService.inject(t,s||[])]))),h=Object.values(p);for(const e of h){var v;null!==(v=e.dataViewSpec)&&void 0!==v&&v.id&&(x[e.dataViewSpec.id]=e.dataViewSpec)}const{isFullEditor:y}=null!=g?g:{},j=await(y?Object(u.c)(e):[]),_=b(r,j)||i||(null===(f=j[0])||void 0===f?void 0:f.id),D=!l&&Object.keys(t).every((e=>{var t;return!(null!==(t=a[e])&&void 0!==t&&t.state)}))?_:void 0,O=Object.keys(x||{}),w=function(e,t,a,n,r){const o=[...e];if(!a&&n&&o.push(n),a&&("isVisualizeAction"in a?o.push(...a.indexPatternIds):o.push(a.dataViewSpec.id)),t)for(const e of t)"index-pattern"===e.type&&o.push(e.id);return r&&o.push(...r),[...new Set(o)]}(h.map((e=>e.indexPatternId)),s,l,D,O),L=new Set(j.map((({id:e})=>e))),S=Object(n.difference)([...L],w),I=await Object(u.d)({dataViews:e,patterns:w,notUsedPatterns:S,cache:{},adHocDataViews:x}),k=m(j,w,I);return{indexPatternRefs:Object(c.sortDataViewRefs)([...j,...k]),indexPatterns:I}}const x=async(e,t)=>{const a={};return await Promise.allSettled((t||[]).filter((e=>e.type===i.a)).map((({id:t})=>e.loadAnnotationGroup(t).then((e=>{a[t]=e}))))),a};async function h({dataViews:e,eventAnnotationService:t,datasourceMap:a,visualizationMap:n,visualizationState:r,datasourceStates:o,storage:i,defaultIndexPatternId:s,references:l,initialContext:c,adHocDataViews:d},u){const p=await x(t,l),{indexPatternRefs:g,indexPatterns:b}=await f({datasourceMap:a,datasourceStates:o,initialContext:c,dataViews:e,storage:i,defaultIndexPatternId:s,references:l,adHocDataViews:d,annotationGroups:p},u);return{indexPatterns:b,indexPatternRefs:g,annotationGroups:p,datasourceStates:y({datasourceMap:a,datasourceStates:o,initialContext:c,indexPatternRefs:g,indexPatterns:b,references:l}),visualizationState:v({visualizationMap:n,visualizationState:r,references:l,initialContext:c,annotationGroups:p})}}function v({visualizationMap:e,visualizationState:t,references:a,annotationGroups:n}){var r,o;return null!=t&&t.activeId&&null!==(r=null===(o=e[t.activeId])||void 0===o?void 0:o.initialize((()=>""),t.state,g,n,a))&&void 0!==r?r:t.state}function y({datasourceMap:e,datasourceStates:t,indexPatternRefs:a,indexPatterns:n,references:r,initialContext:o}){const i={};for(const[s,l]of Object.entries(e))if(t[s]){const e=l.initialize(t[s].state||void 0,r,o,a,n);i[s]={isLoading:!1,state:e}}return i}async function j(e,t,a,n){const{state:{visualization:r,datasourceStates:o,adHocDataViews:i,internalReferences:s},visualizationType:d,references:u,title:g,description:b}=a;if(!d)return{ast:null,indexPatterns:{},indexPatternRefs:[],activeVisualizationState:null};const m=await x(n.eventAnnotationService,u),h=t[d],j=v({visualizationMap:t,visualizationState:{state:r,activeId:d},annotationGroups:m,references:[...u,...s||[]]}),_=Object.fromEntries(Object.entries(o).map((([e,t])=>[e,{isLoading:!1,state:t}]))),{indexPatterns:D,indexPatternRefs:O}=await f({datasourceMap:e,datasourceStates:_,references:u,dataViews:n.dataViews,storage:n.storage,defaultIndexPatternId:n.uiSettings.get("defaultIndex"),adHocDataViews:i,annotationGroups:m},{isFullEditor:!1}),w=y({datasourceMap:e,datasourceStates:_,references:[...u,...s||[]],indexPatterns:D,indexPatternRefs:O}),L=Object(p.a)(w,e,D);if(null==Object(c.getActiveDatasourceIdFromDoc)(a))return{ast:null,indexPatterns:D,indexPatternRefs:O,activeVisualizationState:j};const S=n.timefilter.getAbsoluteTime();return{ast:Object(l.a)({title:g,description:b,visualization:h,visualizationState:j,datasourceMap:e,datasourceStates:w,datasourceLayers:L,indexPatterns:D,dateRange:{fromDate:S.from,toDate:S.to},nowInstant:n.nowProvider.get()}),activeVisualizationState:j,indexPatterns:D,indexPatternRefs:O}}function _(e,t,a){if(null!=t&&t.isLoading||null==(null==t?void 0:t.state)||null==e)return[];const n=e.checkIntegrity(t.state,a);return n.length?n:[]}},function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return o}));const n="lens-settings",r=(e,t)=>{const a=e.get(n);return a&&a[t]},o=(e,t,a)=>{e.set(n,{...e.get(n),[t]:a})}},function(e,t,a){"use strict";a.d(t,"b",(function(){return u})),a.d(t,"a",(function(){return p})),a.d(t,"c",(function(){return b}));var n=a(7),r=a.n(n),o=a(0),i=a(141),s=a(28),l=a(75),c=a(102),d=a(2);const u=({visualizationType:e,visualization:t,visualizationState:a,activeDatasource:n,activeDatasourceState:l,dataViews:u,core:p})=>{const g=[];var b;e||g.push({severity:"error",displayLocations:[{id:"visualizationOnEmbeddable"}],fixableInEditor:!0,shortMessage:"",longMessage:o.i18n.translate("xpack.lens.editorFrame.expressionMissingVisualizationType",{defaultMessage:"Visualization type not found."})}),null!=a&&a.activeId&&!t&&g.push((b=a.activeId,{severity:"error",fixableInEditor:!1,displayLocations:[{id:"visualization"}],shortMessage:o.i18n.translate("xpack.lens.unknownVisType.shortMessage",{defaultMessage:"Unknown visualization type"}),longMessage:o.i18n.translate("xpack.lens.unknownVisType.longMessage",{defaultMessage:"The visualization type {visType} could not be resolved.",values:{visType:b}})})),n||g.push({severity:"error",fixableInEditor:!1,displayLocations:[{id:"visualization"}],shortMessage:o.i18n.translate("xpack.lens.unknownDatasourceType.shortMessage",{defaultMessage:"Unknown datasource type"}),longMessage:o.i18n.translate("xpack.lens.editorFrame.expressionMissingDatasource",{defaultMessage:"Could not find datasource for the visualization"})});const m=Object(c.a)(n,l,u.indexPatterns);return m.length&&g.push(...function(e,t){const{management:a}=e.application.capabilities.navLinks,n=e.application.capabilities.management.kibana.indexPatterns,l=a&&n;return[{severity:"error",fixableInEditor:l,displayLocations:[{id:"visualizationInEditor"}],shortMessage:"",longMessage:Object(d.jsx)(r.a.Fragment,null,Object(d.jsx)("p",{className:"eui-textBreakWord","data-test-subj":"missing-refs-failure"},Object(d.jsx)(s.FormattedMessage,{id:"xpack.lens.editorFrame.dataViewNotFound",defaultMessage:"Data view not found"})),Object(d.jsx)("p",{className:"eui-textBreakWord",style:{userSelect:"text"}},Object(d.jsx)(s.FormattedMessage,{id:"xpack.lens.indexPattern.missingDataView",defaultMessage:"The {count, plural, one {data view} other {data views}} ({count, plural, one {id} other {ids}}: {indexpatterns}) cannot be found.",values:{count:t.length,indexpatterns:t.join(", ")}}),l&&Object(d.jsx)(i.a,{coreStart:e},Object(d.jsx)("a",{href:e.application.getUrlForApp("management",{path:"/kibana/indexPatterns/create"}),style:{width:"100%",textAlign:"center"},"data-test-subj":"configuration-failure-reconfigure-indexpatterns"},o.i18n.translate("xpack.lens.editorFrame.dataViewReconfigure",{defaultMessage:"Recreate it in the data view management page."})))))},{severity:"error",fixableInEditor:l,displayLocations:[{id:"visualizationOnEmbeddable"}],shortMessage:"",longMessage:o.i18n.translate("xpack.lens.editorFrame.expressionMissingDataView",{defaultMessage:"Could not find the {count, plural, one {data view} other {data views}}: {ids}",values:{count:t.length,ids:t.join(", ")}})}]}(p,m)),g},p=(e,t,{dimensionId:a,severity:n}={})=>{const r=Array.isArray(t)?t:"string"==typeof t?[t]:[];return e.filter((e=>!(r.length&&!e.displayLocations.some((e=>!(!r.includes(e.id)||"dimensionButton"===e.id&&e.dimensionId!==a))))&&(!n||e.severity===n))).sort(g)};function g(e,t){return e.severity===t.severity?0:"error"===e.severity?-1:"error"===t.severity?1:"warning"===e.severity?-1:1}const b=({coreStart:e,dispatch:t,activeDatasourceId:a,datasource:r,datasourceState:o,framePublicAPI:i,visualizationType:s,visualization:c,visualizationState:d})=>{const[g,b]=Object(n.useState)([]),[m,f]=Object(n.useState)({});return Object(n.useEffect)((()=>{var n,p;b([...o&&o.state&&r&&a?r.getUserMessages(o.state,{frame:i,setState:e=>{t(Object(l.S)({newDatasourceState:"function"==typeof e?e(o.state):e,datasourceId:a}))}}):[],...null!=d&&d.activeId&&d.state&&null!==(n=null==c||null===(p=c.getUserMessages)||void 0===p?void 0:p.call(c,d.state,{frame:i}))&&void 0!==n?n:[],...u({visualizationType:s,visualization:c,visualizationState:d,activeDatasource:r,activeDatasourceState:o,core:e,dataViews:i.dataViews})])}),[a,r,o,t,i,c,d,s,e]),{getUserMessages:(e,t)=>p([...g,...Object.values(m)],e,null!=t?t:{}),addUserMessages:e=>{const t={...m},a=[];return e.forEach((e=>{t[e.uniqueId]||(a.push(e.uniqueId),t[e.uniqueId]=e)})),a.length&&f(t),()=>{const e={...m};a.forEach((t=>delete e[t])),f(e)}}}}},function(e,t,a){"use strict";a.d(t,"a",(function(){return _})),a.d(t,"b",(function(){return D})),a.d(t,"c",(function(){return O})),a(131);var n=a(7),r=a.n(n),o=a(4),i=a(30),s=a.n(i),l=a(28),c=a(70),d=(a(314),a(0)),u=a(139),p=a(94),g=a(99),b=a(75),m=a(123),f=a(2);function x({visualizationMap:e,visualization:t}){const a=e[t.activeId||""];if(!a)return Object(f.jsx)(r.a.Fragment,null,d.i18n.translate("xpack.lens.configPanel.selectVisualization",{defaultMessage:"Select a visualization"}));const n=a.getDescription(t.state);return Object(f.jsx)(r.a.Fragment,null,n.icon&&Object(f.jsx)(o.EuiIcon,{size:"l",className:"lnsChartSwitch__summaryIcon",type:n.icon}),Object(f.jsx)("span",{className:"lnsChartSwitch__summaryText"},n.label))}function h(e,t){try{return e()}catch(e){return Object(g.c)(e),t}}const v=Object(n.memo)((function(e){const[t,a]=Object(n.useState)(!1),i=Object(b.V)(),s=Object(b.W)(b.r),c=Object(b.W)(b.I),g=Object(b.W)(b.y);function v(t,a){var n;const r=e.visualizationMap[t],o=(a,n)=>e.visualizationMap[t].switchVisualizationType?h((()=>e.visualizationMap[t].switchVisualizationType(a,n)),n):n,l=Object.entries(e.framePublicAPI.datasourceLayers),d=l.some((([e,t])=>t&&t.getTableSpec().length>0));if(c.activeId===t&&c.state&&h((()=>r.getVisualizationTypeId(c.state)===a),!1))return{visualizationId:t,subVisualizationId:a,dataLoss:"nothing",keptLayerIds:Object.keys(e.framePublicAPI.datasourceLayers),getVisualizationState:()=>o(a,c.state),sameDatasources:!0};const u=function(e,t,a,n,r,o){const i=n.activeId&&e.visualizationMap[n.activeId]&&e.visualizationMap[n.activeId].getMainPalette?e.visualizationMap[n.activeId].getMainPalette(n.state):void 0,s=Object(p.a)({datasourceMap:e.datasourceMap,datasourceStates:a,visualizationMap:{[t]:r},activeVisualization:n.activeId?e.visualizationMap[n.activeId]:void 0,visualizationState:n.state,subVisualizationId:o,activeData:e.framePublicAPI.activeData,mainPalette:i,dataViews:e.framePublicAPI.dataViews}).filter((e=>"extended"!==e.changeType&&h((()=>r.getVisualizationTypeId(e.visualizationState)===o),!1)));return s.find((e=>"unchanged"===e.changeType||"reduced"===e.changeType))||s[0]}(e,t,g,c,r,a);let f;function x(){const e=Object(m.a)();return i(Object(b.i)({datasourceId:s,layerId:e})),e}return f=d?u?l.length>1&&l.length!==u.keptLayerIds.length?"layers":u.columns!==(null===(n=l[0][1])||void 0===n?void 0:n.getTableSpec().length)?"columns":"nothing":"everything":"nothing",{visualizationId:t,subVisualizationId:a,dataLoss:f,getVisualizationState:u?()=>o(a,r.initialize(x,u.visualizationState)):()=>o(a,r.initialize(x,c.activeId===r.id?c.state:void 0,c.activeId&&e.visualizationMap[c.activeId].getMainPalette?e.visualizationMap[c.activeId].getMainPalette(c.state):void 0)),keptLayerIds:u?u.keptLayerIds:[],datasourceState:u?u.datasourceState:void 0,datasourceId:u?u.datasourceId:void 0,sameDatasources:"nothing"===f&&c.activeId===r.id}}const[y,j]=Object(n.useState)(""),{visualizationTypes:_,visualizationsLookup:D}=Object(n.useMemo)((()=>{if(!t)return{visualizationTypes:[],visualizationsLookup:{}};const a=c.activeId&&e.visualizationMap[c.activeId]?(n=e.visualizationMap[c.activeId],r=c.state,h((()=>n.getVisualizationTypeId(r)),void 0)):void 0;var n,r;const i=y.toLowerCase(),s={},u={};return Object.entries(e.visualizationMap).forEach((([e,t])=>{for(const n of t.visualizationTypes){var a;if(n.label.toLowerCase().includes(i)||(null===(a=n.fullLabel)||void 0===a?void 0:a.toLowerCase().includes(i))){s[n.groupLabel]=s[n.groupLabel]||{priority:0,visualizations:[]};const t={...n,visualizationId:e,selection:v(e,n.id)};s[n.groupLabel].priority+=n.sortPriority||0,s[n.groupLabel].visualizations.push(t),u[`${e}:${n.id}`]=t}}})),{visualizationTypes:Object.keys(s).sort(((e,t)=>s[t].priority-s[e].priority)).flatMap((e=>{const{visualizations:t}=s[e];return 0===t.length?[]:[{key:e,label:e,isGroupLabel:!0,"aria-label":e,"data-test-subj":`lnsChartSwitchPopover_${e}`}].concat(t.sort(((e,t)=>(e.fullLabel||e.label).localeCompare(t.fullLabel||t.label))).map((e=>({"aria-label":e.fullLabel||e.label,className:"lnsChartSwitch__option",isGroupLabel:!1,key:`${e.visualizationId}:${e.id}`,value:`${e.visualizationId}:${e.id}`,"data-test-subj":`lnsChartSwitchPopover_${e.id}`,label:e.fullLabel||e.label,prepend:Object(f.jsx)(o.EuiIcon,{className:"lnsChartSwitch__chartIcon",type:e.icon||"empty"}),append:"nothing"!==e.selection.dataLoss||e.showExperimentalBadge?Object(f.jsx)(o.EuiFlexGroup,{gutterSize:"xs",responsive:!1,alignItems:"center",className:"lnsChartSwitch__append"},"nothing"!==e.selection.dataLoss?Object(f.jsx)(o.EuiFlexItem,{grow:!1},Object(f.jsx)(o.EuiIconTip,{"aria-label":d.i18n.translate("xpack.lens.chartSwitch.dataLossLabel",{defaultMessage:"Warning"}),type:"warning",color:"warning",content:d.i18n.translate("xpack.lens.chartSwitch.dataLossDescription",{defaultMessage:"Selecting this visualization type will remove incompatible configuration options and multiple layers, if present"}),iconProps:{className:"lnsChartSwitch__chartIcon","data-test-subj":`lnsChartSwitchPopoverAlert_${e.id}`}})):null,e.showExperimentalBadge?Object(f.jsx)(o.EuiFlexItem,{grow:!1},Object(f.jsx)(o.EuiBadge,{color:"hollow"},Object(f.jsx)(l.FormattedMessage,{id:"xpack.lens.chartSwitch.experimentalLabel",defaultMessage:"Technical preview"}))):null):null,...a===e.id&&{checked:"on"}}))))})),visualizationsLookup:u}}),[t,e.visualizationMap,e.framePublicAPI,c.activeId,c.state,y]);return Object(f.jsx)("div",{className:"lnsChartSwitch__header"},Object(f.jsx)(o.EuiPopover,{id:"lnsChartSwitchPopover",ownFocus:!0,initialFocus:".lnsChartSwitch__popoverPanel",panelClassName:"lnsChartSwitch__popoverPanel",panelPaddingSize:"s",button:Object(f.jsx)(u.a,{onClick:()=>a(!t),"data-test-subj":"lnsChartSwitchPopover",fontWeight:"bold",label:Object(f.jsx)(x,{visualization:c,visualizationMap:e.visualizationMap})}),isOpen:t,closePopover:()=>a(!1),anchorPosition:"downLeft"},Object(f.jsx)(o.EuiPopoverTitle,null,Object(f.jsx)(o.EuiFlexGroup,{alignItems:"center",responsive:!1},Object(f.jsx)(o.EuiFlexItem,null,d.i18n.translate("xpack.lens.configPanel.visualizationType",{defaultMessage:"Visualization type"})))),Object(f.jsx)(o.EuiSelectable,{className:"lnsChartSwitch__options",height:(O=_,380,0===O.length?0:Math.min(32*O.length,380)),searchable:!0,singleSelection:!0,isPreFiltered:!0,"data-test-subj":"lnsChartSwitchList",searchProps:{className:"lnsChartSwitch__search","data-test-subj":"lnsChartSwitchSearch",onChange:e=>j(e)},options:_,onChange:t=>{const n=t.find((({checked:e})=>"on"===e));if(!n)return;const r=n.value;var o;o=D[r].selection,a(!1),Object(p.d)(i,{...o,visualizationState:o.getVisualizationState()},{clearStagedPreview:!0}),(o.datasourceId||o.sameDatasources)&&"everything"!==o.dataLoss||i(Object(b.o)({visualizationId:c.activeId,layerIds:Object.keys(e.framePublicAPI.datasourceLayers)}))},noMatchesMessage:Object(f.jsx)(l.FormattedMessage,{id:"xpack.lens.chartSwitch.noResults",defaultMessage:"No results found for {term}.",values:{term:Object(f.jsx)("strong",null,y)}})},((e,t)=>Object(f.jsx)(r.a.Fragment,null,t,e)))));var O}));var y=a(161);function j(){const e=Object(b.W)((e=>{var t;return null===(t=e.lens.persistedDoc)||void 0===t?void 0:t.title}));return Object(f.jsx)(o.EuiScreenReaderOnly,null,Object(f.jsx)("h1",{id:"lns_ChartTitle","data-test-subj":"lns_ChartTitle"},e||d.i18n.translate("xpack.lens.chartTitle.unsaved",{defaultMessage:"Unsaved visualization"})))}const _="autoApplyDisabled";function D(e){var t;const a=Object(b.V)(),i=Object(b.W)(b.J),{activeVisualization:l,isFixedPosition:c}=e,d=Object(n.useCallback)((e=>{l&&a(Object(b.U)({visualizationId:l.id,newState:e}))}),[a,l]),u=null===(t=e.activeVisualization)||void 0===t?void 0:t.ToolbarComponent;return Object(f.jsx)(r.a.Fragment,null,u&&Object(f.jsx)(o.EuiFlexItem,{grow:!1,className:s()({"lnsVisualizationToolbar--fixed":c})},u({frame:e.framePublicAPI,state:i.state,setState:d})))}function O({children:e,framePublicAPI:t,visualizationState:a,visualizationId:n,visualizationMap:r,datasourceMap:i,isFullscreen:d,getUserMessages:u}){const p=Object(b.V)(),g=Object(b.W)(b.u),m=Object(b.W)(b.t),x=n?r[n]:null,h=u("toolbar");return Object(f.jsx)(o.EuiPageTemplate,{direction:"column",offset:0,minHeight:0,restrictWidth:!1,mainProps:{component:"div"}},!(d&&(m||null!=h&&h.length))&&Object(f.jsx)(o.EuiPageTemplate.Section,{paddingSize:"none",color:"transparent",className:"hide-for-sharing"},Object(f.jsx)(o.EuiFlexGroup,{alignItems:"flexEnd",gutterSize:"s",direction:"row",className:s()("lnsWorkspacePanelWrapper__toolbar",{"lnsWorkspacePanelWrapper__toolbar--fullscreen":d}),responsive:!1},!d&&Object(f.jsx)(o.EuiFlexItem,null,Object(f.jsx)(o.EuiFlexGroup,{alignItems:"center",gutterSize:"s",responsive:!1,wrap:!0},Object(f.jsx)(o.EuiFlexItem,{grow:!1},Object(f.jsx)(v,{"data-test-subj":"lnsChartSwitcher",visualizationMap:r,datasourceMap:i,framePublicAPI:t})),Object(f.jsx)(D,{activeVisualization:x,framePublicAPI:t}))),Object(f.jsx)(o.EuiFlexItem,{grow:!1},Object(f.jsx)(o.EuiFlexGroup,{alignItems:"center",gutterSize:"s",responsive:!1},null!=h&&h.length?Object(f.jsx)(o.EuiFlexItem,{grow:!1},Object(f.jsx)(y.a,{messages:h})):null,!m&&Object(f.jsx)(o.EuiFlexItem,{grow:!1},Object(f.jsx)(o.EuiButton,{disabled:m||g,fill:!0,className:"lnsWorkspacePanelWrapper__applyButton "+c.DONT_CLOSE_DIMENSION_CONTAINER_ON_CLICK_CLASS,iconType:"checkInCircleFilled",onClick:()=>p(Object(b.b)()),size:"m","data-test-subj":"lnsApplyChanges__toolbar",minWidth:"auto"},Object(f.jsx)(l.FormattedMessage,{id:"xpack.lens.editorFrame.applyChangesLabel",defaultMessage:"Apply changes"}))))))),Object(f.jsx)(o.EuiPageTemplate.Section,{grow:!0,paddingSize:"none",contentProps:{className:"lnsWorkspacePanelWrapper__content"},className:s()("lnsWorkspacePanelWrapper stretch-for-sharing",{"lnsWorkspacePanelWrapper--fullscreen":d}),color:"transparent"},Object(f.jsx)(j,null),e))}},,,,function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return l}));var n=a(0),r=a(64);const[o,i]=Object(r.createGetterSetter)("MemoizedErrorNotification",!1),s=e=>{var t;return null===(t=o())||void 0===t?void 0:t(e)},l=e=>{i((e=>{const t=new Map;return a=>{const{message:r}=a;r&&(t.has(r)||(e.notifications.toasts.addError(a,{title:n.i18n.translate("xpack.lens.uiErrors.unexpectedError",{defaultMessage:"An unexpected error occurred."})}),t.set(r,!0)))}})(e))}},,function(e,t,a){"use strict";function n(e){return"object"==typeof(null==e?void 0:e.node)}function r(e){return"object"==typeof e&&"expression"===(null==e?void 0:e.type)}function o(e,t,a,n){var r=Error.call(this,e);return Object.setPrototypeOf&&Object.setPrototypeOf(r,o.prototype),r.expected=t,r.found=a,r.location=n,r.name="SyntaxError",r}function i(e,t,a){return a=a||" ",e.length>t?e:(t-=e.length,e+(a+=a.repeat(t)).slice(0,t))}a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return f})),function(e,t){function a(){this.constructor=e}a.prototype=t.prototype,e.prototype=new a}(o,Error),o.prototype.format=function(e){var t="Error: "+this.message;if(this.location){var a,n=null;for(a=0;a<e.length;a++)if(e[a].source===this.location.source){n=e[a].text.split(/\r\n|\n|\r/g);break}var r=this.location.start,o=this.location.source+":"+r.line+":"+r.column;if(n){var s=this.location.end,l=i("",r.line.toString().length),c=n[r.line-1],d=r.line===s.line?s.column:c.length+1;t+="\n --\x3e "+o+"\n"+l+" |\n"+r.line+" | "+c+"\n"+l+" | "+i("",r.column-1)+i("",d-r.column,"^")}else t+="\n at "+o}return t},o.buildMessage=function(e,t){var a={literal:function(e){return'"'+r(e.text)+'"'},class:function(e){var t=e.parts.map((function(e){return Array.isArray(e)?o(e[0])+"-"+o(e[1]):o(e)}));return"["+(e.inverted?"^":"")+t+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(e){return e.description}};function n(e){return e.charCodeAt(0).toString(16).toUpperCase()}function r(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+n(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+n(e)}))}function o(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+n(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+n(e)}))}function i(e){return a[e.type](e)}return"Expected "+function(e){var t,a,n=e.map(i);if(n.sort(),n.length>0){for(t=1,a=1;t<n.length;t++)n[t-1]!==n[t]&&(n[a]=n[t],a++);n.length=a}switch(n.length){case 1:return n[0];case 2:return n[0]+" or "+n[1];default:return n.slice(0,-1).join(", ")+", or "+n[n.length-1]}}(e)+" but "+function(e){return e?'"'+r(e)+'"':"end of input"}(t)+" found."};const s=function(e,t){var a,n={},r=(t=void 0!==t?t:{}).grammarSource,i={expression:ye,argument:De},s=ye,l="|",c="=",d="$",u="{",p="}",g='"',b="'",m="//",f="/*",x="*/",h="\\",v=/^[a-zA-Z0-9_\-]/,y=/^[ \t\r\n]/,j=/^[^\n]/,_=/^["'(){}<>[\]$`|= \t\n\r]/,D=/^[^"'(){}<>[\]$`|= \t\n\r]/,O=/^[^"]/,w=/^[^']/,L=be("|",!1),S=fe("function"),I=be("=",!1),k=be("$",!1),P=be("{",!1),C=be("}",!1),T=me([["a","z"],["A","Z"],["0","9"],"_","-"],!1,!1),z=fe("literal"),E=be('"',!1),M=be("'",!1),F=me([" ","\t","\r","\n"],!1,!1),A=be("//",!1),N=me(["\n"],!0,!1),W=be("/*",!1),B=be("*/",!1),R={type:"any"},V=be("\\",!1),G=me(['"',"'","(",")","{","}","<",">","[","]","$","`","|","="," ","\t","\n","\r"],!1,!1),H=me(['"',"'","(",")","{","}","<",">","[","]","$","`","|","="," ","\t","\n","\r"],!0,!1),$=me(['"'],!0,!1),U=me(["'"],!0,!1),q=function(e,t){return t},Y=function(e,t){return Ce({type:"expression",chain:e?[e].concat(t):[]},pe(),ge())},K=function(e,t){return Ce({type:"function",function:e,arguments:t},pe(),ge())},X=function(e,t){return{name:e,value:t}},J=function(e){return{name:"_",value:e}},Z=function(e){return e},Q=function(e){return Ce(e,pe(),ge())},ee=function(e){return e},te=function(e){return e.reduce(((e,{name:t,value:a})=>({...e,[t]:(e[t]||[]).concat(a)})),{})},ae=function(e){return e.join("")},ne=function(e){return e.join("")},re=function(e){var t=e.join("");return"null"===t?null:"true"===t||"false"!==t&&(isNaN(Number(t))?t:Number(t))},oe=function(e){return e},ie=0,se=0,le=[{line:1,column:1}],ce=0,de=[],ue=0;if("startRule"in t){if(!(t.startRule in i))throw new Error("Can't start parsing from rule \""+t.startRule+'".');s=i[t.startRule]}function pe(){return e.substring(se,ie)}function ge(){return he(se,ie)}function be(e,t){return{type:"literal",text:e,ignoreCase:t}}function me(e,t,a){return{type:"class",parts:e,inverted:t,ignoreCase:a}}function fe(e){return{type:"other",description:e}}function xe(t){var a,n=le[t];if(n)return n;for(a=t-1;!le[a];)a--;for(n={line:(n=le[a]).line,column:n.column};a<t;)10===e.charCodeAt(a)?(n.line++,n.column=1):n.column++,a++;return le[t]=n,n}function he(e,t){var a=xe(e),n=xe(t);return{source:r,start:{offset:e,line:a.line,column:a.column},end:{offset:t,line:n.line,column:n.column}}}function ve(e){ie<ce||(ie>ce&&(ce=ie,de=[]),de.push(e))}function ye(){var t,a,r,o,i,s;for(t=ie,we(),(a=je())===n&&(a=null),r=[],o=ie,124===e.charCodeAt(ie)?(i=l,ie++):(i=n,0===ue&&ve(L)),i!==n?(we(),(s=je())!==n?(se=o,o=q(a,s)):(ie=o,o=n)):(ie=o,o=n);o!==n;)r.push(o),o=ie,124===e.charCodeAt(ie)?(i=l,ie++):(i=n,0===ue&&ve(L)),i!==n?(we(),(s=je())!==n?(se=o,o=q(a,s)):(ie=o,o=n)):(ie=o,o=n);return se=t,Y(a,r)}function je(){var e,t,a;return ue++,e=ie,(t=Oe())!==n?(a=function(){var e,t,a,r;for(e=ie,t=[],a=ie,we()!==n&&(r=_e())!==n?(se=a,a=ee(r)):(ie=a,a=n);a!==n;)t.push(a),a=ie,we()!==n&&(r=_e())!==n?(se=a,a=ee(r)):(ie=a,a=n);return(a=we())===n&&(a=null),se=e,e=te(t)}(),se=e,e=K(t,a)):(ie=e,e=n),ue--,e===n&&(t=n,0===ue&&ve(S)),e}function _e(){var t,a,r,o;return t=ie,(a=Oe())!==n?(we(),61===e.charCodeAt(ie)?(r=c,ie++):(r=n,0===ue&&ve(I)),r!==n?(we(),(o=De())!==n?(se=t,t=X(a,o)):(ie=t,t=n)):(ie=t,t=n)):(ie=t,t=n),t===n&&(t=ie,(a=De())!==n&&(se=t,a=J(a)),t=a),t}function De(){var t,a,r,o,i;return t=ie,36===e.charCodeAt(ie)?(a=d,ie++):(a=n,0===ue&&ve(k)),a===n&&(a=null),123===e.charCodeAt(ie)?(r=u,ie++):(r=n,0===ue&&ve(P)),r!==n&&(o=ye())!==n?(125===e.charCodeAt(ie)?(i=p,ie++):(i=n,0===ue&&ve(C)),i!==n?(se=t,t=Z(o)):(ie=t,t=n)):(ie=t,t=n),t===n&&(t=ie,a=function(){var t;return ue++,t=function(){var t,a,r,o;if(t=ie,34===e.charCodeAt(ie)?(a=g,ie++):(a=n,0===ue&&ve(E)),a!==n){for(r=[],o=ke();o!==n;)r.push(o),o=ke();34===e.charCodeAt(ie)?(o=g,ie++):(o=n,0===ue&&ve(E)),o!==n?(se=t,t=ne(r)):(ie=t,t=n)}else ie=t,t=n;if(t===n)if(t=ie,39===e.charCodeAt(ie)?(a=b,ie++):(a=n,0===ue&&ve(M)),a!==n){for(r=[],o=Pe();o!==n;)r.push(o),o=Pe();39===e.charCodeAt(ie)?(o=b,ie++):(o=n,0===ue&&ve(M)),o!==n?(se=t,t=ne(r)):(ie=t,t=n)}else ie=t,t=n;return t}(),t===n&&(t=function(){var e,t,a,r;if(e=ie,t=ie,ue++,a=Se(),ue--,a===n?t=void 0:(ie=t,t=n),t!==n){if(a=[],(r=Ie())!==n)for(;r!==n;)a.push(r),r=Ie();else a=n;a!==n?(se=e,e=re(a)):(ie=e,e=n)}else ie=e,e=n;return e}()),ue--,t===n&&0===ue&&ve(z),t}(),a!==n&&(se=t,a=Q(a)),t=a),t}function Oe(){var t,a,r;if(t=ie,a=[],v.test(e.charAt(ie))?(r=e.charAt(ie),ie++):(r=n,0===ue&&ve(T)),r!==n)for(;r!==n;)a.push(r),v.test(e.charAt(ie))?(r=e.charAt(ie),ie++):(r=n,0===ue&&ve(T));else a=n;return a!==n&&(se=t,a=ae(a)),a}function we(){var e,t;if(e=[],(t=Le())===n&&(t=Se()),t!==n)for(;t!==n;)e.push(t),(t=Le())===n&&(t=Se());else e=n;return e}function Le(){var t;return y.test(e.charAt(ie))?(t=e.charAt(ie),ie++):(t=n,0===ue&&ve(F)),t}function Se(){var t;return(t=function(){var t,a,r,o;if(t=ie,e.substr(ie,2)===m?(a=m,ie+=2):(a=n,0===ue&&ve(A)),a!==n){for(r=[],j.test(e.charAt(ie))?(o=e.charAt(ie),ie++):(o=n,0===ue&&ve(N));o!==n;)r.push(o),j.test(e.charAt(ie))?(o=e.charAt(ie),ie++):(o=n,0===ue&&ve(N));t=a=[a,r]}else ie=t,t=n;return t}())===n&&(t=function(){var t,a,r,o,i,s;if(t=ie,e.substr(ie,2)===f?(a=f,ie+=2):(a=n,0===ue&&ve(W)),a!==n){for(r=[],o=ie,i=ie,ue++,e.substr(ie,2)===x?(s=x,ie+=2):(s=n,0===ue&&ve(B)),ue--,s===n?i=void 0:(ie=i,i=n),i!==n?(e.length>ie?(s=e.charAt(ie),ie++):(s=n,0===ue&&ve(R)),s!==n?o=i=[i,s]:(ie=o,o=n)):(ie=o,o=n);o!==n;)r.push(o),o=ie,i=ie,ue++,e.substr(ie,2)===x?(s=x,ie+=2):(s=n,0===ue&&ve(B)),ue--,s===n?i=void 0:(ie=i,i=n),i!==n?(e.length>ie?(s=e.charAt(ie),ie++):(s=n,0===ue&&ve(R)),s!==n?o=i=[i,s]:(ie=o,o=n)):(ie=o,o=n);e.substr(ie,2)===x?(o=x,ie+=2):(o=n,0===ue&&ve(B)),o===n&&(o=null),t=a=[a,r,o]}else ie=t,t=n;return t}()),t}function Ie(){var t,a,r;return t=ie,92===e.charCodeAt(ie)?(a=h,ie++):(a=n,0===ue&&ve(V)),a!==n?(_.test(e.charAt(ie))?(r=e.charAt(ie),ie++):(r=n,0===ue&&ve(G)),r===n&&(92===e.charCodeAt(ie)?(r=h,ie++):(r=n,0===ue&&ve(V))),r!==n?(se=t,t=oe(r)):(ie=t,t=n)):(ie=t,t=n),t===n&&(D.test(e.charAt(ie))?(t=e.charAt(ie),ie++):(t=n,0===ue&&ve(H))),t}function ke(){var t,a,r;return t=ie,92===e.charCodeAt(ie)?(a=h,ie++):(a=n,0===ue&&ve(V)),a!==n?(34===e.charCodeAt(ie)?(r=g,ie++):(r=n,0===ue&&ve(E)),r===n&&(92===e.charCodeAt(ie)?(r=h,ie++):(r=n,0===ue&&ve(V))),r!==n?(se=t,t=oe(r)):(ie=t,t=n)):(ie=t,t=n),t===n&&(O.test(e.charAt(ie))?(t=e.charAt(ie),ie++):(t=n,0===ue&&ve($))),t}function Pe(){var t,a,r;return t=ie,92===e.charCodeAt(ie)?(a=h,ie++):(a=n,0===ue&&ve(V)),a!==n?(39===e.charCodeAt(ie)?(r=b,ie++):(r=n,0===ue&&ve(M)),r===n&&(92===e.charCodeAt(ie)?(r=h,ie++):(r=n,0===ue&&ve(V))),r!==n?(se=t,t=oe(r)):(ie=t,t=n)):(ie=t,t=n),t===n&&(w.test(e.charAt(ie))?(t=e.charAt(ie),ie++):(t=n,0===ue&&ve(U))),t}function Ce(e,a,{start:{offset:n},end:{offset:r}}){return t.addMeta?{node:e,text:a,start:n,end:r}:e}if((a=s())!==n&&ie===e.length)return a;throw a!==n&&ie<e.length&&ve({type:"end"}),function(e,t,a){return new o(o.buildMessage(e,t),e,t,a)}(de,ce<e.length?e.charAt(ce):null,ce<e.length?he(ce,ce+1):he(ce,ce))};function l(e,t="expression"){try{return s(String(e),{startRule:t})}catch(e){throw new Error(`Unable to parse expression: ${e.message}`)}}function c(e){if(null==e)return"null";if("object"==typeof e){if(!e.type)throw new Error("Objects must have a type property");return e.type}return typeof e}var d=a(27);function u(e,t){let a="",o=0;return function(e,t){const a=[[s(e,{addMeta:!0}),t]],o=[];function i(e,t){Object(d.zip)(e.node.chain,t.chain).forEach((([e,t])=>{if(!e||!t||(null==e?void 0:e.node.function)!==(null==t?void 0:t.function))throw Error("Expression changes are not supported.");!function(e,t){if(Object(d.xor)(Object.keys(e.node.arguments),Object.keys(t.arguments)).length)throw Error("Function changes are not supported.");Object(d.forEach)(e.node.arguments,((e,a)=>{!function(e,t){if(e.length!==t.length)throw Error("Arguments changes are not supported.");Object(d.zip)(e,t).forEach((([e,t])=>function(e,t){n(e)&&r(t)?i(e,t):e.node!==t&&o.push({type:"value",source:e,target:t})}(e,t)))}(e,t.arguments[a])}))}(e,t)}))}for(;a.length;)i(...a.shift());return o}(e,t).sort((({source:e},{source:t})=>e.start-t.start)).forEach((function(t){var r;if("value"!==(null==(r=t)?void 0:r.type))throw new Error("Cannot apply patch for the change.");!function(t){if(n(t.source))throw new Error("Patching sub-expressions is not supported.");a+=`${e.substring(o,t.source.start)}${f(t.target,"argument")}`,o=t.source.end}(t)})),a+=e.substring(o),a}function p(e,t,a=0){const n=c(e);function r(e,t){return null==e||"_"===e?t:`${e}=${t}`}if("string"===n)return r(t,`"${e.replace(/[\\"]/g,"\\$&")}"`);if("boolean"===n||"null"===n||"number"===n)return r(t,`${e}`);if("expression"===n)return r(t,`{${m(e.chain,a+1)}}`);throw new Error(`Invalid argument type in AST: ${n}`)}function g({arguments:e},t=0){if(null==e||"object"!=typeof e||Array.isArray(e))throw new Error("Arguments can only be an object");return Object.keys(e).map((a=>e[a].reduce(((e,n)=>{const r=p(n,a,t),o=e.split("\n").pop().length;return 0===t&&o+r.length>80?`${e}\n  ${r}`:o>0?`${e} ${r}`:r}),"")))}function b(e,t){var a;return`${e} ${null!==(a=null==t?void 0:t.join(" "))&&void 0!==a?a:""}`.trim()}function m(e,t=0){if(!e)throw new Error("Expressions must contain a chain");const a=t>0?" | ":"\n| ";return e.map((e=>{if("function"!==c(e))return;const{function:a}=e;if(!a)throw new Error("Functions must have a function name");return b(a,g(e,t))})).join(a)}function f(e,t="expression"){const{type:a,source:n}="string"==typeof t?{type:t}:t;if(n&&r(e))return u(n,e);if("argument"===a)return p(e);const o=c(e);if("expression"===o){const{chain:t}=e;if(!Array.isArray(t))throw new Error("Expressions must contain a chain");return m(t)}if("function"===o){const{function:t}=e;return b(t,g(e))}throw new Error("Expression must be an expression or argument function")}a(1)},function(e,t,a){"use strict";a.d(t,"a",(function(){return saved_object_store_SavedObjectIndexStore})),a.d(t,"b",(function(){return p}));var n=a(1),r=a.n(n),o=a(21);class saved_object_store_SavedObjectIndexStore{constructor(e){r()(this,"client",void 0),r()(this,"save",(async e=>{const{savedObjectId:t,type:a,references:n,...r}=e,o=r;if(t){const a=await this.client.update({id:t,data:o,options:{references:n}});return{...e,savedObjectId:a.item.id}}{const t=await this.client.create({data:o,options:{references:n}});return{...e,savedObjectId:t.item.id}}})),this.client=Object(o.a)(e)}async load(e){const t=await this.client.get(e);if(t.item.error)throw t.item.error;return t}async search(e,t){return await this.client.search(e,t)}}var i=a(3),s=a(0);const l=s.i18n.translate("xpack.lens.saveDuplicateRejectedDescription",{defaultMessage:"Save with duplicate title confirmation was rejected"});a(7);var c=a(4),d=a(32),u=a(2);async function p(e,t,a){const{client:n,overlays:r}=a,{id:o,title:p,isTitleDuplicateConfirmed:g,lastSavedTitle:b,copyOnSave:m}=e;if(g)return!0;if(p===b&&!m)return!0;const f=await async function(e,t,a){if(a)return(await e.search({limit:10,text:`"${a}"`},{searchFields:["title"]})).hits.find((e=>e.attributes.title.toLowerCase()===a.toLowerCase()))}(n,i.DOC_TYPE,p);return!f||f.id===o||(t?(t(),Promise.reject(new Error(l))):function({title:e,displayName:t},a){const n=s.i18n.translate("xpack.lens.confirmModal.saveDuplicateConfirmationMessage",{defaultMessage:"A {name} with the title '{title}' already exists. Would you like to save anyway?",values:{title:e,name:t}}),r=s.i18n.translate("xpack.lens.confirmModal.saveDuplicateButtonLabel",{defaultMessage:"Save {name}",values:{name:t}});try{return function(e="",t="",a="",n){return new Promise(((r,o)=>{const i=s.i18n.translate("xpack.lens.confirmModal.cancelButtonLabel",{defaultMessage:"Cancel"}),l=n.openModal(Object(d.toMountPoint)(Object(u.jsx)(c.EuiConfirmModal,{onCancel:()=>{l.close(),o()},onConfirm:()=>{l.close(),r(!0)},confirmButtonText:a,cancelButtonText:i,title:t},e)))}))}(n,"",r,a)}catch{return Promise.reject(new Error(l))}}(e,r))}},function(e,t,a){"use strict";a.r(t),a.d(t,"SaveModalContainer",(function(){return y})),a.d(t,"runSaveLensVisualization",(function(){return j})),a.d(t,"removePinnedFilters",(function(){return _}));var n=a(7),r=a.n(n),o=a(0),i=a(23),s=a(4),l=a(16),c=a.n(l),d=a(55),u=a(2);const p=({initialTags:e,onSave:t,savedObjectsTagging:a,options:o,...i})=>{const[s,l]=Object(n.useState)(e),p=Object(n.useMemo)((()=>a?Object(u.jsx)(a.ui.components.SavedObjectSaveModalTagSelector,{initialSelection:e,onTagsSelected:l}):void 0),[a,e]),g="function"==typeof o?e=>Object(u.jsx)(r.a.Fragment,null,p,o(e)):Object(u.jsx)(r.a.Fragment,null,p,o),b=Object(n.useCallback)((e=>{t({...e,newTags:s})}),[t,s]);return Object(u.jsx)(d.SavedObjectSaveModalOrigin,c()({},i,{onSave:b,options:g}))};var g=a(66);const b=Object(g.withSuspense)(g.LazySavedObjectSaveModalDashboard),m=({initialTags:e,onSave:t,savedObjectsTagging:a,...o})=>{const[i,s]=Object(n.useState)(e),l=Object(n.useMemo)((()=>a?Object(u.jsx)(a.ui.components.SavedObjectSaveModalTagSelector,{initialSelection:e,onTagsSelected:s,markOptional:!0}):void 0),[a,e]),d=Object(u.jsx)(r.a.Fragment,null,l),p=Object(n.useCallback)((e=>{t({...e,returnToOrigin:!1,newTags:i})}),[t,i]);return Object(u.jsx)(b,c()({},o,{onSave:p,tagOptions:d}))},f=e=>{const{originatingApp:t,getOriginatingPath:a,savingToLibraryPermitted:n,savedObjectsTagging:r,tagsIds:i,savedObjectId:s,title:l,description:c,allowByValueEmbeddables:d,returnToOriginSwitchLabel:g,getAppNameFromId:b,onClose:f,onSave:x,returnToOrigin:h}=e;return!t&&d||!1===h?Object(u.jsx)(m,{savedObjectsTagging:r,initialTags:i,canSaveByReference:Boolean(n),onSave:e=>{const t=Boolean(e.addToLibrary);x(e,{saveToLibrary:t})},onClose:f,documentInfo:{id:n?s:void 0,title:l||"",description:c||""},objectType:o.i18n.translate("xpack.lens.app.saveModalType",{defaultMessage:"Lens visualization"}),"data-test-subj":"lnsApp_saveModalDashboard",getOriginatingPath:a}):Object(u.jsx)(p,{savedObjectsTagging:r,initialTags:i,originatingApp:t,onClose:f,onSave:e=>x(e,{saveToLibrary:!0}),getAppNameFromId:b,documentInfo:{id:s,title:l||"",description:c||""},returnToOriginSwitchLabel:g,objectType:o.i18n.translate("xpack.lens.app.saveModalType",{defaultMessage:"Lens visualization"}),"data-test-subj":"lnsApp_saveModalOrigin"})};var x=a(112),h=a(3),v=a(158);function y({returnToOriginSwitchLabel:e,onClose:t,onSave:a,runSave:r,persistedDoc:i,originatingApp:l,getOriginatingPath:c,initialInput:d,redirectTo:p,redirectToOrigin:g,getAppNameFromId:b=(()=>{}),isSaveable:m=!0,lastKnownDoc:x,lensServices:h,initialContext:y}){let _,D,O="";const[w,L]=Object(n.useState)(!0),[S,I]=Object(n.useState)(x);S&&(O=S.title,_=S.description,D=S.savedObjectId),(null==S||!S.title)&&y&&"isEmbeddable"in y&&y.isEmbeddable&&(O=o.i18n.translate("xpack.lens.app.convertedLabel",{defaultMessage:"{title} (converted)",values:{title:y.title||`${y.visTypeTitle} visualization`}}));const{attributeService:k,savedObjectsTagging:P,application:C,dashboardFeatureFlag:T}=h;Object(n.useEffect)((()=>{I(x)}),[x]),Object(n.useEffect)((()=>{let e=!0;return d?Object(v.a)({initialInput:d,lensServices:h}).then((t=>{null!=t&&t.doc&&e&&I(t.doc)})).finally((()=>{L(!1)})):L(!1),()=>{e=!1}}),[d,h]);const z=i&&P?P.ui.getTagIdsFromReferences(i.references):[];if(w)return Object(u.jsx)(s.EuiLoadingSpinner,null);const E=Boolean(m&&C.capabilities.visualize.save);return Object(u.jsx)(f,{originatingApp:l,getOriginatingPath:c,savingToLibraryPermitted:E,allowByValueEmbeddables:null==T?void 0:T.allowByValueEmbeddables,savedObjectsTagging:P,tagsIds:z,onSave:(e,n)=>{((e,n)=>{r?r(e,n):k&&S&&j({...h,lastKnownDoc:S,initialInput:d,attributeService:k,redirectTo:p,redirectToOrigin:g,originatingApp:l,getOriginatingPath:c,getIsByValueMode:()=>!1,onAppLeave:()=>{},savedObjectStore:h.savedObjectStore},e,n).then((()=>{null==a||a(e),t()}))})(e,n)},onClose:t,getAppNameFromId:b,title:O,description:_,savedObjectId:D,returnToOriginSwitchLabel:e,returnToOrigin:null!=g})}const j=async(e,t,a)=>{const{chrome:n,initialInput:r,lastKnownDoc:i,persistedDoc:s,overlays:l,notifications:c,stateTransfer:d,attributeService:u,savedObjectsTagging:p,getIsByValueMode:g,redirectToOrigin:b,onAppLeave:m,redirectTo:f,dashboardFeatureFlag:v,textBasedLanguageSave:y,switchDatasource:j,application:D,savedObjectStore:O}=e;if(!i)return;let w=i.references;if(p){const e=s&&p?p.ui.getTagIdsFromReferences(s.references):[];w=p.ui.updateTagsReferences(w,t.newTags||e)}const L=((e,t,a)=>{const n={..._(e),references:a};return void 0!==t.newDescription&&(n.description=t.newDescription),void 0!==t.newTitle&&(n.title=t.newTitle),n})(i,t,w);g()&&L.state.filters.forEach((e=>{"function"==typeof e.meta.value&&delete e.meta.value}));const S=t.newCopyOnSave?void 0:r,I=null==S?void 0:S.savedObjectId;if(a.saveToLibrary)try{await Object(x.b)({id:I,title:L.title,displayName:o.i18n.translate("xpack.lens.app.saveModalType",{defaultMessage:"Lens visualization"}),lastSavedTitle:i.title,copyOnSave:t.newCopyOnSave,isTitleDuplicateConfirmed:t.isTitleDuplicateConfirmed},t.onTitleDuplicate,{client:O,overlays:l})}catch(e){throw e}try{let r=await u.wrapAttributes(L,a.saveToLibrary,S);return t.panelTimeRange&&(r={...r,timeRange:t.panelTimeRange}),t.returnToOrigin&&b?(null==m||m((e=>e.default())),void b({input:r,isCopied:t.newCopyOnSave})):t.dashboardId?(null==m||m((e=>e.default())),void(({embeddableInput:e,dashboardFeatureFlag:t,dashboardId:a,originatingApp:n,getOriginatingPath:r,stateTransfer:o})=>{var i;if(!t.allowByValueEmbeddables)throw new Error("redirectToDashboard called with by-value embeddables disabled");const s={input:e,type:h.LENS_EMBEDDABLE_TYPE},l=null!==(i=null==r?void 0:r(a))&&void 0!==i?i:"new"===a?"#/create":`#/view/${a}`,c=n||"dashboards";o.navigateToWithEmbeddablePackage(c,{state:s,path:l})})({embeddableInput:r,dashboardId:t.dashboardId,stateTransfer:d,dashboardFeatureFlag:v,originatingApp:e.originatingApp,getOriginatingPath:e.getOriginatingPath})):(c.toasts.addSuccess(o.i18n.translate("xpack.lens.app.saveVisualization.successNotificationText",{defaultMessage:"Saved '{visTitle}'",values:{visTitle:L.title}})),u.inputIsRefType(r)&&r.savedObjectId!==I?(n.recentlyAccessed.add(Object(h.getFullPath)(r.savedObjectId),L.title,r.savedObjectId),null===(k=d.clearEditorState)||void 0===k||k.call(d,h.APP_ID),y?(null==j||j(),D.navigateToApp("lens",{path:"/"})):null==f||f(r.savedObjectId),{isLinkedToOriginatingApp:!1}):{persistedDoc:{...L,...r},isLinkedToOriginatingApp:!1});var k}catch(e){throw console.dir(e),e}};function _(e){var t;if(e)return{...e,state:{...e.state,filters:((null===(t=e.state)||void 0===t?void 0:t.filters)||[]).filter((e=>!Object(i.isFilterPinned)(e)))}}}t.default=y},,,,,,function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(7),r=a(27);const o=({onChange:e,value:t,defaultValue:a},{allowFalsyValue:o}={})=>{const[i,s]=Object(n.useState)(t),l=Object(n.useRef)(!1),c=Boolean(o),d=Object(n.useRef)(null!=a?a:t),u=Object(n.useRef)(),p=Object(n.useMemo)((()=>{const t=Object(r.debounce)((t=>{e(t),u.current=setTimeout((()=>{l.current=!1}),256)}),256);return e=>{u.current&&clearTimeout(u.current),l.current=!0,t(e)}}),[e]);return Object(n.useEffect)((()=>{l.current||t===i||s(t)}),[t,i]),{inputValue:i,handleInputChange:e=>{s(e);const t=c?null!=e?e:d.current:e||d.current;p(t)},initialValue:d.current}}},function(e,t,a){"use strict";a.d(t,"c",(function(){return s})),a.d(t,"d",(function(){return l})),a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return d}));var n=a(29),r=a(146),o=a(533),i=a(215);function s(e,t,a="euiColorInk",o="euiColorGhost"){const i=t?n.euiDarkVars.euiColorInk:n.euiLightVars[a],s=t?n.euiDarkVars[o]:n.euiLightVars.euiColorGhost,l=t?n.euiDarkVars.euiPageBackgroundColor:n.euiLightVars.euiPageBackgroundColor;return Object(r.a)(e,l)?s:i}function l(e){if(null!=e&&!Array.isArray(e))return e}function c(e,t,a){var n,r;const s=Object(o.f)(e,(null==t?void 0:t.params)||{},{dataBounds:a,defaultPaletteName:null==t?void 0:t.name});return null!=t&&null!==(n=t.params)&&void 0!==n&&n.reverse&&(null==t||null===(r=t.params)||void 0===r?void 0:r.name)!==i.a?Object(o.g)(s):s}const d=(e,t,a=(e=>e))=>{const n={};if(null!=t)for(const r of e){const e=a(r);n[e]=n[e]||{max:Number.NEGATIVE_INFINITY,min:Number.POSITIVE_INFINITY},t.rows.forEach((t=>{const a=l(t[r]);null!=a&&(n[e].min>a&&(n[e].min=a),n[e].max<a&&(n[e].max=a))})),n[e].max===Number.NEGATIVE_INFINITY&&(n[e]=Object(o.e)())}return n}},,,function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(53);function r(){return Object(n.v4)()}},,,function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a(250);var n=a(7),r=a(2),o=a(4),i=a(0),s=a(70);function l({isOpen:e,groupLabel:t,handleClose:a,isFullscreen:l,panelRef:c,panelContainerRef:d,children:u,customFooter:p,isInlineEditing:g}){const[b,m]=Object(n.useState)(!1),f=Object(n.useCallback)((()=>{const e=a();return e&&m(!1),e}),[a]);return Object(n.useEffect)((()=>{if(!g)return document.body.classList.toggle("lnsBody--overflowHidden",e),()=>{e&&m(!1),document.body.classList.remove("lnsBody--overflowHidden")}}),[g,e]),e?Object(r.jsx)("div",{ref:c},Object(r.jsx)(o.EuiFocusTrap,{disabled:!b,clickOutsideDisables:!1,onClickOutside:e=>{l||function(e){for(let t=e.target;null!==t;t=t.parentElement)if(t.classList.contains(s.DONT_CLOSE_DIMENSION_CONTAINER_ON_CLICK_CLASS)||t.classList.contains("euiBody-hasPortalContent")||"true"===t.getAttribute("data-euiportal"))return!0;return!1}(e)||f()},onEscapeKey:f},Object(r.jsx)("div",{ref:d,role:"dialog","aria-labelledby":"lnsDimensionContainerTitle",className:"lnsDimensionContainer",css:Object(r.css)("box-shadow:",g?"none !important":"inherit",";",""),onAnimationEnd:()=>{e&&m(!Boolean(g))}},Object(r.jsx)(o.EuiFlyoutHeader,{hasBorder:!0,className:"lnsDimensionContainer__header"},Object(r.jsx)(o.EuiFlexGroup,{gutterSize:"m",alignItems:"center",responsive:!1},g&&Object(r.jsx)(o.EuiFlexItem,{grow:!1},Object(r.jsx)(o.EuiButtonIcon,{color:"text","data-test-subj":"lns-indexPattern-dimensionContainerBack",className:"lnsDimensionContainer__backIcon",onClick:f,iconType:"sortLeft","aria-label":i.i18n.translate("xpack.lens.dimensionContainer.closeConfiguration",{defaultMessage:"Close configuration"})})),Object(r.jsx)(o.EuiFlexItem,{grow:!0},Object(r.jsx)(o.EuiTitle,{size:"xs"},Object(r.jsx)("h2",{id:"lnsDimensionContainerTitle",className:"lnsDimensionContainer__headerTitle"},i.i18n.translate("xpack.lens.configure.configurePanelTitle",{defaultMessage:"{groupLabel}",values:{groupLabel:t}})))),!g&&Object(r.jsx)(o.EuiFlexItem,{grow:!1},Object(r.jsx)(o.EuiButtonIcon,{color:"text","data-test-subj":"lns-indexPattern-dimensionContainerBack",className:"lnsDimensionContainer__backIcon",onClick:f,iconType:"cross","aria-label":i.i18n.translate("xpack.lens.dimensionContainer.closeConfiguration",{defaultMessage:"Close configuration"})})))),Object(r.jsx)("div",{className:"lnsDimensionContainer__content"},u),p||Object(r.jsx)(o.EuiFlyoutFooter,{className:"lnsDimensionContainer__footer"},Object(r.jsx)(o.EuiButtonEmpty,{flush:"left",size:"s",iconType:g?"sortLeft":"cross",onClick:f,"data-test-subj":"lns-indexPattern-dimensionContainerClose"},g?i.i18n.translate("xpack.lens.dimensionContainer.back",{defaultMessage:"Back"}):i.i18n.translate("xpack.lens.dimensionContainer.close",{defaultMessage:"Close"})))))):null}},function(e,t,a){"use strict";a.d(t,"p",(function(){return s})),a.d(t,"n",(function(){return c})),a.d(t,"s",(function(){return d})),a.d(t,"q",(function(){return p})),a.d(t,"c",(function(){return g})),a.d(t,"d",(function(){return b})),a.d(t,"i",(function(){return m})),a.d(t,"t",(function(){return f})),a.d(t,"a",(function(){return x})),a.d(t,"g",(function(){return h})),a.d(t,"m",(function(){return v})),a.d(t,"r",(function(){return j})),a.d(t,"j",(function(){return _})),a.d(t,"k",(function(){return D})),a.d(t,"o",(function(){return w})),a.d(t,"f",(function(){return L})),a.d(t,"e",(function(){return S})),a.d(t,"b",(function(){return I})),a.d(t,"h",(function(){return k})),a.d(t,"l",(function(){return P}));var n=a(39),r=a(42),o=a(128);const i=e=>e.lens.query,s=e=>e.lens.searchSessionId,l=e=>e.lens.filters,c=e=>e.lens.resolvedDateRange,d=e=>e.lens.visualization,u=e=>e.lens.stagedPreview,p=e=>{var t;return(null===(t=e.lens.stagedPreview)||void 0===t?void 0:t.activeData)||e.lens.activeData},g=e=>!e.lens.autoApplyDisabled,b=e=>!e.lens.autoApplyDisabled||Boolean(e.lens.changesApplied),m=e=>e.lens.datasourceStates,f=e=>e.lens.visualization,x=e=>e.lens.activeDatasourceId,h=e=>e.lens.dataViews,v=e=>Boolean(e.lens.isFullscreenDatasource);let y;const j=e=>{const t=e.lens.applyChangesCounter!==y;return y=e.lens.applyChangesCounter,t},_=Object(n.createSelector)([i,l,c],((e,t,a)=>({now:Date.now(),dateRange:a,query:e,filters:t}))),D=Object(n.createSelector)(_,(e=>({now:e.now,query:e.query,timeRange:{from:e.dateRange.fromDate,to:e.dateRange.toDate},filters:e.filters,disableWarningToasts:!0}))),O=(e,t)=>t,w=Object(n.createSelector)([e=>e.lens.persistedDoc,d,m,i,l,x,e=>Object.fromEntries(Object.values(e.lens.dataViews.indexPatterns).filter((e=>!e.isPersisted)).map((e=>[e.id,e.spec]))),O],((e,t,a,n,o,i,s,{datasourceMap:l,visualizationMap:c,extractFilterReferences:d})=>{const u=t.state&&t.activeId?c[t.activeId]:null;if(!(a&&i&&!a[i].isLoading?l[i]:void 0)||!u)return;const p=Object.keys(a).reduce(((e,t)=>({...e,[t]:l[t]})),{}),g={},b=[],m=[];Object.entries(p).forEach((([e,t])=>{const{state:n,savedObjectReferences:r}=t.getPersistableState(a[e].state);g[e]=n,r.forEach((e=>{"index-pattern"===e.type&&s[e.id]?m.push(e):b.push(e)}))}));let f=t.state;if(u.getPersistableState){const{state:e,savedObjectReferences:a}=u.getPersistableState(t.state);f=e,a.forEach((e=>{"index-pattern"===e.type&&s[e.id]?m.push(e):b.push(e)}))}const x=Object.fromEntries(Object.entries(s).map((([e,t])=>{const{references:a,state:n}=r.DataViewPersistableStateService.extract(t);return b.push(...a),[e,n]}))),h=o.filter((e=>!b.some((t=>"index-pattern"===t.type&&t.id===e.meta.index)))).map((e=>({...e,meta:{...e.meta,value:void 0}}))),v=o.filter((e=>b.some((t=>"index-pattern"===t.type&&t.id===e.meta.index)))),{state:y,references:j}=d(v);return b.push(...j),{savedObjectId:null==e?void 0:e.savedObjectId,title:(null==e?void 0:e.title)||"",description:null==e?void 0:e.description,visualizationType:t.activeId,type:"lens",references:b,state:{visualization:f,query:n,filters:[...y,...h],datasourceStates:g,internalReferences:m,adHocDataViews:x}}})),L=Object(n.createSelector)([d,u],((e,t)=>t?t.visualization:e)),S=Object(n.createSelector)([m,u],((e,t)=>t?t.datasourceStates:e)),I=Object(n.createSelector)(m,(e=>Object.values(e).every((({isLoading:e})=>!1===e)))),k=Object(n.createSelector)([m,O,h],((e,t,a)=>Object(o.a)(e,t,a.indexPatterns))),P=Object(n.createSelector)([S,e=>e.lens.activeData,O,h,_],((e,t,a,n,r)=>({datasourceLayers:Object(o.a)(e,a,n.indexPatterns),activeData:t,dataViews:n,...r})))},function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(86);const r=a.n(n)()((function(e,t,a){const n={};return Object.keys(t).filter((t=>e[t]&&!e[t].isLoading)).forEach((r=>{const o=e[r].state;t[r].getLayers(o).forEach((e=>{n[e]=t[r].getPublicAPI({state:o,layerId:e,indexPatterns:a})}))})),n}))},function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return o}));var n=a(111);function r(e,t,a,r,o,i){const s=[];return Object.entries(e).forEach((([e,n])=>{var l;const c=null===(l=t[e])||void 0===l?void 0:l.state;c&&n.getLayers(c).forEach((e=>{const t=n.toExpression(c,e,a,r,o,i);t&&s.push([e,t])}))})),0===s.length?null:s.reduce(((e,[t,a])=>({...e,[t]:"string"==typeof a?Object(n.a)(a):a})),{})}function o({visualization:e,visualizationState:t,datasourceMap:a,datasourceStates:o,datasourceLayers:i,title:s,description:l,indexPatterns:c,dateRange:d,nowInstant:u,searchSessionId:p}){if(null==e)return null;const g=r(a,o,c,d,u,p),b=e.toExpression(t,i,{title:s,description:l},null!=g?g:void 0);return null===g||null===b?null:"string"==typeof b?Object(n.a)(b):b}},function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"c",(function(){return c})),a.d(t,"d",(function(){return p})),a.d(t,"b",(function(){return g}));var n=a(541),r=a(27),o=a(95),i=a(70);function s(e){const t=Object(r.keyBy)(e,"name");return e=>t[e]}function l(e,t=u){const a=new Set(e.metaFields),r=e.fields.filter(n.a).map((e=>{const t={name:e.name,displayName:e.displayName,type:e.type,aggregatable:e.aggregatable,filterable:e.filterable,searchable:e.searchable,meta:a.has(e.name),esTypes:e.esTypes,scripted:e.scripted,isMapped:e.isMapped,customLabel:e.customLabel,runtimeField:e.runtimeField,runtime:Boolean(e.runtimeField),timeSeriesDimension:e.timeSeriesDimension,timeSeriesMetric:e.timeSeriesMetric,timeSeriesRollup:e.isRolledUpField,partiallyApplicableFunctions:e.isRolledUpField?{percentile:!0,percentile_rank:!0,median:!0,last_value:!0,unique_count:!0,standard_deviation:!0}:void 0};return t.scripted?{...t,lang:e.lang,script:e.script}:t})).concat(o.a),{typeMeta:i,title:l,name:c,timeFieldName:d,fieldFormatMap:p}=e;if(null!=i&&i.aggs){const e=Object.keys(i.aggs);r.forEach(((a,n)=>{const o={};e.forEach((e=>{const n=i.aggs&&i.aggs[e]&&i.aggs[e][a.name];n&&(o[t(e)]=n)})),Object.keys(o).length&&(r[n]={...a,aggregationRestrictions:o})}))}return{id:e.id,title:l,name:c||l,timeFieldName:d,fieldFormatMap:p&&Object.fromEntries(Object.entries(p).map((([e,t])=>[e,"toJSON"in t?t.toJSON():t]))),fields:r,getFieldByName:s(r),hasRestrictions:!(null==i||!i.aggs),spec:e.toSpec(!1),isPersisted:e.isPersisted()}}async function c(e){const t=await e.getIdsWithTitle();return Object(i.sortDataViewRefs)(t)}const d={avg:"average",cardinality:"unique_count"};function u(e){return e in d?d[e]:e}async function p({dataViews:e,patterns:t,notUsedPatterns:a,cache:n,adHocDataViews:r,onIndexPatternRefresh:o}){const i=t.filter((e=>!(n[e]||null!=r&&r[e]))),s=Object.values(r||{}).length>0;if(0===i.length&&!s)return n;null==o||o();let c=(await Promise.allSettled(i.map((t=>e.get(t))))).filter((e=>"fulfilled"===e.status)).map((e=>e.value));if(!c.length&&!s&&a)for(const t of a){const a=await e.get(t).catch((e=>{}));if(a){c=[a];break}}return c.push(...await Promise.all(Object.values(r||{}).map((t=>e.create(t))))),c.reduce(((e,t)=>({[t.id]:l(t,u),...e})),{...n})}async function g({id:e,onError:t,dataViews:a,cache:n={}}){const r=await p({dataViews:a,cache:n,patterns:[e]});if(null!=r[e])return{...n,[e]:r[e]};t(Error("Missing indexpatterns"))}},function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(310);case"v8light":return a(312)}},,,,,,,function(e,t,a){"use strict";a.d(t,"a",(function(){return ae}));var n=a(16),r=a.n(n),o=a(7),i=a.n(o),s=a(4),l=a(23),c=a(40),d=a(79),u=(a(290),a(0)),p=a(2),g=a(29),b=a(87);const m=e=>Object(p.jsx)(i.a.Fragment,null,"color"===e.triggerIconType&&e.color&&Object(p.jsx)(s.EuiIcon,{color:e.color,type:"stopFilled","aria-label":u.i18n.translate("visualizationUiComponents.dimensionButtonIcon.colorIndicatorLabel",{defaultMessage:"Color of this dimension: {hex}",values:{hex:e.color}})}),"disabled"===e.triggerIconType&&Object(p.jsx)(s.EuiIcon,{type:"stopSlash",color:"subdued","aria-label":u.i18n.translate("visualizationUiComponents.dimensionButtonIcon.noColorIndicatorLabel",{defaultMessage:"This dimension does not have an individual color"})}),"invisible"===e.triggerIconType&&Object(p.jsx)(s.EuiIcon,{type:"eyeClosed",color:"subdued","aria-label":u.i18n.translate("visualizationUiComponents.dimensionButtonIcon.invisibleIndicatorLabel",{defaultMessage:"This dimension is currently not visible in the chart"})}),"aggregate"===e.triggerIconType&&Object(p.jsx)(s.EuiIcon,{type:"fold",color:"subdued","aria-label":u.i18n.translate("visualizationUiComponents.dimensionButtonIcon.aggregateIndicatorLabel",{defaultMessage:"This dimension is not visible in the chart because all individual values are aggregated into a single value"})}),"colorBy"===e.triggerIconType&&Object(p.jsx)(s.EuiIcon,{type:"color",color:"subdued","aria-label":u.i18n.translate("visualizationUiComponents.dimensionButtonIcon.paletteColorIndicatorLabel",{defaultMessage:"This dimension is using a palette"})}),"custom"===e.triggerIconType&&e.customIcon&&Object(p.jsx)(s.EuiIcon,{type:e.customIcon,color:e.color,"aria-label":u.i18n.translate("visualizationUiComponents.dimensionButtonIcon.customIconIndicatorLabel",{defaultMessage:"This dimension is using a custom icon"})}));function f({accessorConfig:e,severity:t,children:a}){let n=null;return(t||"none"!==e.triggerIconType&&void 0!==e.triggerIconType)&&(n=Object(p.jsx)(i.a.Fragment,null,"none"!==e.triggerIconType&&Object(p.jsx)(s.EuiFlexItem,{grow:!1},m(e)),t&&Object(p.jsx)(s.EuiFlexItem,{grow:!1},Object(p.jsx)(s.EuiIcon,{type:"error"===t?"error":"alert"})))),Object(p.jsx)(s.EuiFlexGroup,{gutterSize:"s",alignItems:"center",responsive:!1},n,Object(p.jsx)(s.EuiFlexItem,null,a))}var x={name:"51l2f1",styles:"position:absolute;bottom:0;left:0;right:0"};function h({accessorConfig:e}){return"colorBy"===e.triggerIconType&&e.palette?Object(p.jsx)("div",{css:x},Object(p.jsx)(s.EuiColorPaletteDisplay,{className:"lnsLayerPanel__palette",css:Object(p.css)("height:",g.euiThemeVars.euiSizeXS,"/2;border-radius:0 0 (",g.euiThemeVars.euiBorderRadius," - 1px) (",g.euiThemeVars.euiBorderRadius," - 1px);&::after{border:none;}",""),size:"xs",palette:e.palette})):null}var v=a(153);const y=e=>u.i18n.translate("visualizationUiComponents.dimensionButton.editConfig",{defaultMessage:"Edit {label} configuration",values:{label:e.trim().length?e:v.a}});var j={name:"n2zqzy",styles:"width:100%;&:hover{text-decoration:none;}"};function _({groupLabel:e,children:t,onClick:a,onRemoveClick:n,accessorConfig:o,label:i,message:l,...c}){return Object(p.jsx)("div",r()({},c,{css:Object(p.css)(Object(s.useEuiFontSize)("s")," border-radius:",g.euiThemeVars.euiBorderRadius,";position:relative;line-height:1;overflow:hidden;display:flex;align-items:center;gap:",g.euiThemeVars.euiSizeS,";min-height:",g.euiThemeVars.euiSizeXL,";padding:",g.euiThemeVars.euiSizeXS," ",g.euiThemeVars.euiSizeS,";","")}),Object(p.jsx)(s.EuiFlexGroup,{direction:"row",alignItems:"center",gutterSize:"none",responsive:!1},Object(p.jsx)(s.EuiFlexItem,null,Object(p.jsx)(s.EuiToolTip,{content:null==l?void 0:l.content,position:"left"},Object(p.jsx)(s.EuiLink,{className:"lnsLayerPanel__dimensionLink",css:j,"data-test-subj":"lnsLayerPanel-dimensionLink",onClick:()=>a(o.columnId),"aria-label":y(i),title:y(i),color:"error"===(null==l?void 0:l.severity)?"danger":"warning"===(null==l?void 0:l.severity)?"warning":"text"},Object(p.jsx)(f,{severity:null==l?void 0:l.severity,accessorConfig:o},t))))),Object(p.jsx)(s.EuiButtonIcon,{className:"lnsLayerPanel__dimensionRemove","data-test-subj":"indexPattern-dimension-remove",iconType:"trash",size:"xs",color:"danger","aria-label":u.i18n.translate("visualizationUiComponents.dimensionButton.removeColumnLabel",{defaultMessage:'Remove configuration from "{groupLabel}"',values:{groupLabel:e}}),title:u.i18n.translate("visualizationUiComponents.dimensionButton.removeColumnLabel",{defaultMessage:'Remove configuration from "{groupLabel}"',values:{groupLabel:e}}),onClick:()=>n(o.columnId),css:Object(p.css)("color:",g.euiThemeVars.euiTextSubduedColor,";transition:",g.euiThemeVars.euiAnimSpeedFast," ease-in-out;transition-property:color,opacity,background-color,transform;opacity:0;.domDragDrop:hover &,.domDragDrop:focus-within &{opacity:1;}&:hover,&:focus{color:",g.euiThemeVars.euiColorDangerText,";}","")}),Object(p.jsx)(h,{accessorConfig:o}))}var D=a(255);const O=Number.MAX_SAFE_INTEGER,w=-Number.MAX_SAFE_INTEGER,L=e=>{const t=u.i18n.translate("xpack.lens.cloneLayerAriaLabel",{defaultMessage:"Duplicate layer"});return{execute:e.execute,displayName:t,isCompatible:Boolean(e.activeVisualization.cloneLayer&&!e.isTextBasedLanguage),icon:"copy","data-test-subj":`lnsLayerClone--${e.layerIndex}`,order:w+1}};var S=a(32),I=a(12),k=a(31),P=a(103);const C=({modalTitle:e,modalDesc:t,skipDeleteModal:a,isDeletable:n,execute:r,closeModal:l,updateLensLocalStorage:c})=>{const[d,g]=Object(o.useState)(a),b=Object(o.useCallback)((({target:e})=>g(e.checked)),[]),m=Object(o.useCallback)((()=>{c({skipDeleteModal:d}),l(),r()}),[l,r,d,c]);return Object(p.jsx)(i.a.Fragment,null,Object(p.jsx)(s.EuiModalHeader,null,Object(p.jsx)(s.EuiModalHeaderTitle,null,e)),Object(p.jsx)(s.EuiModalBody,null,Object(p.jsx)("p",null,t,u.i18n.translate("xpack.lens.layer.confirmModal.cannotUndo",{defaultMessage:"You can't undo this action."}))),Object(p.jsx)(s.EuiModalFooter,null,Object(p.jsx)(s.EuiFlexGroup,{alignItems:"center",justifyContent:"spaceBetween"},Object(p.jsx)(s.EuiFlexItem,null,Object(p.jsx)(s.EuiCheckbox,{id:"lnsLayerRemoveModalCheckbox",label:u.i18n.translate("xpack.lens.layer.confirmModal.dontAskAgain",{defaultMessage:"Don't ask me again"}),checked:d,onChange:b})),Object(p.jsx)(s.EuiFlexItem,null,Object(p.jsx)(s.EuiFlexGroup,{alignItems:"center",justifyContent:"flexEnd",responsive:!1},Object(p.jsx)(s.EuiFlexItem,{grow:!1},Object(p.jsx)(s.EuiButtonEmpty,{onClick:l},u.i18n.translate("xpack.lens.layer.cancelDelete",{defaultMessage:"Cancel"}))),Object(p.jsx)(s.EuiFlexItem,{grow:!1},Object(p.jsx)(s.EuiButton,{"data-test-subj":"lnsLayerRemoveConfirmButton",onClick:m,color:"danger",iconType:n?"trash":"eraser",fill:!0},n?u.i18n.translate("xpack.lens.layer.confirmDelete",{defaultMessage:"Delete layer"}):u.i18n.translate("xpack.lens.layer.confirmClear",{defaultMessage:"Clear layer"}))))))))},T=e=>{const{buttonLabel:t,modalTitle:a,modalBody:n}=((e,t,a=undefined)=>{var n,r,o,i,s,l;if(t&&"data"===e)return{buttonLabel:u.i18n.translate("xpack.lens.resetLayerAriaLabel",{defaultMessage:"Clear layer"}),modalTitle:u.i18n.translate("xpack.lens.modalTitle.title.clearVis",{defaultMessage:"Clear visualization layer?"}),modalBody:u.i18n.translate("xpack.lens.layer.confirmModal.clearVis",{defaultMessage:"Clearing this layer removes the visualization and its configurations. "})};const c=u.i18n.translate("xpack.lens.deleteLayerAriaLabel",{defaultMessage:"Delete layer"});switch(e){case"data":return{buttonLabel:c,modalTitle:null!==(n=null==a?void 0:a.title)&&void 0!==n?n:u.i18n.translate("xpack.lens.modalTitle.title.deleteVis",{defaultMessage:"Delete visualization layer?"}),modalBody:null!==(r=null==a?void 0:a.description)&&void 0!==r?r:u.i18n.translate("xpack.lens.layer.confirmModal.deleteVis",{defaultMessage:"Deleting this layer removes the visualization and its configurations. "})};case"annotations":return{buttonLabel:c,modalTitle:null!==(o=null==a?void 0:a.title)&&void 0!==o?o:u.i18n.translate("xpack.lens.modalTitle.title.deleteAnnotations",{defaultMessage:"Delete annotation group?"}),modalBody:null!==(i=null==a?void 0:a.description)&&void 0!==i?i:u.i18n.translate("xpack.lens.layer.confirmModal.deleteAnnotation",{defaultMessage:"Deleting this layer removes the annotations and their configurations. "})};case"referenceLine":return{buttonLabel:c,modalTitle:null!==(s=null==a?void 0:a.title)&&void 0!==s?s:u.i18n.translate("xpack.lens.modalTitle.title.deleteReferenceLines",{defaultMessage:"Delete reference lines layer?"}),modalBody:null!==(l=null==a?void 0:a.description)&&void 0!==l?l:u.i18n.translate("xpack.lens.layer.confirmModal.deleteRefLine",{defaultMessage:"Deleting this layer removes the reference lines and their configurations. "})};default:throw new Error("Unknown layer type")}})(e.layerType||k.LayerTypes.DATA,e.isOnlyLayer,e.customModalText);return{execute:async()=>{var t;const r=new I.Storage(localStorage),o=null!==(t=r.get(P.a))&&void 0!==t?t:{},i=e=>{r.set(P.a,{...o,...e})};if(o.skipDeleteModal)e.execute();else{var s;const t=e.core.overlays.openModal(Object(S.toMountPoint)(Object(p.jsx)(C,{modalTitle:a,isDeletable:!e.isOnlyLayer,modalDesc:n,skipDeleteModal:null!==(s=o[P.a])&&void 0!==s&&s,execute:e.execute,closeModal:()=>t.close(),updateLensLocalStorage:i}),{theme$:e.core.theme.theme$}),{"data-test-subj":"lnsLayerRemoveModal",maxWidth:600});await t.onClose}},displayName:t,isCompatible:!0,icon:e.isOnlyLayer?"eraser":"trash",color:"danger","data-test-subj":`lnsLayerRemove--${e.layerIndex}`,order:O}},z=({core:e,layerIndex:t,layerType:a,activeVisualization:n,isOnlyLayer:r,isTextBasedLanguage:o,hasLayerSettings:i,openLayerSettings:s,onCloneLayer:l,onRemoveLayer:c,customRemoveModalText:d})=>{return[(p={hasLayerSettings:i,openLayerSettings:s},{displayName:u.i18n.translate("xpack.lens.layerActions.layerSettingsAction",{defaultMessage:"Layer settings"}),execute:p.openLayerSettings,icon:"gear",isCompatible:p.hasLayerSettings,"data-test-subj":"lnsLayerSettings",order:w}),L({execute:l,layerIndex:t,activeVisualization:n,isTextBasedLanguage:o}),T({execute:c,layerIndex:t,layerType:a,isOnlyLayer:r,core:e,customModalText:d})];var p},E=e=>{const t=`lnsLayerSplitButton--${e.layerIndex}`,[a,n]=Object(o.useState)(!1),i=Object(s.useGeneratedHtmlId)({prefix:t}),{euiTheme:l}=Object(s.useEuiTheme)(),c=Object(o.useCallback)((()=>{n(!a)}),[a]),d=Object(o.useCallback)((()=>{a&&n(!1)}),[a]);return Object(p.jsx)(s.EuiOutsideClickDetector,{onOutsideClick:d},Object(p.jsx)(s.EuiPopover,{id:i,button:Object(p.jsx)(s.EuiButtonIcon,{display:"empty",color:"text",size:"s",iconType:"boxesHorizontal","aria-label":u.i18n.translate("xpack.lens.layer.actions.contextMenuAriaLabel",{defaultMessage:"Layer actions"}),onClick:c,"data-test-subj":t}),ownFocus:!0,isOpen:a,closePopover:d,panelPaddingSize:"none",anchorPosition:"downLeft",panelProps:{"data-test-subj":"lnsLayerActionsMenu"}},Object(p.jsx)(s.EuiContextMenuPanel,{size:"s",items:e.actions.map((t=>Object(p.jsx)(s.EuiContextMenuItem,r()({key:t.displayName,icon:Object(p.jsx)(s.EuiIcon,{type:t.icon,title:t.displayName,color:t.color}),"data-test-subj":t["data-test-subj"],"aria-label":t.displayName,title:t.displayName,disabled:t.disabled,onClick:()=>{d(),t.execute(e.mountingPoint)}},t.color?{css:Object(p.css)("color:",l.colors[t.color],";&:hover{text-decoration-color:",l.colors[t.color],"!important;}",""),size:"s"}:{}),Object(p.jsx)(s.EuiText,{size:"s",color:t.color},t.displayName))))})))};var M={name:"8ixhiv",styles:"gap:0"};const F=e=>{var t;if(!e.actions.length)return null;const a=[...e.actions].sort((({order:e},{order:t})=>e-t)),n=1===a.length?a[0]:a.find((e=>e.showOutsideList)),o=a.filter((e=>e!==n));return Object(p.jsx)(s.EuiFlexGroup,{css:M,responsive:!1,alignItems:"center",direction:"row",justifyContent:"flexEnd"},n&&Object(p.jsx)(s.EuiFlexItem,{grow:!1},Object(p.jsx)(s.EuiToolTip,{content:n.displayName},Object(p.jsx)(s.EuiButtonIcon,{size:"s",iconType:n.icon,color:null!==(t=n.color)&&void 0!==t?t:"text","data-test-subj":n["data-test-subj"],"aria-label":n.displayName,title:n.displayName,disabled:n.disabled,onClick:()=>{var t;return null===(t=n.execute)||void 0===t?void 0:t.call(n,e.mountingPoint)}}))),Object(p.jsx)(s.EuiFlexItem,{grow:!1},Object(p.jsx)(E,r()({},e,{actions:o}))))};var A=a(81),N=a(71);function W({activeVisualization:e,layerConfigProps:t}){if(!e.LayerHeaderComponent){const a=e.getDescription(t.state);return Object(p.jsx)(N.h,{label:a.label,icon:a.icon})}return Object(p.jsx)(e.LayerHeaderComponent,t)}a(295);var B=a(126);function R({panel:e,...t}){return Object(p.jsx)(B.a,t,e)}var V=a(28);const G=({label:e,ariaLabel:t,onClick:a,dataTestSubj:n,iconType:o,...i})=>Object(p.jsx)(s.EuiButtonEmpty,r()({},i,{css:Object(p.css)("width:100%;border-radius:",g.euiThemeVars.euiBorderRadius,"!important;border:",g.euiThemeVars.euiBorderWidthThin," dashed ",g.euiThemeVars.euiBorderColor,"!important;padding:",g.euiThemeVars.euiSizeXS," ",g.euiThemeVars.euiSizeS,";",""),color:"text",size:"s",iconType:null!=o?o:"plus",contentProps:{css:Object(p.css)("justify-content:flex-start;gap:",g.euiThemeVars.euiSizeS,";padding:0!important;color:",g.euiThemeVars.euiTextSubduedColor,";","")},"aria-label":t,"data-test-subj":n,onClick:()=>{a()}}),Object(p.jsx)(D.a,{label:e,dataTestSubj:"emptyDimensionTrigger"}));var H=a(70),$=a(76);const U={ariaLabel:e=>u.i18n.translate("xpack.lens.indexPattern.addColumnAriaLabel",{defaultMessage:"Add or drag-and-drop a field to {groupLabel}",values:{groupLabel:e}}),label:Object(p.jsx)(V.FormattedMessage,{id:"xpack.lens.configure.emptyConfig",defaultMessage:"Add or drag-and-drop a field"})},q=({columnId:e,group:t,onClick:a})=>{const{buttonAriaLabel:n,buttonLabel:r}=t.labels||{};return Object(p.jsx)(G,{label:r||U.label,ariaLabel:n||U.ariaLabel(t.groupLabel),dataTestSubj:"lns-empty-dimension",onClick:()=>a(e)})},Y=({columnId:e,group:t,onClick:a})=>{var n,r;return Object(p.jsx)(G,{label:Object(p.jsx)(V.FormattedMessage,{id:"xpack.lens.configure.suggestedValuee",defaultMessage:"Suggested value: {value}",values:{value:null===(n=t.suggestedValue)||void 0===n?void 0:n.call(t)}}),ariaLabel:u.i18n.translate("xpack.lens.indexPattern.suggestedValueAriaLabel",{defaultMessage:"Suggested value: {value} for {groupLabel}",values:{value:null===(r=t.suggestedValue)||void 0===r?void 0:r.call(t),groupLabel:t.groupLabel}}),dataTestSubj:"lns-empty-dimension-suggested-value",iconType:"plusInCircleFilled",onClick:()=>a(e)})};function K({group:e,layerDatasource:t,state:a,onClick:n,onDrop:r,datasourceLayers:s,indexPatterns:l,activeVisualization:c,order:d,target:u}){var m,f;const[{dragging:x}]=Object(b.e)();let h;var v,y;x&&(t?(Object(H.isDraggedField)(x)||Object(A.g)(x)&&t&&(null==s||null===(v=s[x.layerId])||void 0===v?void 0:v.datasourceId)===(null==s||null===(y=s[u.layerId])||void 0===y?void 0:y.datasourceId))&&(h=t.getDropProps):h=c.getDropProps);const[j,_]=Object(o.useState)(Object($.a)());Object(o.useEffect)((()=>{_(Object($.a)())}),[e.accessors.length]);const{dropTypes:D,nextLabel:O}=(null===(m=h)||void 0===m?void 0:m({state:a,source:x,target:{...u,columnId:j},indexPatterns:l}))||{dropTypes:[],nextLabel:""},w=!(!D.includes("duplicate_compatible")&&!D.includes("duplicate_incompatible")),L=Object(o.useMemo)((()=>({...u,columnId:j,id:j,humanData:{...u.humanData,nextLabel:O||"",canDuplicate:w}})),[j,u,O,w]),S=i.a.useCallback(((e,t)=>r(e,L,t)),[L,r]),I={columnId:L.columnId,onClick:n,group:e};return Object(p.jsx)("div",{className:"lnsLayerPanel__dimensionContainer","data-test-subj":e.dataTestSubj},Object(p.jsx)(b.a,{getCustomDropTarget:b.b.getCustomDropTarget,getAdditionalClassesOnDroppable:b.b.getAdditionalClassesOnDroppable,value:L,order:d,onDrop:S,dropTypes:D},Object(p.jsx)("div",{css:Object(p.css)("border-radius:",g.euiThemeVars.euiBorderRadius,";","")},"number"==typeof(null===(f=e.suggestedValue)||void 0===f?void 0:f.call(e))?Object(p.jsx)(Y,I):Object(p.jsx)(q,I))))}function X({order:e,group:t,onDrop:a,activeVisualization:n,onDragStart:r,onDragEnd:i,children:s,state:l,layerDatasource:c,datasourceLayers:d,registerNewButtonRef:u,indexPatterns:g,target:m}){var f;const[{dragging:x}]=Object(b.e)();let h;var v,y;x&&(c?(Object(H.isDraggedField)(x)||Object(A.g)(x)&&c&&(null==d||null===(v=d[x.layerId])||void 0===v?void 0:v.datasourceId)===(null==d||null===(y=d[m.layerId])||void 0===y?void 0:y.datasourceId))&&(h=c.getDropProps):h=n.getDropProps);const{dropTypes:j,nextLabel:_}=(null===(f=h)||void 0===f?void 0:f({state:l,source:x,target:m,indexPatterns:g}))||{dropTypes:[],nextLabel:""},D=!(!j.includes("replace_duplicate_incompatible")&&!j.includes("replace_duplicate_compatible")),O=!(!j.includes("swap_incompatible")&&!j.includes("swap_compatible")),w=Boolean(j.includes("combine_compatible")||j.includes("field_combine")||j.includes("combine_incompatible")),L=Object(o.useMemo)((()=>({...m,humanData:{...m.humanData,canSwap:O,canDuplicate:D,canCombine:w,nextLabel:_||""}})),[m,_,D,O,w]),S=Object(o.useMemo)((()=>t.accessors.map((e=>({id:e.columnId})))),[t.accessors]),I=Object(o.useCallback)((e=>u(m.columnId,e)),[u,m.columnId]),k=Object(o.useCallback)(((e,t)=>a(e,L,t)),[L,a]);return Object(p.jsx)("div",{ref:I,className:"lnsLayerPanel__dimensionContainer","data-test-subj":t.dataTestSubj},Object(p.jsx)(b.a,{draggable:!0,getCustomDropTarget:b.b.getCustomDropTarget,getAdditionalClassesOnEnter:b.b.getAdditionalClassesOnEnter,getAdditionalClassesOnDroppable:b.b.getAdditionalClassesOnDroppable,order:e,dragType:Object(A.g)(x)?"move":"copy",dropTypes:j,reorderableGroup:S.length>1?S:void 0,value:L,onDrop:k,onDragStart:r,onDragEnd:i},s))}const J=e=>{const t="button, [href], input, select, textarea, [tabindex]";if(!e)return null;if(e.matches(t))return e;return e.querySelector(t)||null};function Z(e){const[t,a]=Object(o.useState)(null),[n,r]=Object(o.useState)(new Map);Object(o.useEffect)((()=>{const e=t&&n.get(t);if(e){const t=J(e);null==t||t.focus(),a(null)}}),[e,n,t]);const i=Object(o.useCallback)(((e,t)=>{t&&r((a=>new Map(a.set(e,t))))}),[]),s=Object(o.useCallback)((t=>{if(e.length<=1)return a(t);const n=e.findIndex((e=>e===t));r((e=>(e.delete(t),new Map(e))));const o=0===n?e[1]:e[n-1];return a(o)}),[e]);return{setNextFocusedId:a,removeRef:s,registerNewRef:i}}var Q=a(75);const ee={isNew:!1};function te(e){var t,a,n,l;const[c,d]=Object(o.useState)(ee),[m,f]=Object(o.useState)(!1),[x,h]=Object(o.useState)(!1),{framePublicAPI:v,layerId:y,isOnlyLayer:j,dimensionGroups:O,onRemoveLayer:w,onCloneLayer:L,registerNewLayerRef:S,layerIndex:I,activeVisualization:k,updateVisualization:P,updateDatasource:C,toggleFullscreen:T,updateAll:E,updateDatasourceAsync:M,visualizationState:N,onChangeIndexPattern:V,core:G,onDropToDimension:H}=e,$=Object(Q.W)((e=>e.lens.isSaveable)),U=Object(Q.W)(Q.y),q=Object(Q.W)(Q.C),Y=Object(Q.W)(Q.D);Object(o.useEffect)((()=>{d(ee)}),[k.id]),Object(o.useEffect)((()=>{var t;const a=c.activeId;null==e||null===(t=e.setIsInlineFlyoutVisible)||void 0===t||t.call(e,!Boolean(a))}),[c.activeId,k.id,e]);const J=Object(o.useRef)(null),te=Object(o.useRef)(null),ae=Object(o.useCallback)((e=>S(y,e)),[y,S]),ne={layerId:y,state:e.visualizationState,frame:e.framePublicAPI,dateRange:Y,activeData:e.framePublicAPI.activeData},re=null===(t=v.datasourceLayers)||void 0===t?void 0:t[y],oe=null==re?void 0:re.datasourceId;let ie=oe?null==U||null===(a=U[oe])||void 0===a?void 0:a.state:void 0;if(!ie&&null!=re&&re.datasourceAliasIds&&U){const e=re.datasourceAliasIds.find((e=>{var t;return null==U||null===(t=U[e])||void 0===t?void 0:t.state}));e&&(ie=U[e].state)}const se=oe?e.datasourceMap[oe]:void 0,le={state:ie,setState:e=>{C(oe,e)},layerId:y,frame:e.framePublicAPI,dateRange:Y},ce=!se&&k.getUniqueLabels?k.getUniqueLabels(e.visualizationState):null==se||null===(n=se.uniqueLabels)||void 0===n?void 0:n.call(se,null==le?void 0:le.state,v.dataViews.indexPatterns),de=!O.some((e=>e.accessors.length>0)),{activeId:ue,activeGroup:pe}=c,ge=O.flatMap((e=>e.accessors.map((e=>e.columnId)))),{setNextFocusedId:be,removeRef:me,registerNewRef:fe}=Z(ge),xe=Object(o.useCallback)(((e,t,a)=>{if(a){if(!Object(A.g)(t))throw new Error("Drop target should be an operation");be("reorder"===a||"field_replace"===a||"field_add"===a?e.id:t.columnId),H({source:e,target:t,dropType:a})}}),[be,H]),he=Boolean(ue),ve=Object(o.useCallback)(((t,{isDimensionComplete:a=!0,forceRender:n=!1}={})=>{pe&&ue&&(ge.includes(ue)?a?n?C(oe,t):M(oe,t):(e.updateDatasource(oe,t),e.onRemoveDimension({layerId:y,columnId:ue})):a?(E(oe,t,k.setDimension({layerId:y,groupId:pe.groupId,columnId:ue,prevState:N,frame:v})),d({...c,isNew:!1})):n?C(oe,t):M(oe,t))}),[c,pe,ue,k,oe,y,E,M,N,v]),{dataViews:ye}=e.framePublicAPI,[je]=Object.values(v.datasourceLayers),_e=Boolean(null==je?void 0:je.isTextBasedLanguage()),De=Object(o.useMemo)((()=>{var t;return(null===(t=k.hasLayerSettings)||void 0===t?void 0:t.call(k,{layerId:y,state:N,frame:e.framePublicAPI}))||{data:!1,appearance:!1}}),[k,y,e.framePublicAPI,N]),Oe=Object(o.useMemo)((()=>{var t,a;return[...(null===(t=k.getSupportedActionsForLayer)||void 0===t?void 0:t.call(k,y,N,P,e.registerLibraryAnnotationGroup,$).map((e=>({...e,execute:()=>{e.execute(we.current)}}))))||[],...z({layerId:y,activeVisualization:k,core:G,layerIndex:I,layerType:k.getLayerType(y,N),isOnlyLayer:j,isTextBasedLanguage:_e,hasLayerSettings:Boolean(Object.values(De).some(Boolean)&&k.LayerSettingsComponent||(null==se?void 0:se.LayerSettingsComponent)),openLayerSettings:()=>f(!0),onCloneLayer:L,onRemoveLayer:()=>w(y),customRemoveModalText:null===(a=k.getCustomRemoveLayerText)||void 0===a?void 0:a.call(k,y,N)})].filter((e=>e.isCompatible))}),[k,y,N,P,e.registerLibraryAnnotationGroup,$,G,I,j,_e,De,null==se?void 0:se.LayerSettingsComponent,L,w]),we=Object(o.useRef)(null);return Object(p.jsx)(i.a.Fragment,null,Object(p.jsx)("section",{tabIndex:-1,ref:ae,className:"lnsLayerPanel"},Object(p.jsx)(s.EuiPanel,{"data-test-subj":`lns-layerPanel-${I}`,paddingSize:"none"},Object(p.jsx)("header",{className:"lnsLayerPanel__layerHeader"},Object(p.jsx)(s.EuiFlexGroup,{gutterSize:"s",responsive:!1,alignItems:"center"},Object(p.jsx)(s.EuiFlexItem,{grow:!0,className:"lnsLayerPanel__layerSettingsWrapper"},Object(p.jsx)(W,{layerConfigProps:{...ne,setState:e.updateVisualization,onChangeIndexPattern:e=>V({indexPatternId:e,layerId:y,visualizationId:k.id})},activeVisualization:k})),e.displayLayerSettings&&Object(p.jsx)(s.EuiFlexItem,{grow:!1},Object(p.jsx)(F,{actions:Oe,layerIndex:I,mountingPoint:we.current}),Object(p.jsx)("div",{ref:we}))),e.indexPatternService&&!_e&&(se||k.LayerPanelComponent)&&Object(p.jsx)(s.EuiSpacer,{size:"s"}),se&&e.indexPatternService&&Object(p.jsx)(se.LayerPanelComponent,{layerId:y,state:ie,activeData:e.framePublicAPI.activeData,dataViews:ye,onChangeIndexPattern:e=>V({indexPatternId:e,layerId:y,datasourceId:oe})}),k.LayerPanelComponent&&Object(p.jsx)(k.LayerPanelComponent,{layerId:y,state:N,frame:v,setState:e.updateVisualization,onChangeIndexPattern:e=>V({indexPatternId:e,layerId:y,visualizationId:k.id})})),O.filter((e=>!e.isHidden)).map(((t,a)=>{var n;let r="";de||(t.requiredMinDimensionCount&&t.requiredMinDimensionCount>t.accessors.length?r=t.requiredMinDimensionCount>1?u.i18n.translate("xpack.lens.editorFrame.requiresTwoOrMoreFieldsWarningLabel",{defaultMessage:"Requires {requiredMinDimensionCount} fields",values:{requiredMinDimensionCount:t.requiredMinDimensionCount}}):u.i18n.translate("xpack.lens.editorFrame.requiresFieldWarningLabel",{defaultMessage:"Requires field"}):t.dimensionsTooMany&&t.dimensionsTooMany>0&&(r=u.i18n.translate("xpack.lens.editorFrame.tooManyDimensionsSingularWarningLabel",{defaultMessage:"Please remove {dimensionsTooMany, plural, one {a dimension} other {{dimensionsTooMany} dimensions}}",values:{dimensionsTooMany:t.dimensionsTooMany}})));const o=!t.requiredMinDimensionCount&&!t.suggestedValue;return Object(p.jsx)(s.EuiFormRow,{className:"lnsLayerPanel__row",fullWidth:!0,label:Object(p.jsx)(i.a.Fragment,null,t.groupLabel,t.groupTooltip&&Object(p.jsx)(i.a.Fragment,null,Object(p.jsx)(s.EuiIconTip,{color:"subdued",content:t.groupTooltip,iconProps:{className:"eui-alignTop"},position:"top",size:"s",type:"questionInCircle"}))),labelAppend:o?Object(p.jsx)(s.EuiText,{color:"subdued",size:"xs","data-test-subj":"lnsGroup_optional"},u.i18n.translate("xpack.lens.editorFrame.optionalDimensionLabel",{defaultMessage:"Optional"})):null,labelType:"legend",key:t.groupId,isInvalid:Boolean(r),error:r},Object(p.jsx)(i.a.Fragment,null,t.accessors.length?Object(p.jsx)(b.c,{className:"lnsLayerPanel__group",dataTestSubj:"lnsDragDrop"},t.accessors.map(((n,r)=>{var o,s,l,c,u,g,b,m,f,j;const{columnId:D}=n,O=null!==(o=null==e||null===(s=e.getUserMessages)||void 0===s?void 0:s.call(e,"dimensionButton",{dimensionId:D}))&&void 0!==o?o:[];return Object(p.jsx)(X,{activeVisualization:k,registerNewButtonRef:fe,order:[2,I,a,r],target:{id:D,layerId:y,columnId:D,groupId:t.groupId,filterOperations:t.filterOperations,prioritizedOperation:t.prioritizedOperation,isMetricDimension:null==t?void 0:t.isMetricDimension,indexPatternId:se?se.getUsedDataView(ie,y):null===(l=k.getUsedDataView)||void 0===l?void 0:l.call(k,N,y),humanData:{label:null!==(c=null==ce?void 0:ce[D])&&void 0!==c?c:"",groupLabel:t.groupLabel,position:r+1,layerNumber:I+1}},group:t,key:D,state:ie,layerDatasource:se,datasourceLayers:v.datasourceLayers,onDragStart:()=>h(!0),onDragEnd:()=>h(!1),onDrop:xe,indexPatterns:ye.indexPatterns},Object(p.jsx)(_,{accessorConfig:n,label:null!==(u=null==ce?void 0:ce[n.columnId])&&void 0!==u?u:"",groupLabel:t.groupLabel,onClick:e=>{d({isNew:!1,activeGroup:t,activeId:e})},onRemoveClick:t=>{e.onRemoveDimension({columnId:t,layerId:y}),me(t)},message:{severity:null===(g=O[0])||void 0===g?void 0:g.severity,content:(null===(b=O[0])||void 0===b?void 0:b.shortMessage)||(null===(m=O[0])||void 0===m?void 0:m.longMessage)}},se?Object(p.jsx)(i.a.Fragment,null,se.DimensionTriggerComponent({...le,columnId:n.columnId,groupId:t.groupId,filterOperations:t.filterOperations,indexPatterns:ye.indexPatterns})):Object(p.jsx)(i.a.Fragment,null,null==k||null===(f=k.DimensionTriggerComponent)||void 0===f?void 0:f.call(k,{columnId:D,label:null!==(j=null==ce?void 0:ce[D])&&void 0!==j?j:"",hideTooltip:x}))))}))):null,t.fakeFinalAccessor&&Object(p.jsx)("div",{css:Object(p.css)("display:flex;align-items:center;border-radius:",g.euiThemeVars.euiBorderRadius,";min-height:",g.euiThemeVars.euiSizeXL,";cursor:default!important;background-color:",g.euiThemeVars.euiColorLightShade,"!important;border-color:transparent!important;box-shadow:none!important;padding:0 ",g.euiThemeVars.euiSizeS,";","")},Object(p.jsx)(D.a,{label:t.fakeFinalAccessor.label,id:"lns-fakeDimension","data-test-subj":"lns-fakeDimension"})),t.supportsMoreColumns?Object(p.jsx)(K,{activeVisualization:k,order:[2,I,a,t.accessors.length],group:t,target:{layerId:y,groupId:t.groupId,filterOperations:t.filterOperations,prioritizedOperation:t.prioritizedOperation,isNewColumn:!0,isMetricDimension:null==t?void 0:t.isMetricDimension,indexPatternId:se?se.getUsedDataView(ie,y):null===(n=k.getUsedDataView)||void 0===n?void 0:n.call(k,N,y),humanData:{groupLabel:t.groupLabel,layerNumber:I+1,position:t.accessors.length+1,label:u.i18n.translate("xpack.lens.indexPattern.emptyDimensionButton",{defaultMessage:"Empty dimension"})}},layerDatasource:se,state:ie,datasourceLayers:v.datasourceLayers,onClick:a=>{e.onEmptyDimensionAdd(a,t),d({activeGroup:t,activeId:a,isNew:!t.supportStaticValue&&Boolean(se)})},onDrop:xe,indexPatterns:ye.indexPatterns}):null))})))),((null==se?void 0:se.LayerSettingsComponent)||(null==k?void 0:k.LayerSettingsComponent))&&Object(p.jsx)(B.a,{panelRef:e=>te.current=e,isOpen:m,isFullscreen:!1,groupLabel:u.i18n.translate("xpack.lens.editorFrame.layerSettingsTitle",{defaultMessage:"Layer settings"}),handleClose:()=>(f(!1),!0),isInlineEditing:Boolean(null==e?void 0:e.setIsInlineFlyoutVisible)},Object(p.jsx)("div",{id:y},Object(p.jsx)("div",{className:"lnsIndexPatternDimensionEditor--padded"},null!=se&&se.LayerSettingsComponent||De.data?Object(p.jsx)(s.EuiText,{size:"s",css:Object(p.css)("margin-bottom:",g.euiThemeVars.euiSize,";","")},Object(p.jsx)("h4",null,u.i18n.translate("xpack.lens.editorFrame.layerSettings.headingData",{defaultMessage:"Data"}))):null,(null==se?void 0:se.LayerSettingsComponent)&&Object(p.jsx)(i.a.Fragment,null,Object(p.jsx)(se.LayerSettingsComponent,le)),null!=se&&se.LayerSettingsComponent&&De.data?Object(p.jsx)(s.EuiSpacer,{size:"m"}):null,null!=k&&k.LayerSettingsComponent&&De.data?Object(p.jsx)(k.LayerSettingsComponent,r()({},ne,{setState:e.updateVisualization,panelRef:te,section:"data"})):null,De.appearance?Object(p.jsx)(s.EuiText,{size:"s",css:Object(p.css)("margin-bottom:",g.euiThemeVars.euiSize,";","")},Object(p.jsx)("h4",null,u.i18n.translate("xpack.lens.editorFrame.layerSettings.headingAppearance",{defaultMessage:"Appearance"}))):null,(null==k?void 0:k.LayerSettingsComponent)&&Object(p.jsx)(k.LayerSettingsComponent,r()({},ne,{setState:e.updateVisualization,panelRef:te,section:"appearance"}))))),Object(p.jsx)(R,{panelRef:e=>J.current=e,isOpen:he,isFullscreen:q,groupLabel:null!==(l=null==pe?void 0:pe.dimensionEditorGroupLabel)&&void 0!==l?l:(null==pe?void 0:pe.groupLabel)||"",isInlineEditing:Boolean(null==e?void 0:e.setIsInlineFlyoutVisible),handleClose:()=>{if(se&&se.updateStateOnCloseDimension){const t=se.updateStateOnCloseDimension({state:ie,layerId:y,columnId:ue});t&&e.updateDatasource(oe,t)}return d(ee),q&&T(),!0},panel:Object(p.jsx)(i.a.Fragment,null,pe&&ue&&se&&se.DimensionEditorComponent({...le,core:e.core,columnId:ue,groupId:pe.groupId,hideGrouping:pe.hideGrouping,filterOperations:pe.filterOperations,isMetricDimension:null==pe?void 0:pe.isMetricDimension,dimensionGroups:O,toggleFullscreen:T,isFullscreen:q,setState:ve,supportStaticValue:Boolean(pe.supportStaticValue),paramEditorCustomProps:pe.paramEditorCustomProps,enableFormatSelector:!1!==pe.enableFormatSelector,layerType:k.getLayerType(y,N),indexPatterns:ye.indexPatterns,activeData:ne.activeData,dataSectionExtra:!q&&!c.isNew&&k.DimensionEditorDataExtraComponent&&Object(p.jsx)(k.DimensionEditorDataExtraComponent,r()({},ne,{groupId:pe.groupId,accessor:ue,datasource:je,setState:e.updateVisualization,addLayer:e.addLayer,removeLayer:e.onRemoveLayer,panelRef:J}))}),pe&&ue&&!q&&!c.isNew&&k.DimensionEditorComponent&&(null==pe?void 0:pe.enableDimensionEditor)&&Object(p.jsx)(i.a.Fragment,null,Object(p.jsx)("div",{className:"lnsLayerPanel__styleEditor"},Object(p.jsx)(k.DimensionEditorComponent,r()({},ne,{groupId:pe.groupId,accessor:ue,datasource:je,setState:e.updateVisualization,addLayer:e.addLayer,removeLayer:e.onRemoveLayer,panelRef:J,isInlineEditing:Boolean(null==e?void 0:e.setIsInlineFlyoutVisible)}))),k.DimensionEditorAdditionalSectionComponent&&Object(p.jsx)(k.DimensionEditorAdditionalSectionComponent,r()({},ne,{groupId:pe.groupId,accessor:ue,datasource:je,setState:e.updateVisualization,addLayer:e.addLayer,removeLayer:e.onRemoveLayer,panelRef:J}))))}))}const ae=Object(o.memo)((function(e){const t=Object(Q.W)(Q.I),a=t.activeId?e.visualizationMap[t.activeId]:null;return a&&t.state?Object(p.jsx)(ne,r()({},e,{activeVisualization:a})):null}));function ne(e){var t;const{activeVisualization:a,datasourceMap:n,indexPatternService:i}=e,{activeDatasourceId:u,visualization:g,datasourceStates:b,query:m}=Object(Q.W)((e=>e.lens)),f=Object(Q.V)(),x=a.getLayerIds(g.state),{setNextFocusedId:h,removeRef:v,registerNewRef:y}=Z(x),j=Object(o.useMemo)((()=>e=>{f(Object(Q.U)({visualizationId:a.id,newState:e}))}),[a.id,f]),_=Object(o.useMemo)((()=>(e,t,a)=>{e&&f(Object(Q.S)({newDatasourceState:"function"==typeof t?t(b[e].state):t,datasourceId:e,clearStagedPreview:!1,dontSyncLinkedDimensions:a}))}),[f,b]),D=Object(o.useMemo)((()=>(e,t)=>{setTimeout((()=>{_(e,t)}))}),[_]),O=Object(o.useMemo)((()=>(e,t,n)=>{e&&setTimeout((()=>{const r="function"==typeof t?t(b[e].state):t,o="function"==typeof n?n(g.state):n;f(Object(Q.U)({visualizationId:a.id,newState:o,dontSyncLinkedDimensions:!0})),f(Object(Q.S)({newDatasourceState:r,datasourceId:e,clearStagedPreview:!1}))}),0)}),[f,g.state,b,a.id]),w=Object(o.useCallback)((()=>{f(Object(Q.O)())}),[f]),L=Object(o.useCallback)((e=>{f(Object(d.g)(e))}),[f]),S=Object(o.useCallback)((t=>{var r;const o=null===(r=e.framePublicAPI.datasourceLayers)||void 0===r?void 0:r[t],i=null==o?void 0:o.datasourceId;if(i){var s;const a=n[i],r=null==b||null===(s=b[i])||void 0===s?void 0:s.state,o=e.uiActions.getTrigger(c.UPDATE_FILTER_REFERENCES_TRIGGER),l=e.uiActions.getAction(c.UPDATE_FILTER_REFERENCES_ACTION);null==l||l.execute({trigger:o,fromDataView:a.getUsedDataView(r,t),usedDataViews:a.getLayers(r).map((e=>a.getUsedDataView(r,e))),defaultDataView:a.getUsedDataView(r)})}f(Object(Q.p)({visualizationId:a.id,layerId:t,layerIds:x})),v(t)}),[a.id,n,b,f,x,e.framePublicAPI.datasourceLayers,e.uiActions,v]),I=Object(o.useCallback)((async({indexPatternId:t,datasourceId:a,visualizationId:n,layerId:r})=>{var o;const i=await(null===(o=e.indexPatternService)||void 0===o?void 0:o.ensureIndexPattern({id:t,cache:e.framePublicAPI.dataViews.indexPatterns}));i&&f(Object(d.a)({indexPatternId:t,datasourceIds:a?[a]:[],visualizationIds:n?[n]:[],layerId:r,dataViews:{indexPatterns:i}}))}),[f,e.framePublicAPI.dataViews.indexPatterns,e.indexPatternService]),k=(e,t,a)=>{const n=Object($.a)();f(Object(Q.a)({layerId:n,layerType:e,extraArg:t,ignoreInitialValues:a})),h(n)},P=Object(o.useCallback)((e=>f(Object(Q.n)(e))),[f]),C=m&&Object(l.isOfAggregateQueryType)(m);return Object(p.jsx)(s.EuiForm,{className:"lnsConfigPanel"},x.map(((t,o)=>{const{hidden:s,groups:l}=a.getConfiguration({layerId:t,frame:e.framePublicAPI,state:g.state});return!s&&Object(p.jsx)(te,r()({},e,{onDropToDimension:L,registerLibraryAnnotationGroup:P,dimensionGroups:l,activeVisualization:a,registerNewLayerRef:y,key:t,layerId:t,layerIndex:o,visualizationState:g.state,updateVisualization:j,updateDatasource:_,updateDatasourceAsync:D,displayLayerSettings:!e.hideLayerHeader,onChangeIndexPattern:e=>{var t,n;I(e),(null!==(t=null===(n=a.getLayersToRemoveOnIndexPatternChange)||void 0===n?void 0:n.call(a,g.state))&&void 0!==t?t:[]).forEach((e=>S(e)))},updateAll:O,addLayer:k,isOnlyLayer:"clear"===Object(H.getRemoveOperation)(a,g.state,t,x.length),onEmptyDimensionAdd:(e,{groupId:a})=>{var r;null!=u&&null!==(r=n[u])&&void 0!==r&&r.initializeDimension&&f(Object(Q.L)({layerId:t,columnId:e,groupId:a}))},onCloneLayer:()=>{f(Object(Q.c)({layerId:t}))},onRemoveLayer:S,onRemoveDimension:a=>{var n;const r=null===(n=e.framePublicAPI.datasourceLayers)||void 0===n?void 0:n[t],o=null==r?void 0:r.datasourceId;f(Object(d.h)({...a,datasourceId:o}))},toggleFullscreen:w,indexPatternService:i}))})),!C&&(null==a||null===(t=a.getAddLayerButtonComponent)||void 0===t?void 0:t.call(a,{supportedLayers:a.getSupportedLayers(g.state,e.framePublicAPI),addLayer:k,ensureIndexPattern:async t=>{let a;if("string"==typeof t)a=t;else{const n=await e.dataViews.create(t);if(!n.id)return;a=n.id}const n=await(null==i?void 0:i.ensureIndexPattern({id:a,cache:e.framePublicAPI.dataViews.indexPatterns}));n&&f(Object(d.a)({dataViews:{indexPatterns:n},datasourceIds:Object.keys(b),visualizationIds:g.activeId?[g.activeId]:[],indexPatternId:a}))},registerLibraryAnnotationGroup:P,isInlineEditing:Boolean(null==e?void 0:e.setIsInlineFlyoutVisible)})))}},function(e,t,a){"use strict";a.d(t,"a",(function(){return g})),a(7);var n=a(4),r=a(2),o=a(16),i=a.n(o),s=a(0);const l=e=>({bold:e.font.weight.bold,normal:e.font.weight.regular}),c=e=>"iconButton"===e.as,d=(e,{type:t,isDisabled:a,groupPosition:n})=>{const r=(({euiTheme:e})=>({default:{borderStyle:"solid",border:e.border.thin,borderColor:e.border.color},emptyButton:{backgroundColor:e.colors.emptyShade,border:`${e.border.thin}`,color:`${e.colors.text}`},buttonPositions:{left:{borderTopRightRadius:0,borderBottomRightRadius:0},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,borderLeft:"none"},center:{borderRadius:0,borderLeft:"none"}}}))(e),o=n&&"none"!==n?r.buttonPositions[n]:{},i={...r.default,...o};return a?i:{...i,..."primary"===t?{}:r.emptyButton}},u=({hasArrow:e=!0,fontWeight:t="normal",type:a,label:o,iconSide:s,iconType:c,fullWidth:u,isDisabled:p,groupPosition:g,...b})=>{const m=Object(n.useEuiTheme)(),f={...d(m,{type:a,isDisabled:p,groupPosition:g}),fontWeight:l(m.euiTheme)[t]},x=p?{}:"primary"===a?{color:"primary",fill:!0}:{color:"text"},h=null!=c?c:e?"arrowDown":"";return Object(r.jsx)(n.EuiButton,i()({size:b.size,isDisabled:p,css:f,iconType:h,iconSide:c?s:"right",fullWidth:u,contentProps:u?{style:{justifyContent:"space-between"}}:{}},x,b),o)},p=({size:e,type:t,label:a,isDisabled:o,groupPosition:s,...l})=>{const c=Object(n.useEuiTheme)(),u=d(c,{type:t,isDisabled:o,groupPosition:s});return Object(r.jsx)(n.EuiButtonIcon,i()({},l,{disabled:o,"aria-label":null!=a?a:l["aria-label"],size:e,iconSize:e,css:u,display:"primary"===t?"fill":"base",color:"primary"===t?"primary":"text"}))};function g(e){const{type:t="empty",size:a="m"}=e;return c(e)?Object(r.jsx)(p,i()({},e,{size:a,type:t})):Object(r.jsx)(u,i()({},e,{size:a,type:t}))}s.i18n.translate("sharedUXPackages.buttonToolbar.toolbar.errorToolbarText",{defaultMessage:"There are over 120 extra buttons. Please consider limiting the number of buttons."})},function(e,t,a){"use strict";a.d(t,"a",(function(){return z})),a.d(t,"c",(function(){return h.b})),a.d(t,"e",(function(){return h.d})),a.d(t,"f",(function(){return h.e})),a.d(t,"d",(function(){return h.c})),a.d(t,"g",(function(){return h.f})),a.d(t,"b",(function(){return h.a}));var n=a(7),r=a.n(n),o=a(87),i=a(80),s=(a(285),a(12)),l=a(86),c=a.n(l),d=a(27),u=a(4),p=a(2);const g=r.a.lazy((()=>a.e(16).then(a.bind(null,556)))),b=/^What\'s (an|(\d+)) elk bees?\?$/;function m({query:e}){if(!e||"object"!=typeof e||"string"!=typeof e.query)return null;const t=b.exec(e.query);if(!t)return null;let a=parseInt(t[2]||"1",10);return isNaN(a)&&(a=0),a=Math.max(1,Math.min(50,a)),Object(p.jsx)(r.a.Suspense,{fallback:!1},new Array(a).fill(void 0).map(((e,t)=>Object(p.jsx)(g,{key:t}))))}function f(e){return Object(p.jsx)(u.EuiErrorBoundary,{style:{display:"none"}},Object(p.jsx)(m,e))}var x=a(75),h=a(102),v=a(79),y=a(70);const j=c()((e=>e),d.isEqual),_=Object(n.memo)((e=>{var t,a,o;const i=Object(x.W)(x.z),l=Object(x.W)(x.r),c=Object(x.W)(x.y),d=Object(x.W)(x.J),u=!l||c[l].isLoading,g=Object(x.V)(),b=Object(n.useMemo)((()=>(e,t)=>{g(Object(x.S)({newDatasourceState:e,datasourceId:l,clearStagedPreview:!0})),null!=t&&t.applyImmediately&&g(Object(x.b)())}),[l,g]);Object(n.useEffect)((()=>{l&&null===c[l].state&&Object(h.d)({datasourceMap:e.datasourceMap,eventAnnotationService:e.plugins.eventAnnotationService,visualizationMap:e.visualizationMap,visualizationState:d,datasourceStates:c,dataViews:e.plugins.dataViews,references:void 0,initialContext:void 0,storage:new s.Storage(localStorage),defaultIndexPatternId:e.core.uiSettings.get("defaultIndex")},{isFullEditor:!0}).then((({datasourceStates:e,visualizationState:t,indexPatterns:a,indexPatternRefs:n})=>{g(Object(x.N)({visualization:{...d,state:t},datasourceStates:Object.entries(e).reduce(((e,[t,a])=>({...e,[t]:{...a,isLoading:!1}})),{}),dataViews:Object(y.getInitialDataViewsObject)(a,n)}))}))}),[c,d,l,e.datasourceMap,e.visualizationMap,g,e.plugins.dataViews,e.core.uiSettings,e.plugins.eventAnnotationService]);const m=Object(n.useCallback)((async(t,a,n)=>{const r=await e.indexPatternService.ensureIndexPattern({id:t,cache:e.frame.dataViews.indexPatterns});g(Object(v.a)({dataViews:{indexPatterns:r},datasourceIds:[a],indexPatternId:t,layerId:n}))}),[e.indexPatternService,e.frame.dataViews.indexPatterns,g]),_={...i,state:l?c[l].state:null,setState:b,core:e.core,showNoDataPopover:e.showNoDataPopover,dropOntoWorkspace:e.dropOntoWorkspace,hasSuggestionForField:e.hasSuggestionForField,uiActions:e.plugins.uiActions,onChangeIndexPattern:m,indexPatternService:e.indexPatternService,frame:e.frame,usedIndexPatterns:j([...l&&(null===(t=e.datasourceMap[l])||void 0===t?void 0:t.getUsedDataViews(c[l].state))||[],...d.activeId&&(null===(a=e.visualizationMap[d.activeId])||void 0===a||null===(o=a.getUsedDataViews)||void 0===o?void 0:o.call(a,d.state))||[]])},D=l&&!u?e.datasourceMap[l].DataPanelComponent:null;return Object(p.jsx)(r.a.Fragment,null,Object(p.jsx)(f,{query:null==i?void 0:i.query}),D&&Object(p.jsx)("div",{className:"lnsDataPanelWrapper"},D(_)))})),D=Object(n.memo)((({nodes:e})=>Object(p.jsx)(r.a.Fragment,null,e.map((e=>e)))));var O=a(138),w=(a(300),a(0)),L=a(30),S=a.n(L);function I(e){const t=Object(x.W)(x.C);return Object(p.jsx)(u.EuiFlexGroup,{direction:"column",responsive:!1,gutterSize:"none",alignItems:"stretch"},e.bannerMessages?Object(p.jsx)(u.EuiFlexItem,{grow:!1},Object(p.jsx)("aside",{"aria-labelledby":"bannerMessagesId"},Object(p.jsx)(u.EuiScreenReaderOnly,null,Object(p.jsx)("h2",{id:"bannerMessagesId"},w.i18n.translate("xpack.lens.section.bannerMessagesLabel",{defaultMessage:"Deprecation messages"}))),e.bannerMessages)):null,Object(p.jsx)(u.EuiFlexItem,{grow:!0,className:"lnsFrameLayout__wrapper"},Object(p.jsx)(u.EuiPage,{paddingSize:"none",className:S()("lnsFrameLayout",{"lnsFrameLayout-isFullscreen":t})},Object(p.jsx)(u.EuiPageBody,{restrictWidth:!1,className:"lnsFrameLayout__pageContent","aria-labelledby":"lns_ChartTitle"},Object(p.jsx)("section",{className:"lnsFrameLayout__sidebar lnsFrameLayout__sidebar--left hide-for-sharing","aria-labelledby":"dataPanelId"},Object(p.jsx)(u.EuiScreenReaderOnly,null,Object(p.jsx)("h2",{id:"dataPanelId"},w.i18n.translate("xpack.lens.section.dataPanelLabel",{defaultMessage:"Data panel"}))),e.dataPanel),Object(p.jsx)("section",{className:S()("lnsFrameLayout__pageBody",{"lnsFrameLayout__pageBody-isFullscreen":t}),"aria-labelledby":"workspaceId"},Object(p.jsx)(u.EuiScreenReaderOnly,null,Object(p.jsx)("h2",{id:"workspaceId"},w.i18n.translate("xpack.lens.section.workspaceLabel",{defaultMessage:"Visualization workspace"}))),e.workspacePanel,Object(p.jsx)("div",{className:"lnsFrameLayout__suggestionPanel hide-for-sharing"},e.suggestionsPanel)),Object(p.jsx)("section",{className:S()("lnsFrameLayout__sidebar lnsFrameLayout__sidebar--right","hide-for-sharing",{"lnsFrameLayout__sidebar-isFullscreen":t}),"aria-labelledby":"configPanel"},Object(p.jsx)(u.EuiScreenReaderOnly,null,Object(p.jsx)("h2",{id:"configPanel"},w.i18n.translate("xpack.lens.section.configPanelLabel",{defaultMessage:"Config panel"}))),e.configPanel)))))}var k=a(159),P=a(183),C=a(94),T=a(99);function z(e){const{datasourceMap:t,visualizationMap:a}=e,r=Object(x.V)(),s=Object(x.W)(x.r),l=Object(x.W)(x.y),c=Object(x.W)(x.I),d=Object(x.W)(x.s),u=!!c.state,g=Boolean(c.activeId&&e.visualizationMap[c.activeId]),b=Object(x.W)((e=>Object(x.B)(e,t))),m=Object(n.useRef)();m.current=e=>{if(e&&s)return Object(C.b)(b.datasourceLayers,c,l,a,t[s],e,b.dataViews,!0)};const f=Object(n.useCallback)((e=>void 0!==m.current(e)),[m]),h=Object(n.useCallback)((e=>{const t=m.current(e);t&&(Object(i.d)("drop_onto_workspace"),Object(C.d)(r,t,{clearStagedPreview:!0}))}),[m,r]),v=Object(n.useCallback)((e=>{Object(T.c)(e)}),[]),y=e.getUserMessages("banner",{severity:"warning"}),j=Object(n.useCallback)((e=>{"dropToTarget"===e.type&&Object(i.d)("drop_total")}),[]);return Object(p.jsx)(o.d,{dataTestSubj:"lnsDragDrop",customMiddleware:j},Object(p.jsx)(I,{bannerMessages:y.length?Object(p.jsx)(T.a,{onError:v},Object(p.jsx)(D,{nodes:y.map((({longMessage:e})=>e))})):void 0,dataPanel:Object(p.jsx)(T.a,{onError:v},Object(p.jsx)(_,{core:e.core,plugins:e.plugins,datasourceMap:t,visualizationMap:a,showNoDataPopover:e.showNoDataPopover,dropOntoWorkspace:h,hasSuggestionForField:f,indexPatternService:e.indexPatternService,frame:b})),configPanel:d&&Object(p.jsx)(T.a,{onError:v},Object(p.jsx)(O.a,{core:e.core,datasourceMap:t,visualizationMap:a,framePublicAPI:b,uiActions:e.plugins.uiActions,dataViews:e.plugins.dataViews,indexPatternService:e.indexPatternService,getUserMessages:e.getUserMessages})),workspacePanel:d&&u&&Object(p.jsx)(T.a,{onError:v},Object(p.jsx)(P.b,{core:e.core,plugins:e.plugins,ExpressionRenderer:e.ExpressionRenderer,lensInspector:e.lensInspector,datasourceMap:t,visualizationMap:a,framePublicAPI:b,getSuggestionForField:m.current,getUserMessages:e.getUserMessages,addUserMessages:e.addUserMessages})),suggestionsPanel:g&&d&&Object(p.jsx)(T.a,{onError:v},Object(p.jsx)(k.b,{ExpressionRenderer:e.ExpressionRenderer,datasourceMap:t,visualizationMap:a,frame:b,getUserMessages:e.getUserMessages,nowProvider:e.plugins.data.nowProvider,core:e.core,showOnlyIcons:!0}))}))}},function(e,t,a){"use strict";a.d(t,"b",(function(){return f})),a.d(t,"a",(function(){return x})),a.d(t,"c",(function(){return p})),a.d(t,"d",(function(){return u}));var n=a(16),r=a.n(n),o=a(7),i=a.n(o),s=a(85),l=a.n(s),c=a(2);const d=i.a.createContext(null),u=({children:e,...t})=>{const{navigateToUrl:a,currentAppId:n}=t;return Object(c.jsx)(d.Provider,{value:{navigateToUrl:a,currentAppId:n}},e)},p=({children:e,coreStart:t})=>{const{navigateToUrl:a,currentAppId$:n}=t.application,r=l()(n,void 0);return Object(c.jsx)(d.Provider,{value:{navigateToUrl:a,currentAppId:r}},e)};var g=a(143);const b={name:"h42ud6",styles:"display:inherit;height:inherit;width:inherit;flex:1;flex-flow:column nowrap"},m=({children:e,navigateToUrl:t,currentAppId:a,...n})=>{const i=Object(o.useRef)(null),s=Object(o.useCallback)((e=>(({event:e,container:t,navigateToUrl:a,currentAppId:n})=>{if(!t||!n)return;const r=e.target,o=Object(g.a)(r,t);if(!o)return;const i=o.href,s=""===o.target||"_self"===o.target,l=0===e.button;i&&s&&l&&!e.defaultPrevented&&!Object(g.b)(e)&&(e.preventDefault(),a(o.href))})({event:e,currentAppId:a,navigateToUrl:t,container:i.current})),[a,t]);return Object(c.jsx)("div",r()({onClick:s,ref:i,css:b,"data-test-subj":"kbnRedirectAppLink"},n),e)},f=({children:e,...t})=>Object(c.jsx)(m,r()({},function(){const e=Object(o.useContext)(d);if(!e)throw new Error("RedirectAppLinksContext is missing.  Ensure your component or React root is wrapped with RedirectAppLinksProvider.");return e}(),t),e),x=({children:e,...t})=>{if(void 0!==t.coreStart){const{coreStart:a,...n}=t,r=Object(c.jsx)(f,n,e);return Object(c.jsx)(p,{coreStart:a},r)}const{navigateToUrl:a,currentAppId:n,...r}=t,o=Object(c.jsx)(f,r,e);return Object(c.jsx)(u,{currentAppId:n,navigateToUrl:a},o)}},function(e,t,a){"use strict";a.d(t,"a",(function(){return D}));var n=a(16),r=a.n(n),o=a(0),i=a(209);const s=(e,t)=>e.reduce(((e,a)=>{const n=t.find((e=>a[e]));if(!n)return e;const r=a[n].length;return e>r?e:r}),0),l=e=>e.reduce(((e,t)=>e>t.length?e:t.length),0);function c(e,t,a){const n=t?s(e,t):l(e);return Object(i.a)(n,a)}var d=a(7),u=a.n(d),p=a(4),g=a(40),b=a(2),m=(a(204),a(30)),f=a.n(m);const x={none:null,left:"kbnToolbarButton--groupLeft",center:"kbnToolbarButton--groupCenter",right:"kbnToolbarButton--groupRight"},h=(Object.keys(x),({children:e,className:t,fontWeight:a="normal",size:n="m",hasArrow:o=!0,groupPosition:i="none",dataTestSubj:s="",textProps:l,...c})=>{const d=f()("kbnToolbarButton",x[i],[`kbnToolbarButton--${a}`,`kbnToolbarButton--${n}`],t);return Object(b.jsx)(p.EuiButton,r()({"data-test-subj":s,className:d,iconSide:"right",iconType:o?"arrowDown":"",color:"text",contentProps:{className:"kbnToolbarButton__content"},textProps:{...l,className:f()("kbnToolbarButton__text",null==l?void 0:l.className)}},c,{size:n}),e)});var v={name:"m8a5aq",styles:"display:block;*:hover &,*:focus &{text-decoration:none!important;}"},y={name:"14j4qfj",styles:"display:block;min-width:0"};function j({label:e,extraIcons:t}){const{euiTheme:a}=Object(p.useEuiTheme)();return null!=t&&t.length?Object(b.jsx)(p.EuiFlexGroup,{alignItems:"center",gutterSize:"s",responsive:!1},Object(b.jsx)(p.EuiFlexItem,{className:"eui-textTruncate",css:y},e),t.map((e=>Object(b.jsx)(p.EuiFlexItem,{grow:!1,"data-test-subj":e["data-test-subj"],css:v,key:e["data-test-subj"]},Object(b.jsx)(p.EuiToolTip,{content:e.tooltipValue,position:"top","data-test-subj":`${e["data-test-subj"]}-tooltip`},Object(b.jsx)(p.EuiFlexGroup,{alignItems:"center",gutterSize:"xs",responsive:!1},Object(b.jsx)(p.EuiFlexItem,{grow:!1},e.component),e.value?Object(b.jsx)(p.EuiFlexItem,{grow:!1},Object(b.jsx)(p.EuiTextColor,{color:a.colors.disabledText},e.value)):null)))))):Object(b.jsx)(u.a.Fragment,null,e)}function _({label:e,title:t,togglePopover:a,isMissingCurrent:n,extraIcons:o,...i}){const s=n?{color:"danger"}:{};return Object(b.jsx)(h,r()({title:t,onClick:()=>a(),fullWidth:!0},s,i,{textProps:{style:{width:"100%",lineHeight:"1.2em"}}}),Object(b.jsx)(j,{label:e,extraIcons:o}))}function D({indexPatternRefs:e,isMissingCurrent:t,indexPatternId:a,onChangeIndexPattern:n,trigger:i,selectableProps:s}){const[l,u]=Object(d.useState)(!1);return Object(b.jsx)(p.EuiPopover,{button:Object(b.jsx)(_,r()({},i,{isMissingCurrent:t,togglePopover:()=>u(!l)})),panelProps:{"data-test-subj":"lnsChangeIndexPatternPopover"},isOpen:l,closePopover:()=>u(!1),display:"block",panelPaddingSize:"none",ownFocus:!0},Object(b.jsx)("div",{css:Object(b.css)("width:",c(e,["name","id"],{minWidth:320,maxWidth:600}),"px;","")},Object(b.jsx)(p.EuiPopoverTitle,{paddingSize:"s"},o.i18n.translate("xpack.lens.indexPattern.changeDataViewTitle",{defaultMessage:"Data view"})),Object(b.jsx)(g.DataViewsList,{dataViewsList:e,onChangeDataView:e=>{n(e),u(!1)},currentDataViewId:a,selectableProps:s})))}},function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return c})),a.d(t,"c",(function(){return b}));var n=a(7),r=a.n(n),o=a(4),i=a(2),s={name:"1azakc",styles:"text-align:center"};const l=()=>{const e=s;return Object(i.jsx)("div",{css:e},Object(i.jsx)(o.EuiLoadingSpinner,null))},c=e=>e.metaKey||e.altKey||e.ctrlKey||e.shiftKey,d=(e,t)=>{let a=e;do{var n,r;if("a"===(null===(n=a)||void 0===n?void 0:n.tagName.toLowerCase()))return a;const e=null===(r=a)||void 0===r?void 0:r.parentElement;if(!e||e===document.body||e===t)break;a=e}while(parent||parent!==document.body||parent!==t)};var u=a(16),p=a.n(u),g=a(51);const b=(e,t=Object(i.jsx)(l,null))=>r.a.forwardRef(((a,r)=>Object(i.jsx)(g.KibanaErrorBoundaryProvider,{analytics:a.analytics},Object(i.jsx)(g.KibanaErrorBoundary,null,Object(i.jsx)(n.Suspense,{fallback:t},Object(i.jsx)(e,p()({},a,{ref:r})))))))},function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));const n="performance_metric";function r(e,t){e.reportEvent(n,t)}},,function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return s})),a.d(t,"b",(function(){return l})),a.d(t,"d",(function(){return c}));var n=a(92),r=a.n(n),o=a(4);const i=(e,t)=>{const a=r()(e).alpha()<1?r.a.blend(t,e,"overlay"):r()(e);return Object(o.isColorDark)(...a.rgb())};function s(e){return null!=e&&""!==e&&/^#/.test(e)&&r.a.valid(e)}const l=e=>{var t;return e&&s(e)&&(null===(t=r()(e))||void 0===t?void 0:t.alpha())||1},c=(e,t)=>r()(e).alpha(t)},,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDeepEqual=t.off=t.on=t.isClient=void 0;var n=a(38).__importDefault(a(218));t.isClient="object"==typeof window,t.on=function(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];return e.addEventListener.apply(e,t)},t.off=function(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];return e.removeEventListener.apply(e,t)},t.isDeepEqual=n.default},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(7);t.default=function(e,t,a){var r=n.useRef(void 0);r.current&&a(t,r.current)||(r.current=t),n.useEffect(e,r.current)}},,,,,,,,function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(81);function r(e,t){const{prevState:a,target:r,frame:o,source:i,group:s,dropType:l}=e,{layerId:c,columnId:d,groupId:u}=r,p=Object(n.g)(i)&&null!=s&&s.requiresPreviousColumnOnDuplicate?i.columnId:void 0;let g=t.setDimension({columnId:d,groupId:u,layerId:c,prevState:a,previousColumn:p,frame:o});return!Object(n.g)(i)||"move_compatible"!==l&&"move_incompatible"!==l&&"combine_incompatible"!==l&&"combine_compatible"!==l&&"replace_compatible"!==l&&"replace_incompatible"!==l||(g=t.removeDimension({layerId:i.layerId,columnId:i.columnId,prevState:g,frame:o})),g}},function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return u}));var n=a(27),r=a(0),o=a(75),i=a(79),s=a(70),l=a(140),c=a(3);const d=async({initialInput:e,lensServices:t,history:a})=>{const{notifications:n,spaces:o,attributeService:i}=t;let s;try{const n=await i.unwrapAttributes(e);if(!n)return{doc:{...e,type:c.LENS_EMBEDDABLE_TYPE},sharingSavedObjectProps:{outcome:"exactMatch"}};const{metaInfo:l,attributes:d}=n,u=null==l?void 0:l.sharingSavedObjectProps;if(o&&"aliasMatch"===(null==u?void 0:u.outcome)&&a){const e=u.aliasTargetId,n=t.http.basePath.prepend(`${Object(c.getEditPath)(e)}${a.location.search}`);await o.ui.redirectLegacyUrl({path:n,aliasPurpose:u.aliasPurpose,objectNoun:r.i18n.translate("xpack.lens.legacyUrlConflict.objectNoun",{defaultMessage:"Lens visualization"})})}return s={...e,...d,type:c.LENS_EMBEDDABLE_TYPE},{doc:s,sharingSavedObjectProps:{aliasTargetId:null==u?void 0:u.aliasTargetId,outcome:null==u?void 0:u.outcome}}}catch(e){n.toasts.addDanger(r.i18n.translate("xpack.lens.app.docLoadingError",{defaultMessage:"Error loading saved document"}))}};function u(e,t,{redirectCallback:a,initialInput:r,history:u,inlineEditing:p},g){var b;const{lensServices:m,datasourceMap:f,initialContext:x,initialStateFromLocator:h,visualizationMap:v}=t,{resolvedDateRange:y,searchSessionId:j,isLinkedToOriginatingApp:_,...D}=Object(i.c)(t),{attributeService:O,notifications:w,data:L,dashboardFeatureFlag:S}=m,{lens:I}=e.getState(),k={dataViews:m.dataViews,storage:m.storage,eventAnnotationService:m.eventAnnotationService,defaultIndexPatternId:m.uiSettings.get("defaultIndex")};let P;if(x&&"query"in x&&(P="textBased"),h){const t=h.filters?Object(n.cloneDeep)(h.filters):void 0;if(t&&L.query.filterManager.setAppFilters(t),h.resolvedDateRange){const e={from:h.resolvedDateRange.fromDate,to:h.resolvedDateRange.toDate};L.query.timefilter.timefilter.setTime(e)}if(!r){var C;const t="references"in h?h.references:void 0;return Object(l.e)({datasourceMap:f,visualizationMap:v,visualizationState:D.visualization,datasourceStates:D.datasourceStates,initialContext:x,adHocDataViews:(null===(C=I.persistedDoc)||void 0===C?void 0:C.state.adHocDataViews)||h.dataViewSpecs,references:t,...k},{isFullEditor:!0}).then((({datasourceStates:t,visualizationState:a,indexPatterns:n,indexPatternRefs:r,annotationGroups:l})=>{const c=(null==h?void 0:h.searchSessionId)||L.search.session.getSessionId();e.dispatch(Object(o.h)({isSaveable:!0,filters:h.filters||L.query.filterManager.getFilters(),query:h.query||D.query,searchSessionId:c,activeDatasourceId:D.activeDatasourceId,visualization:{activeId:D.visualization.activeId,state:a},dataViews:Object(s.getInitialDataViewsObject)(n,r),datasourceStates:Object.entries(t).reduce(((e,[t,a])=>({...e,[t]:{...a,isLoading:!1}})),{}),isLoading:!1,annotationGroups:l})),g&&e.dispatch(Object(i.b)())})).catch((e=>{w.toasts.addDanger({title:e.message})}))}}if(!r||O.inputIsRefType(r)&&r.savedObjectId===(null===(b=I.persistedDoc)||void 0===b?void 0:b.savedObjectId)){var T;const t=x&&"searchFilters"in x&&x.searchFilters?Object(n.cloneDeep)(x.searchFilters):void 0;return t&&L.query.filterManager.setAppFilters(t),Object(l.e)({datasourceMap:f,visualizationMap:v,visualizationState:I.visualization,datasourceStates:I.datasourceStates,initialContext:x,adHocDataViews:null===(T=I.persistedDoc)||void 0===T?void 0:T.state.adHocDataViews,...k},{isFullEditor:!0}).then((({datasourceStates:t,indexPatterns:a,indexPatternRefs:n})=>{e.dispatch(Object(o.g)({newState:{...D,dataViews:Object(s.getInitialDataViewsObject)(a,n),searchSessionId:L.search.session.getSessionId()||L.search.session.start(),...P&&{activeDatasourceId:P},datasourceStates:Object.entries(t).reduce(((e,[t,a])=>({...e,[t]:{...a,isLoading:!1}})),{}),isLoading:!1},initialContext:x})),g&&e.dispatch(Object(i.b)())})).catch((e=>{w.toasts.addDanger({title:e.message}),null==a||a()}))}return d({initialInput:r,lensServices:m,history:u}).then((t=>{if(t){const{doc:a,sharingSavedObjectProps:n}=t;O.inputIsRefType(r)&&m.chrome.recentlyAccessed.add(Object(c.getFullPath)(r.savedObjectId),a.title,r.savedObjectId);const d=Object.entries(a.state.datasourceStates).reduce(((e,[t,a])=>({...e,[t]:{isLoading:!0,state:a}})),{});if(!Boolean(p)){const e=L.query.filterManager.inject(a.state.filters,a.references);L.query.filterManager.setAppFilters(e)}const u={activeId:a.visualizationType,state:a.state.visualization};return Object(l.e)({datasourceMap:f,visualizationMap:v,visualizationState:u,datasourceStates:d,references:[...a.references,...a.state.internalReferences||[]],initialContext:x,dataViews:m.dataViews,eventAnnotationService:m.eventAnnotationService,storage:m.storage,adHocDataViews:a.state.adHocDataViews,defaultIndexPatternId:m.uiSettings.get("defaultIndex")},{isFullEditor:!0}).then((({datasourceStates:t,visualizationState:l,indexPatterns:c,indexPatternRefs:d,annotationGroups:u})=>{const p=L.search.session.getSessionId();e.dispatch(Object(o.h)({isSaveable:!0,sharingSavedObjectProps:n,filters:L.query.filterManager.getFilters(),query:a.state.query,searchSessionId:!S.allowByValueEmbeddables||null!=r&&r.savedObjectId||!p?L.search.session.start():p,persistedDoc:a,activeDatasourceId:Object(s.getInitialDatasourceId)(f,a),visualization:{activeId:a.visualizationType,state:l},dataViews:Object(s.getInitialDataViewsObject)(c,d),datasourceStates:Object.entries(t).reduce(((e,[t,a])=>({...e,[t]:{...a,isLoading:!1}})),{}),isLoading:!1,annotationGroups:u})),g&&e.dispatch(Object(i.b)())})).catch((e=>w.toasts.addDanger({title:e.message})))}null==a||a()}),(()=>{e.dispatch(Object(o.N)({isLoading:!1})),null==a||a()})).catch((e=>{w.toasts.addDanger({title:e.message}),null==a||a()}))}},function(e,t,a){"use strict";a.d(t,"b",(function(){return T})),a.d(t,"a",(function(){return E}));var n=a(16),r=a.n(n),o=(a(305),a(27)),i=a(7),s=a.n(i),l=a(28),c=a(2),d=a(160),u=a.n(d),p=a(4),g=a(29),b=a(111),m=a(0),f=a(30),x=a.n(f),h=a(144),v=a(70),y=a(94),j=a(129),_=a(109),D=a(102),O=a(75),w=a(104);const L=5,S="LENS_SUGGESTIONS_PANEL_HIDDEN",I=(e,t,a,n,r)=>{try{var o,i,s,l;return 0===Object(w.a)([...null!==(o=null==e||null===(i=e.getUserMessages)||void 0===i?void 0:i.call(e,t,{frame:r,setState:()=>{}}))&&void 0!==o?o:[],...null!==(s=null==a||null===(l=a.getUserMessages)||void 0===l?void 0:l.call(a,n,{frame:r}))&&void 0!==s?s:[]],void 0,{severity:"error"}).length}catch(e){return!1}},k=({withLabel:e,ExpressionRendererComponent:t,expression:a,hasError:n,onRender:r})=>{const o=Object(c.jsx)("div",{className:"lnsSuggestionPanel__suggestionIcon"},Object(c.jsx)(p.EuiIconTip,{size:"xl",color:"danger",type:"warning","aria-label":m.i18n.translate("xpack.lens.editorFrame.previewErrorLabel",{defaultMessage:"Preview rendering failed"}),content:m.i18n.translate("xpack.lens.editorFrame.previewErrorLabel",{defaultMessage:"Preview rendering failed"})}));return Object(c.jsx)("div",{className:x()("lnsSuggestionPanel__chartWrapper",{"lnsSuggestionPanel__chartWrapper--withLabel":e})},!a||n?o:Object(c.jsx)(t,{className:"lnsSuggestionPanel__expressionRenderer",padding:"s",renderMode:"preview",expression:a,onRender$:r,debounce:2e3,renderError:()=>o}))};var P={name:"1q00zjo",styles:"display:flex;flex-direction:column;flex-basis:calc(50% - 9px)"};const C=({preview:e,ExpressionRenderer:t,selected:a,onSelect:n,showTitleAsLabel:r,onRender:i,wrapSuggestions:s})=>Object(c.jsx)(p.EuiToolTip,{content:e.title,anchorProps:s?{css:P}:void 0},Object(c.jsx)("div",{"data-test-subj":`lnsSuggestion-${Object(o.camelCase)(e.title)}`},Object(c.jsx)(p.EuiPanel,{hasBorder:!0,hasShadow:!1,className:x()("lnsSuggestionPanel__button",{"lnsSuggestionPanel__button-isSelected":a,"lnsSuggestionPanel__button-fixedWidth":!s}),paddingSize:"none","data-test-subj":"lnsSuggestion",onClick:n,"aria-current":!!a,"aria-label":e.title,element:"button",role:"listitem"},e.expression||e.error?Object(c.jsx)(k,{ExpressionRendererComponent:t,expression:e.expression&&Object(b.b)(e.expression),withLabel:Boolean(r),hasError:Boolean(e.error),onRender:i}):Object(c.jsx)("span",{className:"lnsSuggestionPanel__suggestionIcon"},Object(c.jsx)(p.EuiIcon,{size:"xxl",type:e.icon})),r&&Object(c.jsx)("span",{className:"lnsSuggestionPanel__buttonLabel"},e.title)))),T=e=>Object(O.W)(O.C)?null:Object(c.jsx)(E,e);var z={name:"eeu0j5",styles:"padding:2px"};function E({datasourceMap:e,visualizationMap:t,frame:a,ExpressionRenderer:n,getUserMessages:o,nowProvider:d,core:b,showOnlyIcons:f,wrapSuggestions:x,toggleAccordionCb:j,isAccordionOpen:_}){const w=Object(O.V)(),k=Object(O.W)(O.r),P=Object(O.W)(O.G),T=Object(O.W)(O.y),E=Object(O.W)((e=>Boolean(e.lens.stagedPreview))),F=Object(O.W)(O.w),A=Object(O.W)(O.v),N=Object(O.W)((t=>Object(O.B)(t,e))),W=Object(O.W)(O.u),B=null!=_&&!Boolean(_),[R,V]=u()(S,B);Object(i.useEffect)((()=>{null!=_&&V(!Boolean(_))}),[_,V]);const G=Object(i.useCallback)((()=>{V(!R),null==j||j(!R)}),[V,R,j]),H=Object(D.a)(k?e[k]:null,k?T[k]:null,a.dataViews.indexPatterns),{suggestions:$,currentStateExpression:U,currentStateError:q}=Object(i.useMemo)((()=>{const n=H.length?[]:Object(y.a)({datasourceMap:e,datasourceStates:A,visualizationMap:t,activeVisualization:F.activeId?t[F.activeId]:void 0,visualizationState:F.state,activeData:P,dataViews:a.dataViews}).filter((({hide:a,visualizationId:n,visualizationState:r,datasourceState:o,datasourceId:i})=>!a&&I(i?e[i]:null,o,t[n],r,N))).slice(0,L).map((n=>({...n,previewExpression:M(n,t[n.visualizationId],e,A,a,d)}))),r=!!o&&o(["visualization","visualizationInEditor"],{severity:"error"}).length>0;return{suggestions:n,currentStateExpression:F.state&&F.activeId&&!r?M({visualizationState:F.state},t[F.activeId],e,A,a,d):void 0,currentStateError:r}}),[A,F.state,F.activeId,k,e,t,P]),Y=Object(O.W)(O.A),K=Object(O.W)(O.F),X=Object(i.useRef)(Y);X.current=Y;const J=Object(i.useRef)(K);J.current=K;const Z=Object(i.useMemo)((()=>e=>Object(c.jsx)(n,r()({},e,{searchContext:X.current,searchSessionId:J.current}))),[n]),[Q,ee]=Object(i.useState)(-1);Object(i.useEffect)((()=>{E||-1===Q||ee(-1)}),[E]);const te=Object(i.useRef)(0),ae=Object(i.useRef)(!1),ne=Object(i.useRef)([]),re=$.length+1,oe=Object(i.useCallback)((e=>{ne.current[e]=!0,!1===ae.current&&ne.current.every(Boolean)&&(ae.current=!0,Object(h.a)(b.analytics,{eventName:"lensSuggestionsRenderTime",duration:performance.now()-te.current}))}),[b.analytics]),ie=Object(i.useCallback)((()=>{-1!==Q&&(ee(-1),w(Object(O.q)()),w(Object(O.b)()))}),[w,Q]);if(!k)return null;if(0===$.length)return null;const se=Object(c.jsx)(p.EuiTitle,{size:"xxs",css:z},Object(c.jsx)("h3",null,Object(c.jsx)(l.FormattedMessage,{id:"xpack.lens.editorFrame.suggestionPanelTitle",defaultMessage:"Suggestions"})));return Object(c.jsx)(p.EuiAccordion,{id:"lensSuggestionsPanel",buttonProps:{"data-test-subj":"lensSuggestionsPanelToggleButton",paddingSize:x?"m":"s"},className:"lnsSuggestionPanel",css:Object(c.css)("padding-bottom:",x?0:g.euiThemeVars.euiSizeS,";",""),buttonContent:se,forceState:R?"closed":"open",onToggle:G,extraAction:!R&&Object(c.jsx)(s.a.Fragment,null,E&&Object(c.jsx)(p.EuiToolTip,{content:m.i18n.translate("xpack.lens.suggestion.refreshSuggestionTooltip",{defaultMessage:"Refresh the suggestions based on the selected visualization."})},Object(c.jsx)(p.EuiButtonEmpty,{"data-test-subj":"lensSubmitSuggestion",size:"xs",iconType:"refresh",onClick:()=>{w(Object(O.P)())}},m.i18n.translate("xpack.lens.sugegstion.refreshSuggestionLabel",{defaultMessage:"Refresh"}))),x&&Object(c.jsx)(p.EuiNotificationBadge,{size:"m",color:"subdued"},$.length+1))},Object(c.jsx)("div",{className:"lnsSuggestionPanel__suggestions","data-test-subj":"lnsSuggestionsPanel",role:"list",tabIndex:0,css:Object(c.css)("flex-wrap:",x?"wrap":"nowrap",";gap:",x?g.euiThemeVars.euiSize:0,";","")},W?(ne.current=new Array(re).fill(!1),te.current=performance.now(),Object(c.jsx)(s.a.Fragment,null,F.activeId&&!R&&Object(c.jsx)(C,{preview:{error:q,expression:f?void 0:U,icon:t[F.activeId].getDescription(F.state).icon||"empty",title:m.i18n.translate("xpack.lens.suggestions.currentVisLabel",{defaultMessage:"Current visualization"})},ExpressionRenderer:Z,onSelect:ie,selected:-1===Q,showTitleAsLabel:!0,onRender:()=>oe(0),wrapSuggestions:x}),!R&&$.map(((e,t)=>Object(c.jsx)(C,{preview:{expression:f?void 0:e.previewExpression,icon:e.previewIcon,title:e.title},ExpressionRenderer:Z,key:t,onSelect:()=>{Q===t?ie():(ee(t),Object(y.d)(w,e,{applyImmediately:!0}))},selected:t===Q,onRender:()=>oe(t+1),showTitleAsLabel:f,wrapSuggestions:x}))))):Object(c.jsx)(p.EuiPanel,{hasShadow:!1,className:"lnsSuggestionPanel__applyChangesPrompt",paddingSize:"m"},Object(c.jsx)(p.EuiText,{size:"s",color:"subdued",className:"lnsSuggestionPanel__applyChangesMessage"},Object(c.jsx)("p",null,Object(c.jsx)(l.FormattedMessage,{id:"xpack.lens.suggestions.applyChangesPrompt",defaultMessage:"Latest changes must be applied to view suggestions."}))),Object(c.jsx)(p.EuiButtonEmpty,{iconType:"checkInCircleFilled",size:"s",className:v.DONT_CLOSE_DIMENSION_CONTAINER_ON_CLICK_CLASS,onClick:()=>w(Object(O.b)()),"data-test-subj":"lnsApplyChanges__suggestions"},Object(c.jsx)(l.FormattedMessage,{id:"xpack.lens.suggestions.applyChangesLabel",defaultMessage:"Apply changes"})))))}function M(e,t,a,n,r,i){const s=e.datasourceId,l=e.datasourceState,c=function(e,t,a,n,r,i){if(!t.toPreviewExpression)return null;const s={datasourceLayers:{...r.datasourceLayers}};try{if(e.keptLayerIds&&e.datasourceId&&e.datasourceState){const t=a[e.datasourceId],n=e.datasourceState,i=Object(o.pick)(r.datasourceLayers,e.keptLayerIds);t.getLayers(e.datasourceState).forEach((e=>{i[e]&&(i[e]=t.getPublicAPI({layerId:e,state:n,indexPatterns:r.dataViews.indexPatterns}))}))}const l=Object(j.b)(a,n,r.dataViews.indexPatterns,r.dateRange,i.get());return t.toPreviewExpression(e.visualizationState,s.datasourceLayers,null!=l?l:void 0)}catch(e){return Object(_.b)(e),null}}(e,t,a,s?{...n,[s]:{isLoading:!1,state:l}}:n,r,i);if(c)return"string"==typeof c?Object(b.a)(c):c}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(7),r=a(148),o=function(){};t.default=function(e,t,a){if(!r.isClient)return[t,o,o];if(!e)throw new Error("useLocalStorage key may not be falsy");var i=a?a.raw?function(e){return e}:a.deserializer:JSON.parse,s=n.useState((function(){try{var n=a?a.raw?String:a.serializer:JSON.stringify,r=localStorage.getItem(e);return null!==r?i(r):(t&&localStorage.setItem(e,n(t)),t)}catch(e){return t}})),l=s[0],c=s[1],d=n.useCallback((function(t){try{var n="function"==typeof t?t(l):t;if(void 0===n)return;var r;r=a?a.raw?"string"==typeof n?n:JSON.stringify(n):a.serializer?a.serializer(n):JSON.stringify(n):JSON.stringify(n),localStorage.setItem(e,r),c(i(r))}catch(e){}}),[e,c]),u=n.useCallback((function(){try{localStorage.removeItem(e),c(void 0)}catch(e){}}),[e,c]);return[l,d,u]}},function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a(131),a(319);var n=a(7),r=a.n(n),o=a(4),i=a(0),s=a(2),l={name:"158icaa",styles:"margin-left:4px"};const c=({messages:e,customButtonStyles:t})=>{const[a,c]=Object(n.useState)(!1);let d=0,u=0;e.forEach((({severity:e})=>{"warning"===e?d++:u++}));const p=u>0&&d>0?i.i18n.translate("xpack.lens.messagesButton.label.errorsAndWarnings",{defaultMessage:"{errorCount} {errorCount, plural, one {error} other {errors}}, {warningCount} {warningCount, plural, one {warning} other {warnings}}",values:{errorCount:u,warningCount:d}}):u>0?i.i18n.translate("xpack.lens.messagesButton.label.errors",{defaultMessage:"{errorCount} {errorCount, plural, one {error} other {errors}}",values:{errorCount:u}}):i.i18n.translate("xpack.lens.messagesButton.label.warnings",{defaultMessage:"{warningCount} {warningCount, plural, one {warning} other {warnings}}",values:{warningCount:d}}),g=()=>c(!1);return Object(s.jsx)(o.EuiPopover,{panelPaddingSize:"none",button:Object(s.jsx)(o.EuiToolTip,{content:p},Object(s.jsx)(o.EuiButton,{minWidth:0,color:u?"danger":"warning",onClick:()=>c((e=>!e)),className:"lnsWorkspaceWarning__button","data-test-subj":"lens-message-list-trigger",title:p,css:t},u>0&&Object(s.jsx)(r.a.Fragment,null,Object(s.jsx)(o.EuiIcon,{type:"error"}),u),d>0&&Object(s.jsx)(r.a.Fragment,null,Object(s.jsx)(o.EuiIcon,{type:"alert",css:l}),d))),isOpen:a,closePopover:g},Object(s.jsx)("ul",{className:"lnsWorkspaceWarningList"},e.map(((e,t)=>Object(s.jsx)("li",{key:t,className:"lnsWorkspaceWarningList__item","data-test-subj":`lens-message-list-${e.severity}`},"function"==typeof e.longMessage?e.longMessage(g):Object(s.jsx)(o.EuiFlexGroup,{gutterSize:"s",responsive:!1,className:"lnsWorkspaceWarningList__textItem"},Object(s.jsx)(o.EuiFlexItem,{grow:!1},"error"===e.severity?Object(s.jsx)(o.EuiIcon,{type:"error",color:"danger"}):Object(s.jsx)(o.EuiIcon,{type:"alert",color:"warning"})),Object(s.jsx)(o.EuiFlexItem,{grow:1,className:"lnsWorkspaceWarningList__description"},Object(s.jsx)(o.EuiText,{size:"s"},e.longMessage))))))))}},function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(0),r=a(27),o=a(9),i=a(7),s=a.n(i),l=a(4),c=a(2);const d=e=>"Batch request failed with status 0"===e.message,u=e=>{var t,a,n;return"body"in e&&void 0!==(null===(t=e.body)||void 0===t||null===(a=t.attributes)||void 0===a||null===(n=a.error)||void 0===n?void 0:n.caused_by)},p=e=>"illegal_argument_exception"===e.type&&/\]\[counter\] is not supported for aggregation/.test(e.reason),g=e=>"message"in e&&"stack"in e&&!u(e)&&!Object(o.isEsError)(e);function b(e){const{type:t,reason:a="",caused_by:n}=e;return"failed_shards"in e&&e.failed_shards?e.failed_shards.flatMap((e=>function({type:e,reason:t="",caused_by:a,lang:n,script:r}){if(!a)return/script/.test(t)?[{type:e,reason:t,context:{type:"Painless script",reason:""}}]:[{type:e,reason:t}];const[o]=b(a);return"painless"===n?[{...o,context:{type:"Painless script",reason:`"${r}"`||t}}]:[{...o,context:{type:e,reason:t}}]}(e.reason))):n?b(n):[{type:t,reason:a}]}function m(e,t){const a=[];if(e&&"original"in e&&e.original)if(g(e.original))d(e.original)?a.push(n.i18n.translate("xpack.lens.editorFrame.networkErrorMessage",{defaultMessage:"Network error, try again later or contact your administrator."})):a.push(e.message);else{const i=Object(r.uniqWith)(function(e){if(u(e))return b(e.body.attributes.error);if(Object(o.isEsError)(e)){var t,a,n,r;if(null!==(t=e.attributes)&&void 0!==t&&null!==(a=t.error)&&void 0!==a&&a.reason)return b(e.attributes.error);if(null!==(n=e.attributes)&&void 0!==n&&null!==(r=n.error)&&void 0!==r&&r.caused_by)return b(e.attributes.error.caused_by)}return[]}(e.original),r.isEqual);for(const e of i)if(e.context)a.push(n.i18n.translate("xpack.lens.editorFrame.expressionFailureMessageWithContext",{defaultMessage:"Request error: {type}, {reason} in {context}",values:{reason:e.reason,type:e.type,context:e.context.reason?`${e.context.reason} (${e.context.type})`:e.context.type}}));else if(p(e)){const[r,o,i,d]=e.reason.match(/\[(\w)*\]/g),u=n.i18n.translate("xpack.lens.editorFrame.expressionTSDBDetailedMessage",{defaultMessage:"The field {field} of Time series type [counter] has been used with the unsupported operation {op}.",values:{field:r,op:d}}),p=Object(c.jsx)(s.a.Fragment,null,Object(c.jsx)("p",{className:"eui-textBreakWord"},u),Object(c.jsx)(l.EuiLink,{href:t.links.fleet.datastreamsTSDSMetrics,external:!0,target:"_blank"},n.i18n.translate("xpack.lens.editorFrame.expressionTSDBCounterInfo",{defaultMessage:"See more about Time series field types and [counter] supported aggregations"})));a.push({short:u,long:p})}else a.push(n.i18n.translate("xpack.lens.editorFrame.expressionFailureMessage",{defaultMessage:"Request error: {type}, {reason}",values:{reason:e.reason,type:e.type}}))}else null!=e&&e.message&&a.push(e.message);return a.map((e=>({uniqueId:"string"==typeof e?e:e.short,severity:"error",displayLocations:[{id:"visualizationOnEmbeddable"}],longMessage:"string"==typeof e?"":e.long,shortMessage:"string"==typeof e?e:e.short,fixableInEditor:!1})))}},,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";a.d(t,"b",(function(){return F})),a.d(t,"a",(function(){return w.b}));var n=a(16),r=a.n(n),o=a(7),i=a.n(o),s=a(85),l=a.n(s),c=a(30),d=a.n(c),u=a(28),p=a(111),g=a(0),b=a(4),m=a(5),f=a(2);const x=({title:e,titleId:t,...a})=>Object(f.jsx)("svg",r()({width:176,height:176,viewBox:"0 0 176 176",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t},a),e?Object(f.jsx)("title",{id:t},e):null,Object(f.jsx)("path",{d:"M122.155 89.485H12.389v40.796h109.766V89.485z",fill:"#58C5A7"}),Object(f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.471 91.253c.358-.28.786-.454 1.236-.503A1.664 1.664 0 0122 92.647a1.842 1.842 0 01-1.801 1.375 1.65 1.65 0 01-1.513-1.69c.156-.426.428-.8.785-1.08zm-6.188 3.1c.137 0 .618-.07.646-.275.027-.207-.358-.482-.509-.496a.482.482 0 00-.495.317c-.041.22.206.412.357.454zm-.908 5.197v1.952c.097.108.22.188.357.234a1.156 1.156 0 001.376-1.086c.096-.536-.372-1.018-1.142-1.141-.197-.03-.4-.016-.591.041zm34.375 9.213a.797.797 0 00-.921.371c-.385.619-.33.921.275 1.54-.041.549-.041 1.101 0 1.65a.548.548 0 00.376.522.557.557 0 00.614-.192c.076-.103.16-.203.245-.304.314-.373.64-.759.607-1.332l-.591-.605c.041-.798-.192-1.527-.605-1.65zm-33.096 5.211a.727.727 0 00-.646-.88 2.289 2.289 0 00-.62 0v2.131h.152a.715.715 0 00-.165.275v.468a.44.44 0 00.316.343c.385.097.578-.44.591-.618.014-.179 0-.564-.357-.605h-.055c.395-.257.676-.656.784-1.114zm.261 1.952c-.165-.041-.165-.206-.165-.33a.348.348 0 01.22-.124c.082.042.289.193.192.262a.263.263 0 00-.074.097c-.035.063-.067.122-.173.095zm-1.54 2.613v.632a1.71 1.71 0 001.169.853 1.062 1.062 0 001.107-.45c.078-.118.132-.25.158-.389a1.376 1.376 0 00-1.059-1.568 1.536 1.536 0 00-1.375.922zm1.293 4.304a1.38 1.38 0 001.457-.894 1.513 1.513 0 00-1.182-1.595c-.427 0-.95.522-1.045 1.169a1.112 1.112 0 00.77 1.32zm11.809-1.457c.158.123.29.277.387.453.962.247 1.553.948 1.347 1.705a1.966 1.966 0 01-1.925 1.471 1.898 1.898 0 01-1.375-1.746 1.225 1.225 0 01-.234-.894c.11-.66.784-1.334 1.265-1.251.195.05.377.139.535.262zm4.91.989a1.376 1.376 0 00-1.265.701 1.16 1.16 0 00-.357.151c.038.136.066.274.082.413a2.842 2.842 0 00-.082.33 1.155 1.155 0 001.072 1.375 1.374 1.374 0 001.664-1.375 1.472 1.472 0 00-1.113-1.595zm-4.262 7.164a1.004 1.004 0 00.523.632c.343.124.838-.371.756-.756-.06-.28-.186-.378-.281-.453a.473.473 0 01-.09-.083c-.633-.028-1.032.371-.908.66zm4.386-1.059c.232.136.433.319.591.536.174-.022.349-.026.523-.014a1.01 1.01 0 01.839.935.806.806 0 01-.096.33h-4.126a1.378 1.378 0 01.124-.605c.454-1.045 1.375-1.54 2.145-1.182zm-5.514.536a.904.904 0 00.908-.838c0-.468-.289-.674-.729-.715a.83.83 0 00-.864.43.828.828 0 00-.098.326.75.75 0 00.216.572.753.753 0 00.568.225zm11.688.344c.041-.853.44-1.251 1.127-1.251.757.055 1.458.646 1.43 1.21 0 .288-.453.701-.92.948h-1.156a1.202 1.202 0 01-.481-.907zm14.286-7.205c.124-.22.097-.385-.137-.495-.234-.11-.372-.082-.495.138a.314.314 0 00.01.396c.03.037.07.065.114.085a.316.316 0 00.509-.124zM13.2 130.267h-.825v-6.985c.072-.015.154-.046.245-.08h.001v-.001c.394-.148.945-.355 1.514.37.333.425-.1.878-.317 1.105a1.2 1.2 0 00-.095.105.78.78 0 01.646-.151.74.74 0 01.674.866v.151a1.87 1.87 0 012.447 0 1.702 1.702 0 01-.11-.907.851.851 0 01.839-.784c.742-.055 1.595.701 1.375 1.155-.18.42-.488.771-.88 1.004h.192a.866.866 0 01.77.839 1.55 1.55 0 01-.33 1.003c.66-.151 1.471.702 1.279 1.637-.047.232-.14.452-.275.646h-3.3c-.137-.206-.275-1.664.151-1.898.326-.178.716.077.943.226.07.045.125.081.157.091.113.033.18-.043.283-.163.023-.026.047-.055.075-.085h-.138a2.187 2.187 0 01-.976-.852c-.27.371-.675.622-1.128.701a2.637 2.637 0 01-.632.261 1.628 1.628 0 01-.371-.399 1.841 1.841 0 01-.825-1.636c.02-.123.057-.244.11-.357a.765.765 0 01-.234.123c.12.29-.057.572-.2.8-.055.086-.104.164-.13.232-.045.116.03.18.153.285.14.12.34.291.493.65.289.673-.632 1.595-1.609 1.375h-.096c.098.21.14.442.124.673zm4.895-4.056h-.082a.58.58 0 01-.317-.192c.052.109.089.225.11.343.092-.058.189-.109.289-.151zm22.358-1.87c-.633-.068-1.018.317-1.114 1.073a.179.179 0 00-.083.069 1.374 1.374 0 00.316 1.375 1.23 1.23 0 001.306-.385.782.782 0 00.62-.605 1.843 1.843 0 00-1.045-1.527zm-19.345 1.893a.813.813 0 01-.208-.573.906.906 0 01.963-.77.827.827 0 01.715.977.736.736 0 01-.318.525.75.75 0 01-.604.107.813.813 0 01-.548-.266zm28.575-6.065a1.195 1.195 0 01-.073-.709 1.374 1.374 0 011.32-.426.962.962 0 01.426 1.169.885.885 0 01-.49.525.877.877 0 01-.72-.017 1.192 1.192 0 01-.463-.542zm-32.358-1.919a.55.55 0 00-.605.66c0 .275.151 1.004.536.976.385-.027.756-.646.798-.921.041-.275-.275-.715-.729-.715zm5.795 8.839c.213.248.34.557.365.882-.041.481-.564.812-1.306.812h-.33a1.09 1.09 0 01-.756-1.018c.04-.55.742-1.169 1.21-1.169.318.073.604.246.817.493zm-.937 1.694h-.004.041H22.183zm0 0c-.675.012-1.338.366-1.338.866-.007.206.04.409.138.591h2.392a.734.734 0 000-.165c0-.837-.315-1.222-1.192-1.292zm-2.15-12.114c0 .605.317 1.003.674.907a1.05 1.05 0 00.633-.522c.124-.344-.371-.839-.756-.757-.272.059-.373.179-.452.273a.502.502 0 01-.098.099zm5.34 9.231c.028.082.037.17.023.256-.027.454-.44.756-.715.715-.275-.041-.88-.412-.907-.797-.028-.385.701-.523.976-.523a.535.535 0 01.623.349zm2.127 4.312h.481a.62.62 0 00-.481 0zm-4.648-6.366c.138.083.33.33.234.536-.082.193-.398.22-.55.179-.151-.041-.454-.412-.371-.605.082-.192.55-.192.688-.11zm25.617 6.422l.192-.33a2.2 2.2 0 00.454-.097.856.856 0 00-.083.413h2.984a1.2 1.2 0 00-.445-1.285 1.207 1.207 0 00-.435-.2 1.943 1.943 0 00-1.059 0 .8.8 0 00-.563-.536c-.688-.22-.963-.083-1.375.646-.543.098-1.08.226-1.609.385a.582.582 0 00-.34.318.59.59 0 00-.004.466 2.012 2.012 0 00-1.1.275l3.383-.055zm7.38-16.424a.77.77 0 01-.01-.393c.811-.426 1.1-.426 1.292-.041a.783.783 0 01-.343.963.77.77 0 01-.94-.529zm-3.795 1.45a.885.885 0 01.334.206c.508.316.536.646.412.853-.124.206.316.261.481.123.165-.137.592-.316.99.262.399.577-.233 1.058-.66 1.292-.426.234-.728.33-1.072 0-.16-.154-.321-.182-.505-.215-.21-.037-.452-.079-.76-.321a1.376 1.376 0 01-.261-1.843.9.9 0 01.651-.401.875.875 0 01.39.044zm-17.074 1.155c0-.165-.22-.427-.357-.44-.138-.014-.537 0-.55.412-.013.378.31.398.49.41l.046.003c.165.013.385-.262.371-.385zm4.318 2.447c-.798-.275-1.032-.756-.798-1.375.248-.284.59-.47.962-.522a.756.756 0 01-.618-.605 1.032 1.032 0 01.88-.99.353.353 0 01.268.109.342.342 0 01.09.276c.002.092.012.196.022.302.031.34.065.71-.091.825a.766.766 0 01.316 0c.343.165.522.633.343 1.169-.288.811-.577 1.086-1.374.811zm15.014-7.755c0-.044.009-.093.018-.144.026-.155.055-.326-.141-.419a.303.303 0 00-.44.165c-.069.165-.179.577 0 .687.178.11.55-.192.563-.289zm-5.898 14.011c.07.029.132.077.178.138a1.1 1.1 0 01.798-.124c.536.138.962 1.238.536 1.513a.933.933 0 01-.715 0 .77.77 0 010 .275c-.178.509-.756.66-1.457.371a.955.955 0 01-.206-.11c.027.082-.042.536-.386.468-.343-.069-.343-.427-.343-.592a.315.315 0 01.22-.302.908.908 0 010-.88 1.116 1.116 0 011.375-.757zm-3.685 4.098c.082-.344-.426-.962-.853-1.059a.674.674 0 00-.524.136.668.668 0 00-.246.483c-.096.701 0 1.196.399 1.279a1.38 1.38 0 001.224-.839zm13.166-11.052a.757.757 0 01-.31-.031.849.849 0 01-.481-1.127.685.685 0 01.595-.549.688.688 0 01.285.026.897.897 0 01.577 1.1.767.767 0 01-.666.581zm-22.806 4.809a1.372 1.372 0 01-.81.014 1.168 1.168 0 01-.413-1.499.661.661 0 01.633-.467c.27-.143.576-.201.88-.165.426.082.632.303.632.77-.03.264-.119.518-.261.742v.138c-.169.219-.4.381-.661.467zm-5.169-11.852c.22 0 .412-.206.454-.357.041-.152-.083-.619-.289-.647-.206-.027-.481.358-.481.509 0 .151.096.468.316.495zm.591 2.805c-.096.412-1.058.66-1.375.412-.261-.247-.261-1.402.578-1.416a.932.932 0 01.289 0c.068-.165.26-.412.426-.412a.448.448 0 01.289.398 1.103 1.103 0 01-.207.427 1.22 1.22 0 010 .591zm22.44 7.04c-.027-1.224.426-2.516 2.214-2.228.342.056.672-.045.99-.142.386-.118.753-.231 1.1-.05a2.116 2.116 0 01.949 1.774 2.6 2.6 0 01-1.746 2.598 1.111 1.111 0 01-.867 0c-.19.191-.402.357-.632.495a.987.987 0 01-.564-.756 1.69 1.69 0 01-1.031-.577A1.899 1.899 0 0152.95 121zm-31.061-3.383c0 .495.619.674.907.743.29.069.564-.289.592-.646.027-.358-.275-.825-.633-.729-.048.013-.1.025-.155.038-.344.081-.758.178-.711.594zm-1.733-10.546c.07-.371 1.403-1.059 1.61-.783.233.275.467 1.154-.235 1.347-.7.192-1.443-.192-1.375-.564zm6.958 19.127a1.25 1.25 0 00.77 1.746 1.182 1.182 0 001.526-.536 1.775 1.775 0 00-.949-1.994 1.254 1.254 0 00-1.347.784zm.99-3.658c.027 0 .124.22.124.22-.041.069-.193.289-.261.192-.024-.032-.055-.055-.085-.078-.059-.043-.112-.083-.094-.183.027-.151.288-.151.316-.151zM33 127.077a1.38 1.38 0 00-1.375.674c-.124.317.289 1.004.701 1.155a.6.6 0 00.702-.22 1.512 1.512 0 00.948.757.829.829 0 00.922-.784c.08.046.162.088.247.124a1.148 1.148 0 00.939.009 1.13 1.13 0 00.628-.697 1.372 1.372 0 00-.32-1.666 1.375 1.375 0 00-.532-.287 1.488 1.488 0 00-1.856.661 1.195 1.195 0 00.11 1.045 1.448 1.448 0 00-.866.33c.068-.605-.014-1.004-.248-1.101zm-9.996-16.747c.069.124.22.467.069.591a.533.533 0 01-.592.055c-.179-.069-.344-.467-.179-.646a.634.634 0 01.702 0zm-8.195 2.984h-.275a.809.809 0 00-.44.866c-.006.256.071.507.22.715.239-.06.483-.102.729-.124a.695.695 0 00-.262.523 1.732 1.732 0 001.375 1.622 1.276 1.276 0 001.045-1.182 1.089 1.089 0 00-1.114-1.279 1.74 1.74 0 00-.538-.002c.02-.005.06-.026.071-.108.044-.228-.208-.45-.454-.666-.14-.124-.277-.245-.357-.365zm1.99-6.431c.043.175.044.357.003.532a.897.897 0 01-1.03.585.897.897 0 01-.386-.186 1.04 1.04 0 01-.222-.83 1.036 1.036 0 01.484-.71.99.99 0 01.907.137c.117.136.2.298.244.472zm.884 16.619c.49.176.881.032 1.14-.063.145-.053.248-.091.303-.047.022.018.052.048.089.085.22.218.688.681 1.135.328a1.074 1.074 0 00.426-1.375 1.06 1.06 0 00.949-.743 1.76 1.76 0 000-.66c.162-.105.31-.229.44-.371a1.376 1.376 0 00-.165-2.117 1.538 1.538 0 00-2.255.371c-.394.54-.25.955-.133 1.295.104.3.187.541-.142.754-.316.205-.51.146-.712.085-.247-.075-.508-.154-1.02.231-.936.701-.84 1.939-.055 2.227zm.893-9.377c.206-.096.537.124.537.289.055.178-.014.536-.22.563a.637.637 0 01-.578-.343.441.441 0 01.261-.509zm2.186 1.581a.605.605 0 00.66.715 1.062 1.062 0 00.757-.412c.11-.206-.179-.99-.564-1.031a.796.796 0 00-.852.728zm11.804 8.348c.05-.002.1.007.145.026.087.019.184.035.283.052.343.058.715.121.79.292a.77.77 0 01-.798 1.003 1.043 1.043 0 01-.728-1.1.33.33 0 01.308-.273zm37.311-5.226c-.77-.11-1.636.412-1.677 1.003-.041.592.564 1.114 1.182 1.169a1.208 1.208 0 001.21-1.114c.07-.618-.178-.99-.715-1.058zm-1.503 4.809c.014-.231.082-.456.197-.657a1.38 1.38 0 01.704-.862 1.368 1.368 0 011.111-.059 2.063 2.063 0 011.238 2.103 1.691 1.691 0 01-2.131 1.032 1.521 1.521 0 01-1.006-.88 1.516 1.516 0 01-.113-.677zm4.075-14.325a1.376 1.376 0 00-1.636.413c-.248.481.15 1.182.866 1.526a1.004 1.004 0 001.182-.44 1.209 1.209 0 00-.412-1.499zm-12.26 19.874a1.61 1.61 0 01-.789-.899 1.555 1.555 0 011.251-1.581c.88-.014 1.843.371 1.843 1.004a1.57 1.57 0 01-1.114 1.581 1.613 1.613 0 01-1.19-.105zm6.54-4.707a1.868 1.868 0 00-2.132.866 1.567 1.567 0 00.702 2.062 2.48 2.48 0 002.406-.907 1.608 1.608 0 00-.976-2.021zm-3.819-8.983a1.583 1.583 0 011.11-.092 1.539 1.539 0 01.605 1.884 1.58 1.58 0 01-1.815.385 1.086 1.086 0 01-.674-1.375c.152-.353.427-.637.774-.802zm6.362-1.77c-.577-.275-1.058 0-1.375.743a1.375 1.375 0 00.358 1.526 1.51 1.51 0 001.76-.646 1.375 1.375 0 00-.743-1.623zm-10.725 16.033c.22-.344.674-.344 1.197 0 .149.114.31.211.481.288.17.052.332.126.481.22h-2.269a.633.633 0 01.11-.508zm13.503-2.558a1.183 1.183 0 002.2.674 1.457 1.457 0 00-.578-1.774c-.398-.151-1.443.537-1.622 1.1zm-58.74-17.545a.88.88 0 01.261 0 1.623 1.623 0 011.1 1.581 1.225 1.225 0 01-1.375.784 1.651 1.651 0 01-.921-.357v-1.375c.034-.04.066-.082.097-.123.044-.059.088-.117.137-.166H12.375v-5.115a1.113 1.113 0 011.114 1.54 1.279 1.279 0 000 .715 2.75 2.75 0 01.178 1.87 1.47 1.47 0 01-.357.646zm-.935-4.771v-.66a.55.55 0 010 .66zm1.705-.22a.893.893 0 00.674 1.031.909.909 0 001.017-.701 1.03 1.03 0 00-.756-1.114.883.883 0 00-.935.784zm60.76 13.21c.166.323.21.695.125 1.049a1.508 1.508 0 01-.773.947 1.508 1.508 0 01-1.221.057 1.174 1.174 0 01-.876-1.048c-.012-.163.01-.326.065-.479a1.663 1.663 0 011.898-1.237c.337.135.615.387.781.711zm-10.394 3.551c-.09.552.336.793.785 1.046l.095.054.165-.114c.398-.272.797-.544.591-1.123a.347.347 0 00-.082-.151 2.024 2.024 0 001.155-1.073.853.853 0 00-.605-1.045 1.213 1.213 0 00-.955-.053 1.218 1.218 0 00-.695.658 1.375 1.375 0 00.11 1.183.835.835 0 00-.564.618zm22.15.271c.038.097.049.204.029.307 0 .206-.426.137-.605.082a.549.549 0 01-.316-.522c.055-.206.564-.193.701-.11a.547.547 0 01.19.243zm1.968 5.669a1.195 1.195 0 00-1.375.77c-.22.592-.083 1.004.426 1.21a1.472 1.472 0 001.76-.563 1.377 1.377 0 00-.811-1.417zm-4.895-8.772c.398.069.412.509.288.825-.082.316-.398.564-1.003.316a2.784 2.784 0 00-.06-.228c-.062-.221-.137-.486-.078-.624.083-.193.454-.358.853-.289zm6.325 3.781a.466.466 0 00-.234-.591.5.5 0 00-.426-.027.513.513 0 00-.322.524.509.509 0 00.418.452.527.527 0 00.564-.358zm2.224-2.268a.685.685 0 01.292-.015c.069.014.247.275.151.427l-.038.064c-.103.175-.273.466-.54.321-.237-.13-.177-.396-.14-.557v-.001a.562.562 0 00.017-.102.671.671 0 01.258-.137zm-31.086-.482a.76.76 0 00.423-.446.77.77 0 00-.038-.613c-.123-.247-.48-.563-.728-.55-.619 0-.839.523-.908 1.128l.007.006c.328.301.712.653 1.245.475zm15.712 6.117c-.285-.221-.688-.535-.518-.933.168-.432.608-.341 1.019-.256l.177.036c.454.082.55.481.372.88-.179.398-.647.618-.894.398a3.96 3.96 0 00-.156-.125zm-18.049-18.217c-.22.674.564 1.073.949.921a.809.809 0 00.343-.962.742.742 0 00-1.292.041zm3.892 1.969c.25-.043.506 0 .728.121a1.378 1.378 0 01.66 1.306c-.069.619-.316.88-.963.88h-1.044v.564a1.565 1.565 0 01-.949 1.482 1.574 1.574 0 01-.605.127.975.975 0 01-.715-.248 2.022 2.022 0 01-.591-1.87 1.76 1.76 0 011.553-1.127h.564c.204-.32.444-.615.715-.88.17-.188.398-.313.647-.355zm19.14 10.131c-.798-.481-1.21-.385-1.65.44-.334.624-.556 1.012-.794 1.426l-.238.417c-1.182-.55-1.375-.482-1.554.604.44.509.908.454 1.375 0 1.279.963 2.104.523 2.324-1.168.103-.047.209-.089.316-.124.468-.069.605-.399.647-.811a.85.85 0 00-.427-.784zm-2.198 9.221c.004-.179.045-.355.121-.517.399-.963 1.196-1.444 1.911-1.155a1.757 1.757 0 01.963 1.883 1.733 1.733 0 01-2.145 1.032 1.3 1.3 0 01-.751-.72 1.294 1.294 0 01-.099-.523zm-1.68-15.312a1.084 1.084 0 00-.811.233c-.427.523-.152.99.357 1.472.084-.03.17-.055.253-.081.427-.128.824-.248.847-.799a.757.757 0 00-.646-.825zM28.6 116.641c-.179-.014-.715-.206-.619-.591.11-.371.619-.371.798-.33a.55.55 0 01.426.564c-.041.357-.426.371-.605.357zm11.866-3.891a.82.82 0 00-.632.454.55.55 0 00.495.729c.233 0 .866-.083.907-.606.042-.522-.563-.577-.77-.577zm-3.011 9.57c-.082-.234-.014-.715.151-.811.383-.15.704-.427.908-.784.041-.096.247-.179.357-.179.413.124.468.564.413.715a11.73 11.73 0 01-.192.481 1.228 1.228 0 01.66 1.004c-.015.33-.716.756-1.128.756a.918.918 0 01-.688-.715 1.055 1.055 0 01-.481-.467zm3.699-3.52a.647.647 0 00.481.852.196.196 0 00.096 0 1.6 1.6 0 00.784.495 1.207 1.207 0 001.306-.618 2.025 2.025 0 00-.701-1.884 1.376 1.376 0 00-1.279.619.618.618 0 00-.687.536zM15.252 96.463a.963.963 0 01.67-.213.949.949 0 01.84 1.017.894.894 0 01-.936.784 1.059 1.059 0 01-.921-.976.963.963 0 01.347-.612zm21.53 21.333a1.226 1.226 0 00-1.307.66.866.866 0 00.591 1.059.975.975 0 001.169-.426c.151-.399-.11-1.197-.454-1.293zm-1.238 6.683c.206-.083.687-.138.825 0 .272.314.638.531 1.045.619.083.01.15.122.207.217.02.032.037.061.054.085-.027.413-.192.578-.578.578a7.28 7.28 0 01-1.375-.234c-.206-.069-.522-.316-.522-.495.01-.292.133-.569.344-.77zm9.061-10.354a1.016 1.016 0 00-1.114.577c-.261.839-.096 1.513.426 1.678a1.182 1.182 0 10.688-2.255zm1.99 2.892c.142-.042.285-.085.416-.142a1.378 1.378 0 011.252.303 1.124 1.124 0 01.44 1.072 1.376 1.376 0 01-.936 1.059 1.84 1.84 0 01-1.54-.344c-.219-.179-.272-.366-.321-.539-.019-.065-.037-.129-.063-.19a.839.839 0 010-.756c.106-.27.422-.364.753-.463zm-4.809-1.256a.441.441 0 00.413.371.626.626 0 00.495-.467c0-.206-.303-.358-.509-.358-.206 0-.44.193-.399.454zm2.136 5.613a1.525 1.525 0 01.174-1.075 1.99 1.99 0 012.407-.592 1.667 1.667 0 01.247 2.324 1.373 1.373 0 01-2.241.261 1.525 1.525 0 01-.587-.918zm-7.828-6.534a.65.65 0 00-.547.016.655.655 0 00-.347.424.605.605 0 00.33.839.643.643 0 00.777-.031.645.645 0 00.172-.217.754.754 0 00-.385-1.031zm6.448-3.121c.097-.248.344-.248.523-.248.096 0 .509.206.358.481-.126.229-.385.211-.564.198a1.22 1.22 0 00-.096-.005.325.325 0 01-.208-.163.316.316 0 01-.013-.263zm-1.003-2.585c-.248.509 0 1.265.426 1.375.426.11 1.375-1.004 1.169-1.485-.206-.481-1.348-.399-1.595.11zm-23.224-4.125a.633.633 0 00.577.343c.207 0 .276-.385.22-.563-.054-.179-.33-.385-.536-.289a.442.442 0 00-.261.509zm-2.14-4.767a.815.815 0 01.614-.046c.572.149.582.574.593 1.037.003.094.005.189.012.283-.839.385-1.238.426-1.513 0a1.046 1.046 0 01-.11-.811.815.815 0 01.405-.463zm1.205 11.326c0 .398.124.715.495.797a4.88 4.88 0 002.874-.082c.137-.073.262-.165.371-.275a1.091 1.091 0 00.297-1.148 1.081 1.081 0 00-.93-.736h-.11c.092-.127.153-.273.18-.426a.798.798 0 00-.784-.908.752.752 0 00-.798.366.751.751 0 00-.096.294c-.004.202.034.404.11.591h-.317a1.707 1.707 0 00-1.292 1.527zm4.473-11.346a1.47 1.47 0 011-.342c.742.028 1.512 1.155 1.36 2.062a1.248 1.248 0 01-.992 1.036c-.167.033-.34.031-.506-.004a1.575 1.575 0 01-1.079-.62 1.588 1.588 0 01-.296-1.209c.05-.361.234-.69.513-.923zm2.608 8.829c.138.358 1.375.537 1.54 0a.837.837 0 00-.357-1.058c-.481-.138-1.32.701-1.183 1.058zm2.187 8.451c.176-.041.359-.044.536-.008.563.041 1.155.632 1.1 1.168a1.758 1.758 0 01-1.691 1.375c-.51 0-.908-.687-.908-1.375a1.253 1.253 0 01.963-1.16zm22.398-2.937a.88.88 0 00-1.072.413.736.736 0 00-.054.602.744.744 0 00.411.443.88.88 0 001.073-.413.724.724 0 00-.1-.87.73.73 0 00-.258-.175zM25.878 97.611c-.083-.151-.083-.756.165-.839a.77.77 0 01.7.358.689.689 0 01-.22.632.673.673 0 01-.645-.15zm-2.063 16.156c-.413 0-.921.482-1.045 1.265.033.034.07.081.112.133.113.143.257.326.438.376a.67.67 0 00.289 0c.165.096.398 0 .577-.206a.837.837 0 00.385-.495 1.06 1.06 0 00-.756-1.073zm6.29 6.069c.127-.249.333-.449.585-.569.32-.143.65-.258.99-.343a1.634 1.634 0 01.468 2.268c-.184.267-.466.45-.784.509a1.371 1.371 0 01-1.375-1.059 1.262 1.262 0 01.116-.806z",fill:"#54B399"}),Object(f.jsx)("path",{d:"M135.905 24.86H26.139v40.796h109.766V24.86z",fill:"#58C5A7"}),Object(f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M33.218 26.624c.358-.28.788-.453 1.24-.499a1.664 1.664 0 011.292 1.898 1.842 1.842 0 01-1.801 1.375 1.65 1.65 0 01-1.513-1.692c.154-.427.425-.802.782-1.082zm-6.186 3.104c.138 0 .62-.07.647-.276.027-.206-.358-.48-.509-.495a.482.482 0 00-.495.317c-.041.22.206.412.357.453zm-.907 5.197v1.953c.097.107.22.188.358.233a1.153 1.153 0 001.375-1.086c.11-.536-.372-1.017-1.142-1.141-.198-.03-.4-.016-.591.041zM60.5 44.138a.798.798 0 00-.921.37c-.385.62-.33.922.275 1.54-.04.55-.04 1.102 0 1.65a.55.55 0 00.99.33c.076-.102.16-.202.245-.303.314-.373.64-.759.607-1.333l-.591-.605c.041-.797-.192-1.526-.605-1.65zm-33.096 4.905c.022.1.022.205 0 .306a1.87 1.87 0 01-.798 1.114h.069c.357.04.371.426.357.605-.013.178-.206.715-.59.618a.44.44 0 01-.317-.357v-.454a.715.715 0 01.165-.275h-.151v-2.131c.205-.028.413-.028.619 0a.727.727 0 01.646.574zm.096 1.928c0 .124 0 .289.165.33.106.027.138-.032.173-.095.02-.036.04-.073.075-.097.096-.069-.11-.22-.193-.262a.344.344 0 00-.22.124zm-1.375 3.575v-.632a1.54 1.54 0 011.375-.922 1.374 1.374 0 011.059 1.568 1.06 1.06 0 01-1.265.839 1.72 1.72 0 01-1.169-.853zm2.177 3.479c-.265.162-.576.23-.884.193a1.113 1.113 0 01-.77-1.32c.096-.647.618-1.17 1.044-1.17a1.513 1.513 0 011.183 1.596 1.375 1.375 0 01-.573.7zm11.312-.811a1.373 1.373 0 00-.921-.715c-.482-.083-1.155.591-1.265 1.251-.042.317.042.638.233.894a1.898 1.898 0 001.375 1.746 1.967 1.967 0 001.925-1.471c.206-.756-.385-1.458-1.347-1.705zm3.791.707c.224-.124.477-.183.733-.171a1.47 1.47 0 011.113 1.595 1.374 1.374 0 01-1.663 1.375 1.155 1.155 0 01-1.073-1.375c.021-.112.048-.222.082-.33a2.746 2.746 0 00-.082-.413c.11-.07.23-.121.358-.15.124-.224.309-.407.532-.531zm-3.336 7.365a1.002 1.002 0 01-.194-.372c-.124-.289.275-.688.907-.66.023.03.055.055.09.083.096.075.222.173.282.453.082.385-.413.88-.757.756a1.004 1.004 0 01-.328-.26zm4.783-.895c-.158-.217-.36-.4-.59-.536-.77-.357-1.692.138-2.146 1.182-.086.19-.129.397-.123.605h4.124a.812.812 0 00.097-.33 1.004 1.004 0 00-.839-.934 2.615 2.615 0 00-.523.013zm-5.486-.24a.908.908 0 01-.618.24.758.758 0 01-.784-.797.838.838 0 01.962-.757c.44.042.729.248.729.715a.908.908 0 01-.289.598zm12.197-.667c-.688 0-1.087.398-1.128 1.251a1.21 1.21 0 00.481.907h1.155c.468-.247.922-.66.922-.948.027-.564-.674-1.155-1.43-1.21zm13.02-6.449c.234.11.262.275.138.495a.316.316 0 01-.508.124.316.316 0 01-.124-.482c.124-.22.261-.247.495-.137zm-38.458 8.608h.811a1.376 1.376 0 00-.123-.674h.096c.976.22 1.897-.701 1.608-1.375a1.635 1.635 0 00-.493-.65c-.122-.105-.198-.17-.153-.285.027-.068.076-.146.13-.232.143-.228.32-.51.2-.8a.77.77 0 00.234-.123c-.053.113-.09.234-.11.357a1.841 1.841 0 00.825 1.637c.1.152.226.287.371.398.221-.06.434-.147.633-.261.452-.079.856-.33 1.127-.701.232.376.572.673.977.852h.137l-.075.085c-.103.12-.17.196-.282.163-.033-.01-.087-.046-.157-.091-.228-.149-.618-.404-.944-.225-.426.233-.288 1.69-.15 1.897h3.3c.134-.194.228-.414.274-.646.193-.935-.618-1.788-1.278-1.636.223-.286.34-.641.33-1.004a.852.852 0 00-.77-.839.91.91 0 00-.193 0c.393-.232.7-.584.88-1.004.22-.453-.633-1.21-1.375-1.155a.853.853 0 00-.839.784c-.046.307-.008.62.11.907a1.65 1.65 0 00-1.045-.467 1.677 1.677 0 00-1.375.426v-.151a.77.77 0 00-.674-.88.84.84 0 00-.646.165 1.54 1.54 0 01.085-.09c.219-.22.68-.685.328-1.12-.57-.725-1.12-.518-1.514-.37h-.001c-.09.035-.173.066-.245.081l-.014 7.026zm5.624-4.126h.096c-.03.013-.06.026-.088.04l-.008-.04zm-.303-.192a.577.577 0 00.28.247 1.9 1.9 0 00-.17.097 1.005 1.005 0 00-.11-.344zm21.643-.536c.096-.757.481-1.073 1.114-1.073a1.842 1.842 0 011.044 1.526.783.783 0 01-.618.605 1.224 1.224 0 01-1.306.386 1.375 1.375 0 01-.317-1.444.18.18 0 01.083 0zm-18.439.247a.812.812 0 00.756.839.742.742 0 00.922-.633.853.853 0 00-.716-.99.935.935 0 00-.962.784zm28.71-6.201a1.197 1.197 0 00.536 1.251.88.88 0 001.21-.508.962.962 0 00-.426-1.17 1.374 1.374 0 00-1.32.427zm-32.542-1.18a.55.55 0 01.257-.03c.454 0 .77.44.729.715-.041.275-.413.894-.798.921-.385.028-.536-.701-.536-.976a.55.55 0 01.348-.63zm6.417 9.691a1.526 1.526 0 00-1.182-1.375c-.468-.068-1.17.619-1.21 1.169a1.086 1.086 0 00.756 1.017h.334c-.675.013-1.338.367-1.338.853-.008.21.04.419.138.605h2.392a.723.723 0 000-.165c0-.837-.315-1.222-1.192-1.292h.037-.041c.742 0 1.265-.33 1.306-.812zm-2.777-10.395c-.358.096-.674-.302-.674-.907a.495.495 0 00.098-.099.705.705 0 01.452-.273c.385-.082.88.413.756.757a1.044 1.044 0 01-.633.522zm4.688 8.58a.535.535 0 00-.646-.605c-.275 0-1.004.138-.976.523.027.385.632.756.907.797.275.041.688-.261.715-.715zm2.585 4.057h-.481a.605.605 0 01.481 0zm-4.895-5.83a.468.468 0 00-.233-.537c-.023 0-.057-.002-.099-.006-.187-.015-.521-.041-.589.116-.082.193.22.564.371.605.151.041.468.014.55-.178zM69.6 49.218a.77.77 0 01-.01-.393c.811-.426 1.1-.44 1.292-.041a.783.783 0 01-.344.963.77.77 0 01-.938-.529zm-3.795 1.45a.895.895 0 01.334.206c.508.316.536.646.412.852-.124.207.316.262.481.124.165-.137.591-.316.99.261.399.578-.234 1.06-.66 1.293-.426.234-.729.33-1.072 0-.16-.153-.318-.182-.5-.215a1.493 1.493 0 01-.765-.335 1.375 1.375 0 01-.261-1.829.893.893 0 011.041-.357zM48.73 51.824c0-.165-.22-.426-.357-.44-.138-.014-.537 0-.55.412-.013.378.31.398.49.41.017 0 .032.002.046.003.165.013.385-.262.371-.385zm4.318 2.447c-.798-.275-1.032-.756-.798-1.375.23-.27.545-.454.894-.522a.756.756 0 01-.619-.605 1.031 1.031 0 01.88-.99.331.331 0 01.358.371l.004.02c.082.398.198.96-.005 1.121a.77.77 0 01.317 0c.343.165.632.358.343 1.169-.288.811-.577 1.086-1.374.811zm15.014-7.755c0-.044.009-.093.018-.144.026-.155.055-.326-.141-.42a.303.303 0 00-.44.166c-.069.164-.179.577 0 .687.178.11.55-.193.564-.289zm3.583 7.057a.77.77 0 01-.31-.03.853.853 0 01-.481-1.128.688.688 0 01.88-.523.894.894 0 01.577 1.1.772.772 0 01-.666.581zm-22.806 4.81c-.263.085-.545.09-.81.013a1.169 1.169 0 01-.413-1.498.66.66 0 01.633-.468c.27-.143.576-.201.88-.165.426.082.632.303.632.77a1.76 1.76 0 01-.261.743v.137c-.169.219-.4.382-.661.467zM43.67 46.53c.22 0 .413-.206.454-.358.041-.15-.083-.618-.289-.646-.206-.027-.481.358-.481.509a.481.481 0 00.316.495zm.591 2.805c-.096.413-1.059.66-1.375.413-.261-.248-.261-1.403.578-1.417a.939.939 0 01.288 0c.07-.165.262-.412.427-.412a.454.454 0 01.288.399 1.1 1.1 0 01-.206.426c.049.194.049.397 0 .591zm22.44 7.04c-.027-1.224.427-2.516 2.214-2.227.342.055.672-.046.99-.143.386-.118.753-.231 1.1-.05a2.117 2.117 0 01.949 1.774 2.599 2.599 0 01-1.746 2.599 1.115 1.115 0 01-.867 0c-.19.19-.402.356-.632.494a.99.99 0 01-.564-.756 1.69 1.69 0 01-1.031-.577 1.897 1.897 0 01-.413-1.114zM35.64 52.992c0 .495.619.674.907.743.29.069.564-.289.592-.646.027-.358-.275-.825-.633-.73-.048.014-.1.026-.155.039-.344.081-.758.178-.711.594zm-1.733-10.546c.07-.371 1.403-1.058 1.61-.783.233.275.467 1.155-.235 1.347-.7.193-1.443-.192-1.374-.564zm6.958 19.127a1.253 1.253 0 00.77 1.746 1.182 1.182 0 001.526-.537 1.773 1.773 0 00-.935-1.993 1.266 1.266 0 00-1.361.783zm.99-3.658c.028 0 .124.22.124.22-.041.069-.193.289-.261.193-.024-.033-.055-.056-.085-.079-.059-.043-.112-.083-.094-.183.027-.151.288-.151.316-.151zm4.895 4.538a1.375 1.375 0 00-1.375.673c-.124.317.289 1.004.701 1.155a.605.605 0 00.702-.22 1.499 1.499 0 00.948.756.825.825 0 00.922-.783l.247.123a1.14 1.14 0 001.567-.687 1.375 1.375 0 00-.852-1.953 1.485 1.485 0 00-1.856.66 1.196 1.196 0 00.11 1.045 1.458 1.458 0 00-.866.33c.068-.605-.014-1.003-.248-1.1zm-9.996-16.748c.069.124.22.468.069.591a.535.535 0 01-.592.055c-.178-.069-.343-.467-.178-.646a.633.633 0 01.7 0zm-8.195 2.984h-.275a.811.811 0 00-.44.866c-.006.256.071.507.22.715.239-.06.483-.102.729-.124a.689.689 0 00-.262.523 1.732 1.732 0 001.375 1.622 1.278 1.278 0 001.045-1.182 1.088 1.088 0 00-1.114-1.279 1.734 1.734 0 00-.538-.002c.02-.005.06-.026.071-.108.044-.228-.208-.45-.454-.666-.14-.124-.277-.245-.357-.365zm1.99-6.43c.043.174.044.356.003.531a.893.893 0 01-1.416.399 1.032 1.032 0 01.262-1.54.99.99 0 01.907.137c.117.136.2.298.244.472zm.884 16.618c.49.176.882.032 1.14-.063.145-.053.248-.091.303-.047.022.018.052.048.089.084.22.219.688.682 1.135.329a1.073 1.073 0 00.426-1.375 1.059 1.059 0 00.949-.742 1.76 1.76 0 000-.66c.161-.105.31-.23.44-.372a1.375 1.375 0 00-.165-2.117 1.54 1.54 0 00-2.255.371c-.394.54-.25.957-.132 1.294.104.298.186.535-.143.741-.314.197-.507.143-.709.086-.247-.07-.508-.143-1.024.244-.934.701-.838 1.939-.054 2.227zm.893-9.377c.206-.096.536.124.536.289.055.178-.013.536-.22.563a.62.62 0 01-.577-.357.44.44 0 01.261-.495zm2.187 1.581a.604.604 0 00.66.715 1.058 1.058 0 00.756-.412c.11-.206-.179-.99-.564-1.032a.798.798 0 00-.852.73zm11.803 8.348a.33.33 0 01.145.026c.087.019.184.035.283.052.343.058.715.121.79.292a.772.772 0 01-.798 1.004 1.045 1.045 0 01-.728-1.1.33.33 0 01.308-.274zm37.311-5.227c-.77-.11-1.636.413-1.677 1.004-.041.591.564 1.114 1.182 1.169a1.21 1.21 0 001.21-1.114c.07-.619-.178-.99-.715-1.059zm1.683-9.589c.296-.075.609-.048.889.075a1.21 1.21 0 01.412 1.498 1.004 1.004 0 01-1.182.44c-.715-.343-1.114-1.045-.867-1.526.189-.24.452-.412.748-.487zm-7.54 6.166a1.581 1.581 0 00-1.884.893 1.086 1.086 0 00.674 1.376 1.58 1.58 0 001.815-.386 1.54 1.54 0 00-.605-1.883zm3.877-.935c.317-.743.798-1.018 1.375-.743a1.375 1.375 0 01.743 1.623 1.513 1.513 0 01-1.76.646 1.375 1.375 0 01-.358-1.526zM27.321 45.03h-.261c.174-.175.297-.393.358-.632a2.75 2.75 0 00-.18-1.884 1.224 1.224 0 010-.701 1.114 1.114 0 00-1.113-1.554.55.55 0 000-.66v5.775H26.359a1.559 1.559 0 00-.137.166 2.463 2.463 0 01-.097.123v1.375c.263.21.585.335.921.357.591 0 1.279-.33 1.375-.784a1.623 1.623 0 00-1.1-1.58zm.64-4.34a.894.894 0 01-.131-.651.88.88 0 01.935-.784 1.03 1.03 0 01.756 1.114.907.907 0 01-1.017.701.894.894 0 01-.543-.38zm60.754 13.608a1.512 1.512 0 00-.907-1.76 1.664 1.664 0 00-1.898 1.237 1.17 1.17 0 00.811 1.526 1.497 1.497 0 001.994-1.003zm-9.734 3.548c-.449-.253-.875-.494-.785-1.046a.839.839 0 01.564-.619A1.375 1.375 0 0178.65 55a1.21 1.21 0 011.65-.605.84.84 0 01.605 1.045 2.022 2.022 0 01-1.155 1.073c.04.043.068.094.082.15.206.58-.193.852-.591 1.124l-.165.114-.042-.024-.053-.03zm21.394-.468a.547.547 0 00-.22-.55c-.138-.083-.646-.096-.701.11a.55.55 0 00.316.522c.179.055.605.124.605-.082zm-2.956-3.41c.398.069.412.508.288.825-.082.316-.398.564-1.003.316a2.85 2.85 0 00-.06-.228c-.062-.22-.137-.486-.078-.624.083-.193.454-.358.853-.29zm6.325 3.781a.471.471 0 00-.234-.591.512.512 0 00-.608.094.507.507 0 00.076.771c.061.042.129.07.202.084a.521.521 0 00.564-.358zm2.224-2.268a.675.675 0 01.292-.014c.069.013.247.274.151.426l-.041.07c-.103.177-.273.47-.536.315a.48.48 0 01-.124-.66.673.673 0 01.258-.137zM74.882 55a.769.769 0 00.385-1.059c-.123-.247-.48-.564-.728-.55-.619 0-.839.523-.908 1.128l.007.006c.328.301.712.653 1.244.475zm-1.388-11.179c-.385.151-1.169-.247-.949-.921a.742.742 0 011.293-.041.812.812 0 01-.344.962zm3.671 1.169a1.128 1.128 0 00-1.375.234c-.271.265-.51.56-.715.88h-.564a1.76 1.76 0 00-1.553 1.127 2.021 2.021 0 00.59 1.87.977.977 0 00.716.248 1.567 1.567 0 001.553-1.609v-.564c.127 0 .25.008.37.016.234.015.458.03.675-.016.647 0 .894-.261.963-.88a1.375 1.375 0 00-.66-1.306zm16.761 10.45c.44-.825.853-.921 1.65-.44a.853.853 0 01.427.797c-.042.413-.18.812-.647.812a3.015 3.015 0 00-.316.123c-.22 1.692-1.045 2.132-2.324 1.156-.467.453-.935.508-1.375 0 .179-1.087.372-1.155 1.554-.62l.142-.243c.276-.474.512-.878.89-1.585zM91.7 48.909a1.084 1.084 0 00-.811.233c-.427.523-.152.99.357 1.472.084-.03.17-.055.253-.08.427-.13.824-.25.847-.8a.756.756 0 00-.646-.825zM42.35 52.016c-.179-.014-.715-.22-.619-.591.11-.371.619-.371.798-.33a.55.55 0 01.426.564c-.041.357-.426.371-.605.357zm11.866-3.891a.824.824 0 00-.632.454.55.55 0 00.495.728c.233 0 .866-.082.907-.605.042-.522-.563-.577-.77-.577zm-3.011 9.57c-.082-.234-.014-.715.151-.811a1.8 1.8 0 00.908-.784c.041-.179.247-.179.357-.179.413.124.468.564.413.715-.02.054-.05.109-.08.165-.055.103-.113.21-.113.316a1.223 1.223 0 01.66.99c-.014.344-.715.77-1.127.77a.922.922 0 01-.688-.715 1.06 1.06 0 01-.481-.467zm3.699-3.52a.646.646 0 00.481.853h.096c.207.238.48.41.784.495a1.21 1.21 0 001.306-.62 2.021 2.021 0 00-.701-1.883 1.375 1.375 0 00-1.279.619.619.619 0 00-.687.536zM29.002 31.838a.963.963 0 01.67-.213.949.949 0 01.84 1.017.894.894 0 01-.936.784 1.059 1.059 0 01-.921-.976.963.963 0 01.347-.612zm21.53 21.333a1.224 1.224 0 00-1.376.647.866.866 0 00.592 1.072.977.977 0 001.168-.426c.22-.399-.041-1.197-.385-1.293zm-1.238 6.683c.206-.083.687-.138.825 0 .272.314.638.531 1.045.618.11.014.261.207.261.303-.027.413-.192.578-.578.578a7.184 7.184 0 01-1.375-.234c-.206-.069-.522-.316-.522-.495.01-.292.133-.569.344-.77zM58.355 49.5a1.018 1.018 0 00-1.114.578c-.261.838-.096 1.512.426 1.677a1.512 1.512 0 001.554-.88 1.5 1.5 0 00-.866-1.375zm1.99 2.892c.142-.042.285-.085.416-.142a1.375 1.375 0 011.252.303 1.127 1.127 0 01.44 1.072 1.375 1.375 0 01-.936 1.059 1.842 1.842 0 01-1.54-.344c-.219-.18-.272-.366-.321-.539a1.485 1.485 0 00-.063-.19.84.84 0 010-.756c.106-.27.422-.364.753-.463zm-4.809-1.256a.44.44 0 00.413.371.66.66 0 00.495-.467c0-.206-.303-.358-.509-.358-.206 0-.44.193-.399.454zm2.136 5.613a1.527 1.527 0 01.174-1.075 1.994 1.994 0 012.407-.591 1.663 1.663 0 01.247 2.323 1.376 1.376 0 01-2.241.261 1.527 1.527 0 01-.587-.918zm-7.828-6.534a.66.66 0 00-.894.44.605.605 0 00.33.839.646.646 0 00.949-.248.757.757 0 00-.385-1.031zm6.448-3.121c.097-.248.344-.248.523-.248.096 0 .509.207.358.482-.126.228-.385.21-.564.197-.036-.003-.069-.005-.096-.005a.316.316 0 01-.22-.426zm-1.003-2.585c-.248.508 0 1.265.426 1.375.426.11 1.375-1.004 1.169-1.485-.206-.482-1.348-.399-1.595.11zM32.065 40.37a.619.619 0 00.578.358c.206 0 .274-.386.22-.578-.056-.192-.33-.371-.537-.275a.44.44 0 00-.261.495zm-2.14-4.753a.811.811 0 01.614-.046c.572.149.582.574.593 1.038.003.093.005.188.012.282-.839.385-1.238.427-1.513 0a1.045 1.045 0 01-.11-.811.81.81 0 01.405-.463zm1.205 11.326c0 .398.124.715.495.797a4.88 4.88 0 002.874-.083 1.51 1.51 0 00.371-.274 1.087 1.087 0 00-.633-1.884h-.11c.092-.127.153-.273.18-.427a.797.797 0 00-.785-.907.755.755 0 00-.893.66 1.5 1.5 0 00.11.591h-.316a1.704 1.704 0 00-1.293 1.527zm4.473-11.346a1.47 1.47 0 011-.342c.742.027 1.512 1.155 1.36 2.063a1.253 1.253 0 01-1.498 1.03 1.58 1.58 0 01-1.375-1.828c.05-.36.234-.69.513-.923zm2.608 8.83c.138.357 1.375.535 1.54 0a.866.866 0 00-.357-1.073c-.481-.124-1.32.715-1.183 1.072zm2.187 8.45a1.25 1.25 0 01.536-.008c.564.041 1.155.632 1.1 1.169a1.76 1.76 0 01-1.691 1.375c-.51 0-.908-.688-.908-1.375a1.25 1.25 0 01.963-1.161zm22.398-2.937a.894.894 0 00-1.072.399.754.754 0 00.357 1.059.88.88 0 001.073-.413.729.729 0 00-.358-1.045zM39.627 32.986c-.082-.151-.082-.756.165-.839a.77.77 0 01.702.358.689.689 0 01-.22.632.673.673 0 01-.647-.15zm-2.062 16.157c-.412 0-.921.48-1.045 1.264.033.034.07.08.112.133.113.143.257.326.438.376.096.014.193.014.289 0 .165.097.398 0 .577-.206a.838.838 0 00.385-.495 1.058 1.058 0 00-.756-1.073zm6.29 6.068c.127-.25.333-.449.585-.569.32-.143.65-.258.99-.343a1.639 1.639 0 01.468 2.269c-.184.266-.466.449-.784.508a1.375 1.375 0 01-1.375-1.059 1.265 1.265 0 01.116-.806z",fill:"#54B399"}),Object(f.jsx)("path",{d:"M162.085 56.072H50.999V96.87h111.086V56.072z",fill:"#8ADFC8"}),Object(f.jsx)("path",{className:"lnsDropIllustration__adjustFill",fillRule:"evenodd",clipRule:"evenodd",d:"M43.574 36.575a8.91 8.91 0 110 17.82 8.91 8.91 0 010-17.82zM23.98 103.166h14.946v14.947H23.98v-14.947zm45.306-34.072L59.14 85.388h20.295L69.286 69.094zm54.288 4.224a2.901 2.901 0 012.197-.292 2.902 2.902 0 011.898 3.589l-3.96 13.516-4.125 12.691c-2.186 7.467-10.326 11.647-18.576 9.227-5.17-1.513-11.564-7.109-12.692-11.592l-3.575-16.156a3.066 3.066 0 011.953-3.712 2.75 2.75 0 013.52 1.939l2.062 6.874.207-.715 1.663-5.65 5.541-19.168a2.864 2.864 0 015.259-.583 2.86 2.86 0 01.242 2.178l-5.212 17.792 2.475.715 6.174-21.134a2.868 2.868 0 012.434-2.048 2.868 2.868 0 012.105.61 2.852 2.852 0 011.057 1.92c.041.374.009.752-.096 1.114l-6.242 21.133 2.475.715L115.5 68.53a2.868 2.868 0 012.434-2.048 2.868 2.868 0 012.105.61 2.852 2.852 0 011.057 1.92c.041.374.009.752-.096 1.113l-5.225 17.751 2.475.715 3.974-13.516c.2-.742.685-1.374 1.35-1.758z"}),Object(f.jsx)("path",{className:"lnsDropIllustration__adjustFill lnsDropIllustration__hand",id:"lnsDropIllustrationArrow",d:"M84.688 156.577v-31.021c0-1.17.853-2.118 1.906-2.118s1.906.948 1.906 2.118v31.021l15.617-15.617a1.907 1.907 0 012.696 2.696l-16.175 16.175a5.695 5.695 0 01-3.525 1.652 1.725 1.725 0 01-1.039 0 5.695 5.695 0 01-3.524-1.652l-16.175-16.175a1.907 1.907 0 012.696-2.696l15.617 15.617z"}));var h=a(87),v=a(144),y=a(80),j=a(70),_=a(81),D=a(94),O=a(129),w=a(105),L=a(324),S=a.n(L),I=a(325),k=a.n(I),P=a(162),C=a(75),T=a(79);const z={value:{id:"lnsWorkspace",humanData:{label:g.i18n.translate("xpack.lens.editorFrame.workspaceLabel",{defaultMessage:"Workspace"})}},order:[1,0,0,0]},E={type:"application",child:{type:"lens"}},M="expression_build_error",F=i.a.memo((function(e){const{getSuggestionForField:t,...a}=e,[{dragging:n}]=Object(h.e)(),i=Object(o.useMemo)((()=>n&&t(n)),[n,t]);return Object(f.jsx)(A,r()({},a,{suggestionForDraggedField:i}))})),A=i.a.memo((function({framePublicAPI:e,visualizationMap:t,datasourceMap:a,core:n,plugins:r,ExpressionRenderer:s,suggestionForDraggedField:c,lensInspector:L,getUserMessages:I,addUserMessages:P}){const E=Object(C.V)(),F=Object(C.W)(C.C),A=Object(C.W)(C.I),W=Object(C.W)(C.r),B=Object(C.W)(C.y),R=Object(C.W)(C.t),V=Object(C.W)(C.u),G=Object(C.W)(C.H),H=Object(C.W)((e=>Object(C.x)(e,a))),$=Object(C.W)(C.F),[U,q]=Object(o.useState)({expandError:!1,expressionToRender:void 0,errors:[]}),Y=Object(o.useRef)(!1),K=Object(o.useRef)(),X=Object(o.useRef)(),{dataViews:J}=e;X.current={datasourceMap:a,datasourceStates:B,visualization:A,visualizationMap:t,datasourceLayers:H,dataViews:J};const Z=Object(o.useRef)(NaN),Q=Object(o.useRef)(NaN),ee=Object(o.useCallback)((()=>{if(X.current){if(!Y.current){Y.current=!0;const e=performance.now();Object(v.a)(n.analytics,{eventName:"lensVisualizationRenderTime",duration:e-Z.current,key1:"time_to_data",value1:Q.current-Z.current,key2:"time_to_render",value2:e-Q.current})}const r=Object.values(X.current.datasourceMap).reduce(((e,t)=>{var a,n,r;return X.current.datasourceStates[t.id]?[...e,...null!==(a=null===(n=t.getRenderEventCounters)||void 0===n?void 0:n.call(t,null===(r=X.current.datasourceStates[t.id])||void 0===r?void 0:r.state))&&void 0!==a?a:[]]:[]}),[]);let o=[];var e,t,a;X.current.visualization.activeId&&(o=null!==(e=null===(t=(a=X.current.visualizationMap[X.current.visualization.activeId]).getRenderEventCounters)||void 0===t?void 0:t.call(a,X.current.visualization.state))&&void 0!==e?e:[]);const i=["vis_editor",...r,...o];Object.values(X.current.dataViews.indexPatterns||{}).filter((e=>!e.isPersisted)).forEach((()=>{i.push("ad_hoc_data_view")})),Object(y.d)(i)}}),[n.analytics]),te=Object(o.useRef)(),ae=Object(o.useRef)(),ne=Object(o.useCallback)(((e,t)=>{if(X.current){Q.current=performance.now();const[e]=Object.keys(X.current.datasourceLayers),n=Object.values(X.current.datasourceMap)[0],o=Object.values(X.current.datasourceStates)[0].state;let i=[];var a;null!=t&&t.requests&&(i=Object(j.getSearchWarningMessages)(t.requests,n,o,{searchService:r.data.search})),i.length?te.current=P(i.filter(_.f)):te.current&&(te.current(),te.current=void 0),t&&t.tables&&E(Object(C.m)({activeData:Object.entries(null===(a=t.tables)||void 0===a?void 0:a.tables).reduce(((t,[a,n],r,o)=>({...t,[1===o.length?e:a]:n})),{})}))}}),[P,E,r.data.search]),re=R||!K.current||G,oe=A.activeId?t[A.activeId]:null,ie=Object(o.useCallback)((()=>I(["visualization","visualizationInEditor"],{severity:"error"})),[I]),se=Object(o.useMemo)((()=>{if(ie().every((e=>e.uniqueId===M)))try{const t=Object(O.a)({visualization:oe,visualizationState:A.state,datasourceMap:a,datasourceStates:B,datasourceLayers:H,indexPatterns:J.indexPatterns,dateRange:e.dateRange,nowInstant:r.data.nowProvider.get(),searchSessionId:$});return t?Object(p.b)(t):null}catch(e){ae.current=P([{uniqueId:M,severity:"error",fixableInEditor:!0,displayLocations:[{id:"visualization"}],shortMessage:g.i18n.translate("xpack.lens.editorFrame.buildExpressionError",{defaultMessage:"An unexpected error occurred while preparing the chart"}),longMessage:Object(f.jsx)(i.a.Fragment,null,Object(f.jsx)("p",{"data-test-subj":"expression-failure"},Object(f.jsx)(u.FormattedMessage,{id:"xpack.lens.editorFrame.expressionFailure",defaultMessage:"An error occurred in the expression"})),Object(f.jsx)("p",null,e.toString()))}])}}),[ie,oe,A.state,a,B,H,J.indexPatterns,e.dateRange,r.data.nowProvider,$,P]),le=Boolean(se);Object(o.useEffect)((()=>{E(Object(C.M)(le))}),[le,E]),Object(o.useEffect)((()=>{R||E(Object(T.j)(se===U.expressionToRender))})),Object(o.useEffect)((()=>{re&&q((e=>({...e,expressionToRender:se,errors:ie()})))}),[se,re,ie]);const ce=Boolean(U.expressionToRender);Object(o.useEffect)((()=>{ce&&ae.current&&(ae.current(),ae.current=void 0)}),[ce]),Object(o.useEffect)((()=>{!ce&&null!==U.expressionToRender||K.current||(K.current=!0)}),[ce,U.expressionToRender]);const de=Object(o.useCallback)((e=>{r.uiActions&&(Object(_.a)(e)&&r.uiActions.getTrigger(m.VIS_EVENT_TO_TRIGGER[e.name]).exec({data:{...e.data,timeFieldName:Object(j.inferTimeField)(r.data.datatableUtilities,e)}}),(Object(_.c)(e)||Object(_.d)(e))&&r.uiActions.getTrigger(m.VIS_EVENT_TO_TRIGGER[e.name]).exec({data:{...e.data,timeFieldName:Object(j.inferTimeField)(r.data.datatableUtilities,e)}}),Object(_.b)(e)&&null!=oe&&oe.onEditAction&&E(Object(C.e)({visualizationId:oe.id,event:e})))}),[r.data.datatableUtilities,r.uiActions,oe,E]),ue=Object(o.useCallback)((async e=>!!r.uiActions&&!(!Object(_.c)(e)&&!Object(_.d)(e))&&(await r.uiActions.getTriggerCompatibleActions(m.VIS_EVENT_TO_TRIGGER[e.name],e)).length>0),[r.uiActions]),pe=Object(o.useCallback)((()=>{c&&(Object(y.d)("drop_onto_workspace"),Object(D.d)(E,c,{clearStagedPreview:!0}))}),[c,E]),ge=l()(n.theme.theme$,{darkMode:!1}).darkMode,be=()=>Object(f.jsx)(b.EuiText,{className:d()("lnsWorkspacePanel__emptyContent"),textAlign:"center","data-test-subj":"workspace-drag-drop-prompt",size:"s"},Object(f.jsx)("div",null,Object(f.jsx)(x,{"aria-hidden":!0,className:d()("lnsWorkspacePanel__promptIllustration","lnsWorkspacePanel__dropIllustration")}),Object(f.jsx)("h2",null,Object(f.jsx)("strong",null,ce?g.i18n.translate("xpack.lens.editorFrame.emptyWorkspaceSimple",{defaultMessage:"Drop field here"}):g.i18n.translate("xpack.lens.editorFrame.emptyWorkspace",{defaultMessage:"Drop some fields here to start"}))),!ce&&Object(f.jsx)(i.a.Fragment,null,Object(f.jsx)(b.EuiTextColor,{color:"subdued",component:"div"},Object(f.jsx)("p",null,g.i18n.translate("xpack.lens.editorFrame.emptyWorkspaceHeading",{defaultMessage:"Lens is the recommended editor for creating visualizations"}))),Object(f.jsx)("p",{className:"lnsWorkspacePanel__actions"},Object(f.jsx)(b.EuiLink,{href:"https://www.elastic.co/products/kibana/feedback",target:"_blank",external:!0},g.i18n.translate("xpack.lens.editorFrame.goToForums",{defaultMessage:"Make requests and give feedback"})))))),me=()=>{const e=g.i18n.translate("xpack.lens.editorFrame.applyChanges",{defaultMessage:"Apply changes"});return Object(f.jsx)(b.EuiText,{className:d()("lnsWorkspacePanel__emptyContent"),textAlign:"center","data-test-subj":"workspace-apply-changes-prompt",size:"s"},Object(f.jsx)("div",null,Object(f.jsx)("img",{"aria-hidden":!0,src:ge?S.a:k.a,alt:e,className:"lnsWorkspacePanel__promptIllustration"}),Object(f.jsx)("h2",null,Object(f.jsx)("strong",null,g.i18n.translate("xpack.lens.editorFrame.applyChangesWorkspacePrompt",{defaultMessage:"Apply changes to render visualization"}))),Object(f.jsx)("p",{className:"lnsWorkspacePanel__actions"},Object(f.jsx)(b.EuiButtonEmpty,{size:"s",className:j.DONT_CLOSE_DIMENSION_CONTAINER_ON_CLICK_CLASS,iconType:"checkInCircleFilled",onClick:()=>E(Object(C.b)()),"data-test-subj":"lnsApplyChanges__workspace"},e))))},fe=()=>Object(f.jsx)(N,{expression:U.expressionToRender,lensInspector:L,onEvent:de,hasCompatibleActions:ue,setLocalState:q,localState:{...U},errors:U.errors,ExpressionRendererComponent:s,core:n,onRender$:ee,onData$:ne,onComponentRendered:()=>{Z.current=performance.now()}}),[{dragging:xe}]=Object(h.e)();return Object(f.jsx)(w.c,{framePublicAPI:e,visualizationState:A.state,visualizationId:A.activeId,datasourceStates:B,datasourceMap:a,visualizationMap:t,isFullscreen:F,lensInspector:L,getUserMessages:I},(()=>{var e;const t=W&&null!==(e=a[W])&&void 0!==e&&e.getCustomWorkspaceRenderer&&xe?a[W].getCustomWorkspaceRenderer(B[W].state,xe,J.indexPatterns):void 0;if(t)return t();const n=null!==U.expressionToRender?fe:V?be:me;return Object(f.jsx)(h.a,{className:d()("lnsWorkspacePanel__dragDrop",{"lnsWorkspacePanel__dragDrop--fullscreen":F}),dataTestSubj:"lnsWorkspace",draggable:!1,dropTypes:c?["field_add"]:void 0,onDrop:pe,value:z.value,order:z.order},Object(f.jsx)("div",{className:"lnsWorkspacePanelWrapper__pageContentBody"},n()))})())})),N=({expression:e,lensInspector:t,onEvent:a,hasCompatibleActions:n,setLocalState:r,localState:s,errors:l,ExpressionRendererComponent:c,core:d,onRender$:p,onData$:m,onComponentRendered:x})=>{Object(o.useEffect)((()=>{x()}),[]);const h=Object(C.W)(C.A),{isRenderComplete:v,hasDynamicError:y,setIsRenderComplete:j,setDynamicError:_,nodeRef:D}=function(e){const[t,a]=Object(o.useState)(Boolean(null==e?void 0:e.length)),[n,r]=Object(o.useState)(!1),i=Object(o.useRef)(null);return Object(o.useEffect)((()=>{t&&i.current&&i.current.dispatchEvent(new CustomEvent("renderComplete",{bubbles:!0}))}),[t,e]),{isRenderComplete:t,setIsRenderComplete:a,hasDynamicError:n,setDynamicError:r,nodeRef:i}}(l),O=Object(o.useCallback)((()=>{j(!0),p()}),[j,p]),w=Object(C.W)(C.F);if(l.length){const e=!s.expandError&&l.length>1?Object(f.jsx)(b.EuiButtonEmpty,{onClick:()=>{r((e=>({...e,expandError:!e.expandError})))},"data-test-subj":"workspace-more-errors-button"},g.i18n.translate("xpack.lens.editorFrame.configurationFailureMoreErrors",{defaultMessage:" +{errors} {errors, plural, one {error} other {errors}}",values:{errors:l.length-1}})):null,[t,...a]=l;return Object(f.jsx)(b.EuiFlexGroup,{"data-shared-items-container":!0,"data-render-complete":!0,"data-shared-item":"","data-render-error":g.i18n.translate("xpack.lens.editorFrame.configurationFailureErrors",{defaultMessage:"A configuration error occurred"})},Object(f.jsx)(b.EuiFlexItem,null,Object(f.jsx)(b.EuiEmptyPrompt,{actions:e,body:Object(f.jsx)(i.a.Fragment,null,Object(f.jsx)("div",{"data-test-subj":"workspace-error-message"},t.longMessage),s.expandError&&Object(f.jsx)(i.a.Fragment,null,Object(f.jsx)(b.EuiSpacer,null),a.map((e=>Object(f.jsx)("div",{"data-test-subj":"workspace-error-message"},e.longMessage,Object(f.jsx)(b.EuiSpacer,null)))))),iconColor:"danger",iconType:"warning"})))}return Object(f.jsx)("div",{className:"lnsExpressionRenderer","data-shared-items-container":!0,"data-render-complete":v,"data-shared-item":"","data-render-error":y?g.i18n.translate("xpack.lens.editorFrame.dataFailure",{defaultMessage:"An error occurred when loading data."}):void 0,ref:D},Object(f.jsx)(c,{className:"lnsExpressionRenderer__component",padding:"m",expression:e,searchContext:h,searchSessionId:w,onEvent:a,hasCompatibleActions:n,onData$:m,onRender$:O,inspectorAdapters:t.adapters,executionContext:E,renderMode:"edit",renderError:(e,t)=>{const a=Object(P.a)(t||null,d.docLinks),n=a.length?a.map((e=>e.longMessage||e.shortMessage)):e?[e]:[];return y||_(!0),Object(f.jsx)(b.EuiFlexGroup,null,Object(f.jsx)(b.EuiFlexItem,null,Object(f.jsx)(b.EuiEmptyPrompt,{actions:n.length&&!s.expandError?Object(f.jsx)(b.EuiButtonEmpty,{onClick:()=>{r((e=>({...e,expandError:!e.expandError})))}},g.i18n.translate("xpack.lens.editorFrame.expandRenderingErrorButton",{defaultMessage:"Show details of error"})):null,body:Object(f.jsx)(i.a.Fragment,null,Object(f.jsx)("p",{"data-test-subj":"expression-failure"},Object(f.jsx)(u.FormattedMessage,{id:"xpack.lens.editorFrame.dataFailure",defaultMessage:"An error occurred when loading data."})),s.expandError?n.map((e=>"string"==typeof e?Object(f.jsx)("p",{className:"eui-textBreakWord",key:e},e):e)):null),iconColor:"danger",iconType:"warning"})))}}))}},,,,,,,,,,,,,,,,function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(200);case"v8light":return a(202)}},function(e,t,a){var n=a(67),r=a(201);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);n(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,a){(t=a(68)(!1)).push([e.i,".lnsVisToolbar__popover{width:404px}",""]),e.exports=t},function(e,t,a){var n=a(67),r=a(203);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);n(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,a){(t=a(68)(!1)).push([e.i,".lnsVisToolbar__popover{width:404px}",""]),e.exports=t},function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(205);case"v8light":return a(207)}},function(e,t,a){var n=a(67),r=a(206);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);n(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,a){(t=a(68)(!1)).push([e.i,".kbnToolbarButton{border:1px solid #343741;line-height:40px;min-width:0}.kbnToolbarButton:not(:disabled){background-color:#1d1e24}.kbnToolbarButton .kbnToolbarButton__text>svg{margin-top:-1px}.kbnToolbarButton .kbnToolbarButton__text:empty{margin:0}.kbnToolbarButton[class*=fullWidth]{text-align:left}.kbnToolbarButton[class*=fullWidth] .kbnToolbarButton__content{justify-content:space-between}.kbnToolbarButton--groupLeft{border-bottom-right-radius:0;border-top-right-radius:0}.kbnToolbarButton--groupCenter{border-left:none;border-radius:0}.kbnToolbarButton--groupRight{border-bottom-left-radius:0;border-left:none;border-top-left-radius:0}.kbnToolbarButton--bold{font-weight:700}.kbnToolbarButton--normal{font-weight:400}.kbnToolbarButton--s{box-shadow:none!important;font-size:14px}",""]),e.exports=t},function(e,t,a){var n=a(67),r=a(208);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);n(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,a){(t=a(68)(!1)).push([e.i,".kbnToolbarButton{border:1px solid #d3dae6;line-height:40px;min-width:0}.kbnToolbarButton:not(:disabled){background-color:#fff}.kbnToolbarButton .kbnToolbarButton__text>svg{margin-top:-1px}.kbnToolbarButton .kbnToolbarButton__text:empty{margin:0}.kbnToolbarButton[class*=fullWidth]{text-align:left}.kbnToolbarButton[class*=fullWidth] .kbnToolbarButton__content{justify-content:space-between}.kbnToolbarButton--groupLeft{border-bottom-right-radius:0;border-top-right-radius:0}.kbnToolbarButton--groupCenter{border-left:none;border-radius:0}.kbnToolbarButton--groupRight{border-bottom-left-radius:0;border-left:none;border-top-left-radius:0}.kbnToolbarButton--bold{font-weight:700}.kbnToolbarButton--normal{font-weight:400}.kbnToolbarButton--s{box-shadow:none!important;font-size:14px}",""]),e.exports=t},function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));const n={maxWidth:550,avCharWidth:7,paddingsWidth:116};function r(e,t){const{maxWidth:a,avCharWidth:r,paddingsWidth:o,minWidth:i}={...n,...t},s=o+e*r;return i&&s<i?i:Math.min(s,a)}},function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(211);case"v8light":return a(213)}},function(e,t,a){var n=a(67),r=a(212);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);n(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,a){(t=a(68)(!1)).push([e.i,'@keyframes euiFlyoutAnimation{0%{opacity:0;transform:translateX(100%)}75%{opacity:1;transform:translateX(0)}}.lnsPalettePanelContainer{align-items:stretch;animation:euiFlyoutAnimation .25s cubic-bezier(.694,.0482,.335,1);background:#1d1e24;border-left:1px solid #343741;bottom:0;box-shadow:0 2.7px 9px rgba(0,0,0,.325),0 9.4px 24px rgba(0,0,0,.225),0 21.8px 43px #0003;-webkit-clip-path:polygon(-50% 0,100% 0,100% 100%,-50% 100%);clip-path:polygon(-50% 0,100% 0,100% 100%,-50% 100%);display:flex;flex-direction:column;height:100%;left:0;position:fixed;position:absolute;right:0;top:0;z-index:1000;z-index:3001}.lnsPalettePanelContainer__header{padding:16px}.lnsPalettePanelContainer__content{flex:1;height:100%;overflow-x:hidden;overflow-y:auto;scrollbar-color:#98a2b380 #0000;scrollbar-width:thin}.lnsPalettePanelContainer__content::-webkit-scrollbar{height:16px;width:16px}.lnsPalettePanelContainer__content::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#98a2b380;border:6px solid #0000;border-radius:16px}.lnsPalettePanelContainer__content::-webkit-scrollbar-corner,.lnsPalettePanelContainer__content::-webkit-scrollbar-track{background-color:#0000}.lnsPalettePanelContainer__content:focus{outline:none}.lnsPalettePanelContainer__content[tabindex="0"]:focus:focus-visible{outline-style:auto}.lnsPalettePanelContainer__footer{padding:16px}',""]),e.exports=t},function(e,t,a){var n=a(67),r=a(214);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);n(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,a){(t=a(68)(!1)).push([e.i,'@keyframes euiFlyoutAnimation{0%{opacity:0;transform:translateX(100%)}75%{opacity:1;transform:translateX(0)}}.lnsPalettePanelContainer{align-items:stretch;animation:euiFlyoutAnimation .25s cubic-bezier(.694,.0482,.335,1);background:#fff;border-left:1px solid #d3dae6;bottom:0;box-shadow:0 2.7px 9px #00000021,0 9.4px 24px #00000017,0 21.8px 43px #00000014;-webkit-clip-path:polygon(-50% 0,100% 0,100% 100%,-50% 100%);clip-path:polygon(-50% 0,100% 0,100% 100%,-50% 100%);display:flex;flex-direction:column;height:100%;left:0;position:fixed;position:absolute;right:0;top:0;z-index:1000;z-index:3001}.lnsPalettePanelContainer__header{padding:16px}.lnsPalettePanelContainer__content{flex:1;height:100%;overflow-x:hidden;overflow-y:auto;scrollbar-color:#69707d80 #0000;scrollbar-width:thin}.lnsPalettePanelContainer__content::-webkit-scrollbar{height:16px;width:16px}.lnsPalettePanelContainer__content::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#69707d80;border:6px solid #0000;border-radius:16px}.lnsPalettePanelContainer__content::-webkit-scrollbar-corner,.lnsPalettePanelContainer__content::-webkit-scrollbar-track{background-color:#0000}.lnsPalettePanelContainer__content:focus{outline:none}.lnsPalettePanelContainer__content[tabindex="0"]:focus:focus-visible{outline-style:auto}.lnsPalettePanelContainer__footer{padding:16px}',""]),e.exports=t},function(e,t,a){"use strict";a.d(t,"f",(function(){return n})),a.d(t,"h",(function(){return r})),a.d(t,"a",(function(){return o})),a.d(t,"c",(function(){return i})),a.d(t,"g",(function(){return s})),a.d(t,"e",(function(){return l})),a.d(t,"d",(function(){return c})),a.d(t,"b",(function(){return d}));const n="positive",r="fixed",o="custom",i="above",s="percent",l=0,c=100,d=5},,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(7),r="undefined"!=typeof window?n.useLayoutEffect:n.useEffect;t.default=r},function(e,t,a){"use strict";e.exports=function e(t,a){if(t===a)return!0;if(t&&a&&"object"==typeof t&&"object"==typeof a){if(t.constructor!==a.constructor)return!1;var n,r,o;if(Array.isArray(t)){if((n=t.length)!=a.length)return!1;for(r=n;0!=r--;)if(!e(t[r],a[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===a.source&&t.flags===a.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===a.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===a.toString();if((n=(o=Object.keys(t)).length)!==Object.keys(a).length)return!1;for(r=n;0!=r--;)if(!Object.prototype.hasOwnProperty.call(a,o[r]))return!1;for(r=n;0!=r--;){var i=o[r];if(!("_owner"===i&&t.$$typeof||e(t[i],a[i])))return!1}return!0}return t!=t&&a!=a}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(251);case"v8light":return a(253)}},function(e,t,a){var n=a(67),r=a(252);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);n(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,a){(t=a(68)(!1)).push([e.i,'@keyframes euiFlyoutAnimation{0%{opacity:0;transform:translateX(100%)}75%{opacity:1;transform:translateX(0)}}.lnsDimensionContainer{align-items:stretch;animation:euiFlyoutAnimation .25s cubic-bezier(.694,.0482,.335,1);background:#1d1e24;border-left:1px solid #343741;bottom:0;box-shadow:0 2.7px 9px rgba(0,0,0,.325),0 9.4px 24px rgba(0,0,0,.225),0 21.8px 43px #0003;-webkit-clip-path:polygon(-50% 0,100% 0,100% 100%,-50% 100%);clip-path:polygon(-50% 0,100% 0,100% 100%,-50% 100%);display:flex;flex-direction:column;height:100%;left:0;max-width:none!important;position:fixed;right:0;top:0;z-index:1000;z-index:2000}@media only screen and (min-width:992px) and (max-width:1199px){.lnsDimensionContainer{height:100%!important;position:absolute;top:0!important}}@media only screen and (min-width:1200px){.lnsDimensionContainer{height:100%!important;position:absolute;top:0!important}}.lnsFrameLayout__sidebar-isFullscreen .lnsDimensionContainer{border-left:1px solid #343741;box-shadow:none}.lnsDimensionContainer__header{padding:16px}.lnsFrameLayout__sidebar-isFullscreen .lnsDimensionContainer__header{display:none}.lnsDimensionContainer__content{flex:1;height:100%;overflow-x:hidden;overflow-y:auto;scrollbar-color:#98a2b380 #0000;scrollbar-width:thin}.lnsDimensionContainer__content::-webkit-scrollbar{height:16px;width:16px}.lnsDimensionContainer__content::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#98a2b380;border:6px solid #0000;border-radius:16px}.lnsDimensionContainer__content::-webkit-scrollbar-corner,.lnsDimensionContainer__content::-webkit-scrollbar-track{background-color:#0000}.lnsDimensionContainer__content:focus{outline:none}.lnsDimensionContainer__content[tabindex="0"]:focus:focus-visible{outline-style:auto}.lnsDimensionContainer__footer{padding:16px}.lnsFrameLayout__sidebar-isFullscreen .lnsDimensionContainer__footer{display:none}.lnsBody--overflowHidden{overflow:hidden}',""]),e.exports=t},function(e,t,a){var n=a(67),r=a(254);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);n(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,a){(t=a(68)(!1)).push([e.i,'@keyframes euiFlyoutAnimation{0%{opacity:0;transform:translateX(100%)}75%{opacity:1;transform:translateX(0)}}.lnsDimensionContainer{align-items:stretch;animation:euiFlyoutAnimation .25s cubic-bezier(.694,.0482,.335,1);background:#fff;border-left:1px solid #d3dae6;bottom:0;box-shadow:0 2.7px 9px #00000021,0 9.4px 24px #00000017,0 21.8px 43px #00000014;-webkit-clip-path:polygon(-50% 0,100% 0,100% 100%,-50% 100%);clip-path:polygon(-50% 0,100% 0,100% 100%,-50% 100%);display:flex;flex-direction:column;height:100%;left:0;max-width:none!important;position:fixed;right:0;top:0;z-index:1000;z-index:2000}@media only screen and (min-width:992px) and (max-width:1199px){.lnsDimensionContainer{height:100%!important;position:absolute;top:0!important}}@media only screen and (min-width:1200px){.lnsDimensionContainer{height:100%!important;position:absolute;top:0!important}}.lnsFrameLayout__sidebar-isFullscreen .lnsDimensionContainer{border-left:1px solid #d3dae6;box-shadow:none}.lnsDimensionContainer__header{padding:16px}.lnsFrameLayout__sidebar-isFullscreen .lnsDimensionContainer__header{display:none}.lnsDimensionContainer__content{flex:1;height:100%;overflow-x:hidden;overflow-y:auto;scrollbar-color:#69707d80 #0000;scrollbar-width:thin}.lnsDimensionContainer__content::-webkit-scrollbar{height:16px;width:16px}.lnsDimensionContainer__content::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#69707d80;border:6px solid #0000;border-radius:16px}.lnsDimensionContainer__content::-webkit-scrollbar-corner,.lnsDimensionContainer__content::-webkit-scrollbar-track{background-color:#0000}.lnsDimensionContainer__content:focus{outline:none}.lnsDimensionContainer__content[tabindex="0"]:focus:focus-visible{outline-style:auto}.lnsDimensionContainer__footer{padding:16px}.lnsFrameLayout__sidebar-isFullscreen .lnsDimensionContainer__footer{display:none}.lnsBody--overflowHidden{overflow:hidden}',""]),e.exports=t},function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(4),r=a(0),o=(a(7),a(2)),i=a(29),s=a(153);Object(o.jsx)("p",null,r.i18n.translate("visualizationUiComponents.configure.invalidConfigTooltip",{defaultMessage:"Invalid configuration."}),Object(o.jsx)("br",null),r.i18n.translate("visualizationUiComponents.configure.invalidConfigTooltipClick",{defaultMessage:"Click for more details."}));const l=({id:e,label:t,color:a,dataTestSubj:r})=>{let l=t;return"string"==typeof t&&(l=(null==t?void 0:t.trim().length)>0?t:s.a),Object(o.jsx)(n.EuiText,{size:"s",id:e,color:a,css:Object(o.css)("width:100%;word-break:break-word;font-weight:",i.euiThemeVars.euiFontWeightRegular,";",""),"data-test-subj":r||"lns-dimensionTrigger"},Object(o.jsx)(n.EuiFlexItem,{grow:!0},Object(o.jsx)("span",null,Object(o.jsx)("span",{className:"dimensionTrigger__textLabel",css:Object(o.css)("transition:background-color ",i.euiThemeVars.euiAnimSpeedFast," ease-in-out;&:hover{text-decoration:underline;}","")},l))))}},,,,,,,,,,,,,,,,,,,,,function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(277);case"v8light":return a(279)}},function(e,t,a){var n=a(67),r=a(278);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);n(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,a){(t=a(68)(!1)).push([e.i,'.domDragDrop{transition:.15s ease-in-out;transition-property:background-color,border-color,opacity;z-index:1}.domDragDrop_ghost{border:1px dashed #343741;left:0;margin:0!important;opacity:.9;outline:2px solid currentColor;outline-style:auto;pointer-events:none;position:absolute!important;top:0;transform:translate(8px,24px);width:100%;z-index:3}.domDragDrop-isDraggable,.domDragDrop_ghost{background:#1d1e24;box-shadow:0 .8px .8px #0000001a,0 2.3px 2px rgba(0,0,0,.075);cursor:grab}.domDragDrop-isDraggable:hover{transform:translateX(4px);transition:transform .35s ease-out}.domDragDrop-isDraggable .euiLink,.domDragDrop-isDraggable .kbnFieldButton__button{cursor:grab}.domDragDrop-isDraggable:focus{outline:2px solid currentColor}.domDragDrop-isDraggable:focus:focus-visible{outline-style:auto}.domDragDrop-isDraggable:focus:not(:focus-visible){outline:none}.domDragDrop-isDroppable:not(.domDragDrop__dropOverlayWrapper):before{border:1px dashed #0000;border-radius:6px;content:"";height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.domDragDrop-isDropTarget:not(.domDragDrop__dropOverlayWrapper){background-color:#54b3991a!important}.domDragDrop-isDropTarget:not(.domDragDrop__dropOverlayWrapper):before{border:1px dashed #0000;border-color:#54b399!important;border-radius:6px;content:"";height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.domDragDrop-isDropTarget>*{pointer-events:none}.domDragDrop-isActiveDropTarget:not(.domDragDrop__dropOverlayWrapper){background-color:#54b39940!important;z-index:3}.domDragDrop-isActiveDropTarget:not(.domDragDrop__dropOverlayWrapper):before{border-color:#54b399!important}.domDragDrop-isNotDroppable{opacity:.5}.domDragDrop-isReplacing{text-decoration:line-through}.domDragDrop-notCompatible:not(.domDragDrop__dropOverlayWrapper){background-color:#2e2d25!important}.domDragDrop-notCompatible:not(.domDragDrop__dropOverlayWrapper):before{border:1px dashed #d6bf57!important}.domDragDrop-notCompatible:not(.domDragDrop__dropOverlayWrapper).domDragDrop-isActiveDropTarget{background-color:#fbd01140!important}.domDragDrop-notCompatible:not(.domDragDrop__dropOverlayWrapper).domDragDrop-isActiveDropTarget:before{border-color:#d6bf57!important}.domDragDrop__container{height:100%;position:relative;width:100%}.domDragDrop__container.domDragDrop__container-active{z-index:3}.domDragDrop__reorderableDrop{height:calc(100% + 4px);position:absolute;top:0;width:100%}.domDragDrop-translatableDrop{pointer-events:none;transform:translateY(0);transition:transform .15s ease-in-out}.domDragDrop-translatableDrop .domDragDrop-isDropTarget{background:#1d1e24;box-shadow:0 .8px .8px #0000001a,0 2.3px 2px rgba(0,0,0,.075);cursor:grab}.domDragDrop-translatableDrop .domDragDrop-isActiveDropTarget{z-index:3}.domDragDrop-translatableDrag{position:relative;transform:translateY(0);transition:transform .15s ease-in-out;z-index:1}.domDragDrop__keyboardHandler{border-radius:6px;height:100%;position:absolute;top:0;width:100%}.domDragDrop__keyboardHandler:focus,.domDragDrop__keyboardHandler:focus-within{outline:2px solid currentColor;pointer-events:none;z-index:2}.domDragDrop__keyboardHandler:focus-within:focus-visible,.domDragDrop__keyboardHandler:focus:focus-visible{outline-style:auto}.domDragDrop__keyboardHandler:focus-within:not(:focus-visible),.domDragDrop__keyboardHandler:focus:not(:focus-visible){outline:none}.domDragDrop__extraDrops{max-width:400px;opacity:0;position:absolute;right:calc(100% + 8px);top:0;transition:opacity .15s ease-in-out;visibility:hidden;width:100%;z-index:2}.domDragDrop__extraDrops-visible{opacity:1;visibility:visible}.domDragDrop__extraDropWrapper{background:#25262e;border-radius:4px;height:100%;position:relative;width:100%}.domDragDrop__extraDropWrapper .domDragDrop__extraDrop,.domDragDrop__extraDropWrapper .domDragDrop__extraDrop:before{border-radius:0}.domDragDrop__extraDropWrapper:first-child .domDragDrop__extraDrop,.domDragDrop__extraDropWrapper:first-child .domDragDrop__extraDrop:before{border-top-left-radius:4px;border-top-right-radius:4px}.domDragDrop__extraDropWrapper:last-child .domDragDrop__extraDrop,.domDragDrop__extraDropWrapper:last-child .domDragDrop__extraDrop:before{border-bottom-left-radius:4px;border-bottom-right-radius:4px}.domDragDrop__extraDropWrapper+.domDragDrop__extraDropWrapper{margin-top:-1px}.domDragDrop__extraDrop{color:#7dded8;height:32px;min-width:112px;padding:4px;position:relative}.domDragDrop__extraDrop.domDragDrop-incompatibleExtraDrop{color:#f3d371}.domDragDrop__dropOverlayWrapper{height:100%;position:relative}.domDragDrop__dropOverlay{height:100%;left:0;position:absolute;top:0;transition:.15s ease-in-out;transition-property:background-color,border-color,opacity;width:100%;z-index:3}.domDragDrop-isDropTarget .domDragDrop__dropOverlay{background-color:#54b3991a!important}.domDragDrop-isDropTarget .domDragDrop__dropOverlay:before{border:2px dashed #0000;border-color:#54b399!important;border-radius:6px;content:"";height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.domDragDrop-isActiveDropTarget .domDragDrop__dropOverlay{background-color:#54b39940!important}.domDragDrop-isActiveDropTarget .domDragDrop__dropOverlay:before{border-color:#54b399!important}.domDragDrop-isActiveGroup{background-color:#54b39940}.domDragDrop-isActiveGroup .domDragDrop-isKeyboardReorderInProgress .domDragDrop--isDragStarted{opacity:1}.domDragDrop-isActiveGroup .domDragDrop-isActiveDropTarget,.domDragDrop-isActiveGroup .domDragDrop-isDropTarget{background:#1d1e24!important}.domDragDrop--isDragStarted{opacity:.5}.domDragDrop-isHidden{opacity:0}.domDragDrop-isHidden .domDragDrop__keyboardHandler:focus,.domDragDrop-isHidden .domDragDrop__keyboardHandler:focus-within{animation:none}',""]),e.exports=t},function(e,t,a){var n=a(67),r=a(280);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);n(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,a){(t=a(68)(!1)).push([e.i,'.domDragDrop{transition:.15s ease-in-out;transition-property:background-color,border-color,opacity;z-index:1}.domDragDrop_ghost{border:1px dashed #d3dae6;left:0;margin:0!important;opacity:.9;outline:2px solid currentColor;outline-style:auto;pointer-events:none;position:absolute!important;top:0;transform:translate(8px,24px);width:100%;z-index:3}.domDragDrop-isDraggable,.domDragDrop_ghost{background:#fff;box-shadow:0 .8px .8px #0000000a,0 2.3px 2px #00000008;cursor:grab}.domDragDrop-isDraggable:hover{transform:translateX(4px);transition:transform .35s ease-out}.domDragDrop-isDraggable .euiLink,.domDragDrop-isDraggable .kbnFieldButton__button{cursor:grab}.domDragDrop-isDraggable:focus{outline:2px solid currentColor}.domDragDrop-isDraggable:focus:focus-visible{outline-style:auto}.domDragDrop-isDraggable:focus:not(:focus-visible){outline:none}.domDragDrop-isDroppable:not(.domDragDrop__dropOverlayWrapper):before{border:1px dashed #0000;border-radius:6px;content:"";height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.domDragDrop-isDropTarget:not(.domDragDrop__dropOverlayWrapper){background-color:#54b3991a!important}.domDragDrop-isDropTarget:not(.domDragDrop__dropOverlayWrapper):before{border:1px dashed #0000;border-color:#54b399!important;border-radius:6px;content:"";height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.domDragDrop-isDropTarget>*{pointer-events:none}.domDragDrop-isActiveDropTarget:not(.domDragDrop__dropOverlayWrapper){background-color:#54b39940!important;z-index:3}.domDragDrop-isActiveDropTarget:not(.domDragDrop__dropOverlayWrapper):before{border-color:#54b399!important}.domDragDrop-isNotDroppable{opacity:.5}.domDragDrop-isReplacing{text-decoration:line-through}.domDragDrop-notCompatible:not(.domDragDrop__dropOverlayWrapper){background-color:#fff9e8!important}.domDragDrop-notCompatible:not(.domDragDrop__dropOverlayWrapper):before{border:1px dashed #d6bf57!important}.domDragDrop-notCompatible:not(.domDragDrop__dropOverlayWrapper).domDragDrop-isActiveDropTarget{background-color:#fbd01140!important}.domDragDrop-notCompatible:not(.domDragDrop__dropOverlayWrapper).domDragDrop-isActiveDropTarget:before{border-color:#d6bf57!important}.domDragDrop__container{height:100%;position:relative;width:100%}.domDragDrop__container.domDragDrop__container-active{z-index:3}.domDragDrop__reorderableDrop{height:calc(100% + 4px);position:absolute;top:0;width:100%}.domDragDrop-translatableDrop{pointer-events:none;transform:translateY(0);transition:transform .15s ease-in-out}.domDragDrop-translatableDrop .domDragDrop-isDropTarget{background:#fff;box-shadow:0 .8px .8px #0000000a,0 2.3px 2px #00000008;cursor:grab}.domDragDrop-translatableDrop .domDragDrop-isActiveDropTarget{z-index:3}.domDragDrop-translatableDrag{position:relative;transform:translateY(0);transition:transform .15s ease-in-out;z-index:1}.domDragDrop__keyboardHandler{border-radius:6px;height:100%;position:absolute;top:0;width:100%}.domDragDrop__keyboardHandler:focus,.domDragDrop__keyboardHandler:focus-within{outline:2px solid currentColor;pointer-events:none;z-index:2}.domDragDrop__keyboardHandler:focus-within:focus-visible,.domDragDrop__keyboardHandler:focus:focus-visible{outline-style:auto}.domDragDrop__keyboardHandler:focus-within:not(:focus-visible),.domDragDrop__keyboardHandler:focus:not(:focus-visible){outline:none}.domDragDrop__extraDrops{max-width:400px;opacity:0;position:absolute;right:calc(100% + 8px);top:0;transition:opacity .15s ease-in-out;visibility:hidden;width:100%;z-index:2}.domDragDrop__extraDrops-visible{opacity:1;visibility:visible}.domDragDrop__extraDropWrapper{background:#f5f7fa;border-radius:4px;height:100%;position:relative;width:100%}.domDragDrop__extraDropWrapper .domDragDrop__extraDrop,.domDragDrop__extraDropWrapper .domDragDrop__extraDrop:before{border-radius:0}.domDragDrop__extraDropWrapper:first-child .domDragDrop__extraDrop,.domDragDrop__extraDropWrapper:first-child .domDragDrop__extraDrop:before{border-top-left-radius:4px;border-top-right-radius:4px}.domDragDrop__extraDropWrapper:last-child .domDragDrop__extraDrop,.domDragDrop__extraDropWrapper:last-child .domDragDrop__extraDrop:before{border-bottom-left-radius:4px;border-bottom-right-radius:4px}.domDragDrop__extraDropWrapper+.domDragDrop__extraDropWrapper{margin-top:-1px}.domDragDrop__extraDrop{color:#007e77;height:32px;min-width:112px;padding:4px;position:relative}.domDragDrop__extraDrop.domDragDrop-incompatibleExtraDrop{color:#8a6a0a}.domDragDrop__dropOverlayWrapper{height:100%;position:relative}.domDragDrop__dropOverlay{height:100%;left:0;position:absolute;top:0;transition:.15s ease-in-out;transition-property:background-color,border-color,opacity;width:100%;z-index:3}.domDragDrop-isDropTarget .domDragDrop__dropOverlay{background-color:#54b3991a!important}.domDragDrop-isDropTarget .domDragDrop__dropOverlay:before{border:2px dashed #0000;border-color:#54b399!important;border-radius:6px;content:"";height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.domDragDrop-isActiveDropTarget .domDragDrop__dropOverlay{background-color:#54b39940!important}.domDragDrop-isActiveDropTarget .domDragDrop__dropOverlay:before{border-color:#54b399!important}.domDragDrop-isActiveGroup{background-color:#54b39940}.domDragDrop-isActiveGroup .domDragDrop-isKeyboardReorderInProgress .domDragDrop--isDragStarted{opacity:1}.domDragDrop-isActiveGroup .domDragDrop-isActiveDropTarget,.domDragDrop-isActiveGroup .domDragDrop-isDropTarget{background:#fff!important}.domDragDrop--isDragStarted{opacity:.5}.domDragDrop-isHidden{opacity:0}.domDragDrop-isHidden .domDragDrop__keyboardHandler:focus,.domDragDrop-isHidden .domDragDrop__keyboardHandler:focus-within{animation:none}',""]),e.exports=t},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(38),r=a(282),o=n.__importDefault(a(149)),i=function(e,t){return e.every((function(e,a){return r.equal(e,t[a])}))};t.default=function(e,t){o.default(e,t,i)}},function(e,t){var a=Object.keys;t.equal=function(e,t){if(e===t)return!0;if(!(e instanceof Object&&t instanceof Object))return!1;for(var n=a(e),r=n.length,o=0;o<r;o++)if(!(n[o]in t))return!1;for(o=0;o<r;o++)if(e[n[o]]!==t[n[o]])return!1;return r===a(t).length}},function(e,t,a){(function(e){!function(t){"use strict";function a(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function n(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function r(e,t,a){r.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:a,enumerable:!0})}function o(e,t){o.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function i(e,t){i.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function s(e,t,a){s.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:a,enumerable:!0})}function l(e,t,a){var n=e.slice((a||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,n),e}function c(e){var t=void 0===e?"undefined":w(e);return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"function"==typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function d(e,t,a,n,u,p,g){g=g||[];var b=(u=u||[]).slice(0);if(void 0!==p){if(n){if("function"==typeof n&&n(b,p))return;if("object"===(void 0===n?"undefined":w(n))){if(n.prefilter&&n.prefilter(b,p))return;if(n.normalize){var m=n.normalize(b,p,e,t);m&&(e=m[0],t=m[1])}}}b.push(p)}"regexp"===c(e)&&"regexp"===c(t)&&(e=e.toString(),t=t.toString());var f=void 0===e?"undefined":w(e),x=void 0===t?"undefined":w(t),h="undefined"!==f||g&&g[g.length-1].lhs&&g[g.length-1].lhs.hasOwnProperty(p),v="undefined"!==x||g&&g[g.length-1].rhs&&g[g.length-1].rhs.hasOwnProperty(p);if(!h&&v)a(new o(b,t));else if(!v&&h)a(new i(b,e));else if(c(e)!==c(t))a(new r(b,e,t));else if("date"===c(e)&&e-t!=0)a(new r(b,e,t));else if("object"===f&&null!==e&&null!==t)if(g.filter((function(t){return t.lhs===e})).length)e!==t&&a(new r(b,e,t));else{if(g.push({lhs:e,rhs:t}),Array.isArray(e)){var y;for(e.length,y=0;y<e.length;y++)y>=t.length?a(new s(b,y,new i(void 0,e[y]))):d(e[y],t[y],a,n,b,y,g);for(;y<t.length;)a(new s(b,y,new o(void 0,t[y++])))}else{var j=Object.keys(e),_=Object.keys(t);j.forEach((function(r,o){var i=_.indexOf(r);i>=0?(d(e[r],t[r],a,n,b,r,g),_=l(_,i)):d(e[r],void 0,a,n,b,r,g)})),_.forEach((function(e){d(void 0,t[e],a,n,b,e,g)}))}g.length=g.length-1}else e!==t&&("number"===f&&isNaN(e)&&isNaN(t)||a(new r(b,e,t)))}function u(e,t,a,n){return n=n||[],d(e,t,(function(e){e&&n.push(e)}),a),n.length?n:void 0}function p(e,t,a){if(a.path&&a.path.length){var n,r=e[t],o=a.path.length-1;for(n=0;n<o;n++)r=r[a.path[n]];switch(a.kind){case"A":p(r[a.path[n]],a.index,a.item);break;case"D":delete r[a.path[n]];break;case"E":case"N":r[a.path[n]]=a.rhs}}else switch(a.kind){case"A":p(e[t],a.index,a.item);break;case"D":e=l(e,t);break;case"E":case"N":e[t]=a.rhs}return e}function g(e,t,a){if(e&&t&&a&&a.kind){for(var n=e,r=-1,o=a.path?a.path.length-1:0;++r<o;)void 0===n[a.path[r]]&&(n[a.path[r]]="number"==typeof a.path[r]?[]:{}),n=n[a.path[r]];switch(a.kind){case"A":p(a.path?n[a.path[r]]:n,a.index,a.item);break;case"D":delete n[a.path[r]];break;case"E":case"N":n[a.path[r]]=a.rhs}}}function b(e,t,a){if(a.path&&a.path.length){var n,r=e[t],o=a.path.length-1;for(n=0;n<o;n++)r=r[a.path[n]];switch(a.kind){case"A":b(r[a.path[n]],a.index,a.item);break;case"D":case"E":r[a.path[n]]=a.lhs;break;case"N":delete r[a.path[n]]}}else switch(a.kind){case"A":b(e[t],a.index,a.item);break;case"D":case"E":e[t]=a.lhs;break;case"N":e=l(e,t)}return e}function m(e){return"color: "+I[e].color+"; font-weight: bold"}function f(e,t,a,n){var r=u(e,t);try{n?a.groupCollapsed("diff"):a.group("diff")}catch(e){a.log("diff")}r?r.forEach((function(e){var t=e.kind,n=function(e){var t=e.kind,a=e.path,n=e.lhs,r=e.rhs,o=e.index,i=e.item;switch(t){case"E":return[a.join("."),n,"→",r];case"N":return[a.join("."),r];case"D":return[a.join(".")];case"A":return[a.join(".")+"["+o+"]",i];default:return[]}}(e);a.log.apply(a,["%c "+I[t].text,m(t)].concat(L(n)))})):a.log("—— no diff ——");try{a.groupEnd()}catch(e){a.log("—— diff end —— ")}}function x(e,t,a,n){switch(void 0===e?"undefined":w(e)){case"object":return"function"==typeof e[n]?e[n].apply(e,L(a)):e[n];case"function":return e(t);default:return e}}function h(e,t){var a=t.logger,n=t.actionTransformer,r=t.titleFormatter,o=void 0===r?function(e){var t=e.timestamp,a=e.duration;return function(e,n,r){var o=["action"];return o.push("%c"+String(e.type)),t&&o.push("%c@ "+n),a&&o.push("%c(in "+r.toFixed(2)+" ms)"),o.join(" ")}}(t):r,i=t.collapsed,s=t.colors,l=t.level,c=t.diff,d=void 0===t.titleFormatter;e.forEach((function(r,u){var p=r.started,g=r.startedTime,b=r.action,m=r.prevState,h=r.error,v=r.took,y=r.nextState,j=e[u+1];j&&(y=j.prevState,v=j.started-p);var _=n(b),O="function"==typeof i?i((function(){return y}),b,r):i,w=D(g),L=s.title?"color: "+s.title(_)+";":"",S=["color: gray; font-weight: lighter;"];S.push(L),t.timestamp&&S.push("color: gray; font-weight: lighter;"),t.duration&&S.push("color: gray; font-weight: lighter;");var I=o(_,w,v);try{O?s.title&&d?a.groupCollapsed.apply(a,["%c "+I].concat(S)):a.groupCollapsed(I):s.title&&d?a.group.apply(a,["%c "+I].concat(S)):a.group(I)}catch(e){a.log(I)}var k=x(l,_,[m],"prevState"),P=x(l,_,[_],"action"),C=x(l,_,[h,m],"error"),T=x(l,_,[y],"nextState");if(k)if(s.prevState){var z="color: "+s.prevState(m)+"; font-weight: bold";a[k]("%c prev state",z,m)}else a[k]("prev state",m);if(P)if(s.action){var E="color: "+s.action(_)+"; font-weight: bold";a[P]("%c action    ",E,_)}else a[P]("action    ",_);if(h&&C)if(s.error){var M="color: "+s.error(h,m)+"; font-weight: bold;";a[C]("%c error     ",M,h)}else a[C]("error     ",h);if(T)if(s.nextState){var F="color: "+s.nextState(y)+"; font-weight: bold";a[T]("%c next state",F,y)}else a[T]("next state",y);c&&f(m,y,a,O);try{a.groupEnd()}catch(e){a.log("—— log end ——")}}))}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},k,e),a=t.logger,n=t.stateTransformer,r=t.errorTransformer,o=t.predicate,i=t.logErrors,s=t.diffPredicate;if(void 0===a)return function(){return function(e){return function(t){return e(t)}}};if(e.getState&&e.dispatch)return console.error("[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\n// Logger with default options\nimport { logger } from 'redux-logger'\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\nimport createLogger from 'redux-logger'\nconst logger = createLogger({\n  // ...options\n});\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n"),function(){return function(e){return function(t){return e(t)}}};var l=[];return function(e){var a=e.getState;return function(e){return function(c){if("function"==typeof o&&!o(a,c))return e(c);var d={};l.push(d),d.started=O.now(),d.startedTime=new Date,d.prevState=n(a()),d.action=c;var u=void 0;if(i)try{u=e(c)}catch(e){d.error=r(e)}else u=e(c);d.took=O.now()-d.started,d.nextState=n(a());var p=t.diff&&"function"==typeof s?s(a,c):t.diff;if(h(l,Object.assign({},t,{diff:p})),l.length=0,d.error)throw d.error;return u}}}}var y,j,_=function(e,t){return function(e,t){return new Array(t+1).join(e)}("0",t-e.toString().length)+e},D=function(e){return _(e.getHours(),2)+":"+_(e.getMinutes(),2)+":"+_(e.getSeconds(),2)+"."+_(e.getMilliseconds(),3)},O="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date,w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L=function(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)},S=[];y="object"===(void 0===e?"undefined":w(e))&&e?e:"undefined"!=typeof window?window:{},(j=y.DeepDiff)&&S.push((function(){void 0!==j&&y.DeepDiff===u&&(y.DeepDiff=j,j=void 0)})),a(r,n),a(o,n),a(i,n),a(s,n),Object.defineProperties(u,{diff:{value:u,enumerable:!0},observableDiff:{value:d,enumerable:!0},applyDiff:{value:function(e,t,a){e&&t&&d(e,t,(function(n){a&&!a(e,t,n)||g(e,t,n)}))},enumerable:!0},applyChange:{value:g,enumerable:!0},revertChange:{value:function(e,t,a){if(e&&t&&a&&a.kind){var n,r,o=e;for(r=a.path.length-1,n=0;n<r;n++)void 0===o[a.path[n]]&&(o[a.path[n]]={}),o=o[a.path[n]];switch(a.kind){case"A":b(o[a.path[n]],a.index,a.item);break;case"D":case"E":o[a.path[n]]=a.lhs;break;case"N":delete o[a.path[n]]}}},enumerable:!0},isConflict:{value:function(){return void 0!==j},enumerable:!0},noConflict:{value:function(){return S&&(S.forEach((function(e){e()})),S=null),u},enumerable:!0}});var I={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},k={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(e){return e},actionTransformer:function(e){return e},errorTransformer:function(e){return e},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dispatch,a=e.getState;return"function"==typeof t||"function"==typeof a?v()({dispatch:t,getState:a}):void console.error("\n[redux-logger v3] BREAKING CHANGE\n[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.\n[redux-logger v3] Change\n[redux-logger v3] import createLogger from 'redux-logger'\n[redux-logger v3] to\n[redux-logger v3] import { createLogger } from 'redux-logger'\n")};t.defaults=k,t.createLogger=v,t.logger=P,t.default=P,Object.defineProperty(t,"__esModule",{value:!0})}(t)}).call(this,a(284))},function(e,t,a){e.exports=a(17)(191)},function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(286);case"v8light":return a(288)}},function(e,t,a){var n=a(67),r=a(287);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);n(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,a){(t=a(68)(!1)).push([e.i,".lnsDataPanelWrapper{background-color:#000;flex:1 0 100%;overflow:hidden}.lnsDataPanelWrapper__switchSource{position:absolute;right:20px;top:20px}",""]),e.exports=t},function(e,t,a){var n=a(67),r=a(289);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);n(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,a){(t=a(68)(!1)).push([e.i,".lnsDataPanelWrapper{background-color:#f5f7fa;flex:1 0 100%;overflow:hidden}.lnsDataPanelWrapper__switchSource{position:absolute;right:20px;top:20px}",""]),e.exports=t},function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(291);case"v8light":return a(293)}},function(e,t,a){var n=a(67),r=a(292);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);n(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,a){(t=a(68)(!1)).push([e.i,"@keyframes euiFlyoutAnimation{0%{opacity:0;transform:translateX(100%)}75%{opacity:1;transform:translateX(0)}}.lnsLayerPanel{margin-bottom:16px}.lnsLayerPanel:focus:not(:focus-visible){animation:none!important}.lnsLayerPanel__layerHeader{border-bottom:1px solid #343741;padding:16px}.lnsLayerPanel__layerSettingsWrapper{min-width:0}.lnsLayerPanel__settingsStaticHeader{padding-left:4px}.lnsLayerPanel__settingsStaticHeaderIcon{margin-right:8px;vertical-align:inherit}.lnsLayerPanel__settingsStaticHeaderTitle{display:inline}.lnsLayerPanel__row{background:#25262e;padding:16px}.lnsLayerPanel__row:last-child{border-radius:0 0 6px 6px}.lnsLayerPanel__row+.lnsLayerPanel__row{border-top:1px solid #343741;margin-top:0}.lnsLayerPanel__row>*{margin-bottom:0}.lnsLayerPanel__row .euiFormRow__fieldWrapper>*+*,.lnsLayerPanel__row>*+*{margin-top:8px}.lnsLayerPanel__group{margin:-4px -16px;padding:4px 16px}.lnsLayerPanel__styleEditor{padding:16px}.lnsLayerPanel__dimensionContainer{position:relative}.lnsLayerPanel__dimensionContainer+.lnsLayerPanel__dimensionContainer{margin-top:8px}.domDragDrop-isReplacing .dimensionTrigger__textLabel{text-decoration:line-through}.lnsLayerPanel__dimension .lnsLayerPanel__dimensionLink:focus{background-color:initial;outline:none;text-decoration-thickness:1px!important}.lnsLayerPanel__dimension .lnsLayerPanel__dimensionLink:focus:focus-visible{outline-style:none}.lnsLayerPanel__dimension .lnsLayerPanel__dimensionLink:focus .dimensionTrigger__textLabel{background-color:#36a2ef33;outline:2px solid currentColor}.lnsLayerPanel__dimension .lnsLayerPanel__dimensionLink:focus:focus-visible .dimensionTrigger__textLabel{outline-style:auto}.lnsLayerPanel__dimension .lnsLayerPanel__dimensionLink:focus:not(:focus-visible) .dimensionTrigger__textLabel{outline:none}",""]),e.exports=t},function(e,t,a){var n=a(67),r=a(294);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);n(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,a){(t=a(68)(!1)).push([e.i,"@keyframes euiFlyoutAnimation{0%{opacity:0;transform:translateX(100%)}75%{opacity:1;transform:translateX(0)}}.lnsLayerPanel{margin-bottom:16px}.lnsLayerPanel:focus:not(:focus-visible){animation:none!important}.lnsLayerPanel__layerHeader{border-bottom:1px solid #d3dae6;padding:16px}.lnsLayerPanel__layerSettingsWrapper{min-width:0}.lnsLayerPanel__settingsStaticHeader{padding-left:4px}.lnsLayerPanel__settingsStaticHeaderIcon{margin-right:8px;vertical-align:inherit}.lnsLayerPanel__settingsStaticHeaderTitle{display:inline}.lnsLayerPanel__row{background:#f5f7fa;padding:16px}.lnsLayerPanel__row:last-child{border-radius:0 0 6px 6px}.lnsLayerPanel__row+.lnsLayerPanel__row{border-top:1px solid #d3dae6;margin-top:0}.lnsLayerPanel__row>*{margin-bottom:0}.lnsLayerPanel__row .euiFormRow__fieldWrapper>*+*,.lnsLayerPanel__row>*+*{margin-top:8px}.lnsLayerPanel__group{margin:-4px -16px;padding:4px 16px}.lnsLayerPanel__styleEditor{padding:16px}.lnsLayerPanel__dimensionContainer{position:relative}.lnsLayerPanel__dimensionContainer+.lnsLayerPanel__dimensionContainer{margin-top:8px}.domDragDrop-isReplacing .dimensionTrigger__textLabel{text-decoration:line-through}.lnsLayerPanel__dimension .lnsLayerPanel__dimensionLink:focus{background-color:initial;outline:none;text-decoration-thickness:1px!important}.lnsLayerPanel__dimension .lnsLayerPanel__dimensionLink:focus:focus-visible{outline-style:none}.lnsLayerPanel__dimension .lnsLayerPanel__dimensionLink:focus .dimensionTrigger__textLabel{background-color:#0077cc1a;outline:2px solid currentColor}.lnsLayerPanel__dimension .lnsLayerPanel__dimensionLink:focus:focus-visible .dimensionTrigger__textLabel{outline-style:auto}.lnsLayerPanel__dimension .lnsLayerPanel__dimensionLink:focus:not(:focus-visible) .dimensionTrigger__textLabel{outline:none}",""]),e.exports=t},function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(296);case"v8light":return a(298)}},function(e,t,a){var n=a(67),r=a(297);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);n(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,a){(t=a(68)(!1)).push([e.i,".lnsLayerAddButton:hover{text-decoration:none}.lnsLayerAddButton:hover .lnsLayerAddButton__label{text-decoration:underline}.lnsLayerAddButton:hover .lnsLayerAddButton__techBadge,.lnsLayerAddButton:hover .lnsLayerAddButton__techBadge *{cursor:pointer}",""]),e.exports=t},function(e,t,a){var n=a(67),r=a(299);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);n(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,a){(t=a(68)(!1)).push([e.i,".lnsLayerAddButton:hover{text-decoration:none}.lnsLayerAddButton:hover .lnsLayerAddButton__label{text-decoration:underline}.lnsLayerAddButton:hover .lnsLayerAddButton__techBadge,.lnsLayerAddButton:hover .lnsLayerAddButton__techBadge *{cursor:pointer}",""]),e.exports=t},function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(301);case"v8light":return a(303)}},function(e,t,a){var n=a(67),r=a(302);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);n(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,a){(t=a(68)(!1)).push([e.i,'.lnsFrameLayout{bottom:0;flex-direction:column;left:0;overflow:hidden;padding:0;position:absolute;right:0;top:0}@media only screen and (max-width:574px){.lnsFrameLayout{position:static}}@media only screen and (min-width:575px) and (max-width:767px){.lnsFrameLayout{position:static}}@media only screen and (min-width:768px) and (max-width:991px){.lnsFrameLayout{position:static}}.lnsFrameLayout__wrapper{position:relative}.lnsFrameLayout__pageContent{flex-direction:row;flex-grow:1;overflow:hidden}@media only screen and (max-width:574px){.lnsFrameLayout__pageContent{flex-wrap:wrap;overflow:auto}.lnsFrameLayout__pageContent>*{flex-basis:100%}.lnsFrameLayout__pageContent>.lnsFrameLayout__sidebar{min-height:360px}}@media only screen and (min-width:575px) and (max-width:767px){.lnsFrameLayout__pageContent{flex-wrap:wrap;overflow:auto}.lnsFrameLayout__pageContent>*{flex-basis:100%}.lnsFrameLayout__pageContent>.lnsFrameLayout__sidebar{min-height:360px}}@media only screen and (min-width:768px) and (max-width:991px){.lnsFrameLayout__pageContent{flex-wrap:wrap;overflow:auto}.lnsFrameLayout__pageContent>*{flex-basis:100%}.lnsFrameLayout__pageContent>.lnsFrameLayout__sidebar{min-height:360px}}.visEditor{display:flex;flex:1 1 auto;flex-direction:column;height:100%}.visEditor>*{flex-shrink:0}@media only screen and (max-width:574px){.visEditor .visualization{min-height:360px}}@media only screen and (min-width:575px) and (max-width:767px){.visEditor .visualization{min-height:360px}}@media only screen and (min-width:768px) and (max-width:991px){.visEditor .visualization{min-height:360px}}.visEditor>.visualize{display:flex;flex:1 1 auto;height:100%;z-index:0}.lnsFrameLayout__pageBody{display:flex;flex:1 1 100%;flex-direction:column;min-width:320px;overflow:hidden auto;padding:16px 16px 0;position:relative;scrollbar-color:#98a2b380 #0000;scrollbar-width:thin;z-index:1}.lnsFrameLayout__pageBody::-webkit-scrollbar{height:16px;width:16px}.lnsFrameLayout__pageBody::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#98a2b380;border:6px solid #0000;border-radius:16px}.lnsFrameLayout__pageBody::-webkit-scrollbar-corner,.lnsFrameLayout__pageBody::-webkit-scrollbar-track{background-color:#0000}.lnsFrameLayout__pageBody:first-child{padding-left:16px}.lnsFrameLayout__pageBody.lnsFrameLayout__pageBody-isFullscreen{flex:1;padding:0}.lnsFrameLayout__sidebar{display:flex;flex:1 0 18%;flex-direction:column;margin:0;min-width:304px;position:relative}.lnsFrameLayout-isFullscreen .lnsFrameLayout__sidebar--left{display:none}.lnsFrameLayout__sidebar--right{background-color:#000;flex-basis:25%;max-height:100%;max-width:440px;min-width:358px}@media only screen and (max-width:574px){.lnsFrameLayout__sidebar--right{max-width:100%}}@media only screen and (min-width:575px) and (max-width:767px){.lnsFrameLayout__sidebar--right{max-width:100%}}@media only screen and (min-width:768px) and (max-width:991px){.lnsFrameLayout__sidebar--right{max-width:100%}}.lnsFrameLayout__sidebar--right .lnsConfigPanel{height:100%;margin-left:-400px;overflow-x:hidden;overflow-y:auto;padding:16px 16px 32px 416px;scrollbar-color:#98a2b380 #0000;scrollbar-width:thin}.lnsFrameLayout__sidebar--right .lnsConfigPanel::-webkit-scrollbar{height:16px;width:16px}.lnsFrameLayout__sidebar--right .lnsConfigPanel::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#98a2b380;border:6px solid #0000;border-radius:16px}.lnsFrameLayout__sidebar--right .lnsConfigPanel::-webkit-scrollbar-corner,.lnsFrameLayout__sidebar--right .lnsConfigPanel::-webkit-scrollbar-track{background-color:#0000}.lnsFrameLayout__sidebar--right .lnsConfigPanel:focus{outline:none}.lnsFrameLayout__sidebar--right .lnsConfigPanel[tabindex="0"]:focus:focus-visible{outline-style:auto}@media only screen and (max-width:574px){.lnsFrameLayout__sidebar--right .lnsConfigPanel{margin-left:0;padding-left:16px}}@media only screen and (min-width:575px) and (max-width:767px){.lnsFrameLayout__sidebar--right .lnsConfigPanel{margin-left:0;padding-left:16px}}@media only screen and (min-width:768px) and (max-width:991px){.lnsFrameLayout__sidebar--right .lnsConfigPanel{margin-left:0;padding-left:16px}}.lnsFrameLayout__sidebar-isFullscreen{flex:1;max-width:none}',""]),e.exports=t},function(e,t,a){var n=a(67),r=a(304);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);n(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,a){(t=a(68)(!1)).push([e.i,'.lnsFrameLayout{bottom:0;flex-direction:column;left:0;overflow:hidden;padding:0;position:absolute;right:0;top:0}@media only screen and (max-width:574px){.lnsFrameLayout{position:static}}@media only screen and (min-width:575px) and (max-width:767px){.lnsFrameLayout{position:static}}@media only screen and (min-width:768px) and (max-width:991px){.lnsFrameLayout{position:static}}.lnsFrameLayout__wrapper{position:relative}.lnsFrameLayout__pageContent{flex-direction:row;flex-grow:1;overflow:hidden}@media only screen and (max-width:574px){.lnsFrameLayout__pageContent{flex-wrap:wrap;overflow:auto}.lnsFrameLayout__pageContent>*{flex-basis:100%}.lnsFrameLayout__pageContent>.lnsFrameLayout__sidebar{min-height:360px}}@media only screen and (min-width:575px) and (max-width:767px){.lnsFrameLayout__pageContent{flex-wrap:wrap;overflow:auto}.lnsFrameLayout__pageContent>*{flex-basis:100%}.lnsFrameLayout__pageContent>.lnsFrameLayout__sidebar{min-height:360px}}@media only screen and (min-width:768px) and (max-width:991px){.lnsFrameLayout__pageContent{flex-wrap:wrap;overflow:auto}.lnsFrameLayout__pageContent>*{flex-basis:100%}.lnsFrameLayout__pageContent>.lnsFrameLayout__sidebar{min-height:360px}}.visEditor{display:flex;flex:1 1 auto;flex-direction:column;height:100%}.visEditor>*{flex-shrink:0}@media only screen and (max-width:574px){.visEditor .visualization{min-height:360px}}@media only screen and (min-width:575px) and (max-width:767px){.visEditor .visualization{min-height:360px}}@media only screen and (min-width:768px) and (max-width:991px){.visEditor .visualization{min-height:360px}}.visEditor>.visualize{display:flex;flex:1 1 auto;height:100%;z-index:0}.lnsFrameLayout__pageBody{display:flex;flex:1 1 100%;flex-direction:column;min-width:320px;overflow:hidden auto;padding:16px 16px 0;position:relative;scrollbar-color:#69707d80 #0000;scrollbar-width:thin;z-index:1}.lnsFrameLayout__pageBody::-webkit-scrollbar{height:16px;width:16px}.lnsFrameLayout__pageBody::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#69707d80;border:6px solid #0000;border-radius:16px}.lnsFrameLayout__pageBody::-webkit-scrollbar-corner,.lnsFrameLayout__pageBody::-webkit-scrollbar-track{background-color:#0000}.lnsFrameLayout__pageBody:first-child{padding-left:16px}.lnsFrameLayout__pageBody.lnsFrameLayout__pageBody-isFullscreen{flex:1;padding:0}.lnsFrameLayout__sidebar{display:flex;flex:1 0 18%;flex-direction:column;margin:0;min-width:304px;position:relative}.lnsFrameLayout-isFullscreen .lnsFrameLayout__sidebar--left{display:none}.lnsFrameLayout__sidebar--right{background-color:#f5f7fa;flex-basis:25%;max-height:100%;max-width:440px;min-width:358px}@media only screen and (max-width:574px){.lnsFrameLayout__sidebar--right{max-width:100%}}@media only screen and (min-width:575px) and (max-width:767px){.lnsFrameLayout__sidebar--right{max-width:100%}}@media only screen and (min-width:768px) and (max-width:991px){.lnsFrameLayout__sidebar--right{max-width:100%}}.lnsFrameLayout__sidebar--right .lnsConfigPanel{height:100%;margin-left:-400px;overflow-x:hidden;overflow-y:auto;padding:16px 16px 32px 416px;scrollbar-color:#69707d80 #0000;scrollbar-width:thin}.lnsFrameLayout__sidebar--right .lnsConfigPanel::-webkit-scrollbar{height:16px;width:16px}.lnsFrameLayout__sidebar--right .lnsConfigPanel::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#69707d80;border:6px solid #0000;border-radius:16px}.lnsFrameLayout__sidebar--right .lnsConfigPanel::-webkit-scrollbar-corner,.lnsFrameLayout__sidebar--right .lnsConfigPanel::-webkit-scrollbar-track{background-color:#0000}.lnsFrameLayout__sidebar--right .lnsConfigPanel:focus{outline:none}.lnsFrameLayout__sidebar--right .lnsConfigPanel[tabindex="0"]:focus:focus-visible{outline-style:auto}@media only screen and (max-width:574px){.lnsFrameLayout__sidebar--right .lnsConfigPanel{margin-left:0;padding-left:16px}}@media only screen and (min-width:575px) and (max-width:767px){.lnsFrameLayout__sidebar--right .lnsConfigPanel{margin-left:0;padding-left:16px}}@media only screen and (min-width:768px) and (max-width:991px){.lnsFrameLayout__sidebar--right .lnsConfigPanel{margin-left:0;padding-left:16px}}.lnsFrameLayout__sidebar-isFullscreen{flex:1;max-width:none}',""]),e.exports=t},function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(306);case"v8light":return a(308)}},function(e,t,a){var n=a(67),r=a(307);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);n(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,a){(t=a(68)(!1)).push([e.i,"@keyframes euiFlyoutAnimation{0%{opacity:0;transform:translateX(100%)}75%{opacity:1;transform:translateX(0)}}.lnsSuggestionPanel .euiAccordion__buttonContent{width:100%}.lnsSuggestionPanel__suggestions{display:flex;margin-left:-4px;margin-right:-4px;-webkit-mask-image:linear-gradient(90deg,#f86b631a 0,#f86b63 5px,#f86b63 calc(100% - 5px),#f86b631a);mask-image:linear-gradient(90deg,#f86b631a 0,#f86b63 5px,#f86b63 calc(100% - 5px),#f86b631a);overflow-x:scroll;overflow-y:hidden;padding-left:4px;padding-right:4px;padding-top:4px;scrollbar-color:#98a2b380 #0000;scrollbar-width:thin}.lnsSuggestionPanel__suggestions::-webkit-scrollbar{height:16px;width:16px}.lnsSuggestionPanel__suggestions::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#98a2b380;border:6px solid #0000;border-radius:16px}.lnsSuggestionPanel__suggestions::-webkit-scrollbar-corner,.lnsSuggestionPanel__suggestions::-webkit-scrollbar-track{background-color:#0000}.lnsSuggestionPanel__button{box-shadow:none!important;flex:0 0 auto;height:100px;margin-bottom:2px;margin-left:2px;margin-right:8px;padding:0 8px;position:relative}.lnsSuggestionPanel__button:focus{outline:2px solid currentColor;transform:none!important}.lnsSuggestionPanel__button:focus:focus-visible{outline-style:auto}.lnsSuggestionPanel__button:focus:not(:focus-visible){outline:none}.lnsSuggestionPanel__button .lnsSuggestionPanel__expressionRenderer{position:static}.lnsSuggestionPanel__button-isSelected{background-color:#25262e!important;border-color:#535966!important}.lnsSuggestionPanel__button-isSelected:not(:focus){box-shadow:none!important}.lnsSuggestionPanel__button-isSelected:focus{outline:2px solid currentColor}.lnsSuggestionPanel__button-isSelected:focus:focus-visible{outline-style:auto}.lnsSuggestionPanel__button-isSelected:focus:not(:focus-visible){outline:none}.lnsSuggestionPanel__button-isSelected:hover{transform:none!important}.lnsSuggestionPanel__button-fixedWidth{width:150px!important}.lnsSuggestionPanel__suggestionIcon{align-items:center;color:#98a2b3;display:flex;height:100%;justify-content:center;padding:8px;width:100%}.lnsSuggestionPanel__suggestionIcon:not(:only-child){height:calc(100% - 24px)}.lnsSuggestionPanel__chartWrapper{display:flex;height:100%;pointer-events:none;width:100%}.lnsSuggestionPanel__chartWrapper--withLabel{height:calc(100% - 24px)}.lnsSuggestionPanel__buttonLabel{display:block;flex-grow:0;font-size:12px;font-size:.85714rem;font-weight:700;line-height:1.14286rem;max-width:100%;overflow:hidden!important;text-align:center;text-overflow:ellipsis!important;white-space:nowrap!important}.lnsSuggestionPanel__applyChangesPrompt{align-items:center;background-color:#25262e!important;display:flex;flex-direction:column;height:100px;justify-content:center}",""]),e.exports=t},function(e,t,a){var n=a(67),r=a(309);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);n(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,a){(t=a(68)(!1)).push([e.i,"@keyframes euiFlyoutAnimation{0%{opacity:0;transform:translateX(100%)}75%{opacity:1;transform:translateX(0)}}.lnsSuggestionPanel .euiAccordion__buttonContent{width:100%}.lnsSuggestionPanel__suggestions{display:flex;margin-left:-4px;margin-right:-4px;-webkit-mask-image:linear-gradient(90deg,#bd271e1a 0,#bd271e 5px,#bd271e calc(100% - 5px),#bd271e1a);mask-image:linear-gradient(90deg,#bd271e1a 0,#bd271e 5px,#bd271e calc(100% - 5px),#bd271e1a);overflow-x:scroll;overflow-y:hidden;padding-left:4px;padding-right:4px;padding-top:4px;scrollbar-color:#69707d80 #0000;scrollbar-width:thin}.lnsSuggestionPanel__suggestions::-webkit-scrollbar{height:16px;width:16px}.lnsSuggestionPanel__suggestions::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#69707d80;border:6px solid #0000;border-radius:16px}.lnsSuggestionPanel__suggestions::-webkit-scrollbar-corner,.lnsSuggestionPanel__suggestions::-webkit-scrollbar-track{background-color:#0000}.lnsSuggestionPanel__button{box-shadow:none!important;flex:0 0 auto;height:100px;margin-bottom:2px;margin-left:2px;margin-right:8px;padding:0 8px;position:relative}.lnsSuggestionPanel__button:focus{outline:2px solid currentColor;transform:none!important}.lnsSuggestionPanel__button:focus:focus-visible{outline-style:auto}.lnsSuggestionPanel__button:focus:not(:focus-visible){outline:none}.lnsSuggestionPanel__button .lnsSuggestionPanel__expressionRenderer{position:static}.lnsSuggestionPanel__button-isSelected{background-color:#f5f7fa!important;border-color:#98a2b3!important}.lnsSuggestionPanel__button-isSelected:not(:focus){box-shadow:none!important}.lnsSuggestionPanel__button-isSelected:focus{outline:2px solid currentColor}.lnsSuggestionPanel__button-isSelected:focus:focus-visible{outline-style:auto}.lnsSuggestionPanel__button-isSelected:focus:not(:focus-visible){outline:none}.lnsSuggestionPanel__button-isSelected:hover{transform:none!important}.lnsSuggestionPanel__button-fixedWidth{width:150px!important}.lnsSuggestionPanel__suggestionIcon{align-items:center;color:#69707d;display:flex;height:100%;justify-content:center;padding:8px;width:100%}.lnsSuggestionPanel__suggestionIcon:not(:only-child){height:calc(100% - 24px)}.lnsSuggestionPanel__chartWrapper{display:flex;height:100%;pointer-events:none;width:100%}.lnsSuggestionPanel__chartWrapper--withLabel{height:calc(100% - 24px)}.lnsSuggestionPanel__buttonLabel{display:block;flex-grow:0;font-size:12px;font-size:.85714rem;font-weight:700;line-height:1.14286rem;max-width:100%;overflow:hidden!important;text-align:center;text-overflow:ellipsis!important;white-space:nowrap!important}.lnsSuggestionPanel__applyChangesPrompt{align-items:center;background-color:#f5f7fa!important;display:flex;flex-direction:column;height:100px;justify-content:center}",""]),e.exports=t},function(e,t,a){var n=a(67),r=a(311);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);n(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,a){(t=a(68)(!1)).push([e.i,"@keyframes euiFlyoutAnimation{0%{opacity:0;transform:translateX(100%)}75%{opacity:1;transform:translateX(0)}}.lnsWorkspacePanelWrapper{display:flex;flex-direction:column;height:100%;margin-bottom:16px;min-height:400px;overflow:visible;position:relative}.lnsWorkspacePanelWrapper .lnsWorkspacePanelWrapper__content{height:100%;position:absolute;width:100%}.lnsWorkspacePanelWrapper .lnsWorkspacePanelWrapper__pageContentBody{align-items:stretch;background:#1d1e24;border-radius:6px;box-shadow:0 .9px 4px -1px #0003,0 2.6px 8px -1px #00000026,0 5.7px 12px -1px rgba(0,0,0,.125),0 15px 15px -1px #0000001a;display:flex;flex-grow:1;height:100%;justify-content:stretch;scrollbar-color:#98a2b380 #0000;scrollbar-width:thin}.lnsWorkspacePanelWrapper .lnsWorkspacePanelWrapper__pageContentBody::-webkit-scrollbar{height:16px;width:16px}.lnsWorkspacePanelWrapper .lnsWorkspacePanelWrapper__pageContentBody::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#98a2b380;border:6px solid #0000;border-radius:16px}.lnsWorkspacePanelWrapper .lnsWorkspacePanelWrapper__pageContentBody::-webkit-scrollbar-corner,.lnsWorkspacePanelWrapper .lnsWorkspacePanelWrapper__pageContentBody::-webkit-scrollbar-track{background-color:#0000}.lnsWorkspacePanelWrapper .lnsWorkspacePanelWrapper__pageContentBody>*{align-items:center;display:flex;flex:1 1 100%;justify-content:center;overflow:hidden}.lnsWorkspacePanelWrapper.lnsWorkspacePanelWrapper--fullscreen{margin-bottom:0}.lnsWorkspacePanelWrapper.lnsWorkspacePanelWrapper--fullscreen .lnsWorkspacePanelWrapper__pageContentBody{box-shadow:none}.lnsWorkspacePanel__dragDrop{border:1px solid #0000}.lnsWorkspacePanel__dragDrop.domDragDrop-isDropTarget p{filter:blur(5px);transition:filter .15s ease-in-out}.lnsWorkspacePanel__dragDrop.domDragDrop-isDropTarget .lnsExpressionRenderer{filter:blur(4px);opacity:.25;transition:filter .25s ease-in-out,opacity .25s ease-in-out}.lnsWorkspacePanel__dragDrop.domDragDrop-isActiveDropTarget .lnsDropIllustration__hand{animation:lnsWorkspacePanel__illustrationPulseContinuous 1.5s ease-in-out 0s infinite normal forwards}.lnsWorkspacePanel__dragDrop.lnsWorkspacePanel__dragDrop--fullscreen{border:none}.lnsWorkspacePanel__emptyContent{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;transition:background-color .15s ease-in-out}.lnsWorkspacePanel__emptyContent .lnsWorkspacePanel__actions{margin-top:24px}.lnsWorkspacePanelWrapper__toolbar{margin-bottom:4px}.lnsWorkspacePanelWrapper__toolbar--fullscreen{background-color:#1d1e24;justify-content:flex-end;margin-bottom:0;padding:8px 8px 0}@media only screen and (max-width:574px){.lnsWorkspacePanelWrapper__applyButton .euiButton__text{clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;left:-10000px;margin:-1px;overflow:hidden;position:absolute;top:auto;width:1px}}@media only screen and (min-width:575px) and (max-width:767px){.lnsWorkspacePanelWrapper__applyButton .euiButton__text{clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;left:-10000px;margin:-1px;overflow:hidden;position:absolute;top:auto;width:1px}}@media only screen and (min-width:768px) and (max-width:991px){.lnsWorkspacePanelWrapper__applyButton .euiButton__text{clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;left:-10000px;margin:-1px;overflow:hidden;position:absolute;top:auto;width:1px}}@media only screen and (min-width:992px) and (max-width:1199px){.lnsWorkspacePanelWrapper__applyButton .euiButton__text{clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;left:-10000px;margin:-1px;overflow:hidden;position:absolute;top:auto;width:1px}}.lnsWorkspacePanel__promptIllustration{margin:0 auto -16px;max-height:176px;max-width:176px;overflow:visible}.lnsWorkspacePanel__dropIllustration{filter:drop-shadow(0 6px 12px rgba(0,0,0,.2)) drop-shadow(0 4px 4px rgba(0,0,0,.2)) drop-shadow(0 2px 2px rgba(0,0,0,.2))}.lnsDropIllustration__adjustFill{fill:#fff}.lnsDropIllustration__hand{animation:lnsWorkspacePanel__illustrationPulseArrow 5s ease-in-out 0s infinite normal forwards}@keyframes lnsWorkspacePanel__illustrationPulseArrow{0%{transform:translateY(0)}65%{transform:translateY(0)}72%{transform:translateY(10%)}79%{transform:translateY(7%)}86%{transform:translateY(10%)}95%{transform:translateY(0)}}@keyframes lnsWorkspacePanel__illustrationPulseContinuous{0%{transform:translateY(10%)}25%{transform:translateY(15%)}50%{transform:translateY(10%)}75%{transform:translateY(15%)}to{transform:translateY(10%)}}.lnsVisualizationToolbar--fixed{background-color:#25262e;position:fixed;width:100%;z-index:1}",""]),e.exports=t},function(e,t,a){var n=a(67),r=a(313);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);n(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,a){(t=a(68)(!1)).push([e.i,"@keyframes euiFlyoutAnimation{0%{opacity:0;transform:translateX(100%)}75%{opacity:1;transform:translateX(0)}}.lnsWorkspacePanelWrapper{display:flex;flex-direction:column;height:100%;margin-bottom:16px;min-height:400px;overflow:visible;position:relative}.lnsWorkspacePanelWrapper .lnsWorkspacePanelWrapper__content{height:100%;position:absolute;width:100%}.lnsWorkspacePanelWrapper .lnsWorkspacePanelWrapper__pageContentBody{align-items:stretch;background:#fff;border-radius:6px;box-shadow:0 .9px 4px -1px #00000014,0 2.6px 8px -1px #0000000f,0 5.7px 12px -1px #0000000d,0 15px 15px -1px #0000000a;display:flex;flex-grow:1;height:100%;justify-content:stretch;scrollbar-color:#69707d80 #0000;scrollbar-width:thin}.lnsWorkspacePanelWrapper .lnsWorkspacePanelWrapper__pageContentBody::-webkit-scrollbar{height:16px;width:16px}.lnsWorkspacePanelWrapper .lnsWorkspacePanelWrapper__pageContentBody::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#69707d80;border:6px solid #0000;border-radius:16px}.lnsWorkspacePanelWrapper .lnsWorkspacePanelWrapper__pageContentBody::-webkit-scrollbar-corner,.lnsWorkspacePanelWrapper .lnsWorkspacePanelWrapper__pageContentBody::-webkit-scrollbar-track{background-color:#0000}.lnsWorkspacePanelWrapper .lnsWorkspacePanelWrapper__pageContentBody>*{align-items:center;display:flex;flex:1 1 100%;justify-content:center;overflow:hidden}.lnsWorkspacePanelWrapper.lnsWorkspacePanelWrapper--fullscreen{margin-bottom:0}.lnsWorkspacePanelWrapper.lnsWorkspacePanelWrapper--fullscreen .lnsWorkspacePanelWrapper__pageContentBody{box-shadow:none}.lnsWorkspacePanel__dragDrop{border:1px solid #0000}.lnsWorkspacePanel__dragDrop.domDragDrop-isDropTarget p{filter:blur(5px);transition:filter .15s ease-in-out}.lnsWorkspacePanel__dragDrop.domDragDrop-isDropTarget .lnsExpressionRenderer{filter:blur(4px);opacity:.25;transition:filter .25s ease-in-out,opacity .25s ease-in-out}.lnsWorkspacePanel__dragDrop.domDragDrop-isActiveDropTarget .lnsDropIllustration__hand{animation:lnsWorkspacePanel__illustrationPulseContinuous 1.5s ease-in-out 0s infinite normal forwards}.lnsWorkspacePanel__dragDrop.lnsWorkspacePanel__dragDrop--fullscreen{border:none}.lnsWorkspacePanel__emptyContent{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;transition:background-color .15s ease-in-out}.lnsWorkspacePanel__emptyContent .lnsWorkspacePanel__actions{margin-top:24px}.lnsWorkspacePanelWrapper__toolbar{margin-bottom:4px}.lnsWorkspacePanelWrapper__toolbar--fullscreen{background-color:#fff;justify-content:flex-end;margin-bottom:0;padding:8px 8px 0}@media only screen and (max-width:574px){.lnsWorkspacePanelWrapper__applyButton .euiButton__text{clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;left:-10000px;margin:-1px;overflow:hidden;position:absolute;top:auto;width:1px}}@media only screen and (min-width:575px) and (max-width:767px){.lnsWorkspacePanelWrapper__applyButton .euiButton__text{clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;left:-10000px;margin:-1px;overflow:hidden;position:absolute;top:auto;width:1px}}@media only screen and (min-width:768px) and (max-width:991px){.lnsWorkspacePanelWrapper__applyButton .euiButton__text{clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;left:-10000px;margin:-1px;overflow:hidden;position:absolute;top:auto;width:1px}}@media only screen and (min-width:992px) and (max-width:1199px){.lnsWorkspacePanelWrapper__applyButton .euiButton__text{clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;left:-10000px;margin:-1px;overflow:hidden;position:absolute;top:auto;width:1px}}.lnsWorkspacePanel__promptIllustration{margin:0 auto -16px;max-height:176px;max-width:176px;overflow:visible}.lnsWorkspacePanel__dropIllustration{filter:drop-shadow(0 6px 12px rgba(0,0,0,.2)) drop-shadow(0 4px 4px rgba(0,0,0,.2)) drop-shadow(0 2px 2px rgba(0,0,0,.2))}.lnsDropIllustration__adjustFill{fill:#000}.lnsDropIllustration__hand{animation:lnsWorkspacePanel__illustrationPulseArrow 5s ease-in-out 0s infinite normal forwards}@keyframes lnsWorkspacePanel__illustrationPulseArrow{0%{transform:translateY(0)}65%{transform:translateY(0)}72%{transform:translateY(10%)}79%{transform:translateY(7%)}86%{transform:translateY(10%)}95%{transform:translateY(0)}}@keyframes lnsWorkspacePanel__illustrationPulseContinuous{0%{transform:translateY(10%)}25%{transform:translateY(15%)}50%{transform:translateY(10%)}75%{transform:translateY(15%)}to{transform:translateY(10%)}}.lnsVisualizationToolbar--fixed{background-color:#f5f7fa;position:fixed;width:100%;z-index:1}",""]),e.exports=t},function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(315);case"v8light":return a(317)}},function(e,t,a){var n=a(67),r=a(316);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);n(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,a){(t=a(68)(!1)).push([e.i,".lnsChartSwitch__header>*{align-items:center;display:flex}.lnsChartSwitch__summaryIcon{color:#7a7f89;transform:translateY(-1px)}@media only screen and (min-width:1200px){.lnsChartSwitch__summaryIcon{margin-right:8px}}@media only screen and (max-width:574px){.lnsChartSwitch__summaryText{clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;left:-10000px;margin:-1px;overflow:hidden;position:absolute;top:auto;width:1px}}@media only screen and (min-width:575px) and (max-width:767px){.lnsChartSwitch__summaryText{clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;left:-10000px;margin:-1px;overflow:hidden;position:absolute;top:auto;width:1px}}@media only screen and (min-width:768px) and (max-width:991px){.lnsChartSwitch__summaryText{clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;left:-10000px;margin:-1px;overflow:hidden;position:absolute;top:auto;width:1px}}@media only screen and (min-width:992px) and (max-width:1199px){.lnsChartSwitch__summaryText{clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;left:-10000px;margin:-1px;overflow:hidden;position:absolute;top:auto;width:1px}}.lnsChartSwitch__append{display:inline-flex}img.lnsChartSwitch__chartIcon{width:100%}.lnsChartSwitch__search{width:400px}",""]),e.exports=t},function(e,t,a){var n=a(67),r=a(318);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);n(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,a){(t=a(68)(!1)).push([e.i,".lnsChartSwitch__header>*{align-items:center;display:flex}.lnsChartSwitch__summaryIcon{color:#69707d;transform:translateY(-1px)}@media only screen and (min-width:1200px){.lnsChartSwitch__summaryIcon{margin-right:8px}}@media only screen and (max-width:574px){.lnsChartSwitch__summaryText{clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;left:-10000px;margin:-1px;overflow:hidden;position:absolute;top:auto;width:1px}}@media only screen and (min-width:575px) and (max-width:767px){.lnsChartSwitch__summaryText{clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;left:-10000px;margin:-1px;overflow:hidden;position:absolute;top:auto;width:1px}}@media only screen and (min-width:768px) and (max-width:991px){.lnsChartSwitch__summaryText{clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;left:-10000px;margin:-1px;overflow:hidden;position:absolute;top:auto;width:1px}}@media only screen and (min-width:992px) and (max-width:1199px){.lnsChartSwitch__summaryText{clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;left:-10000px;margin:-1px;overflow:hidden;position:absolute;top:auto;width:1px}}.lnsChartSwitch__append{display:inline-flex}img.lnsChartSwitch__chartIcon{width:100%}.lnsChartSwitch__search{width:400px}",""]),e.exports=t},function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(320);case"v8light":return a(322)}},function(e,t,a){var n=a(67),r=a(321);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);n(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,a){(t=a(68)(!1)).push([e.i,'@media only screen and (max-width:574px){.lnsWorkspaceWarning__buttonText{clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;left:-10000px;margin:-1px;overflow:hidden;position:absolute;top:auto;width:1px}}@media only screen and (min-width:575px) and (max-width:767px){.lnsWorkspaceWarning__buttonText{clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;left:-10000px;margin:-1px;overflow:hidden;position:absolute;top:auto;width:1px}}@media only screen and (min-width:768px) and (max-width:991px){.lnsWorkspaceWarning__buttonText{clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;left:-10000px;margin:-1px;overflow:hidden;position:absolute;top:auto;width:1px}}@media only screen and (min-width:992px) and (max-width:1199px){.lnsWorkspaceWarning__buttonText{clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;left:-10000px;margin:-1px;overflow:hidden;position:absolute;top:auto;width:1px}}.lnsWorkspaceWarningList{height:100%;max-height:320px;overflow-x:hidden;overflow-y:auto;scrollbar-color:#98a2b380 #0000;scrollbar-width:thin;width:256px}.lnsWorkspaceWarningList::-webkit-scrollbar{height:16px;width:16px}.lnsWorkspaceWarningList::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#98a2b380;border:6px solid #0000;border-radius:16px}.lnsWorkspaceWarningList::-webkit-scrollbar-corner,.lnsWorkspaceWarningList::-webkit-scrollbar-track{background-color:#0000}.lnsWorkspaceWarningList:focus{outline:none}.lnsWorkspaceWarningList[tabindex="0"]:focus:focus-visible{outline-style:auto}.lnsWorkspaceWarningList__item+.lnsWorkspaceWarningList__item{border-top:1px solid #343741}.lnsWorkspaceWarningList__textItem{padding:16px}.lnsWorkspaceWarningList__description{min-width:0;overflow-wrap:break-word}',""]),e.exports=t},function(e,t,a){var n=a(67),r=a(323);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);n(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,a){(t=a(68)(!1)).push([e.i,'@media only screen and (max-width:574px){.lnsWorkspaceWarning__buttonText{clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;left:-10000px;margin:-1px;overflow:hidden;position:absolute;top:auto;width:1px}}@media only screen and (min-width:575px) and (max-width:767px){.lnsWorkspaceWarning__buttonText{clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;left:-10000px;margin:-1px;overflow:hidden;position:absolute;top:auto;width:1px}}@media only screen and (min-width:768px) and (max-width:991px){.lnsWorkspaceWarning__buttonText{clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;left:-10000px;margin:-1px;overflow:hidden;position:absolute;top:auto;width:1px}}@media only screen and (min-width:992px) and (max-width:1199px){.lnsWorkspaceWarning__buttonText{clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;left:-10000px;margin:-1px;overflow:hidden;position:absolute;top:auto;width:1px}}.lnsWorkspaceWarningList{height:100%;max-height:320px;overflow-x:hidden;overflow-y:auto;scrollbar-color:#69707d80 #0000;scrollbar-width:thin;width:256px}.lnsWorkspaceWarningList::-webkit-scrollbar{height:16px;width:16px}.lnsWorkspaceWarningList::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#69707d80;border:6px solid #0000;border-radius:16px}.lnsWorkspaceWarningList::-webkit-scrollbar-corner,.lnsWorkspaceWarningList::-webkit-scrollbar-track{background-color:#0000}.lnsWorkspaceWarningList:focus{outline:none}.lnsWorkspaceWarningList[tabindex="0"]:focus:focus-visible{outline-style:auto}.lnsWorkspaceWarningList__item+.lnsWorkspaceWarningList__item{border-top:1px solid #d3dae6}.lnsWorkspaceWarningList__textItem{padding:16px}.lnsWorkspaceWarningList__description{min-width:0;overflow-wrap:break-word}',""]),e.exports=t},function(e,t,a){e.exports=a.p+"45188dbc89267e9797b89282522041e9.png"},function(e,t,a){e.exports=a.p+"6674a34547270955e8a25748a9e3d7a5.png"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"f",(function(){return o})),a.d(t,"i",(function(){return i})),a.d(t,"h",(function(){return s})),a.d(t,"d",(function(){return l})),a.d(t,"c",(function(){return c})),a.d(t,"b",(function(){return d})),a.d(t,"e",(function(){return u})),a.d(t,"g",(function(){return p}));var n=a(215);function r(e,t,a,n,r){return 0===n?r+t:s(t+(e-a)*r/n)}function o(e,t,{prevPalette:a,dataBounds:o,mapFromMinValue:s,defaultPaletteName:c}){const{min:d,max:u}=function(e,t){var a,n,r,o,i,s;const{min:c,max:d}=l(null==e?void 0:e.rangeType,t),u=null!==(a=null==e||null===(n=e.colorStops)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.stop)&&void 0!==a?a:Number.POSITIVE_INFINITY,p=null!==(o=null==e||null===(i=e.colorStops)||void 0===i||null===(s=i[e.colorStops.length-1])||void 0===s?void 0:s.stop)&&void 0!==o?o:Number.NEGATIVE_INFINITY;return{min:Math.min(c,u),max:Math.max(d,p)}}(t,o),p=u-d,{stops:g,...b}=t||{};if("custom"===t.name&&null!=t&&t.colorStops)return i(t.colorStops,u);const m=(null==t?void 0:t.steps)||n.b,f=e.get(a||(null==t?void 0:t.name)||c||n.f).getCategoricalColors(m,b),x=s||0===p?d:p/m;return function(e,{newInterval:t,oldInterval:a,newMin:n,oldMin:o}){return(e||[]).map((({color:e,stop:i})=>({color:e,stop:r(i,n,o,a,t)})))}(f.map(((e,t)=>({color:e,stop:t}))),{newInterval:p,oldInterval:f.length,newMin:x,oldMin:0})}function i(e,t){const a=e.map(((e,a,n)=>({...e,stop:a+1<n.length?n[a+1].stop:t})));if(e[e.length-1].stop===t){const n=function(e,t,a){const n=t.length,r=n>1&&t[n-1].stop-t[n-2].stop||1;let o=Number(r.toFixed(2));if(a<e[n-1].stop+o){const t=a-e[n-1].stop;o=t>0?t:1}return o}(e,a,t)||1,r=Math.min(1,n);a[e.length-1].stop=t+r}return a}function s(e,t=2){return Number((Math.floor(100*e)/100).toFixed(t))}function l(e,t){return{min:"number"===e?t.min:n.e,max:"number"===e?t.max:n.d}}const c=e=>Boolean(e&&["below","all"].includes(e)),d=e=>Boolean(e&&["above","all"].includes(e)),u=(e="percent")=>"percent"===e?{min:0,max:100,fallback:!0}:{min:1,max:1,fallback:!0};function p(e=[]){const t=e.map((({stop:e})=>e));return e.map((({color:a},n)=>({color:a,stop:t[e.length-n-1]}))).reverse()}},,,,,,,,function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(42);const r=e=>!(Object(n.isNestedField)(e)||!e.aggregatable&&!e.scripted)}])]);