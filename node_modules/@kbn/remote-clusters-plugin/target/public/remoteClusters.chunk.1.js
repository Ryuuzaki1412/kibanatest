/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.remoteClusters_bundle_jsonpfunction=window.remoteClusters_bundle_jsonpfunction||[]).push([[1],{28:function(e,t,s){e.exports=s(11)(3)},29:function(e,t,s){"use strict";var r,a=function(){var e={};return function(t){if(void 0===e[t]){var s=document.querySelector(t);if(window.HTMLIFrameElement&&s instanceof window.HTMLIFrameElement)try{s=s.contentDocument.head}catch(e){s=null}e[t]=s}return e[t]}}(),o=[];function l(e){for(var t=-1,s=0;s<o.length;s++)if(o[s].identifier===e){t=s;break}return t}function i(e,t){for(var s={},r=[],a=0;a<e.length;a++){var i=e[a],n=t.base?i[0]+t.base:i[0],u=s[n]||0,c="".concat(n," ").concat(u);s[n]=u+1;var d=l(c),m={css:i[1],media:i[2],sourceMap:i[3]};-1!==d?(o[d].references++,o[d].updater(m)):o.push({identifier:c,updater:b(m,t),references:1}),r.push(c)}return r}function n(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var o=s.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var l=a(e.insert||"head");if(!l)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");l.appendChild(t)}return t}var u,c=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function d(e,t,s,r){var a=s?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=c(t,a);else{var o=document.createTextNode(a),l=e.childNodes;l[t]&&e.removeChild(l[t]),l.length?e.insertBefore(o,l[t]):e.appendChild(o)}}function m(e,t,s){var r=s.css,a=s.media,o=s.sourceMap;if(a?e.setAttribute("media",a):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var j=null,p=0;function b(e,t){var s,r,a;if(t.singleton){var o=p++;s=j||(j=n(t)),r=d.bind(null,s,o,!1),a=d.bind(null,s,o,!0)}else s=n(t),r=m.bind(null,s,t),a=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(s)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else a()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var s=i(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<s.length;r++){var a=l(s[r]);o[a].references--}for(var n=i(e,t),u=0;u<s.length;u++){var c=l(s[u]);0===o[c].references&&(o[c].updater(),o.splice(c,1))}s=n}}}},30:function(e,t,s){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var s=function(e,t){var s,r,a,o=e[1]||"",l=e[3];if(!l)return o;if(t&&"function"==typeof btoa){var i=(s=l,r=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),"/*# ".concat(a," */")),n=l.sources.map((function(e){return"/*# sourceURL=".concat(l.sourceRoot||"").concat(e," */")}));return[o].concat(n).concat([i]).join("\n")}return[o].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(s,"}"):s})).join("")},t.i=function(e,s,r){"string"==typeof e&&(e=[[null,e,""]]);var a={};if(r)for(var o=0;o<this.length;o++){var l=this[o][0];null!=l&&(a[l]=!0)}for(var i=0;i<e.length;i++){var n=[].concat(e[i]);r&&a[n[0]]||(s&&(n[2]?n[2]="".concat(s," and ").concat(n[2]):n[2]=s),t.push(n))}},t}},31:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(23),a=s(32),o=r.__importDefault(s(34));t.default=function(e,t){o.default(e,t,a.isDeepEqual)}},32:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDeepEqual=t.off=t.on=t.isClient=void 0;var r=s(23).__importDefault(s(33));t.isClient="object"==typeof window,t.on=function(e){for(var t=[],s=1;s<arguments.length;s++)t[s-1]=arguments[s];return e.addEventListener.apply(e,t)},t.off=function(e){for(var t=[],s=1;s<arguments.length;s++)t[s-1]=arguments[s];return e.removeEventListener.apply(e,t)},t.isDeepEqual=r.default},33:function(e,t,s){"use strict";e.exports=function e(t,s){if(t===s)return!0;if(t&&s&&"object"==typeof t&&"object"==typeof s){if(t.constructor!==s.constructor)return!1;var r,a,o;if(Array.isArray(t)){if((r=t.length)!=s.length)return!1;for(a=r;0!=a--;)if(!e(t[a],s[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===s.source&&t.flags===s.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===s.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===s.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(s).length)return!1;for(a=r;0!=a--;)if(!Object.prototype.hasOwnProperty.call(s,o[a]))return!1;for(a=r;0!=a--;){var l=o[a];if(!("_owner"===l&&t.$$typeof||e(t[l],s[l])))return!1}return!0}return t!=t&&s!=s}},34:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(15);t.default=function(e,t,s){var a=r.useRef(void 0);a.current&&s(t,a.current)||(a.current=t),r.useEffect(e,a.current)}},35:function(e,t,s){"use strict";function r(e){return function(t){var s=t.dispatch,r=t.getState;return function(t){return function(a){return"function"==typeof a?a(s,r,e):t(a)}}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r();a.withExtraArgument=r;var o=a;t.default=o},36:function(e,t,s){switch(window.__kbnThemeTag__){case"v8dark":return s(37);case"v8light":return s(39)}},37:function(e,t,s){var r=s(29),a=s(38);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);r(a,{insert:"head",singleton:!1}),e.exports=a.locals||{}},38:function(e,t,s){(t=s(30)(!1)).push([e.i,".remoteClusterSkipIfUnavailableSwitch{justify-content:flex-start!important;padding-top:8px!important}.remoteClustersConnectionStatus__message{flex-basis:auto!important}",""]),e.exports=t},39:function(e,t,s){var r=s(29),a=s(40);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);r(a,{insert:"head",singleton:!1}),e.exports=a.locals||{}},40:function(e,t,s){(t=s(30)(!1)).push([e.i,".remoteClusterSkipIfUnavailableSwitch{justify-content:flex-start!important;padding-top:8px!important}.remoteClustersConnectionStatus__message{flex-basis:auto!important}",""]),e.exports=t},41:function(e,t,s){"use strict";s.r(t),s.d(t,"renderApp",(function(){return vt}));var r=s(15),a=s.n(r),o=s(27),l=s(19),i=s(21),n=s(20),u=s(22),c=s(28),d=s.n(c);const m={services:{}},j=Object(r.createContext)(m);var p=s(31),b=s.n(p),x=s(16);const g=({children:e,component:t,render:s,...o})=>{const l=Object(r.useMemo)((()=>{if(t)return e=>Object(x.jsx)(a.a.Fragment,null,Object(x.jsx)(C,null),Object(x.jsx)(t,e))}),[t]);if(l)return Object(x.jsx)(u.Route,d()({},o,{component:l}));if(s||"function"==typeof e){const t="function"==typeof e?e:s;return Object(x.jsx)(u.Route,d()({},o,{render:e=>Object(x.jsx)(a.a.Fragment,null,Object(x.jsx)(C,null),t(e))}))}return Object(x.jsx)(u.Route,o,Object(x.jsx)(C,null),e)},C=()=>{const{executionContext:e}=Object(r.useContext)(j).services,t=Object(u.useRouteMatch)();return function(e,t){b()((()=>(null==e||e.set(t),()=>{null==e||e.clear()})),[t])}(e,{type:"application",page:t.path,id:Object.keys(t.params).length>0?JSON.stringify(t.params):void 0}),null};var f=s(24);const O=({children:e,...t})=>Object(x.jsx)(u.Router,t,Object(x.jsx)(f.CompatRouter,null,e));var h=s(25);const E=({legacySwitch:e=!0,children:t})=>{const s=Object(u.useRouteMatch)();return e?Object(x.jsx)(u.Switch,null,t):Object(x.jsx)(f.Routes,null,r.Children.map(t,(e=>{if(a.a.isValidElement(e)&&e.type===g){var r;const o=Object(h.replace)(null==e?void 0:e.props.path,s.url+"/",""),l="function"==typeof(null==e?void 0:e.props.children)?null==e?void 0:e.props.children:null==e?void 0:e.props.render;return Object(x.jsx)(f.Route,{path:o,element:Object(x.jsx)(a.a.Fragment,null,Object(x.jsx)(C,null),(null==e||null===(r=e.props)||void 0===r?void 0:r.component)&&Object(x.jsx)(e.props.component,null)||l&&l()||t)})}return e})))};var y=s(8),M=s(6),v=s(10);async function F(e){return await Object(v.c)(void 0,e)}async function k(e){const t=Object(v.d)("",e);return await Object(M.d)(t,y.c)}async function S(e){const{name:t,...s}=e,r=Object(v.e)(t,s);return await Object(M.d)(r,y.f)}var T=s(7);var L=s(5),D=s(9);let R,N=!1;function P(e){N=e}function _(){return R}const w=e=>e.clusters.asList,A=e=>e.clusters.byName,B=e=>e.detailPanel.isOpen,I=e=>((e,t)=>A(e)[t])(e,e.detailPanel.clusterName),U=e=>e.detailPanel.clusterName,z=e=>e.clusters.isLoading,W=e=>e.clusters.clusterLoadError,q=e=>e.addCluster.isAdding,H=e=>e.addCluster.error,V=e=>A(e)[e.editCluster.clusterName],$=e=>e.editCluster.isEditing,G=e=>e.editCluster.error,K=e=>e.removeCluster.isRemoving;var Y=s(0);const Q="OPEN_DETAIL_PANEL",J="CLOSE_DETAIL_PANEL",Z="LOAD_CLUSTERS_START",X="LOAD_CLUSTERS_SUCCESS",ee="LOAD_CLUSTERS_FAILURE",te="REFRESH_CLUSTERS_SUCCESS",se="ADD_CLUSTER_START",re="ADD_CLUSTER_SUCCESS",ae="ADD_CLUSTER_FAILURE",oe="CLEAR_ADD_CLUSTER_ERRORS",le="EDIT_CLUSTER_START",ie="EDIT_CLUSTER_STOP",ne="EDIT_CLUSTER_SAVE",ue="EDIT_CLUSTER_SUCCESS",ce="EDIT_CLUSTER_FAILURE",de="CLEAR_EDIT_CLUSTER_ERRORS",me="REMOVE_CLUSTERS_START",je="REMOVE_CLUSTERS_FINISH",pe=({name:e})=>t=>{const{history:s}=_(),r=s.location.search,{cluster:a}=Object(i.extractQueryParams)(r);a!==e&&s.replace({search:`?cluster=${e}`}),t({type:Q,payload:{clusterName:e}})},be=()=>e=>{e({type:J})};function xe(e,t=null){return 1!==e?Y.i18n.translate("xpack.remoteClusters.removeAction.errorMultipleNotificationTitle",{defaultMessage:"Error removing {count} remote clusters",values:{count:e}}):t?Y.i18n.translate("xpack.remoteClusters.removeAction.errorSingleNotificationTitle",{defaultMessage:"Error removing remote cluster '{name}'",values:{name:t}}):void 0}const ge=()=>async e=>{let t;e({type:Z});try{t=await F()}catch(t){return e({type:ee,payload:{error:t}})}e({type:X,payload:{clusters:t}})};var Ce=s(17),fe=s(18),Oe=s(4),he=s(2),Ee=s.n(he),ye=s(1);function Me({isConnected:e,mode:t}){const s=Y.i18n.translate("xpack.remoteClusters.connectedStatus.notConnectedToolTip",{defaultMessage:"Ensure the seed nodes are configured with the remote cluster's transport port, not the http port."});return Object(x.jsx)(fe.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},Object(x.jsx)(fe.EuiFlexItem,{grow:!1},Object(x.jsx)(fe.EuiBadge,{color:e?"success":"danger","data-test-subj":"remoteClusterConnectionStatusMessage"},e?Y.i18n.translate("xpack.remoteClusters.connectedStatus.connectedAriaLabel",{defaultMessage:"Connected"}):Y.i18n.translate("xpack.remoteClusters.connectedStatus.notConnectedAriaLabel",{defaultMessage:"Not connected"}))),!e&&t===ye.d&&Object(x.jsx)(fe.EuiFlexItem,{grow:!1},Object(x.jsx)(fe.EuiIconTip,{color:"subdued",content:s})))}class remove_cluster_button_provider_RemoveClusterButtonProvider extends r.Component{constructor(...e){super(...e),Ee()(this,"state",{isModalOpen:!1}),Ee()(this,"onMouseOverModal",(e=>{e.stopPropagation()})),Ee()(this,"showConfirmModal",(()=>{this.setState({isModalOpen:!0})})),Ee()(this,"closeConfirmModal",(()=>{this.setState({isModalOpen:!1})})),Ee()(this,"onConfirm",(()=>{const{removeClusters:e,clusterNames:t}=this.props;e(t),this.closeConfirmModal()}))}render(){const{clusterNames:e,children:t}=this.props,{isModalOpen:s}=this.state,o=1===e.length;let l;if(s){const t=o?Y.i18n.translate("xpack.remoteClusters.removeButton.confirmModal.deleteSingleClusterTitle",{defaultMessage:"Remove remote cluster '{name}'?",values:{name:e[0]}}):Y.i18n.translate("xpack.remoteClusters.removeButton.confirmModal.multipleDeletionTitle",{defaultMessage:"Remove {count} remote clusters?",values:{count:e.length}}),s=Object(x.jsx)(r.Fragment,null,Object(x.jsx)("p",null,Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.removeButton.confirmModal.multipleDeletionDescription",defaultMessage:"You are about to remove these remote clusters:"})),Object(x.jsx)("ul",null,e.map((e=>Object(x.jsx)("li",{key:e},e)))));l=Object(x.jsx)(a.a.Fragment,null,Object(x.jsx)(fe.EuiConfirmModal,{"data-test-subj":"remoteClustersDeleteConfirmModal",title:t,onCancel:this.closeConfirmModal,onConfirm:this.onConfirm,cancelButtonText:Y.i18n.translate("xpack.remoteClusters.removeButton.confirmModal.cancelButtonText",{defaultMessage:"Cancel"}),buttonColor:"danger",confirmButtonText:Y.i18n.translate("xpack.remoteClusters.removeButton.confirmModal.confirmButtonText",{defaultMessage:"Remove"}),onMouseOver:this.onMouseOverModal},!o&&s))}return Object(x.jsx)(r.Fragment,null,t(this.showConfirmModal),l)}}const ve=Object(l.connect)(void 0,(e=>({removeClusters:t=>{e((e=>async(t,s)=>{t({type:me});let r=[],a=[];var o;if(await Promise.all([(o=e.join(","),Object(v.b)(o)).then((e=>{({itemsDeleted:r,errors:a}=e)})),new Promise((e=>setTimeout(e,500)))]).catch((t=>{var s;const r=xe(e.length,e[0]);T.c.addDanger({title:r,text:null===(s=t.body)||void 0===s?void 0:s.message})})),a.length>0){const{name:e,error:{payload:{message:t}}}=a[0],s=xe(a.length,e);T.c.addDanger({title:s,text:t})}r.length>0&&(Object(M.c)(M.a.COUNT,e.length>1?y.e:y.d),1===r.length?T.c.addSuccess(Y.i18n.translate("xpack.remoteClusters.removeAction.successSingleNotificationTitle",{defaultMessage:"Remote cluster '{name}' was removed",values:{name:r[0]}})):T.c.addSuccess(Y.i18n.translate("xpack.remoteClusters.removeAction.successMultipleNotificationTitle",{defaultMessage:"{count} remote clusters were removed",values:{count:r.length}})));const l=U(s());l&&e.includes(l)&&t(be()),t({type:je,payload:r})})(t))}})))(remove_cluster_button_provider_RemoveClusterButtonProvider),Fe=(e,t)=>{if(t){const s=t.toLowerCase();return e.filter((e=>{const{name:t,seeds:r,proxyAddress:a}=e;return!!t.toLowerCase().toLowerCase().includes(s)||!(!a||!a.toLowerCase().includes(s))||!!r&&r.some((e=>e.includes(s)))}))}return e};class remote_cluster_table_RemoteClusterTable extends r.Component{static getDerivedStateFromProps(e,t){const{clusters:s}=e,{prevClusters:r,queryText:a}=t;return r!==s?{prevClusters:s,filteredClusters:Fe(s,a)}:null}constructor(e){super(e),Ee()(this,"onSearch",(({query:e})=>{if(!e)return;const{clusters:t}=this.props,{text:s}=e;this.setState({queryText:s,filteredClusters:Fe(t,s)})})),this.state={prevClusters:e.clusters,selectedItems:[],filteredClusters:e.clusters,queryText:""}}render(){const{openDetailPanel:e}=this.props,{selectedItems:t,filteredClusters:s}=this.state,{history:r}=_(),a=[{field:"name",name:Y.i18n.translate("xpack.remoteClusters.remoteClusterList.table.nameColumnTitle",{defaultMessage:"Name"}),sortable:!0,truncateText:!1,render:(t,{isConfiguredByNode:s,hasDeprecatedProxySetting:r})=>{const a=Object(x.jsx)(fe.EuiLink,{"data-test-subj":"remoteClustersTableListClusterLink",onClick:()=>{Object(M.c)(M.a.CLICK,y.g),e(t)}},t);return s?Object(x.jsx)(fe.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},Object(x.jsx)(fe.EuiFlexItem,{grow:!1},a),Object(x.jsx)(fe.EuiFlexItem,{grow:!1,"data-test-subj":"remoteClustersTableListClusterDefinedByNodeTooltip"},Object(x.jsx)(fe.EuiIconTip,{type:"iInCircle",color:"subdued",content:Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterList.table.isConfiguredByNodeMessage",defaultMessage:"Defined in elasticsearch.yml"})}))):r?Object(x.jsx)(fe.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},Object(x.jsx)(fe.EuiFlexItem,{grow:!1,"data-test-subj":"remoteClustersTableListClusterWithDeprecatedSettingTooltip"},a),Object(x.jsx)(fe.EuiFlexItem,{grow:!1,"data-test-subj":"remoteClustersTableListDeprecatedSetttingsTooltip"},Object(x.jsx)(fe.EuiIconTip,{type:"warning",color:"warning",content:Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterList.table.hasDeprecatedSettingMessage",defaultMessage:"Edit this cluster to update the deprecated settings."})}))):a}},{field:"isConnected",name:Y.i18n.translate("xpack.remoteClusters.remoteClusterList.table.connectedColumnTitle",{defaultMessage:"Status"}),sortable:!0,render:(e,{mode:t})=>Object(x.jsx)(Me,{isConnected:e,mode:t}),width:"240px"},{field:"mode",name:Y.i18n.translate("xpack.remoteClusters.remoteClusterList.table.modeColumnTitle",{defaultMessage:"Mode"}),sortable:!0,render:e=>{let t;return t=e===ye.c?e:Y.i18n.translate("xpack.remoteClusters.remoteClusterList.table.sniffModeDescription",{defaultMessage:"default"}),Object(x.jsx)(fe.EuiFlexItem,{grow:!1,className:"remoteClustersConnectionMode__message"},Object(x.jsx)(fe.EuiText,{id:"xpack.remoteClusters.remoteClusterList.table.sniffModeDescription","data-test-subj":"remoteClusterConnectionModeMessage",size:"s"},t))}},{field:"mode",name:Y.i18n.translate("xpack.remoteClusters.remoteClusterList.table.addressesColumnTitle",{defaultMessage:"Addresses"}),"data-test-subj":"remoteClustersAddress",truncateText:!0,render:(e,{seeds:t,proxyAddress:s})=>{const r=e===ye.c?s:t.join(", ");return Object(x.jsx)(fe.EuiFlexItem,{grow:!1,className:"remoteClustersConnectionAddress__message"},Object(x.jsx)(fe.EuiText,{"data-test-subj":"remoteClusterConnectionAddressMessage",size:"s"},r))}},{field:"mode",name:Y.i18n.translate("xpack.remoteClusters.remoteClusterList.table.connectionsColumnTitle",{defaultMessage:"Connections"}),sortable:!0,width:"160px",align:"right",render:(e,{connectedNodesCount:t,connectedSocketsCount:s})=>{const r=e===ye.c?s:t;return Object(x.jsx)(fe.EuiFlexItem,{grow:!1,className:"remoteClustersNodeCount__message"},Object(x.jsx)(fe.EuiText,{"data-test-subj":"remoteClusterNodeCountMessage",size:"s"},r))}},{name:Y.i18n.translate("xpack.remoteClusters.remoteClusterList.table.actionsColumnTitle",{defaultMessage:"Actions"}),width:"100px",actions:[{render:({name:e,isConfiguredByNode:t})=>{const s=t?Y.i18n.translate("xpack.remoteClusters.remoteClusterList.table.actionBlockedEditDescription",{defaultMessage:"Remote clusters defined in elasticsearch.yml can't be edited"}):Y.i18n.translate("xpack.remoteClusters.remoteClusterList.table.actionEditDescription",{defaultMessage:"Edit remote cluster"});return Object(x.jsx)(fe.EuiToolTip,{content:s,delay:"long"},Object(x.jsx)(fe.EuiButtonIcon,d()({"data-test-subj":"remoteClusterTableRowEditButton","aria-label":s,iconType:"pencil",color:"primary",isDisabled:t},Object(n.reactRouterNavigate)(r,`/edit/${e}`),{disabled:t})))}},{render:({name:e,isConfiguredByNode:t})=>{const s=t?Y.i18n.translate("xpack.remoteClusters.remoteClusterList.table.actionBlockedDeleteDescription",{defaultMessage:"Remote clusters defined in elasticsearch.yml can't be deleted"}):Y.i18n.translate("xpack.remoteClusters.remoteClusterList.table.actionDeleteDescription",{defaultMessage:"Delete remote cluster"});return Object(x.jsx)(fe.EuiToolTip,{content:s,delay:"long"},Object(x.jsx)(ve,{clusterNames:[e]},(e=>Object(x.jsx)(fe.EuiButtonIcon,{"data-test-subj":"remoteClusterTableRowRemoveButton","aria-label":s,iconType:"trash",color:"danger",isDisabled:t,onClick:e}))))}}]}],o={toolsLeft:t.length?Object(x.jsx)(ve,{clusterNames:t.map((({name:e})=>e))},(e=>Object(x.jsx)(fe.EuiButton,{color:"danger",onClick:e,"data-test-subj":"remoteClusterBulkDeleteButton"},Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterList.table.removeButtonLabel",defaultMessage:"Remove {count, plural, one {remote cluster} other {{count} remote clusters}}",values:{count:t.length}})))):void 0,toolsRight:Object(x.jsx)(fe.EuiButton,d()({},Object(n.reactRouterNavigate)(r,"/add"),{fill:!0,iconType:"plusInCircle","data-test-subj":"remoteClusterCreateButton"}),Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterList.connectButtonLabel",defaultMessage:"Add a remote cluster"})),onChange:this.onSearch,box:{incremental:!0,"data-test-subj":"remoteClusterSearch"}},l={onSelectionChange:e=>this.setState({selectedItems:e}),selectable:({isConfiguredByNode:e})=>!e};return Object(x.jsx)(fe.EuiInMemoryTable,{items:s,itemId:"name",columns:a,search:o,pagination:{initialPageSize:20,pageSizeOptions:[10,20,50]},sorting:{sort:{field:"name",direction:"asc"}},selection:l,isSelectable:!0,"data-test-subj":"remoteClusterListTable"})}}Ee()(remote_cluster_table_RemoteClusterTable,"defaultProps",{clusters:[]});const ke=Object(l.connect)(void 0,(e=>({openDetailPanel:t=>{e(pe({name:t}))}})))(remote_cluster_table_RemoteClusterTable),Se=Object(r.createContext)({}),Te=({children:e,context:t})=>Object(x.jsx)(Se.Provider,{value:t},e),Le=()=>{const e=Object(r.useContext)(Se);if(!e)throw new Error("Cannot use outside of app context");return e},De=({closeModal:e,onSubmit:t})=>{const[s,a]=Object(r.useState)(!1),o=Object(fe.useGeneratedHtmlId)({prefix:"modalForm"}),l=Object(fe.useGeneratedHtmlId)({prefix:"checkBoxId"});return Object(x.jsx)(fe.EuiModal,{onClose:e},Object(x.jsx)(fe.EuiModalHeader,null,Object(x.jsx)(fe.EuiModalHeaderTitle,null,Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.clusterWizard.trustStep.modal.title",defaultMessage:"Confirm your configuration"}))),Object(x.jsx)(fe.EuiModalBody,null,Object(x.jsx)(fe.EuiText,null,Object(x.jsx)("p",null,Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.clusterWizard.trustStep.body",defaultMessage:"Have you set up trust to connect to your remote cluster?"}))),Object(x.jsx)(fe.EuiSpacer,{size:"m"}),Object(x.jsx)(fe.EuiForm,{id:o,component:"form",onSubmit:s=>{s.preventDefault(),e(),t()}},Object(x.jsx)(fe.EuiFormRow,null,Object(x.jsx)(fe.EuiCheckbox,{id:l,label:Y.i18n.translate("xpack.remoteClusters.clusterWizard.trustStep.modal.checkbox",{defaultMessage:"Yes, I have setup trust"}),labelProps:{"data-test-subj":"remoteClusterTrustCheckboxLabel"},checked:s,onChange:()=>a(!s),"data-test-subj":"remoteClusterTrustCheckbox"})))),Object(x.jsx)(fe.EuiModalFooter,null,Object(x.jsx)(fe.EuiButtonEmpty,{onClick:e},Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.clusterWizard.trustStep.modal.cancelButton",defaultMessage:"No, go back"})),Object(x.jsx)(fe.EuiButton,{fill:!0,type:"submit",form:o,disabled:!s,"data-test-subj":"remoteClusterTrustSubmitButton"},Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.clusterWizard.trustStep.modal.createCluster",defaultMessage:"Add remote cluster"}))))},Re=400,Ne={apiKeyTitle:Y.i18n.translate("xpack.remoteClusters.clusterWizard.trustStep.setupWithApiKeys.title",{defaultMessage:"API keys"}),apiKeyBadge:Y.i18n.translate("xpack.remoteClusters.clusterWizard.trustStep.setupWithApiKeys.badge",{defaultMessage:"BETA"}),apiKeyDescription:Y.i18n.translate("xpack.remoteClusters.clusterWizard.trustStep.setupWithApiKeys.description",{defaultMessage:"Fine-grained access to remote indices. You need an API key provided by the remote cluster administrator."}),certTitle:Y.i18n.translate("xpack.remoteClusters.clusterWizard.trustStep.setupWithCert.title",{defaultMessage:"Certificates"}),certDescription:Y.i18n.translate("xpack.remoteClusters.clusterWizard.trustStep.setupWithCert.description",{defaultMessage:"Full access to the remote cluster. You need TLS certificates from the remote cluster."})},Pe={cert:Oe.d,apiKey:Oe.c,cloud:Oe.a},_e=({onBack:e,onSubmit:t,isSaving:s})=>{const[o,l]=Object(r.useState)(!1),{canUseAPIKeyTrustModel:i,isCloudEnabled:n}=Object(r.useContext)(Se);return Object(x.jsx)("div",null,Object(x.jsx)(fe.EuiText,{size:"m",textAlign:"center"},Object(x.jsx)("p",null,Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.clusterWizard.trustStep.title",defaultMessage:"Set up an authentication mechanism to connect to the remote cluster. Complete{br} this step using the instructions in our docs before continuing.",values:{br:Object(x.jsx)("br",null)}}))),Object(x.jsx)(fe.EuiSpacer,{size:"xxl"}),Object(x.jsx)(fe.EuiFlexGroup,{wrap:!0,justifyContent:"center"},i&&Object(x.jsx)(fe.EuiFlexItem,{style:{maxWidth:Re}},Object(x.jsx)(fe.EuiCard,{title:Ne.apiKeyTitle,paddingSize:"l",betaBadgeProps:{label:Ne.apiKeyBadge,color:"accent"},"data-test-subj":"setupTrustApiKeyCard"},Object(x.jsx)(fe.EuiText,{size:"s"},Object(x.jsx)("p",null,Ne.apiKeyDescription)),Object(x.jsx)(fe.EuiSpacer,{size:"xl"}),Object(x.jsx)(fe.EuiButton,{href:n?Pe.cloud:Pe.apiKey,target:"_blank","data-test-subj":"setupTrustApiKeyCardDocs"},Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.clusterWizard.trustStep.docs",defaultMessage:"View instructions"})),Object(x.jsx)(fe.EuiSpacer,{size:"xl"}),Object(x.jsx)(fe.EuiText,{size:"xs",color:"subdued"},Object(x.jsx)("p",null,Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.clusterWizard.trustStep.apiKeyNote",defaultMessage:"Both clusters must be on version {minAllowedVersion} or above.",values:{minAllowedVersion:"8.10"}}))))),Object(x.jsx)(fe.EuiFlexItem,{style:{maxWidth:Re}},Object(x.jsx)(fe.EuiCard,{title:Object(x.jsx)(a.a.Fragment,null,Object(x.jsx)(fe.EuiSpacer,{size:"s"}),Ne.certTitle),paddingSize:"l","data-test-subj":"setupTrustCertCard"},Object(x.jsx)(fe.EuiText,{size:"s"},Object(x.jsx)("p",null,Ne.certDescription)),Object(x.jsx)(fe.EuiSpacer,{size:"xl"}),Object(x.jsx)(fe.EuiButton,{href:n?Pe.cloud:Pe.cert,target:"_blank","data-test-subj":"setupTrustCertCardDocs"},Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.clusterWizard.trustStep.docs",defaultMessage:"View instructions"}))))),Object(x.jsx)(fe.EuiSpacer,{size:"xxl"}),Object(x.jsx)(fe.EuiFlexGroup,{wrap:!0,justifyContent:"center"},Object(x.jsx)(fe.EuiFlexItem,{style:{maxWidth:Re}},Object(x.jsx)(fe.EuiFlexGroup,{justifyContent:"flexStart"},Object(x.jsx)(fe.EuiFlexItem,{grow:!1},Object(x.jsx)(fe.EuiButtonEmpty,{"data-test-subj":"setupTrustBackButton",iconType:"arrowLeft",onClick:e},Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.clusterWizard.trustStep.backButtonLabel",defaultMessage:"Back"}))))),Object(x.jsx)(fe.EuiFlexItem,{style:{maxWidth:Re}},Object(x.jsx)(fe.EuiFlexGroup,{justifyContent:"flexEnd"},Object(x.jsx)(fe.EuiFlexItem,{grow:!1},Object(x.jsx)(fe.EuiButton,{"data-test-subj":"setupTrustDoneButton",color:"primary",fill:!0,isLoading:s,onClick:()=>l(!0)},Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.clusterWizard.trustStep.doneButtonLabel",defaultMessage:"Add remote cluster"}))))),o&&Object(x.jsx)(De,{closeModal:()=>l(!1),onSubmit:t})))};class request_flyout_RequestFlyout extends r.PureComponent{render(){const{close:e,cluster:t}=this.props,{name:s}=t,r=JSON.stringify(function(e){if(!e||"object"!=typeof e)throw new Error("Unable to serialize cluster");const{name:t,seeds:s,skipUnavailable:r,mode:a,nodeConnections:o,proxyAddress:l,proxySocketConnections:i,serverName:n,hasDeprecatedProxySetting:u}=e,c={skip_unavailable:"boolean"==typeof r?r:null,mode:a||null,proxy_address:l||null,proxy_socket_connections:i||null,server_name:n||null,seeds:s||null,node_connections:o||null};return u&&(c.proxy=null),{persistent:{cluster:{remote:{[t]:c}}}}}(t),null,2),a=`PUT _cluster/settings\n${r}`;return Object(x.jsx)(fe.EuiFlyout,{maxWidth:480,onClose:e},Object(x.jsx)(fe.EuiFlyoutHeader,null,Object(x.jsx)(fe.EuiTitle,{"data-test-subj":"remoteClusterRequestFlyoutTitle"},Object(x.jsx)("h2",null,s?Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.requestFlyout.namedTitle",defaultMessage:"Request for '{name}'",values:{name:s}}):Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.requestFlyout.unnamedTitle",defaultMessage:"Request"})))),Object(x.jsx)(fe.EuiFlyoutBody,null,Object(x.jsx)(fe.EuiText,null,Object(x.jsx)("p",null,Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.requestFlyout.descriptionText",defaultMessage:"This Elasticsearch request will create or update this remote cluster."}))),Object(x.jsx)(fe.EuiSpacer,null),Object(x.jsx)(fe.EuiCodeBlock,{language:"json",isCopyable:!0},a)),Object(x.jsx)(fe.EuiFlyoutFooter,null,Object(x.jsx)(fe.EuiButtonEmpty,{iconType:"cross",onClick:e,flush:"left"},Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.requestFlyout.closeButtonLabel",defaultMessage:"Close"}))))}}function we(e){if(!e||!e.trim())return Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.form.errors.nameMissing",defaultMessage:"Name is required."});if(e.includes(" "))return Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.form.errors.illegalSpace",defaultMessage:"Spaces are not allowed in the name."});const t=e.match(/[^a-zA-Z\d\-_]/g);return t?Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.form.errors.illegalCharacters",defaultMessage:"Remove the {characterListLength, plural, one {character} other {characters}} {characterList} from the name.",values:{characterList:Object(x.jsx)("strong",null,t.join(" ")),characterListLength:t.length}}):null}function Ae(e){return!!e&&!e.split(":")[0].split(".").some((e=>{var t;if(!e)return!0;const[s]=null!==(t=e.match(/[A-Za-z0-9\-]*/))&&void 0!==t?t:[];return s!==e}))}function Be(e){var t;if(!e)return!1;const s=e.split(":");if(2!==s.length)return!1;const r=s[1];return!!r&&(null!==(t=r.match(/[0-9]*/))&&void 0!==t?t:[])[0]===r}function Ie(e,t){return e.some((e=>Boolean(e.trim())))||t?null:Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.form.errors.seedMissing",defaultMessage:"At least one seed node is required."})}function Ue(e){const t=[];return e?(Ae(e)||t.push(Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.localSeedError.invalidCharactersMessage",defaultMessage:"Seed node must use host:port format. Example: 127.0.0.1:9400, localhost:9400. Hosts can only consist of letters, numbers, and dashes."})),Be(e)||t.push(Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.localSeedError.invalidPortMessage",defaultMessage:"A port is required."})),t):t}function ze(e){return e&&e.trim()?null:Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.form.errors.serverNameMissing",defaultMessage:"A server name is required."})}const We={urlEmpty:Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.cloudDeploymentForm.urlRequiredError",defaultMessage:"A url is required."}),urlInvalid:Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.cloudDeploymentForm.urlInvalidError",defaultMessage:"Url is invalid"})},qe="9400",He={proxyAddress:"",serverName:""},Ve=new RegExp(/^https?:\/\//),$e=e=>{if(!e)return!0;const{proxyAddress:t,serverName:s}=e;if(!t&&!s)return!0;const r=(null!=t?t:"").split(":"),a=r[0];return r[1]===qe&&a===s},Ge=e=>{var t;return(e=(null!==(t=e)&&void 0!==t?t:"").trim().toLowerCase()).replace(Ve,"")},Ke=e=>e?Ae(e=Ge(e))?null:We.urlInvalid:We.urlEmpty,Ye=(e,t)=>{const{name:s,seeds:r=[],mode:a,proxyAddress:o,serverName:l,cloudUrlEnabled:i,cloudUrl:n}=e;return{name:we(s),seeds:a===ye.d?Ie(r):null,proxyAddress:i||a!==ye.c?null:(u=o,u?Ae(u)?Be(u)?null:Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.addressError.invalidPortMessage",defaultMessage:"A port is required."}):Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.proxyError.invalidCharactersMessage",defaultMessage:"Address must use host:port format. Example: 127.0.0.1:9400, localhost:9400. Hosts can only consist of letters, numbers, and dashes."}):Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.proxyError.missingProxyMessage",defaultMessage:"A proxy address is required."})),serverName:!i&&t&&a===ye.c?ze(l):null,cloudUrl:i?Ke(n):null};var u},Qe=({fields:e,fieldsErrors:t,areErrorsVisible:s,onFieldsChange:o})=>{const[l,i]=Object(r.useState)([]),{seeds:n=[],nodeConnections:u}=e,{seeds:c}=t,d=Boolean(s&&c),m=d||0!==l.length,j=d&&c?l.concat(c):l,p=n.map((e=>({label:e})));return Object(x.jsx)(a.a.Fragment,null,Object(x.jsx)(fe.EuiFormRow,{"data-test-subj":"remoteClusterFormSeedNodesFormRow",label:Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.fieldSeedsLabel",defaultMessage:"Seed nodes"}),helpText:Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.fieldSeedsHelpText",defaultMessage:"An IP address or host name, followed by the {transportPort} of the remote cluster. Specify multiple seed nodes so discovery doesn't fail if a node is unavailable.",values:{transportPort:Object(x.jsx)(fe.EuiLink,{href:Oe.i,target:"_blank"},Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.sectionSeedsHelpText.portLinkText",defaultMessage:"port"}))}}),isInvalid:m,error:j,fullWidth:!0},Object(x.jsx)(fe.EuiComboBox,{noSuggestions:!0,placeholder:Y.i18n.translate("xpack.remoteClusters.remoteClusterForm.fieldSeedsPlaceholder",{defaultMessage:"host:port"}),selectedOptions:p,onCreateOption:e=>{if(!e)return;const t=Ue(e);if(0!==t.length)return i(t),!1;const s=n.slice(0);s.push(e.toLowerCase()),o({seeds:s})},onChange:e=>o({seeds:e.map((({label:e})=>e))}),onSearchChange:e=>{if(!e)return;const t=e&&0!==Ue(e).length?l:[];n.includes(e)&&t.push(Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.localSeedError.duplicateMessage",defaultMessage:"Duplicate seed nodes aren't allowed.`"})),i(t)},isInvalid:m,fullWidth:!0,"data-test-subj":"remoteClusterFormSeedsInput"})),Object(x.jsx)(fe.EuiFormRow,{"data-test-subj":"remoteClusterFormNodeConnectionsFormRow",label:Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.fieldNodeConnectionsLabel",defaultMessage:"Node connections"}),helpText:Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.fieldNodeConnectionsHelpText",defaultMessage:"The number of gateway nodes to connect to for this cluster."}),fullWidth:!0},Object(x.jsx)(fe.EuiFieldNumber,{value:u||"",onChange:e=>o({nodeConnections:Number(e.target.value)}),fullWidth:!0})))},Je=()=>{const[e,t]=Object(r.useState)(!1),{cloudBaseUrl:s}=Le();return Object(x.jsx)(fe.EuiPopover,{button:Object(x.jsx)(fe.EuiText,{size:"xs"},Object(x.jsx)(fe.EuiLink,{onClick:()=>{t(!e)}},Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.cloudUrlHelp.buttonLabel",defaultMessage:"Need help?"}))),isOpen:e,closePopover:()=>t(!1),anchorPosition:"upCenter"},Object(x.jsx)(fe.EuiPopoverTitle,null,Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.cloudUrlHelp.popoverTitle",defaultMessage:"How to find your Elasticsearch endpoint URL"})),Object(x.jsx)(fe.EuiText,{size:"s",style:{maxWidth:500}},Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.cloudUrlHelp.stepOneText",defaultMessage:"Open the {deploymentsLink}, select the remote deployment and copy the {elasticsearch} endpoint URL.",values:{deploymentsLink:Object(x.jsx)(fe.EuiLink,{external:!0,href:`${s}/deployments`,target:"_blank"},Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.cloudUrlHelpModal.deploymentsLink",defaultMessage:"deployments page"})),elasticsearch:Object(x.jsx)("strong",null," Elasticsearch")}})))},Ze=e=>{const{fields:t,fieldsErrors:s,areErrorsVisible:r,onFieldsChange:o}=e,{isCloudEnabled:l}=Le(),{proxyAddress:i,serverName:n,proxySocketConnections:u,cloudUrl:c,cloudUrlEnabled:d}=t,{proxyAddress:m,serverName:j,cloudUrl:p}=s;return Object(x.jsx)(a.a.Fragment,null,d?Object(x.jsx)(a.a.Fragment,null,Object(x.jsx)(fe.EuiFormRow,{"data-test-subj":"remoteClusterFormCloudUrlFormRow",label:Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.fieldCloudUrlLabel",defaultMessage:"Elasticsearch endpoint URL"}),labelAppend:Object(x.jsx)(Je,null),isInvalid:Boolean(r&&p),error:p,fullWidth:!0,helpText:Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.fieldCloudUrlHelpText",defaultMessage:"The protocol (https://) and port values are optional."})},Object(x.jsx)(fe.EuiFieldText,{value:c,onChange:e=>o({cloudUrl:e.target.value}),isInvalid:Boolean(r&&p),"data-test-subj":"remoteClusterFormCloudUrlInput",fullWidth:!0}))):Object(x.jsx)(a.a.Fragment,null,Object(x.jsx)(fe.EuiFormRow,{"data-test-subj":"remoteClusterFormProxyAddressFormRow",label:Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.fieldProxyAddressLabel",defaultMessage:"Proxy address"}),helpText:Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.fieldProxyAddressHelpText",defaultMessage:"The address to use for remote connections."}),isInvalid:Boolean(r&&m),error:m,fullWidth:!0},Object(x.jsx)(fe.EuiFieldText,{value:i,placeholder:Y.i18n.translate("xpack.remoteClusters.remoteClusterForm.fieldProxyAddressPlaceholder",{defaultMessage:"host:port"}),onChange:e=>o({proxyAddress:e.target.value}),isInvalid:Boolean(r&&m),"data-test-subj":"remoteClusterFormProxyAddressInput",fullWidth:!0})),Object(x.jsx)(fe.EuiFormRow,{"data-test-subj":"remoteClusterFormServerNameFormRow",isInvalid:Boolean(r&&j),error:j,label:l?Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.fieldServerNameRequiredLabel",defaultMessage:"Server name"}):Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.fieldServerNameOptionalLabel",defaultMessage:"Server name (optional)"}),helpText:Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.fieldServerNameHelpText",defaultMessage:"A string sent in the server_name field of the TLS Server Name Indication extension if TLS is enabled. {learnMoreLink}",values:{learnMoreLink:Object(x.jsx)(fe.EuiLink,{href:Oe.f,target:"_blank"},Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.fieldServerNameHelpText.learnMoreLinkLabel",defaultMessage:"Learn more."}))}}),fullWidth:!0},Object(x.jsx)(fe.EuiFieldText,{value:n,onChange:e=>o({serverName:e.target.value}),isInvalid:Boolean(r&&j),fullWidth:!0}))),Object(x.jsx)(fe.EuiFormRow,{"data-test-subj":"remoteClusterFormProxySocketConnectionsFormRow",label:Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.fieldProxySocketConnectionsLabel",defaultMessage:"Socket connections"}),helpText:Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.fieldSocketConnectionsHelpText",defaultMessage:"The number of connections to open per remote cluster."}),fullWidth:!0},Object(x.jsx)(fe.EuiFieldNumber,{value:u||"",onChange:e=>o({proxySocketConnections:Number(e.target.value)}),fullWidth:!0})))},Xe=e=>{const{fields:t,onFieldsChange:s}=e,{mode:r,cloudUrlEnabled:o}=t,{isCloudEnabled:l}=Le();return Object(x.jsx)(fe.EuiDescribedFormGroup,{title:Object(x.jsx)(fe.EuiTitle,{size:"s"},Object(x.jsx)("h2",null,Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.sectionModeTitle",defaultMessage:"Connection mode"}))),description:Object(x.jsx)(a.a.Fragment,null,l?Object(x.jsx)(a.a.Fragment,null,Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.sectionModeCloudDescription",defaultMessage:"Automatically configure the remote cluster by using the Elasticsearch endpoint URL of the remote deployment or enter the proxy address and server name manually."}),Object(x.jsx)(fe.EuiFormRow,{hasEmptyLabelSpace:!0,fullWidth:!0},Object(x.jsx)(fe.EuiSwitch,{label:Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.manualModeFieldLabel",defaultMessage:"Manually enter proxy address and server name"}),checked:!o,"data-test-subj":"remoteClusterFormCloudUrlToggle",onChange:e=>s({cloudUrlEnabled:!e.target.checked})})),Object(x.jsx)(fe.EuiSpacer,{size:"s"})):Object(x.jsx)(a.a.Fragment,null,Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.sectionModeDescription",defaultMessage:"Use seed nodes by default, or switch to proxy mode."}),Object(x.jsx)(fe.EuiFormRow,{hasEmptyLabelSpace:!0,fullWidth:!0},Object(x.jsx)(fe.EuiSwitch,{label:Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.fieldModeLabel",defaultMessage:"Use proxy mode"}),checked:r===ye.c,"data-test-subj":"remoteClusterFormConnectionModeToggle",onChange:e=>s({mode:e.target.checked?ye.c:ye.d})})))),fullWidth:!0},r===ye.d?Object(x.jsx)(Qe,e):Object(x.jsx)(Ze,e))},et={name:"",seeds:[],skipUnavailable:!1,nodeConnections:3,proxyAddress:"",proxySocketConnections:18,serverName:""},tt="removeClustersErrorTitle",st="removeClustersErrorList";class remote_cluster_form_RemoteClusterForm extends r.Component{constructor(e,t){super(e,t),Ee()(this,"generateId",void 0),Ee()(this,"toggleRequest",(()=>{this.setState((({isRequestVisible:e})=>({isRequestVisible:!e})))})),Ee()(this,"onFieldsChange",(e=>{const{isCloudEnabled:t}=this.context,{cloudUrl:s}=e;if(s){const{proxyAddress:t,serverName:r}=((e="")=>{if(!(e=Ge(e))||!Ae(e))return He;const t=e.split(":")[0];return{proxyAddress:`${t}:${qe}`,serverName:t}})(s);e={...e,proxyAddress:t,serverName:r}}this.setState((({fields:s})=>{const r={...s,...e};return{fields:r,fieldsErrors:Ye(r,t)}}))})),Ee()(this,"save",(()=>{const{save:e}=this.props;this.hasErrors()?this.setState({areErrorsVisible:!0}):e(this.getCluster())})),Ee()(this,"onSkipUnavailableChange",(e=>{const t=e.target.checked;this.onFieldsChange({skipUnavailable:t})})),Ee()(this,"resetToDefault",(e=>{this.onFieldsChange({[e]:et[e]})})),Ee()(this,"hasErrors",(()=>{const{fieldsErrors:e}=this.state;return Object.values(e).some((e=>null!=e))})),Ee()(this,"renderErrors",(()=>{const{areErrorsVisible:e,fieldsErrors:{name:t,seeds:s,proxyAddress:a,serverName:o,cloudUrl:l}}=this.state,i=this.hasErrors();if(!e||!i)return null;const n=[];t&&n.push({key:"nameExplanation",field:Y.i18n.translate("xpack.remoteClusters.remoteClusterForm.inputNameErrorMessage",{defaultMessage:'The "Name" field is invalid.'}),error:t}),s&&n.push({key:"seedsExplanation",field:Y.i18n.translate("xpack.remoteClusters.remoteClusterForm.inputSeedsErrorMessage",{defaultMessage:'The "Seed nodes" field is invalid.'}),error:s}),a&&n.push({key:"proxyAddressExplanation",field:Y.i18n.translate("xpack.remoteClusters.remoteClusterForm.inputProxyErrorMessage",{defaultMessage:'The "Proxy address" field is invalid.'}),error:a}),o&&n.push({key:"serverNameExplanation",field:Y.i18n.translate("xpack.remoteClusters.remoteClusterForm.inputServerNameErrorMessage",{defaultMessage:'The "Server name" field is invalid.'}),error:o}),l&&n.push({key:"cloudUrlExplanation",field:Y.i18n.translate("xpack.remoteClusters.remoteClusterForm.inputcloudUrlErrorMessage",{defaultMessage:'The "Elasticsearch endpoint URL" field is invalid.'}),error:l});const u=n.length&&Object(x.jsx)(fe.EuiScreenReaderOnly,null,Object(x.jsx)("dl",{id:this.generateId(st),"aria-labelledby":this.generateId(tt)},n.map((({key:e,field:t,error:s})=>Object(x.jsx)("div",{key:e},Object(x.jsx)("dt",null,t),Object(x.jsx)("dd",null,s))))));return Object(x.jsx)(r.Fragment,null,Object(x.jsx)(fe.EuiCallOut,{title:Object(x.jsx)("span",{id:this.generateId(tt)},Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.errorTitle",defaultMessage:"Some fields require your attention."})),color:"danger",iconType:"error"}),Object(x.jsx)(fe.EuiDelayRender,null,u),Object(x.jsx)(fe.EuiSpacer,{size:"m","data-test-subj":"remoteClusterFormGlobalError"}))}));const{cluster:s}=e,{isCloudEnabled:a}=t,o=a?ye.c:ye.d,l=Object(h.merge)({},{...et,mode:o,cloudUrl:(i=s,$e(i)&&null!==(n=null==i?void 0:i.serverName)&&void 0!==n?n:""),cloudUrlEnabled:a&&$e(s)},s);var i,n;this.generateId=Object(fe.htmlIdGenerator)(),this.state={fields:l,fieldsErrors:Ye(l,a),areErrorsVisible:!1,isRequestVisible:!1}}getCluster(){const{fields:{name:e,mode:t,seeds:s,nodeConnections:r,proxyAddress:a,proxySocketConnections:o,serverName:l,skipUnavailable:i}}=this.state,{cluster:n}=this.props;let u;return u=t===ye.c?{proxyAddress:a,proxySocketConnections:o,serverName:l}:{seeds:s,nodeConnections:r},{name:e,skipUnavailable:i,mode:t,hasDeprecatedProxySetting:null==n?void 0:n.hasDeprecatedProxySetting,...u}}renderSkipUnavailable(){const{fields:{skipUnavailable:e}}=this.state;return Object(x.jsx)(fe.EuiDescribedFormGroup,{title:Object(x.jsx)(fe.EuiTitle,{size:"s"},Object(x.jsx)("h2",null,Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.sectionSkipUnavailableTitle",defaultMessage:"Make remote cluster optional"}))),description:Object(x.jsx)(r.Fragment,null,Object(x.jsx)("p",null,Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.sectionSkipUnavailableDescription",defaultMessage:"If any of the remote clusters are unavailable, the query request fails. To avoid this and continue to send requests to other clusters, enable {optionName}. {learnMoreLink}",values:{optionName:Object(x.jsx)("strong",null,Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.sectionSkipUnavailableDescription.optionNameLabel",defaultMessage:"Skip if unavailable"})),learnMoreLink:Object(x.jsx)(fe.EuiLink,{href:Oe.h,target:"_blank"},Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.sectionSkipUnavailableDescription.learnMoreLinkLabel",defaultMessage:"Learn more."}))}}))),fullWidth:!0},Object(x.jsx)(fe.EuiFormRow,{"data-test-subj":"remoteClusterFormSkipUnavailableFormRow",className:"remoteClusterSkipIfUnavailableSwitch",hasEmptyLabelSpace:!0,fullWidth:!0,helpText:e!==et.skipUnavailable?Object(x.jsx)(fe.EuiLink,{onClick:()=>{this.resetToDefault("skipUnavailable")}},Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.sectionSkipUnavailableResetLabel",defaultMessage:"Reset to default"})):null},Object(x.jsx)(fe.EuiSwitch,{label:Y.i18n.translate("xpack.remoteClusters.remoteClusterForm.sectionSkipUnavailableLabel",{defaultMessage:"Skip if unavailable"}),checked:!!e,onChange:this.onSkipUnavailableChange,"data-test-subj":"remoteClusterFormSkipUnavailableFormToggle"})))}renderActions(){const{isSaving:e,cancel:t,cluster:s}=this.props,{areErrorsVisible:r,isRequestVisible:a}=this.state,o=r&&this.hasErrors()||e;return Object(x.jsx)(fe.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},t&&Object(x.jsx)(fe.EuiFlexItem,{grow:!1},Object(x.jsx)(fe.EuiButtonEmpty,{color:"primary",onClick:t},Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.cancelButtonLabel",defaultMessage:"Cancel"}))),Object(x.jsx)(fe.EuiFlexItem,{grow:!1},Object(x.jsx)(fe.EuiFlexGroup,{alignItems:"center",gutterSize:"m"},Object(x.jsx)(fe.EuiFlexItem,{grow:!1},Object(x.jsx)(fe.EuiButtonEmpty,{onClick:this.toggleRequest,"data-test-subj":"remoteClustersRequestButton"},a?Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.hideRequestButtonLabel",defaultMessage:"Hide request"}):Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.showRequestButtonLabel",defaultMessage:"Show request"}))),Object(x.jsx)(fe.EuiFlexItem,{grow:!1},Object(x.jsx)(fe.EuiButton,{"data-test-subj":"remoteClusterFormSaveButton",color:"primary",onClick:this.save,fill:!0,isDisabled:o,isLoading:e,"aria-describedby":`${this.generateId(tt)} ${this.generateId(st)}`},Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.nextButtonLabel",defaultMessage:"{isEditMode, select, true{Save} other{Next}}",values:{isEditMode:Boolean(s)}}))))))}renderSavingFeedback(){return this.props.isSaving?Object(x.jsx)(fe.EuiOverlayMask,null,Object(x.jsx)(fe.EuiLoadingLogo,{logo:"logoKibana",size:"xl"})):null}renderSaveErrorFeedback(){const{saveError:e}=this.props;if(e){const{message:t,cause:s}=e;let a;return s&&Array.isArray(s)&&(a=1===s.length?Object(x.jsx)("p",null,s[0]):Object(x.jsx)("ul",null,s.map((e=>Object(x.jsx)("li",{key:e},e))))),Object(x.jsx)(r.Fragment,null,Object(x.jsx)(fe.EuiCallOut,{title:t,iconType:"cross",color:"warning"},a),Object(x.jsx)(fe.EuiSpacer,null))}return null}render(){const{isRequestVisible:e,areErrorsVisible:t,fields:s,fieldsErrors:a}=this.state,{name:o}=a,{cluster:l}=this.props,i=!l;return Object(x.jsx)(r.Fragment,null,this.renderSaveErrorFeedback(),this.renderErrors(),Object(x.jsx)(fe.EuiForm,{"data-test-subj":"remoteClusterForm"},Object(x.jsx)(fe.EuiDescribedFormGroup,{title:Object(x.jsx)(fe.EuiTitle,{size:"s"},Object(x.jsx)("h2",null,Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.sectionNameTitle",defaultMessage:"Name"}))),description:Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.sectionNameDescription",defaultMessage:"A unique name for the cluster."}),fullWidth:!0},Object(x.jsx)(fe.EuiFormRow,{"data-test-subj":"remoteClusterFormNameFormRow",label:Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.fieldNameLabel",defaultMessage:"Name"}),helpText:Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.fieldNameLabelHelpText",defaultMessage:"Must contain only letters, numbers, underscores, and dashes."}),error:o,isInvalid:Boolean(t&&o),fullWidth:!0},Object(x.jsx)(fe.EuiFieldText,{isInvalid:Boolean(t&&o),value:s.name,onChange:e=>this.onFieldsChange({name:e.target.value}),fullWidth:!0,disabled:!i,"data-test-subj":"remoteClusterFormNameInput"}))),Object(x.jsx)(Xe,{fields:s,fieldsErrors:a,onFieldsChange:this.onFieldsChange,areErrorsVisible:t}),this.renderSkipUnavailable()),Object(x.jsx)(fe.EuiSpacer,{size:"l"}),this.renderActions(),this.renderSavingFeedback(),e?Object(x.jsx)(request_flyout_RequestFlyout,{cluster:this.getCluster(),close:()=>this.setState({isRequestVisible:!1})}):null)}}Ee()(remote_cluster_form_RemoteClusterForm,"defaultProps",{fields:Object(h.merge)({},et)}),Ee()(remote_cluster_form_RemoteClusterForm,"contextType",Se);const rt=({title:e,description:t})=>Object(x.jsx)(a.a.Fragment,null,Object(x.jsx)(fe.EuiPageHeader,{bottomBorder:!0,pageTitle:Object(x.jsx)("span",{"data-test-subj":"remoteClusterPageTitle"},e),rightSideItems:[Object(x.jsx)(fe.EuiButtonEmpty,{size:"s",flush:"right",href:Oe.g,target:"_blank",iconType:"help","data-test-subj":"remoteClusterDocsButton"},Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.readDocsButtonLabel",defaultMessage:"Remote cluster docs"}))],description:t}),Object(x.jsx)(fe.EuiSpacer,{size:"l"}));function at(){return Object(x.jsx)(fe.EuiCallOut,{title:Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.configuredByNodeWarningTitle",defaultMessage:"You can't edit or delete this remote cluster because it's defined in a node's elasticsearch.yml configuration file."}),color:"primary",iconType:"iInCircle","data-test-subj":"remoteClusterConfiguredByNodeWarning"})}class detail_panel_DetailPanel extends r.Component{renderSkipUnavailableValue(e){return!0===e?Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.skipUnavailableTrueValue",defaultMessage:"Yes"}):!1===e?Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.skipUnavailableFalseValue",defaultMessage:"No"}):Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.skipUnavailableNullValue",defaultMessage:"Default"})}renderClusterNotFound(){return Object(x.jsx)(fe.EuiFlexGroup,{justifyContent:"flexStart",alignItems:"center",gutterSize:"s","data-test-subj":"remoteClusterDetailClusterNotFound"},Object(x.jsx)(fe.EuiFlexItem,{grow:!1},Object(x.jsx)(fe.EuiIcon,{size:"m",type:"warning",color:"danger"})),Object(x.jsx)(fe.EuiFlexItem,{grow:!1},Object(x.jsx)(fe.EuiText,null,Object(x.jsx)(fe.EuiTextColor,{color:"subdued"},Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.notFoundLabel",defaultMessage:"Remote cluster not found"})))))}renderClusterConfiguredByNodeWarning({isConfiguredByNode:e}){return e?Object(x.jsx)(r.Fragment,null,Object(x.jsx)(at,null),Object(x.jsx)(fe.EuiSpacer,{size:"l"})):null}renderClusterWithDeprecatedSettingWarning({hasDeprecatedProxySetting:e,isConfiguredByNode:t},s,r){return e?Object(x.jsx)(a.a.Fragment,null,Object(x.jsx)(fe.EuiCallOut,{title:Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.deprecatedSettingsTitle",defaultMessage:"'{remoteCluster}' has deprecated settings",values:{remoteCluster:s}}),color:"warning",iconType:"help"},t?Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.deprecatedSettingsConfiguredByNodeMessage",defaultMessage:"Edit the cluster to update the settings. {helpLink}",values:{helpLink:Object(x.jsx)(fe.EuiLink,{href:Oe.e,target:"_blank"},Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.deprecatedSettingsLearnMoreLinkLabel",defaultMessage:"Learn more."}))}}):Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.deprecatedSettingsMessage",defaultMessage:"{editLink} to update the settings.",values:{editLink:Object(x.jsx)(fe.EuiLink,Object(n.reactRouterNavigate)(r,`/edit/${s}`),Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.deprecatedSettingsEditLinkLabel",defaultMessage:"Edit the cluster"}))}})),Object(x.jsx)(fe.EuiSpacer,{size:"l"})):null}renderSniffModeDescriptionList({isConnected:e,connectedNodesCount:t,skipUnavailable:s,seeds:r,maxConnectionsPerCluster:a,initialConnectTimeout:o,mode:l}){return Object(x.jsx)(fe.EuiFlexGroup,{"data-test-subj":"remoteClusterDetailPanelStatusValues"},Object(x.jsx)(fe.EuiFlexItem,null,Object(x.jsx)(fe.EuiDescriptionList,null,Object(x.jsx)(fe.EuiDescriptionListTitle,null,Object(x.jsx)(fe.EuiTitle,{size:"xs"},Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.connectedLabel",defaultMessage:"Connection"}))),Object(x.jsx)(fe.EuiDescriptionListDescription,{"data-test-subj":"remoteClusterDetailIsConnected"},Object(x.jsx)(Me,{isConnected:e,mode:l})),Object(x.jsx)(fe.EuiDescriptionListTitle,null,Object(x.jsx)(fe.EuiTitle,{size:"xs"},Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.connectedNodesLabel",defaultMessage:"Connected nodes"}))),Object(x.jsx)(fe.EuiDescriptionListDescription,{"data-test-subj":"remoteClusterDetailConnectedNodesCount"},t),Object(x.jsx)(fe.EuiDescriptionListTitle,null,Object(x.jsx)(fe.EuiTitle,{size:"xs"},Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.seedsLabel",defaultMessage:"Seeds"}))),Object(x.jsx)(fe.EuiDescriptionListDescription,{"data-test-subj":"remoteClusterDetailSeeds"},r.map((e=>Object(x.jsx)(fe.EuiText,{size:"s",key:e},e)))))),Object(x.jsx)(fe.EuiFlexItem,null,Object(x.jsx)(fe.EuiDescriptionList,null,Object(x.jsx)(fe.EuiDescriptionListTitle,null,Object(x.jsx)(fe.EuiTitle,{size:"xs"},Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.skipUnavailableLabel",defaultMessage:"Skip unavailable"}))),Object(x.jsx)(fe.EuiDescriptionListDescription,{"data-test-subj":"remoteClusterDetailSkipUnavailable"},this.renderSkipUnavailableValue(s)),Object(x.jsx)(fe.EuiDescriptionListTitle,null,Object(x.jsx)(fe.EuiTitle,{size:"xs"},Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.maxConnectionsPerClusterLabel",defaultMessage:"Maximum connections"}))),Object(x.jsx)(fe.EuiDescriptionListDescription,{"data-test-subj":"remoteClusterDetailMaxConnections"},a),Object(x.jsx)(fe.EuiDescriptionListTitle,null,Object(x.jsx)(fe.EuiTitle,{size:"xs"},Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.initialConnectTimeoutLabel",defaultMessage:"Initial connect timeout"}))),Object(x.jsx)(fe.EuiDescriptionListDescription,{"data-test-subj":"remoteClusterDetailInitialConnectTimeout"},o))))}renderProxyModeDescriptionList({isConnected:e,skipUnavailable:t,initialConnectTimeout:s,proxyAddress:r,proxySocketConnections:a,connectedSocketsCount:o,mode:l,serverName:i}){return Object(x.jsx)(fe.EuiFlexGroup,null,Object(x.jsx)(fe.EuiFlexItem,null,Object(x.jsx)(fe.EuiDescriptionList,null,Object(x.jsx)(fe.EuiDescriptionListTitle,null,Object(x.jsx)(fe.EuiTitle,{size:"xs"},Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.connectedLabel",defaultMessage:"Connection"}))),Object(x.jsx)(fe.EuiDescriptionListDescription,{"data-test-subj":"remoteClusterDetailIsConnected"},Object(x.jsx)(Me,{isConnected:e,mode:l})),Object(x.jsx)(fe.EuiDescriptionListTitle,null,Object(x.jsx)(fe.EuiTitle,{size:"xs"},Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.connectedSocketsLabel",defaultMessage:"Connected sockets"}))),Object(x.jsx)(fe.EuiDescriptionListDescription,{"data-test-subj":"remoteClusterDetailConnectedSocketsCount"},o||"-"),Object(x.jsx)(fe.EuiDescriptionListTitle,null,Object(x.jsx)(fe.EuiTitle,{size:"xs"},Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.proxyAddressLabel",defaultMessage:"Proxy address"}))),Object(x.jsx)(fe.EuiDescriptionListDescription,{"data-test-subj":"remoteClusterDetailProxyAddress"},r),Object(x.jsx)(fe.EuiDescriptionListTitle,null,Object(x.jsx)(fe.EuiTitle,{size:"xs"},Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.serverNameLabel",defaultMessage:"Server name"}))),Object(x.jsx)(fe.EuiDescriptionListDescription,{"data-test-subj":"remoteClusterDetailServerName"},i||"-"))),Object(x.jsx)(fe.EuiFlexItem,null,Object(x.jsx)(fe.EuiDescriptionList,null,Object(x.jsx)(fe.EuiDescriptionListTitle,null,Object(x.jsx)(fe.EuiTitle,{size:"xs"},Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.skipUnavailableLabel",defaultMessage:"Skip unavailable"}))),Object(x.jsx)(fe.EuiDescriptionListDescription,{"data-test-subj":"remoteClusterDetailSkipUnavailable"},this.renderSkipUnavailableValue(t)),Object(x.jsx)(fe.EuiDescriptionListTitle,null,Object(x.jsx)(fe.EuiTitle,{size:"xs"},Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.maxSocketConnectionsLabel",defaultMessage:"Maximum socket connections"}))),Object(x.jsx)(fe.EuiDescriptionListDescription,{"data-test-subj":"remoteClusterDetailMaxSocketConnections"},a||"-"),Object(x.jsx)(fe.EuiDescriptionListTitle,null,Object(x.jsx)(fe.EuiTitle,{size:"xs"},Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.initialConnectTimeoutLabel",defaultMessage:"Initial connect timeout"}))),Object(x.jsx)(fe.EuiDescriptionListDescription,{"data-test-subj":"remoteClusterDetailInitialConnectTimeout"},s))))}renderCluster(e){return Object(x.jsx)("section",{"aria-labelledby":"clusterStatus","data-test-subj":"remoteClusterDetailPanelStatusSection"},Object(x.jsx)(fe.EuiTitle,{size:"s",id:"clusterStatus"},Object(x.jsx)("h3",null,Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.statusTitle",defaultMessage:"Status"}))),Object(x.jsx)(fe.EuiSpacer,{size:"s"}),e.mode===ye.c?this.renderProxyModeDescriptionList(e):this.renderSniffModeDescriptionList(e))}renderFlyoutBody(e){const{cluster:t,clusterName:s}=this.props;return Object(x.jsx)(fe.EuiFlyoutBody,null,!t&&this.renderClusterNotFound(),t&&Object(x.jsx)(r.Fragment,null,this.renderClusterConfiguredByNodeWarning(t),this.renderClusterWithDeprecatedSettingWarning(t,s,e),this.renderCluster(t)))}renderFlyoutFooter(e){const{cluster:t,clusterName:s,closeDetailPanel:r}=this.props;return Object(x.jsx)(fe.EuiFlyoutFooter,null,Object(x.jsx)(fe.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},Object(x.jsx)(fe.EuiFlexItem,{grow:!1},Object(x.jsx)(fe.EuiButtonEmpty,{iconType:"cross",flush:"left",onClick:r,"data-test-subj":"remoteClusterDetailsPanelCloseButton"},Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.closeButtonLabel",defaultMessage:"Close"}))),t&&!t.isConfiguredByNode&&Object(x.jsx)(fe.EuiFlexItem,{grow:!1},Object(x.jsx)(fe.EuiFlexGroup,{alignItems:"center"},Object(x.jsx)(fe.EuiFlexItem,{grow:!1},Object(x.jsx)(ve,{clusterNames:[s]},(e=>Object(x.jsx)(fe.EuiButtonEmpty,{color:"danger",onClick:e,"data-test-subj":"remoteClusterDetailPanelRemoveButton"},Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.removeButtonLabel",defaultMessage:"Remove"}))))),Object(x.jsx)(fe.EuiFlexItem,{grow:!1},Object(x.jsx)(fe.EuiButton,d()({},Object(n.reactRouterNavigate)(e,`/edit/${s}`),{fill:!0,color:"primary","data-test-subj":"remoteClusterDetailPanelEditButton"}),Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.editButtonLabel",defaultMessage:"Edit"})))))))}render(){const{isOpen:e,closeDetailPanel:t,clusterName:s,cluster:r}=this.props,{history:a}=_();return e?Object(x.jsx)(fe.EuiFlyout,{"data-test-subj":"remoteClusterDetailFlyout",onClose:t,"aria-labelledby":"remoteClusterDetailsFlyoutTitle",size:"m",maxWidth:550,className:"eui-textBreakAll"},Object(x.jsx)(fe.EuiFlyoutHeader,null,Object(x.jsx)(fe.EuiFlexGroup,{alignItems:"center",gutterSize:"s"},Object(x.jsx)(fe.EuiFlexItem,{grow:!1},Object(x.jsx)(fe.EuiTitle,{size:"m",id:"remoteClusterDetailsFlyoutTitle","data-test-subj":"remoteClusterDetailsFlyoutTitle"},Object(x.jsx)("h2",null,s))),r&&r.mode===ye.c?Object(x.jsx)(fe.EuiFlexItem,{grow:!1}," ",Object(x.jsx)(fe.EuiBadge,{color:"hollow",title:Y.i18n.translate("xpack.remoteClusters.detailPanel.proxyBadgeLabel",{defaultMessage:'This remote cluster was configured with the "proxy" connection mode'})},r.mode)):null)),this.renderFlyoutBody(a),this.renderFlyoutFooter(a)):null}}const ot=Object(l.connect)((e=>({isOpen:B(e),isLoading:z(e),cluster:I(e),clusterName:U(e)})),(e=>({closeDetailPanel:()=>{e(be())}})))(detail_panel_DetailPanel);class remote_cluster_list_RemoteClusterList extends r.Component{componentDidUpdate(){const{openDetailPanel:e,closeDetailPanel:t,isDetailPanelOpen:s,history:{location:{search:r}}}=this.props,{cluster:a}=Object(i.extractQueryParams)(r);null!=a?e(a):s&&t()}componentDidMount(){this.props.loadClusters(),this.interval=setInterval(this.props.refreshClusters,3e4),Object(L.b)("home")}componentWillUnmount(){clearInterval(this.interval)}renderBlockingAction(){const{isCopyingCluster:e,isRemovingCluster:t}=this.props;return e||t?Object(x.jsx)(fe.EuiOverlayMask,null,Object(x.jsx)(fe.EuiLoadingLogo,{logo:"logoKibana",size:"xl"})):null}renderNoPermission(){return Object(x.jsx)(fe.EuiPageTemplate.EmptyPrompt,{iconType:"warning",color:"danger",title:Object(x.jsx)("h2",null,Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterList.noPermissionTitle",defaultMessage:"Permission error"})),body:Object(x.jsx)("p",null,Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterList.noPermissionText",defaultMessage:"You do not have permission to view or add remote clusters."}))})}renderError(e){const{statusCode:t,error:s}=e.body;return Object(x.jsx)(fe.EuiPageTemplate.EmptyPrompt,{iconType:"warning",color:"danger",title:Object(x.jsx)("h2",null,Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterList.loadingErrorTitle",defaultMessage:"Error loading remote clusters"})),body:Object(x.jsx)("p",null,t," ",s)})}renderEmpty(){return Object(x.jsx)(fe.EuiPageTemplate.EmptyPrompt,{"data-test-subj":"remoteClusterListEmptyPrompt",iconType:"managementApp",title:Object(x.jsx)("h2",null,Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterList.emptyPromptTitle",defaultMessage:"Add your first remote cluster"})),body:Object(x.jsx)("p",null,Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterList.emptyPromptDescription",defaultMessage:"Remote clusters create a uni-directional connection from your local cluster to other clusters."})),actions:Object(x.jsx)(fe.EuiButton,d()({},Object(n.reactRouterNavigate)(this.props.history,"/add"),{fill:!0,iconType:"plusInCircle","data-test-subj":"remoteClusterEmptyPromptCreateButton"}),Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterList.emptyPrompt.connectButtonLabel",defaultMessage:"Add a remote cluster"})),footer:Object(x.jsx)(a.a.Fragment,null,Object(x.jsx)(fe.EuiTitle,{size:"xxs"},Object(x.jsx)("span",null,Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.remoteClusters.emptyState.docsDescription",defaultMessage:"Want to learn more?"})))," ",Object(x.jsx)(fe.EuiLink,{href:Oe.g,target:"_blank"},Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.remoteClusters.emptyState.docsLink",defaultMessage:"Read documentation"})))})}renderLoading(){return Object(x.jsx)(i.SectionLoading,{"data-test-subj":"remoteClustersTableLoading"},Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterList.loadingTitle",defaultMessage:"Loading remote clusters"}))}renderList(){const{clusters:e}=this.props;return Object(x.jsx)(fe.EuiPageBody,{"data-test-subj":"remote-clusters-list"},Object(x.jsx)(fe.EuiPageSection,{paddingSize:"none"},Object(x.jsx)(fe.EuiPageHeader,{bottomBorder:!0,pageTitle:Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterListTitle",defaultMessage:"Remote Clusters"}),rightSideItems:[Object(x.jsx)(fe.EuiButtonEmpty,{href:Oe.g,target:"_blank",iconType:"help","data-test-subj":"documentationLink"},Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.remoteClustersDocsLinkText",defaultMessage:"Remote Clusters docs"}))]}),Object(x.jsx)(fe.EuiSpacer,{size:"l"}),Object(x.jsx)(ke,{clusters:e}),Object(x.jsx)(ot,null)))}render(){const{isLoading:e,clusters:t,clusterLoadError:s}=this.props,r=!e&&!t.length,o=!s||403!==s.status;let l;return l=s?o?this.renderError(s):this.renderNoPermission():r?this.renderEmpty():e?this.renderLoading():this.renderList(),Object(x.jsx)(a.a.Fragment,null,l,this.renderBlockingAction())}}const lt=Object(l.connect)((e=>({clusters:w(e),isDetailPanelOpen:B(e),isLoading:z(e),isCopyingCluster:$(e),isRemovingCluster:K(e),clusterLoadError:W(e)})),(e=>({loadClusters:()=>{e(ge())},refreshClusters:()=>{e((async e=>{let t;try{t=await F({asSystemRequest:!0})}catch(e){return function(e,t){const s=function(e,t){if(e&&e.body){const{error:s,statusCode:r,message:a}=e.body;return{title:t,text:`${r}: ${s}. ${a}`}}}(e,t);return s?T.c.addWarning(s):T.a.add(e,t)}(e,Y.i18n.translate("xpack.remoteClusters.refreshAction.errorTitle",{defaultMessage:"Error refreshing remote clusters"}))}e({type:te,payload:{clusters:t}})}))},openDetailPanel:t=>{e(pe({name:t}))},closeDetailPanel:()=>{e(be())}})))(remote_cluster_list_RemoteClusterList),it=({saveRemoteClusterConfig:e,onCancel:t,isSaving:s,addClusterError:a})=>{const[o,l]=Object(r.useState)(),[i,n]=Object(r.useState)(1);Object(r.useEffect)((()=>{a&&n(1)}),[a,n]);const u=Object(r.useMemo)((()=>[{step:1,title:Y.i18n.translate("xpack.remoteClusters.clusterWizard.addConnectionInfoLabel",{defaultMessage:"Add connection information"}),status:1===i?"current":"complete",onClick:()=>n(1)},{step:2,title:Y.i18n.translate("xpack.remoteClusters.clusterWizard.setupTrustLabel",{defaultMessage:"Establish trust"}),status:2===i?"current":"incomplete",disabled:!o,onClick:()=>n(2)}]),[i,o,n]);return Object(x.jsx)(fe.EuiPageSection,{restrictWidth:!0},Object(x.jsx)(fe.EuiStepsHorizontal,{steps:u}),Object(x.jsx)(fe.EuiSpacer,{size:"xl"}),Object(x.jsx)("div",{style:{display:1===i?"block":"none"}},Object(x.jsx)(remote_cluster_form_RemoteClusterForm,{save:e=>{l(e),n(2)},cancel:t,saveError:a})),2===i&&Object(x.jsx)(_e,{onBack:()=>n(1),onSubmit:()=>{e(o)},isSaving:s}))};class remote_cluster_add_RemoteClusterAdd extends r.PureComponent{constructor(...e){super(...e),Ee()(this,"save",(e=>{this.props.addCluster(e)})),Ee()(this,"redirectToList",(()=>{const{history:e,route:{location:{search:t}}}=_(),{redirect:s}=Object(i.extractQueryParams)(t);if(s){const e=decodeURIComponent(s);Object(D.b)(e)}else e.push("/list")}))}componentDidMount(){Object(L.b)("add")}componentWillUnmount(){this.props.clearAddClusterErrors()}render(){const{isAddingCluster:e,addClusterError:t}=this.props;return Object(x.jsx)(fe.EuiPageBody,{"data-test-subj":"remote-clusters-add"},Object(x.jsx)(fe.EuiPageSection,{paddingSize:"none"},Object(x.jsx)(rt,{title:Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.addTitle",defaultMessage:"Add remote cluster"}),description:Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.remoteClustersDescription",defaultMessage:"Create a connection from this cluster to other Elasticsearch clusters."})}),Object(x.jsx)(it,{saveRemoteClusterConfig:this.save,onCancel:this.redirectToList,isSaving:e,addClusterError:t})))}}const nt=Object(l.connect)((e=>({isAddingCluster:q(e),addClusterError:H(e)})),(e=>({addCluster:t=>{e((e=>async t=>{t({type:se});try{await Promise.all([k(e),new Promise((e=>setTimeout(e,500)))])}catch(s){if(s){const{body:r}=s;if(r){const{statusCode:s,message:a}=r;return t(s&&409===s?{type:ae,payload:{error:{message:Y.i18n.translate("xpack.remoteClusters.addAction.clusterNameAlreadyExistsErrorMessage",{defaultMessage:"A cluster with the name '{clusterName}' already exists.",values:{clusterName:e.name}})}}}:{type:ae,payload:{error:{message:Y.i18n.translate("xpack.remoteClusters.addAction.failedDefaultErrorMessage",{defaultMessage:"Request failed with a {statusCode} error. {message}",values:{statusCode:s,message:a}})}}})}}return T.a.add(s,Y.i18n.translate("xpack.remoteClusters.addAction.errorTitle",{defaultMessage:"Error adding cluster"}))}t({type:re});const{history:s,route:{location:{search:r}}}=_(),{redirect:a}=Object(i.extractQueryParams)(r);if(a){T.c.addSuccess(Y.i18n.translate("xpack.remoteClusters.addAction.successTitle",{defaultMessage:"Added remote cluster '{name}'",values:{name:e.name}}));const t=decodeURIComponent(a);Object(D.b)(`${t}?cluster=${e.name}`)}else s.push({pathname:"/list",search:`?cluster=${e.name}`})})(t))},clearAddClusterErrors:()=>{e((e=>{e({type:oe})}))}})))(remote_cluster_add_RemoteClusterAdd);class remote_cluster_edit_RemoteClusterEdit extends r.Component{constructor(e){super(e),Ee()(this,"save",(e=>{this.props.editCluster(e)})),Ee()(this,"cancel",(()=>{const{openDetailPanel:e}=this.props,{clusterName:t}=this.state,{history:s,route:{location:{search:r}}}=_(),{redirect:a}=Object(i.extractQueryParams)(r);if(a){const e=decodeURIComponent(a);Object(D.b)(e)}else s.push("/list"),e(t)}));const{match:{params:{name:t}}}=e;Object(L.b)("edit",`?cluster=${t}`),this.state={clusterName:t}}componentDidMount(){const{startEditingCluster:e}=this.props,{clusterName:t}=this.state;e(t)}componentWillUnmount(){this.props.clearEditClusterErrors(),this.props.stopEditingCluster()}render(){const{clusterName:e}=this.state,{isLoading:t,cluster:s,isEditingCluster:r,getEditClusterError:o}=this.props;if(t)return Object(x.jsx)(i.SectionLoading,null,Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.edit.loadingLabel",defaultMessage:"Loading remote cluster"}));if(!s)return Object(x.jsx)(fe.EuiPageTemplate.EmptyPrompt,{iconType:"warning",color:"danger",title:Object(x.jsx)("h2",null,Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.edit.loadingErrorTitle",defaultMessage:"Error loading remote cluster"})),body:Object(x.jsx)("p",null,Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.edit.loadingErrorMessage",defaultMessage:"The remote cluster '{name}' does not exist.",values:{name:e}})),actions:Object(x.jsx)(fe.EuiButton,d()({},Object(n.reactRouterNavigate)(this.props.history,"/list"),{color:"danger",iconType:"arrowLeft",flush:"left"}),Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.edit.viewRemoteClustersButtonLabel",defaultMessage:"View remote clusters"}))});const{isConfiguredByNode:l,hasDeprecatedProxySetting:u}=s;return l?Object(x.jsx)(fe.EuiPageTemplate.EmptyPrompt,{iconType:"iInCircle",title:Object(x.jsx)("h2",null,Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.edit.configuredByNodeWarningTitle",defaultMessage:"Defined in configuration"})),body:Object(x.jsx)("p",null,Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.configuredByNodeWarningBody",defaultMessage:"You can't edit or delete this remote cluster because it's defined in a node's elasticsearch.yml configuration file."})),actions:Object(x.jsx)(fe.EuiButton,{color:"primary",iconType:"arrowLeft",flush:"left",onClick:this.cancel},Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.edit.backToRemoteClustersButtonLabel",defaultMessage:"Back to remote clusters"}))}):Object(x.jsx)(fe.EuiPageBody,{restrictWidth:!0,"data-test-subj":"remote-clusters-edit"},Object(x.jsx)(fe.EuiPageSection,{paddingSize:"none"},Object(x.jsx)(rt,{title:Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.editTitle",defaultMessage:"Edit remote cluster"})}),u?Object(x.jsx)(a.a.Fragment,null,Object(x.jsx)(fe.EuiCallOut,{title:Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.edit.deprecatedSettingsTitle",defaultMessage:"Proceed with caution"}),color:"warning",iconType:"help"},Object(x.jsx)(Ce.FormattedMessage,{id:"xpack.remoteClusters.edit.deprecatedSettingsMessage",defaultMessage:"This remote cluster has deprecated settings that we tried to resolve. Verify all changes before saving."})),Object(x.jsx)(fe.EuiSpacer,null)):null,Object(x.jsx)(remote_cluster_form_RemoteClusterForm,{cluster:s,isSaving:r,saveError:o,save:this.save,cancel:this.cancel})))}}const ut=Object(l.connect)((e=>({isLoading:z(e),cluster:V(e),isEditingCluster:$(e),getEditClusterError:G(e)})),(e=>({startEditingCluster:t=>{e((({clusterName:e})=>t=>{t(ge()),t({type:le,payload:{clusterName:e}})})({clusterName:t}))},stopEditingCluster:()=>{e((e=>{e(ge()),e({type:ie})}))},editCluster:t=>{e((e=>async t=>{t({type:ne});try{await Promise.all([S(e),new Promise((e=>setTimeout(e,500)))])}catch(e){if(e){const{body:s}=e;if(s){const{statusCode:e,message:r}=s;return t({type:ce,payload:{error:{message:Y.i18n.translate("xpack.remoteClusters.editAction.failedDefaultErrorMessage",{defaultMessage:"Request failed with a {statusCode} error. {message}",values:{statusCode:e,message:r}})}}})}}return T.a.add(e,Y.i18n.translate("xpack.remoteClusters.editAction.errorTitle",{defaultMessage:"Error editing cluster"}))}t({type:ue});const{history:s,route:{location:{search:r}}}=_(),{redirect:a}=Object(i.extractQueryParams)(r);if(a){T.c.addSuccess(Y.i18n.translate("xpack.remoteClusters.editAction.successTitle",{defaultMessage:"Edited remote cluster '{name}'",values:{name:e.name}}));const t=decodeURIComponent(a);Object(D.b)(`${t}?cluster=${e.name}`)}else s.push({pathname:"/list",search:`?cluster=${e.name}`})})(t))},clearEditClusterErrors:()=>{e((e=>{e({type:de})}))},openDetailPanel:t=>{e(pe({name:t}))}})))(remote_cluster_edit_RemoteClusterEdit);class app_AppComponent extends r.Component{constructor(...e){super(...e),P(!1),this.registerRouter()}registerRouter(){const{history:e}=this.props;var t;t={history:e,route:{location:e.location}},R=t}componentDidMount(){Object(M.c)(M.a.LOADED,y.a)}componentWillUnmount(){P(!0)}render(){return Object(x.jsx)(O,{history:this.props.history},Object(x.jsx)(E,null,Object(x.jsx)(g,{exact:!0,path:["/list","/",""],component:lt}),Object(x.jsx)(g,{path:["/add"],component:nt}),Object(x.jsx)(g,{path:"/edit/:name",component:ut}),Object(x.jsx)(u.Redirect,{from:"/:anything",to:"/list"})))}}const ct=app_AppComponent;var dt=s(26),mt=s(35),jt=s.n(mt);const pt={isLoading:!1,clusterLoadError:null,asList:[],byName:{},allNames:[]},bt=e=>e.reduce(((e,t)=>({...e,[t.name]:t})),{}),xt=e=>e.map((e=>e.name)),gt={isOpen:!1,clusterName:void 0},Ct={isAdding:!1,error:void 0},ft={isRemoving:!1},Ot={clusterName:void 0,isEditing:!1,error:void 0},ht=Object(dt.combineReducers)({clusters:function(e=pt,t){const{type:s,payload:r}=t;switch(s){case Z:return{...e,isLoading:!0};case X:return{asList:[...r.clusters],byName:bt(r.clusters),allNames:xt(r.clusters),isLoading:!1};case te:return{asList:[...r.clusters],byName:bt(r.clusters),allNames:xt(r.clusters)};case ee:return{...e,isLoading:!1,clusterLoadError:r.error};case je:const t=r,s=Object.keys(e.byName).filter((e=>t.indexOf(e)<0)).map((t=>e.byName[t]));return{...e,asList:s,byName:bt(s),allNames:xt(s)};default:return e}},detailPanel:function(e=gt,t){const{type:s,payload:r}=t;switch(s){case Q:const{clusterName:t}=r;return{clusterName:t,isOpen:!0};case J:return{clusterName:void 0,isOpen:!1};default:return e}},addCluster:function(e=Ct,t){const{type:s,payload:r}=t;switch(s){case se:return{isAdding:!0,error:void 0};case re:return{...e,isAdding:!1};case ae:return{...e,error:r.error,isAdding:!1};case oe:return{...e,error:void 0};default:return e}},removeCluster:function(e=ft,t){const{type:s}=t;switch(s){case me:return{isRemoving:!0};case je:return{isRemoving:!1};default:return e}},editCluster:function(e=Ot,t){const{type:s,payload:r}=t;switch(s){case le:const{clusterName:t}=r;return{clusterName:t};case ie:return{clusterName:void 0,isEditing:!1,error:void 0};case ne:return{...e,isEditing:!0};case ue:return{...e,isEditing:!1};case ce:return{...e,error:r.error,isEditing:!1};case de:return{...e,error:void 0};default:return e}}}),Et=()=>e=>t=>{const{type:s}=t;if(s===J&&!N){const{history:e}=_();e.replace({search:""})}return e(t)},yt=function(e={}){const t=[Object(dt.applyMiddleware)(jt.a,Et)];return Object(dt.createStore)(ht,e,Object(dt.compose)(...t))}();s(36);const Mt=({history:e,executionContext:t})=>(Object(n.useExecutionContext)(t,{type:"application",page:"remoteClusters"}),Object(x.jsx)(ct,{history:e})),vt=(e,t,s,r,a)=>(Object(o.render)(Object(x.jsx)(t,null,Object(x.jsx)(n.KibanaThemeProvider,{theme$:a},Object(x.jsx)(l.Provider,{store:yt},Object(x.jsx)(Te,{context:s},Object(x.jsx)(Mt,{history:r,executionContext:s.executionContext}))))),e),()=>Object(o.unmountComponentAtNode)(e))}}]);