/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.dataVisualizer_bundle_jsonpfunction=window.dataVisualizer_bundle_jsonpfunction||[]).push([[1],Array(62).concat([function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a(0);var i=a(9),s=a(2);const n=({children:e,dataTestSubj:t,grow:a,className:n})=>Object(s.jsx)(i.EuiPanel,{"data-test-subj":t,hasShadow:!1,hasBorder:!1,grow:!!a,className:null!=n?n:"",paddingSize:"s"},e)},function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a(0);var i=a(9),s=a(2);const n=({children:e,dataTestSubj:t})=>Object(s.jsx)(i.EuiFlexGroup,{"data-test-subj":t,gutterSize:"s",wrap:!0},e)},,,,function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var i=a(27),s=(a(0),a(3)),n=a(9),l=a(72),r=a(73),o=a(74),d=a(62),u=a(2);const c=[{field:"function",name:"",render:(e,t)=>t.display,width:"25px",align:n.LEFT_ALIGNMENT},{field:"value",name:"",render:e=>Object(u.jsx)("strong",null,e),align:n.RIGHT_ALIGNMENT}],m=s.i18n.translate("xpack.dataVisualizer.dataGrid.fieldExpandedRow.documentStatsTable.metaTableTitle",{defaultMessage:"Documents stats"}),p=({config:e})=>{if(void 0===(null==e?void 0:e.stats)||void 0===e.stats.cardinality||void 0===e.stats.count||void 0===e.stats.sampleCount)return null;const{cardinality:t,count:a,sampleCount:s}=e.stats,p=null!=a?a:Object(o.a)(e)&&!0===e.existsInDocs?void 0:0,b=void 0!==p&&void 0!==s?Object(l.a)(p/s*100):void 0,f=[{function:"count",display:Object(u.jsx)(i.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.fieldExpandedRow.documentStatsTable.countLabel",defaultMessage:"count"}),value:a},...void 0!==b?[{function:"percentage",display:Object(u.jsx)(i.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.fieldExpandedRow.documentStatsTable.percentageLabel",defaultMessage:"percentage"}),value:`${b}%`}]:[],{function:"distinctValues",display:Object(u.jsx)(i.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.fieldExpandedRow.documentStatsTable.distinctValueLabel",defaultMessage:"distinct values"}),value:t}];return Object(u.jsx)(d.a,{dataTestSubj:"dataVisualizerDocumentStatsContent",className:"dvSummaryTable__wrapper dvPanel__wrapper"},Object(u.jsx)(r.a,null,m),Object(u.jsx)(n.EuiBasicTable,{className:"dvSummaryTable",compressed:!0,items:f,columns:c,tableCaption:m}))}},,,function(e,t,a){"use strict";a.d(t,"b",(function(){return d})),a.d(t,"f",(function(){return u})),a.d(t,"g",(function(){return o})),a.d(t,"a",(function(){return n})),a.d(t,"d",(function(){return c})),a.d(t,"e",(function(){return b})),a.d(t,"c",(function(){return g}));var i=a(6),s=a(7);const n=1e3,l=5,r={timestampFormat:void 0,timestampField:void 0,format:void 0,delimiter:void 0,quote:void 0,hasHeaderRow:void 0,charset:void 0,columnNames:void 0,shouldTrimFields:void 0,grokPattern:void 0,linesToSample:void 0};function o(e){return new Promise(((t,a)=>{if(e&&e.size){const i=new FileReader;i.readAsArrayBuffer(e),i.onload=()=>{const e=new TextDecoder,n=i.result;if(null===n||"string"==typeof n)return a();const r=l*s.e,o=e.decode(n.slice(0,r));""===o?a():t({fileContents:o,data:n})}}else a()}))}function d(e,t){const a={};for(const s in r)if(r.hasOwnProperty(s)){let n=e[s];(Array.isArray(n)&&Object(i.isEqual)(n,t[s])||void 0===n||n===t[s])&&(n=""),a[s.replace(/([A-Z])/g,(e=>`_${e.toLowerCase()}`))]=n}return""===a.format&&t.format===s.c.DELIMITED&&(""===a.should_trim_fields&&""===a.has_header_row&&""===a.delimiter&&""===a.quote&&""===a.column_names||(a.format=t.format),Array.isArray(a.column_names)&&(a.column_names=a.column_names.join())),""===a.format&&t.format===s.c.SEMI_STRUCTURED_TEXT&&""!==a.grok_pattern&&(a.format=t.format),a.format!==s.c.NDJSON&&t.format!==s.c.NDJSON||(a.should_trim_fields="",a.has_header_row="",a.delimiter="",a.quote="",a.column_names=""),""===a.lines_to_sample&&(a.lines_to_sample=e.linesToSample),a}function u({results:e,overrides:t}){let a;t&&t.timestamp_format===s.g||void 0===e.java_timestamp_formats?a=s.g:e.java_timestamp_formats.length&&(a=e.java_timestamp_formats[0]);const i=void 0!==t&&void 0!==t.lines_to_sample?t.lines_to_sample:n;return{format:e.format,delimiter:e.delimiter,timestampField:e.timestamp_field,timestampFormat:a,quote:e.quote,hasHeaderRow:e.has_header_row,shouldTrimFields:e.should_trim_fields,charset:e.charset,columnNames:e.column_names,grokPattern:e.grok_pattern,linesToSample:i}}function c(e,t){return null!=t?t.convert(e,"text"):e}var m=a(41),p=a.n(m);function b(e){const t=Math.floor(e);return`${p()(t).format("0o")}`}var f=a(29),x=a.n(f);const j=3;function g(e,t,a,i){if(null==e)return"";if("time_of_week"===t){const t=void 0!==i&&void 0!==i.timestamp?new Date(i.timestamp):new Date,a=x.a.utc(t).startOf("week").add(e,"s");return x()(a.valueOf()).format("ddd HH:mm")}if("time_of_day"===t){const t=void 0!==i&&void 0!==i.timestamp?new Date(i.timestamp):new Date,a=x.a.utc(t).startOf("day").add(e,"s");return x()(a.valueOf()).format("HH:mm")}if(void 0!==a)return a.convert(e,"text");{const t=Math.abs(e);if(t>=1e4||t===Math.floor(t))return void 0!==a?a.convert(e,"text"):Number(e.toFixed(0));if(t>=10)return Number(e.toFixed(1));{let t;return t=e>0?Math.pow(10,j-Math.floor(Math.log(e)/Math.LN10)-1):Math.pow(10,j-Math.floor(Math.log(-1*e)/Math.LN10)-1),Math.round(e*t)/t}}}},,,function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var i=a(9),s=(a(0),a(2));const n=({children:e})=>{const{euiTheme:t}=Object(i.useEuiTheme)(),a=Object(s.css)({textTransform:"uppercase",textAlign:"left",color:t.colors.darkShade,fontWeight:"bold",paddingBottom:t.size.s},"","");return Object(s.jsx)(i.EuiText,{size:"xs",color:"subdued",css:a,textAlign:"center"},e)}},function(e,t,a){"use strict";function i(e){return e.hasOwnProperty("existsInDocs")}a.d(t,"a",(function(){return i}))},,,,,,,,,,function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a(0);var i=a(9),s=a(27),n=a(3),l=a(73),r=a(62),o=a(2);const d=n.i18n.translate("xpack.dataVisualizer.dataGrid.field.examplesList.emptyExampleMessage",{defaultMessage:"(empty)"}),u=({examples:e})=>{if(null==e||!Array.isArray(e))return null;let t;return t=0===e.length?Object(o.jsx)(s.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.field.examplesList.noExamplesMessage",defaultMessage:"No examples were obtained for this field"}):e.map(((e,t)=>Object(o.jsx)(i.EuiListGroupItem,{size:"xs",key:`example_${t}`,label:"string"==typeof e?""===e?d:e:JSON.stringify(e)}))),Object(o.jsx)(r.a,{dataTestSubj:"dataVisualizerFieldDataExamplesList",className:"dvText__wrapper dvPanel__wrapper"},Object(o.jsx)(l.a,null,Object(o.jsx)(s.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.field.examplesList.title",defaultMessage:"{numExamples, plural, one {Value} other {Examples}}",values:{numExamples:e.length}})),Object(o.jsx)(i.EuiListGroup,{showToolTips:!0,maxWidth:"s",gutterSize:"none",flush:!0},t))}},function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var i=a(9),s=a(0),n=a(27),l=a(2),r=a(66);const o=()=>Object(l.jsx)(i.EuiSelectableMessage,null,Object(l.jsx)(i.EuiIcon,{type:"minusInCircle"}),Object(l.jsx)(i.EuiSpacer,{size:"xs"}),Object(l.jsx)("p",null,Object(l.jsx)(n.FormattedMessage,{id:"xpack.dataVisualizer.multiSelectPicker.NoFiltersFoundMessage",defaultMessage:"No filters found"}))),d=({options:e,onChange:t,title:a,checkedOptions:n,dataTestSubj:d,postfix:u,cssStyles:c})=>{var m;const p=Object(r.a)(),[b,f]=Object(s.useState)(e),[x,j]=Object(s.useState)("");Object(s.useEffect)((()=>{if(""===x)f(e);else{const t=e.filter((e=>{var t;return null==e||null===(t=e.value)||void 0===t?void 0:t.includes(x)}));f(t)}}),[e,x]);const[g,O]=Object(s.useState)(!1),v=Object(l.jsx)(i.EuiFilterButton,{"data-test-subj":`${d}-button`,iconType:"arrowDown",onClick:()=>{O(!g)},isSelected:g,numFilters:b.length,hasActiveFilters:n&&n.length>0,numActiveFilters:n&&n.length},a);return Object(l.jsx)(i.EuiFilterGroup,{"data-test-subj":d,css:null==c?void 0:c.filterGroup},Object(l.jsx)(i.EuiPopover,{ownFocus:!0,"data-test-subj":`${d}-popover`,button:v,isOpen:g,closePopover:()=>{O(!1),j("")},panelPaddingSize:"none"},Object(l.jsx)(i.EuiPopoverTitle,{paddingSize:"s"},Object(l.jsx)(i.EuiFieldSearch,{compressed:!0,onChange:e=>j(e.target.value),"data-test-subj":`${d}-searchInput`})),Object(l.jsx)("div",{css:null!==(m=null==c?void 0:c.filterItemContainer)&&void 0!==m?m:Object(l.css)("max-height:","250px",";overflow:auto;","")},Array.isArray(b)&&b.length>0?b.map(((e,a)=>{var s;const r=n&&n.findIndex((t=>t===e.value))>-1;return Object(l.jsx)(i.EuiFilterSelectItem,{checked:r?"on":void 0,key:a,onClick:()=>(e=>{if(!b[e]||!Array.isArray(n)||void 0===t)return;const a=b[e],i=n.findIndex((e=>e===a.value));t(i>-1?n.filter(((e,t)=>t!==i)):[...n,a.value])})(a),style:{flexDirection:"row",color:!0===e.disabled?p.euiColorDisabledText:p.euiTextColor},"data-test-subj":`${d}-option-${e.value}${r?"-checked":""}`},null!==(s=e.name)&&void 0!==s?s:e.value)})):Object(l.jsx)(o,null))),u||null)}},,function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return s}));const i=e=>{const{stats:t}=e;if(void 0===t)return null;const{count:a}=t;let{trueCount:i,falseCount:s}=t;var n;return void 0!==t.trueCount&&void 0!==t.falseCount||null!=e&&null!==(n=e.stats)&&void 0!==n&&n.topValues&&e.stats.topValues.forEach((e=>{void 0!==e.doc_count&&("false"===e.key.toString().toLowerCase()&&(s=e.doc_count),"true"===e.key.toString().toLowerCase()&&(i=e.doc_count))})),void 0===a||void 0===i||void 0===s?null:{count:a,trueCount:i,falseCount:s}},s=e=>{const t={expander:"40px",type:"75px",docCount:"225px",distinctValues:"225px",distributions:"225px",showIcon:!0,breakPoint:"large"};return void 0===e?t:e<=700?{expander:"25px",type:"40px",docCount:"auto",distinctValues:"auto",distributions:"auto",showIcon:!1,breakPoint:"small"}:e<=1e3?{expander:"25px",type:"40px",docCount:"auto",distinctValues:"auto",distributions:"auto",showIcon:!1,breakPoint:"medium"}:t}},function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var i=a(7);function s(e,t,a){let s=e;return a&&a.length>0&&(s=s.filter((e=>a.findIndex((t=>function(e,t){return e===t.secondaryType||e===t.type}(t,e)))>-1))),t&&t.length>0&&(s=s.filter((e=>t.findIndex((t=>t===e.fieldName))>-1))),{filteredFields:s,visibleFieldsCount:s.length,visibleMetricsCount:s.filter((e=>e.type===i.i.NUMBER)).length}}},,,function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return u})),a.d(t,"c",(function(){return c})),a.d(t,"d",(function(){return m})),a(47),a(0),a(3);var i=a(10),s=(a(18),a(93),a(35),a(9));let n,l;!function(e){e.ALPHA="alpha",e.ETA="eta",e.ETA_GROWTH_RATE_PER_TREE="eta_growth_rate_per_tree",e.DOWNSAMPLE_FACTOR="downsample_factor",e.FEATURE_BAG_FRACTION="feature_bag_fraction",e.FEATURE_INFLUENCE_THRESHOLD="feature_influence_threshold",e.GAMMA="gamma",e.LAMBDA="lambda",e.MAX_TREES="max_trees",e.MAX_OPTIMIZATION_ROUNDS_PER_HYPERPARAMETER="max_optimization_rounds_per_hyperparameter",e.METHOD="method",e.N_NEIGHBORS="n_neighbors",e.NUM_TOP_CLASSES="num_top_classes",e.NUM_TOP_FEATURE_IMPORTANCE_VALUES="num_top_feature_importance_values",e.OUTLIER_FRACTION="outlier_fraction",e.RANDOMIZE_SEED="randomize_seed",e.SOFT_TREE_DEPTH_LIMIT="soft_tree_depth_limit",e.SOFT_TREE_DEPTH_TOLERANCE="soft_tree_depth_tolerance"}(n||(n={})),function(e){e.LOF="lof",e.LDOF="ldof",e.DISTANCE_KTH_NN="distance_kth_nn",e.DISTANCE_KNN="distance_knn"}(l||(l={}));var r=a(12);let o;new Set([i.a.UNSIGNED_LONG,i.a.LONG,i.a.INTEGER,i.a.SHORT,i.a.BYTE]),new Set([i.a.DOUBLE,i.a.FLOAT,i.a.HALF_FLOAT,i.a.SCALED_FLOAT]),a(65),function(e){e[e.UNUSED=0]="UNUSED",e[e.LOADING=1]="LOADING",e[e.LOADED=2]="LOADED",e[e.ERROR=3]="ERROR"}(o||(o={}));const d=(e,t)=>{const a={...e};for(const e of Object.keys(a))void 0===t?Array.isArray(a[e])&&1===a[e].length&&(a[e]=a[e][0]):!1===t(e)&&Array.isArray(a[e])&&1===a[e].length&&(a[e]=a[e][0]);return a};a(6);a(2);a(27);const u=e=>Object(r.a)(e,["data","id","interval","stats","type"])&&"numeric"===e.type,c=e=>Object(r.a)(e,["data","cardinality","id","type"])&&("ordinal"===e.type||"boolean"===e.type),m=e=>Object(r.a)(e,["type"])&&"unsupported"===e.type;a(29);var p=a(13),b=(a(61),a(36));b.euiThemeVars.euiSize,new p.BehaviorSubject(null),Object(s.euiPaletteColorBlind)()[0],Object(s.euiPaletteColorBlind)({rotations:2})[10],a(58),a(28),b.euiThemeVars.euiSizeXL,b.euiThemeVars.euiSizeXXL,Object(s.euiTextTruncate)(),b.euiThemeVars.euiColorMediumShade,b.euiThemeVars.euiSizeXS,b.euiThemeVars.euiFontSizeXS},function(e,t,a){"use strict";a.d(t,"a",(function(){return U}));var i=a(0),s=a.n(i),n=a(9),l=a(3),r=a(6),o=a(2),d=a(7),u=a(10),c=a(72),m=a(27),p=a(55),b=a(74);const f=({config:e,showIcon:t,totalCount:a})=>{const{stats:i,type:l}=e,{services:{data:{fieldFormats:r}}}=Object(p.a)();if(void 0===i)return null;const{count:f,sampleCount:x}=i,j=null!=x?x:a,g=null!=f?f:Object(b.a)(e)&&!0===e.existsInDocs?void 0:0,O=void 0!==g&&void 0!==j?`(${Object(c.a)(g/j*100)}%)`:null,v=Object(o.jsx)(n.EuiText,{size:"xs"},r.getDefaultInstance(u.b.NUMBER,[u.a.INTEGER]).convert(g)," ",O),h=l===d.i.TEXT?Object(o.jsx)(m.FormattedMessage,{id:"xpack.dataVisualizer.sampledPercentageForTextFieldsMsg",defaultMessage:"The % of documents for text fields is calculated from a sample of {sampledDocumentsFormatted} {sampledDocuments, plural, one {record} other {records}}.",values:{sampledDocuments:x,sampledDocumentsFormatted:Object(o.jsx)("strong",null,r.getDefaultInstance(u.b.NUMBER,[u.a.INTEGER]).convert(x))}}):null,T=t?l===d.i.TEXT?Object(o.jsx)(n.EuiToolTip,{content:h},Object(o.jsx)(n.EuiIcon,{type:"partial",size:"m",className:"columnHeader__icon"})):Object(o.jsx)(n.EuiIcon,{type:"document",size:"m",className:"columnHeader__icon"}):null;return void 0!==g?Object(o.jsx)(s.a.Fragment,null,T,Object(o.jsx)(n.EuiToolTip,{content:h},v)):null};var x=a(117),j=a(70);const g=({config:e})=>{const{stats:t,fieldFormat:a,fieldName:l}=e,r=`dataVisualizerDataGridChart-${l}`,d=Object(i.useMemo)((()=>Object(x.b)(null==t?void 0:t.distribution,100)),[null==t?void 0:t.distribution]),u=Object(i.useMemo)((()=>Array.isArray(d)&&void 0!==d[0].x&&void 0!==d[d.length-1].x?{min:Object(j.c)(d[0].x),max:Object(j.c)(d[d.length-1].x)}:""),[d]);return Object(o.jsx)("div",{"data-test-subj":r,style:{width:"100%"}},Object(o.jsx)("div",{className:"dataGridChart__histogram","data-test-subj":`${r}-histogram`},Object(o.jsx)(x.a,{width:100,height:10,chartData:d,fieldFormat:a,hideXAxis:!0})),Object(o.jsx)("div",{className:"dataGridChart__legend","data-test-subj":`${r}-legend`},u&&Object(o.jsx)(s.a.Fragment,null,Object(o.jsx)(n.EuiFlexGroup,{direction:"row","data-test-subj":`${r}-legend`,responsive:!1,gutterSize:"m"},Object(o.jsx)(n.EuiFlexItem,{className:"dataGridChart__legend",style:{maxWidth:75}},Object(j.d)(u.min,a)),Object(o.jsx)(n.EuiFlexItem,{className:"dataGridChart__legend"},Object(j.d)(u.max,a))))))},O=[10,25,50,100];var v=a(34),h=a.n(v),T=a(28),_=a(91),E=(a(130),a(29)),y=a.n(E),M=a(13),F=a(61),N=a.n(F),C=a(32);const S=new M.BehaviorSubject(null),w=Object(n.euiPaletteColorBlind)()[0],V=Object(n.euiPaletteColorBlind)({rotations:2})[10],z=(e,t,a=!1)=>{if("unsupported"===e.type)return l.i18n.translate("xpack.dataVisualizer.dataGridChart.histogramNotAvailable",{defaultMessage:"Chart not supported."});if(0===e.data.length)return"";var i,s,n,r;if("boolean"===e.type)return Object(o.jsx)("table",null,Object(o.jsx)("tbody",null,Object(o.jsx)("tr",null,void 0!==e.data[0]&&Object(o.jsx)("td",{className:"dataGridChart__legendBoolean"},null!==(i=null===(s=e.data[0].key_as_string)||void 0===s?void 0:s.slice(0,1))&&void 0!==i?i:""),void 0!==e.data[1]&&Object(o.jsx)("td",{className:"dataGridChart__legendBoolean"},null!==(n=null===(r=e.data[1].key_as_string)||void 0===r?void 0:r.slice(0,1))&&void 0!==n?n:""))));if(Object(_.c)(e)&&a)return l.i18n.translate("xpack.dataVisualizer.dataGridChart.singleTopValueLegend",{defaultMessage:"{cardinality, plural, one {# value {exampleValue}} other {# values}}",values:{cardinality:e.cardinality,exampleValue:e.data[0].key?`(${e.data[0].key})`:""}});if(Object(_.c)(e)&&e.cardinality<=t)return l.i18n.translate("xpack.dataVisualizer.dataGridChart.singleCategoryLegend",{defaultMessage:"{cardinality, plural, one {# category} other {# categories}}",values:{cardinality:e.cardinality}});if(Object(_.c)(e)&&e.cardinality>t)return l.i18n.translate("xpack.dataVisualizer.dataGridChart.topCategoriesLegend",{defaultMessage:"top {maxChartColumns} of {cardinality} categories",values:{cardinality:e.cardinality,maxChartColumns:t}});if(Object(_.b)(e)){const t=Math.round(100*e.stats[0])/100,a=Math.round(100*e.stats[1])/100;return t!==a?`${t} - ${a}`:""+t}return""},D={bottom:0,left:0,right:0,top:0},I={width:100,height:10},A=({chartData:e,columnType:t,dataTestSubj:a,hideLabel:i,maxChartColumns:s,isNumeric:n})=>{const{data:r,legendText:d}=((e,t,a,i)=>{const s=(e=>{if("non-aggregatable"===e)return;let t;switch(e){case"datetime":t=C.KBN_FIELD_TYPES.DATE;break;case"numeric":t=C.KBN_FIELD_TYPES.NUMBER;break;case"boolean":t=C.KBN_FIELD_TYPES.BOOLEAN;break;case"json":t=C.KBN_FIELD_TYPES.OBJECT;break;default:t=C.KBN_FIELD_TYPES.STRING}return t})(t.schema),n=N()(S),l=(e=>{switch(e){case C.KBN_FIELD_TYPES.BOOLEAN:case C.KBN_FIELD_TYPES.IP:case C.KBN_FIELD_TYPES.STRING:return"ordinal";case C.KBN_FIELD_TYPES.DATE:return"time";case C.KBN_FIELD_TYPES.NUMBER:return"linear"}})(s),r=a=>null==n||Object(_.c)(e)&&"ordinal"===l&&n._source[t.id]===a.key||Object(_.b)(e)&&"linear"===l&&n._source[t.id]>=+a.key&&n._source[t.id]<+a.key+e.interval||Object(_.b)(e)&&"time"===l&&1e3*y()(n._source[t.id]).unix()>=+a.key&&1e3*y()(n._source[t.id]).unix()<+a.key+e.interval?w:V;let o=[];return Object(_.c)(e)?o=e.data.map(((e,t)=>{var a;return{...e,x:t,key_as_string:null!==(a=e.key_as_string)&&void 0!==a?a:e.key,color:r(e)}})):Object(_.b)(e)&&(o=e.data.map(((e,t)=>({...e,x:t,key_as_string:e.key_as_string||e.key,color:r(e)})))),{data:o,legendText:z(e,a,i),xScaleType:l}})(e,t,s,n);return Object(o.jsx)("div",{"data-test-subj":a,style:{width:"100%"}},!Object(_.d)(e)&&r.length>0&&Object(o.jsx)(T.Chart,{size:I},Object(o.jsx)(T.Settings,{xDomain:Array.from({length:s},((e,t)=>t)),theme:{chartMargins:D,chartPaddings:D,crosshair:{band:{visible:!1}}},locale:l.i18n.getLocale()}),Object(o.jsx)(T.Axis,{id:"bottom",position:T.Position.Bottom,tickFormat:e=>{var t,a;return`${null!==(t=null===(a=r[e])||void 0===a?void 0:a.key_as_string)&&void 0!==t?t:""}`},hide:!0}),Object(o.jsx)(T.BarSeries,{id:"count",xScaleType:T.ScaleType.Ordinal,yScaleType:T.ScaleType.Linear,xAccessor:"x",yAccessors:["doc_count"],data:r,styleAccessor:e=>e.datum.color})),Object(o.jsx)("div",{className:h()("dataGridChart__legend",{"dataGridChart__legend--numeric":"number"===t.schema}),"data-test-subj":`${a}-legend`},d),!i&&Object(o.jsx)("div",{"data-test-subj":`${a}-id`},t.id))},k=({config:e,isNumeric:t})=>{const{stats:a}=e;if(void 0===a)return null;const{topValues:i,cardinality:s}=a;if(void 0===s||void 0===i||void 0===e.fieldName)return null;const n={cardinality:s,data:i.map((e=>({...e,key:e.key.toString()}))),id:e.fieldName,type:"ordinal"},l={id:e.fieldName,schema:void 0};return Object(o.jsx)(A,{chartData:n,columnType:l,dataTestSubj:`dataVisualizerDataGridChart-${e.fieldName}`,hideLabel:!0,maxChartColumns:10,isNumeric:t})},L=({config:e})=>{const t=e.stats;return void 0===t||void 0===t.min||void 0===t.median||void 0===t.max?null:Object(o.jsx)(n.EuiFlexGroup,{direction:"column",gutterSize:"xs"},Object(o.jsx)(n.EuiFlexGroup,{gutterSize:"xs"},Object(o.jsx)(n.EuiFlexItem,null,Object(o.jsx)(n.EuiText,{size:"xs"},Object(o.jsx)(m.FormattedMessage,{id:"xpack.dataVisualizer.fieldStats.minTitle",defaultMessage:"min"}))),Object(o.jsx)(n.EuiFlexItem,null,Object(o.jsx)(n.EuiText,{size:"xs"},Object(o.jsx)(m.FormattedMessage,{id:"xpack.dataVisualizer.fieldStats.medianTitle",defaultMessage:"median"}))),Object(o.jsx)(n.EuiFlexItem,null,Object(o.jsx)(n.EuiText,{size:"xs"},Object(o.jsx)(m.FormattedMessage,{id:"xpack.dataVisualizer.fieldStats.maxTitle",defaultMessage:"max"})))),Object(o.jsx)(n.EuiFlexGroup,{gutterSize:"xs"},Object(o.jsx)(n.EuiFlexItem,null,Object(o.jsx)(n.EuiText,{size:"xs"},t.min)),Object(o.jsx)(n.EuiFlexItem,null,Object(o.jsx)(n.EuiText,{size:"xs"},t.median)),Object(o.jsx)(n.EuiFlexItem,null,Object(o.jsx)(n.EuiText,{size:"xs"},t.max))))};var R=a(87);const G=({config:e})=>{const t=Object(i.useMemo)((()=>{const t=Object(R.b)(e);if(t){const a=[{key:"true",key_as_string:"true",doc_count:t.trueCount},{key:"false",key_as_string:"false",doc_count:t.falseCount}];return{id:e.fieldName,cardinality:2,data:a,type:"boolean"}}}),[e]);if(!t||void 0===e.fieldName)return null;const a={id:e.fieldName,schema:void 0},s=`dataVisualizerDataGridChart-${e.fieldName}`;return Object(o.jsx)(A,{dataTestSubj:s,chartData:t,columnType:a,hideLabel:!0,maxChartColumns:10})},P=({showIcon:e,config:t})=>{const{stats:a,type:i}=t,{services:{data:{fieldFormats:l}}}=Object(p.a)(),r=null==a?void 0:a.cardinality;if(void 0===r||void 0===a)return null;const{sampleCount:c}=a,b=i===d.i.TEXT?Object(o.jsx)(m.FormattedMessage,{id:"xpack.dataVisualizer.sampledCardinalityForTextFieldsMsg",defaultMessage:"The cardinality for text fields is calculated from a sample of {sampledDocumentsFormatted} {sampledDocuments, plural, one {record} other {records}}.",values:{sampledDocuments:c,sampledDocumentsFormatted:Object(o.jsx)("strong",null,l.getDefaultInstance(u.b.NUMBER,[u.a.INTEGER]).convert(c))}}):null,f=e?i===d.i.TEXT?Object(o.jsx)(n.EuiToolTip,{content:b},Object(o.jsx)(n.EuiIcon,{type:"partial",size:"m",className:"columnHeader__icon"})):Object(o.jsx)(n.EuiIcon,{type:"database",size:"m",className:"columnHeader__icon"}):null,x=Object(o.jsx)(n.EuiText,{size:"xs"},r);return Object(o.jsx)(s.a.Fragment,null,f,Object(o.jsx)(n.EuiToolTip,{content:b},x))};var B=a(83);a(145);const U=({items:e,pageState:t,updatePageState:a,getItemIdToExpandedRowMap:s,extendedColumns:u,showPreviewByDefault:c,onChange:m,loading:p,totalCount:x,overallStatsRunning:j})=>{const{euiTheme:v}=Object(n.useEuiTheme)(),[h,T]=Object(i.useState)([]),[_,E]=Object(i.useState)(!1),{onTableChange:y,pagination:M,sorting:F}=function(e,t,a){const{pageIndex:s,pageSize:n,sortField:l,sortDirection:r}=t;return{onTableChange:Object(i.useCallback)((({page:e,sort:i})=>{var s,n,l,r;const o={...t,pageIndex:null!==(s=null==e?void 0:e.index)&&void 0!==s?s:t.pageIndex,pageSize:null!==(n=null==e?void 0:e.size)&&void 0!==n?n:t.pageSize,sortField:null!==(l=null==i?void 0:i.field)&&void 0!==l?l:t.sortField,sortDirection:null!==(r=null==i?void 0:i.direction)&&void 0!==r?r:t.sortDirection};a(o)}),[t,a]),pagination:Object(i.useMemo)((()=>({pageIndex:s,pageSize:n,totalItemCount:e.length,pageSizeOptions:O})),[e,s,n]),sorting:Object(i.useMemo)((()=>({sort:{field:l,direction:r}})),[l,r])}}(e,t,a),[N,C]=Object(i.useState)(null==c||c),[S,w]=Object(i.useState)(Object(R.a)()),V=Object(i.useCallback)((t=>{T(t?e.map((e=>e.fieldName)).filter((e=>void 0!==e)):[]),E(t)}),[e]),z=Object(i.useCallback)(Object(r.throttle)((e=>{w(Object(R.a)(e.width))}),500),[]),D=Object(i.useCallback)((()=>{C(!N),m&&m({showDistributions:!N})}),[m,N]),I=Object(i.useMemo)((()=>{const e=[{name:"small"!==S.breakPoint?Object(o.jsx)(n.EuiButtonIcon,{"data-test-subj":"dataVisualizerToggleDetailsForAllRowsButton "+(_?"expanded":"collapsed"),onClick:()=>V(!_),"aria-label":_?l.i18n.translate("xpack.dataVisualizer.dataGrid.collapseDetailsForAllAriaLabel",{defaultMessage:"Collapse details for all fields"}):l.i18n.translate("xpack.dataVisualizer.dataGrid.expandDetailsForAllAriaLabel",{defaultMessage:"Expand details for all fields"}),iconType:_?"arrowDown":"arrowRight"}):null,align:n.RIGHT_ALIGNMENT,width:S.expander,isExpander:!0,render:e=>{var t;const a=null!==(t=e.displayName)&&void 0!==t?t:e.fieldName;if(void 0===e.fieldName)return null;const i=h.includes(e.fieldName)?"arrowDown":"arrowRight";return Object(o.jsx)(n.EuiButtonIcon,{"data-test-subj":`dataVisualizerDetailsToggle-${e.fieldName}-${i}`,onClick:()=>function(e){if(void 0===e.fieldName)return;const t=h.indexOf(e.fieldName);-1!==t?h.splice(t,1):h.push(e.fieldName),T([...h])}(e),"aria-label":h.includes(e.fieldName)?l.i18n.translate("xpack.dataVisualizer.dataGrid.rowCollapse",{defaultMessage:"Hide details for {fieldName}",values:{fieldName:a}}):l.i18n.translate("xpack.dataVisualizer.dataGrid.rowExpand",{defaultMessage:"Show details for {fieldName}",values:{fieldName:a}}),iconType:i})},"data-test-subj":"dataVisualizerTableColumnDetailsToggle"},{field:"type",name:l.i18n.translate("xpack.dataVisualizer.dataGrid.typeColumnName",{defaultMessage:"Type"}),render:(e,t)=>{var a;return Object(o.jsx)(B.a,{type:null!==(a=t.secondaryType)&&void 0!==a?a:e,tooltipEnabled:!0})},width:S.type,sortable:!0,align:n.CENTER_ALIGNMENT,"data-test-subj":"dataVisualizerTableColumnType"},{field:"fieldName",name:l.i18n.translate("xpack.dataVisualizer.dataGrid.nameColumnName",{defaultMessage:"Name"}),sortable:!0,truncateText:!0,render:(e,t)=>{var a;const i=null!==(a=t.displayName)&&void 0!==a?a:t.fieldName;return Object(o.jsx)(n.EuiText,{size:"xs","data-test-subj":`dataVisualizerDisplayName-${t.fieldName}`},i)},align:n.LEFT_ALIGNMENT,"data-test-subj":"dataVisualizerTableColumnName"},{field:"docCount",name:Object(o.jsx)("div",{className:"columnHeader__title"},l.i18n.translate("xpack.dataVisualizer.dataGrid.documentsCountColumnName",{defaultMessage:"Documents (%)"}),Object(o.jsx)(n.EuiToolTip,{content:l.i18n.translate("xpack.dataVisualizer.dataGrid.documentsCountColumnTooltip",{defaultMessage:"Document count found is based on a smaller set of sampled records."})},Object(o.jsx)(n.EuiIcon,{type:"questionInCircle"}))),render:(e,t)=>j?Object(o.jsx)(n.EuiText,{textAlign:"center"},Object(o.jsx)(n.EuiLoadingSpinner,{size:"s"})):Object(o.jsx)(f,{config:t,showIcon:S.showIcon,totalCount:x}),sortable:e=>{var t;return null==e||null===(t=e.stats)||void 0===t?void 0:t.count},align:n.LEFT_ALIGNMENT,"data-test-subj":"dataVisualizerTableColumnDocumentsCount",width:S.docCount},{field:"cardinality",name:l.i18n.translate("xpack.dataVisualizer.dataGrid.distinctValuesColumnName",{defaultMessage:"Distinct values"}),render:(e,t)=>j?Object(o.jsx)(n.EuiText,{textAlign:"center"},Object(o.jsx)(n.EuiLoadingSpinner,{size:"s"})):Object(o.jsx)(P,{config:t,showIcon:S.showIcon}),sortable:e=>{var t;return null==e||null===(t=e.stats)||void 0===t?void 0:t.cardinality},align:n.LEFT_ALIGNMENT,"data-test-subj":"dataVisualizerTableColumnDistinctValues",width:S.distinctValues},{name:Object(o.jsx)("div",{className:"columnHeader__title"},S.showIcon?Object(o.jsx)(n.EuiIcon,{type:"visBarVertical",className:"columnHeader__icon"}):null,l.i18n.translate("xpack.dataVisualizer.dataGrid.distributionsColumnName",{defaultMessage:"Distributions"}),Object(o.jsx)(n.EuiToolTip,{content:N?l.i18n.translate("xpack.dataVisualizer.dataGrid.hideDistributionsTooltip",{defaultMessage:"Hide distributions"}):l.i18n.translate("xpack.dataVisualizer.dataGrid.showDistributionsTooltip",{defaultMessage:"Show distributions"})},Object(o.jsx)(n.EuiButtonIcon,{style:{marginLeft:4},size:"s",iconType:N?"eyeClosed":"eye",onClick:()=>D(),"aria-label":N?l.i18n.translate("xpack.dataVisualizer.dataGrid.showDistributionsAriaLabel",{defaultMessage:"Show distributions"}):l.i18n.translate("xpack.dataVisualizer.dataGrid.hideDistributionsAriaLabel",{defaultMessage:"Hide distributions"})}))),render:e=>{var t,a,i,s;return void 0===e||!1===N?null:"loading"in e&&!0===e.loading?Object(o.jsx)(n.EuiText,{textAlign:"center"},Object(o.jsx)(n.EuiLoadingSpinner,{size:"s"})):e.type!==d.i.KEYWORD&&e.type!==d.i.IP||void 0===(null===(t=e.stats)||void 0===t?void 0:t.topValues)?e.type===d.i.NUMBER?Object(b.a)(e)&&void 0!==(null===(a=e.stats)||void 0===a?void 0:a.distribution)?(null===(i=e.stats)||void 0===i||null===(s=i.distribution)||void 0===s?void 0:s.percentiles.length)<=2?Object(o.jsx)(k,{config:e,isNumeric:!0}):Object(o.jsx)(g,{config:e}):Object(o.jsx)(L,{config:e}):e.type===d.i.BOOLEAN?Object(o.jsx)(G,{config:e}):null:Object(o.jsx)(k,{config:e})},width:S.distributions,align:n.LEFT_ALIGNMENT,"data-test-subj":"dataVisualizerTableColumnDistribution"}];return u?[...e,...u]:e}),[_,N,a,u,S.breakPoint,V,j]),A=Object(i.useMemo)((()=>s(h,e)),[e,h,s]),U="calc(max(20%, 225px))",H="calc(max(30%, 300px))",$=Object(o.css)({thead:{position:"sticky",insetBlockStart:0,zIndex:1,backgroundColor:v.colors.emptyShade,boxShadow:`inset 0 0px 0, inset 0 -1px 0 ${v.border.color}`},".euiTableRow > .euiTableRowCel":{borderTop:0},[Object(n.useEuiMinBreakpoint)("s")]:{"& .columnHeader__title":{display:"flex",alignItems:"center"},"& .columnHeader__icon":{paddingRight:v.size.xs},"& .euiTableRow > .euiTableRowCell":{borderTop:0,borderBottom:v.border.thin},"& .euiTableCellContent":{padding:v.size.xs},"& .euiTableRow-isExpandedRow":{".euiTableRowCell":{backgroundColor:`${v.colors.emptyShade} !important`,borderTop:0,borderBottom:v.border.thin,"&:hover":{backgroundColor:`${v.colors.emptyShade} !important`}}},"& .dvSummaryTable":{".euiTableHeaderCell":{display:"none"}},"& .dvSummaryTable__wrapper":{minWidth:U,maxWidth:U,"&.dvPanel__dateSummary":{minWidth:H,maxWidth:H}},"& .dvTopValues__wrapper":{minWidth:"fit-content"},"& .dvPanel__wrapper":{"&.dvPanel--compressed":{width:U},"&.dvPanel--uniform":{minWidth:U,maxWidth:U}},"& .dvPanel__wrapper:not(:last-child)":{margin:`${v.size.xs} ${v.size.m} ${v.size.m} 0`},"& .dvPanel__wrapper:last-child":{margin:`${v.size.xs} 0 ${v.size.m} 0`},"& .dvMap__wrapper":{height:"240px"},"& .dvText__wrapper":{minWidth:U}}},"","");return Object(o.jsx)(n.EuiResizeObserver,{onResize:z},(t=>Object(o.jsx)("div",{"data-test-subj":"dataVisualizerTableContainer",ref:t},Object(o.jsx)(n.EuiInMemoryTable,{message:p?l.i18n.translate("xpack.dataVisualizer.dataGrid.searchingMessage",{defaultMessage:"Searching"}):void 0,css:$,items:e,itemId:"fieldName",columns:I,pagination:M,sorting:F,isExpandable:!0,itemIdToExpandedRowMap:A,isSelectable:!1,onTableChange:y,"data-test-subj":"dataVisualizerTable-"+(p?"loading":"loaded"),rowProps:e=>({"data-test-subj":`dataVisualizerRow row-${e.fieldName}`})}))))}},function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return l})),a(6),a(10),a(12),a(97),a(82),a(129);const i=5e3;let s;!function(e){e.HISTOGRAM="histogram",e.COUNTER="counter",e.GAUGE="gauge",e.SUMMARY="summary"}(s||(s={}));const n=e=>(null==e?void 0:e.timeSeriesMetric)===s.COUNTER,l=e=>(null==e?void 0:e.timeSeriesMetric)===s.GAUGE},,function(e,t,a){"use strict";a.d(t,"a",(function(){return f})),a.d(t,"b",(function(){return x}));var i=a(0),s=a(67),n=a(96),l=a(9),r=a(37);const o=e=>{if("string"==typeof e){var t,a;const i=e.trim().replace("POINT (","").replace(")",""),s=f.exec(i.trim());if(null!=(null==s||null===(t=s.groups)||void 0===t?void 0:t.lat)&&null!=(null==s||null===(a=s.groups)||void 0===a?void 0:a.lon))return{lat:parseFloat(s.groups.lat.trim()),lon:parseFloat(s.groups.lon.trim())}}},d=Object(l.euiPaletteColorBlind)()[0],u=(e,t=d)=>({id:"geo_points",label:"Geo points",sourceDescriptor:{type:r.SOURCE_TYPES.GEOJSON_FILE,__featureCollection:{features:e,type:"FeatureCollection"}},visible:!0,style:{type:"VECTOR",properties:{fillColor:{type:"STATIC",options:{color:t}},lineColor:{type:"STATIC",options:{color:"#fff"}},lineWidth:{type:"STATIC",options:{size:2}},iconSize:{type:"STATIC",options:{size:6}}}},type:r.LAYER_TYPE.GEOJSON_VECTOR});var c=a(63),m=a(84),p=a(62),b=a(2);const f=RegExp("(?<lat>.+) (?<lon>.+)"),x=({config:e})=>{const t=Object(i.useMemo)((()=>{const{stats:t}=e;if(void 0===t||void 0===t.topValues)return null;if(Array.isArray(t.topValues)){const a=[],i=[];for(let s=0;s<t.topValues.length;s++){const n=t.topValues[s],l=o(n.key);if(l){const t=`(${l.lat}, ${l.lon})`;i.push(l),a.push({type:"Feature",id:`fileDataVisualizer-${e.fieldName}-${s}`,geometry:{type:"Point",coordinates:[l.lat,l.lon]},properties:{value:t,count:n.doc_count}})}}if(a.length>0)return{examples:i,layerList:[u(a)]}}}),[e]);return Object(b.jsx)(c.a,{dataTestSubj:"dataVisualizerGeoPointContent"},Object(b.jsx)(s.a,{config:e}),t&&Array.isArray(t.examples)&&Object(b.jsx)(m.a,{examples:t.examples}),t&&Array.isArray(t.layerList)&&Object(b.jsx)(p.a,{className:"dvPanel__wrapper dvMap__wrapper",grow:!0},Object(b.jsx)(n.a,{layerList:t.layerList})))}},function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var i=a(0),s=a(9),n=a(37),l=a(48),r=a(42),o=a(55),d=(a(150),a(2));function u({layerList:e,mapEmbeddableInput:t,renderTooltipContent:a}){const[u,c]=Object(i.useState)(),m=Object(i.useRef)(null),p=Object(i.useRef)(),{services:{embeddable:b,maps:f,data:x}}=Object(o.a)(),j=b?b.getEmbeddableFactory(l.MAP_SAVED_OBJECT_TYPE):void 0;return Object(i.useEffect)((()=>{!async function(){u&&!Object(r.isErrorEmbeddable)(u)&&Array.isArray(e)&&Array.isArray(p.current)&&u.setLayerList([...p.current,...e])}()}),[u,e]),Object(i.useEffect)((()=>{!async function(){var e;if(!j)return void console.error("Map embeddable not found.");const t={id:Object(s.htmlIdGenerator)()(),attributes:{title:""},filters:null!==(e=x.query.filterManager.getFilters())&&void 0!==e?e:[],hidePanelTitles:!0,viewMode:r.ViewMode.VIEW,isLayerTOCOpen:!1,hideFilterActions:!0,mapSettings:{disableInteractive:!1,hideToolbarOverlay:!1,hideLayerControl:!1,hideViewControl:!1,initialLocation:n.INITIAL_LOCATION.AUTO_FIT_TO_BOUNDS,autoFitToDataBounds:!0}},a=await j.create(t);if(a&&!Object(r.isErrorEmbeddable)(a)){const e=f?await f.createLayerDescriptors.createBasemapLayerDescriptor():null;e&&(p.current=[e],await a.setLayerList(p.current))}c(a)}()}),[]),Object(i.useEffect)((()=>{u&&!Object(r.isErrorEmbeddable)(u)&&void 0!==t&&u.updateInput(t)}),[u,t]),Object(i.useEffect)((()=>{u&&!Object(r.isErrorEmbeddable)(u)&&void 0!==a&&u.setRenderTooltipContent(a)}),[u,a]),Object(i.useEffect)((()=>{m.current&&u&&u.render(m.current)}),[u,m]),b?f?Object(d.jsx)("div",{"data-test-subj":"dataVisualizerEmbeddedMapContent",className:"embeddedMap__content",ref:m}):(console.error("Maps start plugin not found"),null):(console.error("Embeddable start plugin not found"),null)}},,,,,,function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var i=a(9),s=a(2);const n=()=>{const{euiTheme:e}=Object(i.useEuiTheme)();return Object(s.css)({width:"100%",paddingLeft:`calc(${e.size.base} * 3)`},"","")}},function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var i=a(9),s=a(27),n=(a(0),a(2));const l=({fieldName:e,error:t})=>Object(n.jsx)(i.EuiCallOut,{heading:"p",color:"danger",size:"s"},Object(n.jsx)(s.FormattedMessage,{id:"xpack.dataVisualizer.index.fieldStatisticsErrorMessage",defaultMessage:"Error getting statistics for field '{fieldName}' because {reason}",values:{fieldName:e,reason:t.message}}))},,,,,,,,,,function(e,t,a){"use strict";a.d(t,"a",(function(){return M})),a.d(t,"b",(function(){return N})),a.d(t,"d",(function(){return D})),a.d(t,"c",(function(){return I})),a.d(t,"e",(function(){return L})),a.d(t,"f",(function(){return G})),a.d(t,"g",(function(){return P}));var i=a(0),s=a.n(i),n=a(9),l=a(28),r=a(27),o=a(72),d=a(3),u=a(34),c=a.n(u),m=a(10),p=a(2),b=a(55),f=a(70),x=a(73),j=a(62);function g(e){return e>=.1?`${Object(o.a)(e,1)}%`:"< 0.1%"}var O={name:"5iz1wr",styles:"width:48px"},v={name:"5iz1wr",styles:"width:48px"};const h=({stats:e,fieldFormat:t,barColor:a,compressed:s,onAddFilter:l})=>{var o,u;const{services:{data:{fieldFormats:h}}}=Object(b.a)();if(void 0===e||!e.topValues)return null;const{topValues:T,fieldName:_,sampleCount:E}=e;if(0===(null==T?void 0:T.length))return null;const y=null!==(o=null!==(u=e.totalDocuments)&&void 0!==u?u:E)&&void 0!==o?o:0,M=1-(T?T.reduce(((e,t)=>e+t.percent),0):0),F=Math.floor(M*(null!=E?E:0)),N=Object(p.jsx)(n.EuiText,{color:"subdued",size:"xs"},y>(null!=E?E:0)?Object(p.jsx)(r.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.field.topValues.calculatedFromSampleRecordsLabel",defaultMessage:"Calculated from {sampledDocumentsFormatted} sample {sampledDocuments, plural, one {record} other {records}}.",values:{sampledDocuments:E,sampledDocumentsFormatted:Object(p.jsx)("strong",null,h.getDefaultInstance(m.b.NUMBER,[m.a.INTEGER]).convert(E))}}):Object(p.jsx)(r.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.field.topValues.calculatedFromTotalRecordsLabel",defaultMessage:"Calculated from {totalDocumentsFormatted} {totalDocuments, plural, one {record} other {records}}.",values:{totalDocuments:y,totalDocumentsFormatted:Object(p.jsx)("strong",null,h.getDefaultInstance(m.b.NUMBER,[m.a.INTEGER]).convert(null!=y?y:0))}}));return Object(p.jsx)(j.a,{dataTestSubj:"dataVisualizerFieldDataTopValues",className:c()("dvPanel__wrapper",s?"dvPanel--compressed":void 0)},Object(p.jsx)(x.a,null,Object(p.jsx)(r.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.field.topValuesLabel",defaultMessage:"Top values"})),Object(p.jsx)("div",{"data-test-subj":"dataVisualizerFieldDataTopValuesContent",className:c()("fieldDataTopValuesContainer","dvTopValues__wrapper")},Array.isArray(T)?T.map((e=>{var i;const s=null!==(i=e.key_as_string)&&void 0!==i?i:e.key.toString();return Object(p.jsx)(n.EuiFlexGroup,{gutterSize:"xs",alignItems:"center",key:s},Object(p.jsx)(n.EuiFlexItem,{"data-test-subj":"dataVisualizerFieldDataTopValueBar"},Object(p.jsx)(n.EuiProgress,{value:e.percent,max:1,color:a,size:"xs",label:Object(f.d)(e.key,t),className:c()("eui-textTruncate","topValuesValueLabelContainer"),valueText:`${e.doc_count}${void 0!==y?` (${g(100*e.percent)})`:""}`})),void 0!==_&&void 0!==s&&void 0!==l?Object(p.jsx)("div",{css:v},Object(p.jsx)(n.EuiButtonIcon,{iconSize:"s",iconType:"plusInCircle",onClick:()=>l(_,s,"+"),"aria-label":d.i18n.translate("xpack.dataVisualizer.dataGrid.field.addFilterAriaLabel",{defaultMessage:'Filter for {fieldName}: "{value}"',values:{fieldName:_,value:s}}),"data-test-subj":`dvFieldDataTopValuesAddFilterButton-${_}-${s}`,style:{minHeight:"auto",minWidth:"auto",paddingRight:2,paddingLeft:2,paddingTop:0,paddingBottom:0}}),Object(p.jsx)(n.EuiButtonIcon,{iconSize:"s",iconType:"minusInCircle",onClick:()=>l(_,s,"-"),"aria-label":d.i18n.translate("xpack.dataVisualizer.dataGrid.field.removeFilterAriaLabel",{defaultMessage:'Filter out {fieldName}: "{value}"',values:{fieldName:_,value:s}}),"data-test-subj":`dvFieldDataTopValuesExcludeFilterButton-${_}-${s}`,style:{minHeight:"auto",minWidth:"auto",paddingTop:0,paddingBottom:0,paddingRight:2,paddingLeft:2}})):null)})):null,F>0?Object(p.jsx)(n.EuiFlexGroup,{gutterSize:"xs",alignItems:"center",key:"other"},Object(p.jsx)(n.EuiFlexItem,{"data-test-subj":"dataVisualizerFieldDataTopValueBar"},Object(p.jsx)(n.EuiProgress,{value:F,max:y,color:a,size:"xs",label:Object(p.jsx)(r.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.field.topValuesOtherLabel",defaultMessage:"Other"}),className:c()("eui-textTruncate","topValuesValueLabelContainer"),valueText:`${F}${void 0!==y?` (${g(100*M)})`:""}`})),l?Object(p.jsx)("div",{css:O}):null):null,Object(p.jsx)(i.Fragment,null,Object(p.jsx)(n.EuiSpacer,{size:"xs"}),N)))};var T=a(87),_=a(119),E=a(67),y=a(63);const M=({config:e,onAddFilter:t})=>{const a="fieldFormat"in e?e.fieldFormat:void 0,s=Object(i.useMemo)((()=>Object(T.b)(e)),[e]),u=Object(_.a)();if(!s)return null;const{count:c}=s;return Object(p.jsx)(y.a,{dataTestSubj:"dataVisualizerBooleanContent"},Object(p.jsx)(E.a,{config:e}),Object(p.jsx)(h,{stats:e.stats,fieldFormat:a,barColor:"success",onAddFilter:t}),Object(p.jsx)(j.a,{className:"dvPanel__wrapper dvPanel--uniform"},Object(p.jsx)(x.a,null,Object(p.jsx)(r.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.field.cardBoolean.valuesLabel",defaultMessage:"Values"})),Object(p.jsx)(n.EuiSpacer,{size:"xs"}),Object(p.jsx)(l.Chart,{renderer:"canvas",size:{height:70}},Object(p.jsx)(l.Axis,{id:"bottom",position:"bottom",showOverlappingTicks:!0}),Object(p.jsx)(l.Axis,{id:"left2",title:"Left axis",hide:!0,tickFormat:e=>{return`${t=e} (${function(e){return 0===e?"0%":e>=.1?`${Object(o.a)(e)}%`:"< 0.1%"}(t/c*100)})`;var t}}),Object(p.jsx)(l.Settings,{showLegend:!1,theme:u,locale:d.i18n.getLocale()}),Object(p.jsx)(l.BarSeries,{id:e.fieldName||a,data:[{x:"true",count:s.trueCount},{x:"false",count:s.falseCount}],splitSeriesAccessors:["x"],stackAccessors:["x"],xAccessor:"x",xScaleType:l.ScaleType.Ordinal,yAccessors:["count"],yScaleType:l.ScaleType.Linear}))))},F="MMM D YYYY, HH:mm:ss.SSS",N=({config:e})=>{const{stats:t}=e;if(void 0===t)return null;const{earliest:a,latest:i}=t,s=d.i18n.translate("xpack.dataVisualizer.dataGrid.field.cardDate.summaryTableTitle",{defaultMessage:"Summary"}),l=[{function:"earliest",display:Object(p.jsx)(r.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.field.cardDate.earliestLabel",defaultMessage:"earliest"}),value:"string"==typeof a?a:Object(n.formatDate)(a,F)},{function:"latest",display:Object(p.jsx)(r.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.field.cardDate.latestLabel",defaultMessage:"latest"}),value:"string"==typeof i?i:Object(n.formatDate)(i,F)}],o=[{name:"",field:"function",render:(e,t)=>t.display,width:"70px",align:n.LEFT_ALIGNMENT},{field:"value",name:"",render:e=>Object(p.jsx)("strong",null,e),align:n.RIGHT_ALIGNMENT}];return Object(p.jsx)(y.a,{dataTestSubj:"dataVisualizerDateContent"},Object(p.jsx)(E.a,{config:e}),Object(p.jsx)(j.a,{className:"dvSummaryTable__wrapper dvPanel__wrapper dvPanel__dateSummary"},Object(p.jsx)(x.a,null,s),Object(p.jsx)(n.EuiBasicTable,{className:"dvSummaryTable","data-test-subj":"dataVisualizerDateSummaryTable",compressed:!0,items:l,columns:o,tableCaption:s,tableLayout:"auto"})))};a(95);var C=a(37),S=a(96);const w=(e,t,{layerId:a,field:i})=>({id:Object(n.htmlIdGenerator)()(),label:d.i18n.translate("xpack.dataVisualizer.choroplethMap.topValuesCount",{defaultMessage:"Top values count for {fieldName}",values:{fieldName:e}}),joins:[{leftField:i,right:{id:"anomaly_count",type:C.SOURCE_TYPES.TABLE_SOURCE,__rows:t,__columns:[{name:"key",type:"string"},{name:"doc_count",type:"number"}],term:"key"}}],sourceDescriptor:{type:"EMS_FILE",id:a},style:{type:"VECTOR",properties:{icon:{type:C.STYLE_TYPE.STATIC,options:{value:"marker"}},fillColor:{type:C.STYLE_TYPE.DYNAMIC,options:{color:"Blue to Red",colorCategory:"palette_0",fieldMetaOptions:{isEnabled:!0,sigma:3},type:C.COLOR_MAP_TYPE.ORDINAL,field:{name:"doc_count",origin:C.FIELD_ORIGIN.JOIN},useCustomColorRamp:!1}},lineColor:{type:C.STYLE_TYPE.DYNAMIC,options:{fieldMetaOptions:{isEnabled:!0}}},lineWidth:{type:C.STYLE_TYPE.STATIC,options:{size:1}}},isTimeAware:!0},type:C.LAYER_TYPE.GEOJSON_VECTOR}),V=({stats:e,suggestion:t})=>{var a,s;const{services:{data:{fieldFormats:l}}}=Object(b.a)(),{fieldName:o,isTopValuesSampled:d,topValues:u,sampleCount:c}=e,f=Object(i.useMemo)((()=>[w(o||"",u||[],t)]),[t,o,u]);if(!e)return null;const x=null!==(a=null!==(s=e.totalDocuments)&&void 0!==s?s:c)&&void 0!==a?a:0,g=x?Object(p.jsx)(n.EuiText,{color:"subdued",size:"xs"},d?Object(p.jsx)(r.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.fieldExpandedRow.choroplethMapTopValues.calculatedFromSampleRecordsLabel",defaultMessage:"Calculated from {sampledDocumentsFormatted} sample {sampledDocuments, plural, one {record} other {records}}.",values:{sampledDocuments:c,sampledDocumentsFormatted:Object(p.jsx)("strong",null,l.getDefaultInstance(m.b.NUMBER,[m.a.INTEGER]).convert(c))}}):Object(p.jsx)(r.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.fieldExpandedRow.choroplethMapTopValues.calculatedFromTotalRecordsLabel",defaultMessage:"Calculated from {totalDocumentsFormatted} {totalDocuments, plural, one {record} other {records}}.",values:{totalDocuments:x,totalDocumentsFormatted:Object(p.jsx)("strong",null,l.getDefaultInstance(m.b.NUMBER,[m.a.INTEGER]).convert(null!=x?x:0))}})):null;return Object(p.jsx)(j.a,{dataTestSubj:"fileDataVisualizerChoroplethMapTopValues",className:"dvPanel__wrapper",grow:!0},Object(p.jsx)("div",{className:"dvMap__wrapper"},Object(p.jsx)(S.a,{layerList:f})),g)};var z=a(103);const D=({config:e,onAddFilter:t})=>{var a,s;const[n,l]=Object(i.useState)(),{stats:r,fieldName:o}=e,d="fieldFormat"in e?e.fieldFormat:void 0,{services:{maps:u}}=Object(b.a)(),c=Object(i.useCallback)((async()=>{if(!u)return;const e=await u.suggestEMSTermJoinConfig({sampleValues:Array.isArray(null==r?void 0:r.topValues)?null==r?void 0:r.topValues.map((e=>e.key)):[],sampleValuesColumnName:o||""});l(e)}),[o]);return Object(i.useEffect)((function(){c()}),[c]),Object(p.jsx)(y.a,{dataTestSubj:"dataVisualizerKeywordContent"},Object(p.jsx)(E.a,{config:e}),null!==(a=e.stats)&&void 0!==a&&a.error&&void 0!==o?Object(p.jsx)(z.a,{fieldName:o,error:null===(s=e.stats)||void 0===s?void 0:s.error}):null,Object(p.jsx)(h,{stats:r,fieldFormat:d,barColor:"success",onAddFilter:t}),n&&r&&Object(p.jsx)(V,{stats:r,suggestion:n}))},I=({config:e,onAddFilter:t})=>{const{stats:a}=e;if(void 0===a)return null;const{count:i,sampleCount:s,cardinality:n}=a;if(void 0===i||void 0===s||void 0===n)return null;const l="fieldFormat"in e?e.fieldFormat:void 0;return Object(p.jsx)(y.a,{dataTestSubj:"dataVisualizerIPContent"},Object(p.jsx)(E.a,{config:e}),a&&Object(p.jsx)(h,{stats:a,fieldFormat:l,barColor:"success",onAddFilter:t}))};var A=a(60),k=a(117);const L=({config:e,onAddFilter:t})=>{var a,s;const{stats:l}=e,o=Object(i.useMemo)((()=>Object(k.b)(null==l?void 0:l.distribution,260)),[null==l?void 0:l.distribution]);if(void 0===l)return null;const{min:u,median:c,max:m,distribution:b}=l,g="fieldFormat"in e?e.fieldFormat:void 0,O=[{function:"min",display:Object(p.jsx)(r.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.fieldExpandedRow.numberContent.minLabel",defaultMessage:"min"}),value:Object(f.d)(u,g)},...Object(A.a)(c)?[{function:"median",display:Object(p.jsx)(r.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.fieldExpandedRow.numberContent.medianLabel",defaultMessage:"median"}),value:Object(f.d)(c,g)}]:[],{function:"max",display:Object(p.jsx)(r.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.fieldExpandedRow.numberContent.maxLabel",defaultMessage:"max"}),value:Object(f.d)(m,g)}],v=[{name:"",render:e=>e.display,width:"25px",align:n.LEFT_ALIGNMENT},{field:"value",name:"",render:e=>Object(p.jsx)("strong",null,e),align:n.RIGHT_ALIGNMENT}],T=d.i18n.translate("xpack.dataVisualizer.dataGrid.fieldExpandedRow.numberContent.summaryTableTitle",{defaultMessage:"Summary"});return Object(p.jsx)(y.a,{dataTestSubj:"dataVisualizerNumberContent"},Object(p.jsx)(E.a,{config:e}),Object(p.jsx)(j.a,{className:"dvSummaryTable__wrapper dvPanel__wrapper",grow:1},Object(p.jsx)(x.a,null,T),Object(p.jsx)(n.EuiBasicTable,{className:"dvSummaryTable",compressed:!0,items:O,columns:v,tableCaption:T,"data-test-subj":"dataVisualizerNumberSummaryTable"})),l&&Object(p.jsx)(h,{stats:l,fieldFormat:g,barColor:"success",compressed:!0,onAddFilter:t}),b&&void 0!==(null===(a=l.distribution)||void 0===a?void 0:a.percentiles.length)&&(null===(s=l.distribution)||void 0===s?void 0:s.percentiles.length)>2&&Object(p.jsx)(j.a,{dataTestSubj:"dataVisualizerFieldDataMetricDistribution",className:"dvPanel__wrapper",grow:!1},Object(p.jsx)(n.EuiFlexItem,{grow:!1},Object(p.jsx)(x.a,null,Object(p.jsx)(r.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.fieldExpandedRow.numberContent.distributionTitle",defaultMessage:"Distribution"}))),Object(p.jsx)(n.EuiFlexItem,{className:"metricDistributionChartContainer"},Object(p.jsx)(k.a,{width:260,height:200,chartData:o,fieldFormat:g})),Object(p.jsx)(n.EuiFlexItem,{grow:!1},Object(p.jsx)(n.EuiText,{size:"xs",textAlign:"center"},Object(p.jsx)(r.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.fieldExpandedRow.numberContent.displayingPercentilesLabel",defaultMessage:"Displaying {minPercent} - {maxPercent} percentiles",values:{minPercent:Object(f.e)(b.minPercentile),maxPercent:Object(f.e)(b.maxPercentile)}})))))};var R=a(84);const G=({config:e})=>{const{stats:t}=e;return void 0===t?null:void 0===t.count?Object(p.jsx)(s.a.Fragment,null,Array.isArray(t.examples)&&Object(p.jsx)(R.a,{examples:t.examples})):Object(p.jsx)(y.a,{dataTestSubj:"dataVisualizerOtherContent"},Object(p.jsx)(E.a,{config:e}),Array.isArray(t.examples)&&Object(p.jsx)(R.a,{examples:t.examples}))},P=({config:e})=>{const{stats:t}=e;if(void 0===t)return null;const{examples:a}=t;if(void 0===a)return null;const s=a.length;return Object(p.jsx)(y.a,{dataTestSubj:"dataVisualizerTextContent"},Object(p.jsx)(n.EuiFlexItem,{grow:!1,className:"dvText__wrapper"},s>0&&Object(p.jsx)(R.a,{examples:a}),0===s&&Object(p.jsx)(i.Fragment,null,Object(p.jsx)(n.EuiSpacer,{size:"xs"}),Object(p.jsx)(n.EuiCallOut,{size:"s",title:d.i18n.translate("xpack.dataVisualizer.dataGrid.fieldText.noExamplesForFieldsTitle",{defaultMessage:"No examples were obtained for this field"}),iconType:"warning"},Object(p.jsx)(r.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.fieldText.fieldNotPresentDescription",defaultMessage:"This field was not present in the {sourceParam} field of documents queried.",values:{sourceParam:Object(p.jsx)("span",{className:"dvExpandedRow__codeContent"},"_source")}}),Object(p.jsx)(n.EuiSpacer,{size:"s"}),Object(p.jsx)(r.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.fieldText.fieldMayBePopulatedDescription",defaultMessage:"It may be populated, for example, using a {copyToParam} parameter in the document mapping, or be pruned from the {sourceParam} field after indexing through the use of {includesParam} and {excludesParam} parameters.",values:{copyToParam:Object(p.jsx)("span",{className:"dvExpandedRow__codeContent"},"copy_to"),sourceParam:Object(p.jsx)("span",{className:"dvExpandedRow__codeContent"},"_source"),includesParam:Object(p.jsx)("span",{className:"dvExpandedRow__codeContent"},"includes"),excludesParam:Object(p.jsx)("span",{className:"dvExpandedRow__codeContent"},"excludes")}})))))}},,,,function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return p})),a(0);var i=a(3),s=a(28),n=a(27),l=a(70),r=a(2);const o=({chartPoint:e,maxWidth:t,fieldFormat:a})=>void 0===e?null:Object(r.jsx)("div",{style:{maxWidth:t}},e.dataMax>e.dataMin?Object(r.jsx)(n.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.field.metricDistributionChart.tooltipValueBetweenLabel",defaultMessage:"{percent}% of documents have values between {minValFormatted} and {maxValFormatted}",values:{percent:e.percent,minValFormatted:Object(l.d)(e.dataMin,a),maxValFormatted:Object(l.d)(e.dataMax,a)}}):Object(r.jsx)(n.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.field.metricDistributionChart.tooltipValueEqualLabel",defaultMessage:"{percent}% of documents have a value of {valFormatted}",values:{percent:e.percent,valFormatted:Object(l.d)(e.dataMin,a)}}));var d=a(119);const u=({width:e,height:t,chartData:a,fieldFormat:n,hideXAxis:u})=>{const c=i.i18n.translate("xpack.dataVisualizer.dataGrid.field.metricDistributionChart.seriesName",{defaultMessage:"distribution"}),m=Object(d.a)();return Object(r.jsx)("div",{"data-test-subj":"dataVisualizerFieldDataMetricDistributionChart",className:"dataGridChart__histogram"},Object(r.jsx)(s.Chart,{size:{width:e,height:t}},Object(r.jsx)(s.Tooltip,{headerFormatter:t=>{const i=t.value,s=a.find((e=>e.x===i));return Object(r.jsx)(o,{chartPoint:s,maxWidth:e,fieldFormat:n})}}),Object(r.jsx)(s.Settings,{theme:m,locale:i.i18n.getLocale()}),Object(r.jsx)(s.Axis,{id:"bottom",position:s.Position.Bottom,tickFormat:e=>Object(l.d)(e,n),hide:!0===u}),Object(r.jsx)(s.Axis,{id:"left",position:s.Position.Left,tickFormat:e=>e.toFixed(3),hide:!0}),Object(r.jsx)(s.AreaSeries,{id:"metric_distribution",name:c,xScaleType:s.ScaleType.Linear,yScaleType:s.ScaleType.Linear,xAccessor:"x",yAccessors:["y"],data:a.length>0?a:[{x:0,y:0,dataMin:0,dataMax:0,percent:0}],curve:s.CurveType.CURVE_STEP_AFTER})))},c=3,m=20;function p(e,t){let a=[];if(void 0===e)return a;const i=e.percentiles;if(0===(null==i?void 0:i.length))return a;const s=i[0].minValue,n=i[i.length-1].maxValue;let l=s,r=n;n===s&&(0!==s?(l=0,r=2*s):r=1);const o=c/t*(r-l),d=[];let u;i.forEach(((e,t)=>{if(0===t){const t={x0:e.minValue,x1:Math.max(e.minValue+o,e.maxValue),y:0,dataMin:e.minValue,dataMax:e.maxValue,percent:e.percent,isMinWidth:!1};t.y=e.percent/(t.x1-t.x0)*Math.max(1,o/Math.max(e.maxValue-e.minValue,.5*o)),t.isMinWidth=e.maxValue<=e.minValue+o,d.push(t),u=t}else if(!1===u.isMinWidth||e.maxValue>u.x1){const t={x0:u.x1,x1:Math.max(u.x1+o,e.maxValue),y:0,dataMin:e.minValue,dataMax:e.maxValue,percent:e.percent,isMinWidth:!1};t.y=e.percent/(t.x1-t.x0)*Math.max(1,o/Math.max(e.maxValue-e.minValue,.5*o)),t.isMinWidth=e.maxValue<=u.x1+o,d.push(t),u=t}else u.percent=u.percent+e.percent,u.y=u.percent/(u.x1-u.x0),u.dataMax=e.maxValue})),n!==s&&(r=d[d.length-1].x1);let p=d.map((e=>e.y));p=p.sort(((e,t)=>e-t));let b=0;const f=d.length;b=1===Math.abs(f%2)?m*p[Math.floor(f/2)]:m*(p[Math.floor(f/2)-1]+p[Math.floor(f/2)])/2,d.forEach((e=>{e.y=Math.min(e.y,b)})),a=d.map((e=>{const{x0:t,y:a,dataMin:i,dataMax:s,percent:n}=e;return{x:t,y:a,dataMin:i,dataMax:s,percent:n}}));const x=d[d.length-1];return a.push({x:x.x1,y:0,dataMin:x.dataMin,dataMax:x.dataMax,percent:x.percent}),a}},function(e,t,a){"use strict";a.d(t,"b",(function(){return d})),a.d(t,"a",(function(){return u})),a.d(t,"c",(function(){return o}));var i=a(9),s=a(27),n=a(0),l=a.n(n),r=a(2);const o={name:"1rsg7lx",styles:"max-width:300px;min-width:200px"},d=({fieldsCountStats:e})=>e&&void 0!==e.visibleFieldsCount&&void 0!==e.totalFieldsCount?Object(r.jsx)(i.EuiFlexGroup,{alignItems:"center",css:o,"data-test-subj":"dataVisualizerFieldsSummary",gutterSize:"s",responsive:!1},Object(r.jsx)(i.EuiFlexItem,{grow:!1},Object(r.jsx)(i.EuiText,null,Object(r.jsx)("h5",null,Object(r.jsx)(s.FormattedMessage,{id:"xpack.dataVisualizer.searchPanel.allFieldsLabel",defaultMessage:"All fields"})))),Object(r.jsx)(i.EuiFlexItem,{grow:!1},Object(r.jsx)(i.EuiNotificationBadge,{color:"subdued",size:"m","data-test-subj":"dataVisualizerVisibleFieldsCount"},Object(r.jsx)("strong",null,e.visibleFieldsCount))),Object(r.jsx)(i.EuiFlexItem,{grow:!1},Object(r.jsx)(i.EuiText,{color:"subdued",size:"s","data-test-subj":"dataVisualizerTotalFieldsCount"},Object(r.jsx)(s.FormattedMessage,{id:"xpack.dataVisualizer.searchPanel.ofFieldsTotal",defaultMessage:"of {totalCount} total",values:{totalCount:e.totalFieldsCount}})))):null,u=({metricsStats:e})=>e&&void 0!==e.visibleMetricsCount&&void 0!==e.totalMetricFieldsCount?Object(r.jsx)(l.a.Fragment,null,e&&Object(r.jsx)(i.EuiFlexGroup,{alignItems:"center",css:o,"data-test-subj":"dataVisualizerMetricFieldsSummary",gutterSize:"s",responsive:!1},Object(r.jsx)(i.EuiFlexItem,{grow:!1},Object(r.jsx)(i.EuiText,null,Object(r.jsx)("h5",null,Object(r.jsx)(s.FormattedMessage,{id:"xpack.dataVisualizer.searchPanel.numberFieldsLabel",defaultMessage:"Number fields"})))),Object(r.jsx)(i.EuiFlexItem,{grow:!1},Object(r.jsx)(i.EuiNotificationBadge,{color:"subdued",size:"m","data-test-subj":"dataVisualizerVisibleMetricFieldsCount"},Object(r.jsx)("strong",null,e.visibleMetricsCount))),Object(r.jsx)(i.EuiFlexItem,{grow:!1},Object(r.jsx)(i.EuiText,{color:"subdued",size:"s","data-test-subj":"dataVisualizerMetricFieldsCount"},Object(r.jsx)(s.FormattedMessage,{id:"xpack.dataVisualizer.searchPanel.ofFieldsTotal",defaultMessage:"of {totalCount} total",values:{totalCount:e.totalMetricFieldsCount}}))))):null},function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var i=a(0),s=a(66);const n=()=>{const e=Object(s.a)();return Object(i.useMemo)((()=>{const t=e.euiColorVis0;return{axes:{tickLabel:{fontSize:parseInt(e.euiFontSizeXS,10),fontFamily:e.euiFontFamily,fontStyle:"italic"}},background:{color:"transparent"},chartMargins:{left:0,right:0,top:0,bottom:0},chartPaddings:{left:0,right:0,top:4,bottom:0},scales:{barsPadding:.1},colors:{vizColors:[t]},areaSeriesStyle:{line:{strokeWidth:1,visible:!0},point:{visible:!1,radius:0,opacity:0},area:{visible:!0,opacity:1}}}}),[e])}},function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var i=a(9),s=a(0),n=a(3),l=a(115),r=a(27),o=a(10),d=a(101);const u=n.i18n.translate("fieldUtils.fieldNameDescription.unknownField",{defaultMessage:"Unknown field"});function c(e){if(!e||e===o.b.UNKNOWN)return u;const t=e;switch(t){case d.a.DOCUMENT:return n.i18n.translate("fieldUtils.fieldNameDescription.recordField",{defaultMessage:"Count of records."});case d.a.BINARY:return n.i18n.translate("fieldUtils.fieldNameDescription.binaryField",{defaultMessage:"Binary value encoded as a Base64 string."});case d.a.BOOLEAN:return n.i18n.translate("fieldUtils.fieldNameDescription.booleanField",{defaultMessage:"True and false values."});case d.a.CONFLICT:return n.i18n.translate("fieldUtils.fieldNameDescription.conflictField",{defaultMessage:"Field has values of different types. Resolve in Management > Data Views."});case d.a.COUNTER:return n.i18n.translate("fieldUtils.fieldNameDescription.counterField",{defaultMessage:"A number that only increases or resets to 0 (zero). Available only for numeric and aggregate_metric_double fields."});case d.a.DATE:return n.i18n.translate("fieldUtils.fieldNameDescription.dateField",{defaultMessage:"A date string or the number of seconds or milliseconds since 1/1/1970."});case d.a.DATE_RANGE:return n.i18n.translate("fieldUtils.fieldNameDescription.dateRangeField",{defaultMessage:"Range of date values."});case d.a.DENSE_VECTOR:return n.i18n.translate("fieldUtils.fieldNameDescription.denseVectorField",{defaultMessage:"Records dense vectors of float values."});case d.a.GAUGE:return n.i18n.translate("fieldUtils.fieldNameDescription.gaugeField",{defaultMessage:"A number that can increase or decrease. Available only for numeric and aggregate_metric_double fields."});case d.a.GEO_POINT:return n.i18n.translate("fieldUtils.fieldNameDescription.geoPointField",{defaultMessage:"Latitude and longitude points."});case d.a.GEO_SHAPE:return n.i18n.translate("fieldUtils.fieldNameDescription.geoShapeField",{defaultMessage:"Complex shapes, such as polygons."});case d.a.HISTOGRAM:return n.i18n.translate("fieldUtils.fieldNameDescription.histogramField",{defaultMessage:"Pre-aggregated numerical values in the form of a histogram."});case d.a.IP:return n.i18n.translate("fieldUtils.fieldNameDescription.ipAddressField",{defaultMessage:"IPv4 and IPv6 addresses."});case d.a.IP_RANGE:return n.i18n.translate("fieldUtils.fieldNameDescription.ipAddressRangeField",{defaultMessage:"Range of ip values supporting either IPv4 or IPv6 (or mixed) addresses."});case d.a.FLATTENED:return n.i18n.translate("fieldUtils.fieldNameDescription.flattenedField",{defaultMessage:"An entire JSON object as a single field value."});case d.a.MURMUR3:return n.i18n.translate("fieldUtils.fieldNameDescription.murmur3Field",{defaultMessage:"Field that computes and stores hashes of values."});case d.a.NUMBER:return n.i18n.translate("fieldUtils.fieldNameDescription.numberField",{defaultMessage:"Long, integer, short, byte, double, and float values."});case d.a.RANK_FEATURE:return n.i18n.translate("fieldUtils.fieldNameDescription.rankFeatureField",{defaultMessage:"Records a numeric feature to boost hits at query time."});case d.a.RANK_FEATURES:return n.i18n.translate("fieldUtils.fieldNameDescription.rankFeaturesField",{defaultMessage:"Records numeric features to boost hits at query time."});case d.a.POINT:return n.i18n.translate("fieldUtils.fieldNameDescription.pointField",{defaultMessage:"Arbitrary cartesian points."});case d.a.SHAPE:return n.i18n.translate("fieldUtils.fieldNameDescription.shapeField",{defaultMessage:"Arbitrary cartesian geometries."});case d.a.SPARSE_VECTOR:return n.i18n.translate("fieldUtils.fieldNameDescription.sparseVectorField",{defaultMessage:"Records sparse vectors of float values."});case d.a.STRING:return n.i18n.translate("fieldUtils.fieldNameDescription.stringField",{defaultMessage:"Full text such as the body of an email or a product description."});case d.a.TEXT:return n.i18n.translate("fieldUtils.fieldNameDescription.textField",{defaultMessage:"Full text such as the body of an email or a product description."});case d.a.KEYWORD:return n.i18n.translate("fieldUtils.fieldNameDescription.keywordField",{defaultMessage:"Structured content such as an ID, email address, hostname, status code, or tag."});case d.a.NESTED:return n.i18n.translate("fieldUtils.fieldNameDescription.nestedField",{defaultMessage:"JSON object that preserves the relationship between its subfields."});case d.a.VERSION:return n.i18n.translate("fieldUtils.fieldNameDescription.versionField",{defaultMessage:'Software versions. Supports "Semantic Versioning" precedence rules.'});default:return t||t}}var m=a(55),p=a(2);const b=({fieldTypes:e})=>{{const{services:t}=Object(m.a)(),{docLinks:a}=t,{euiTheme:o}=Object(i.useEuiTheme)(),[d,u]=Object(s.useState)(!1),b=()=>u((e=>!e)),f=()=>u(!1),x=Object(s.useMemo)((()=>e.map(((e,t)=>({id:t,dataType:e,description:c(e)})))),[e]),j=[{field:"dataType",name:n.i18n.translate("xpack.dataVisualizer.fieldTypesPopover.dataTypeColumnTitle",{defaultMessage:"Data type"}),width:"110px",render:e=>Object(p.jsx)(i.EuiFlexGroup,{alignItems:"center",responsive:!1,gutterSize:"xs"},Object(p.jsx)(i.EuiFlexItem,{grow:!1},Object(p.jsx)(l.a,{type:e})),Object(p.jsx)(i.EuiFlexItem,null,e))},{field:"description",name:n.i18n.translate("xpack.dataVisualizer.fieldTypesPopover.descriptionColumnTitle",{defaultMessage:"Description"}),render:e=>Object(p.jsx)("div",{dangerouslySetInnerHTML:{__html:e}})}],g=Object(p.jsx)(i.EuiFilterButton,{grow:!1,onClick:b,"data-test-subj":"fieldTypesHelpButton",className:"dataVisualizerFieldTypesHelp__button","aria-label":n.i18n.translate("xpack.dataVisualizer.fieldTypesPopover.buttonAriaLabel",{defaultMessage:"Filter type help"})},Object(p.jsx)(i.EuiIcon,{type:"iInCircle",color:"primary",title:n.i18n.translate("xpack.dataVisualizer.fieldTypesPopover.iconTitle",{defaultMessage:"Filter type help"})}));return Object(p.jsx)(i.EuiPopover,{anchorPosition:"downLeft",display:"block",button:g,isOpen:d,panelPaddingSize:"none",closePopover:f,initialFocus:"dataVisualizerFieldTypesHelpBasicTableId"},Object(p.jsx)(i.EuiPopoverTitle,{paddingSize:"s"},n.i18n.translate("xpack.dataVisualizer.fieldChooser.popoverTitle",{defaultMessage:"Field types"})),Object(p.jsx)(i.EuiPanel,{className:"eui-yScroll",style:{maxHeight:"50vh",maxWidth:`calc(${o.size.base}*22)`},color:"transparent",paddingSize:"s"},Object(p.jsx)(i.EuiBasicTable,{id:"dataVisualizerFieldTypesHelpBasicTableId",tableCaption:n.i18n.translate("xpack.dataVisualizer.fieldTypesPopover.tableTitle",{defaultMessage:"Description of field types"}),items:x,compressed:!0,rowHeader:"firstName",columns:j,responsive:!1})),Object(p.jsx)(i.EuiPanel,{color:"transparent",paddingSize:"s"},Object(p.jsx)(i.EuiText,{color:"subdued",size:"xs"},Object(p.jsx)("p",null,n.i18n.translate("xpack.dataVisualizer.fieldTypesPopover.learnMoreText",{defaultMessage:"Learn more about"})," ",Object(p.jsx)(i.EuiLink,{href:a.links.discover.fieldTypeHelp,target:"_blank",external:!0},Object(p.jsx)(r.FormattedMessage,{id:"xpack.dataVisualizer.fieldTypesPopover.fieldTypesDocLinkLabel",defaultMessage:"field types"}))))))}}},,,,,,,,,function(e,t,a){e.exports=a(20)(1918)},function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(131);case"v8light":return a(133)}},function(e,t,a){var i=a(56),s=a(132);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);i(s,{insert:"head",singleton:!1}),e.exports=s.locals||{}},function(e,t,a){(t=a(57)(!1)).push([e.i,".dataGridChart__column-chart,.dataGridChart__histogram{width:100%}.dataGridChart__legend{color:#535966;display:block;font-size:11px;font-style:italic;font-weight:400;line-height:1.1;max-width:100%;overflow:hidden!important;overflow-x:hidden;text-align:left;text-overflow:ellipsis!important;white-space:nowrap!important}.dataGridChart__legend--numeric{text-align:right}.dataGridChart__legendBoolean{width:10px}.dataGrid .euiDataGridHeaderCell__content{margin-top:auto}",""]),e.exports=t},function(e,t,a){var i=a(56),s=a(134);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);i(s,{insert:"head",singleton:!1}),e.exports=s.locals||{}},function(e,t,a){(t=a(57)(!1)).push([e.i,".dataGridChart__column-chart,.dataGridChart__histogram{width:100%}.dataGridChart__legend{color:#98a2b3;display:block;font-size:11px;font-style:italic;font-weight:400;line-height:1.1;max-width:100%;overflow:hidden!important;overflow-x:hidden;text-align:left;text-overflow:ellipsis!important;white-space:nowrap!important}.dataGridChart__legend--numeric{text-align:right}.dataGridChart__legendBoolean{width:10px}.dataGrid .euiDataGridHeaderCell__content{margin-top:auto}",""]),e.exports=t},,,,,,,,,,,function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(146);case"v8light":return a(148)}},function(e,t,a){var i=a(56),s=a(147);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);i(s,{insert:"head",singleton:!1}),e.exports=s.locals||{}},function(e,t,a){(t=a(57)(!1)).push([e.i,".metricDistributionChartContainer{padding-top:4px;width:100%}.dataVisualizerColumnHeaderIcon{max-width:12px}",""]),e.exports=t},function(e,t,a){var i=a(56),s=a(149);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);i(s,{insert:"head",singleton:!1}),e.exports=s.locals||{}},function(e,t,a){(t=a(57)(!1)).push([e.i,".metricDistributionChartContainer{padding-top:4px;width:100%}.dataVisualizerColumnHeaderIcon{max-width:12px}",""]),e.exports=t},function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(151);case"v8light":return a(153)}},function(e,t,a){var i=a(56),s=a(152);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);i(s,{insert:"head",singleton:!1}),e.exports=s.locals||{}},function(e,t,a){(t=a(57)(!1)).push([e.i,".embeddedMap__content{display:flex;flex:1 1 100%;height:100%;min-height:0;width:100%;z-index:1}",""]),e.exports=t},function(e,t,a){var i=a(56),s=a(154);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);i(s,{insert:"head",singleton:!1}),e.exports=s.locals||{}},function(e,t,a){(t=a(57)(!1)).push([e.i,".embeddedMap__content{display:flex;flex:1 1 100%;height:100%;min-height:0;width:100%;z-index:1}",""]),e.exports=t}])]);