/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.stackConnectors_bundle_jsonpfunction=window.stackConnectors_bundle_jsonpfunction||[]).push([[12,35],{47:function(e,t,o){"use strict";o.r(t),o.d(t,"API_URL_LABEL",(function(){return n})),o.d(t,"ACCESS_KEY_LABEL",(function(){return s})),o.d(t,"DEFAULT_MODEL_LABEL",(function(){return r})),o.d(t,"REGION_LABEL",(function(){return c})),o.d(t,"SECRET",(function(){return d})),o.d(t,"BEDROCK",(function(){return i})),o.d(t,"DOCUMENTATION",(function(){return l})),o.d(t,"URL_LABEL",(function(){return u})),o.d(t,"BODY_REQUIRED",(function(){return b})),o.d(t,"BODY_INVALID",(function(){return k})),o.d(t,"ACTION_REQUIRED",(function(){return m})),o.d(t,"INVALID_ACTION",(function(){return f})),o.d(t,"BODY",(function(){return p})),o.d(t,"BODY_DESCRIPTION",(function(){return A})),o.d(t,"MODEL",(function(){return C})),o.d(t,"USAGE_DASHBOARD_LINK",(function(){return E}));var a=o(0);const n=a.i18n.translate("xpack.stackConnectors.components.bedrock.apiUrlTextFieldLabel",{defaultMessage:"URL"}),s=a.i18n.translate("xpack.stackConnectors.components.bedrock.accessKeySecret",{defaultMessage:"Access Key"}),r=a.i18n.translate("xpack.stackConnectors.components.bedrock.defaultModelTextFieldLabel",{defaultMessage:"Default model"}),c=a.i18n.translate("xpack.stackConnectors.components.bedrock.defaultRegionTextFieldLabel",{defaultMessage:"AWS Region"}),d=a.i18n.translate("xpack.stackConnectors.components.bedrock.secret",{defaultMessage:"Secret"}),i=a.i18n.translate("xpack.stackConnectors.components.bedrock.title",{defaultMessage:"Amazon Bedrock"}),l=a.i18n.translate("xpack.stackConnectors.components.bedrock.documentation",{defaultMessage:"documentation"}),u=a.i18n.translate("xpack.stackConnectors.components.bedrock.urlTextFieldLabel",{defaultMessage:"URL"}),b=a.i18n.translate("xpack.stackConnectors.components.bedrock.error.requiredBedrockBodyText",{defaultMessage:"Body is required."}),k=a.i18n.translate("xpack.stackConnectors.security.bedrock.params.error.invalidBodyText",{defaultMessage:"Body does not have a valid JSON format."}),m=a.i18n.translate("xpack.stackConnectors.security.bedrock.params.error.requiredActionText",{defaultMessage:"Action is required."}),f=a.i18n.translate("xpack.stackConnectors.security.bedrock.params.error.invalidActionText",{defaultMessage:"Invalid action name."}),p=a.i18n.translate("xpack.stackConnectors.components.bedrock.bodyFieldLabel",{defaultMessage:"Body"}),A=a.i18n.translate("xpack.stackConnectors.components.bedrock.bodyCodeEditorAriaLabel",{defaultMessage:"Code editor"}),C=a.i18n.translate("xpack.stackConnectors.components.bedrock.model",{defaultMessage:"Model"}),E=(e,t)=>a.i18n.translate("xpack.stackConnectors.components.genAi.dashboardLink",{values:{apiProvider:e,connectorName:t},defaultMessage:'View {apiProvider} Usage Dashboard for "{ connectorName }" Connector'})},67:function(e,t,o){"use strict";o.d(t,"a",(function(){return i})),o.d(t,"b",(function(){return l})),o.d(t,"c",(function(){return u})),o(1);var a=o(31),n=o(29),s=o(6),r=o(47),c=o(3);const d="\n\nHuman:",i=JSON.stringify({prompt:`${d} Hello world! \n\nAssistant:`,max_tokens_to_sample:s.e,stop_sequences:[d]}),l=[{id:"apiUrl",label:r.API_URL_LABEL,isUrlField:!0,defaultValue:s.d,helpText:Object(c.jsx)(a.FormattedMessage,{defaultMessage:"The Amazon Bedrock API endpoint URL. For more information on the URL, refer to the {bedrockAPIUrlDocs}.",id:"xpack.stackConnectors.components.bedrock.bedrockDocumentation",values:{bedrockAPIUrlDocs:Object(c.jsx)(n.EuiLink,{"data-test-subj":"bedrock-api-doc",href:"https://docs.aws.amazon.com/general/latest/gr/bedrock.html",target:"_blank"},`${r.BEDROCK} ${r.DOCUMENTATION}`)}})},{id:"defaultModel",label:r.DEFAULT_MODEL_LABEL,helpText:Object(c.jsx)(a.FormattedMessage,{defaultMessage:'Current support is for the Anthropic Claude models. The model can be set on a per request basis by including a "model" parameter alongside the request body. If no model is provided, the fallback will be the default model -  Claude 2. For more information, refer to the {bedrockAPIModelDocs}.',id:"xpack.stackConnectors.components.bedrock.bedrockDocumentationModel",values:{bedrockAPIModelDocs:Object(c.jsx)(n.EuiLink,{"data-test-subj":"bedrock-api-model-doc",href:"https://aws.amazon.com/bedrock/claude/",target:"_blank"},`${r.BEDROCK} ${r.DOCUMENTATION}`)}}),defaultValue:s.c}],u=[{id:"accessKey",label:r.ACCESS_KEY_LABEL,isPasswordField:!0,helpText:Object(c.jsx)(a.FormattedMessage,{defaultMessage:"The AWS access key for HTTP Basic authentication. For more details about generating AWS security credentials, refer to the {bedrockAPIKeyDocs}.",id:"xpack.stackConnectors.components.bedrock.bedrockApiKeyDocumentation",values:{bedrockAPIKeyDocs:Object(c.jsx)(n.EuiLink,{"data-test-subj":"aws-api-keys-doc",href:"https://docs.aws.amazon.com/IAM/latest/UserGuide/security-creds.html",target:"_blank"},`${r.BEDROCK} ${r.DOCUMENTATION}`)}})},{id:"secret",label:r.SECRET,isPasswordField:!0,helpText:Object(c.jsx)(a.FormattedMessage,{defaultMessage:"The AWS secret for HTTP Basic authentication. For more details about generating AWS security credentials, refer to the {bedrockAPIKeyDocs}.",id:"xpack.stackConnectors.components.bedrock.bedrockSecretDocumentation",values:{bedrockAPIKeyDocs:Object(c.jsx)(n.EuiLink,{"data-test-subj":"aws-api-keys-doc",href:"https://docs.aws.amazon.com/IAM/latest/UserGuide/security-creds.html",target:"_blank"},`${r.BEDROCK} ${r.DOCUMENTATION}`)}})}]},95:function(e,t,o){"use strict";o.r(t),o.d(t,"default",(function(){return b}));var a=o(1),n=o.n(a),s=o(2),r=o(29),c=o(31),d=o(47),i=o(67),l=o(6),u=o(3);const b=({actionParams:e,editAction:t,index:o,messageVariables:b,executionMode:k,errors:m})=>{const{subAction:f,subActionParams:p}=e,{body:A,model:C}=null!=p?p:{},E=Object(a.useMemo)((()=>k===s.ActionConnectorMode.Test),[k]);Object(a.useEffect)((()=>{f||t("subAction",E?l.f.TEST:l.f.RUN,o)}),[t,o,E,f]),Object(a.useEffect)((()=>{p||t("subActionParams",{body:i.a},o)}),[t,o,p]),Object(a.useEffect)((()=>()=>{t("subActionParams",void 0,o)}),[]);const O=Object(a.useCallback)((e=>{t("subActionParams",{...p,...e},o)}),[t,o,p]);return Object(u.jsx)(n.a.Fragment,null,Object(u.jsx)(s.JsonEditorWithMessageVariables,{messageVariables:b,paramsProperty:"body",inputTargetValue:A,label:d.BODY,"aria-label":d.BODY_DESCRIPTION,errors:m.body,onDocumentsChange:e=>{O({body:e})},onBlur:()=>{A||O({body:""})},"data-test-subj":"bedrock-bodyJsonEditor"}),Object(u.jsx)(r.EuiFormRow,{fullWidth:!0,label:d.MODEL,helpText:Object(u.jsx)(c.FormattedMessage,{defaultMessage:"Optionally overwrite default model per request. Current support is for the Anthropic Claude models. For more information, refer to the {bedrockAPIModelDocs}.",id:"xpack.stackConnectors.components.bedrock.modelHelpText",values:{bedrockAPIModelDocs:Object(u.jsx)(r.EuiLink,{"data-test-subj":"bedrock-api-model-doc",href:"https://aws.amazon.com/bedrock/claude/",target:"_blank"},`${d.BEDROCK} ${d.DOCUMENTATION}`)}})},Object(u.jsx)(r.EuiFieldText,{"data-test-subj":"bedrock-model",placeholder:"anthropic.claude-v2",value:C,onChange:e=>{O({model:e.target.value})},fullWidth:!0})))}}}]);