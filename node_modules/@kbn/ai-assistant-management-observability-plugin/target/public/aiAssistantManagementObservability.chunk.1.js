(window.aiAssistantManagementObservability_bundle_jsonpfunction=window.aiAssistantManagementObservability_bundle_jsonpfunction||[]).push([[1],Array(20).concat([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.apS=t.apSW=t.bind=t.bindW=t.bindTo=t.exists=t.elem=t.toError=t.either=t.getValidationMonoid=t.MonadThrow=t.ChainRec=t.Extend=t.Alt=t.Bifunctor=t.Traversable=t.Foldable=t.Monad=t.Applicative=t.Functor=t.getValidationSemigroup=t.getValidation=t.getAltValidation=t.getApplicativeValidation=t.getWitherable=t.getFilterable=t.getApplyMonoid=t.getApplySemigroup=t.getSemigroup=t.getEq=t.getShow=t.URI=t.throwError=t.sequence=t.traverse=t.reduceRight=t.foldMap=t.reduce=t.duplicate=t.extend=t.alt=t.flatten=t.chainFirst=t.chainFirstW=t.chain=t.chainW=t.of=t.apSecond=t.apFirst=t.ap=t.apW=t.mapLeft=t.bimap=t.map=t.filterOrElse=t.orElse=t.swap=t.getOrElse=t.getOrElseW=t.fold=t.fromPredicate=t.fromOption=t.stringifyJSON=t.parseJSON=t.tryCatch=t.fromNullable=t.right=t.left=t.isRight=t.isLeft=void 0;var r=n(23),i=n(22);function a(e,n){try{return t.right(e())}catch(e){return t.left(n(e))}}t.isLeft=function(e){return"Left"===e._tag},t.isRight=function(e){return"Right"===e._tag},t.left=function(e){return{_tag:"Left",left:e}},t.right=function(e){return{_tag:"Right",right:e}},t.fromNullable=function(e){return function(n){return null==n?t.left(e):t.right(n)}},t.tryCatch=a,t.parseJSON=function(e,t){return a((function(){return JSON.parse(e)}),t)},t.stringifyJSON=function(e,t){return a((function(){return JSON.stringify(e)}),t)},t.fromOption=function(e){return function(n){return"None"===n._tag?t.left(e()):t.right(n.value)}},t.fromPredicate=function(e,n){return function(r){return e(r)?t.right(r):t.left(n(r))}},t.fold=function(e,n){return function(r){return t.isLeft(r)?e(r.left):n(r.right)}},t.getOrElseW=function(e){return function(n){return t.isLeft(n)?e(n.left):n.right}},t.getOrElse=t.getOrElseW,t.swap=function(e){return t.isLeft(e)?t.right(e.left):t.left(e.right)},t.orElse=function(e){return function(n){return t.isLeft(n)?e(n.left):n}},t.filterOrElse=function(e,n){return t.chain((function(r){return e(r)?t.right(r):t.left(n(r))}))};var o=function(e,n){return i.pipe(e,t.map(n))},s=function(e,n){return i.pipe(e,t.ap(n))},u=function(e,n){return i.pipe(e,t.chain(n))},c=function(e,n,r){return i.pipe(e,t.reduce(n,r))},l=function(e){return function(n,r){var a=t.foldMap(e);return i.pipe(n,a(r))}},f=function(e,n,r){return i.pipe(e,t.reduceRight(n,r))},d=function(e){var n=t.traverse(e);return function(e,t){return i.pipe(e,n(t))}},p=function(e,n,r){return i.pipe(e,t.bimap(n,r))},g=function(e,n){return i.pipe(e,t.mapLeft(n))},y=function(e,n){return i.pipe(e,t.alt(n))},b=function(e,n){return i.pipe(e,t.extend(n))},h=function(e,n){return r.tailRec(n(e),(function(e){return t.isLeft(e)?t.right(t.left(e.left)):t.isLeft(e.right)?t.left(n(e.right.left)):t.right(t.right(e.right.right))}))};function m(e){return{concat:function(n,r){return t.isLeft(n)?n:t.isLeft(r)?r:t.right(e.concat(n.right,r.right))}}}function v(e){var n=t.left(e.empty);return{URI:t.URI,_E:void 0,map:o,compact:function(e){return t.isLeft(e)?e:"None"===e.right._tag?n:t.right(e.right.value)},separate:function(e){return t.isLeft(e)?{left:e,right:e}:t.isLeft(e.right)?{left:t.right(e.right.left),right:n}:{left:n,right:t.right(e.right.right)}},filter:function(e,r){return t.isLeft(e)||r(e.right)?e:n},filterMap:function(e,r){if(t.isLeft(e))return e;var i=r(e.right);return"None"===i._tag?n:t.right(i.value)},partition:function(e,r){return t.isLeft(e)?{left:e,right:e}:r(e.right)?{left:n,right:t.right(e.right)}:{left:t.right(e.right),right:n}},partitionMap:function(e,r){if(t.isLeft(e))return{left:e,right:e};var i=r(e.right);return t.isLeft(i)?{left:t.right(i.left),right:n}:{left:n,right:t.right(i.right)}}}}function j(e){return{URI:t.URI,_E:void 0,map:o,ap:function(n,r){return t.isLeft(n)?t.isLeft(r)?t.left(e.concat(n.left,r.left)):n:t.isLeft(r)?r:t.right(n.right(r.right))},of:t.of}}function O(e){return{URI:t.URI,_E:void 0,map:o,alt:function(n,r){if(t.isRight(n))return n;var i=r();return t.isLeft(i)?t.left(e.concat(n.left,i.left)):i}}}function x(e,n){return{concat:function(r,i){return t.isLeft(r)?t.isLeft(i)?t.left(e.concat(r.left,i.left)):r:t.isLeft(i)?i:t.right(n.concat(r.right,i.right))}}}t.map=function(e){return function(n){return t.isLeft(n)?n:t.right(e(n.right))}},t.bimap=function(e,n){return function(r){return t.isLeft(r)?t.left(e(r.left)):t.right(n(r.right))}},t.mapLeft=function(e){return function(n){return t.isLeft(n)?t.left(e(n.left)):n}},t.apW=function(e){return function(n){return t.isLeft(n)?n:t.isLeft(e)?e:t.right(n.right(e.right))}},t.ap=t.apW,t.apFirst=function(e){return i.flow(t.map((function(e){return function(){return e}})),t.ap(e))},t.apSecond=function(e){return i.flow(t.map((function(){return function(e){return e}})),t.ap(e))},t.of=t.right,t.chainW=function(e){return function(n){return t.isLeft(n)?n:e(n.right)}},t.chain=t.chainW,t.chainFirstW=function(e){return function(n){return i.pipe(n,t.chainW((function(n){return i.pipe(e(n),t.map((function(){return n})))})))}},t.chainFirst=t.chainFirstW,t.flatten=t.chain(i.identity),t.alt=function(e){return function(n){return t.isLeft(n)?e():n}},t.extend=function(e){return function(n){return t.isLeft(n)?n:t.right(e(n))}},t.duplicate=t.extend(i.identity),t.reduce=function(e,n){return function(r){return t.isLeft(r)?e:n(e,r.right)}},t.foldMap=function(e){return function(n){return function(r){return t.isLeft(r)?e.empty:n(r.right)}}},t.reduceRight=function(e,n){return function(r){return t.isLeft(r)?e:n(r.right,e)}},t.traverse=function(e){return function(n){return function(r){return t.isLeft(r)?e.of(t.left(r.left)):e.map(n(r.right),t.right)}}},t.sequence=function(e){return function(n){return t.isLeft(n)?e.of(t.left(n.left)):e.map(n.right,t.right)}},t.throwError=t.left,t.URI="Either",t.getShow=function(e,n){return{show:function(r){return t.isLeft(r)?"left("+e.show(r.left)+")":"right("+n.show(r.right)+")"}}},t.getEq=function(e,n){return{equals:function(r,i){return r===i||(t.isLeft(r)?t.isLeft(i)&&e.equals(r.left,i.left):t.isRight(i)&&n.equals(r.right,i.right))}}},t.getSemigroup=function(e){return{concat:function(n,r){return t.isLeft(r)?n:t.isLeft(n)?r:t.right(e.concat(n.right,r.right))}}},t.getApplySemigroup=m,t.getApplyMonoid=function(e){return{concat:m(e).concat,empty:t.right(e.empty)}},t.getFilterable=v,t.getWitherable=function(e){var n=v(e);return{URI:t.URI,_E:void 0,map:o,compact:n.compact,separate:n.separate,filter:n.filter,filterMap:n.filterMap,partition:n.partition,partitionMap:n.partitionMap,traverse:d,sequence:t.sequence,reduce:c,foldMap:l,reduceRight:f,wither:function(e){var t=d(e);return function(r,i){return e.map(t(r,i),n.compact)}},wilt:function(e){var t=d(e);return function(r,i){return e.map(t(r,i),n.separate)}}}},t.getApplicativeValidation=j,t.getAltValidation=O,t.getValidation=function(e){var n=j(e),r=O(e);return{URI:t.URI,_E:void 0,map:o,of:t.of,chain:u,bimap:p,mapLeft:g,reduce:c,foldMap:l,reduceRight:f,extend:b,traverse:d,sequence:t.sequence,chainRec:h,throwError:t.throwError,ap:n.ap,alt:r.alt}},t.getValidationSemigroup=x,t.Functor={URI:t.URI,map:o},t.Applicative={URI:t.URI,map:o,ap:s,of:t.of},t.Monad={URI:t.URI,map:o,ap:s,of:t.of,chain:u},t.Foldable={URI:t.URI,reduce:c,foldMap:l,reduceRight:f},t.Traversable={URI:t.URI,map:o,reduce:c,foldMap:l,reduceRight:f,traverse:d,sequence:t.sequence},t.Bifunctor={URI:t.URI,bimap:p,mapLeft:g},t.Alt={URI:t.URI,map:o,alt:y},t.Extend={URI:t.URI,map:o,extend:b},t.ChainRec={URI:t.URI,map:o,ap:s,chain:u,chainRec:h},t.MonadThrow={URI:t.URI,map:o,ap:s,of:t.of,chain:u,throwError:t.throwError},t.getValidationMonoid=function(e,n){return{concat:x(e,n).concat,empty:t.right(n.empty)}},t.either={URI:t.URI,map:o,of:t.of,ap:s,chain:u,reduce:c,foldMap:l,reduceRight:f,traverse:d,sequence:t.sequence,bimap:p,mapLeft:g,alt:y,extend:b,chainRec:h,throwError:t.throwError},t.toError=function(e){return e instanceof Error?e:new Error(String(e))},t.elem=function(e){return function(n,r){return!t.isLeft(r)&&e.equals(n,r.right)}},t.exists=function(e){return function(n){return!t.isLeft(n)&&e(n.right)}},t.bindTo=function(e){return t.map(i.bindTo_(e))},t.bindW=function(e,n){return t.chainW((function(r){return i.pipe(n(r),t.map((function(t){return i.bind_(r,e,t)})))}))},t.bind=t.bindW,t.apSW=function(e,n){return i.flow(t.map((function(t){return function(n){return i.bind_(t,e,n)}})),t.apW(n))},t.apS=t.apSW},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pipeable=t.pipe=void 0;var r=n(22);t.pipe=r.pipe;t.pipeable=function(e){var t={};return function(e){return"function"==typeof e.map}(e)&&(t.map=function(t){return function(n){return e.map(n,t)}}),function(e){return"function"==typeof e.contramap}(e)&&(t.contramap=function(t){return function(n){return e.contramap(n,t)}}),function(e){return"function"==typeof e.mapWithIndex}(e)&&(t.mapWithIndex=function(t){return function(n){return e.mapWithIndex(n,t)}}),function(e){return"function"==typeof e.ap}(e)&&(t.ap=function(t){return function(n){return e.ap(n,t)}},t.apFirst=function(t){return function(n){return e.ap(e.map(n,(function(e){return function(){return e}})),t)}},t.apSecond=function(t){return function(n){return e.ap(e.map(n,(function(){return function(e){return e}})),t)}}),function(e){return"function"==typeof e.chain}(e)&&(t.chain=function(t){return function(n){return e.chain(n,t)}},t.chainFirst=function(t){return function(n){return e.chain(n,(function(n){return e.map(t(n),(function(){return n}))}))}},t.flatten=function(t){return e.chain(t,r.identity)}),function(e){return"function"==typeof e.bimap}(e)&&(t.bimap=function(t,n){return function(r){return e.bimap(r,t,n)}},t.mapLeft=function(t){return function(n){return e.mapLeft(n,t)}}),function(e){return"function"==typeof e.extend}(e)&&(t.extend=function(t){return function(n){return e.extend(n,t)}},t.duplicate=function(t){return e.extend(t,r.identity)}),function(e){return"function"==typeof e.reduce}(e)&&(t.reduce=function(t,n){return function(r){return e.reduce(r,t,n)}},t.foldMap=function(t){var n=e.foldMap(t);return function(e){return function(t){return n(t,e)}}},t.reduceRight=function(t,n){return function(r){return e.reduceRight(r,t,n)}}),function(e){return"function"==typeof e.reduceWithIndex}(e)&&(t.reduceWithIndex=function(t,n){return function(r){return e.reduceWithIndex(r,t,n)}},t.foldMapWithIndex=function(t){var n=e.foldMapWithIndex(t);return function(e){return function(t){return n(t,e)}}},t.reduceRightWithIndex=function(t,n){return function(r){return e.reduceRightWithIndex(r,t,n)}}),function(e){return"function"==typeof e.alt}(e)&&(t.alt=function(t){return function(n){return e.alt(n,t)}}),function(e){return"function"==typeof e.compact}(e)&&(t.compact=e.compact,t.separate=e.separate),function(e){return"function"==typeof e.filter}(e)&&(t.filter=function(t){return function(n){return e.filter(n,t)}},t.filterMap=function(t){return function(n){return e.filterMap(n,t)}},t.partition=function(t){return function(n){return e.partition(n,t)}},t.partitionMap=function(t){return function(n){return e.partitionMap(n,t)}}),function(e){return"function"==typeof e.filterWithIndex}(e)&&(t.filterWithIndex=function(t){return function(n){return e.filterWithIndex(n,t)}},t.filterMapWithIndex=function(t){return function(n){return e.filterMapWithIndex(n,t)}},t.partitionWithIndex=function(t){return function(n){return e.partitionWithIndex(n,t)}},t.partitionMapWithIndex=function(t){return function(n){return e.partitionMapWithIndex(n,t)}}),function(e){return"function"==typeof e.promap}(e)&&(t.promap=function(t,n){return function(r){return e.promap(r,t,n)}}),function(e){return"function"==typeof e.compose}(e)&&(t.compose=function(t){return function(n){return e.compose(n,t)}}),function(e){return"function"==typeof e.throwError}(e)&&(t.fromOption=function(t){return function(n){return"None"===n._tag?e.throwError(t()):e.of(n.value)}},t.fromEither=function(t){return"Left"===t._tag?e.throwError(t.left):e.of(t.right)},t.fromPredicate=function(t,n){return function(r){return t(r)?e.of(r):e.throwError(n(r))}},t.filterOrElse=function(t,n){return function(r){return e.chain(r,(function(r){return t(r)?e.of(r):e.throwError(n(r))}))}}),t}},function(e,t,n){"use strict";function r(e){return e}function i(e){throw new Error("Called `absurd` function which should be uncallable")}Object.defineProperty(t,"__esModule",{value:!0}),t.bindTo_=t.bind_=t.hole=t.pipe=t.untupled=t.tupled=t.absurd=t.decrement=t.increment=t.tuple=t.flow=t.flip=t.constVoid=t.constUndefined=t.constNull=t.constFalse=t.constTrue=t.constant=t.not=t.unsafeCoerce=t.identity=void 0,t.identity=r,t.unsafeCoerce=r,t.not=function(e){return function(t){return!e(t)}},t.constant=function(e){return function(){return e}},t.constTrue=function(){return!0},t.constFalse=function(){return!1},t.constNull=function(){return null},t.constUndefined=function(){},t.constVoid=function(){},t.flip=function(e){return function(t,n){return e(n,t)}},t.flow=function(e,t,n,r,i,a,o,s,u){switch(arguments.length){case 1:return e;case 2:return function(){return t(e.apply(this,arguments))};case 3:return function(){return n(t(e.apply(this,arguments)))};case 4:return function(){return r(n(t(e.apply(this,arguments))))};case 5:return function(){return i(r(n(t(e.apply(this,arguments)))))};case 6:return function(){return a(i(r(n(t(e.apply(this,arguments))))))};case 7:return function(){return o(a(i(r(n(t(e.apply(this,arguments)))))))};case 8:return function(){return s(o(a(i(r(n(t(e.apply(this,arguments))))))))};case 9:return function(){return u(s(o(a(i(r(n(t(e.apply(this,arguments)))))))))}}},t.tuple=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e},t.increment=function(e){return e+1},t.decrement=function(e){return e-1},t.absurd=i,t.tupled=function(e){return function(t){return e.apply(void 0,t)}},t.untupled=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e(t)}},t.pipe=function(e,t,n,r,i,a,o,s,u,c,l,f,d,p,g,y,b,h,m,v){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return n(t(e));case 4:return r(n(t(e)));case 5:return i(r(n(t(e))));case 6:return a(i(r(n(t(e)))));case 7:return o(a(i(r(n(t(e))))));case 8:return s(o(a(i(r(n(t(e)))))));case 9:return u(s(o(a(i(r(n(t(e))))))));case 10:return c(u(s(o(a(i(r(n(t(e)))))))));case 11:return l(c(u(s(o(a(i(r(n(t(e))))))))));case 12:return f(l(c(u(s(o(a(i(r(n(t(e)))))))))));case 13:return d(f(l(c(u(s(o(a(i(r(n(t(e))))))))))));case 14:return p(d(f(l(c(u(s(o(a(i(r(n(t(e)))))))))))));case 15:return g(p(d(f(l(c(u(s(o(a(i(r(n(t(e))))))))))))));case 16:return y(g(p(d(f(l(c(u(s(o(a(i(r(n(t(e)))))))))))))));case 17:return b(y(g(p(d(f(l(c(u(s(o(a(i(r(n(t(e))))))))))))))));case 18:return h(b(y(g(p(d(f(l(c(u(s(o(a(i(r(n(t(e)))))))))))))))));case 19:return m(h(b(y(g(p(d(f(l(c(u(s(o(a(i(r(n(t(e))))))))))))))))));case 20:return v(m(h(b(y(g(p(d(f(l(c(u(s(o(a(i(r(n(t(e)))))))))))))))))))}},t.hole=i,t.bind_=function(e,t,n){var r;return Object.assign({},e,((r={})[t]=n,r))},t.bindTo_=function(e){return function(t){var n;return(n={})[e]=t,n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tailRec=void 0,t.tailRec=function(e,t){for(var n=t(e);"Left"===n._tag;)n=t(n.left);return n.right}},function(e,t,n){"use strict";const r=n(25),i=n(26),a=n(27);function o(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function s(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function u(e,t){return t.decode?i(e):e}function c(e){return Array.isArray(e)?e.sort():"object"==typeof e?c(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function l(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function f(e){const t=(e=l(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function d(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function p(e,t){o((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const n=function(e){let t;switch(e.arrayFormat){case"index":return(e,n,r)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return(e,n,r)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"comma":case"separator":return(t,n,r)=>{const i="string"==typeof n&&n.split("").indexOf(e.arrayFormatSeparator)>-1?n.split(e.arrayFormatSeparator).map((t=>u(t,e))):null===n?n:u(n,e);r[t]=i};default:return(e,t,n)=>{void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t),r=Object.create(null);if("string"!=typeof e)return r;if(!(e=e.trim().replace(/^[?#&]/,"")))return r;for(const i of e.split("&")){let[e,o]=a(t.decode?i.replace(/\+/g," "):i,"=");o=void 0===o?null:["comma","separator"].includes(t.arrayFormat)?o:u(o,t),n(u(e,t),o,r)}for(const e of Object.keys(r)){const n=r[e];if("object"==typeof n&&null!==n)for(const e of Object.keys(n))n[e]=d(n[e],t);else r[e]=d(n,t)}return!1===t.sort?r:(!0===t.sort?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce(((e,t)=>{const n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=c(n):e[t]=n,e}),Object.create(null))}t.extract=f,t.parse=p,t.stringify=(e,t)=>{if(!e)return"";o((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const n=n=>t.skipNull&&null==e[n]||t.skipEmptyString&&""===e[n],r=function(e){switch(e.arrayFormat){case"index":return t=>(n,r)=>{const i=n.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[s(t,e),"[",i,"]"].join("")]:[...n,[s(t,e),"[",s(i,e),"]=",s(r,e)].join("")]};case"bracket":return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[s(t,e),"[]"].join("")]:[...n,[s(t,e),"[]=",s(r,e)].join("")];case"comma":case"separator":return t=>(n,r)=>null==r||0===r.length?n:0===n.length?[[s(t,e),"=",s(r,e)].join("")]:[[n,s(r,e)].join(e.arrayFormatSeparator)];default:return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,s(t,e)]:[...n,[s(t,e),"=",s(r,e)].join("")]}}(t),i={};for(const t of Object.keys(e))n(t)||(i[t]=e[t]);const a=Object.keys(i);return!1!==t.sort&&a.sort(t.sort),a.map((n=>{const i=e[n];return void 0===i?"":null===i?s(n,t):Array.isArray(i)?i.reduce(r(n),[]).join("&"):s(n,t)+"="+s(i,t)})).filter((e=>e.length>0)).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[n,r]=a(e,"#");return Object.assign({url:n.split("?")[0]||"",query:p(f(e),t)},t&&t.parseFragmentIdentifier&&r?{fragmentIdentifier:u(r,t)}:{})},t.stringifyUrl=(e,n)=>{n=Object.assign({encode:!0,strict:!0},n);const r=l(e.url).split("?")[0]||"",i=t.extract(e.url),a=t.parse(i,{sort:!1}),o=Object.assign(a,e.query);let u=t.stringify(o,n);u&&(u=`?${u}`);let c=function(e){let t="";const n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}(e.url);return e.fragmentIdentifier&&(c=`#${s(e.fragmentIdentifier,n)}`),`${r}${u}${c}`}},function(e,t,n){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))},function(e,t,n){"use strict";var r="%[a-f0-9]{2}",i=new RegExp("("+r+")|([^%]+?)","gi"),a=new RegExp("("+r+")+","gi");function o(e,t){try{return[decodeURIComponent(e.join(""))]}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],o(n),o(r))}function s(e){try{return decodeURIComponent(e)}catch(r){for(var t=e.match(i)||[],n=1;n<t.length;n++)t=(e=o(t,n).join("")).match(i)||[];return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},n=a.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var r=s(n[0]);r!==n[0]&&(t[n[0]]=r)}n=a.exec(e)}t["%C2"]="�";for(var i=Object.keys(t),o=0;o<i.length;o++){var u=i[o];e=e.replace(new RegExp(u,"g"),t[u])}return e}(e)}}},function(e,t,n){"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]}},function(e,t,n){"use strict";e.exports=n(29)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(17),a=(r=n(4))&&"object"==typeof r&&"default"in r?r.default:r;function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.matchRoutes=function e(t,n,r){return void 0===r&&(r=[]),t.some((function(t){var a=t.path?i.matchPath(n,t):r.length?r[r.length-1].match:i.Router.computeRootMatch(n);return a&&(r.push({route:t,match:a}),t.routes&&e(t.routes,n,r)),a})),r},t.renderRoutes=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),e?a.createElement(i.Switch,n,e.map((function(e,n){return a.createElement(i.Route,{key:e.key||n,path:e.path,exact:e.exact,strict:e.strict,render:function(n){return e.render?e.render(o({},n,{},t,{route:e})):a.createElement(e.component,o({},n,t,{route:e}))}})}))):null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(31),i=n(20);function a(e){return void 0!==e.message?e.message:"Invalid value "+("function"==typeof(t=e.value)?r.getFunctionName(t):"number"!=typeof t||isFinite(t)?JSON.stringify(t):isNaN(t)?"NaN":t>0?"Infinity":"-Infinity")+" supplied to "+e.context.map((function(e){return e.key+": "+e.type.name})).join("/");var t}function o(e){return e.map(a)}function s(){return["No errors!"]}t.failure=o,t.success=s,t.PathReporter={report:i.fold(o,s)}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(20),s=o.either.map,u=o.either.chain,c=function(){function e(e,t,n,r){this.name=e,this.is=t,this.validate=n,this.encode=r,this.decode=this.decode.bind(this)}return e.prototype.pipe=function(n,r){var i=this;return void 0===r&&(r="pipe("+this.name+", "+n.name+")"),new e(r,n.is,(function(e,t){return u(i.validate(e,t),(function(e){return n.validate(e,t)}))}),this.encode===t.identity&&n.encode===t.identity?t.identity:function(e){return i.encode(n.encode(e))})},e.prototype.asDecoder=function(){return this},e.prototype.asEncoder=function(){return this},e.prototype.decode=function(e){return this.validate(e,[{key:"",type:this,actual:e}])},e}();t.Type=c,t.identity=function(e){return e},t.getFunctionName=function(e){return e.displayName||e.name||"<function"+e.length+">"},t.getContextEntry=function(e,t){return{key:e,type:t}},t.appendContext=function(e,t,n,r){for(var i=e.length,a=Array(i+1),o=0;o<i;o++)a[o]=e[o];return a[i]={key:t,type:n,actual:r},a},t.failures=o.left,t.failure=function(e,n,r){return t.failures([{value:e,context:n,message:r}])},t.success=o.right;var l=function(e,t){for(var n=t.length,r=0;r<n;r++)e.push(t[r])},f=function(e){return function(t){return t._tag===e}},d=f("AnyType"),p=f("InterfaceType"),g=f("PartialType"),y=function(e){function n(){var n=e.call(this,"null",(function(e){return null===e}),(function(e,r){return n.is(e)?t.success(e):t.failure(e,r)}),t.identity)||this;return n._tag="NullType",n}return i(n,e),n}(c);t.NullType=y,t.nullType=new y,t.null=t.nullType;var b=function(e){function n(){var n=e.call(this,"undefined",(function(e){return void 0===e}),(function(e,r){return n.is(e)?t.success(e):t.failure(e,r)}),t.identity)||this;return n._tag="UndefinedType",n}return i(n,e),n}(c);t.UndefinedType=b;var h=new b;t.undefined=h;var m=function(e){function n(){var n=e.call(this,"void",h.is,h.validate,t.identity)||this;return n._tag="VoidType",n}return i(n,e),n}(c);t.VoidType=m,t.voidType=new m,t.void=t.voidType;var v=function(e){function n(){var n=e.call(this,"unknown",(function(e){return!0}),t.success,t.identity)||this;return n._tag="UnknownType",n}return i(n,e),n}(c);t.UnknownType=v,t.unknown=new v;var j=function(e){function n(){var n=e.call(this,"string",(function(e){return"string"==typeof e}),(function(e,r){return n.is(e)?t.success(e):t.failure(e,r)}),t.identity)||this;return n._tag="StringType",n}return i(n,e),n}(c);t.StringType=j,t.string=new j;var O=function(e){function n(){var n=e.call(this,"number",(function(e){return"number"==typeof e}),(function(e,r){return n.is(e)?t.success(e):t.failure(e,r)}),t.identity)||this;return n._tag="NumberType",n}return i(n,e),n}(c);t.NumberType=O,t.number=new O;var x=function(e){function n(){var n=e.call(this,"boolean",(function(e){return"boolean"==typeof e}),(function(e,r){return n.is(e)?t.success(e):t.failure(e,r)}),t.identity)||this;return n._tag="BooleanType",n}return i(n,e),n}(c);t.BooleanType=x,t.boolean=new x;var E=function(e){function n(){var n=e.call(this,"UnknownArray",Array.isArray,(function(e,r){return n.is(e)?t.success(e):t.failure(e,r)}),t.identity)||this;return n._tag="AnyArrayType",n}return i(n,e),n}(c);t.AnyArrayType=E,t.UnknownArray=new E,t.Array=t.UnknownArray;var w=function(e){function n(){var n=e.call(this,"UnknownRecord",(function(e){return"[object Object]"===Object.prototype.toString.call(e)}),(function(e,r){return n.is(e)?t.success(e):t.failure(e,r)}),t.identity)||this;return n._tag="AnyDictionaryType",n}return i(n,e),n}(c);t.AnyDictionaryType=w,t.UnknownRecord=new w;var T=function(e){function n(){var n=e.call(this,"Function",(function(e){return"function"==typeof e}),(function(e,r){return n.is(e)?t.success(e):t.failure(e,r)}),t.identity)||this;return n._tag="FunctionType",n}return i(n,e),n}(c);t.FunctionType=T,t.Function=new T;var M=function(e){function t(t,n,r,i,a,o){var s=e.call(this,t,n,r,i)||this;return s.type=a,s.predicate=o,s._tag="RefinementType",s}return i(t,e),t}(c);t.RefinementType=M,t.brand=function(e,t,n){return X(e,t,n)},t.Int=t.brand(t.number,(function(e){return Number.isInteger(e)}),"Int");var A=function(e){function t(t,n,r,i,a){var o=e.call(this,t,n,r,i)||this;return o.value=a,o._tag="LiteralType",o}return i(t,e),t}(c);t.LiteralType=A,t.literal=function(e,n){void 0===n&&(n=JSON.stringify(e));var r=function(t){return t===e};return new A(n,r,(function(n,i){return r(n)?t.success(e):t.failure(n,i)}),t.identity,e)};var k=function(e){function t(t,n,r,i,a){var o=e.call(this,t,n,r,i)||this;return o.keys=a,o._tag="KeyofType",o}return i(t,e),t}(c);t.KeyofType=k;var I=Object.prototype.hasOwnProperty;t.keyof=function(e,n){void 0===n&&(n=Object.keys(e).map((function(e){return JSON.stringify(e)})).join(" | "));var r=function(n){return t.string.is(n)&&I.call(e,n)};return new k(n,r,(function(e,n){return r(e)?t.success(e):t.failure(e,n)}),t.identity,e)};var S=function(e){function t(t,n,r,i,a){var o=e.call(this,t,n,r,i)||this;return o.runDefinition=a,o._tag="RecursiveType",o}return i(t,e),t}(c);t.RecursiveType=S,Object.defineProperty(S.prototype,"type",{get:function(){return this.runDefinition()},enumerable:!0,configurable:!0}),t.recursion=function(e,t){var n,r=function(){return n||((n=t(i)).name=e),n},i=new S(e,(function(e){return r().is(e)}),(function(e,t){return r().validate(e,t)}),(function(e){return r().encode(e)}),r);return i};var _=function(e){function t(t,n,r,i,a){var o=e.call(this,t,n,r,i)||this;return o.type=a,o._tag="ArrayType",o}return i(t,e),t}(c);t.ArrayType=_,t.array=function(e,n){return void 0===n&&(n="Array<"+e.name+">"),new _(n,(function(n){return t.UnknownArray.is(n)&&n.every(e.is)}),(function(n,r){return u(t.UnknownArray.validate(n,r),(function(n){for(var i=n.length,a=n,s=[],u=0;u<i;u++){var c=n[u],f=e.validate(c,t.appendContext(r,String(u),e,c));if(o.isLeft(f))l(s,f.left);else{var d=f.right;d!==c&&(a===n&&(a=n.slice()),a[u]=d)}}return s.length>0?t.failures(s):t.success(a)}))}),e.encode===t.identity?t.identity:function(t){return t.map(e.encode)},e)};var F=function(e){function t(t,n,r,i,a){var o=e.call(this,t,n,r,i)||this;return o.props=a,o._tag="InterfaceType",o}return i(t,e),t}(c);t.InterfaceType=F;var R=function(e){return Object.keys(e).map((function(t){return t+": "+e[t].name})).join(", ")},B=function(e){for(var n=0;n<e.length;n++)if(e[n].encode!==t.identity)return!1;return!0},C=function(e){return"{ "+R(e)+" }"};t.type=function(e,n){void 0===n&&(n=C(e));var r=Object.keys(e),i=r.map((function(t){return e[t]})),s=r.length;return new F(n,(function(e){if(t.UnknownRecord.is(e)){for(var n=0;n<s;n++){var a=r[n];if(!I.call(e,a)||!i[n].is(e[a]))return!1}return!0}return!1}),(function(e,n){return u(t.UnknownRecord.validate(e,n),(function(e){for(var u=e,c=[],f=0;f<s;f++){var d=r[f];I.call(u,d)||(u===e&&(u=a({},e)),u[d]=u[d]);var p=u[d],g=i[f],y=g.validate(p,t.appendContext(n,d,g,p));if(o.isLeft(y))l(c,y.left);else{var b=y.right;b!==p&&(u===e&&(u=a({},e)),u[d]=b)}}return c.length>0?t.failures(c):t.success(u)}))}),B(i)?t.identity:function(e){for(var n=a({},e),o=0;o<s;o++){var u=r[o],c=i[o].encode;c!==t.identity&&(n[u]=c(e[u]))}return n},e)},t.interface=t.type;var L=function(e){function t(t,n,r,i,a){var o=e.call(this,t,n,r,i)||this;return o.props=a,o._tag="PartialType",o}return i(t,e),t}(c);t.PartialType=L;var N=function(e){return"Partial<"+e+">"};t.partial=function(e,n){void 0===n&&(n=N(C(e)));var r=Object.keys(e),i=r.map((function(t){return e[t]})),s=r.length;return new L(n,(function(n){if(t.UnknownRecord.is(n)){for(var i=0;i<s;i++){var a=r[i],o=n[a];if(void 0!==o&&!e[a].is(o))return!1}return!0}return!1}),(function(n,i){return u(t.UnknownRecord.validate(n,i),(function(n){for(var u=n,c=[],f=0;f<s;f++){var d=r[f],p=u[d],g=e[d],y=g.validate(p,t.appendContext(i,d,g,p));if(o.isLeft(y))void 0!==p&&l(c,y.left);else{var b=y.right;b!==p&&(u===n&&(u=a({},n)),u[d]=b)}}return c.length>0?t.failures(c):t.success(u)}))}),B(i)?t.identity:function(e){for(var t=a({},e),n=0;n<s;n++){var o=r[n],u=e[o];void 0!==u&&(t[o]=i[n].encode(u))}return t},e)};var P=function(e){function t(t,n,r,i,a,o){var s=e.call(this,t,n,r,i)||this;return s.domain=a,s.codomain=o,s._tag="DictionaryType",s}return i(t,e),t}(c);t.DictionaryType=P,t.record=function(e,n,r){return void 0===r&&(r="{ [K in "+e.name+"]: "+n.name+" }"),new P(r,(function(r){return t.UnknownRecord.is(r)?Object.keys(r).every((function(t){return e.is(t)&&n.is(r[t])})):d(n)&&Array.isArray(r)}),(function(r,i){if(t.UnknownRecord.is(r)){for(var a={},s=[],u=Object.keys(r),c=u.length,f=!1,p=0;p<c;p++){var g=u[p],y=r[g],b=e.validate(g,t.appendContext(i,g,e,g));if(o.isLeft(b))l(s,b.left);else{var h=b.right;f=f||h!==g,g=h;var m=n.validate(y,t.appendContext(i,g,n,y));if(o.isLeft(m))l(s,m.left);else{var v=m.right;f=f||v!==y,a[g]=v}}}return s.length>0?t.failures(s):t.success(f?a:r)}return d(n)&&Array.isArray(r)?t.success(r):t.failure(r,i)}),e.encode===t.identity&&n.encode===t.identity?t.identity:function(t){for(var r={},i=Object.keys(t),a=i.length,o=0;o<a;o++){var s=i[o];r[String(e.encode(s))]=n.encode(t[s])}return r},e,n)};var U=function(e){function t(t,n,r,i,a){var o=e.call(this,t,n,r,i)||this;return o.types=a,o._tag="UnionType",o}return i(t,e),t}(c);t.UnionType=U;var W=function(e){return"("+e.map((function(e){return e.name})).join(" | ")+")"};t.union=function(e,n){void 0===n&&(n=W(e));var r=oe(e);if(void 0!==r&&e.length>0){var i=r[0],a=r[1],s=a.length,c=function(e){for(var t=0;t<s;t++)if(-1!==a[t].indexOf(e))return t};return new V(n,(function(n){if(t.UnknownRecord.is(n)){var r=c(n[i]);return void 0!==r&&e[r].is(n)}return!1}),(function(n,r){return u(t.UnknownRecord.validate(n,r),(function(a){var o=c(a[i]);if(void 0===o)return t.failure(n,r);var s=e[o];return s.validate(a,t.appendContext(r,String(o),s,a))}))}),B(e)?t.identity:function(t){var r=c(t[i]);if(void 0===r)throw new Error("no codec found to encode value in union codec "+n);return e[r].encode(t)},e,i)}return new U(n,(function(t){return e.some((function(e){return e.is(t)}))}),(function(n,r){for(var i=[],a=0;a<e.length;a++){var s=e[a],u=s.validate(n,t.appendContext(r,String(a),s,n));if(!o.isLeft(u))return t.success(u.right);l(i,u.left)}return t.failures(i)}),B(e)?t.identity:function(t){for(var r=0,i=e;r<i.length;r++){var a=i[r];if(a.is(t))return a.encode(t)}throw new Error("no codec found to encode value in union type "+n)},e)};var D=function(e){function t(t,n,r,i,a){var o=e.call(this,t,n,r,i)||this;return o.types=a,o._tag="IntersectionType",o}return i(t,e),t}(c);t.IntersectionType=D;var q=function(e,n){for(var r=!0,i=!0,a=0,o=n;a<o.length;a++)(l=o[a])!==e&&(r=!1),t.UnknownRecord.is(l)&&(i=!1);if(r)return e;if(i)return n[n.length-1];for(var s={},u=0,c=n;u<c.length;u++){var l=c[u];for(var f in l)l[f]===e[f]&&s.hasOwnProperty(f)||(s[f]=l[f])}return s};t.intersection=function(e,n){void 0===n&&(n="("+e.map((function(e){return e.name})).join(" & ")+")");var r=e.length;return new D(n,(function(t){return e.every((function(e){return e.is(t)}))}),0===e.length?t.success:function(n,i){for(var a=[],s=[],u=0;u<r;u++){var c=e[u],f=c.validate(n,t.appendContext(i,String(u),c,n));o.isLeft(f)?l(s,f.left):a.push(f.right)}return s.length>0?t.failures(s):t.success(q(n,a))},0===e.length?t.identity:function(t){return q(t,e.map((function(e){return e.encode(t)})))},e)};var z=function(e){function t(t,n,r,i,a){var o=e.call(this,t,n,r,i)||this;return o.types=a,o._tag="TupleType",o}return i(t,e),t}(c);t.TupleType=z,t.tuple=function(e,n){void 0===n&&(n="["+e.map((function(e){return e.name})).join(", ")+"]");var r=e.length;return new z(n,(function(n){return t.UnknownArray.is(n)&&n.length===r&&e.every((function(e,t){return e.is(n[t])}))}),(function(n,i){return u(t.UnknownArray.validate(n,i),(function(n){for(var a=n.length>r?n.slice(0,r):n,s=[],u=0;u<r;u++){var c=n[u],f=e[u],d=f.validate(c,t.appendContext(i,String(u),f,c));if(o.isLeft(d))l(s,d.left);else{var p=d.right;p!==c&&(a===n&&(a=n.slice()),a[u]=p)}}return s.length>0?t.failures(s):t.success(a)}))}),B(e)?t.identity:function(t){return e.map((function(e,n){return e.encode(t[n])}))},e)};var G=function(e){function t(t,n,r,i,a){var o=e.call(this,t,n,r,i)||this;return o.type=a,o._tag="ReadonlyType",o}return i(t,e),t}(c);t.ReadonlyType=G,t.readonly=function(e,n){return void 0===n&&(n="Readonly<"+e.name+">"),new G(n,e.is,(function(t,n){return s(e.validate(t,n),(function(e){return e}))}),e.encode===t.identity?t.identity:e.encode,e)};var K=function(e){function t(t,n,r,i,a){var o=e.call(this,t,n,r,i)||this;return o.type=a,o._tag="ReadonlyArrayType",o}return i(t,e),t}(c);t.ReadonlyArrayType=K,t.readonlyArray=function(e,n){void 0===n&&(n="ReadonlyArray<"+e.name+">");var r=t.array(e);return new K(n,r.is,(function(e,t){return s(r.validate(e,t),(function(e){return e}))}),r.encode,e)},t.strict=function(e,n){return t.exact(t.type(e),n)};var V=function(e){function t(t,n,r,i,a,o){var s=e.call(this,t,n,r,i,a)||this;return s.tag=o,s}return i(t,e),t}(U);t.TaggedUnionType=V,t.taggedUnion=function(e,n,r){void 0===r&&(r=W(n));var i=t.union(n,r);return i instanceof V?i:(console.warn("[io-ts] Cannot build a tagged union for "+r+", returning a de-optimized union"),new V(r,i.is,i.validate,i.encode,n,e))};var $=function(e){function t(t,n,r,i,a){var o=e.call(this,t,n,r,i)||this;return o.type=a,o._tag="ExactType",o}return i(t,e),t}(c);t.ExactType=$;var J=function(e){switch(e._tag){case"RefinementType":case"ReadonlyType":return J(e.type);case"InterfaceType":case"StrictType":case"PartialType":return e.props;case"IntersectionType":return e.types.reduce((function(e,t){return Object.assign(e,J(t))}),{})}},Q=function(e,t){for(var n=Object.getOwnPropertyNames(e),r=!1,i={},a=0;a<n.length;a++){var o=n[a];I.call(t,o)?i[o]=e[o]:r=!0}return r?i:e};t.exact=function(e,n){void 0===n&&(n=function(e){return p(e)?"{| "+R(e.props)+" |}":g(e)?N("{| "+R(e.props)+" |}"):"Exact<"+e.name+">"}(e));var r=J(e);return new $(n,e.is,(function(n,i){return u(t.UnknownRecord.validate(n,i),(function(){return s(e.validate(n,i),(function(e){return Q(e,r)}))}))}),(function(t){return e.encode(Q(t,r))}),e)},t.getValidationError=function(e,t){return{value:e,context:t}},t.getDefaultContext=function(e){return[{key:"",type:e}]};var H=function(e){function n(){var n=e.call(this,"never",(function(e){return!1}),(function(e,n){return t.failure(e,n)}),(function(){throw new Error("cannot encode never")}))||this;return n._tag="NeverType",n}return i(n,e),n}(c);t.NeverType=H,t.never=new H;var Z=function(e){function n(){var n=e.call(this,"any",(function(e){return!0}),t.success,t.identity)||this;return n._tag="AnyType",n}return i(n,e),n}(c);t.AnyType=Z,t.any=new Z,t.Dictionary=t.UnknownRecord;var Y=function(e){function n(){var n=e.call(this,"object",(function(e){return null!==e&&"object"==typeof e}),(function(e,r){return n.is(e)?t.success(e):t.failure(e,r)}),t.identity)||this;return n._tag="ObjectType",n}return i(n,e),n}(c);function X(e,n,r){return void 0===r&&(r="("+e.name+" | "+t.getFunctionName(n)+")"),new M(r,(function(t){return e.is(t)&&n(t)}),(function(r,i){return u(e.validate(r,i),(function(e){return n(e)?t.success(e):t.failure(e,i)}))}),e.encode,e,n)}t.ObjectType=Y,t.object=new Y,t.refinement=X,t.Integer=X(t.number,Number.isInteger,"Integer"),t.dictionary=t.record;var ee=function(e){function t(t,n,r,i,a){var o=e.call(this,t,n,r,i)||this;return o.props=a,o._tag="StrictType",o}return i(t,e),t}(c);t.StrictType=ee,t.clean=function(e){return e},t.alias=function(e){return function(){return e}};var te=function(e){return e.length>0};function ne(e,t){for(var n=[],r=0,i=e;r<i.length;r++){var a=i[r];-1!==t.indexOf(a)&&n.push(a)}return n}function re(e){return"LiteralType"===e._tag}t.emptyTags={};var ie=[];function ae(e){if(-1!==ie.indexOf(e))return t.emptyTags;if(function(e){return"InterfaceType"===e._tag}(e)||function(e){return"StrictType"===e._tag}(e)){var n=t.emptyTags;for(var r in e.props){var i=e.props[r];re(i)&&(n===t.emptyTags&&(n={}),n[r]=[i.value])}return n}if(function(e){return"ExactType"===e._tag}(e)||function(e){return"RefinementType"===e._tag}(e))return ae(e.type);if(function(e){return"IntersectionType"===e._tag}(e))return e.types.reduce((function(e,n){return function(e,n){if(e===t.emptyTags)return n;if(n===t.emptyTags)return e;var r=Object.assign({},e);for(var i in n)if(e.hasOwnProperty(i)){var a=ne(e[i],n[i]);if(!te(a)){r=t.emptyTags;break}r[i]=a}else r[i]=n[i];return r}(e,ae(n))}),t.emptyTags);if(function(e){return"UnionType"===e._tag}(e))return e.types.slice(1).reduce((function(e,n){return function(e,n){if(e===t.emptyTags||n===t.emptyTags)return t.emptyTags;var r=t.emptyTags;for(var i in e)n.hasOwnProperty(i)&&0===ne(e[i],n[i]).length&&(r===t.emptyTags&&(r={}),r[i]=e[i].concat(n[i]));return r}(e,ae(n))}),ae(e.types[0]));if(function(e){return"RecursiveType"===e._tag}(e)){ie.push(e);var a=ae(e.type);return ie.pop(),a}return t.emptyTags}function oe(e){for(var t=ae(e[0]),n=Object.keys(t),r=e.length,i=function(n){for(var i=t[n].slice(),a=[t[n]],o=1;o<r;o++){var s=ae(e[o])[n];if(void 0===s)return"continue-keys";if(s.some((function(e){return-1!==i.indexOf(e)})))return"continue-keys";i.push.apply(i,s),a.push(s)}return{value:[n,a]}},a=0,o=n;a<o.length;a++){var s=i(o[a]);if("object"==typeof s)return s.value}}t.getTags=ae,t.getIndex=oe},function(e,t,n){e.exports=n(18)(3)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),i=n(34),a=r.__importDefault(n(36));t.default=function(e,t){a.default(e,t,i.isDeepEqual)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDeepEqual=t.off=t.on=t.isClient=void 0;var r=n(12).__importDefault(n(35));t.isClient="object"==typeof window,t.on=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return e.addEventListener.apply(e,t)},t.off=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return e.removeEventListener.apply(e,t)},t.isDeepEqual=r.default},function(e,t,n){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,a;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!=i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(a=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!=i--;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;0!=i--;){var o=a[i];if(!("_owner"===o&&t.$$typeof||e(t[o],n[o])))return!1}return!0}return t!=t&&n!=n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4);t.default=function(e,t,n){var i=r.useRef(void 0);i.current&&n(t,i.current)||(i.current=t),r.useEffect(e,i.current)}},function(e,t,n){"use strict";n.r(t),n.d(t,"mountManagementSection",(function(){return ue}));var r=n(4),i=n.n(r),a=n(15),o=n.n(a),s=n(5),u=n(7),c=n(20);function l(...e){return{...new s.Type("merge",(t=>e.every((e=>e.is(t)))),((t,n)=>{const r=[],i=[];e.map(((e,r)=>e.validate(t,n.concat({key:String(r),type:e,actual:t})))).forEach((e=>{Object(c.isLeft)(e)?r.push(...e.left):i.push(e.right)}));const a=Object(u.merge)({},...i);return r.length>0?s.failures(r):s.success(a)}),(t=>e.reduce(((e,t)=>t.encode(e)),t))),_tag:"MergeType",types:e}}const f=["StringType","NumberType","BooleanType","ArrayType","DictionaryType","InterfaceType","PartialType","UnionType","IntersectionType","MergeType"],d=e=>"_tag"in e&&f.includes(e._tag);function p(e){if(!d(e))return e;switch(e._tag){case"ArrayType":return s.array(p(e.type));case"DictionaryType":return s.dictionary(e.domain,p(e.codomain));case"InterfaceType":return s.exact(s.interface(Object(u.mapValues)(e.props,p)));case"PartialType":return s.exact(s.partial(Object(u.mapValues)(e.props,p)));case"IntersectionType":return s.intersection(e.types.map(p));case"UnionType":return s.union(e.types.map(p));case"MergeType":return l(p(e.types[0]),p(e.types[1]));default:return e}}const g=e=>""===e;s.brand(s.string,(e=>{return!g(t=e)&&!t.includes(" ")&&!t.split(",").some(g);var t}),"IndexPattern"),new s.Type("JSON",s.any.is,((e,t)=>c.either.chain(s.string.validate(e,t),(n=>{try{return s.success(JSON.parse(n))}catch(n){return s.failure(e,t)}}))),(e=>JSON.stringify(e))),new s.Type("isoToEpochRt",s.number.is,((e,t)=>c.either.chain(s.string.validate(e,t),(n=>{const r=new Date(n).getTime();return isNaN(r)?s.failure(e,t):s.success(r)}))),(e=>new Date(e).toISOString())),new s.Type("ToNumber",s.number.is,((e,t)=>{const n=Number(e);return isNaN(n)?s.failure(e,t):s.success(n)}),s.identity),new s.Type("ToBoolean",s.boolean.is,(e=>{let t;return t="string"==typeof e?"true"===e:!!e,s.success(t)}),s.identity),s.brand(s.string,(e=>e.length>0),"NonEmptyString");var y=n(21),b=n(10),h=n.n(b);s.brand(s.string,(e=>h()(e,!0).isValid()),"Date");var m=n(16),v=n.n(m);new s.Type("datemath",s.string.is,((e,t)=>Object(y.pipe)(s.string.validate(e,t),Object(c.chain)((e=>(e=>{const t=v.a.parse(e);return!(!t||!t.isValid())})(e)?s.success(e):s.failure(e,t))))),String),n(22);const j=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3,9}Z$/,O=new s.Type("DateFromStringOrNumber",(e=>"string"==typeof e),((e,t)=>"string"==typeof e?j.test(e)?s.success(e):s.failure(e,t):Object(y.pipe)(s.number.validate(e,t),Object(c.chain)((e=>{const n=h()(e);return n.isValid()?s.success(n.toISOString()):s.failure(e,t)})))),String),x=s.type({time:O,tiebreaker:s.number});s.intersection([x,s.partial({gid:s.string,fromAutoReload:s.boolean})]);var E=n(30),w=n(24),T=n.n(w),M=n(28);function A(e){return e.replace(/(?:{([^\/]+)})/g,":$1")}class NotFoundRouteException extends Error{constructor(e){super(e)}}var k=n(6);const I=Object(r.createContext)(void 0);function S({element:e,children:t}){return Object(k.jsx)(I.Provider,{value:{element:e}},t)}const _=Object(r.createContext)(void 0),F=({match:e,element:t,children:n})=>Object(k.jsx)(_.Provider,{value:{match:e,element:t}},Object(k.jsx)(S,{element:t},n));var R=n(8);const B=Object(r.createContext)(void 0),C=({router:e,children:t})=>Object(k.jsx)(B.Provider,{value:e},t);function L(){const e=Object(r.useContext)(B);if(!e)throw new Error("Router not found in context");return e}function N(){return function(e){const t=L(),n=Object(R.useLocation)();return Object(r.useMemo)((()=>void 0===e?t.matchRoutes(n):t.matchRoutes(e,n)),[e,t,n])}().concat().reverse().reduce(((e,t)=>{const{element:n}=t.route;return Object(k.jsx)(F,{match:t,element:e},n)}),Object(k.jsx)(i.a.Fragment,null))}n(32),n(33);var P=n(13);const U=({children:e,...t})=>Object(k.jsx)(R.Router,t,Object(k.jsx)(P.CompatRouter,null,e));function W({children:e,router:t,history:n}){return Object(k.jsx)(U,{history:n},Object(k.jsx)(C,{router:t},e))}var D=n(11),q=n(14),z=n(0),G=n(19),K=n(9);const V=Object(r.createContext)(null),$=({children:e,value:t})=>Object(k.jsx)(V.Provider,{value:t},e),J=()=>{const e=Object(r.useContext)(V);if(!e)throw new Error('"useAppContext" can only be called inside of AppContext.Provider!');return e};var Q={name:"2qga7i",styles:"text-align:right"},H={name:"2qga7i",styles:"text-align:right"};function Z(){const{application:{navigateToApp:e},observabilityAIAssistant:t}=J(),{connectors:n=[],selectedConnector:r,selectConnector:a}=t.useGenAIConnectors(),o=n.map((e=>({text:e.name,value:e.id})));return Object(k.jsx)(i.a.Fragment,null,Object(k.jsx)(K.EuiPanel,{hasBorder:!0,grow:!1},Object(k.jsx)(K.EuiForm,{component:"form"},Object(k.jsx)(K.EuiDescribedFormGroup,{fullWidth:!0,title:Object(k.jsx)("h3",null,z.i18n.translate("aiAssistantManagementObservability.settingsPage.showAIAssistantButtonLabel",{defaultMessage:"Show AI Assistant button and Contextual Insights in Observability apps"})),description:Object(k.jsx)("p",null,z.i18n.translate("aiAssistantManagementObservability.settingsPage.showAIAssistantDescriptionLabel",{defaultMessage:"Toggle the AI Assistant button and Contextual Insights on or off in Observability apps by checking or unchecking the AI Assistant feature in Spaces > <your space> > Features."}))},Object(k.jsx)(K.EuiFormRow,{fullWidth:!0},Object(k.jsx)("div",{css:Q},Object(k.jsx)(K.EuiButton,{"data-test-subj":"settingsTabGoToSpacesButton",onClick:()=>{e("management",{path:"/kibana/spaces"})}},z.i18n.translate("aiAssistantManagementObservability.settingsPage.goToFeatureControlsButtonLabel",{defaultMessage:"Go to Spaces"}))))))),Object(k.jsx)(K.EuiSpacer,{size:"l"}),Object(k.jsx)(K.EuiPanel,{hasBorder:!0,grow:!1},Object(k.jsx)(K.EuiForm,{component:"form"},Object(k.jsx)(K.EuiDescribedFormGroup,{fullWidth:!0,title:Object(k.jsx)("h3",null,z.i18n.translate("aiAssistantManagementObservability.settingsPage.connectorSettingsLabel",{defaultMessage:"Connector settings"})),description:z.i18n.translate("aiAssistantManagementObservability.settingsPage.euiDescribedFormGroup.inOrderToUseLabel",{defaultMessage:"In order to use the Observability AI Assistant you must set up a Generative AI connector."})},Object(k.jsx)(K.EuiFormRow,{fullWidth:!0},Object(k.jsx)("div",{css:H},Object(k.jsx)(K.EuiButton,{"data-test-subj":"settingsTabGoToConnectorsButton",onClick:()=>{e("management",{path:"/insightsAndAlerting/triggersActionsConnectors/connectors"})}},z.i18n.translate("aiAssistantManagementObservability.settingsPage.goToConnectorsButtonLabel",{defaultMessage:"Manage connectors"}))))),Object(k.jsx)(K.EuiDescribedFormGroup,{fullWidth:!0,title:Object(k.jsx)("h3",null,z.i18n.translate("aiAssistantManagementObservability.settingsPage.h4.selectDefaultConnectorLabel",{defaultMessage:"Default connector"})),description:z.i18n.translate("aiAssistantManagementObservability.settingsPage.connectYourElasticAITextLabel",{defaultMessage:"Select the Generative AI connector you want to use as the default for the Observability AI Assistant."})},Object(k.jsx)(K.EuiFormRow,{fullWidth:!0,label:z.i18n.translate("aiAssistantManagementObservability.settingsPage.selectConnectorLabel",{defaultMessage:"Select connector"})},Object(k.jsx)(K.EuiSelect,{"data-test-subj":"settingsTabGenAIConnectorSelect",id:"generativeAIProvider",options:o,value:r,onChange:e=>{a(e.target.value)},"aria-label":z.i18n.translate("aiAssistantManagementObservability.settingsPage.euiSelect.generativeAIProviderLabel",{defaultMessage:"Generative AI provider"})}))))))}const Y={GET_GENAI_CONNECTORS:"get_genai_connectors",GET_KB_ENTRIES:"get_kb_entries",CREATE_KB_ENTRIES:"create_kb_entry",IMPORT_KB_ENTRIES:"import_kb_entry"};function X(){const{observabilityAIAssistant:e,notifications:{toasts:t}}=J(),n=Object(D.useQueryClient)(),r=e.service.callApi;return Object(D.useMutation)([Y.CREATE_KB_ENTRIES],(({id:e})=>r?null==r?void 0:r("DELETE /internal/observability_ai_assistant/kb/entries/{entryId}",{signal:null,params:{path:{entryId:e}}}):Promise.reject("Error with observabilityAIAssistantApi: API not found.")),{onSuccess:(e,{id:r})=>{t.addSuccess(z.i18n.translate("aiAssistantManagementObservability.kb.deleteManualEntry.successNotification",{defaultMessage:"Successfully deleted {id}",values:{id:r}})),n.invalidateQueries({queryKey:[Y.GET_KB_ENTRIES],refetchType:"all"})},onError:(e,{id:n})=>{var r,i;t.addError(new Error(null!==(r=null===(i=e.body)||void 0===i?void 0:i.message)&&void 0!==r?r:e.message),{title:z.i18n.translate("aiAssistantManagementObservability.kb.deleteManualEntry.errorNotification",{defaultMessage:"Something went wrong while deleting {name}",values:{name:n}})})}})}function ee({entry:e,onClose:t}){var n,i;const{uiSettings:a}=J(),o=a.get("dateFormat"),{mutateAsync:s,isLoading:u}=function(){const{notifications:{toasts:e},observabilityAIAssistant:t}=J(),n=Object(D.useQueryClient)(),r=t.service.callApi;return Object(D.useMutation)([Y.CREATE_KB_ENTRIES],(({entry:e})=>r?null==r?void 0:r("POST /internal/observability_ai_assistant/kb/entries/save",{signal:null,params:{body:{...e,role:"user_entry"}}}):Promise.reject("Error with observabilityAIAssistantApi: API not found.")),{onSuccess:(t,{entry:r})=>{e.addSuccess(z.i18n.translate("aiAssistantManagementObservability.kb.addManualEntry.successNotification",{defaultMessage:"Successfully created {name}",values:{name:r.id}})),n.invalidateQueries({queryKey:[Y.GET_KB_ENTRIES],refetchType:"all"})},onError:(t,{entry:n})=>{var r,i;e.addError(new Error(null!==(r=null===(i=t.body)||void 0===i?void 0:i.message)&&void 0!==r?r:t.message),{title:z.i18n.translate("aiAssistantManagementObservability.kb.addManualEntry.errorNotification",{defaultMessage:"Something went wrong while creating {name}",values:{name:n.id}})})}})}(),{mutateAsync:c,isLoading:l}=X(),[f,d]=Object(r.useState)(null!==(n=null==e?void 0:e.id)&&void 0!==n?n:""),[p,g]=Object(r.useState)(null!==(i=null==e?void 0:e.text)&&void 0!==i?i:"");return Object(k.jsx)(K.EuiFlyout,{onClose:t},Object(k.jsx)(K.EuiFlyoutHeader,{hasBorder:!0,"data-test-subj":"knowledgeBaseManualEntryFlyout"},Object(k.jsx)(K.EuiTitle,null,Object(k.jsx)("h2",null,e?z.i18n.translate("aiAssistantManagementObservability.knowledgeBaseNewEntryFlyout.h2.editEntryLabel",{defaultMessage:"Edit {id}",values:{id:e.id}}):z.i18n.translate("aiAssistantManagementObservability.knowledgeBaseNewEntryFlyout.h2.newEntryLabel",{defaultMessage:"New entry"})))),Object(k.jsx)(K.EuiFlyoutBody,null,e?Object(k.jsx)(K.EuiFlexGroup,null,Object(k.jsx)(K.EuiFlexItem,null,Object(k.jsx)(K.EuiText,{color:"subdued",size:"s"},z.i18n.translate("aiAssistantManagementObservability.knowledgeBaseEditManualEntryFlyout.createdOnTextLabel",{defaultMessage:"Created on"})),Object(k.jsx)(K.EuiText,{size:"s"},h()(e["@timestamp"]).format(o))),Object(k.jsx)(K.EuiFlexItem,{grow:!1},Object(k.jsx)(K.EuiButton,{"data-test-subj":"knowledgeBaseEditManualEntryFlyoutDeleteEntryButton",color:"danger",iconType:"trash",isLoading:l,onClick:async()=>{await c({id:e.id}),t()}},z.i18n.translate("aiAssistantManagementObservability.knowledgeBaseEditManualEntryFlyout.deleteEntryButtonLabel",{defaultMessage:"Delete entry"})))):Object(k.jsx)(K.EuiFormRow,{fullWidth:!0,label:z.i18n.translate("aiAssistantManagementObservability.knowledgeBaseEditManualEntryFlyout.euiFormRow.idLabel",{defaultMessage:"Name"})},Object(k.jsx)(K.EuiFieldText,{"data-test-subj":"knowledgeBaseEditManualEntryFlyoutFieldText",fullWidth:!0,value:f,onChange:e=>d(e.target.value)})),Object(k.jsx)(K.EuiSpacer,{size:"m"}),Object(k.jsx)(K.EuiFormRow,{fullWidth:!0,label:z.i18n.translate("aiAssistantManagementObservability.knowledgeBaseEditManualEntryFlyout.euiFormRow.contentsLabel",{defaultMessage:"Contents"})},Object(k.jsx)(K.EuiMarkdownEditor,{"aria-label":z.i18n.translate("aiAssistantManagementObservability.knowledgeBaseNewManualEntryFlyout.euiMarkdownEditor.observabilityAiAssistantKnowledgeBaseViewMarkdownEditorLabel",{defaultMessage:"observabilityAiAssistantKnowledgeBaseViewMarkdownEditor"}),height:300,initialViewMode:"editing",readOnly:!1,placeholder:z.i18n.translate("aiAssistantManagementObservability.knowledgeBaseEditManualEntryFlyout.euiMarkdownEditor.enterContentsLabel",{defaultMessage:"Enter contents"}),value:p,onChange:e=>g(e)}))),Object(k.jsx)(K.EuiFlyoutFooter,null,Object(k.jsx)(K.EuiFlexGroup,{justifyContent:"spaceBetween"},Object(k.jsx)(K.EuiFlexItem,{grow:!1},Object(k.jsx)(K.EuiButtonEmpty,{"data-test-subj":"knowledgeBaseEditManualEntryFlyoutCancelButton",disabled:u,onClick:t},z.i18n.translate("aiAssistantManagementObservability.knowledgeBaseNewManualEntryFlyout.cancelButtonEmptyLabel",{defaultMessage:"Cancel"}))),Object(k.jsx)(K.EuiFlexItem,{grow:!1},Object(k.jsx)(K.EuiButton,{"data-test-subj":"knowledgeBaseEditManualEntryFlyoutSaveButton",fill:!0,isLoading:u,onClick:async()=>{s({entry:{id:f,text:p}}).then(t)}},z.i18n.translate("aiAssistantManagementObservability.knowledgeBaseNewManualEntryFlyout.saveButtonLabel",{defaultMessage:"Save"}))))))}const te={lens:{description:Object(k.jsx)(i.a.Fragment,null,Object(k.jsx)(K.EuiText,{size:"m"},z.i18n.translate("aiAssistantManagementObservability.knowledgeBaseCategoryFlyout.categoryMap.lensCategoryDescriptionLabel",{defaultMessage:"Lens is a Kibana feature which allows the Assistant to visualize data in response to user queries. These Knowledge base items are loaded into the Knowledge base by default."})))}};function ne({category:e,onClose:t}){var n,r;const{uiSettings:i}=J(),a=i.get("dateFormat"),{mutate:o}=X(),s=[{field:"@timestamp",name:z.i18n.translate("aiAssistantManagementObservability.knowledgeBaseCategoryFlyout.actions.dateCreated",{defaultMessage:"Date created"}),sortable:!0,render:e=>Object(k.jsx)(K.EuiBadge,{color:"hollow"},h()(e).format(a))},{field:"id",name:z.i18n.translate("aiAssistantManagementObservability.knowledgeBaseCategoryFlyout.actions.name",{defaultMessage:"Name"}),sortable:!0,width:"340px"},{name:"Actions",actions:[{name:z.i18n.translate("aiAssistantManagementObservability.knowledgeBaseCategoryFlyout.actions.delete",{defaultMessage:"Delete"}),description:z.i18n.translate("aiAssistantManagementObservability.knowledgeBaseCategoryFlyout.actions.deleteDescription",{defaultMessage:"Delete this entry"}),type:"icon",icon:"trash",onClick:({id:e})=>{o({id:e})}}]}],c=null===(n=te[e.categoryName])||void 0===n?void 0:n.description;return Object(k.jsx)(K.EuiFlyout,{onClose:t,"data-test-subj":"knowledgeBaseCategoryFlyout"},Object(k.jsx)(K.EuiFlyoutHeader,{hasBorder:!0},Object(k.jsx)(K.EuiTitle,null,Object(k.jsx)("h2",null,Object(u.capitalize)(e.categoryName)))),Object(k.jsx)(K.EuiFlyoutBody,null,c||Object(k.jsx)(K.EuiBasicTable,{columns:s,items:null!==(r=e.entries)&&void 0!==r?r:[]})))}function re({onClose:e}){const{notifications:{toasts:t}}=J(),{mutateAsync:n,isLoading:i}=function(){const{observabilityAIAssistant:e,notifications:{toasts:t}}=J(),n=Object(D.useQueryClient)(),r=e.service.callApi;return Object(D.useMutation)([Y.IMPORT_KB_ENTRIES],(({entries:e})=>r?null==r?void 0:r("POST /internal/observability_ai_assistant/kb/entries/import",{signal:null,params:{body:{entries:e}}}):Promise.reject("Error with observabilityAIAssistantApi: API not found.")),{onSuccess:(e,{entries:r})=>{t.addSuccess(z.i18n.translate("aiAssistantManagementObservability.kb.importEntries.successNotification",{defaultMessage:"Successfully imported {number} items",values:{number:r.length}})),n.invalidateQueries({queryKey:[Y.GET_KB_ENTRIES],refetchType:"all"})},onError:e=>{var n,r;t.addError(new Error(null!==(n=null===(r=e.body)||void 0===r?void 0:r.message)&&void 0!==n?n:e.message),{title:z.i18n.translate("aiAssistantManagementObservability.kb.importEntries.errorNotification",{defaultMessage:"Something went wrong while importing items"})})}})}(),a=Object(K.useGeneratedHtmlId)({prefix:"filePicker"}),[o,s]=Object(r.useState)([]);return Object(k.jsx)(K.EuiFlyout,{onClose:e,"data-test-subj":"knowledgeBaseBulkImportFlyout"},Object(k.jsx)(K.EuiFlyoutHeader,{hasBorder:!0},Object(k.jsx)(K.EuiTitle,null,Object(k.jsx)("h2",null,z.i18n.translate("aiAssistantManagementObservability.knowledgeBaseBulkImportFlyout.h2.bulkImportLabel",{defaultMessage:"Import files"})))),Object(k.jsx)(K.EuiFlyoutBody,null,Object(k.jsx)(K.EuiFlexGroup,{alignItems:"center"},Object(k.jsx)(K.EuiFlexItem,{grow:!1},Object(k.jsx)(K.EuiIcon,{type:"addDataApp",size:"xl"})),Object(k.jsx)(K.EuiFlexItem,null,Object(k.jsx)(K.EuiTitle,{size:"xs"},Object(k.jsx)("h3",null,z.i18n.translate("aiAssistantManagementObservability.knowledgeBaseBulkImportFlyout.addFilesToEnrichTitleLabel",{defaultMessage:"Add files to enrich your Knowledge base"}))))),Object(k.jsx)(K.EuiSpacer,{size:"l"}),Object(k.jsx)(K.EuiText,{size:"s"},Object(k.jsx)(q.FormattedMessage,{id:"aiAssistantManagementObservability.knowledgeBaseBulkImportFlyout.uploadAJSONFileTextLabel",defaultMessage:"Upload a newline delimited JSON ({ext}) file containing a list of entries to add to your Knowledge base.",values:{ext:Object(k.jsx)(K.EuiCode,{language:"html"},".ndjson")}})),Object(k.jsx)(K.EuiSpacer,{size:"m"}),Object(k.jsx)(K.EuiText,{size:"s"},z.i18n.translate("aiAssistantManagementObservability.knowledgeBaseBulkImportFlyout.theObjectsShouldBeTextLabel",{defaultMessage:"The objects should be of the following format:"})),Object(k.jsx)(K.EuiSpacer,{size:"m"}),Object(k.jsx)(K.EuiCodeBlock,{isCopyable:!0,paddingSize:"s"},'{\n  "id": "a_unique_human_readable_id",\n  "text": "Contents of item",\n}\n'),Object(k.jsx)(K.EuiHorizontalRule,null),Object(k.jsx)(K.EuiFilePicker,{"aria-label":z.i18n.translate("aiAssistantManagementObservability.knowledgeBaseBulkImportFlyout.euiFilePicker.uploadJSONLabel",{defaultMessage:"Upload JSON"}),display:"large",fullWidth:!0,id:a,initialPromptText:z.i18n.translate("aiAssistantManagementObservability.knowledgeBaseBulkImportFlyout.euiFilePicker.selectOrDragAndLabel",{defaultMessage:"Select or drag and drop a .ndjson file"}),onChange:e=>{s(e&&e.length>0?Array.from(e):[])}})),Object(k.jsx)(K.EuiFlyoutFooter,null,Object(k.jsx)(K.EuiFlexGroup,{justifyContent:"spaceBetween"},Object(k.jsx)(K.EuiFlexItem,{grow:!1},Object(k.jsx)(K.EuiButtonEmpty,{"data-test-subj":"knowledgeBaseBulkImportFlyoutCancelButton",disabled:i,onClick:e},z.i18n.translate("aiAssistantManagementObservability.knowledgeBaseBulkImportFlyout.cancelButtonEmptyLabel",{defaultMessage:"Cancel"}))),Object(k.jsx)(K.EuiFlexItem,{grow:!1},Object(k.jsx)(K.EuiButton,{"data-test-subj":"knowledgeBaseBulkImportFlyoutSaveButton",fill:!0,isLoading:i,onClick:async()=>{let r=[];const i=(await o[0].text()).split("\n").filter(Boolean);try{r=i.map((e=>JSON.parse(e)))}catch(e){t.addError(new Error(z.i18n.translate("aiAssistantManagementObservability.knowledgeBaseBulkImportFlyout.errorParsingEntries.description",{defaultMessage:"Error parsing JSON entries"})),{title:z.i18n.translate("aiAssistantManagementObservability.knowledgeBaseBulkImportFlyout.errorParsingEntries.title",{defaultMessage:"Something went wrong"})})}n({entries:r}).then(e)}},z.i18n.translate("aiAssistantManagementObservability.knowledgeBaseBulkImportFlyout.saveButtonLabel",{defaultMessage:"Save"}))))))}function ie(){const{uiSettings:e}=J(),t=e.get("dateFormat"),n=[{align:"right",width:"40px",isExpander:!0,name:Object(k.jsx)(K.EuiScreenReaderOnly,null,Object(k.jsx)("span",null,z.i18n.translate("aiAssistantManagementObservability.span.expandRowLabel",{defaultMessage:"Expand row"}))),render:e=>Object(k.jsx)(K.EuiButtonIcon,{"data-test-subj":"pluginsColumnsButton",onClick:()=>o(e),"aria-label":e.categoryName===(null==a?void 0:a.categoryName)?"Collapse":"Expand",iconType:e.categoryName===(null==a?void 0:a.categoryName)?"minimize":"expand"})},{field:"",name:"",render:e=>1===e.entries.length&&"user_entry"===e.entries[0].role?Object(k.jsx)(K.EuiIcon,{type:"documentation",color:"primary"}):1===e.entries.length&&"assistant_summarization"===e.entries[0].role?Object(k.jsx)(K.EuiIcon,{type:"sparkles",color:"primary"}):Object(k.jsx)(K.EuiIcon,{type:"logoElastic"}),width:"40px"},{field:"categoryName",name:z.i18n.translate("aiAssistantManagementObservability.kbTab.columns.name",{defaultMessage:"Name"}),sortable:!0},{name:z.i18n.translate("aiAssistantManagementObservability.kbTab.columns.numberOfEntries",{defaultMessage:"Number of entries"}),width:"140px",render:e=>e.entries.length>1&&"elastic"===e.entries[0].role?Object(k.jsx)(K.EuiBadge,null,e.entries.length):null},{field:"@timestamp",name:z.i18n.translate("aiAssistantManagementObservability.kbTab.columns.dateCreated",{defaultMessage:"Date created"}),width:"140px",sortable:!0,render:e=>Object(k.jsx)(K.EuiBadge,{color:"hollow"},h()(e).format(t))},{name:z.i18n.translate("aiAssistantManagementObservability.kbTab.columns.type",{defaultMessage:"Type"}),width:"140px",render:e=>1===e.entries.length&&"user_entry"===e.entries[0].role?Object(k.jsx)(K.EuiBadge,{color:"hollow"},z.i18n.translate("aiAssistantManagementObservability.kbTab.columns.manualBadgeLabel",{defaultMessage:"Manual"})):1===e.entries.length&&"assistant_summarization"===e.entries[0].role?Object(k.jsx)(K.EuiBadge,{color:"hollow"},z.i18n.translate("aiAssistantManagementObservability.kbTab.columns.assistantSummarization",{defaultMessage:"Assistant"})):Object(k.jsx)(K.EuiBadge,null,z.i18n.translate("aiAssistantManagementObservability.columns.systemBadgeLabel",{defaultMessage:"System"}))}],[a,o]=Object(r.useState)(),[s,u]=Object(r.useState)(),[c,l]=Object(r.useState)(!1),[f,d]=Object(r.useState)(""),[p,g]=Object(r.useState)("doc_id"),[y,b]=Object(r.useState)("asc"),{entries:m=[],isLoading:v,refetch:j}=function({query:e,sortBy:t,sortDirection:n}){const{observabilityAIAssistant:r}=J(),i=r.service.callApi,{isLoading:a,isError:o,isSuccess:s,isRefetching:u,data:c,refetch:l}=Object(D.useQuery)({queryKey:[Y.GET_KB_ENTRIES,e,t,n],queryFn:async({signal:r})=>i&&r?i("GET /internal/observability_ai_assistant/kb/entries",{signal:r,params:{query:{query:e,sortBy:t,sortDirection:n}}}):Promise.reject("Error with observabilityAIAssistantApi: API not found."),keepPreviousData:!0,refetchOnWindowFocus:!1});return{entries:null==c?void 0:c.entries,refetch:l,isLoading:a,isRefetching:u,isSuccess:s,isError:o}}({query:f,sortBy:p,sortDirection:y}),O=function({entries:e}){return e.reduce(((e,t)=>{var n;const r=null!==(n=t.labels.category)&&void 0!==n?n:t.id,i=e.findIndex((e=>e.categoryName===r));return i>-1?(e[i].entries.push(t),e):e.concat({categoryName:r,entries:[t],"@timestamp":t["@timestamp"]})}),[])}({entries:m});return Object(k.jsx)(i.a.Fragment,null,Object(k.jsx)(K.EuiFlexGroup,{direction:"column"},Object(k.jsx)(K.EuiFlexItem,{grow:!1},Object(k.jsx)(K.EuiFlexGroup,{gutterSize:"s"},Object(k.jsx)(K.EuiFlexItem,{grow:!0},Object(k.jsx)(K.EuiFieldSearch,{"data-test-subj":"knowledgeBaseTabFieldSearch",fullWidth:!0,placeholder:z.i18n.translate("aiAssistantManagementObservability.knowledgeBaseTab.euiFieldSearch.searchThisLabel",{defaultMessage:"Search for an entry"}),value:f,onChange:e=>{d((null==e?void 0:e.currentTarget.value)||"")},isClearable:!0,"aria-label":z.i18n.translate("aiAssistantManagementObservability.knowledgeBaseTab.euiFieldSearch.searchEntriesLabel",{defaultMessage:"Search entries"})})),Object(k.jsx)(K.EuiFlexItem,{grow:!1},Object(k.jsx)(K.EuiButton,{"data-test-subj":"knowledgeBaseTabReloadButton",color:"success",iconType:"refresh",onClick:()=>j()},z.i18n.translate("aiAssistantManagementObservability.knowledgeBaseTab.reloadButtonLabel",{defaultMessage:"Reload"}))),Object(k.jsx)(K.EuiFlexItem,{grow:!1},Object(k.jsx)(K.EuiPopover,{isOpen:c,closePopover:()=>l(!1),button:Object(k.jsx)(K.EuiButton,{fill:!0,"data-test-subj":"knowledgeBaseNewEntryButton",iconSide:"right",iconType:"arrowDown",onClick:()=>{l(!0)}},z.i18n.translate("aiAssistantManagementObservability.knowledgeBaseTab.newEntryButtonLabel",{defaultMessage:"New entry"}))},Object(k.jsx)(K.EuiContextMenuPanel,{size:"s",items:[Object(k.jsx)(K.EuiContextMenuItem,{key:"singleEntry",icon:"document","data-test-subj":"knowledgeBaseSingleEntryContextMenuItem",onClick:()=>{l(!1),u("singleEntry")},size:"s"},z.i18n.translate("aiAssistantManagementObservability.knowledgeBaseTab.singleEntryContextMenuItemLabel",{defaultMessage:"Single entry"})),Object(k.jsx)(K.EuiContextMenuItem,{key:"bulkImport",icon:"documents","data-test-subj":"knowledgeBaseBulkImportContextMenuItem",onClick:()=>{l(!1),u("bulkImport")}},z.i18n.translate("aiAssistantManagementObservability.knowledgeBaseTab.bulkImportContextMenuItemLabel",{defaultMessage:"Bulk import"}))]}))))),Object(k.jsx)(K.EuiFlexItem,{grow:!1},Object(k.jsx)(K.EuiBasicTable,{"data-test-subj":"knowledgeBaseTable",columns:n,items:O,loading:v,sorting:{sort:{field:"doc_id"===p?"categoryName":p,direction:y}},rowProps:e=>({onClick:()=>o(e)}),onChange:({sort:e})=>{if(e){const{field:t,direction:n}=e;"@timestamp"===t&&g(t),"categoryName"===t&&g("doc_id"),b(n)}}}))),"singleEntry"===s?Object(k.jsx)(ee,{onClose:()=>u(void 0)}):null,"bulkImport"===s?Object(k.jsx)(re,{onClose:()=>u(void 0)}):null,a?1!==a.entries.length||"user_entry"!==a.entries[0].role&&"assistant_summarization"!==a.entries[0].role?Object(k.jsx)(ne,{category:a,onClose:()=>o(void 0)}):Object(k.jsx)(ee,{entry:a.entries[0],onClose:()=>o(void 0)}):null)}const ae=s.union([s.literal("settings"),s.literal("knowledge_base"),s[void 0]]),oe=function(e){const t=new Map,n=new Map,r=Object.entries(e).map((([e,t])=>i({...t,path:e})));function i(e){var r,a,o;const s={component:()=>e.element,routes:null!==(r=null===(a=Object.entries(null!==(o=e.children)&&void 0!==o?o:{}))||void 0===a?void 0:a.map((([e,t])=>i({...t,path:e}))))&&void 0!==r?r:[],exact:!e.children||0===Object.values(e.children).length,path:A(e.path)};return t.set(s,e),n.set(e,s),s}function a(e){const n=Object(M.matchRoutes)(r,A(e));if(!n.length)throw new Error(`No matching route found for ${e}`);return n.map((e=>t.get(e.route)))}const o=(...e)=>{let n=!1;"boolean"==typeof e[e.length-1]&&(n=e[e.length-1],e.pop());const i=e[e.length-1];e.pop();let a=e;0===a.length&&(a=[i.pathname||"/"]);let o=[],s=-1;const l=a.map((t=>{const n=t.endsWith("/*")||0===e.length?1:0;return{length:t.length,greedy:n,path:t}})),f=Object(u.orderBy)(l,["greedy","length"],["desc","desc"]);for(const{path:e,greedy:t}of f){if(o=Object(M.matchRoutes)(r,A(i.pathname)),s=t?o.length-1:Object(u.findLastIndex)(o,(t=>t.route.path===A(e))),-1!==s)break;s=-1}if(-1===s){if(n)return[];let e;throw e=1===a.length?`${a[0]} does not match current path ${i.pathname}`:`None of ${a.join(", ")} match current path ${i.pathname}`,new Error(e)}if(!o.some((e=>e.match.isExact)))throw new NotFoundRouteException("No route was matched");return o.slice(0,s+1).map((e=>{const n=t.get(e.route);if(null!=n&&n.params){var r;const t=p(n.params).decode(Object(u.merge)({},null!==(r=n.defaults)&&void 0!==r?r:{},{path:e.match.params,query:T.a.parse(i.search,{decode:!0})}));if(Object(c.isLeft)(t))throw new Error(E.PathReporter.report(t).join("\n"));return{match:{...e.match,params:t.right},route:n}}return{match:{...e.match,params:{path:{},query:{}}},route:n}}))};return{link:(e,...t)=>((e,...t)=>{const n=t[0],r=Object(u.merge)({path:{},query:{}},n),i=a(e=e.split("/").map((e=>{const t=e.match(/(?:{([a-zA-Z]+)})/);return t?r.path[t[1]]:e})).join("/")),o=l(...Object(u.compact)(i.map((e=>e.params)))),s=Object(u.merge)({},...i.map((e=>{var t;return null!==(t=e.defaults)&&void 0!==t?t:{}})),r),f=o.decode(s);if(Object(c.isLeft)(f))throw new Error(E.PathReporter.report(f).join("\n"));return T.a.stringifyUrl({url:e,query:s.query},{encode:!0})})(e,...t),getParams:(...e)=>{const t=o(...e);return t.length?Object(u.merge)({path:{},query:{}},...t.map((e=>{var t,n;return Object(u.merge)({},null!==(t=null===(n=e.route)||void 0===n?void 0:n.defaults)&&void 0!==t?t:{},e.match.params)}))):void 0},matchRoutes:(...e)=>o(...e),getRoutePath:e=>e.path,getRoutesToMatch:e=>a(e)}}({"/":{element:Object(k.jsx)((function(){var e,t;const{application:{navigateToApp:n},serverless:a,setBreadcrumbs:o}=J(),s=function(){const e=Object(R.useHistory)(),{http:t}=J(),n=(...e)=>oe.link(...e);return Object(r.useMemo)((()=>({...oe,push:(...t)=>{const r=n(...t);e.push(r)},replace:(t,...r)=>{const i=n(t,...r);e.replace(i)},link:(e,...r)=>t.basePath.prepend("/app/management/aiAssistantManagementObservability"+n(e,...r))})),[t,e])}(),{query:{tab:u}}=function(...e){const t=L(),n=Object(R.useLocation)();let r=!1;const i=e[e.length-1];"boolean"==typeof i&&(r=i,e.pop());const a=[...e,n,r];return t.getParams(...a)}("/");Object(r.useEffect)((()=>{a?a.setBreadcrumbs([{text:z.i18n.translate("aiAssistantManagementObservability.breadcrumb.serverless.observability",{defaultMessage:"AI Assistant for Observability Settings"})}]):o([{text:z.i18n.translate("aiAssistantManagementObservability.breadcrumb.index",{defaultMessage:"AI Assistants"}),onClick:e=>{e.preventDefault(),n("management",{path:"/kibana/aiAssistantManagementSelection"})}},{text:z.i18n.translate("aiAssistantManagementObservability.breadcrumb.observability",{defaultMessage:"Observability"})}])}),[n,a,o]);const c=[{id:"settings",name:z.i18n.translate("aiAssistantManagementObservability.settingsPage.settingsLabel",{defaultMessage:"Settings"}),content:Object(k.jsx)(Z,null)},{id:"knowledge_base",name:z.i18n.translate("aiAssistantManagementObservability.settingsPage.knowledgeBaseLabel",{defaultMessage:"Knowledge base"}),content:Object(k.jsx)(ie,null)}],[l,f]=Object(r.useState)(u?null===(e=c.find((e=>e.id===u)))||void 0===e?void 0:e.id:c[0].id),d=null===(t=c.find((e=>e.id===l)))||void 0===t?void 0:t.content;return Object(k.jsx)(i.a.Fragment,null,Object(k.jsx)(K.EuiTitle,{size:"l"},Object(k.jsx)("h2",null,z.i18n.translate("aiAssistantManagementObservability.settingsPage.h2.settingsLabel",{defaultMessage:"Settings"}))),Object(k.jsx)(K.EuiSpacer,{size:"m"}),Object(k.jsx)(K.EuiTabs,{"data-test-subj":"settingsPageTabs"},c.map(((e,t)=>Object(k.jsx)(K.EuiTab,{key:t,"data-test-subj":`settingsPageTab-${e.id}`,onClick:()=>{return t=e.id,f(t),void s.push("/",{path:"/",query:{tab:t}});var t},isSelected:e.id===l},e.name)))),Object(k.jsx)(K.EuiSpacer,{size:"l"}),d,Object(k.jsx)(K.EuiSpacer,{size:"l"}))}),null),params:s.type({query:s.partial({tab:ae})})}});function se({coreStart:e,children:t}){var n,r;const{application:{capabilities:a,navigateToApp:o}}=e;return null!==(n=(null==a?void 0:a.management)&&(null==a||null===(r=a.observabilityAIAssistant)||void 0===r?void 0:r.show))&&void 0!==n&&n?Object(k.jsx)(i.a.Fragment,null,t):(o("home"),null)}const ue=async({core:e,mountParams:t})=>{const[n,r]=await e.getStartServices();if(!r.observabilityAIAssistant)return()=>{};const{element:i,history:a,setBreadcrumbs:s}=t,{theme$:u}=e.theme;n.chrome.docTitle.change(z.i18n.translate("aiAssistantManagementObservability.app.titleBar",{defaultMessage:"AI Assistant for Observability Settings"}));const c=new D.QueryClient;return o.a.render(Object(G.wrapWithTheme)(Object(k.jsx)(se,{coreStart:n},Object(k.jsx)(q.I18nProvider,null,Object(k.jsx)($,{value:{application:n.application,http:n.http,notifications:n.notifications,observabilityAIAssistant:r.observabilityAIAssistant,uiSettings:n.uiSettings,serverless:r.serverless,setBreadcrumbs:s}},Object(k.jsx)(D.QueryClientProvider,{client:c},Object(k.jsx)(W,{history:a,router:oe},Object(k.jsx)(N,null)))))),u),i),()=>{n.chrome.docTitle.reset(),o.a.unmountComponentAtNode(i)}}}])]);