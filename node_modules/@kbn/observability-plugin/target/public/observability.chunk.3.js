/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.observability_bundle_jsonpfunction=window.observability_bundle_jsonpfunction||[]).push([[3],{103:function(e,a,t){"use strict";t.d(a,"a",(function(){return i}));var n=t(1),r=t(125);function i(){return Object(n.useContext)(r.a)}},112:function(e,a,t){"use strict";t.d(a,"a",(function(){return b}));var n=t(4),r=t(168),i=t(138),s=t(105),o=t(175),l=t(16),c=t(193);const d=Object(c.a)(r.c),u=(e,a=!1)=>{const t=a?(e=>{const a=Object(l.pick)(r.c,Object.keys(e));return Object(c.a)(a).decode(e)})(e):d.decode(e);if(Object(s.isLeft)(t))throw new Error(o.PathReporter.report(t).join("\n"));return d.encode(t.right)};var f=t(10);const b=e=>a=>{var t,s,o,l,c;const d=Object.keys(r.c).reduce(((e,t)=>a[t]?{...e,[t]:a[t]}:e),{}),b={...Object(i.a)(a,!0),...u(d,!0)},g=e.getFormatter(b[n.O]);return{...{link:void 0,reason:null!==(t=null!==(s=b[n.q])&&void 0!==s?s:b[n.D])&&void 0!==t?t:"",...null!==(o=null==g?void 0:g({fields:b,formatters:{asDuration:f.b,asPercent:f.f}}))&&void 0!==o?o:{}},fields:b,active:b[n.V]===n.W,start:new Date(null!==(l=b[n.U])&&void 0!==l?l:0).getTime(),lastUpdated:new Date(null!==(c=b[n.wb])&&void 0!==c?c:0).getTime()}}},125:function(e,a,t){"use strict";t.d(a,"a",(function(){return r}));var n=t(1);const r=Object(n.createContext)({})},131:function(e,a,t){"use strict";t.d(a,"a",(function(){return i}));var n=t(4);const r=["apm.transaction_duration","logs.alert.document.count"],i=(e,a)=>{if(!e)return!1;const t=e.fields[n.O];if(r.includes(t))return!0;if(!a)return!1;const i="xpack.uptime.alerts.monitorStatus"===t||"xpack.uptime.alerts.tlsCertificate"===t?"uptime":t.split(".")[0];var s,o;return!!["uptime","metrics","observability"].includes(i)&&(null===(s=a.unsafe)||void 0===s||null===(o=s.alertDetails[i])||void 0===o?void 0:o.enabled)}},137:function(e,a,t){"use strict";t.d(a,"a",(function(){return g})),t.d(a,"b",(function(){return C}));var n=t(65),r=t.n(n),i=t(1),s=t(0),o=t(12),l=t(4),c=t(77);const d=s.i18n.translate("alertsUIShared.components.alertLifecycleStatusBadge.activeLabel",{defaultMessage:"Active"}),u=s.i18n.translate("alertsUIShared.components.alertLifecycleStatusBadge.recoveredLabel",{defaultMessage:"Recovered"}),f=s.i18n.translate("alertsUIShared.components.alertLifecycleStatusBadge.flappingLabel",{defaultMessage:"Flapping"}),b=s.i18n.translate("alertsUIShared.components.alertLifecycleStatusBadge.untrackedLabel",{defaultMessage:"Untracked"}),g=Object(i.memo)((e=>{const{alertStatus:a,flapping:t}=e,n=(e=>"string"==typeof e?"true"===e:e)(t),{label:i,color:s,iconProps:g,isDisabled:p}=((e,a)=>e===l.Y?{label:b,color:"default",isDisabled:!0}:e===l.X?{label:u,color:"success"}:a?{label:f,color:"danger",iconProps:{iconType:"visGauge"}}:{label:d,color:"danger"})(a,n);return Object(c.jsx)(o.EuiBadge,r()({"data-test-subj":"alertLifecycleStatusBadge",isDisabled:p,color:s},g),i)}));var p=t(194);let m;!function(e){e.Running="running",e.Upcoming="upcoming",e.Finished="finished",e.Archived="archived"}(m||(m={}));var h=t(78);const v=({http:e,notifications:{toasts:a}},{enabled:t})=>Object(h.useQuery)(["GET",w],(({signal:a})=>(async(e,a)=>(await e.fetch("/internal/alerting/rules/maintenance_window/_active",{method:"GET",signal:a})).map((e=>(({expiration_date:e,r_rule:a,created_by:t,updated_by:n,created_at:r,updated_at:i,event_start_time:s,event_end_time:o,category_ids:l,...c})=>({...c,expirationDate:e,rRule:a,createdBy:t,updatedBy:n,createdAt:r,updatedAt:i,eventStartTime:s,eventEndTime:o,categoryIds:l}))(e))))(e,a)),{enabled:t,refetchInterval:6e4,onError:e=>{a.addError(e,{title:y,toastMessage:S})}}),w="/internal/alerting/rules/maintenance_window/_active",y=s.i18n.translate("alertsUIShared.maintenanceWindowCallout.fetchError",{defaultMessage:"Failed to check if maintenance windows are active"}),S=s.i18n.translate("alertsUIShared.maintenanceWindowCallout.fetchErrorDescription",{defaultMessage:"Rule notifications are stopped while maintenance windows are running."}),M="maintenanceWindow",x=s.i18n.translate("alertsUIShared.maintenanceWindowCallout.maintenanceWindowActiveDescription",{defaultMessage:"Rule notifications are stopped while maintenance windows are running."}),k=s.i18n.translate("alertsUIShared.maintenanceWindowCallout.maintenanceWindowActiveNoCategories",{defaultMessage:"One or more maintenance windows are running"}),I=e=>s.i18n.translate("alertsUIShared.maintenanceWindowCallout.maintenanceWindowTwoCategoryNames",{defaultMessage:"{first} and {second}",values:{first:e[0],second:e[1]}}),j=e=>s.i18n.translate("alertsUIShared.maintenanceWindowCallout.maintenanceWindowMultipleCategoryNames",{defaultMessage:"{commaSeparatedList}, and {last}",values:{commaSeparatedList:e.slice(0,-1).join(", "),last:e.slice(-1).join("")}}),V={...p.a,management:{...p.a.management,label:s.i18n.translate("alertsUIShared.maintenanceWindowCallout.managementCategoryLabel",{defaultMessage:"Stack"})}};function C({kibanaServices:e,categories:a}){const{application:{capabilities:t}}=e,n=!t[M].show&&!t[M].save,{data:r=[]}=v(e,{enabled:!n}),l=Object(i.useMemo)((()=>!!r&&0!==r.length&&(!Array.isArray(a)||r.some((({status:e,categoryIds:t})=>e===m.Running&&(!Array.isArray(t)||t.some((e=>a.includes(e)))))))),[a,r]),d=Object(i.useMemo)((()=>{const e=Array.from(new Set(r.map((({categoryIds:e})=>null==e?void 0:e.filter((e=>!a||a.includes(e))))).flat())).map((e=>{var a,t;return null!==(a=null===(t=Object.values(V).find((a=>a.id===e)))||void 0===t?void 0:t.label)&&void 0!==a?a:e})).filter(Boolean);return 0===e.length?null:1===e.length?`${e}`:2===e.length?I(e):j(e)}),[r,a]);return n?null:l?Object(c.jsx)(o.EuiCallOut,{title:d?s.i18n.translate("alertsUIShared.maintenanceWindowCallout.maintenanceWindowActive",{defaultMessage:"{activeWindowCount, plural, one {A maintenance window is} other {Maintenance windows are}} running for {categories} rules",values:{categories:d,activeWindowCount:r.length}}):k,color:"warning",iconType:"iInCircle","data-test-subj":"maintenanceWindowCallout"},x):null}t(195);s.i18n.translate("alertsUIShared.components.addMessageVariables.loadingMessage",{defaultMessage:"Loading variables"}),s.i18n.translate("alertsUIShared.components.addMessageVariables.noVariablesFound",{defaultMessage:"No variables found"}),s.i18n.translate("alertsUIShared.components.addMessageVariables.noVariablesAvailable",{defaultMessage:"No variables available"}),s.i18n.translate("alertsUIShared.components.addMessageVariables.deprecatedVariablesAreShown",{defaultMessage:"Deprecated variables are shown"}),s.i18n.translate("alertsUIShared.components.addMessageVariables.deprecatedVariablesAreHidden",{defaultMessage:"Deprecated variables are hidden"}),s.i18n.translate("alertsUIShared.components.addMessageVariables.hideDeprecatedVariables",{defaultMessage:"Hide"}),s.i18n.translate("alertsUIShared.components.addMessageVariables.showAllDeprecatedVariables",{defaultMessage:"Show all"}),s.i18n.translate("alertsUIShared.components.addMessageVariables.addVariablePopoverButton",{defaultMessage:"Add variable"}),s.i18n.translate("alertsUIShared.components.addMessageVariables.addRuleVariableTitle",{defaultMessage:"Add variable"}),s.i18n.translate("alertsUIShared.component.alertsSearchBar.placeholder",{defaultMessage:"Search alerts (e.g. kibana.alert.evaluation.threshold > 75)"})},140:function(e,a,t){"use strict";var n,r=function(){var e={};return function(a){if(void 0===e[a]){var t=document.querySelector(a);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}e[a]=t}return e[a]}}(),i=[];function s(e){for(var a=-1,t=0;t<i.length;t++)if(i[t].identifier===e){a=t;break}return a}function o(e,a){for(var t={},n=[],r=0;r<e.length;r++){var o=e[r],l=a.base?o[0]+a.base:o[0],c=t[l]||0,d="".concat(l," ").concat(c);t[l]=c+1;var u=s(d),f={css:o[1],media:o[2],sourceMap:o[3]};-1!==u?(i[u].references++,i[u].updater(f)):i.push({identifier:d,updater:p(f,a),references:1}),n.push(d)}return n}function l(e){var a=document.createElement("style"),n=e.attributes||{};if(void 0===n.nonce){var i=t.nc;i&&(n.nonce=i)}if(Object.keys(n).forEach((function(e){a.setAttribute(e,n[e])})),"function"==typeof e.insert)e.insert(a);else{var s=r(e.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(a)}return a}var c,d=(c=[],function(e,a){return c[e]=a,c.filter(Boolean).join("\n")});function u(e,a,t,n){var r=t?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(e.styleSheet)e.styleSheet.cssText=d(a,r);else{var i=document.createTextNode(r),s=e.childNodes;s[a]&&e.removeChild(s[a]),s.length?e.insertBefore(i,s[a]):e.appendChild(i)}}function f(e,a,t){var n=t.css,r=t.media,i=t.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var b=null,g=0;function p(e,a){var t,n,r;if(a.singleton){var i=g++;t=b||(b=l(a)),n=u.bind(null,t,i,!1),r=u.bind(null,t,i,!0)}else t=l(a),n=f.bind(null,t,a),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)};return n(e),function(a){if(a){if(a.css===e.css&&a.media===e.media&&a.sourceMap===e.sourceMap)return;n(e=a)}else r()}}e.exports=function(e,a){(a=a||{}).singleton||"boolean"==typeof a.singleton||(a.singleton=(void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n));var t=o(e=e||[],a);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var n=0;n<t.length;n++){var r=s(t[n]);i[r].references--}for(var l=o(e,a),c=0;c<t.length;c++){var d=s(t[c]);0===i[d].references&&(i[d].updater(),i.splice(d,1))}t=l}}}},141:function(e,a,t){"use strict";e.exports=function(e){var a=[];return a.toString=function(){return this.map((function(a){var t=function(e,a){var t,n,r,i=e[1]||"",s=e[3];if(!s)return i;if(a&&"function"==typeof btoa){var o=(t=s,n=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n),"/*# ".concat(r," */")),l=s.sources.map((function(e){return"/*# sourceURL=".concat(s.sourceRoot||"").concat(e," */")}));return[i].concat(l).concat([o]).join("\n")}return[i].join("\n")}(a,e);return a[2]?"@media ".concat(a[2]," {").concat(t,"}"):t})).join("")},a.i=function(e,t,n){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(n)for(var i=0;i<this.length;i++){var s=this[i][0];null!=s&&(r[s]=!0)}for(var o=0;o<e.length;o++){var l=[].concat(e[o]);n&&r[l[0]]||(t&&(l[2]?l[2]="".concat(t," and ").concat(l[2]):l[2]=t),a.push(l))}},a}},194:function(e,a,t){"use strict";t.d(a,"a",(function(){return r}));var n=t(0);const r=Object.freeze({kibana:{id:"kibana",label:n.i18n.translate("core.ui.kibanaNavList.label",{defaultMessage:"Analytics"}),euiIconType:"logoKibana",order:1e3},enterpriseSearch:{id:"enterpriseSearch",label:n.i18n.translate("core.ui.searchNavList.label",{defaultMessage:"Search"}),order:2e3,euiIconType:"logoEnterpriseSearch"},observability:{id:"observability",label:n.i18n.translate("core.ui.observabilityNavList.label",{defaultMessage:"Observability"}),euiIconType:"logoObservability",order:3e3},security:{id:"securitySolution",label:n.i18n.translate("core.ui.securityNavList.label",{defaultMessage:"Security"}),order:4e3,euiIconType:"logoSecurity"},management:{id:"management",label:n.i18n.translate("core.ui.managementNavList.label",{defaultMessage:"Management"}),order:5e3,euiIconType:"managementApp"}})},195:function(e,a,t){switch(window.__kbnThemeTag__){case"v8dark":return t(196);case"v8light":return t(198)}},196:function(e,a,t){var n=t(140),r=t(197);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);n(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},197:function(e,a,t){(a=t(141)(!1)).push([e.i,'.messageVariablesPanel{height:100%;-webkit-mask-image:linear-gradient(180deg,#ff00001a 0,red 7.5px,red calc(100% - 7.5px),#ff00001a);mask-image:linear-gradient(180deg,#ff00001a 0,red 7.5px,red calc(100% - 7.5px),#ff00001a);max-height:320px;max-width:320px;overflow-x:hidden;overflow-y:auto;scrollbar-color:#98a2b380 #0000;scrollbar-width:thin}.messageVariablesPanel::-webkit-scrollbar{height:16px;width:16px}.messageVariablesPanel::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#98a2b380;border:6px solid #0000;border-radius:16px}.messageVariablesPanel::-webkit-scrollbar-corner,.messageVariablesPanel::-webkit-scrollbar-track{background-color:#0000}.messageVariablesPanel:focus{outline:none}.messageVariablesPanel[tabindex="0"]:focus:focus-visible{outline-style:auto}',""]),e.exports=a},198:function(e,a,t){var n=t(140),r=t(199);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);n(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},199:function(e,a,t){(a=t(141)(!1)).push([e.i,'.messageVariablesPanel{height:100%;-webkit-mask-image:linear-gradient(180deg,#ff00001a 0,red 7.5px,red calc(100% - 7.5px),#ff00001a);mask-image:linear-gradient(180deg,#ff00001a 0,red 7.5px,red calc(100% - 7.5px),#ff00001a);max-height:320px;max-width:320px;overflow-x:hidden;overflow-y:auto;scrollbar-color:#69707d80 #0000;scrollbar-width:thin}.messageVariablesPanel::-webkit-scrollbar{height:16px;width:16px}.messageVariablesPanel::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#69707d80;border:6px solid #0000;border-radius:16px}.messageVariablesPanel::-webkit-scrollbar-corner,.messageVariablesPanel::-webkit-scrollbar-track{background-color:#0000}.messageVariablesPanel:focus{outline:none}.messageVariablesPanel[tabindex="0"]:focus:focus-visible{outline-style:auto}',""]),e.exports=a}}]);