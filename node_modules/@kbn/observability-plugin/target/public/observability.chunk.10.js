/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.observability_bundle_jsonpfunction=window.observability_bundle_jsonpfunction||[]).push([[10,16],{117:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var l=a(1),i=a.n(l),r=a(4),n=a(12);function s({alert:e}){return i.a.createElement(i.a.Fragment,null,i.a.createElement(n.EuiSpacer,{size:"s"}),i.a.createElement(n.EuiTitle,{size:"m","data-test-subj":"alertsFlyoutTitle"},i.a.createElement("h2",null,e.fields[r.D])))}},118:function(e,t,a){"use strict";a.d(t,"a",(function(){return v}));var l=a(1),i=a.n(l),r=a(16),n=a(12),s=a(4),u=a(0),o=a(137),c=a(33),d=a.n(c),b=a(13),p=a(42),f=a(10),m=a(7),y=a(53),E=a(32);function v({alert:e,id:t}){var a,l;const{http:{basePath:{prepend:c}}}=Object(p.a)().services,v=Object(b.useUiSetting)("dateFormat"),g=null!==(a=Object(r.get)(e.fields,s.R))&&void 0!==a?a:null,x=t!==E.d&&g&&c?c(m.r.observability.ruleDetails(g)):null,F=[{title:u.i18n.translate("xpack.observability.alertsFlyout.statusLabel",{defaultMessage:"Status"}),description:i.a.createElement(o.a,{alertStatus:e.fields[s.V],flapping:e.fields[s.i]})},{title:u.i18n.translate("xpack.observability.alertsFlyout.startedAtLabel",{defaultMessage:"Started at"}),description:i.a.createElement("span",{title:e.start.toString()},d()(e.start).format(v))},{title:u.i18n.translate("xpack.observability.alertsFlyout.lastUpdatedLabel",{defaultMessage:"Last updated"}),description:i.a.createElement("span",{title:e.lastUpdated.toString()},d()(e.lastUpdated).format(v))},{title:u.i18n.translate("xpack.observability.alertsFlyout.durationLabel",{defaultMessage:"Duration"}),description:Object(f.b)(e.fields[s.d],{extended:!0})},{title:u.i18n.translate("xpack.observability.alertsFlyout.expectedValueLabel",{defaultMessage:"Expected value"}),description:Object(y.a)(e.fields[s.O],e.fields[s.f])},{title:u.i18n.translate("xpack.observability.alertsFlyout.actualValueLabel",{defaultMessage:"Actual value"}),description:Object(y.a)(e.fields[s.O],e.fields[s.g])},{title:u.i18n.translate("xpack.observability.alertsFlyout.ruleTypeLabel",{defaultMessage:"Rule type"}),description:null!==(l=e.fields[s.t])&&void 0!==l?l:"-"}];return i.a.createElement(n.EuiFlyoutBody,null,i.a.createElement(n.EuiTitle,{size:"xs"},i.a.createElement("h4",null,u.i18n.translate("xpack.observability.alertsFlyout.reasonTitle",{defaultMessage:"Reason"}))),i.a.createElement(n.EuiSpacer,{size:"s"}),i.a.createElement(n.EuiText,{size:"s"},e.reason),i.a.createElement(n.EuiSpacer,{size:"s"}),!!x&&i.a.createElement(n.EuiLink,{href:x,"data-test-subj":"viewRuleDetailsFlyout"},u.i18n.translate("xpack.observability.alertsFlyout.viewRulesDetailsLinkText",{defaultMessage:"View rule details"})),i.a.createElement(n.EuiHorizontalRule,{size:"full"}),i.a.createElement(n.EuiTitle,{size:"xs"},i.a.createElement("h4",null,u.i18n.translate("xpack.observability.alertsFlyout.documentSummaryTitle",{defaultMessage:"Document Summary"}))),i.a.createElement(n.EuiSpacer,{size:"m"}),i.a.createElement(n.EuiDescriptionList,{compressed:!0,type:"responsiveColumn",listItems:F,titleProps:{"data-test-subj":"alertsFlyoutDescriptionListTitle"},descriptionProps:{"data-test-subj":"alertsFlyoutDescriptionListDescription"}}))}},119:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var l=a(1),i=a.n(l),r=a(12),n=a(0),s=a(42),u=a(103),o=a(131),c=a(7);function d({alert:e,isInApp:t}){const{http:{basePath:{prepend:a}}}=Object(s.a)().services,{config:d}=Object(u.a)(),[b,p]=Object(l.useState)();return Object(l.useEffect)((()=>{var t;e.hasBasePath?p(e.link):p(a(null!==(t=e.link)&&void 0!==t?t:""))}),[e.hasBasePath,e.link,a]),i.a.createElement(r.EuiFlyoutFooter,null,i.a.createElement(r.EuiFlexGroup,{justifyContent:"flexEnd"},!e.link||t?null:i.a.createElement(r.EuiFlexItem,{grow:!1},i.a.createElement(r.EuiButton,{"data-test-subj":"alertsFlyoutViewInAppButton",fill:!0,href:b},n.i18n.translate("xpack.observability.alertsFlyout.viewInAppButtonText",{defaultMessage:"View in app"}))),Object(o.a)(e,d)?i.a.createElement(r.EuiFlexItem,{grow:!1},i.a.createElement(r.EuiButton,{"data-test-subj":"alertsFlyoutAlertDetailsButton",fill:!0,href:a&&a(c.r.observability.alertDetails(e.fields["kibana.alert.uuid"]))},n.i18n.translate("xpack.observability.alertsFlyout.alertsDetailsButtonText",{defaultMessage:"Alert details"}))):null))}},124:function(e,t,a){"use strict";a.r(t),a.d(t,"AlertsFlyout",(function(){return d}));var l=a(1),i=a.n(l),r=a(12),n=a(4),s=a(117),u=a(118),o=a(119),c=a(112);function d({alert:e,alerts:t,isInApp:a=!1,observabilityRuleTypeRegistry:d,onClose:b,selectedAlertId:p}){const f=Object(l.useMemo)((()=>{const e=Object(c.a)(d);return(null!=t?t:[]).map(e)}),[t,d]);let m=e;return m||(m=null==f?void 0:f.find((e=>e.fields[n.hb]===p))),m?i.a.createElement(r.EuiFlyout,{className:"oblt__flyout",onClose:b,size:"s","data-test-subj":"alertsFlyout"},i.a.createElement(r.EuiFlyoutHeader,{hasBorder:!0},i.a.createElement(s.a,{alert:m})),i.a.createElement(u.a,{alert:m}),i.a.createElement(o.a,{alert:m,isInApp:a})):null}t.default=d},130:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return r}));var l=a(4);const i="SLO_ALERTS_EMBEDDABLE",r=`${l.ob.SLO}-embeddable-alerts-table`},165:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var l=a(1),i=a.n(l),r=a(0),n=a(12),s=a(4),u=a(80);function o({alertStatus:e,textSize:t="xs"}){return e===s.W?i.a.createElement(n.EuiHealth,{color:u.LIGHT_THEME.colors.vizColors[2],textSize:t},r.i18n.translate("xpack.observability.alertsTGrid.statusActiveDescription",{defaultMessage:"Active"})):i.a.createElement(n.EuiHealth,{color:u.LIGHT_THEME.colors.vizColors[1],textSize:t},i.a.createElement(n.EuiText,{color:"subdued",size:"relative"},r.i18n.translate("xpack.observability.alertsTGrid.statusRecoveredDescription",{defaultMessage:"Recovered"})))}},166:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var l=a(1),i=a.n(l),r=a(12),n=a(54);function s({time:e,timeUnit:t="milliseconds"}){const a=Object(n.a)(e,t);return i.a.createElement(r.EuiToolTip,{content:a},i.a.createElement(i.a.Fragment,null,a))}},167:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var l=a(1),i=a.n(l),r=a(117),n=a(118),s=a(119),u=a(112);a(124);const o=e=>{const t=Object(l.useCallback)((t=>{const a=Object(u.a)(e)(t.alert);return i.a.createElement(n.a,{alert:a,id:t.id})}),[e]),a=Object(l.useCallback)((t=>{const a=Object(u.a)(e)(t.alert);return i.a.createElement(r.a,{alert:a})}),[e]),o=Object(l.useCallback)((t=>{const a=Object(u.a)(e)(t.alert);return i.a.createElement(s.a,{isInApp:!1,alert:a})}),[e]);return Object(l.useMemo)((()=>({body:t,header:a,footer:o})),[t,a,o])}},229:function(e,t,a){"use strict";a.r(t),a.d(t,"getSloAlertsTableConfiguration",(function(){return x}));var l=a(4),i=a(5),r=a(79),n=a.n(r),s=a(12),u=a(1),o=a.n(u),c=a(16),d=a(10),b=a(165),p=a(166),f=a(112);var m=n()(s.EuiLink).withConfig({displayName:"_StyledEuiLink",componentId:"sc-l3vag9-0"})({display:"contents"}),y=a(0);const E=[{columnHeaderType:"not-filtered",displayAsText:y.i18n.translate("xpack.observability.sloAlertsEmbeddable.alertsTGrid.statusColumnDescription",{defaultMessage:"Status"}),id:l.V,initialWidth:110},{columnHeaderType:"not-filtered",displayAsText:y.i18n.translate("xpack.observability.alertsTGrid.durationColumnDescription",{defaultMessage:"Duration"}),id:l.d,initialWidth:116},{columnHeaderType:"not-filtered",displayAsText:y.i18n.translate("xpack.observability.alertsTGrid.sloColumnDescription",{defaultMessage:"Rule name"}),id:l.D,initialWidth:110},{columnHeaderType:"not-filtered",displayAsText:y.i18n.translate("xpack.observability.alertsTGrid.reasonColumnDescription",{defaultMessage:"Reason"}),id:l.q,linkField:"*"}];var v=a(167),g=a(130);const x=(e,t)=>({id:g.b,cases:{featureId:i.casesFeatureId,owner:[i.observabilityFeatureId]},columns:E,getRenderCellValue:({setFlyoutAlert:t})=>(({setFlyoutAlert:e,observabilityRuleTypeRegistry:t})=>({columnId:a,data:i})=>{if(!i)return null;const r=(({data:e,fieldName:t})=>{const a=e.find((e=>e.field===t));if(null!=a&&null!=a.value)return a.value})({data:i,fieldName:a}),n=(e=>{const t=Array.isArray(e)?e.join():e;return Object(c.isEmpty)(t)?"â€”":"object"==typeof t?JSON.stringify(t):t})(r);switch(a){case l.V:return n!==l.W&&n!==l.X?null:o.a.createElement(b.a,{alertStatus:n});case l.wb:return o.a.createElement(p.a,{time:new Date(null!=n?n:"").getTime(),timeUnit:"milliseconds"});case l.d:return Object(d.b)(Number(n));case l.D:return n;case l.q:const a=i.reduce(((e,t)=>({...e,[t.field]:t.value})),{}),r=Object(f.a)(t)(a);return o.a.createElement(m,{"data-test-subj":"o11yGetRenderCellValueLink",onClick:()=>e&&e(r)},r.reason);default:return o.a.createElement(o.a.Fragment,null,n)}})({observabilityRuleTypeRegistry:e,setFlyoutAlert:t}),sort:[{[l.wb]:{order:"desc"}}],useInternalFlyout:()=>{const{header:t,body:a,footer:l}=Object(v.a)(e);return{header:t,body:a,footer:l}}})}}]);