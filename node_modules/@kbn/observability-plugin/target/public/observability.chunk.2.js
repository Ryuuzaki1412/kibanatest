/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.observability_bundle_jsonpfunction=window.observability_bundle_jsonpfunction||[]).push([[2],{102:function(t,n,e){"use strict";e.d(n,"a",(function(){return i.a})),e.d(n,"b",(function(){return p})),e.d(n,"d",(function(){return S})),e.d(n,"c",(function(){return D})),e.d(n,"g",(function(){return v})),e.d(n,"h",(function(){return I})),e.d(n,"f",(function(){return P})),e.d(n,"e",(function(){return $})),e.d(n,"i",(function(){return Q}));var r,i=e(109),a=e(105),u=e(20),o=e(83),s=e(6),c=e.n(s);!function(t){t.Minute="m",t.Hour="h",t.Day="d",t.Week="w",t.Month="M"}(r||(r={}));class duration_Duration{constructor(t,n){if(this.value=t,this.unit=n,isNaN(t)||t<=0)throw new Error("invalid duration value");if(!Object.values(r).includes(n))throw new Error("invalid duration unit")}add(t){const n=s.duration(this.value,l(this.unit)),e=s.duration(t.value,l(t.unit));return new duration_Duration(n.add(e).asMinutes(),r.Minute)}isShorterThan(t){const n=s.duration(t.value,l(t.unit));return s.duration(this.value,l(this.unit)).asSeconds()<n.asSeconds()}isLongerOrEqualThan(t){return!this.isShorterThan(t)}isEqual(t){return this.value===t.value&&this.unit===t.unit}format(){return`${this.value}${this.unit}`}asSeconds(){return s.duration(this.value,l(this.unit)).asSeconds()}}const l=t=>{switch(t){case r.Minute:return"minutes";case r.Hour:return"hours";case r.Day:return"days";case r.Week:return"weeks";case r.Month:return"months";default:Object(o.assertNever)(t)}},p=new u.Type("Duration",(t=>t instanceof duration_Duration),((t,n)=>a.either.chain(u.string.validate(t,n),(e=>{try{const t=new duration_Duration(parseInt(e.slice(0,-1),10),e.slice(-1));return u.success(t)}catch(e){return u.failure(t,n)}}))),(t=>t.format())),d=u.literal("sli.apm.transactionDuration"),f=u.type({type:d,params:u.intersection([u.type({environment:i.b,service:i.b,transactionType:i.b,transactionName:i.b,threshold:u.number,index:u.string}),u.partial({filter:u.string})])}),g=u.literal("sli.apm.transactionErrorRate"),y=u.type({type:g,params:u.intersection([u.type({environment:i.b,service:i.b,transactionType:i.b,transactionName:i.b,index:u.string}),u.partial({filter:u.string})])}),m=u.literal("sli.kql.custom"),b=u.type({type:m,params:u.intersection([u.type({index:u.string,good:u.string,total:u.string,timestampField:u.string}),u.partial({filter:u.string})])}),h=u.keyof({GT:">",GTE:">=",LT:"<",LTE:"<="}),v=u.intersection([u.type({name:u.string,aggregation:u.keyof({avg:!0,max:!0,min:!0,sum:!0,cardinality:!0,last_value:!0,std_deviation:!0}),field:u.string}),u.partial({filter:u.string})]),w=u.intersection([u.type({name:u.string,aggregation:u.literal("doc_count")}),u.partial({filter:u.string})]),I=u.intersection([u.type({name:u.string,aggregation:u.literal("percentile"),field:u.string,percentile:u.number}),u.partial({filter:u.string})]),x=u.union([v,w,I]),T=u.type({metrics:u.array(x),equation:u.string,threshold:u.number,comparator:h}),W=u.literal("sli.metric.timeslice"),M=u.type({type:W,params:u.intersection([u.type({index:u.string,metric:T,timestampField:u.string}),u.partial({filter:u.string})])}),S=u.intersection([u.type({name:u.string,aggregation:u.literal("doc_count")}),u.partial({filter:u.string})]),D=u.intersection([u.type({name:u.string,aggregation:u.literal("sum"),field:u.string}),u.partial({filter:u.string})]),_=u.type({metrics:u.array(u.union([D,S])),equation:u.string}),N=u.literal("sli.metric.custom"),O=u.type({type:N,params:u.intersection([u.type({index:u.string,good:_,total:_,timestampField:u.string}),u.partial({filter:u.string})])}),E=u.literal("range"),A=u.intersection([u.type({field:u.string,aggregation:E,from:u.number,to:u.number}),u.partial({filter:u.string})]),j=u.literal("value_count"),R=u.intersection([u.type({field:u.string,aggregation:j}),u.partial({filter:u.string})]),q=u.union([R,A]),k=u.literal("sli.histogram.custom"),B=u.type({type:k,params:u.intersection([u.type({index:u.string,timestampField:u.string,good:q,total:q}),u.partial({filter:u.string})])}),L=(u.type({dateRange:i.c,good:u.number,total:u.number}),u.union([d,g,m,N,W,k])),F=(new u.Type("indicatorTypesArray",(t=>Array.isArray(t)&&t.every((t=>"string"==typeof t))),((t,n)=>{if("string"==typeof t){const n=t.split(",");if(n.every((t=>"string"==typeof t&&L.is(t))))return u.success(n)}return u.failure(t,n)}),(t=>t.join(","))),u.union([f,y,b,O,M,B])),P=u.literal("rolling"),V=u.type({duration:p,type:P}),G=u.literal("calendarAligned"),H=u.type({duration:p,type:G}),J=(u.union([P,G]),u.union([V,H])),$=u.literal("occurrences"),Q=u.literal("timeslices"),Y=u.union([$,Q]),Z=u.type({target:u.number}),z=u.intersection([Z,u.partial({timesliceTarget:u.number,timesliceWindow:p})]),C=u.type({syncDelay:p,frequency:p}),K=u.partial({...C.props}),U=u.array(u.string),X=u.string,tt=u.type({id:X,name:u.string,description:u.string,indicator:F,timeWindow:J,budgetingMethod:Y,objective:z,settings:C,revision:u.number,enabled:u.boolean,tags:U,createdAt:i.d,updatedAt:i.d,groupBy:i.b,version:u.number});u.intersection([tt,u.type({summary:i.g})]),e(16);const nt=t=>""===t;u.brand(u.string,(t=>{return!nt(n=t)&&!n.includes(" ")&&!n.split(",").some(nt);var n}),"IndexPattern"),new u.Type("JSON",u.any.is,((t,n)=>a.either.chain(u.string.validate(t,n),(e=>{try{return u.success(JSON.parse(e))}catch(e){return u.failure(t,n)}}))),(t=>JSON.stringify(t))),new u.Type("isoToEpochRt",u.number.is,((t,n)=>a.either.chain(u.string.validate(t,n),(e=>{const r=new Date(e).getTime();return isNaN(r)?u.failure(t,n):u.success(r)}))),(t=>new Date(t).toISOString())),new u.Type("ToNumber",u.number.is,((t,n)=>{const e=Number(t);return isNaN(e)?u.failure(t,n):u.success(e)}),u.identity);const et=new u.Type("ToBoolean",u.boolean.is,(t=>{let n;return n="string"==typeof t?"true"===t:!!t,u.success(n)}),u.identity);u.brand(u.string,(t=>t.length>0),"NonEmptyString");var rt=e(113);u.brand(u.string,(t=>c()(t,!0).isValid()),"Date");var it=e(56),at=e.n(it);new u.Type("datemath",u.string.is,((t,n)=>Object(rt.pipe)(u.string.validate(t,n),Object(a.chain)((t=>(t=>{const n=at.a.parse(t);return!(!n||!n.isValid())})(t)?u.success(t):u.failure(t,n))))),String),e(132);const ut=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3,9}Z$/,ot=new u.Type("DateFromStringOrNumber",(t=>"string"==typeof t),((t,n)=>"string"==typeof t?ut.test(t)?u.success(t):u.failure(t,n):Object(rt.pipe)(u.number.validate(t,n),Object(a.chain)((t=>{const e=c()(t);return e.isValid()?u.success(e.toISOString()):u.failure(t,n)})))),String),st=u.type({time:ot,tiebreaker:u.number}),ct=(u.intersection([st,u.partial({gid:u.string,fromAutoReload:u.boolean})]),u.type({body:u.intersection([u.type({name:u.string,description:u.string,indicator:F,timeWindow:J,budgetingMethod:Y,objective:z}),u.partial({id:X,settings:K,tags:U,groupBy:i.b})])}),u.type({id:X}),u.type({body:u.type({indicator:F,range:u.type({start:u.number,end:u.number})})}),u.array(i.f),u.type({path:u.type({id:X})}),u.union([u.literal("asc"),u.literal("desc")])),lt=u.union([u.literal("error_budget_consumed"),u.literal("error_budget_remaining"),u.literal("sli_value"),u.literal("status")]),pt=(u.partial({query:u.partial({kqlQuery:u.string,page:u.string,perPage:u.string,sortBy:lt,sortDirection:ct})}),u.intersection([u.type({id:X,name:u.string,description:u.string,indicator:F,timeWindow:J,budgetingMethod:Y,objective:z,revision:u.number,settings:C,enabled:u.boolean,tags:U,groupBy:i.b,createdAt:i.d,updatedAt:i.d,version:u.number}),u.partial({instanceId:i.b})])),dt=u.intersection([pt,u.type({summary:i.g})]),ft=u.partial({query:u.partial({instanceId:i.b})});u.intersection([u.type({path:u.type({id:X})}),ft]),u.type({path:u.type({id:X}),body:u.partial({name:u.string,description:u.string,indicator:F,timeWindow:J,budgetingMethod:Y,objective:z,settings:K,tags:U,groupBy:i.b})}),u.type({path:u.type({id:X})}),u.type({path:u.type({id:X})}),u.type({page:u.number,perPage:u.number,total:u.number,results:u.array(dt)}),u.type({body:u.type({list:u.array(u.type({sloId:X,instanceId:u.string}))})}),u.type({body:u.type({list:u.array(u.type({sloId:X,instanceId:i.b}))})}),u.array(u.type({sloId:X,instanceId:i.b,data:u.array(i.e)})),u.partial({query:u.partial({search:u.string,includeOutdatedOnly:et,page:u.string,perPage:u.string})}),u.type({page:u.number,perPage:u.number,total:u.number,results:u.array(pt)}),u.type({burnRates:u.array(u.type({name:u.string,burnRate:u.number,sli:u.number}))}),u.type({path:u.type({id:u.string}),body:u.type({instanceId:i.b,windows:u.array(u.type({name:u.string,duration:p}))})}),u.type({path:u.type({id:u.string})}),u.type({groupBy:u.string,instances:u.array(u.string)})},106:function(t,n,e){"use strict";e.d(n,"a",(function(){return r}));const r={all:["slo"],lists:()=>[...r.all,"list"],list:t=>[...r.lists(),t],details:()=>[...r.all,"details"],detail:t=>[...r.details(),t],rules:()=>[...r.all,"rules"],rule:t=>[...r.rules(),t],activeAlerts:()=>[...r.all,"activeAlerts"],activeAlert:t=>[...r.activeAlerts(),...t.flat()],historicalSummaries:()=>[...r.all,"historicalSummary"],historicalSummary:t=>[...r.historicalSummaries(),t],definitions:(t,n,e,i)=>[...r.all,"definitions",t,n,e,i],globalDiagnosis:()=>[...r.all,"globalDiagnosis"],burnRates:(t,n)=>[...r.all,"burnRates",t,n],preview:(t,n)=>[...r.all,"preview",t,n]}},109:function(t,n,e){"use strict";e.d(n,"a",(function(){return a})),e.d(n,"b",(function(){return u})),e.d(n,"c",(function(){return f})),e.d(n,"d",(function(){return o})),e.d(n,"e",(function(){return p})),e.d(n,"f",(function(){return d})),e.d(n,"g",(function(){return l}));var r=e(105),i=e(20);const a="*",u=i.union([i.literal(a),i.string]),o=new i.Type("DateType",(t=>t instanceof Date),((t,n)=>r.either.chain(i.string.validate(t,n),(e=>{const r=new Date(e);return isNaN(r.getTime())?i.failure(t,n):i.success(r)}))),(t=>t.toISOString())),s=i.type({initial:i.number,consumed:i.number,remaining:i.number,isEstimated:i.boolean}),c=i.union([i.literal("NO_DATA"),i.literal("HEALTHY"),i.literal("DEGRADING"),i.literal("VIOLATED")]),l=i.type({status:c,sliValue:i.number,errorBudget:s}),p=i.intersection([i.type({date:o}),l]),d=i.intersection([i.type({date:o,sliValue:i.number}),i.partial({events:i.type({good:i.number,bad:i.number,total:i.number})})]),f=i.type({from:o,to:o})},113:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.pipeable=n.pipe=void 0;var r=e(132);n.pipe=r.pipe;n.pipeable=function(t){var n={};return function(t){return"function"==typeof t.map}(t)&&(n.map=function(n){return function(e){return t.map(e,n)}}),function(t){return"function"==typeof t.contramap}(t)&&(n.contramap=function(n){return function(e){return t.contramap(e,n)}}),function(t){return"function"==typeof t.mapWithIndex}(t)&&(n.mapWithIndex=function(n){return function(e){return t.mapWithIndex(e,n)}}),function(t){return"function"==typeof t.ap}(t)&&(n.ap=function(n){return function(e){return t.ap(e,n)}},n.apFirst=function(n){return function(e){return t.ap(t.map(e,(function(t){return function(){return t}})),n)}},n.apSecond=function(n){return function(e){return t.ap(t.map(e,(function(){return function(t){return t}})),n)}}),function(t){return"function"==typeof t.chain}(t)&&(n.chain=function(n){return function(e){return t.chain(e,n)}},n.chainFirst=function(n){return function(e){return t.chain(e,(function(e){return t.map(n(e),(function(){return e}))}))}},n.flatten=function(n){return t.chain(n,r.identity)}),function(t){return"function"==typeof t.bimap}(t)&&(n.bimap=function(n,e){return function(r){return t.bimap(r,n,e)}},n.mapLeft=function(n){return function(e){return t.mapLeft(e,n)}}),function(t){return"function"==typeof t.extend}(t)&&(n.extend=function(n){return function(e){return t.extend(e,n)}},n.duplicate=function(n){return t.extend(n,r.identity)}),function(t){return"function"==typeof t.reduce}(t)&&(n.reduce=function(n,e){return function(r){return t.reduce(r,n,e)}},n.foldMap=function(n){var e=t.foldMap(n);return function(t){return function(n){return e(n,t)}}},n.reduceRight=function(n,e){return function(r){return t.reduceRight(r,n,e)}}),function(t){return"function"==typeof t.reduceWithIndex}(t)&&(n.reduceWithIndex=function(n,e){return function(r){return t.reduceWithIndex(r,n,e)}},n.foldMapWithIndex=function(n){var e=t.foldMapWithIndex(n);return function(t){return function(n){return e(n,t)}}},n.reduceRightWithIndex=function(n,e){return function(r){return t.reduceRightWithIndex(r,n,e)}}),function(t){return"function"==typeof t.alt}(t)&&(n.alt=function(n){return function(e){return t.alt(e,n)}}),function(t){return"function"==typeof t.compact}(t)&&(n.compact=t.compact,n.separate=t.separate),function(t){return"function"==typeof t.filter}(t)&&(n.filter=function(n){return function(e){return t.filter(e,n)}},n.filterMap=function(n){return function(e){return t.filterMap(e,n)}},n.partition=function(n){return function(e){return t.partition(e,n)}},n.partitionMap=function(n){return function(e){return t.partitionMap(e,n)}}),function(t){return"function"==typeof t.filterWithIndex}(t)&&(n.filterWithIndex=function(n){return function(e){return t.filterWithIndex(e,n)}},n.filterMapWithIndex=function(n){return function(e){return t.filterMapWithIndex(e,n)}},n.partitionWithIndex=function(n){return function(e){return t.partitionWithIndex(e,n)}},n.partitionMapWithIndex=function(n){return function(e){return t.partitionMapWithIndex(e,n)}}),function(t){return"function"==typeof t.promap}(t)&&(n.promap=function(n,e){return function(r){return t.promap(r,n,e)}}),function(t){return"function"==typeof t.compose}(t)&&(n.compose=function(n){return function(e){return t.compose(e,n)}}),function(t){return"function"==typeof t.throwError}(t)&&(n.fromOption=function(n){return function(e){return"None"===e._tag?t.throwError(n()):t.of(e.value)}},n.fromEither=function(n){return"Left"===n._tag?t.throwError(n.left):t.of(n.right)},n.fromPredicate=function(n,e){return function(r){return n(r)?t.of(r):t.throwError(e(r))}},n.filterOrElse=function(n,e){return function(r){return t.chain(r,(function(r){return n(r)?t.of(r):t.throwError(e(r))}))}}),n}}}]);