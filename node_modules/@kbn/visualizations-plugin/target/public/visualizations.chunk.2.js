(window.visualizations_bundle_jsonpfunction=window.visualizations_bundle_jsonpfunction||[]).push([[2],Array(79).concat([function(e,t,a){"use strict";var n,i="object"==typeof Reflect?Reflect:null,s=i&&"function"==typeof i.apply?i.apply:function(e,t,a){return Function.prototype.apply.call(e,t,a)};n=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function r(){r.init.call(this)}e.exports=r,e.exports.once=function(e,t){return new Promise((function(a,n){function i(a){e.removeListener(t,s),n(a)}function s(){"function"==typeof e.removeListener&&e.removeListener("error",i),a([].slice.call(arguments))}m(e,t,s,{once:!0}),"error"!==t&&function(e,t,a){"function"==typeof e.on&&m(e,"error",t,{once:!0})}(e,i)}))},r.EventEmitter=r,r.prototype._events=void 0,r.prototype._eventsCount=0,r.prototype._maxListeners=void 0;var l=10;function c(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?r.defaultMaxListeners:e._maxListeners}function d(e,t,a,n){var i,s,o,r;if(c(a),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,a.listener?a.listener:a),s=e._events),o=s[t]),void 0===o)o=s[t]=a,++e._eventsCount;else if("function"==typeof o?o=s[t]=n?[a,o]:[o,a]:n?o.unshift(a):o.push(a),(i=u(e))>0&&o.length>i&&!o.warned){o.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=o.length,r=l,console&&console.warn&&console.warn(r)}return e}function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function b(e,t,a){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:a},i=p.bind(n);return i.listener=a,n.wrapFn=i,i}function g(e,t,a){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?a?[i.listener||i]:[i]:a?function(e){for(var t=new Array(e.length),a=0;a<t.length;++a)t[a]=e[a].listener||e[a];return t}(i):f(i,i.length)}function v(e){var t=this._events;if(void 0!==t){var a=t[e];if("function"==typeof a)return 1;if(void 0!==a)return a.length}return 0}function f(e,t){for(var a=new Array(t),n=0;n<t;++n)a[n]=e[n];return a}function m(e,t,a,n){if("function"==typeof e.on)n.once?e.once(t,a):e.on(t,a);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(s){n.once&&e.removeEventListener(t,i),a(s)}))}}Object.defineProperty(r,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),r.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},r.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},r.prototype.getMaxListeners=function(){return u(this)},r.prototype.emit=function(e){for(var t=[],a=1;a<arguments.length;a++)t.push(arguments[a]);var n="error"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var r=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw r.context=o,r}var l=i[e];if(void 0===l)return!1;if("function"==typeof l)s(l,this,t);else{var c=l.length,u=f(l,c);for(a=0;a<c;++a)s(u[a],this,t)}return!0},r.prototype.addListener=function(e,t){return d(this,e,t,!1)},r.prototype.on=r.prototype.addListener,r.prototype.prependListener=function(e,t){return d(this,e,t,!0)},r.prototype.once=function(e,t){return c(t),this.on(e,b(this,e,t)),this},r.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,b(this,e,t)),this},r.prototype.removeListener=function(e,t){var a,n,i,s,o;if(c(t),void 0===(n=this._events))return this;if(void 0===(a=n[e]))return this;if(a===t||a.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,a.listener||t));else if("function"!=typeof a){for(i=-1,s=a.length-1;s>=0;s--)if(a[s]===t||a[s].listener===t){o=a[s].listener,i=s;break}if(i<0)return this;0===i?a.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(a,i),1===a.length&&(n[e]=a[0]),void 0!==n.removeListener&&this.emit("removeListener",e,o||t)}return this},r.prototype.off=r.prototype.removeListener,r.prototype.removeAllListeners=function(e){var t,a,n;if(void 0===(a=this._events))return this;if(void 0===a.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==a[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete a[e]),this;if(0===arguments.length){var i,s=Object.keys(a);for(n=0;n<s.length;++n)"removeListener"!==(i=s[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=a[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},r.prototype.listeners=function(e){return g(this,e,!0)},r.prototype.rawListeners=function(e){return g(this,e,!1)},r.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):v.call(e,t)},r.prototype.listenerCount=v,r.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},,,,,function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(151);case"v8light":return a(153)}},,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDeepEqual=t.off=t.on=t.isClient=void 0;var n=a(57).__importDefault(a(103));t.isClient="object"==typeof window,t.on=function(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];return e.addEventListener.apply(e,t)},t.off=function(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];return e.removeEventListener.apply(e,t)},t.isDeepEqual=n.default},function(e,t,a){"use strict";e.exports=function(e,t){return t||(t={}),"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},function(e,t,a){e.exports=a.p+"1cbd62546f764080f7071e03889e9de3.svg"},function(e,t,a){"use strict";e.exports=a(120)},function(e,t,a){"use strict";e.exports=a(122)},function(e,t,a){"use strict";e.exports=a(129)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(14);t.default=function(e){n.useEffect(e,[])}},,,,,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(57),i=a(87),s=n.__importDefault(a(104));t.default=function(e,t){s.default(e,t,i.isDeepEqual)}},function(e,t,a){"use strict";e.exports=function e(t,a){if(t===a)return!0;if(t&&a&&"object"==typeof t&&"object"==typeof a){if(t.constructor!==a.constructor)return!1;var n,i,s;if(Array.isArray(t)){if((n=t.length)!=a.length)return!1;for(i=n;0!=i--;)if(!e(t[i],a[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===a.source&&t.flags===a.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===a.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===a.toString();if((n=(s=Object.keys(t)).length)!==Object.keys(a).length)return!1;for(i=n;0!=i--;)if(!Object.prototype.hasOwnProperty.call(a,s[i]))return!1;for(i=n;0!=i--;){var o=s[i];if(!("_owner"===o&&t.$$typeof||e(t[o],a[o])))return!1}return!0}return t!=t&&a!=a}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(14);t.default=function(e,t,a){var i=n.useRef(void 0);i.current&&a(t,i.current)||(i.current=t),n.useEffect(e,i.current)}},function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(106);case"v8light":return a(108)}},function(e,t,a){var n=a(73),i=a(107);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);n(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,a){(t=a(74)(!1)).push([e.i,'.kbnSolutionNav__flyout{background-color:#141519}.kbnSolutionNav{background:linear-gradient(160deg,#3437414d,#3437414d 32px,#f000 0),linear-gradient(175deg,#3437414d,#3437414d 16px,#f000 0);display:flex;flex-direction:column;height:100%;overflow-x:hidden;overflow-y:auto;scrollbar-color:#98a2b380 #0000;scrollbar-width:thin}.kbnSolutionNav::-webkit-scrollbar{height:16px;width:16px}.kbnSolutionNav::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#98a2b380;border:6px solid #0000;border-radius:16px}.kbnSolutionNav::-webkit-scrollbar-corner,.kbnSolutionNav::-webkit-scrollbar-track{background-color:#0000}.kbnSolutionNav:focus{outline:none}.kbnSolutionNav[tabindex="0"]:focus:focus-visible{outline-style:auto}@media only screen and (min-width:768px) and (max-width:991px){.kbnSolutionNav{padding:24px;width:248px}}@media only screen and (min-width:992px) and (max-width:1199px){.kbnSolutionNav{padding:24px;width:248px}}@media only screen and (min-width:1200px){.kbnSolutionNav{padding:24px;width:248px}}.kbnSolutionNav__title{align-items:center;display:inline-flex}.kbnSolutionNav__titleAvatar{align-self:flex-start;margin-right:12px}.kbnSolutionNav--hidden{opacity:0;pointer-events:none}@media screen and (prefers-reduced-motion:no-preference){.kbnSolutionNav--hidden{transition:opacity .15s cubic-bezier(.694,.0482,.335,1)}}',""]),e.exports=t},function(e,t,a){var n=a(73),i=a(109);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);n(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,a){(t=a(74)(!1)).push([e.i,'.kbnSolutionNav__flyout{background-color:#fafbfd}.kbnSolutionNav{background:linear-gradient(160deg,#d3dae64d,#d3dae64d 32px,#f000 0),linear-gradient(175deg,#d3dae64d,#d3dae64d 16px,#f000 0);display:flex;flex-direction:column;height:100%;overflow-x:hidden;overflow-y:auto;scrollbar-color:#69707d80 #0000;scrollbar-width:thin}.kbnSolutionNav::-webkit-scrollbar{height:16px;width:16px}.kbnSolutionNav::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#69707d80;border:6px solid #0000;border-radius:16px}.kbnSolutionNav::-webkit-scrollbar-corner,.kbnSolutionNav::-webkit-scrollbar-track{background-color:#0000}.kbnSolutionNav:focus{outline:none}.kbnSolutionNav[tabindex="0"]:focus:focus-visible{outline-style:auto}@media only screen and (min-width:768px) and (max-width:991px){.kbnSolutionNav{padding:24px;width:248px}}@media only screen and (min-width:992px) and (max-width:1199px){.kbnSolutionNav{padding:24px;width:248px}}@media only screen and (min-width:1200px){.kbnSolutionNav{padding:24px;width:248px}}.kbnSolutionNav__title{align-items:center;display:inline-flex}.kbnSolutionNav__titleAvatar{align-self:flex-start;margin-right:12px}.kbnSolutionNav--hidden{opacity:0;pointer-events:none}@media screen and (prefers-reduced-motion:no-preference){.kbnSolutionNav--hidden{transition:opacity .15s cubic-bezier(.694,.0482,.335,1)}}',""]),e.exports=t},function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(111);case"v8light":return a(113)}},function(e,t,a){var n=a(73),i=a(112);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);n(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,a){var n=a(74),i=a(88),s=a(89);t=n(!1);var o=i(s);t.push([e.i,".kbnSolutionAvatar{box-shadow:0 .7px 1.4px rgba(0,0,0,.175),0 1.9px 4px rgba(0,0,0,.125),0 4.5px 10px rgba(0,0,0,.125)}.kbnSolutionAvatar--xxl{background:#1d1e24 url("+o+") no-repeat;background-size:cover,125%;border-radius:100px;box-shadow:0 .9px 4px -1px #0003,0 2.6px 8px -1px #00000026,0 5.7px 12px -1px rgba(0,0,0,.125),0 15px 15px -1px #0000001a;display:inline-block;height:100px;line-height:100px;text-align:center;width:100px}",""]),e.exports=t},function(e,t,a){var n=a(73),i=a(114);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);n(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,a){var n=a(74),i=a(88),s=a(89);t=n(!1);var o=i(s);t.push([e.i,".kbnSolutionAvatar{box-shadow:0 .7px 1.4px #00000012,0 1.9px 4px #0000000d,0 4.5px 10px #0000000d}.kbnSolutionAvatar--xxl{background:#fff url("+o+") no-repeat;background-size:cover,125%;border-radius:100px;box-shadow:0 .9px 4px -1px #00000014,0 2.6px 8px -1px #0000000f,0 5.7px 12px -1px #0000000d,0 15px 15px -1px #0000000a;display:inline-block;height:100px;line-height:100px;text-align:center;width:100px}",""]),e.exports=t},function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(116);case"v8light":return a(118)}},function(e,t,a){var n=a(73),i=a(117);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);n(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,a){(t=a(74)(!1)).push([e.i,".kbnSolutionNavCollapseButton{left:232px;opacity:0;position:absolute;top:24px;z-index:2}@media screen and (prefers-reduced-motion:no-preference){.kbnSolutionNavCollapseButton{transition:opacity .15s,left .15s,background .15s}}.kbnSolutionNavCollapseButton:focus,.kbnSolutionNavCollapseButton:hover{transition-delay:0s!important}.kbnSolutionNavCollapseButton:focus,.kbnSolutionNavCollapseButton:hover,.kbnSolutionNav__sidebar:hover .kbnSolutionNavCollapseButton{left:224px;opacity:1}.kbnSolutionNav__sidebar:hover .kbnSolutionNavCollapseButton{transition-delay:.7s}.kbnSolutionNavCollapseButton:not(.kbnSolutionNavCollapseButton-isCollapsed){background-color:#1d1e24!important}.kbnSolutionNavCollapseButton-isCollapsed{align-items:flex-start;border-radius:0;bottom:0;height:100%;left:0!important;opacity:1!important;padding-top:32px;right:auto;top:0;transition-delay:0s!important;width:40px}",""]),e.exports=t},function(e,t,a){var n=a(73),i=a(119);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);n(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,a){(t=a(74)(!1)).push([e.i,".kbnSolutionNavCollapseButton{left:232px;opacity:0;position:absolute;top:24px;z-index:2}@media screen and (prefers-reduced-motion:no-preference){.kbnSolutionNavCollapseButton{transition:opacity .15s,left .15s,background .15s}}.kbnSolutionNavCollapseButton:focus,.kbnSolutionNavCollapseButton:hover{transition-delay:0s!important}.kbnSolutionNavCollapseButton:focus,.kbnSolutionNavCollapseButton:hover,.kbnSolutionNav__sidebar:hover .kbnSolutionNavCollapseButton{left:224px;opacity:1}.kbnSolutionNav__sidebar:hover .kbnSolutionNavCollapseButton{transition-delay:.7s}.kbnSolutionNavCollapseButton:not(.kbnSolutionNavCollapseButton-isCollapsed){background-color:#fff!important}.kbnSolutionNavCollapseButton-isCollapsed{align-items:flex-start;border-radius:0;bottom:0;height:100%;left:0!important;opacity:1!important;padding-top:32px;right:auto;top:0;transition-delay:0s!important;width:40px}",""]),e.exports=t},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(121);a(58),a(91),a(92);var i=n.default({key:"css"}),s=i.flush,o=i.hydrate,r=i.cx,l=i.merge,c=i.getRegisteredStyles,u=i.injectGlobal,d=i.keyframes,p=i.css,b=i.sheet,g=i.cache;t.cache=g,t.css=p,t.cx=r,t.flush=s,t.getRegisteredStyles=c,t.hydrate=o,t.injectGlobal=u,t.keyframes=d,t.merge=l,t.sheet=b},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(58),i=a(91),s=a(92);function o(e){return e&&e.__esModule?e:{default:e}}var r=o(n);function l(e,t){if(void 0===e.inserted[t.name])return e.insert("",t,e.sheet,!0)}function c(e,t,a){var n=[],i=s.getRegisteredStyles(e,n,a);return n.length<2?a:i+t(n)}var u=function e(t){for(var a="",n=0;n<t.length;n++){var i=t[n];if(null!=i){var s=void 0;switch(typeof i){case"boolean":break;case"object":if(Array.isArray(i))s=e(i);else for(var o in s="",i)i[o]&&o&&(s&&(s+=" "),s+=o);break;default:s=i}s&&(a&&(a+=" "),a+=s)}}return a};t.default=function(e){var t=r.default(e);t.sheet.speedy=function(e){this.isSpeedy=e},t.compat=!0;var a=function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];var o=i.serializeStyles(a,t.registered,void 0);return s.insertStyles(t,o,!1),t.key+"-"+o.name};return{css:a,cx:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return c(t.registered,a,u(n))},injectGlobal:function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];var s=i.serializeStyles(a,t.registered);l(t,s)},keyframes:function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];var s=i.serializeStyles(a,t.registered),o="animation-"+s.name;return l(t,{name:s.name,styles:"@keyframes "+o+"{"+s.styles+"}"}),o},hydrate:function(e){e.forEach((function(e){t.inserted[e]=!0}))},flush:function(){t.registered={},t.inserted={},t.sheet.flush()},sheet:t.sheet,cache:t,getRegisteredStyles:s.getRegisteredStyles.bind(null,t.registered),merge:c.bind(null,t.registered,a)}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(123),i=a(125),s=a(127);function o(e){return e&&e.__esModule?e:{default:e}}var r=o(n),l=o(i),c=/[A-Z]|^ms/g,u=/_EMO_([^_]+?)_([^]*?)_EMO_/g,d=function(e){return 45===e.charCodeAt(1)},p=function(e){return null!=e&&"boolean"!=typeof e},b=o(s).default((function(e){return d(e)?e:e.replace(c,"-$&").toLowerCase()})),g=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(u,(function(e,t,a){return f={name:t,styles:a,next:f},t}))}return 1===l.default[e]||d(e)||"number"!=typeof t||0===t?t:t+"px"};function v(e,t,a){if(null==a)return"";if(void 0!==a.__emotion_styles)return a;switch(typeof a){case"boolean":return"";case"object":if(1===a.anim)return f={name:a.name,styles:a.styles,next:f},a.name;if(void 0!==a.styles){var n=a.next;if(void 0!==n)for(;void 0!==n;)f={name:n.name,styles:n.styles,next:f},n=n.next;return a.styles+";"}return function(e,t,a){var n="";if(Array.isArray(a))for(var i=0;i<a.length;i++)n+=v(e,t,a[i])+";";else for(var s in a){var o=a[s];if("object"!=typeof o)null!=t&&void 0!==t[o]?n+=s+"{"+t[o]+"}":p(o)&&(n+=b(s)+":"+g(s,o)+";");else if(!Array.isArray(o)||"string"!=typeof o[0]||null!=t&&void 0!==t[o[0]]){var r=v(e,t,o);switch(s){case"animation":case"animationName":n+=b(s)+":"+r+";";break;default:n+=s+"{"+r+"}"}}else for(var l=0;l<o.length;l++)p(o[l])&&(n+=b(s)+":"+g(s,o[l])+";")}return n}(e,t,a);case"function":if(void 0!==e){var i=f,s=a(e);return f=i,v(e,t,s)}}if(null==t)return a;var o=t[a];return void 0!==o?o:a}var f,m=/label:\s*([^\s;\n{]+)\s*(;|$)/g;t.serializeStyles=function(e,t,a){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var n=!0,i="";f=void 0;var s=e[0];null==s||void 0===s.raw?(n=!1,i+=v(a,t,s)):i+=s[0];for(var o=1;o<e.length;o++)i+=v(a,t,e[o]),n&&(i+=s[o]);m.lastIndex=0;for(var l,c="";null!==(l=m.exec(i));)c+="-"+l[1];return{name:r.default(i)+c,styles:i,next:f}}},function(e,t,a){"use strict";e.exports=a(124)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t,a=0,n=0,i=e.length;i>=4;++n,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24))+(59797*(t>>>16)<<16),a=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&a)+(59797*(a>>>16)<<16);switch(i){case 3:a^=(255&e.charCodeAt(n+2))<<16;case 2:a^=(255&e.charCodeAt(n+1))<<8;case 1:a=1540483477*(65535&(a^=255&e.charCodeAt(n)))+(59797*(a>>>16)<<16)}return(((a=1540483477*(65535&(a^=a>>>13))+(59797*(a>>>16)<<16))^a>>>15)>>>0).toString(36)}},function(e,t,a){"use strict";e.exports=a(126)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},function(e,t,a){"use strict";e.exports=a(128)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=Object.create(null);return function(a){return void 0===t[a]&&(t[a]=e(a)),t[a]}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="undefined"!=typeof document,i=function(e,t,a){var i=e.key+"-"+t.name;(!1===a||!1===n&&void 0!==e.compat)&&void 0===e.registered[i]&&(e.registered[i]=t.styles)};t.getRegisteredStyles=function(e,t,a){var n="";return a.split(" ").forEach((function(a){void 0!==e[a]?t.push(e[a]+";"):n+=a+" "})),n},t.insertStyles=function(e,t,a){i(e,t,a);var s=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var o="",r=t;do{var l=e.insert(t===r?"."+s:"",r,e.sheet,!0);n||void 0===l||(o+=l),r=r.next}while(void 0!==r);if(!n&&0!==o.length)return o}},t.registerStyles=i},,function(e,t,a){e.exports=a.p+"baad30acfe492601d08a0e839c9bb3f5.svg"},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(57),i=a(14),s=n.__importDefault(a(133));t.default=function(e,t,a){void 0===t&&(t=0),void 0===a&&(a=[]);var n=s.default(e,t),o=n[0],r=n[1],l=n[2];return i.useEffect(l,a),[o,r]}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(14);t.default=function(e,t){void 0===t&&(t=0);var a=n.useRef(!1),i=n.useRef(),s=n.useRef(e),o=n.useCallback((function(){return a.current}),[]),r=n.useCallback((function(){a.current=!1,i.current&&clearTimeout(i.current),i.current=setTimeout((function(){a.current=!0,s.current()}),t)}),[t]),l=n.useCallback((function(){a.current=null,i.current&&clearTimeout(i.current)}),[]);return n.useEffect((function(){s.current=e}),[e]),n.useEffect((function(){return r(),l}),[t]),[o,l,r]}},function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(135);case"v8light":return a(137)}},function(e,t,a){var n=a(73),i=a(136);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);n(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,a){(t=a(74)(!1)).push([e.i,".visAppWrapper{display:flex;flex-direction:column;flex-grow:1}.visAppLoadingWrapper{align-items:center;display:flex;flex-grow:1;justify-content:center}",""]),e.exports=t},function(e,t,a){var n=a(73),i=a(138);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);n(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,a){(t=a(74)(!1)).push([e.i,".visAppWrapper{display:flex;flex-direction:column;flex-grow:1}.visAppLoadingWrapper{align-items:center;display:flex;flex-grow:1;justify-content:center}",""]),e.exports=t},function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(140);case"v8light":return a(142)}},function(e,t,a){var n=a(73),i=a(141);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);n(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,a){(t=a(74)(!1)).push([e.i,".visListingTable__typeIcon,.visListingTable__typeImage{margin-right:8px;position:relative;top:-1px}.visListingTable__typeImage{height:16px;width:16px}.visListingTable__experimentalIcon{margin-left:8px;padding:0 8px;vertical-align:middle;width:24px}.visListingTable__titleLink{text-align:left}.visListingCallout__link{text-decoration:underline}",""]),e.exports=t},function(e,t,a){var n=a(73),i=a(143);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);n(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,a){(t=a(74)(!1)).push([e.i,".visListingTable__typeIcon,.visListingTable__typeImage{margin-right:8px;position:relative;top:-1px}.visListingTable__typeImage{height:16px;width:16px}.visListingTable__experimentalIcon{margin-left:8px;padding:0 8px;vertical-align:middle;width:24px}.visListingTable__titleLink{text-align:left}.visListingCallout__link{text-decoration:underline}",""]),e.exports=t},,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(57).__importDefault(a(93));t.default=function(e){n.default((function(){e()}))}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(57),i=a(14),s=n.__importDefault(a(93));t.default=function(e){var t=i.useRef(e);t.current=e,s.default((function(){return function(){return t.current()}}))}},function(e,t,a){var n=a(73),i=a(152);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);n(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,a){(t=a(74)(!1)).push([e.i,".visEditor{display:flex;flex:1 1 auto;flex-direction:column;height:100%}.visEditor>*{flex-shrink:0}@media only screen and (max-width:574px){.visEditor .visualization{min-height:240px}}@media only screen and (min-width:575px) and (max-width:767px){.visEditor .visualization{min-height:240px}}@media only screen and (min-width:768px) and (max-width:991px){.visEditor .visualization{min-height:240px}}.visEditor>.visualize{display:flex;flex:1 1 auto;height:100%;z-index:0}.visEditor__content{display:flex;flex:1 1 auto;flex-direction:column;width:100%;z-index:0}.visEditor__content>*{flex-shrink:0}",""]),e.exports=t},function(e,t,a){var n=a(73),i=a(154);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);n(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,a){(t=a(74)(!1)).push([e.i,".visEditor{display:flex;flex:1 1 auto;flex-direction:column;height:100%}.visEditor>*{flex-shrink:0}@media only screen and (max-width:574px){.visEditor .visualization{min-height:240px}}@media only screen and (min-width:575px) and (max-width:767px){.visEditor .visualization{min-height:240px}}@media only screen and (min-width:768px) and (max-width:991px){.visEditor .visualization{min-height:240px}}.visEditor>.visualize{display:flex;flex:1 1 auto;height:100%;z-index:0}.visEditor__content{display:flex;flex:1 1 auto;flex-direction:column;width:100%;z-index:0}.visEditor__content>*{flex-shrink:0}",""]),e.exports=t},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(14),i=a(87),s=function(){};t.default=function(e,t,a){if(!i.isClient)return[t,s,s];if(!e)throw new Error("useLocalStorage key may not be falsy");var o=a?a.raw?function(e){return e}:a.deserializer:JSON.parse,r=n.useState((function(){try{var n=a?a.raw?String:a.serializer:JSON.stringify,i=localStorage.getItem(e);return null!==i?o(i):(t&&localStorage.setItem(e,n(t)),t)}catch(e){return t}})),l=r[0],c=r[1],u=n.useCallback((function(t){try{var n="function"==typeof t?t(l):t;if(void 0===n)return;var i;i=a?a.raw?"string"==typeof n?n:JSON.stringify(n):a.serializer?a.serializer(n):JSON.stringify(n):JSON.stringify(n),localStorage.setItem(e,i),c(o(i))}catch(e){}}),[e,c]),d=n.useCallback((function(){try{localStorage.removeItem(e),c(void 0)}catch(e){}}),[e,c]);return[l,u,d]}},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";a.r(t),a.d(t,"renderApp",(function(){return qt}));var n=a(14),i=a.n(n),s=a(31),o=a.n(s),r=a(75),l=a.n(r),c=a(55);const u={services:{}},d=Object(n.createContext)(u);var p=a(102),b=a.n(p),g=a(4);const v=({children:e,component:t,render:a,...s})=>{const o=Object(n.useMemo)((()=>{if(t)return e=>Object(g.jsx)(i.a.Fragment,null,Object(g.jsx)(f,null),Object(g.jsx)(t,e))}),[t]);if(o)return Object(g.jsx)(c.Route,l()({},s,{component:o}));if(a||"function"==typeof e){const t="function"==typeof e?e:a;return Object(g.jsx)(c.Route,l()({},s,{render:e=>Object(g.jsx)(i.a.Fragment,null,Object(g.jsx)(f,null),t(e))}))}return Object(g.jsx)(c.Route,s,Object(g.jsx)(f,null),e)},f=()=>{const{executionContext:e}=Object(n.useContext)(d).services,t=Object(c.useRouteMatch)();return function(e,t){b()((()=>(null==e||e.set(t),()=>{null==e||e.clear()})),[t])}(e,{type:"application",page:t.path,id:Object.keys(t.params).length>0?JSON.stringify(t.params):void 0}),null};var m=a(60);const h=({children:e,...t})=>Object(g.jsx)(c.Router,t,Object(g.jsx)(m.CompatRouter,null,e));var j=a(5);const x=({legacySwitch:e=!0,children:t})=>{const a=Object(c.useRouteMatch)();return e?Object(g.jsx)(c.Switch,null,t):Object(g.jsx)(m.Routes,null,n.Children.map(t,(e=>{if(i.a.isValidElement(e)&&e.type===v){var n;const s=Object(j.replace)(null==e?void 0:e.props.path,a.url+"/",""),o="function"==typeof(null==e?void 0:e.props.children)?null==e?void 0:e.props.children:null==e?void 0:e.props.render;return Object(g.jsx)(m.Route,{path:s,element:Object(g.jsx)(i.a.Fragment,null,Object(g.jsx)(f,null),(null==e||null===(n=e.props)||void 0===n?void 0:n.component)&&Object(g.jsx)(e.props.component,null)||o&&o()||t)})}return e})))};var O=a(20),y=a(37),w=a(132),C=a.n(w),S=a(9),k=a(2),E=a(38),T=a.n(E);a(105),a(110);const M=e=>{const{className:t,size:a,...n}=e,i={};return(e=>void 0===e.iconType)(e)&&(i.iconType=`logo${e.name.replace(/\s+/g,"")}`),Object(g.jsx)(S.EuiAvatar,l()({className:T()("kbnSolutionAvatar",{[`kbnSolutionAvatar--${a}`]:a},t),size:"xxl"===a?"xl":a,iconSize:a,color:"plain"},n,i))};a(115);const P=k.i18n.translate("sharedUXPackages.solutionNav.collapsibleLabel",{defaultMessage:"Collapse side navigation"}),L=k.i18n.translate("sharedUXPackages.solutionNav.openLabel",{defaultMessage:"Open side navigation"}),_=({className:e,isCollapsed:t,...a})=>{const n=T()("kbnSolutionNavCollapseButton",{"kbnSolutionNavCollapseButton-isCollapsed":t},e);return Object(g.jsx)(S.EuiButtonIcon,l()({className:n,size:"s",color:"text",iconType:t?"menuRight":"menuLeft","aria-label":t?L:P,title:t?L:P},a))},A=(e,t)=>e.map((e=>(e.tabIndex=t?-1:void 0,e.items=e.items&&A(e.items,t),e))),I=Object(S.htmlIdGenerator)("SolutionNav"),N=({children:e,headingProps:t,icon:a,isOpenOnDesktop:s=!1,items:o,mobileBreakpoints:r=["xs","s"],closeFlyoutButtonPosition:c="outside",name:u,onCollapse:d,canBeCollapsed:p=!0,...b})=>{const v=Object(S.useIsWithinBreakpoints)(r),f=Object(S.useIsWithinBreakpoints)(["m"]),m=Object(S.useIsWithinMinBreakpoint)("l"),[h,j]=Object(n.useState)(!1),x=m&&!s&&p,O=!!e,w=T()("kbnSolutionNav",{"kbnSolutionNav--hidden":x}),C=(null==t?void 0:t.id)||I("heading"),E=(null==t?void 0:t.element)||"h2",P=Object(g.jsx)(S.EuiTitle,{size:"xs",id:C,"data-test-subj":null==t?void 0:t["data-test-subj"],className:"kbnSolutionNav__title"},Object(g.jsx)(E,null,a&&Object(g.jsx)(M,{className:"kbnSolutionNav__titleAvatar",iconType:a,name:u}),Object(g.jsx)("strong",null,Object(g.jsx)(y.FormattedMessage,{id:"sharedUXPackages.solutionNav.mobileTitleText",defaultMessage:"{solutionName} {menuText}",values:{solutionName:u||"Navigation",menuText:v?k.i18n.translate("sharedUXPackages.solutionNav.menuText",{defaultMessage:"menu"}):""}})))),L=Object(n.useMemo)((()=>O?e:o?Object(g.jsx)(S.EuiSideNav,l()({"aria-labelledby":C,"aria-hidden":x,items:A(o,x),mobileBreakpoints:[]},b)):null),[e,C,O,x,o,b]);return Object(g.jsx)(i.a.Fragment,null,v&&Object(g.jsx)(S.EuiCollapsibleNavGroup,{className:w,paddingSize:"none",background:"none",title:P,titleElement:"span",isCollapsible:p,initialIsOpen:!1},Object(g.jsx)(S.EuiPanel,{color:"transparent",paddingSize:"s"},L)),f&&Object(g.jsx)(i.a.Fragment,null,(h||!p)&&Object(g.jsx)(S.EuiFlyout,{ownFocus:!1,outsideClickCloses:!0,onClose:()=>j(!1),side:"left",size:248,closeButtonPosition:c,className:"kbnSolutionNav__flyout",hideCloseButton:!p},Object(g.jsx)("div",{className:w},P,Object(g.jsx)(S.EuiSpacer,{size:"l"}),L)),p&&Object(g.jsx)(_,{isCollapsed:!0,onClick:()=>{j(!h)}})),m&&Object(g.jsx)(i.a.Fragment,null,Object(g.jsx)("div",{className:w},P,Object(g.jsx)(S.EuiSpacer,{size:"l"}),L),p&&Object(g.jsx)(_,{isCollapsed:!s,onClick:d})))};var D=a(90);const F="solutionNavIsCollapsed",z=e=>{const t=t=>{var a;const i=Object(S.useIsWithinBreakpoints)(["m"]),s=Object(S.useIsWithinMinBreakpoint)("l"),[o,r]=Object(n.useState)(!JSON.parse(String(localStorage.getItem(F)))),{solutionNav:c,children:u,...d}=t,{euiTheme:p}=Object(S.useEuiTheme)(),{canBeCollapsed:b=!0}=c,v=i||b&&s&&!o,f=(e=>Object(D.css)("flex:0 1 0;overflow:hidden;",S.euiCanAnimate,"{transition:min-width ",e.animation.fast," ",e.animation.resistance,";}",""))(p),m=T()("kbnSolutionNav__sidebar",{"kbnSolutionNav__sidebar--shrink":v},null===(a=t.pageSideBarProps)||void 0===a?void 0:a.className,f),h=Object(g.jsx)(N,l()({isOpenOnDesktop:o,onCollapse:()=>{r(!o),localStorage.setItem(F,JSON.stringify(o))}},c)),j={paddingSize:"none",...t.pageSideBarProps,minWidth:v?p.size.xxl:void 0,className:m};return Object(g.jsx)(e,l()({},d,{pageSideBar:h,pageSideBarProps:j}),u)};var a;return t.displayName=`WithSolutionNavBar(${a=e,a.displayName||a.name||"UnnamedComponent"})`,t};var V=a(77),B=a(131),U=a.n(B);const R=k.i18n.translate("sharedUXPackages.card.noData.noPermission.title",{defaultMessage:"Contact your administrator"}),H=k.i18n.translate("sharedUXPackages.card.noData.noPermission.description",{defaultMessage:"This integration is not yet enabled. Your administrator has the required permissions to turn it on."}),$=k.i18n.translate("sharedUXPackages.card.noData.title",{defaultMessage:"Add Elastic Agent"}),G=k.i18n.translate("sharedUXPackages.card.noData.description",{defaultMessage:"Use Elastic Agent for a simple, unified way to collect data from your machines."}),q=()=>Object(g.jsx)(S.EuiImage,{size:"fullWidth",style:{width:"max(100%, 360px)",height:240,objectFit:"cover",background:"aliceblue"},url:U.a,alt:""}),Q=({title:e,description:t,canAccessFleet:a,button:n,...i})=>Object(g.jsx)(S.EuiCard,l()({css:{maxWidth:400,marginInline:"auto"},paddingSize:"l",title:a?Object(g.jsx)(S.EuiScreenReaderOnly,null,Object(g.jsx)("span",null,e||$)):Object(g.jsx)(S.EuiTextColor,{color:"default"},R),description:a?t||G:Object(g.jsx)(S.EuiTextColor,{color:"default"},H),footer:(()=>{if(a)return n&&"string"!=typeof n?n:Object(g.jsx)(S.EuiButton,{fill:!0},n||e||$)})(),isDisabled:!a,image:Object(g.jsx)(q,null)},i)),X=i.a.createContext(null),W=({children:e,...t})=>{const a={addBasePath:t.coreStart.http.basePath.prepend,canAccessFleet:t.coreStart.application.capabilities.navLinks.integrations};return Object(g.jsx)(X.Provider,{value:a},Object(g.jsx)(V.c,t,e))},K=({href:e,category:t,description:a,...i})=>{var s;const{canAccessFleet:o,addBasePath:r}=function(){const e=Object(n.useContext)(X);if(!e)throw new Error("NoDataCard Context is missing.  Ensure your component or React root is wrapped with NoDataCardContext.");return e}(),c=Object(n.useMemo)((()=>{if(e)return e;const a="/app/integrations/browse";return r(t?`${a}/${t}`:a)}),[r,e,t]);return Object(g.jsx)(V.b,null,Object(g.jsx)(Q,l()({},i,{href:c,canAccessFleet:null!==(s=i.canAccessFleet)&&void 0!==s?s:o,description:a})))},Y=({action:e})=>{const t=Object.keys(e);if(1!==t.length)return null;const a=t[0],n="elasticAgent"===a?"empty-page-agent-action":`empty-page-${a}-action`;return Object(g.jsx)(K,l()({key:n},e[a]))},J=({solution:e,logo:t,action:a,docsLink:n,pageTitle:i,pageDescription:s,className:o})=>{const r=i||k.i18n.translate("sharedUXPackages.noDataPage.welcomeTitle",{defaultMessage:"Welcome to Elastic {solution}!",values:{solution:e}}),l=n?Object(g.jsx)(S.EuiLink,{href:n,target:"_blank"},Object(g.jsx)(y.FormattedMessage,{id:"sharedUXPackages.noDataPage.intro.link",defaultMessage:"learn more"})):null,c=null!=s?s:l?Object(g.jsx)(y.FormattedMessage,{id:"sharedUXPackages.noDataPage.intro",defaultMessage:"Add your data to get started, or {link} about {solution}.",values:{solution:e,link:l}}):Object(g.jsx)(y.FormattedMessage,{id:"sharedUXPackages.noDataPage.introNoDocLink",defaultMessage:"Add your data to get started."});return Object(g.jsx)(S.EuiPageTemplate.Section,{alignment:"center",grow:!0,className:T()("kbnNoDataPageContents",o),"data-test-subj":"kbnNoDataPage"},Object(g.jsx)(S.EuiText,{textAlign:"center"},Object(g.jsx)(M,{name:e,iconType:t||`logo${e}`,size:"xxl"}),Object(g.jsx)(S.EuiSpacer,{size:"l"}),Object(g.jsx)("h1",null,r),Object(g.jsx)(S.EuiTextColor,{color:"subdued"},Object(g.jsx)("p",null,c))),Object(g.jsx)(S.EuiSpacer,{size:"xxl"}),Object(g.jsx)(Y,{action:a}))},Z=e=>{const{className:t,noDataConfig:a,pageSideBar:n,pageSideBarProps:i,...s}=e;if(!a)return null;let o;n&&(o=Object(g.jsx)(S.EuiPageTemplate.Sidebar,i,n));const r=((e,t)=>T()("kbnPageTemplate","",t||""))(0,t);return Object(g.jsx)(S.EuiPageTemplate,l()({className:r,restrictWidth:950,panelled:!1,offset:0,minHeight:0},s),o,Object(g.jsx)(J,a))},ee=z(Z),te=({className:e,pageHeader:t,children:a,isEmptyState:n,pageSideBar:i,pageSideBarProps:s,...o})=>{let r,c;if(n&&t&&!a){const{iconType:e,pageTitle:n,description:i,rightSideItems:s}=t,o=n?Object(g.jsx)("h1",null,n):void 0,r=i?Object(g.jsx)("p",null,i):void 0;a=Object(g.jsx)(S.EuiPageTemplate.EmptyPrompt,{iconType:e,iconColor:"",title:o,body:r,actions:s})}else t&&(r=Object(g.jsx)(S.EuiPageTemplate.Header,t));if(i){const e={...s};e.sticky=!0,c=Object(g.jsx)(S.EuiPageTemplate.Sidebar,e,i)}const u=((e,t)=>T()("kbnPageTemplate","",t||""))(0,e);return Object(g.jsx)(S.EuiPageTemplate,l()({className:u,offset:0,minHeight:r?"calc(100vh - var(--euiFixedHeadersOffset, 0))":0,grow:!r&&void 0},o),c,r,a)},ae=z(te),ne=Object.assign((({className:e,children:t,solutionNav:a,noDataConfig:n,...i})=>n&&a?Object(g.jsx)(ee,{"data-test-subj":i["data-test-subj"],className:e,noDataConfig:n,solutionNav:a}):n?Object(g.jsx)(Z,{"data-test-subj":i["data-test-subj"],className:e,noDataConfig:n}):a?Object(g.jsx)(ae,l()({className:e,solutionNav:a,children:t},i)):Object(g.jsx)(te,l()({className:e,children:t},i))),{Sidebar:S.EuiPageTemplate.Sidebar,Header:S.EuiPageTemplate.Header,Section:S.EuiPageTemplate.Section,BottomBar:S.EuiPageTemplate.BottomBar,EmptyPrompt:S.EuiPageTemplate.EmptyPrompt}),ie=i.a.createContext(null),se=({children:e,...t})=>Object(g.jsx)(ie.Provider,{value:t},e),oe=({children:e,...t})=>{const{core:a,toMountPoint:i,savedObjectsTagging:s}=t,{openFlyout:o}=a.overlays,{theme$:r}=a.theme,l=Object(n.useMemo)((()=>({references:e})=>{if(null==s||!s.ui.components.TagList)return null;const t=s.ui.components.TagList;return Object(g.jsx)(t,{object:{references:e}})}),[null==s?void 0:s.ui.components.TagList]),c=Object(n.useCallback)(((e,t)=>o(i(e,{theme$:r}),t)),[o,i,r]);return Object(g.jsx)(se,{openFlyout:c,notifyError:(e,t)=>{a.notifications.toasts.addDanger({title:i(e),text:t})},TagList:l,TagSelector:null==s?void 0:s.ui.components.SavedObjectSaveModalTagSelector},e)},re=e=>{const[t,s]=Object(n.useState)(null),o=Object(n.useCallback)((async()=>{const{ContentEditorFlyoutContentContainer:e}=await a.e(12).then(a.bind(null,187));s((()=>e))}),[]);return Object(n.useEffect)((()=>{o()}),[o]),t?Object(g.jsx)(t,e):Object(g.jsx)(i.a.Fragment,null,Object(g.jsx)(S.EuiFlyoutHeader,null),Object(g.jsx)(S.EuiFlyoutBody,null),Object(g.jsx)(S.EuiFlyoutFooter,null))};const le=i.a.createContext(null),ce=({children:e,...t})=>Object(g.jsx)(le.Provider,{value:t},e),ue=({children:e,...t})=>{var a;const{core:i,toMountPoint:s,savedObjectsTagging:o,FormattedRelative:r}=t,l=Object(n.useMemo)((()=>{if(o)return async e=>{const t=await o.ui.parseSearchQuery(e,{useName:!0});return{searchQuery:t.searchTerm,references:t.tagReferences,referencesToExclude:t.tagReferencesToExclude}}}),[o]),c=Object(n.useMemo)((()=>({references:e,onClick:t,tagRender:a})=>{if(null==o||!o.ui.components.TagList)return null;const n=o.ui.components.TagList;return Object(g.jsx)(n,{object:{references:e},onClick:t,tagRender:a})}),[null==o?void 0:o.ui.components.TagList]),u=Object(n.useCallback)((e=>null!=o&&o.ui.getTagIdsFromReferences?o.ui.getTagIdsFromReferences(e):[]),[null==o?void 0:o.ui]),d=Object(n.useCallback)((()=>null!=o&&o.ui.getTagList?o.ui.getTagList():[]),[null==o?void 0:o.ui]),p=Object(n.useCallback)((e=>u(e).length>0),[u]);return Object(g.jsx)(V.c,{coreStart:i},Object(g.jsx)(oe,{core:i,toMountPoint:s,savedObjectsTagging:o},Object(g.jsx)(ce,{canEditAdvancedSettings:Boolean(null===(a=i.application.capabilities.advancedSettings)||void 0===a?void 0:a.save),getListingLimitSettingsUrl:()=>i.application.getUrlForApp("management",{path:"/kibana/settings?query=savedObjects:listingLimit"}),notifyError:(e,t)=>{i.notifications.toasts.addDanger({title:s(e),text:t})},searchQueryParser:l,DateFormatterComp:e=>Object(g.jsx)(r,e),currentAppId$:i.application.currentAppId$,navigateToUrl:i.application.navigateToUrl,getTagList:d,TagList:c,itemHasTags:p,getTagIdsFromReferences:u,getTagManagementUrl:()=>i.http.basePath.prepend("/app/management/kibana/tags")},e)))};function de(){const e=Object(n.useContext)(le);if(!e)throw new Error("TableListViewContext is missing. Ensure your component or React root is wrapped with <TableListViewProvider /> or <TableListViewKibanaProvider />.");return e}const pe={nameAscSort:k.i18n.translate("contentManagement.tableList.listing.tableSortSelect.nameAscLabel",{defaultMessage:"Name A-Z"}),nameDescSort:k.i18n.translate("contentManagement.tableList.listing.tableSortSelect.nameDescLabel",{defaultMessage:"Name Z-A"}),updatedAtAscSort:k.i18n.translate("contentManagement.tableList.listing.tableSortSelect.updatedAtAscLabel",{defaultMessage:"Least recently updated"}),updatedAtDescSort:k.i18n.translate("contentManagement.tableList.listing.tableSortSelect.updatedAtDescLabel",{defaultMessage:"Recently updated"}),headerSort:k.i18n.translate("contentManagement.tableList.listing.tableSortSelect.headerLabel",{defaultMessage:"Sort by"})};function be({tableSort:e,hasUpdatedAtMetadata:t,onChange:a}){var s,o;const{euiTheme:r}=Object(S.useEuiTheme)(),[l,c]=Object(n.useState)(!1),[u,d]=Object(n.useState)((()=>{let e=[{label:pe.nameAscSort,column:"attributes.title",direction:"asc",append:Object(g.jsx)(S.EuiIcon,{type:"sortUp"})},{label:pe.nameDescSort,column:"attributes.title",direction:"desc",append:Object(g.jsx)(S.EuiIcon,{type:"sortDown"})}];return t&&(e=e.concat([{label:pe.updatedAtDescSort,column:"updatedAt",direction:"desc",append:Object(g.jsx)(S.EuiIcon,{type:"sortDown"})},{label:pe.updatedAtAscSort,column:"updatedAt",direction:"asc",append:Object(g.jsx)(S.EuiIcon,{type:"sortUp"})}])),e})),p=null!==(s=null===(o=u.find((({checked:e})=>"on"===e)))||void 0===o?void 0:o.label)&&void 0!==s?s:"",b=Object(g.css)("border-bottom:",r.border.thin,";font-weight:",600,";padding:",r.size.s,";",""),v=Object(g.jsx)(S.EuiFilterButton,{iconType:"arrowDown",iconSide:"right",onClick:()=>{c((e=>!e))},"data-test-subj":"tableSortSelectBtn",grow:!0},p);return Object(n.useEffect)((()=>{d((t=>t.map((t=>{const a=t.column===e.field&&t.direction===e.direction?"on":void 0;return{...t,checked:a}}))))}),[e]),Object(g.jsx)(S.EuiPopover,{button:v,isOpen:l,closePopover:()=>{c(!1)},panelPaddingSize:"none",anchorPosition:"downCenter",panelProps:{css:{width:18*r.base}}},Object(g.jsx)(i.a.Fragment,null,Object(g.jsx)(S.EuiText,{css:b},pe.headerSort),Object(g.jsx)(S.EuiSelectable,{singleSelection:!0,"aria-label":"some aria label",options:u,onChange:e=>{d(e);const t=e.find((({checked:e})=>"on"===e));t&&a&&a(t.column,t.direction)},"data-test-subj":"sortSelect"},(e=>e))))}const ge=navigator.platform.toLowerCase().indexOf("mac")>=0?"⌘":"^",ve={name:"pit38s",styles:"height:auto"},fe={name:"1d3w5wq",styles:"width:100%"},me=({isPopoverOpen:e,isInUse:t,options:a,totalActiveFilters:n,onFilterButtonClick:s,onSelectChange:o,closePopover:r,clearTagSelection:c})=>{const{euiTheme:u}=Object(S.useEuiTheme)(),{navigateToUrl:d,currentAppId$:p,getTagManagementUrl:b}=de(),v=a.length>10,f=Object(g.css)("padding:",u.size.s,";border-bottom:",u.border.thin,";",""),m=Object(g.css)("height:",u.size.xxxl,";","");let h={searchable:!1};return v&&(h={searchable:!0,searchProps:{compressed:!0}}),Object(g.jsx)(i.a.Fragment,null,Object(g.jsx)(S.EuiPopover,{button:Object(g.jsx)(S.EuiFilterButton,{iconType:"arrowDown",iconSide:"right",onClick:s,"data-test-subj":"tagFilterPopoverButton",hasActiveFilters:n>0,numActiveFilters:n,grow:!0},"Tags"),isOpen:e,closePopover:r,panelPaddingSize:"none",anchorPosition:"downCenter",panelProps:{css:{width:18*u.base}},panelStyle:t?{transition:"none"}:void 0},Object(g.jsx)(S.EuiPopoverTitle,{paddingSize:"m",css:m},Object(g.jsx)(S.EuiFlexGroup,null,Object(g.jsx)(S.EuiFlexItem,null,"Tags"),Object(g.jsx)(S.EuiFlexItem,{grow:!1},n>0&&Object(g.jsx)(S.EuiButtonEmpty,{flush:"both",onClick:c,css:ve},k.i18n.translate("contentManagement.tableList.tagFilterPanel.clearSelectionButtonLabelLabel",{defaultMessage:"Clear selection"}))))),Object(g.jsx)(S.EuiSelectable,l()({singleSelection:!1,"aria-label":"some aria label",options:a,renderOption:e=>e.view,emptyMessage:"There aren't any tags",noMatchesMessage:"No tag matches the search",onChange:o,"data-test-subj":"tagSelectableList"},h),((e,t)=>Object(g.jsx)(i.a.Fragment,null,v?Object(g.jsx)("div",{css:f},t):Object(g.jsx)(S.EuiSpacer,{size:"s"}),e))),Object(g.jsx)(S.EuiPopoverFooter,{paddingSize:"m"},Object(g.jsx)(S.EuiFlexGroup,{direction:"column",alignItems:"center",gutterSize:"s"},Object(g.jsx)(S.EuiFlexItem,null,Object(g.jsx)(S.EuiText,{size:"xs"},Object(g.jsx)(S.EuiTextColor,{color:"dimgrey"},k.i18n.translate("contentManagement.tableList.tagFilterPanel.modifierKeyHelpText",{defaultMessage:"{modifierKeyPrefix} + click exclude",values:{modifierKeyPrefix:ge}})))),Object(g.jsx)(S.EuiFlexItem,{css:fe},Object(g.jsx)(S.EuiButton,{onClick:r},k.i18n.translate("contentManagement.tableList.tagFilterPanel.doneButtonLabel",{defaultMessage:"Done"}))),Object(g.jsx)(S.EuiFlexItem,null,Object(g.jsx)(V.a,{coreStart:{application:{navigateToUrl:d,currentAppId$:p}}},Object(g.jsx)(S.EuiLink,{href:b(),"data-test-subj":"manageAllTagsLink",external:!0},k.i18n.translate("contentManagement.tableList.tagFilterPanel.manageAllTagsLinkLabel",{defaultMessage:"Manage tags"}))))))))},he=navigator.platform.toLowerCase().indexOf("mac")>=0,je=e=>Array.isArray(e)?e:[e],xe=e=>e.replace(" ","_"),Oe=({query:e,tagsToTableItemMap:t,getTagList:a,addOrRemoveExcludeTagFilter:i,addOrRemoveIncludeTagFilter:s})=>{const[o,r]=Object(n.useState)(!1),[l,c]=Object(n.useState)(!1),[u,d]=Object(n.useState)([]),[p,b]=Object(n.useState)({}),v=Object.keys(p).length,f=Object(n.useCallback)((e=>{const t=e.find(((e,t)=>e.checked!==u[t].checked));t&&s(t.tag)}),[u,s]),m=Object(n.useCallback)((e=>t=>{he&&t.metaKey||!he&&t.ctrlKey?i(e):s(e)}),[s,i]),h=Object(n.useCallback)((()=>{const e=a().map((e=>{var a,n;const{name:i,id:s,color:o}=e;let r;return p[i]&&(r="include"===p[i]?"on":"off"),{name:i,label:i,value:null!=s?s:"",tag:e,checked:r,view:Object(g.jsx)(S.EuiFlexGroup,{gutterSize:"xs",justifyContent:"spaceBetween"},Object(g.jsx)(S.EuiFlexItem,null,Object(g.jsx)(S.EuiHealth,{color:o,"data-test-subj":`tag-searchbar-option-${xe(i)}`,onClick:m(e)},Object(g.jsx)(S.EuiText,null,i))),Object(g.jsx)(S.EuiFlexItem,{grow:!1},Object(g.jsx)(S.EuiBadge,{color:void 0!==r?"accent":void 0},null!==(a=null===(n=t[null!=s?s:""])||void 0===n?void 0:n.length)&&void 0!==a?a:0)))}}));d(e)}),[a,t,p,m]),j=Object(n.useCallback)((()=>{r((e=>!e))}),[]),x=Object(n.useCallback)((()=>{r(!1)}),[]);return Object(n.useEffect)((()=>{if(e){const t=e.ast.getOrFieldClause("tag",void 0,!0,"eq"),a=e.ast.getOrFieldClause("tag",void 0,!1,"eq"),n={};t&&je(t.value).forEach((e=>{n[e]="include"})),a&&je(a.value).forEach((e=>{n[e]="exclude"})),b(n)}}),[e]),Object(n.useEffect)((()=>{o?(h(),setTimeout((()=>{c(!0)}),250)):c(!1)}),[o,h]),{isPopoverOpen:o,isInUse:l,options:u,totalActiveFilters:v,onFilterButtonClick:j,onSelectChange:f,closePopover:x}};function ye({dispatch:e,items:t,isFetchingItems:a,searchQuery:i,selectedIds:s,pagination:o,tableColumns:r,tableSort:l,hasUpdatedAtMetadata:c,entityName:u,entityNamePlural:d,tagsToTableItemMap:p,tableItemsRowActions:b,deleteItems:v,renderCreateButton:f,tableCaption:m,onTableChange:h,onTableSearchChange:j,onSortChange:x,addOrRemoveExcludeTagFilter:O,addOrRemoveIncludeTagFilter:w,clearTagSelection:C}){const{getTagList:E}=de(),T=Object(n.useCallback)((()=>{if(v&&0!==s.length)return Object(g.jsx)(S.EuiButton,{color:"danger",iconType:"trash",onClick:()=>e({type:"showConfirmDeleteItemsModal"}),"data-test-subj":"deleteSelectedItems"},Object(g.jsx)(y.FormattedMessage,{id:"contentManagement.tableList.listing.deleteButtonMessage",defaultMessage:"Delete {itemCount} {entityName}",values:{itemCount:s.length,entityName:1===s.length?u:d}}))}),[v,e,u,d,s.length]),M=Object(n.useMemo)((()=>{if(v)return{onSelectionChange:t=>{e({type:"onSelectionChange",data:t})},selectable:e=>{var t;const a=b[e.id];return!1!==(null==a||null===(t=a.delete)||void 0===t?void 0:t.enabled)},selectableMessage:(e,t)=>{if(!e){var a,n;const e=b[t.id];return null!==(a=null==e||null===(n=e.delete)||void 0===n?void 0:n.reason)&&void 0!==a?a:k.i18n.translate("contentManagement.tableList.actionsDisabledLabel",{defaultMessage:"Actions disabled for this item"})}return""},initialSelected:[]}}),[v,e,b]),{isPopoverOpen:P,isInUse:L,closePopover:_,onFilterButtonClick:A,onSelectChange:I,options:N,totalActiveFilters:D}=Oe({query:i.query,getTagList:E,tagsToTableItemMap:p,addOrRemoveExcludeTagFilter:O,addOrRemoveIncludeTagFilter:w}),F=Object(n.useMemo)((()=>({type:"custom_component",component:()=>Object(g.jsx)(be,{tableSort:l,hasUpdatedAtMetadata:c,onChange:x})})),[c,x,l]),z=Object(n.useMemo)((()=>({type:"custom_component",component:()=>Object(g.jsx)(me,{isPopoverOpen:P,isInUse:L,closePopover:_,options:N,totalActiveFilters:D,onFilterButtonClick:A,onSelectChange:I,clearTagSelection:C})})),[P,L,_,N,D,A,I,C]),V=Object(n.useMemo)((()=>[F,z]),[F,z]),B=Object(n.useMemo)((()=>{var e;return{onChange:j,toolsLeft:T(),toolsRight:f(),query:null!==(e=i.query)&&void 0!==e?e:void 0,box:{incremental:!0,"data-test-subj":"tableListSearchBox"},filters:V}}),[j,f,T,V,i.query]),U=Object(g.jsx)(y.FormattedMessage,{id:"contentManagement.tableList.listing.noMatchedItemsMessage",defaultMessage:"No {entityNamePlural} matched your search.",values:{entityNamePlural:d}});return Object(g.jsx)(S.EuiInMemoryTable,{itemId:"id",items:t,columns:r,pagination:o,loading:a,message:U,selection:M,search:B,executeQueryOptions:{enabled:!1},sorting:l?{sort:l}:void 0,onChange:h,"data-test-subj":"itemsInMemTable",rowHeader:"attributes.title",tableCaption:m,isSelectable:!0})}var we=a(62),Ce=a.n(we);const Se=({value:e,children:t})=>t(new Date(e).toDateString()),ke=({dateTime:e,DateFormatterComp:t=Se})=>{if(!e)return Object(g.jsx)(S.EuiToolTip,{content:k.i18n.translate("contentManagement.tableList.updatedDateUnknownLabel",{defaultMessage:"Last updated unknown"})},Object(g.jsx)("span",null,"-"));const a=Ce()(e);return a.diff(Ce()(),"days")>-7?Object(g.jsx)(t,{value:new Date(e).getTime()},(e=>Object(g.jsx)(S.EuiToolTip,{content:a.format("LL LT")},Object(g.jsx)("span",null,e)))):Object(g.jsx)(S.EuiToolTip,{content:a.format("LL LT")},Object(g.jsx)("span",null,a.format("LL")))};function Ee({isDeletingItems:e,items:t,entityName:a,entityNamePlural:i,onCancel:s,onConfirm:o}){const{deleteBtnLabel:r,deletingBtnLabel:l,title:c,description:u,cancelBtnLabel:d}=Object(n.useMemo)((()=>function(e,t,a){return{deleteBtnLabel:k.i18n.translate("contentManagement.tableList.listing.deleteSelectedItemsConfirmModal.confirmButtonLabel",{defaultMessage:"Delete"}),deletingBtnLabel:k.i18n.translate("contentManagement.tableList.listing.deleteSelectedItemsConfirmModal.confirmButtonLabelDeleting",{defaultMessage:"Deleting"}),title:k.i18n.translate("contentManagement.tableList.listing.deleteSelectedConfirmModal.title",{defaultMessage:"Delete {itemCount} {entityName}?",values:{itemCount:e.length,entityName:1===e.length?t:a}}),description:k.i18n.translate("contentManagement.tableList.listing.deleteConfirmModalDescription",{defaultMessage:"You can't recover deleted {entityNamePlural}.",values:{entityNamePlural:a}}),cancelBtnLabel:k.i18n.translate("contentManagement.tableList.listing.deleteSelectedItemsConfirmModal.cancelButtonLabel",{defaultMessage:"Cancel"})}}(t,a,i)),[a,i,t]);return Object(g.jsx)(S.EuiConfirmModal,{title:c,buttonColor:"danger",onCancel:s,onConfirm:o,cancelButtonText:d,confirmButtonText:e?l:r,defaultFocusedButton:"cancel"},Object(g.jsx)("p",null,u))}function Te({entityNamePlural:e,totalItems:t,listingLimit:a,canEditAdvancedSettings:n,advancedSettingsLink:s}){return Object(g.jsx)(i.a.Fragment,null,Object(g.jsx)(S.EuiCallOut,{title:Object(g.jsx)(y.FormattedMessage,{id:"contentManagement.tableList.listing.listingLimitExceededTitle",defaultMessage:"Listing limit exceeded"}),color:"warning",iconType:"help"},Object(g.jsx)("p",null,Object(g.jsx)(y.FormattedMessage,{id:"contentManagement.tableList.listing.listingLimitExceededDescription",defaultMessage:"You have {totalItems} {entityNamePlural}, but your {listingLimitText} setting prevents the table below from displaying more than {listingLimitValue}.",values:{entityNamePlural:e,totalItems:t,listingLimitValue:a,listingLimitText:Object(g.jsx)("strong",null,"listingLimit")}})," ",n?Object(g.jsx)(y.FormattedMessage,{id:"contentManagement.tableList.listing.listingLimitExceededDescriptionPermissions",defaultMessage:"You can change this setting under {advancedSettingsLink}.",values:{advancedSettingsLink:Object(g.jsx)(S.EuiLink,{href:s},Object(g.jsx)(y.FormattedMessage,{id:"contentManagement.tableList.listing.listingLimitExceeded.advancedSettingsLinkText",defaultMessage:"Advanced Settings"}))}}):Object(g.jsx)(y.FormattedMessage,{id:"contentManagement.tableList.listing.listingLimitExceededDescriptionNoPermissions",defaultMessage:"Contact your system administrator to change this setting."}))),Object(g.jsx)(S.EuiSpacer,{size:"m"}))}const Me=navigator.platform.toLowerCase().indexOf("mac")>=0,Pe=({tag:e,onClick:t})=>Object(g.jsx)(S.EuiBadge,{color:e.color,title:e.description,"data-test-subj":`tag-${e.id}`,onClick:a=>{const n=Me&&a.metaKey||!Me&&a.ctrlKey;t(e,n)},onClickAriaLabel:k.i18n.translate("contentManagement.tableList.tagBadge.buttonLabel",{defaultMessage:"{tagName} tag button.",values:{tagName:e.name}})},e.name),Le=e=>e.replace(/[-\[\]{}()*+?.,\\^$|#\s]/g,"\\$&");function _e({id:e,item:t,searchTerm:a="",getDetailViewLink:s,onClickTitle:o,onClickTag:r}){const{references:l,attributes:{title:c,description:u}}=t,{navigateToUrl:d,currentAppId$:p,TagList:b,itemHasTags:v}=de(),f=Object(n.useMemo)((()=>({application:{navigateToUrl:d,currentAppId$:p}})),[p,d]),m=Object(n.useMemo)((()=>{if(o&&(null==s||!s(t)))return e=>{e.preventDefault(),o(t)}}),[t,o,s]),h=Object(n.useCallback)((()=>(s?s(t):void 0)||o?Object(g.jsx)(V.a,{coreStart:f},Object(g.jsx)(S.EuiLink,{href:null==s?void 0:s(t),onClick:m,"data-test-subj":`${e}ListingTitleLink-${t.attributes.title.split(" ").join("-")}`},Object(g.jsx)(S.EuiHighlight,{highlightAll:!0,search:Le(a)},c))):Object(g.jsx)("span",null,c)),[s,e,t,o,m,f,a,c]),j=v(l);return Object(g.jsx)("div",null,Object(g.jsx)(S.EuiText,{size:"s"},h()),Boolean(u)&&Object(g.jsx)(S.EuiText,{size:"s",color:"subdued"},Object(g.jsx)("p",null,Object(g.jsx)(S.EuiHighlight,{highlightAll:!0,search:Le(a)},u))),j&&Object(g.jsx)(i.a.Fragment,null,Object(g.jsx)(S.EuiSpacer,{size:"s"}),Object(g.jsx)(b,{references:l,tagRender:e=>Object(g.jsx)(Pe,{key:e.name,tag:e,onClick:r})})))}var Ae=a(78),Ie=a.n(Ae);const Ne=e=>{var t;const a={},n={...e};if(["s","title","sort","sortdir"].forEach((e=>{Array.isArray(n[e])&&(n[e]=n[e][0])})),a.s=null!==(t=n.s)&&void 0!==t?t:n.title,"title"===n.sort||"updatedAt"===n.sort){const e="title"===n.sort?"attributes.title":"updatedAt";a.sort={field:e,direction:"asc"},"desc"!==n.sortdir&&"asc"!==n.sortdir||(a.sort.direction=n.sortdir)}return a},De=e=>{const t={};return e.sort&&(t.sort=e.sort.field,t.sortdir=e.sort.direction),void 0!==e.s&&(t.s=e.s,t.title=void 0),"string"==typeof t.s&&""===t.s.trim()&&(t.s=void 0,t.title=void 0),t},Fe={title:{field:"attributes.title",name:"Name, description, tags"},updatedAt:{field:"updatedAt",name:"Last updated"}};function ze({tableCaption:e,entityName:t,entityNamePlural:a,initialFilter:s,headingId:o,initialPageSize:r,listingLimit:u,urlStateEnabled:d=!0,customTableColumn:p,emptyPrompt:b,rowItemActions:v,findItems:f,createItem:m,editItem:h,itemIsEditable:x,deleteItems:O,getDetailViewLink:w,onClickTitle:E,id:T="userContent",contentEditor:M={enabled:!1},titleColumnName:P,withoutPageTemplateWrapper:L,onFetchSuccess:_,refreshListBouncer:A,setPageDataTestSubject:I}){if(Object(n.useEffect)((()=>{I(`${t}LandingPage`)}),[t,I]),!w&&!E)throw new Error('[TableListView] One o["getDetailViewLink" or "onClickTitle"] prop must be provided.');if(!1===M.isReadonly&&void 0===M.onSave)throw new Error("[TableListView] A value for [contentEditor.onSave()] must be provided when [contentEditor.isReadonly] is false.");const N=Object(n.useRef)(!1),D=Object(n.useRef)(0),F=Object(n.useRef)(0),z=Object(n.useRef)(!1),{canEditAdvancedSettings:V,getListingLimitSettingsUrl:B,getTagIdsFromReferences:U,searchQueryParser:R,notifyError:H,DateFormatterComp:$,getTagList:G}=de(),q=function(){const e=function(){const e=Object(n.useContext)(ie);if(!e)throw new Error("ContentEditorContext is missing. Ensure your component or React root is wrapped with <ContentEditorProvider /> or <ContentEditorKibanaProvider />.");return e}(),{openFlyout:t}=e,a=Object(n.useRef)(null);return Object(n.useCallback)((n=>{if(!1===n.isReadonly&&void 0===n.onSave)throw new Error("A value for [onSave()] must be provided when [isReadonly] is false.");const i=()=>{var e;null===(e=a.current)||void 0===e||e.close()};return a.current=t(Object(g.jsx)(re,l()({},n,{onCancel:i,services:e})),{maxWidth:600,size:"m",ownFocus:!0,hideCloseButton:!0}),i}),[t,e])}();if(!function(){try{return Object(c.useLocation)(),!0}catch(e){return!1}}())throw new Error("<TableListView/> requires a React Router context. Ensure your component or React root is being rendered in the context of a <Router>.");const[Q,X]=function({queryParamsDeserializer:e,queryParamsSerializer:t}){const a=Object(c.useHistory)(),i=function(){const{search:e}=Object(c.useLocation)();return Object(n.useMemo)((()=>Ie.a.parse(e)),[e])}(),[s,o]=Object(n.useState)({}),r=Object(n.useCallback)((e=>{const n=t(e),s={...i,...n};a.replace({search:`?${Ie.a.stringify(s,{encode:!1})}`})}),[a,i,t]);return Object(n.useEffect)((()=>{const t=e(i);o(t)}),[i,e]),[s,r]}({queryParamsDeserializer:Ne,queryParamsSerializer:De}),W=Object(n.useMemo)((()=>function(){let e=!1;return(t,a)=>{switch(a.type){case"onFetchItems":return{...t,isFetchingItems:!0};case"onFetchItemsSuccess":{var n;const i=a.data.response.hits;let s,o=t.hasUpdatedAtMetadata;t.hasInitialFetchReturned||(o=Boolean(i.find((e=>Boolean(e.updatedAt)))),o&&!e&&(s={field:"updatedAt",direction:"desc"}));let r=t.hasNoItems;return r=""!==t.searchQuery.text?void 0:0===i.length,{...t,hasInitialFetchReturned:!0,isFetchingItems:!1,items:i,hasNoItems:r,totalItems:a.data.response.total,hasUpdatedAtMetadata:o,tableSort:null!==(n=s)&&void 0!==n?n:t.tableSort,pagination:{...t.pagination,totalItemCount:i.length}}}case"onFetchItemsError":return{...t,isFetchingItems:!1,items:[],totalItems:0,fetchError:a.data};case"onSearchQueryChange":return a.data.text===t.searchQuery.text?t:{...t,searchQuery:a.data,isFetchingItems:!0};case"onTableChange":{var i,s,o,r,l;a.data.sort&&(e=!0);const n=null!==(i=a.data.sort)&&void 0!==i?i:t.tableSort,c=null!==(s=null===(o=a.data.page)||void 0===o?void 0:o.pageIndex)&&void 0!==s?s:t.pagination.pageIndex,u=null!==(r=null===(l=a.data.page)||void 0===l?void 0:l.pageSize)&&void 0!==r?r:t.pagination.pageSize;return{...t,pagination:{...t.pagination,pageIndex:c,pageSize:u},tableSort:n}}case"showConfirmDeleteItemsModal":return{...t,showDeleteModal:!0};case"onDeleteItems":return{...t,isDeletingItems:!0};case"onCancelDeleteItems":return{...t,showDeleteModal:!1};case"onItemsDeleted":return{...t,isDeletingItems:!1,selectedIds:[],showDeleteModal:!1};case"onSelectionChange":return{...t,selectedIds:a.data.map((e=>null==e?void 0:e.id)).filter((e=>Boolean(e)))}}}}()),[]),K=Object(n.useMemo)((()=>({items:[],hasNoItems:void 0,totalItems:0,hasInitialFetchReturned:!1,isFetchingItems:!0,isDeletingItems:!1,showDeleteModal:!1,hasUpdatedAtMetadata:!1,selectedIds:[],searchQuery:{text:"",query:new S.Query(S.Ast.create([]),void 0,"")},pagination:{pageIndex:0,totalItemCount:0,pageSize:r,pageSizeOptions:Object(j.uniq)([10,20,50,r]).sort()},tableSort:{field:"attributes.title",direction:"asc"}})),[r]),[Y,J]=Object(n.useReducer)(W,K),{searchQuery:Z,hasInitialFetchReturned:ee,isFetchingItems:te,items:ae,hasNoItems:se,fetchError:oe,showDeleteModal:le,isDeletingItems:ce,selectedIds:ue,totalItems:pe,hasUpdatedAtMetadata:be,pagination:ge,tableSort:ve}=Y,fe=Boolean(oe),me=!fe&&pe>u,he=Object(n.useCallback)((async()=>{J({type:"onFetchItems"});try{const e=++D.current,{searchQuery:t,references:a,referencesToExclude:n}=R?await R(Z.text):{searchQuery:Z.text,references:void 0,referencesToExclude:void 0},i=await f(t,{references:a,referencesToExclude:n});if(!N.current)return;e===D.current&&(J({type:"onFetchItemsSuccess",data:{response:i}}),_())}catch(e){J({type:"onFetchItemsError",data:e})}}),[R,Z.text,f,_]),je=Object(n.useCallback)((e=>{d?X({s:e.text}):J({type:"onSearchQueryChange",data:{query:e,text:e.text}})}),[d,X]),{addOrRemoveIncludeTagFilter:xe,addOrRemoveExcludeTagFilter:Oe,clearTagSelection:we,tagsToTableItemMap:Ce}=function({query:e,updateQuery:t,items:a}){const i=Object(n.useMemo)((()=>a.reduce(((e,t)=>{const a=t.references.filter((e=>"tag"===e.type));return a.length>0&&a.forEach((a=>{e[a.id]||(e[a.id]=[]),e[a.id].push(t.id)})),e}),{})),[a]),s=Object(n.useCallback)((a=>(n,i=e,s=!0)=>{const o=a(i,n);return s&&t(o),o}),[e,t]),o=Object(n.useCallback)((t=>(a,n)=>{const i=Boolean(n)?n:e;if(i.ast.getFieldClauses("tag")){var s;const e=null===(s=i.ast.getFieldClauses("tag").find((({match:e})=>e===t)))||void 0===s?void 0:s.value;if(e&&e.includes(a.name))return!0}return!1}),[e]),r=Object(n.useMemo)((()=>s(((e,t)=>e.addOrFieldValue("tag",t.name,!0,"eq")))),[s]),l=Object(n.useMemo)((()=>s(((e,t)=>e.removeOrFieldValue("tag",t.name)))),[s]),c=Object(n.useMemo)((()=>s(((e,t)=>e.addOrFieldValue("tag",t.name,!1,"eq")))),[s]),u=Object(n.useMemo)((()=>s(((e,t)=>e.removeOrFieldValue("tag",t.name)))),[s]),d=Object(n.useMemo)((()=>o("must")),[o]),p=Object(n.useMemo)((()=>o("must_not")),[o]);return{addOrRemoveIncludeTagFilter:Object(n.useCallback)((e=>{let t;if(p(e))t=u(e,void 0,!1);else if(d(e,t))return void l(e,t);r(e,t)}),[p,d,u,r,l]),addOrRemoveExcludeTagFilter:Object(n.useCallback)((e=>{let t;d(e)&&(t=l(e,void 0,!1)),p(e,t)?u(e,t):c(e,t)}),[d,p,l,c,u]),clearTagSelection:Object(n.useCallback)((()=>{const a=e.removeOrFieldClauses("tag");return t(a),t}),[e,t]),tagsToTableItemMap:i}}({query:Z.query,updateQuery:je,items:ae}),Se=Object(n.useCallback)((e=>{var t;return!e.managed&&(null===(t=null==x?void 0:x(e))||void 0===t||t)}),[x]),Me=Object(n.useCallback)((e=>{const a=U(e.references).map((t=>e.references.find((({id:e})=>e===t)))),n=q({item:{id:e.id,title:e.attributes.title,description:e.attributes.description,tags:a},entityName:t,...M,isReadonly:M.isReadonly||!Se(e),onSave:M.onSave&&(async e=>{await M.onSave(e),await he(),n()})})}),[U,q,t,M,Se,he]),Pe=Object(n.useMemo)((()=>{const e=[{field:Fe.title.field,name:null!=P?P:k.i18n.translate("contentManagement.tableList.mainColumnName",{defaultMessage:"Name, description, tags"}),sortable:!0,render:(e,t)=>Object(g.jsx)(_e,{id:T,item:t,getDetailViewLink:w,onClickTitle:E,onClickTag:(e,t)=>{t?Oe(e):xe(e)},searchTerm:Z.text})}];if(p&&e.push(p),be&&e.push({field:Fe.updatedAt.field,name:k.i18n.translate("contentManagement.tableList.lastUpdatedColumnTitle",{defaultMessage:"Last updated"}),render:(e,t)=>Object(g.jsx)(ke,{dateTime:t.updatedAt,DateFormatterComp:$}),sortable:!0,width:"150px"}),h||!1!==M.enabled){const t=[];h&&t.push({name:e=>k.i18n.translate("contentManagement.tableList.listing.table.editActionName",{defaultMessage:"Edit {itemDescription}",values:{itemDescription:Object(j.get)(e,"attributes.title")}}),description:k.i18n.translate("contentManagement.tableList.listing.table.editActionDescription",{defaultMessage:"Edit"}),icon:"pencil",type:"icon",available:e=>Se(e),enabled:e=>!(null!=e&&e.error),onClick:h,"data-test-subj":"edit-action"}),!1!==M.enabled&&t.push({name:e=>k.i18n.translate("contentManagement.tableList.listing.table.viewDetailsActionName",{defaultMessage:"View {itemTitle} details",values:{itemTitle:Object(j.get)(e,"attributes.title")}}),description:k.i18n.translate("contentManagement.tableList.listing.table.viewDetailsActionDescription",{defaultMessage:"View details"}),icon:"iInCircle",type:"icon",onClick:Me,"data-test-subj":"inspect-action"}),e.push({name:k.i18n.translate("contentManagement.tableList.listing.table.actionTitle",{defaultMessage:"Actions"}),width:"100px",actions:t})}return e}),[P,p,be,h,M.enabled,T,w,E,Z.text,Oe,xe,$,Se,Me]),Le=Object(n.useMemo)((()=>Object(j.keyBy)(ae,"id")),[ae]),Ae=Object(n.useMemo)((()=>ue.map((e=>Le[e]))),[ue,Le]),ze=Object(n.useMemo)((()=>ae.reduce(((e,t)=>({...e,[t.id]:v?v(t):void 0})),{})),[ae,v]),Ve=Object(n.useCallback)((async e=>{let t=S.Ast.create([]),a=e;if(R){const{references:n,referencesToExclude:i,searchQuery:s}=await R(e);if(a=s,null!=n&&n.length||null!=i&&i.length){const e=G();null!=n&&n.length&&n.forEach((({id:a})=>{const n=e.find((({id:e})=>e===a));n&&(t=t.addOrFieldValue("tag",n.name,!0,"eq"))})),null!=i&&i.length&&i.forEach((({id:a})=>{const n=e.find((({id:e})=>e===a));n&&(t=t.addOrFieldValue("tag",n.name,!1,"eq"))}))}}return""!==a.trim()&&(t=t.addClause({type:"term",value:a,match:"must"})),new S.Query(t,void 0,e)}),[G,R]),Be=Object(n.useCallback)((e=>{if(e.query)je(e.query);else{const t=F.current+1;Ve(e.queryText).then((e=>{t===F.current&&je(e)}))}}),[je,Ve]),Ue=Object(n.useCallback)((e=>{e.sort&&d&&X({sort:{field:"attributes.title"===e.sort.field?"title":e.sort.field,direction:e.sort.direction}}),!e.page&&d||J({type:"onTableChange",data:e})}),[X,d]),Re=Object(n.useCallback)(((e,t)=>{Ue({sort:{field:e,direction:t}})}),[Ue]),He=Object(n.useCallback)((e=>{const t={};if(e.sort){let a=e.sort.field;a===Fe.title.name?a=Fe.title.field:a===Fe.updatedAt.name&&(a=Fe.updatedAt.field),t.sort={field:a,direction:e.sort.direction}}t.page={pageIndex:e.page.index,pageSize:e.page.size},Ue(t)}),[Ue]),$e=Object(n.useCallback)((async()=>{if(!ce){J({type:"onDeleteItems"});try{await O(Ae)}catch(e){H(Object(g.jsx)(y.FormattedMessage,{id:"contentManagement.tableList.listing.unableToDeleteDangerMessage",defaultMessage:"Unable to delete {entityName}(s)",values:{entityName:t}}),e)}he(),J({type:"onItemsDeleted"})}}),[O,t,he,ce,H,Ae]),Ge=Object(n.useCallback)((()=>{if(m)return Object(g.jsx)(S.EuiButton,{onClick:m,"data-test-subj":"newItemButton",iconType:"plusInCircleFilled",fill:!0},Object(g.jsx)(y.FormattedMessage,{id:"contentManagement.tableList.listing.createNewItemButtonLabel",defaultMessage:"Create {entityName}",values:{entityName:t}}))}),[m,t]),qe=Object(n.useCallback)((()=>b||Object(g.jsx)(S.EuiEmptyPrompt,{title:Object(g.jsx)("h1",null,Object(g.jsx)(y.FormattedMessage,{id:"contentManagement.tableList.listing.noAvailableItemsMessage",defaultMessage:"No {entityNamePlural} available.",values:{entityNamePlural:a}})),actions:Ge()})),[b,a,Ge]),Qe=Object(n.useCallback)((()=>{var e;return Object(g.jsx)(i.a.Fragment,null,Object(g.jsx)(S.EuiCallOut,{title:Object(g.jsx)(y.FormattedMessage,{id:"contentManagement.tableList.listing.fetchErrorTitle",defaultMessage:"Fetching listing failed"}),color:"danger",iconType:"warning"},Object(g.jsx)("p",null,Object(g.jsx)(y.FormattedMessage,{id:"contentManagement.tableList.listing.fetchErrorDescription",defaultMessage:"The {entityName} listing could not be fetched: {message}.",values:{entityName:t,message:(null===(e=oe.body)||void 0===e?void 0:e.message)||oe.message}}))),Object(g.jsx)(S.EuiSpacer,{size:"m"}))}),[t,oe]);C()(he,300,[he,A]),Object(n.useEffect)((()=>{var e;d&&((async(e="")=>{const t=await Ve(e);J({type:"onSearchQueryChange",data:{query:t,text:e}})})(Q.s),(e=Q.sort)&&J({type:"onTableChange",data:{sort:{field:e.field,direction:e.direction}}}))}),[Q,Ve,d]),Object(n.useEffect)((()=>(N.current=!0,()=>{N.current=!1})),[]),Object(n.useEffect)((()=>{s&&!z.current&&(z.current=!0,Ve(s).then(je))}),[s,Ve,je]);const Xe=Object(n.useMemo)((()=>L?({children:e,"data-test-subj":t})=>Object(g.jsx)("div",{"data-test-subj":t},e):ne),[L]);if(!ee)return null;if(!fe&&se)return Object(g.jsx)(Xe,{isEmptyState:!0},Object(g.jsx)(ne.Section,{"aria-labelledby":ee?o:void 0},qe()));const We=ce?"table-is-deleting":ee&&!te?"table-is-ready":"table-is-loading";return Object(g.jsx)(i.a.Fragment,null,me&&Object(g.jsx)(Te,{canEditAdvancedSettings:V,advancedSettingsLink:B(),entityNamePlural:a,totalItems:pe,listingLimit:u}),fe&&Qe(),Object(g.jsx)("div",{"data-test-subj":We},Object(g.jsx)(ye,{dispatch:J,items:ae,renderCreateButton:Ge,isFetchingItems:te,searchQuery:Z,tableColumns:Pe,hasUpdatedAtMetadata:be,tableSort:ve,tableItemsRowActions:ze,pagination:ge,selectedIds:ue,entityName:t,entityNamePlural:a,tagsToTableItemMap:Ce,deleteItems:O,tableCaption:e,onTableChange:He,onTableSearchChange:Be,onSortChange:Re,addOrRemoveIncludeTagFilter:xe,addOrRemoveExcludeTagFilter:Oe,clearTagSelection:we}),le&&Object(g.jsx)(Ee,{isDeletingItems:ce,entityName:t,entityNamePlural:a,items:Ae,onConfirm:$e,onCancel:()=>J({type:"onCancelDeleteItems"})})))}const Ve=i.a.memo(ze);a(134);var Be=a(7),Ue=a(95);function Re({href:e}){return Object(g.jsx)("dl",null,Object(g.jsx)(S.EuiTitle,{size:"xxs"},Object(g.jsx)("dt",{className:"eui-displayInline"},Object(g.jsx)(y.FormattedMessage,{id:"sharedUXPackages.noDataViewsPrompt.learnMore",defaultMessage:"Want to learn more?"})))," ",Object(g.jsx)("dd",{className:"eui-displayInline"},Object(g.jsx)(S.EuiLink,{href:e,target:"_blank",external:!0},Object(g.jsx)(y.FormattedMessage,{id:"sharedUXPackages.noDataViewsPrompt.readDocumentation",defaultMessage:"Read the docs"}))))}const He=k.i18n.translate("sharedUXPackages.noDataViewsPrompt.addDataViewText",{defaultMessage:"Create data view"}),$e=({onClickCreate:e,canCreateNewDataView:t,dataViewsDocLink:n,emptyPromptColor:s="plain"})=>{const o=t&&Object(g.jsx)(S.EuiButton,{onClick:e,iconType:"plusInCircle",fill:!0,"data-test-subj":"createDataViewButton"},He),r=t?Object(g.jsx)("h2",null,Object(g.jsx)(y.FormattedMessage,{id:"sharedUXPackages.noDataViewsPrompt.youHaveData",defaultMessage:"You have data in Elasticsearch."}),Object(g.jsx)("br",null),Object(g.jsx)(y.FormattedMessage,{id:"sharedUXPackages.noDataViewsPrompt.nowCreate",defaultMessage:"Now, create a data view."})):Object(g.jsx)("h2",null,Object(g.jsx)(y.FormattedMessage,{id:"sharedUXPackages.noDataViewsPrompt.noPermission.title",defaultMessage:"You need permission to create data views"})),l=t?Object(g.jsx)("p",null,Object(g.jsx)(y.FormattedMessage,{id:"sharedUXPackages.noDataViewsPrompt.dataViewExplanation",defaultMessage:"Data views identify the Elasticsearch data you want to explore. You can point data views to one or more data streams, indices, and index aliases, such as your log data from yesterday, or all indices that contain your log data."})):Object(g.jsx)("p",null,Object(g.jsx)(y.FormattedMessage,{id:"sharedUXPackages.noDataViewsPrompt.noPermission.dataViewExplanation",defaultMessage:"Data views identify the Elasticsearch data that you want to explore. To create data views, ask your administrator for the required permissions."})),c=n?Object(g.jsx)(Re,{href:n}):void 0,u=Object(Ue.c)(i.a.lazy((()=>a.e(9).then(a.bind(null,182)).then((({DataViewIllustration:e})=>({default:e}))))),Object(g.jsx)(S.EuiPanel,{color:"subdued",style:{width:226,height:206}})),d=Object(g.jsx)(u,null);return Object(g.jsx)(S.EuiEmptyPrompt,{"data-test-subj":"noDataViewsPrompt",layout:"horizontal",css:Object(g.css)("max-width:",830,"px!important;flex-grow:0;",""),color:s,actions:o,icon:d,title:r,body:l,footer:c})},Ge=i.a.createContext(null),qe=({children:e,...t})=>{var a;return Object(g.jsx)(Ge.Provider,{value:{dataViewsDocLink:null===(a=t.coreStart.docLinks.links.indexPatterns)||void 0===a?void 0:a.introduction,canCreateNewDataView:t.dataViewEditor.userPermissions.editDataView(),openDataViewEditor:t.dataViewEditor.openEditor}},e)},Qe=({onDataViewCreated:e,allowAdHocDataView:t=!1})=>{const{canCreateNewDataView:a,openDataViewEditor:i,dataViewsDocLink:s}=function(){const e=Object(n.useContext)(Ge);if(!e)throw new Error("NoDataViewsPromptContext is missing.  Ensure your component or React root is wrapped with NoDataViewsPromptProvider.");return e}(),o=Object(n.useRef)();Object(n.useEffect)((()=>()=>{null!=o&&o.current&&(null==o||o.current())}),[]);const r=Object(n.useCallback)((e=>{o.current=e}),[]),l=Object(n.useCallback)((()=>{if(!a)return;const n=i({onSave:t=>{e(t)},allowAdHocDataView:t});r&&r(n)}),[a,i,t,r,e]);return Object(g.jsx)($e,{onClickCreate:l,canCreateNewDataView:a,dataViewsDocLink:s})},Xe=i.a.createContext(null),We=({children:e,...t})=>{const{dataViews:a}=t,n={hasESData:a.hasData.hasESData,hasUserDataView:a.hasData.hasUserDataView};return Object(g.jsx)(Xe.Provider,{value:n},Object(g.jsx)(qe,t,Object(g.jsx)(W,t,e)))};var Ke={name:"y1f223",styles:"margin:auto"},Ye={name:"y1f223",styles:"margin:auto"};const Je=({onDataViewCreated:e,noDataConfig:t,allowAdHocDataView:a,showPlainSpinner:i})=>{const s=function(){const e=Object(n.useContext)(Xe);if(!e)throw new Error("KibanaNoDataPageContext is missing.  Ensure your component or React root is wrapped with KibanaNoDataPageContext.");return e}(),{hasESData:o,hasUserDataView:r}=s,[l,c]=Object(n.useState)(!0),[u,d]=Object(n.useState)(!1),[p,b]=Object(n.useState)(!1);return Object(n.useEffect)((()=>{(async()=>{d(await o()),b(await r()),c(!1)})().catch((()=>{c(!1)}))}),[o,r]),l?i?Object(g.jsx)(S.EuiLoadingSpinner,{css:Ke,size:"xxl"}):Object(g.jsx)(S.EuiLoadingElastic,{css:Ye,size:"xxl"}):!p&&u?Object(g.jsx)(Qe,{onDataViewCreated:e,allowAdHocDataView:a}):u?null:Object(g.jsx)(Z,{noDataConfig:t})},Ze=i.a.createContext(null),et=({children:e,...t})=>{var a,n;const i={kibanaGuideDocLink:t.coreStart.docLinks.links.kibana.guide,customBranding:{hasCustomBranding$:t.coreStart.customBranding.hasCustomBranding$},prependBasePath:t.coreStart.http.basePath.prepend,pageFlavor:null!==(a=null===(n=t.noDataPage)||void 0===n?void 0:n.getAnalyticsNoDataPageFlavor())&&void 0!==a?a:"kibana"};return Object(g.jsx)(Ze.Provider,{value:i},Object(g.jsx)(We,t,e))};var tt=a(80),at=a.n(tt);const nt={kibana:({kibanaGuideDocLink:e})=>({solution:k.i18n.translate("sharedUXPackages.noDataConfig.analytics",{defaultMessage:"Analytics"}),pageTitle:k.i18n.translate("sharedUXPackages.noDataConfig.analyticsPageTitle",{defaultMessage:"Welcome to Analytics!"}),logo:"logoKibana",action:{elasticAgent:{title:k.i18n.translate("sharedUXPackages.noDataConfig.addIntegrationsTitle",{defaultMessage:"Add integrations"}),description:k.i18n.translate("sharedUXPackages.noDataConfig.addIntegrationsDescription",{defaultMessage:"Use Elastic Agent to collect data and build out Analytics solutions."}),"data-test-subj":"kbnOverviewAddIntegrations"}},docsLink:e}),serverless_search:({prependBasePath:e})=>({solution:k.i18n.translate("sharedUXPackages.noDataConfig.elasticsearch",{defaultMessage:"Elasticsearch"}),pageTitle:k.i18n.translate("sharedUXPackages.noDataConfig.elasticsearchPageTitle",{defaultMessage:"Welcome to Elasticsearch!"}),logo:"logoElasticsearch",action:{elasticsearch:{title:k.i18n.translate("sharedUXPackages.noDataConfig.elasticsearchTitle",{defaultMessage:"Get started"}),description:k.i18n.translate("sharedUXPackages.noDataConfig.elasticsearchDescription",{defaultMessage:"Set up your programming language client, ingest some data, and start searching."}),"data-test-subj":"kbnOverviewElasticsearchGettingStarted",href:e("/app/elasticsearch/"),canAccessFleet:!0}}}),serverless_observability:({prependBasePath:e})=>({solution:k.i18n.translate("sharedUXPackages.noDataConfig.observability",{defaultMessage:"Observability"}),pageTitle:k.i18n.translate("sharedUXPackages.noDataConfig.observabilityPageTitle",{defaultMessage:"Welcome to Elastic Observability!"}),pageDescription:k.i18n.translate("sharedUXPackages.noDataConfig.observabilityPageDescription",{defaultMessage:"Converge metrics, logs, and traces to monitor the health of your applications."}),logo:"logoObservability",action:{observability:{title:k.i18n.translate("sharedUXPackages.noDataConfig.observabilityTitle",{defaultMessage:"Add data"}),description:k.i18n.translate("sharedUXPackages.noDataConfig.observabilityDescription",{defaultMessage:"Get started by collecting data using one of our many integrations."}),"data-test-subj":"kbnObservabilityNoData",href:e("/app/observabilityOnboarding/")}}})},it=({kibanaGuideDocLink:e,onDataViewCreated:t,allowAdHocDataView:a,showPlainSpinner:n,prependBasePath:i,pageFlavor:s="kibana"})=>{const o=nt[s]({kibanaGuideDocLink:e,prependBasePath:i});return Object(g.jsx)(Je,{noDataConfig:o,onDataViewCreated:t,allowAdHocDataView:a,showPlainSpinner:n})},st=({onDataViewCreated:e,allowAdHocDataView:t})=>{var a;const i=function(){const e=Object(n.useContext)(Ze);if(!e)throw new Error("AnalyticsNoDataPage Context is missing.  Ensure your component or React root is wrapped with AnalyticsNoDataPageContext.");return e}(),{kibanaGuideDocLink:s,customBranding:o,prependBasePath:r,pageFlavor:l}=i,{hasCustomBranding$:c}=o,u=null!==(a=at()(c))&&void 0!==a&&a;return Object(g.jsx)(it,{onDataViewCreated:e,allowAdHocDataView:t,kibanaGuideDocLink:s,showPlainSpinner:u,prependBasePath:r,pageFlavor:l})};a(139);var ot=a(150),rt=a.n(ot),lt=a(149),ct=a.n(lt);const ut=({title:e,description:t,headingId:a,children:i,tabs:s,activeTabId:o,changeActiveTab:r})=>{const[l,c]=Object(n.useState)(!1),[u,d]=Object(n.useState)(),p=Object(n.useCallback)((()=>{var e;return null!==(e=s.find((e=>e.id===o)))&&void 0!==e?e:s[0]}),[o,s]),b=Object(n.useCallback)((()=>{c(!0)}),[]),[v,f]=Object(n.useState)(null);return Object(n.useEffect)((()=>{!async function(){const e=await p().getTableList({onFetchSuccess:b,setPageDataTestSubject:d});f(e)}()}),[o,s,p,b]),Object(g.jsx)(ne,{panelled:!0,"data-test-subj":u},Object(g.jsx)(ne.Header,{pageTitle:Object(g.jsx)("span",{id:a},e),description:t,"data-test-subj":"top-nav",tabs:s.map((e=>({onClick:()=>r(e.id),isSelected:e.id===p().id,label:e.title})))}),Object(g.jsx)(ne.Section,{"aria-labelledby":l?a:void 0},i,v))};var dt=a(10),pt=a(16),bt=a(13);function gt(e,t,a){var n,i,s;const o=t.getAliases().find((t=>{var a;return null===(a=t.appExtensions)||void 0===a?void 0:a.visualizations.docTypes.includes(e)}));return o?null==o||null===(n=o.appExtensions)||void 0===n||null===(i=n.visualizations)||void 0===i||null===(s=i.clientOptions)||void 0===s?void 0:s[a]:{overwrite:!0}}var vt=a(24),ft=a(28),mt=a(0),ht=a(51),jt=a(6),xt=a(76),Ot=a(3);const yt=e=>{var t,a,n;return{id:e.id,updatedAt:e.updatedAt,references:e.references,type:e.savedObjectType,icon:e.icon,stage:e.stage,savedObjectType:e.savedObjectType,typeTitle:e.typeTitle,title:null!==(t=e.title)&&void 0!==t?t:"",error:null!==(a=e.error)&&void 0!==a?a:"",editor:e.editor,attributes:{id:e.id,title:null!==(n=e.title)&&void 0!==n?n:"",description:e.description,readOnly:e.readOnly,error:e.error}}},wt=()=>{const{services:{application:e,executionContext:t,chrome:a,history:s,stateTransferService:o,dashboardCapabilities:r,uiSettings:u,kbnUrlStateStorage:d,listingViewRegistry:p,serverless:b}}=Object(O.useKibana)(),{pathname:v}=Object(c.useLocation)(),f=Object(n.useRef)((()=>{}));Object(O.useExecutionContext)(t,{type:"application",page:"list"}),Object(n.useEffect)((()=>{"/new"===v?f.current=Object(ft.a)({onClose:()=>{s.push(jt.VisualizeConstants.LANDING_PAGE_PATH)}}):f.current()}),[s,v]),ct()((()=>{o.clearEditorState(),null!=b&&b.setBreadcrumbs?b.setBreadcrumbs([]):a.setBreadcrumbs([{text:k.i18n.translate("visualizations.visualizeListingBreadcrumbsTitle",{defaultMessage:"Visualize Library"})}]),a.docTitle.change(k.i18n.translate("visualizations.listingPageTitle",{defaultMessage:"Visualize Library"}))})),rt()((()=>f.current()));const m=u.get(ht.SAVED_OBJECTS_LIMIT_SETTING),h=u.get(ht.SAVED_OBJECTS_PER_PAGE_SETTING),j=((e,t)=>{const{services:{application:a,history:i,savedObjects:s,savedObjectsTagging:o,overlays:r,toastNotifications:l,visualizeCapabilities:c,contentManagement:u}}=Object(O.useKibana)(),d=Object(n.useRef)(),p=Object(n.useCallback)((()=>{e.current=Object(ft.a)()}),[e]),b=Object(n.useCallback)((async({attributes:{id:e},editor:t})=>{if(!("editApp"in t)&&!("editUrl"in t))return void await t.onEdit(e);const{editApp:n,editUrl:s}=t;n?a.navigateToApp(n,{path:s}):i.push(s)}),[a,i]),g=Object(n.useMemo)((()=>Object(xt.d)(p)),[p]),v=Object(n.useCallback)(((e,{references:a,referencesToExclude:n}={})=>Object(dt.c)(Object(mt.o)(),e,t,a,n).then((({total:e,hits:t})=>{const a=t.map(yt);return d.current=a,{total:e,hits:a}}))),[t]),f=Object(n.useCallback)((async e=>{var t;const a=null===(t=d.current)||void 0===t?void 0:t.find((({id:t})=>t===e.id));var n;a&&await(async(e,t,a,n)=>{const i=function(e,t,a){var n,i;return(null===(n=t.getAliases().find((t=>{var a;return null===(a=t.appExtensions)||void 0===a?void 0:a.visualizations.docTypes.includes(e)})))||void 0===n||null===(i=n.appExtensions)||void 0===i?void 0:i.visualizations.client(a))||bt.a}(t,n.typesService,n.contentManagement),s=await i.get(e),o=Object(pt.b)({attributes:s.item.attributes,references:s.item.references});let{references:r}=o;const l={...o.attributes,title:a.title,description:a.description};return n.savedObjectsTagging&&(r=n.savedObjectsTagging.ui.updateTagsReferences(r,a.tags||[])),await i.update({id:e,data:{...l},options:{references:r,...gt(t,n.typesService,"update")}})})(a.id,a.type,{title:e.title,description:null!==(n=e.description)&&void 0!==n?n:"",tags:e.tags},{overlays:r,savedObjectsTagging:o,typesService:Object(mt.o)(),contentManagement:u})}),[r,o,u]),m=Object(n.useMemo)((()=>({title:[{type:"warning",async fn(e,t){if(t){var a;const n=null===(a=d.current)||void 0===a?void 0:a.find((e=>e.id===t));if(n)try{await Object(vt.a)({id:t,title:e,lastSavedTitle:n.title,getEsType:()=>n.type},!1,!1,(()=>{}),{overlays:r})}catch(t){return k.i18n.translate("visualizations.visualizeListingDeleteErrorTitle.duplicateWarning",{defaultMessage:'Saving "{value}" creates a duplicate title.',values:{value:e}})}}}}]})),[r]);return{findItems:v,deleteItems:Object(n.useCallback)((async e=>{await Promise.all(e.map((e=>s.client.delete(e.savedObjectType,e.id)))).catch((e=>{l.addError(e,{title:k.i18n.translate("visualizations.visualizeListingDeleteErrorTitle",{defaultMessage:"Error deleting visualization"})})}))}),[s.client,l]),contentEditor:{isReadonly:!c.save,onSave:f,customValidators:m},editItem:b,emptyPrompt:g,createItem:p,itemIsEditable:({attributes:{readOnly:e}})=>c.save&&!e}})(f,m),x=k.i18n.translate("visualizations.listing.table.listTitle",{defaultMessage:"Visualize Library"}),w=Object(n.useMemo)((()=>{const t=Object(g.jsx)(y.FormattedMessage,{"data-test-subj":"visualize-dashboard-flow-prompt",id:"visualizations.visualizeListingDashboardFlowDescription",defaultMessage:"Building a dashboard? Create and add your visualizations right from the {dashboardApp}.",values:{dashboardApp:Object(g.jsx)(S.EuiLink,{className:"visListingCallout__link",onClick:t=>{t.preventDefault(),e.navigateToUrl(e.getUrlForApp("dashboards"))}},Object(g.jsx)(y.FormattedMessage,{id:"visualizations.visualizeListingDashboardAppName",defaultMessage:"Dashboard application"}))}});return{title:"Visualizations",id:"visualizations",getTableList:a=>Object(g.jsx)(i.a.Fragment,null,r.createNew&&Object(g.jsx)(i.a.Fragment,null,Object(g.jsx)(S.EuiCallOut,{size:"s",title:t,iconType:"iInCircle"}),Object(g.jsx)(S.EuiSpacer,{size:"m"})),Object(g.jsx)(Ve,l()({id:"vis",customTableColumn:Object(xt.c)(),listingLimit:m,initialPageSize:h,initialFilter:"",entityName:k.i18n.translate("visualizations.listing.table.entityName",{defaultMessage:"visualization"}),entityNamePlural:k.i18n.translate("visualizations.listing.table.entityNamePlural",{defaultMessage:"visualizations"}),onClickTitle:e=>{var t;null===(t=j.editItem)||void 0===t||t.call(j,e)},getDetailViewLink:({editor:t,attributes:{error:a,readOnly:n}})=>n||t&&"onEdit"in t?void 0:((e,t,a,n,i=undefined)=>{if(i||!a&&!n)return;let s=e.getUrlForApp(null!=a?a:jt.VISUALIZE_APP_NAME,{path:a?n:`#${n}`});const o=Object(mt.p)().get("state:storeInSessionStorage"),r=t.get(jt.GLOBAL_STATE_STORAGE_KEY)||{};return s=Object(Ot.setStateToKbnUrl)(jt.GLOBAL_STATE_STORAGE_KEY,r,{useHash:o},s),s})(e,d,t.editApp,t.editUrl,a),tableCaption:x},j,a)))}}),[e,r.createNew,h,d,m,j,x]),C=Object(n.useMemo)((()=>[w,...Array.from(p)]),[p,w]),{activeTab:E}=Object(c.useParams)();return Object(g.jsx)(ut,{headingId:"visualizeListingHeading",title:x,tabs:C,activeTabId:E,changeActiveTab:t=>{e.navigateToUrl(`#/${t}`)}})};a(84);var Ct=a(79),St=a(155),kt=a.n(St),Et=a(41);const Tt=({currentAppState:e,isChromeVisible:t,isEmbeddableRendered:a,hasUnsavedChanges:i,setHasUnsavedChanges:s,hasUnappliedChanges:o,originatingApp:r,setOriginatingApp:l,originatingPath:c,visInstance:u,stateContainer:d,visualizationIdFromUrl:p,embeddableId:b,onAppLeave:v,eventEmitter:f})=>{var m;const{services:h}=Object(O.useKibana)(),{TopNavMenu:j}=h.navigation.ui,{setHeaderActionMenu:x,visualizeCapabilities:y}=h,{embeddableHandler:w,vis:C}=u,[S,E]=Object(n.useState)(),[T,M]=Object(n.useState)(!1),[P,L]=Object(n.useState)(!1),[_,A]=kt()("EDIT_IN_LENS_BADGE_VISIBLE",!1),I=Object(n.useCallback)((()=>{A(!0)}),[A]),N=Object(n.useCallback)((()=>{const e=w.openInspector();E(e)}),[w]),D=Object(n.useCallback)((async()=>{h.data.search.session.start()}),[h.data.search.session]),F=Object(n.useCallback)(((e,t)=>{!1===t&&D()}),[D]);Object(n.useEffect)((()=>{const e=w.getExpressionVariables$().subscribe((e=>{L(Boolean(C.type.navigateToLens&&(null==e?void 0:e.canNavigateToLens)))}));return()=>{e.unsubscribe()}}),[w,C]);const z=Object(n.useMemo)((()=>{if(a)return Object(xt.e)({hasUnsavedChanges:i,setHasUnsavedChanges:s,hasUnappliedChanges:o,openInspector:N,originatingApp:r,setOriginatingApp:l,originatingPath:c,visInstance:u,stateContainer:d,visualizationIdFromUrl:p,stateTransfer:h.stateTransferService,embeddableId:b,displayEditInLensItem:P,hideLensBadge:I,setNavigateToLens:M,showBadge:!_&&P,eventEmitter:f},h)}),[a,i,s,o,N,r,l,c,u,d,p,h,b,P,I,_,f]),[V,B]=Object(n.useState)([]),U=()=>{const e=!C.data.indexPattern||!!C.data.indexPattern.timeFieldName;return C.type.options.showTimePicker&&e},R=C.type.options.showFilterBar,H=C.type.requiresSearch&&C.type.options.showQueryInput;Object(n.useEffect)((()=>()=>{S&&S.close()}),[S]),Object(n.useEffect)((()=>(v((e=>!r||!o&&!i||h.stateTransferService.isTransferInProgress||T?e.default():e.confirm(k.i18n.translate("visualizations.confirmModal.confirmTextDescription",{defaultMessage:"Leave Visualize editor with unsaved changes?"}),k.i18n.translate("visualizations.confirmModal.title",{defaultMessage:"Unsaved changes"})))),()=>{v((e=>e.default()))})),[v,r,i,o,y.save,h.stateTransferService.isTransferInProgress,T]),Object(n.useEffect)((()=>{(async()=>{let e;if(C.data.indexPattern?e=[C.data.indexPattern]:C.type.getUsedIndexPattern&&(e=await C.type.getUsedIndexPattern(C.params)),!e||!e.length){const t=await h.dataViews.getDefault();t&&(e=[t])}e&&B(e)})()}),[h.dataViews,C.data.indexPattern,C.params,C.type]),Object(n.useEffect)((()=>{const e=d.state$.pipe(Object(Et.switchMap)((async({dataView:e})=>{if(e&&u.vis.data.indexPattern&&e!==u.vis.data.indexPattern.id){const t=await h.dataViews.get(e);t&&B([t])}}))).subscribe();return()=>{e.unsubscribe()}}),[h.dataViews,d.state$,u.vis.data.indexPattern]),Object(n.useEffect)((()=>{const e=h.data.query.timefilter.timefilter.getAutoRefreshFetch$().pipe(Object(Et.switchMap)((async e=>{try{await D()}finally{e()}}))).subscribe();return()=>{e.unsubscribe()}}),[h.data.query.timefilter.timefilter,D]);const $=Boolean((null===(m=C.type.editorConfig)||void 0===m?void 0:m.enableDataViewChange)&&(C.data.indexPattern&&!C.data.savedSearchId||Object(xt.f)(C.data.indexPattern))&&V.length),G=Object(n.useCallback)((async e=>{e&&d.transitions.updateDataView(e)}),[d.transitions]),q=Object(xt.f)(C.data.indexPattern);return t?Object(g.jsx)(j,{appName:jt.VISUALIZE_APP_NAME,config:z,setMenuMountPoint:x,onQuerySubmit:F,savedQueryId:e.savedQuery,onSavedQueryIdChange:d.transitions.updateSavedQuery,indexPatterns:V,screenTitle:C.title,showAutoRefreshOnly:!U(),showDatePicker:U(),showFilterBar:R,showQueryInput:H,saveQueryMenuVisibility:h.visualizeCapabilities.saveQuery?"allowed_by_app_privilege":"globally_managed",dataViewPickerComponentProps:$&&C.data.indexPattern?{currentDataViewId:C.data.indexPattern.id,trigger:{label:q?k.i18n.translate("visualizations.fallbackDataView.label",{defaultMessage:"{type} not found",values:{type:C.data.savedSearchId?k.i18n.translate("visualizations.search.label",{defaultMessage:"Search"}):k.i18n.translate("visualizations.dataView.label",{defaultMessage:"Data view"})}}):C.data.indexPattern.getName()},isMissingCurrent:q,onChangeDataView:G}:void 0,showSearchBar:!0,useDefaultBehaviors:!0}):R?Object(g.jsx)(j,{appName:jt.VISUALIZE_APP_NAME,setMenuMountPoint:x,indexPatterns:V,showSearchBar:!0,saveQueryMenuVisibility:"hidden",showDatePicker:!1,showQueryInput:!1}):null},Mt=Object(n.memo)(Tt),Pt=()=>{const e=Object(g.jsx)(y.FormattedMessage,{id:"visualizations.experimentalVisInfoTitle",defaultMessage:"This functionality is in technical preview."}),t=Object(g.jsx)(y.FormattedMessage,{id:"visualizations.experimentalVisInfoText",defaultMessage:"It may be changed or removed completely in a future release. Elastic will work to fix any issues, but features in technical preview are not subject to the support SLA of official GA features. For feedback, please create an issue in {githubLink}.",values:{githubLink:Object(g.jsx)(S.EuiLink,{external:!0,href:"https://github.com/elastic/kibana/issues/new/choose",target:"_blank"},"GitHub")}});return Object(g.jsx)(S.EuiCallOut,{className:"hide-for-sharing","data-test-subj":"experimentalVisInfo",size:"s",title:e,iconType:"beaker"},t)},Lt=Object(n.memo)(Pt),_t={gauge:"gauge"},At={pie:"pie",controls:"input_control_vis"},It={[_t.gauge]:"visualization:visualize:legacyGaugeChartsLibrary"},Nt=({canEditAdvancedSettings:e,advancedSettingsLink:t,mode:a="old"})=>Object(g.jsx)(i.a.Fragment,null,e&&Object(g.jsx)(y.FormattedMessage,{id:"visualizations.newChart.conditionalMessage.newLibrary",defaultMessage:"Switch to the {type} library in {link}",values:{link:Object(g.jsx)(S.EuiLink,{href:t},Object(g.jsx)(y.FormattedMessage,{id:"visualizations.newChart.conditionalMessage.advancedSettingsLink",defaultMessage:"Advanced Settings."})),type:"old"===a?k.i18n.translate("visualizations.newChart.libraryMode.old",{defaultMessage:"old"}):k.i18n.translate("visualizations.newChart.libraryMode.new",{defaultMessage:"new"})}})),Dt=({canEditAdvancedSettings:e})=>Object(g.jsx)(i.a.Fragment,null,!e&&Object(g.jsx)(y.FormattedMessage,{id:"visualizations.legacyCharts.conditionalMessage.noPermissions",defaultMessage:"Contact your system administrator to switch to the old library."})),Ft={[_t.gauge]:e=>Object(g.jsx)(y.FormattedMessage,{id:"visualizations.newGaugeChart.notificationMessage",defaultMessage:"The new gauge charts library does not yet support split chart aggregation. {conditionalMessage}",values:{conditionalMessage:Object(g.jsx)(i.a.Fragment,null,Object(g.jsx)(Nt,e),Object(g.jsx)(Dt,e))}}),[At.pie]:e=>Object(g.jsx)(y.FormattedMessage,{id:"visualizations.oldPieChart.notificationMessage",defaultMessage:"You are using the legacy charts library, which will be removed in a future version. {conditionalMessage}",values:{conditionalMessage:Object(g.jsx)(i.a.Fragment,null,Object(g.jsx)(Nt,e),Object(g.jsx)(Dt,e))}}),[At.controls]:e=>Object(g.jsx)(y.FormattedMessage,{id:"visualizations.controls.notificationMessage",defaultMessage:"Input controls are deprecated and will be removed in a future release. Use the new Controls to filter and interact with your dashboard data. "})},zt=({chartType:e,chartConfigToken:t,mode:a})=>{const{services:n}=Object(O.useKibana)(),i=n.application.capabilities.advancedSettings.save,s=n.application.getUrlForApp("management",{path:`/kibana/settings?query=${t}`}),o=Ft[e];return Object(g.jsx)(S.EuiCallOut,{"data-test-subj":"vizChartWarning",title:Object(g.jsx)(o,{advancedSettingsLink:s,canEditAdvancedSettings:i,mode:a}),iconType:"warning",color:"warning",size:"s"})},Vt=({visInstance:e,appState:t,currentAppState:a,isChromeVisible:i,hasUnsavedChanges:s,setHasUnsavedChanges:o,hasUnappliedChanges:r,isEmbeddableRendered:l,onAppLeave:c,originatingApp:u,originatingPath:d,setOriginatingApp:p,visualizationIdFromUrl:b,embeddableId:v,visEditorRef:f,eventEmitter:m})=>{var h,j,x,w,C,E,T,M,P,L,_,A,I;const{services:N}=Object(O.useKibana)();Object(n.useEffect)((()=>{!async function(){const t=null==e?void 0:e.savedVis.sharingSavedObjectProps;if(N.spaces&&"aliasMatch"===(null==t?void 0:t.outcome)){var a;const n=null==t?void 0:t.aliasTargetId,i=`${Object(ht.urlFor)(n)}${N.history.location.search}`;await N.spaces.ui.redirectLegacyUrl({path:i,aliasPurpose:t.aliasPurpose,objectNoun:k.i18n.translate("visualizations.legacyUrlConflict.objectNoun",{defaultMessage:"{visName} visualization",values:{visName:null==e||null===(a=e.vis)||void 0===a?void 0:a.type.title}})})}}()}),[null==e?void 0:e.savedVis.sharingSavedObjectProps,null==e||null===(h=e.vis)||void 0===h?void 0:h.type.title,N]);const D=Object(n.useCallback)((()=>{const t=null==e?void 0:e.savedVis.id,a=null==e?void 0:e.savedVis.sharingSavedObjectProps;if(N.spaces&&"conflict"===(null==a?void 0:a.outcome)&&t){var n;const i=null==a?void 0:a.aliasTargetId,s=`${Object(ht.urlFor)(i)}${N.history.location.search}`;return N.spaces.ui.components.getLegacyUrlConflict({objectNoun:k.i18n.translate("visualizations.legacyUrlConflict.objectNoun",{defaultMessage:"{visName} visualization",values:{visName:null==e||null===(n=e.vis)||void 0===n?void 0:n.type.title}}),currentObjectId:t,otherObjectId:i,otherObjectPath:s})}return null}),[null==e?void 0:e.savedVis,N,null==e||null===(j=e.vis)||void 0===j?void 0:j.type.title]),F=null==e?void 0:e.vis.type.name,z=(V=F,B=null==e||null===(x=e.vis)||void 0===x||null===(w=x.data)||void 0===w?void 0:w.aggs,(null!==(U={[_t.gauge]:()=>null==B?void 0:B.aggs.some((e=>"group"===e.schema))}[V])&&void 0!==U?U:()=>null==B?void 0:B.aggs.some((e=>"split"===e.schema)))());var V,B,U;const R=Object.values(_t),H=!!F&&R.includes(F),$=Object.values(At),G=!!F&&$.includes(F),q=F&&(H||G)?It[F]:void 0,Q=!q||Object(mt.p)().get(q);return Object(g.jsx)("div",{className:`app-container visEditor visEditor--${null==e?void 0:e.vis.type.name}`},e&&t&&a&&Object(g.jsx)(Mt,{currentAppState:a,hasUnsavedChanges:s,setHasUnsavedChanges:o,isChromeVisible:i,isEmbeddableRendered:l,hasUnappliedChanges:r,originatingApp:u,originatingPath:d,setOriginatingApp:p,visInstance:e,stateContainer:t,visualizationIdFromUrl:b,embeddableId:v,onAppLeave:c,eventEmitter:m}),"experimental"===(null==e||null===(C=e.vis)||void 0===C||null===(E=C.type)||void 0===E?void 0:E.stage)&&!(null!=e&&null!==(T=e.vis)&&void 0!==T&&null!==(M=T.type)&&void 0!==M&&M.isDeprecated)&&Object(g.jsx)(Lt,null),!Q&&z&&H&&q&&F&&Object(g.jsx)(zt,{chartType:F,chartConfigToken:q}),(Q&&G&&q&&F||(null==e||null===(P=e.vis)||void 0===P||null===(L=P.type)||void 0===L?void 0:L.isDeprecated))&&Object(g.jsx)(zt,{chartType:F,chartConfigToken:null!=q?q:void 0,mode:"new"}),null==e||null===(_=e.vis)||void 0===_||null===(A=_.type)||void 0===A||null===(I=A.getInfoMessage)||void 0===I?void 0:I.call(A,e.vis),D(),e&&Object(g.jsx)(S.EuiScreenReaderOnly,null,Object(g.jsx)("h1",null,"savedVis"in e&&e.savedVis.id?Object(g.jsx)(y.FormattedMessage,{id:"visualizations.pageHeading",defaultMessage:"{chartName} {chartType} visualization",values:{chartName:e.savedVis.title,chartType:e.vis.type.title}}):Object(g.jsx)(y.FormattedMessage,{id:"visualizations.byValue_pageHeading",defaultMessage:"Visualization of type {chartType} embedded into {originatingApp} app",values:{chartType:e.vis.type.title,originatingApp:u||"dashboards"}}))),Object(g.jsx)("div",{className:i?"visEditor__content":"visualize",ref:f}))},Bt=({onAppLeave:e})=>{const{id:t}=Object(c.useParams)(),[a,i]=Object(n.useState)(),[s,o]=Object(n.useState)(),[r,l]=Object(n.useState)(),[u,d]=Object(n.useState)(),{services:p}=Object(O.useKibana)(),[b]=Object(n.useState)(new Ct.EventEmitter),[v,f]=Object(n.useState)(!t),m=Object(xt.g)(p.chrome);Object(n.useEffect)((()=>{const{stateTransferService:e,data:t}=p,{originatingApp:a,searchSessionId:n,embeddableId:s,originatingPath:r,valueInput:c}=e.getIncomingEditorState(jt.VisualizeConstants.APP_ID)||{};n?t.search.session.continue(n):t.search.session.start(),d(c),l(s),i(a),o(r)}),[p]);const{savedVisInstance:h,visEditorRef:j,visEditorController:x}=Object(xt.k)(p,b,m,a,t,u),y=(null==h?void 0:h.vis.type.title.toLowerCase().replace(" ","_"))||"";Object(O.useExecutionContext)(p.executionContext,{type:"application",page:"editor"+(y?`:${y}`:""),id:t||"new"});const{appState:w,hasUnappliedChanges:C}=Object(xt.m)(p,b,h),{isEmbeddableRendered:S,currentAppState:k}=Object(xt.i)(p,b,f,w,h,x);return Object(xt.j)(p,b,w,h),Object(xt.h)(p,b,w,h),Object(n.useEffect)((()=>()=>{b.removeAllListeners()}),[b,p]),Object(g.jsx)(Vt,{visInstance:h,appState:w,currentAppState:k,isChromeVisible:m,hasUnsavedChanges:v,hasUnappliedChanges:C,isEmbeddableRendered:S,originatingApp:a,setOriginatingApp:i,originatingPath:s,visualizationIdFromUrl:t,setHasUnsavedChanges:f,visEditorRef:j,onAppLeave:e,embeddableId:r,eventEmitter:b})};let Ut;const Rt=()=>{const{services:e}=Object(O.useKibana)();return Object(n.useEffect)((()=>{e.restorePreviousUrl();const{navigated:t}=e.urlForwarding.navigateToLegacyKibanaUrl(e.history.location.pathname+e.history.location.search);if(!t){const t=k.i18n.translate("visualizations.noMatchRoute.bannerTitleText",{defaultMessage:"Page not found"});Ut=e.overlays.banners.replace(Ut,Object(O.toMountPoint)(Object(g.jsx)(O.KibanaThemeProvider,{theme$:e.theme.theme$},Object(g.jsx)(S.EuiCallOut,{color:"warning",iconType:"iInCircle",title:t},Object(g.jsx)("p",null,Object(g.jsx)(y.FormattedMessage,{id:"visualizations.noMatchRoute.bannerText",defaultMessage:"Visualize application doesn't recognize this route: {route}.",values:{route:Object(g.jsx)(S.EuiLink,{href:window.location.href},e.history.location.pathname)}})))))),setTimeout((()=>{e.overlays.banners.remove(Ut)}),15e3),e.history.replace(jt.VisualizeConstants.LANDING_PAGE_PATH)}}),[e]),null},Ht=({onAppLeave:e})=>{const[t,a]=Object(n.useState)(),[i,s]=Object(n.useState)(),{services:o}=Object(O.useKibana)(),[r]=Object(n.useState)(new Ct.EventEmitter),[l,c]=Object(n.useState)(!1),[u,d]=Object(n.useState)(),[p,b]=Object(n.useState)();Object(n.useEffect)((()=>{const{stateTransferService:e,history:t,data:n}=o,{originatingApp:i,embeddableId:r,valueInput:l,searchSessionId:c,originatingPath:u}=e.getIncomingEditorState(jt.VisualizeConstants.APP_ID)||{};s(u),a(i),b(l),d(r),l||t.replace(jt.VisualizeConstants.LANDING_PAGE_PATH),c?n.search.session.continue(c):n.search.session.start()}),[o]);const v=Object(xt.g)(o.chrome),{byValueVisInstance:f,visEditorRef:m,visEditorController:h}=Object(xt.l)(o,r,v,p,t,i),{appState:j,hasUnappliedChanges:x}=Object(xt.m)(o,r,f),{isEmbeddableRendered:y,currentAppState:w}=Object(xt.i)(o,r,c,j,f,h);return Object(xt.j)(o,r,j,f),Object(xt.h)(o,r,j,f),Object(n.useEffect)((()=>()=>{r.removeAllListeners()}),[r]),Object(g.jsx)(Vt,{visInstance:f,appState:j,currentAppState:w,isChromeVisible:v,hasUnsavedChanges:l,hasUnappliedChanges:x,isEmbeddableRendered:y,originatingApp:t,setOriginatingApp:a,originatingPath:i,setHasUnsavedChanges:c,visEditorRef:m,embeddableId:u,onAppLeave:e,eventEmitter:r})},$t=({core:e,dataViews:t,dataViewEditor:a,onDataViewCreated:n,noDataPage:i})=>{const s={coreStart:e,dataViews:t,dataViewEditor:a,noDataPage:i};return Object(g.jsx)(et,s,Object(g.jsx)(st,{onDataViewCreated:n}))},Gt=({onAppLeave:e})=>{const{services:{data:{query:t,dataViews:a},core:i,kbnUrlStateStorage:s,dataViewEditor:o,noDataPage:r}}=Object(O.useKibana)(),{pathname:l}=Object(c.useLocation)(),[u,d]=Object(n.useState)(!1),[p,b]=Object(n.useState)(!0),f=Object(n.useCallback)((e=>{e&&d(!1)}),[]);return Object(n.useEffect)((()=>{const{stop:e}=Object(Be.syncGlobalQueryStateWithUrl)(t,s);return()=>e()}),[t,s,l]),Object(n.useEffect)((()=>{(async()=>{if(await a.hasData.hasUserDataView().catch((()=>!1)))return await a.defaultDataViewExists()||d(!0),void b(!1);d(!0),b(!1)})()}),[a]),p?Object(g.jsx)("div",{className:"visAppLoadingWrapper"},Object(g.jsx)(S.EuiLoadingSpinner,{size:"xl"})):u?Object(g.jsx)($t,{core:i,dataViewEditor:o,dataViews:a,onDataViewCreated:f,noDataPage:r}):Object(g.jsx)(x,null,Object(g.jsx)(v,{exact:!0,path:`${jt.VisualizeConstants.EDIT_BY_VALUE_PATH}`},Object(g.jsx)(Ht,{onAppLeave:e})),Object(g.jsx)(v,{path:[jt.VisualizeConstants.CREATE_PATH,`${jt.VisualizeConstants.EDIT_PATH}/:id`]},Object(g.jsx)(Bt,{onAppLeave:e})),Object(g.jsx)(v,{exact:!0,path:[jt.VisualizeConstants.LANDING_PAGE_PATH,jt.VisualizeConstants.WIZARD_STEP_1_PAGE_PATH,jt.VisualizeConstants.LANDING_PAGE_PATH_WITH_TAB]},Object(g.jsx)(wt,null)),Object(g.jsx)(Rt,null))},qt=({element:e,onAppLeave:t},a)=>{Object(xt.b)(a.chrome,a.docLinks),a.visualizeCapabilities.save||Object(xt.a)(a.chrome);const n=Object(g.jsx)(O.KibanaThemeProvider,{theme$:a.theme.theme$},Object(g.jsx)(h,{history:a.history},Object(g.jsx)(O.KibanaContextProvider,{services:a},Object(g.jsx)(a.presentationUtil.ContextProvider,null,Object(g.jsx)(a.i18n.Context,null,Object(g.jsx)(ue,{core:a.core,toMountPoint:O.toMountPoint,savedObjectsTagging:a.savedObjectsTagging,FormattedRelative:y.FormattedRelative},Object(g.jsx)(Gt,{onAppLeave:t})))))));return o.a.render(n,e),()=>o.a.unmountComponentAtNode(e)}}])]);