(window.embeddable_bundle_jsonpfunction=window.embeddable_bundle_jsonpfunction||[]).push([[1],{77:function(e,t,a){"use strict";a.r(t),a.d(t,"AddPanelFlyout",(function(){return j}));var d=a(2),s=a.n(d),n=a(5),i=a(75),l=a(4),o=a(76),c=a(12),b=a(3),u=a(0);let r;const j=({container:e,onAddPanel:t})=>{const a=Object(d.useMemo)((()=>[...c.c.getEmbeddableFactories()].filter((e=>{var t;return Boolean(null===(t=e.savedObjectMetaData)||void 0===t?void 0:t.type)})).reduce(((e,t)=>(e[t.savedObjectMetaData.type]=t,e)),{})),[]),j=Object(d.useMemo)((()=>Object.values(a).filter((e=>Boolean(e.savedObjectMetaData)&&!e.isContainerType)).map((({savedObjectMetaData:e})=>e))),[a]),v=Object(d.useCallback)((async(d,s,l,o)=>{const u=a[s];if(!u)throw new b.f(s);const j=await e.addNewEmbeddable(u.type,{savedObjectId:d},o.attributes);null==t||t(j.id),(e=>{r&&c.b.notifications.toasts.remove(r),r=c.b.notifications.toasts.addSuccess({title:n.i18n.translate("embeddableApi.addPanel.savedObjectAddedToContainerSuccessMessageTitle",{defaultMessage:"{savedObjectName} was added",values:{savedObjectName:e}}),"data-test-subj":"addObjectToContainerSuccess"})})(l),((e,t,a)=>{var d,s;const n=null!==(d=t.savedObjectMetaData)&&void 0!==d&&d.getSavedObjectSubType?t.savedObjectMetaData.getSavedObjectSubType(a):t.type;null===c.i||void 0===c.i||null===(s=c.i.reportUiCounter)||void 0===s||s.call(c.i,e,i.METRIC_TYPE.CLICK,`${n}:add`)})(e.type,u,o)}),[e,a,t]);return Object(u.jsx)(s.a.Fragment,null,Object(u.jsx)(l.EuiFlyoutHeader,{hasBorder:!0},Object(u.jsx)(l.EuiTitle,{size:"m"},Object(u.jsx)("h2",null,n.i18n.translate("embeddableApi.addPanel.Title",{defaultMessage:"Add from library"})))),Object(u.jsx)(l.EuiFlyoutBody,null,Object(u.jsx)(o.SavedObjectFinder,{services:{contentClient:c.a.client,savedObjectsTagging:null===c.e||void 0===c.e?void 0:c.e.getTaggingApi(),uiSettings:c.b.uiSettings},onChoose:v,savedObjectMetaData:j,showFilter:!0,noItemsMessage:n.i18n.translate("embeddableApi.addPanel.noMatchingObjectsMessage",{defaultMessage:"No matching objects found."})})))}}}]);