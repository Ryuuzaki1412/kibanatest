/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.aiops_bundle_jsonpfunction=window.aiops_bundle_jsonpfunction||[]).push([[4],{42:function(e,t,n){"use strict";n.d(t,"d",(function(){return j})),n.d(t,"b",(function(){return O})),n.d(t,"a",(function(){return y})),n.d(t,"c",(function(){return v}));var i=n(1),r=n(4),a=n(44),s=n(43),o=n(51),l=n(61),u=n(45),c=n(46),d=n(39),b=n(41),g=n(78),p=n(0);const f=Object(i.createContext)({splitFieldsOptions:[],metricFieldOptions:[],requestParams:{},timeBuckets:{},bucketInterval:{},updateRequestParams:()=>{},resultFilters:[],updateFilters:()=>{},resultQuery:{query:"",language:"kuery"},combinedQuery:{},selectedChangePoints:{},setSelectedChangePoints:()=>{}}),m=Object(i.createContext)({splitFieldsOptions:[],metricFieldOptions:[]}),j=()=>Object(i.useContext)(m),O=({children:e})=>{const{dataView:t}=Object(b.c)(),n={metricFieldOptions:Object(i.useMemo)((()=>t.fields.filter((({aggregatable:e,type:t})=>e&&"number"===t))),[t]),splitFieldsOptions:Object(i.useMemo)((()=>t.fields.filter((({aggregatable:e,esTypes:t,displayName:n})=>e&&t&&t.some((e=>[o.a.KEYWORD,o.a.IP].includes(e)))&&!["_id","_index"].includes(n)))),[t])};return Object(p.jsx)(m.Provider,{value:n},e)},y=({children:e})=>{const{dataView:t,savedSearch:n}=Object(b.c)(),{uiSettings:m,data:{query:{filterManager:j}}}=Object(d.b)(),O=Object(i.useMemo)((()=>Object(c.b)({dataView:t,uiSettings:m,savedSearch:n,filterManager:j})),[t,n,m,j]),y=Object(s.g)(),v=Object(g.a)(),[h,F]=Object(i.useState)([]),[x,_]=Object(i.useState)({}),[E,C]=Object(i.useState)(),R=Object(s.f)(!0);Object(i.useEffect)((function(){const e=y.getTimeUpdate$().pipe(Object(r.startWith)(y.getTime())).subscribe((()=>{const e=y.getActiveBounds();if(!e)throw new Error("Time bound not available");v.setInterval("auto"),v.setBounds(e),C(v.getInterval())}));return()=>{e.unsubscribe()}}),[]);const S=Object(i.useMemo)((()=>t.fields.filter((({aggregatable:e,type:t})=>e&&"number"===t))),[t]),T=Object(i.useMemo)((()=>t.fields.filter((({aggregatable:e,esTypes:t,displayName:n})=>e&&t&&t.some((e=>[o.a.KEYWORD,o.a.IP].includes(e)))&&!["_id","_index"].includes(n)))),[t]),[w,P]=Object(a.b)("changePoint"),I=Object(i.useMemo)((()=>{var e,t,n;return null!==(e=w.query)&&void 0!==e?e:{query:null!==(t=null==O?void 0:O.searchString)&&void 0!==t?t:"",language:null!==(n=null==O?void 0:O.queryLanguage)&&void 0!==n?n:"kuery"}}),[O,w.query]),q=Object(i.useMemo)((()=>{const e={...w};var t;return e.fieldConfigs||(e.fieldConfigs=[{fn:u.d,metricField:null===(t=S[0])||void 0===t?void 0:t.name}]),e.interval=null==E?void 0:E.expression,e}),[w,S,E]),k=Object(i.useCallback)((e=>{j.setFilters(e)}),[j]);Object(i.useEffect)((()=>{F(j.getFilters());const e=j.getUpdates$().subscribe((()=>{F(j.getFilters())}));return()=>{e.unsubscribe()}}),[]),Object(i.useEffect)((function(){const e=null==j?void 0:j.getGlobalFilters();w.filters&&j.setFilters(w.filters),e&&(null==j||j.addFilters(e))}),[w.filters,j]);const M=Object(i.useMemo)((()=>{var e;const n=Object(c.a)(I,h,t,m);return Array.isArray(null===(e=n.bool)||void 0===e?void 0:e.filter)||(n.bool||(n.bool={}),n.bool.filter=[]),n.bool.filter.push({range:{[t.timeFieldName]:{from:R.from,to:R.to}}}),n}),[h,I,m,t,R]);if(!E)return null;const A={timeBuckets:v,requestParams:q,updateRequestParams:P,metricFieldOptions:S,splitFieldsOptions:T,bucketInterval:E,resultFilters:h,updateFilters:k,resultQuery:I,combinedQuery:M,selectedChangePoints:x,setSelectedChangePoints:_};return Object(p.jsx)(f.Provider,{value:A},Object(p.jsx)(l.a,null,e))};function v(){return Object(i.useContext)(f)}},45:function(e,t,n){"use strict";n.d(t,"h",(function(){return i})),n.d(t,"d",(function(){return r})),n.d(t,"g",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return u})),n.d(t,"a",(function(){return c}));const i={avg:"average",max:"max",min:"min",sum:"sum"},r="avg",a=1e4,s=500,o={DIP:"dip",SPIKE:"spike",DISTRIBUTION_CHANGE:"distribution_change",STEP_CHANGE:"step_change",TREND_CHANGE:"trend_change",STATIONARY:"stationary",NON_STATIONARY:"non_stationary",INDETERMINABLE:"indeterminable"},l=new Set([o.STATIONARY,o.NON_STATIONARY,o.INDETERMINABLE]),u=6,c={RUN:"ran_aiops_change_point_detection",SUCCESS:"aiops_change_point_detection_success",ERROR:"aiops_change_point_detection_error"}},46:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var i=n(12),r=n(15),a=n(19),s=n(16),o=(n(40),n(47));function l(e,t,n,i){let l=Object(o.d)();if(Object(a.isQuery)(e)&&e.language===o.a.KUERY){const i=Object(s.fromKueryExpression)(e.query);if(""!==e.query&&(l=Object(s.toElasticsearchQuery)(i,n)),void 0!==l.bool){const e=Object(s.buildQueryFromFilters)(t,n);Array.isArray(l.bool.filter)||(l.bool.filter=void 0===l.bool.filter?[]:[l.bool.filter]),Array.isArray(l.bool.must_not)||(l.bool.must_not=void 0===l.bool.must_not?[]:[l.bool.must_not]),l.bool.filter=[...l.bool.filter,...e.filter],l.bool.must_not=[...l.bool.must_not,...e.must_not]}}else l=Object(s.buildEsQuery)(n,e?[e]:[],t||[],i?Object(r.getEsQueryConfig)(i):void 0);return l}function u({dataView:e,uiSettings:t,savedSearch:n,query:s,filters:u,filterManager:c}){if(!e||!n)return;const d=s,b=u,g=function(e){return e&&"searchSource"in e&&(null==e?void 0:e.searchSource)instanceof r.SearchSource?e.searchSource:void 0}(n);if(g&&void 0!==g.getParent()&&d){var p,f,m;const e=null!==(p=Object(i.cloneDeep)(null===(f=n.searchSource.getSearchRequestBody())||void 0===f?void 0:f.query))&&void 0!==p?p:Object(o.d)(),t=null===(m=n.searchSource.getField("index"))||void 0===m?void 0:m.timeFieldName;return Array.isArray(e.bool.filter)&&void 0!==t&&(e.bool.filter=e.bool.filter.filter((e=>{var n;return!(e.hasOwnProperty("range")&&null!==(n=e.range)&&void 0!==n&&n.hasOwnProperty(t))}))),{searchQuery:e,searchString:d.query,queryLanguage:d.language}}if(!n&&d)return c&&b&&c.addFilters(b),{searchQuery:l(d,Array.isArray(b)?b:[],e,t),searchString:d.query,queryLanguage:d.language};if(g){const n=null==c?void 0:c.getGlobalFilters(),i=null!=d?d:g.getField("query"),r=null!=b?b:Object(a.mapAndFlattenFilters)(g.getField("filter"));return c&&c.setFilters(r),n&&(null==c||c.addFilters(n)),{searchQuery:l(i,c?null==c?void 0:c.getFilters():r,e,t),searchString:i.query,queryLanguage:i.language}}}},61:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var i=n(1),r=n(43),a=n(39),s=n(0);const o=Object(i.createContext)({get filters(){throw new Error("FilterQueryContext is not initialized")},get query(){throw new Error("FilterQueryContext is not initialized")},get timeRange(){throw new Error("FilterQueryContext is not initialized")}}),l=({children:e,timeRange:t})=>{const{data:{query:{filterManager:n,queryString:l}}}=Object(a.b)(),[u,c]=Object(i.useState)(n.getFilters()),[d,b]=Object(i.useState)(l.getQuery()),g=Object(r.f)(!1);return Object(i.useEffect)((()=>{const e=n.getUpdates$().subscribe((()=>{c(n.getFilters())}));return()=>{e.unsubscribe()}}),[n]),Object(i.useEffect)((()=>{const e=l.getUpdates$().subscribe((()=>{b(l.getQuery())}));return()=>{e.unsubscribe()}}),[l]),Object(s.jsx)(o.Provider,{value:{filters:u,query:d,timeRange:null!=t?t:g}},e)},u=()=>Object(i.useContext)(o)},62:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(1),r=n(15),a=n(18),s=n(39);function o(){const{data:e}=Object(s.b)(),t=Object(i.useRef)(new AbortController),[n,o]=Object(i.useState)(!1);return{runRequest:Object(i.useCallback)((n=>new Promise(((i,s)=>{e.search.search(n,{abortSignal:t.current.signal}).pipe(Object(a.tap)((()=>{o(!0)}))).subscribe({next:e=>{Object(r.isRunningResponse)(e)||(o(!1),i(e))},error:e=>{if("AbortError"===e.name)return i(null);o(!1),s(e)}})}))),[e.search]),cancelRequest:Object(i.useCallback)((()=>{t.current.abort(),t.current=new AbortController}),[]),isLoading:n}}},80:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return c}));var i=n(1),r=n.n(i),a=n(59),s=n.n(a),o=n(0);const l=r.a.createContext({refreshTimestamp:Date.now()}),u=({reload$:e,children:t})=>{const n=s()(e,Date.now());return Object(o.jsx)(l.Provider,{value:{refreshTimestamp:n}},t)},c=()=>Object(i.useContext)(l)},88:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var i=n(1),r=n(11),a=n(57),s=n(31),o=n(80),l=n(39),u=n(42),c=n(41),d=n(62),b=n(45);function g(e,t,n,g){const{notifications:{toasts:p},usageCollection:f,embeddingOrigin:m}=Object(l.b)(),{dataView:j}=Object(c.c)(),{splitFieldsOptions:O,metricFieldOptions:y}=Object(u.d)(),{refreshTimestamp:v}=Object(o.b)(),[h,F]=Object(i.useState)([]),[x,_]=Object(i.useState)(null),E=!Object(a.a)(e.splitField),C=Object(i.useMemo)((()=>Math.ceil(Math.min(null!=g?g:0,b.g)/b.c)),[g]),{runRequest:R,cancelRequest:S}=Object(d.a)(),T=Object(i.useCallback)((()=>{S(),F([])}),[S]),w=Object(i.useCallback)((async(i=1,o)=>{try{var l,u,c,d,g,v;if(!E&&!C)return void _(null);const r=y.find((t=>t.name===e.metricField)),p=O.find((t=>t.name===e.splitField)),h={...null!=r&&r.isRuntimeField?{[r.name]:r.runtimeField}:{},...null!=p&&p.isRuntimeField?{[p.name]:p.runtimeField}:{}},x=function({index:e,fn:t,metricField:n,splitField:i,timeInterval:r,timeField:s,afterKey:o},l,u){const c={over_time:{date_histogram:{field:s,fixed_interval:r},aggs:{function_value:{[t]:{field:n}}}},change_point_request:{change_point:{buckets_path:"over_time>function_value"}},...Object(a.a)(i)?{select:{bucket_selector:{buckets_path:{p_value:"change_point_request.p_value"},script:"params.p_value < 1"}},sort:{bucket_sort:{sort:[{"change_point_request.p_value":{order:"asc"}}]}}}:{}};return{index:e,size:0,body:{...l?{query:l}:{},...u?{runtime_mappings:u}:{},aggregations:i?{groupings:{composite:{size:b.c,...void 0!==o?{after:{splitFieldTerm:o}}:{},sources:[{splitFieldTerm:{terms:{field:i}}}]},aggregations:c}}:c}}}({index:j.getIndexPattern(),fn:e.fn,timeInterval:t.interval,metricField:e.metricField,timeField:j.timeFieldName,splitField:e.splitField,afterKey:o},n,h);null!=f&&f.reportUiCounter&&m&&f.reportUiCounter(m,s.METRIC_TYPE.COUNT,b.a.RUN);const S=await R({params:x});if(null!=f&&f.reportUiCounter&&m&&f.reportUiCounter(m,s.METRIC_TYPE.COUNT,b.a.SUCCESS),null===S)return void _(null);const T=!(Object(a.a)(null===(l=S.rawResponse.aggregations)||void 0===l||null===(u=l.groupings)||void 0===u||null===(c=u.after_key)||void 0===c?void 0:c.splitFieldTerm)&&i<C),P=E?[S.rawResponse.aggregations]:S.rawResponse.aggregations.groupings.buckets;_(T?null:Math.min(Math.round(i/C*100),100));let I=P.map((t=>{var n,i;const r=Object.keys(t.change_point_request.type)[0],a=null===(n=t.change_point_request.bucket)||void 0===n?void 0:n.key,s=t.change_point_request.type[r].p_value;return{...E?{}:{group:{name:e.splitField,value:t.key.splitFieldTerm}},type:r,p_value:s,timestamp:a,label:r,reason:t.change_point_request.type[r].reason,id:E?"single_metric":`${e.splitField}_${null===(i=t.key)||void 0===i?void 0:i.splitFieldTerm}`}})).filter((e=>!b.e.has(e.type)));Array.isArray(t.changePointType)&&(I=I.filter((e=>t.changePointType.includes(e.type)))),F((e=>(null!=e?e:[]).concat(I))),!T&&Object(a.a)(null===(d=S.rawResponse.aggregations)||void 0===d||null===(g=d.groupings)||void 0===g||null===(v=g.after_key)||void 0===v?void 0:v.splitFieldTerm)&&await w(i+1,S.rawResponse.aggregations.groupings.after_key.splitFieldTerm)}catch(e){null!=f&&f.reportUiCounter&&m&&f.reportUiCounter(m,s.METRIC_TYPE.COUNT,b.a.ERROR),p.addError(e,{title:r.i18n.translate("xpack.aiops.changePointDetection.fetchErrorTitle",{defaultMessage:"Failed to fetch change points"})})}}),[m,E,C,j,e.fn,e.metricField,e.splitField,t.interval,t.changePointType,n,y,O,R,p,f]);return Object(i.useEffect)((function(){if(_(0),T(),!e.splitField||null!==g)return w(),()=>{S()}}),[t.interval,t.changePointType,e.fn,e.metricField,e.splitField,n,g,w,T,S,v]),{results:h,isLoading:null!==x,reset:T,progress:x}}},89:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n(14),r=n.n(i),a=n(16),s=n(15),o=n(1),l=n(61),u=n(45),c=n(41);const d=({annotation:e,fieldConfig:t,previewMode:n=!1,bucketInterval:i})=>{var d;const{dataView:b}=Object(c.c)(),{filters:g,query:p,timeRange:f}=Object(l.b)(),m=Object(o.useMemo)((()=>{const t=Object(s.getAbsoluteTimeRange)(f);return{from:r.a.min(r()(t.from),r()(e.timestamp)).toISOString(),to:r.a.max(r()(t.to),r()(e.timestamp)).toISOString()}}),[f,e.timestamp]),j=Object(o.useMemo)((()=>[...g,...e.group?[{meta:{index:b.id,alias:null,negate:!1,disabled:!1,type:"phrase",key:e.group.name,params:{query:e.group.value}},query:{match_phrase:{[e.group.name]:e.group.value}},$state:{store:a.FilterStateStore.APP_STATE}}]:[]]),[b.id,e.group,g]),O=!n,y=Object(o.useMemo)((()=>{var n,r;return{title:null!==(n=null===(r=e.group)||void 0===r?void 0:r.value)&&void 0!==n?n:"",description:"",visualizationType:"lnsXY",type:"lens",references:[{type:"index-pattern",id:b.id,name:"indexpattern-datasource-layer-2d61a885-abb0-4d4e-a5f9-c488caec3c22"},{type:"index-pattern",id:b.id,name:"xy-visualization-layer-8d26ab67-b841-4877-9d02-55bf270f9caf"}],state:{visualization:{hideEndzones:!0,yLeftExtent:{mode:"dataBounds"},legend:{isVisible:!1},valueLabels:"hide",fittingFunction:"None",axisTitlesVisibilitySettings:{x:O,yLeft:O,yRight:O},tickLabelsVisibilitySettings:{x:O,yLeft:O,yRight:O},labelsOrientation:{x:0,yLeft:0,yRight:0},gridlinesVisibilitySettings:{x:O,yLeft:O,yRight:O},preferredSeriesType:"line",layers:[{layerId:"2d61a885-abb0-4d4e-a5f9-c488caec3c22",accessors:["e9f26d17-fb36-4982-8539-03f1849cbed0"],position:"top",seriesType:"line",showGridlines:!1,layerType:"data",xAccessor:"877e6638-bfaa-43ec-afb9-2241dc8e1c86"},{layerId:"8d26ab67-b841-4877-9d02-55bf270f9caf",layerType:"annotations",annotations:[{type:"manual",icon:"triangle",textVisibility:O,label:e.label,key:{type:"point_in_time",timestamp:e.timestamp},id:"a8fb297c-8d96-4011-93c0-45af110d5302",isHidden:!1,color:"#F04E98",lineStyle:"solid",lineWidth:1,outside:!1}],ignoreGlobalFilters:!1}]},query:p,filters:j,datasourceStates:{formBased:{layers:{"2d61a885-abb0-4d4e-a5f9-c488caec3c22":{columns:{"877e6638-bfaa-43ec-afb9-2241dc8e1c86":{label:b.timeFieldName,dataType:"date",operationType:"date_histogram",sourceField:b.timeFieldName,isBucketed:!0,scale:"interval",params:{interval:i,includeEmptyRows:!0,dropPartials:!1}},"e9f26d17-fb36-4982-8539-03f1849cbed0":{label:`${t.fn}(${t.metricField})`,dataType:"number",operationType:u.h[t.fn],sourceField:t.metricField,isBucketed:!1,scale:"ratio",params:{emptyAsNull:!0}}},columnOrder:["877e6638-bfaa-43ec-afb9-2241dc8e1c86","e9f26d17-fb36-4982-8539-03f1849cbed0"],incompleteColumns:{}}}},textBased:{layers:{}}}}}}),[null===(d=e.group)||void 0===d?void 0:d.value,e.timestamp,e.label,b.id,b.timeFieldName,p,j,i,t.fn,t.metricField,O]);return{timeRange:m,filters:j,query:p,attributes:y}}},90:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n(1);var i=n(13),r=n(2),a=n(0);const s=e=>{var t;return null===(t=e.onRenderComplete)||void 0===t||t.call(e),Object(a.jsx)(r.EuiEmptyPrompt,{iconType:"search",title:Object(a.jsx)("h2",null,Object(a.jsx)(i.FormattedMessage,{id:"xpack.aiops.changePointDetection.noChangePointsFoundTitle",defaultMessage:"No change points found"})),body:Object(a.jsx)("p",null,Object(a.jsx)(i.FormattedMessage,{id:"xpack.aiops.changePointDetection.noChangePointsFoundMessage",defaultMessage:"Detect statistically significant change points such as dips, spikes, and distribution changes in a metric. Select a metric and set a time range to start detecting change points in your data."}))})}},95:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return m}));var i=n(1),r=n.n(i),a=n(2),s=n(11),o=n(13),l=n(43),u=n(42),c=n(89),d=n(39),b=n(0);const g=r.a.memo((({annotation:e,fieldConfig:t,interval:n,onLoading:r,onRenderComplete:a})=>{const{lens:{EmbeddableComponent:s}}=Object(d.b)(),o=Object(i.useRef)(null),l=Object(i.useCallback)((e=>{e.target!==o.current&&a&&a()}),[a]);Object(i.useEffect)((()=>{if(!o.current)throw new Error("Reference to the chart wrapper is not set");const e=o.current;return e.addEventListener("renderComplete",l),()=>{e.removeEventListener("renderComplete",l)}}),[l]);const{filters:u,timeRange:g,query:p,attributes:f}=Object(c.a)({fieldConfig:t,annotation:e,bucketInterval:n});return Object(b.jsx)("div",{ref:o},Object(b.jsx)(s,{id:`changePointChart_${e.group?e.group.value:e.label}`,style:{height:350},timeRange:g,query:p,filters:u,attributes:f,renderMode:"view",executionContext:{type:"aiops_change_point_detection_chart",name:"Change point detection"},disableTriggers:!0,onLoad:r}))}));var p={name:"1d3w5wq",styles:"width:100%"};const f=({changePoints:e,interval:t,onRenderComplete:n})=>{const r=Object(i.useRef)(Object.fromEntries(e.map(((e,t)=>[t,!0])))),l=Object(i.useCallback)(((e,t)=>{n&&(r.current[e]=t,Object.values(r.current).every((e=>!e))&&n())}),[n]);return Object(b.jsx)(a.EuiFlexGrid,{columns:e.length>=2?2:1,responsive:!0,gutterSize:"m",css:p},e.map(((e,n)=>{var i,r;const u=`${n}_${null!==(i=null===(r=e.group)||void 0===r?void 0:r.value)&&void 0!==i?i:"single_metric"}_${e.fn}_${e.metricField}_${e.timestamp}_${e.p_value}`;return Object(b.jsx)(a.EuiFlexItem,{key:u},Object(b.jsx)(a.EuiPanel,{paddingSize:"s",hasBorder:!0,hasShadow:!1},Object(b.jsx)(a.EuiFlexGroup,{alignItems:"center",justifyContent:"spaceBetween",gutterSize:"s"},Object(b.jsx)(a.EuiFlexItem,{grow:!1},e.group?Object(b.jsx)(a.EuiDescriptionList,{type:"inline",listItems:[{title:e.group.name,description:e.group.value}]}):null,e.reason?Object(b.jsx)(a.EuiToolTip,{position:"top",content:e.reason},Object(b.jsx)(a.EuiIcon,{tabIndex:0,color:"warning",type:"warning",title:s.i18n.translate("xpack.aiops.changePointDetection.notResultsWarning",{defaultMessage:"No change point agg results warning"})})):null),Object(b.jsx)(a.EuiFlexItem,{grow:!1},Object(b.jsx)(a.EuiText,{color:"subdued",size:"s"},e.fn,"(",e.metricField,")"))),Object(b.jsx)(a.EuiHorizontalRule,{margin:"xs"}),Object(b.jsx)(a.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},void 0!==e.p_value?Object(b.jsx)(a.EuiFlexItem,{grow:!1},Object(b.jsx)(a.EuiDescriptionList,{type:"inline",listItems:[{title:Object(b.jsx)(o.FormattedMessage,{id:"xpack.aiops.changePointDetection.pValueLabel",defaultMessage:"p-value"}),description:e.p_value.toPrecision(3)}]})):null,Object(b.jsx)(a.EuiFlexItem,{grow:!1},Object(b.jsx)(a.EuiBadge,{color:"hollow"},e.type))),Object(b.jsx)(g,{fieldConfig:{splitField:e.splitField,fn:e.fn,metricField:e.metricField},annotation:e,interval:t,onLoading:e=>{e&&l(n,!0)},onRenderComplete:()=>{l(n,!1)}})))})))},m=({changePoints:e})=>{const t=Object(l.g)(),n=Object(i.useRef)(),{bucketInterval:s}=Object(u.c)();Object(i.useEffect)((function(){return n.current=t.getRefreshInterval(),t.setRefreshInterval({...n.current,pause:!0}),()=>{n.current&&t.setRefreshInterval(n.current)}}),[t]);const o=Object(i.useMemo)((()=>Object.values(e).flat()),[e]),[c,d]=Object(i.useState)(0),g=Object(i.useMemo)((()=>{const e=6*c;return o.slice(e,e+6)}),[o,c]),p=Object(i.useMemo)((()=>{var e;return{activePage:c,pageCount:Math.ceil((null!==(e=o.length)&&void 0!==e?e:0)/6),updatePagination:d}}),[c,o.length]);return Object(b.jsx)(r.a.Fragment,null,Object(b.jsx)(f,{changePoints:g,interval:s.expression}),p.pageCount>1?Object(b.jsx)(a.EuiFlexGroup,{justifyContent:"spaceAround"},Object(b.jsx)(a.EuiFlexItem,{grow:!1},Object(b.jsx)(a.EuiPagination,{pageCount:p.pageCount,activePage:p.activePage,onPageClick:p.updatePagination}))):null)}}}]);