/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.aiops_bundle_jsonpfunction=window.aiops_bundle_jsonpfunction||[]).push([[0],{100:function(e,t,n){"use strict";const r=n(101),a=n(102),o=n(103);function s(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function i(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function c(e,t){return t.decode?a(e):e}function l(e){return Array.isArray(e)?e.sort():"object"==typeof e?l(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function u(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function d(e){const t=(e=u(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function f(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function b(e,t){s((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const n=function(e){let t;switch(e.arrayFormat){case"index":return(e,n,r)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return(e,n,r)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"comma":case"separator":return(t,n,r)=>{const a="string"==typeof n&&n.split("").indexOf(e.arrayFormatSeparator)>-1?n.split(e.arrayFormatSeparator).map((t=>c(t,e))):null===n?n:c(n,e);r[t]=a};default:return(e,t,n)=>{void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t),r=Object.create(null);if("string"!=typeof e)return r;if(!(e=e.trim().replace(/^[?#&]/,"")))return r;for(const a of e.split("&")){let[e,s]=o(t.decode?a.replace(/\+/g," "):a,"=");s=void 0===s?null:["comma","separator"].includes(t.arrayFormat)?s:c(s,t),n(c(e,t),s,r)}for(const e of Object.keys(r)){const n=r[e];if("object"==typeof n&&null!==n)for(const e of Object.keys(n))n[e]=f(n[e],t);else r[e]=f(n,t)}return!1===t.sort?r:(!0===t.sort?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce(((e,t)=>{const n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=l(n):e[t]=n,e}),Object.create(null))}t.extract=d,t.parse=b,t.stringify=(e,t)=>{if(!e)return"";s((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const n=n=>t.skipNull&&null==e[n]||t.skipEmptyString&&""===e[n],r=function(e){switch(e.arrayFormat){case"index":return t=>(n,r)=>{const a=n.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[i(t,e),"[",a,"]"].join("")]:[...n,[i(t,e),"[",i(a,e),"]=",i(r,e)].join("")]};case"bracket":return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[i(t,e),"[]"].join("")]:[...n,[i(t,e),"[]=",i(r,e)].join("")];case"comma":case"separator":return t=>(n,r)=>null==r||0===r.length?n:0===n.length?[[i(t,e),"=",i(r,e)].join("")]:[[n,i(r,e)].join(e.arrayFormatSeparator)];default:return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,i(t,e)]:[...n,[i(t,e),"=",i(r,e)].join("")]}}(t),a={};for(const t of Object.keys(e))n(t)||(a[t]=e[t]);const o=Object.keys(a);return!1!==t.sort&&o.sort(t.sort),o.map((n=>{const a=e[n];return void 0===a?"":null===a?i(n,t):Array.isArray(a)?a.reduce(r(n),[]).join("&"):i(n,t)+"="+i(a,t)})).filter((e=>e.length>0)).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[n,r]=o(e,"#");return Object.assign({url:n.split("?")[0]||"",query:b(d(e),t)},t&&t.parseFragmentIdentifier&&r?{fragmentIdentifier:c(r,t)}:{})},t.stringifyUrl=(e,n)=>{n=Object.assign({encode:!0,strict:!0},n);const r=u(e.url).split("?")[0]||"",a=t.extract(e.url),o=t.parse(a,{sort:!1}),s=Object.assign(o,e.query);let c=t.stringify(s,n);c&&(c=`?${c}`);let l=function(e){let t="";const n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}(e.url);return e.fragmentIdentifier&&(l=`#${i(e.fragmentIdentifier,n)}`),`${r}${c}${l}`}},101:function(e,t,n){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))},102:function(e,t,n){"use strict";var r="%[a-f0-9]{2}",a=new RegExp("("+r+")|([^%]+?)","gi"),o=new RegExp("("+r+")+","gi");function s(e,t){try{return[decodeURIComponent(e.join(""))]}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],s(n),s(r))}function i(e){try{return decodeURIComponent(e)}catch(r){for(var t=e.match(a)||[],n=1;n<t.length;n++)t=(e=s(t,n).join("")).match(a)||[];return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},n=o.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var r=i(n[0]);r!==n[0]&&(t[n[0]]=r)}n=o.exec(e)}t["%C2"]="�";for(var a=Object.keys(t),s=0;s<a.length;s++){var c=a[s];e=e.replace(new RegExp(c,"g"),t[c])}return e}(e)}}},103:function(e,t,n){"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]}},39:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r=n(1);const a=Object(r.createContext)(void 0),o=()=>{const e=Object(r.useContext)(a);if(void 0===e)throw new Error("useAiopsAppContext was used outside of its Provider");return e}},40:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=(e,t=[])=>"object"==typeof e&&null!==e&&Object.keys(e).length>0&&(0===t.length||t.every((t=>({}.hasOwnProperty.call(e,t)))))},41:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return u}));var r=n(1),a=n(2),o=n(13),s=n(39),i=n(0);const c=Object(r.createContext)({get dataView(){throw new Error("DataSourceContext is not implemented")},savedSearch:null});function l(){return Object(r.useContext)(c)}const u=({dataViewId:e,savedSearchId:t,children:n,onChange:l})=>{const[u,d]=Object(r.useState)(),[f,b]=Object(r.useState)(),{data:{dataViews:p}}=Object(s.b)(),m=Object(r.useCallback)((async()=>{const t={savedSearch:null,dataView:null};e&&(t.dataView=await p.get(e));const{savedSearch:n,dataView:r}=t;return{dataView:r,savedSearch:n}}),[e,p]);return Object(r.useEffect)((()=>{m().then((e=>{b(void 0),d(e),l&&l({dataViews:[e.dataView]})})).catch((e=>{b(e)}))}),[m,l,e]),u&&null!=u&&u.dataView||f?f?Object(i.jsx)(a.EuiEmptyPrompt,{iconType:"error",color:"danger",title:Object(i.jsx)("h2",null,Object(i.jsx)(o.FormattedMessage,{id:"xpack.aiops.dataSourceContext.errorTitle",defaultMessage:"Unable to fetch data view or saved search"})),body:Object(i.jsx)("p",null,f.message)}):Object(i.jsx)(c.Provider,{value:u},n):null}},43:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"g",(function(){return m})),n.d(t,"f",(function(){return g})),n.d(t,"b",(function(){return S})),n.d(t,"d",(function(){return N})),n.d(t,"e",(function(){return p})),n.d(t,"c",(function(){return k}));var r=n(1),a=n.n(r),o=n(0);const s=Object(r.createContext)(void 0),i=()=>{const e=Object(r.useContext)(s);if(void 0===e)throw new Error("datePickerContext was used outside of its Provider");return e},c=e=>{const{children:t,...n}=e;return Object(o.jsx)(s.Provider,{value:n},t)};var l=n(59),u=n.n(l),d=n(4),f=n(18),b=n(12);const p=new d.Subject,m=(e={})=>{const{timeRangeSelector:t,autoRefreshSelector:n}=e,{data:{query:{timefilter:{timefilter:a}}}}=i();return Object(r.useEffect)((()=>{!0!==t||a.isTimeRangeSelectorEnabled()?!1===t&&a.isTimeRangeSelectorEnabled()&&a.disableTimeRangeSelector():a.enableTimeRangeSelector(),!0!==n||a.isAutoRefreshSelectorEnabled()?!1===n&&a.isAutoRefreshSelectorEnabled()&&a.disableAutoRefreshSelector():a.enableAutoRefreshSelector()}),[t,n,a]),a},g=(e=!1)=>{const t=m(),n=Object(r.useMemo)((()=>e?t.getAbsoluteTime.bind(t):t.getTime.bind(t)),[e,t]),a=Object(r.useMemo)((()=>t.getTimeUpdate$().pipe(Object(f.map)(n),Object(f.distinctUntilChanged)(b.isEqual))),[t,n]);return u()(a,n())};var h=n(2),O=n(11),_=n(13),y=n(44),E=n(76);const j=5e3;function T(e){p.next({lastRefresh:Date.now(),...e?{timeRange:e}:{}})}const S=e=>{var t,n,s;const{isAutoRefreshOnly:c,isLoading:l=!1,showRefresh:p,width:S,flexGroup:v=!0}=e,{data:R,notifications:{toasts:x},uiSettings:A,uiSettingsKeys:k,theme:N,i18n:I}=i(),w=Object(h.useIsWithinMaxBreakpoint)("l"),{timefilter:C,history:M}=R.query.timefilter,[F,U]=Object(y.c)("_g"),D=(P=M,function(){var e,t;return null!==(e=null===(t=P.get())||void 0===t?void 0:t.map((({from:e,to:t})=>({start:e,end:t}))))&&void 0!==e?e:[]});var P;const G=(()=>{const e=m(),t=Object(r.useMemo)((()=>e.getRefreshIntervalUpdate$().pipe(Object(f.map)(e.getRefreshInterval))),[e]);return u()(t,e.getRefreshInterval())})(),B=g();Object(r.useEffect)((function(){void 0!==(null==F?void 0:F.time)&&C.setTime({from:F.time.from,to:F.time.to})}),[null==F||null===(t=F.time)||void 0===t?void 0:t.from,null==F||null===(n=F.time)||void 0===n?void 0:n.to,null==F||null===(s=F.time)||void 0===s?void 0:s.ts]),Object(r.useEffect)((function(){var e,t;void 0!==(null==F?void 0:F.refreshInterval)&&C.setRefreshInterval({pause:!(null==F||null===(e=F.refreshInterval)||void 0===e||!e.pause),value:null==F||null===(t=F.refreshInterval)||void 0===t?void 0:t.value})}),[null==F?void 0:F.refreshInterval]);const L=Object(r.useCallback)(Object(b.debounce)((e=>{U("refreshInterval",e,!0)}),200),[U]),[K,$]=Object(r.useState)(D()),[H,z]=Object(r.useState)(C.isAutoRefreshSelectorEnabled()),[V,q]=Object(r.useState)(C.isTimeRangeSelectorEnabled()),X=G;Object(r.useEffect)((function(){const e=!(null==F||!F.refreshInterval);X.value<j&&!X.pause&&x.addWarning({title:e?O.i18n.translate("xpack.ml.datePicker.shortRefreshIntervalURLWarningMessage",{defaultMessage:"The refresh interval in the URL is shorter than the minimum supported interval."}):O.i18n.translate("xpack.ml.datePicker.shortRefreshIntervalTimeFilterWarningMessage",{defaultMessage:"The refresh interval in Advanced Settings is shorter than the minimum supported interval."}),text:Object(E.a)(Object(o.jsx)(h.EuiButton,{onClick:L.bind(null,{pause:X.pause,value:j})},Object(o.jsx)(_.FormattedMessage,{id:"xpack.ml.datePicker.pageRefreshResetButton",defaultMessage:"Set to {defaultInterval}",values:{defaultInterval:"5s"}})),{theme:N,i18n:I})},{toastLifeTimeMs:3e4})}),[JSON.stringify(X),JSON.stringify(null==F?void 0:F.refreshInterval),L]);const W=A.get("dateFormat"),Y=A.get(k.TIMEPICKER_QUICK_RANGES),J=Object(r.useMemo)((()=>Y.map((({from:e,to:t,display:n})=>({start:e,end:t,label:n})))),[Y]);Object(r.useEffect)((()=>{const e=new d.Subscription,t=C.getEnabledUpdated$();return void 0!==t&&e.add(t.subscribe((e=>{z(C.isAutoRefreshSelectorEnabled()),q(C.isTimeRangeSelectorEnabled())}))),function(){e.unsubscribe()}}),[]);const Q=Object(r.useCallback)((({start:e,end:t})=>{$(D()),U("time",{from:e,to:t,..."now"===e||"now"===t?{ts:Date.now()}:{}})}),[U]),Z=Object(o.jsx)(a.a.Fragment,null,Object(o.jsx)(h.EuiFlexItem,null,Object(o.jsx)(h.EuiSuperDatePicker,{isLoading:l,start:B.from,end:B.to,isPaused:X.pause,isAutoRefreshOnly:!V||c,refreshInterval:X.value||j,onTimeChange:Q,onRefresh:T,onRefreshChange:function({isPaused:e,refreshInterval:t}){!1===e&&t<=0&&L({pause:e,value:5e3}),L({pause:e,value:t})},recentlyUsedRanges:K,dateFormat:W,commonlyUsedRanges:J,updateButtonProps:{iconOnly:w,fill:!1},width:S})),!0!==p&&V?null:Object(o.jsx)(h.EuiFlexItem,{grow:!1},Object(o.jsx)(h.EuiButton,{fill:!1,color:"primary",iconType:"refresh",onClick:()=>T(),"data-test-subj":"mlDatePickerRefreshPageButton"+(l?" loading":" loaded"),isLoading:l},Object(o.jsx)(_.FormattedMessage,{id:"xpack.ml.datePicker.pageRefreshButton",defaultMessage:"Refresh"})))),ee=v?Object(o.jsx)(h.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},Z):Z;return H||V?ee:null};var v=n(14),R=n.n(v),x=(n(20),n(40)),A=n(47);const k={EXCLUDE:"exclude-frozen",INCLUDE:"include-frozen"},N=e=>{const{frozenDataPreference:t,setFrozenDataPreference:n,timefilter:a,dataView:s,query:c,disabled:l,callback:u,apiPath:d}=e,{http:f,notifications:{toasts:b},showFrozenDataTierChoice:p}=i(),m=Object(r.useCallback)((async()=>{try{const e=await async function(e,t,n,r,a,o,s="/internal/file_upload/time_field_range"){try{const i=t.getRuntimeMappings(),c=await async function(e){const{http:t,path:n,...r}=e;return await t.fetch({path:n,method:"POST",body:JSON.stringify(r),version:"1"})}({index:t.getIndexPattern(),timeFieldName:t.timeFieldName,query:o?Object(A.b)(a):a,...Object(x.a)(i)?{runtimeMappings:i}:{},http:r,path:s});if(c.start.epoch&&c.end.epoch)return e.setTime({from:R()(c.start.epoch).toISOString(),to:R()(c.end.epoch).toISOString()}),c;if("number"==typeof c.start&&"number"==typeof c.end)return e.setTime({from:R()(c.start).toISOString(),to:R()(c.end).toISOString()}),{success:!0,start:{epoch:c.start,string:R()(c.start).toISOString()},end:{epoch:c.end,string:R()(c.end).toISOString()}};n.addWarning({title:O.i18n.translate("xpack.ml.datePicker.fullTimeRangeSelector.noResults",{defaultMessage:"No results match your search criteria"})})}catch(e){n.addDanger(O.i18n.translate("xpack.ml.datePicker.fullTimeRangeSelector.errorSettingTimeRangeNotification",{defaultMessage:"An error occurred setting the time range."}))}}(a,s,b,f,c,!1!==p&&t===k.EXCLUDE,d);"function"==typeof u&&void 0!==e&&u(e)}catch(e){b.addDanger(O.i18n.translate("xpack.ml.datePicker.fullTimeRangeSelector.errorSettingTimeRangeNotification",{defaultMessage:"An error occurred setting the time range."}))}}),[a,s,b,f,c,p,t,d,u]),[g,y]=Object(r.useState)(!1),E=Object(r.useCallback)((e=>{n(e),j()}),[n]),j=()=>{y(!1)},T=Object(r.useMemo)((()=>[{id:k.EXCLUDE,label:O.i18n.translate("xpack.ml.datePicker.fullTimeRangeSelector.useFullDataExcludingFrozenMenuLabel",{defaultMessage:"Exclude frozen data tier"})},{id:k.INCLUDE,label:O.i18n.translate("xpack.ml.datePicker.fullTimeRangeSelector.useFullDataIncludingFrozenMenuLabel",{defaultMessage:"Include frozen data tier"})}]),[]),S=Object(r.useMemo)((()=>Object(o.jsx)(h.EuiPanel,null,Object(o.jsx)(h.EuiRadioGroup,{options:T,idSelected:t,onChange:E,compressed:!0}))),[T,t,E]),v=Object(r.useMemo)((()=>!1===p?Object(o.jsx)(_.FormattedMessage,{id:"xpack.ml.datePicker.fullTimeRangeSelector.useFullData",defaultMessage:"Use full range of data."}):t===k.EXCLUDE?Object(o.jsx)(_.FormattedMessage,{id:"xpack.ml.datePicker.fullTimeRangeSelector.useFullDataExcludingFrozenButtonTooltip",defaultMessage:"Use full range of data excluding frozen data tier."}):Object(o.jsx)(_.FormattedMessage,{id:"xpack.ml.datePicker.fullTimeRangeSelector.useFullDataIncludingFrozenButtonTooltip",defaultMessage:"Use full range of data including frozen data tier, which might have slower search results."})),[t,p]);return Object(o.jsx)(h.EuiFlexGroup,{responsive:!1,gutterSize:"xs"},Object(o.jsx)(h.EuiToolTip,{content:v},Object(o.jsx)(h.EuiButton,{isDisabled:l,onClick:()=>m(),"data-test-subj":"mlDatePickerButtonUseFullData"},Object(o.jsx)(_.FormattedMessage,{id:"xpack.ml.datePicker.fullTimeRangeSelector.useFullDataButtonLabel",defaultMessage:"Use full data"}))),!1===p?null:Object(o.jsx)(h.EuiFlexItem,{grow:!1},Object(o.jsx)(h.EuiPopover,{id:"mlFullTimeRangeSelectorOption",button:Object(o.jsx)(h.EuiButtonIcon,{display:"base",size:"m",iconType:"boxesVertical","aria-label":O.i18n.translate("xpack.ml.datePicker.fullTimeRangeSelector.moreOptionsButtonAriaLabel",{defaultMessage:"More options"}),onClick:()=>{y(!g)}}),isOpen:g,closePopover:j,panelPaddingSize:"none",anchorPosition:"downRight"},S)))}},44:function(e,t,n){"use strict";n.d(t,"b",(function(){return j})),n.d(t,"c",(function(){return E})),n.d(t,"a",(function(){return y}));var r=n(48),a=n.n(r),o=n(100),s=n(1),i=n(28),c=n(12);function l(e,t,n){const r=t.split(".");let a=e;for(let e=0;e<r.length;e++){var o;const t=r[e];if(a=null===(o=a)||void 0===o?void 0:o[t],Array.isArray(a)){a=a.map((t=>"object"==typeof t?l(t,r.slice(e+1,r.length).join(".")):t));break}}return void 0===a?n:a}var u=n(26),d=n(4),f=n(18),b=n(40),p=n(0);const m=new Set(["_a","_g"]);function g(e){return m.has(e)}function h(e){const t={},n=Object(o.parse)(e,{sort:!1});try{Object.keys(n).forEach((e=>{g(e)?t[e]=Object(u.decode)(n[e]):t[e]=n[e]}))}catch(e){console.error("Could not read url state",e)}return t}const O=Object(s.createContext)({searchString:"",setUrlState:()=>{}}),{Provider:_}=O,y=({children:e})=>{const t=Object(i.useHistory)(),{search:n}=Object(i.useLocation)(),r=Object(s.useRef)(n);Object(s.useEffect)((()=>{r.current=n}),[n]);const a=Object(s.useCallback)(((e,n,a,s)=>{const i=r.current,d=h(i),f=Object(o.parse)(i,{sort:!1});if(Object.prototype.hasOwnProperty.call(d,e)||(d[e]={}),"string"==typeof n){if(Object(c.isEqual)(l(d,`${e}.${n}`),a))return i;d[e][n]=a}else{const t=n;Object.keys(t).forEach((n=>{d[e][n]=t[n]}))}try{const e=Object(o.stringify)(f,{sort:!1,encode:!1});if(Object.keys(d).forEach((e=>{g(e)?f[e]=Object(u.encode)(d[e]):f[e]=d[e]})),e!==Object(o.stringify)(f,{sort:!1,encode:!1})){const e=Object(o.stringify)(f,{sort:!1});r.current=e,s?t.replace({search:e}):t.push({search:e})}}catch(e){console.error("Could not save url state",e)}}),[]);return Object(p.jsx)(_,{value:{searchString:n,setUrlState:a}},e)},E=e=>{const{searchString:t,setUrlState:n}=Object(s.useContext)(O);return[Object(s.useMemo)((()=>{const n=h(t);if("object"==typeof n)return n[e]}),[t]),Object(s.useCallback)(((t,r,a)=>{n(e,t,r,a)}),[e,n])]};class url_state_PageUrlStateService{constructor(){a()(this,"_pageUrlState$",new d.BehaviorSubject(null)),a()(this,"_pageUrlStateCallback",null)}getPageUrlState$(){return this._pageUrlState$.pipe(Object(f.distinctUntilChanged)(c.isEqual))}getPageUrlState(){return this._pageUrlState$.getValue()}updateUrlState(e,t){if(!this._pageUrlStateCallback)throw new Error("Callback has not been initialized.");this._pageUrlStateCallback(e,t)}setCurrentState(e){this._pageUrlState$.next(e)}setUpdateCallback(e){this._pageUrlStateCallback=e}}const j=(e,t)=>{const[n,r]=E("_a"),a=null==n?void 0:n[e],o=Object(s.useRef)();Object(s.useEffect)((()=>{o.current=r}),[r]);const i=Object(s.useRef)(),l=Object(s.useMemo)((()=>{const e={...null!=t?t:{},...null!=a?a:{}};if(Object(c.isEqual)(e,i.current))return i.current;if(Object(b.a)(i.current))for(const t in e)Object(c.isEqual)(e[t],i.current[t])&&(e[t]=i.current[t]);return i.current=e,e}),[a]),u=Object(s.useCallback)(((t,n)=>{if(null==o||!o.current)throw new Error("Callback for URL state update has not been initialized.");o.current(e,{...l,...t},n)}),[e,l]),d=Object(s.useMemo)((()=>new url_state_PageUrlStateService),[]);return Object(s.useEffect)((function(){d.setCurrentState(l),d.setUpdateCallback(u)}),[d,u,l]),Object(s.useMemo)((()=>[l,u,d]),[l,u,d])}},47:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return l}));var r=n(12),a=n(40);const o=e=>{const t={term:{_tier:{value:"data_frozen"}}};if(!e)return{bool:{must_not:[t]}};const n=Object(r.cloneDeep)(e);return delete n.match_all,Object(a.a)(n.bool)?Array.isArray(n.bool.must_not)?n.bool.must_not.push(t):(Object(a.a)(n.bool.must_not)&&(n.bool.must_not=[n.bool.must_not,t]),void 0===n.bool.must_not&&(n.bool.must_not=[t])):n.bool={must_not:[t]},n};function s(e,t,n,r){const a=[];return e&&t&&n&&a.push({range:{[e]:{gte:t,lte:n,format:"epoch_millis"}}}),r&&"object"==typeof r&&a.push(r),a}const i={KUERY:"kuery",LUCENE:"lucene"},c={bool:{must:[{match_all:{}}]}};function l(){return Object(r.cloneDeep)(c)}},48:function(e,t,n){e.exports=n(17)(2)},51:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return o}));var r=n(48),a=n.n(r);let o,s;!function(e){e._ID="_id",e._INDEX="_index",e._SOURCE="_source",e._TYPE="_type",e.STRING="string",e.TEXT="text",e.MATCH_ONLY_TEXT="match_only_text",e.KEYWORD="keyword",e.VERSION="version",e.BOOLEAN="boolean",e.OBJECT="object",e.DATE="date",e.DATE_NANOS="date_nanos",e.DATE_RANGE="date_range",e.GEO_POINT="geo_point",e.GEO_SHAPE="geo_shape",e.FLOAT="float",e.HALF_FLOAT="half_float",e.SCALED_FLOAT="scaled_float",e.DOUBLE="double",e.INTEGER="integer",e.LONG="long",e.SHORT="short",e.UNSIGNED_LONG="unsigned_long",e.AGGREGATE_METRIC_DOUBLE="aggregate_metric_double",e.FLOAT_RANGE="float_range",e.DOUBLE_RANGE="double_range",e.INTEGER_RANGE="integer_range",e.LONG_RANGE="long_range",e.NESTED="nested",e.BYTE="byte",e.IP="ip",e.IP_RANGE="ip_range",e.ATTACHMENT="attachment",e.TOKEN_COUNT="token_count",e.MURMUR3="murmur3",e.HISTOGRAM="histogram"}(o||(o={})),function(e){e._SOURCE="_source",e.ATTACHMENT="attachment",e.BOOLEAN="boolean",e.DATE="date",e.DATE_RANGE="date_range",e.GEO_POINT="geo_point",e.GEO_SHAPE="geo_shape",e.IP="ip",e.IP_RANGE="ip_range",e.MURMUR3="murmur3",e.NUMBER="number",e.NUMBER_RANGE="number_range",e.STRING="string",e.UNKNOWN="unknown",e.CONFLICT="conflict",e.OBJECT="object",e.NESTED="nested",e.HISTOGRAM="histogram",e.MISSING="missing"}(s||(s={}));class kbn_field_type_KbnFieldType{constructor(e={}){a()(this,"name",void 0),a()(this,"sortable",void 0),a()(this,"filterable",void 0),a()(this,"esTypes",void 0),this.name=e.name||s.UNKNOWN,this.sortable=e.sortable||!1,this.filterable=e.filterable||!1,this.esTypes=Object.freeze((e.esTypes||[]).slice())}}new kbn_field_type_KbnFieldType({name:s.UNKNOWN});new kbn_field_type_KbnFieldType({name:s.STRING,sortable:!0,filterable:!0,esTypes:[o.STRING,o.TEXT,o.MATCH_ONLY_TEXT,o.KEYWORD,o.VERSION,o._TYPE,o._ID]}),new kbn_field_type_KbnFieldType({name:s.NUMBER,sortable:!0,filterable:!0,esTypes:[o.FLOAT,o.HALF_FLOAT,o.SCALED_FLOAT,o.DOUBLE,o.INTEGER,o.LONG,o.UNSIGNED_LONG,o.SHORT,o.BYTE,o.TOKEN_COUNT,o.AGGREGATE_METRIC_DOUBLE]}),new kbn_field_type_KbnFieldType({name:s.NUMBER_RANGE,sortable:!0,filterable:!0,esTypes:[o.FLOAT_RANGE,o.DOUBLE_RANGE,o.INTEGER_RANGE,o.LONG_RANGE]}),new kbn_field_type_KbnFieldType({name:s.DATE,sortable:!0,filterable:!0,esTypes:[o.DATE,o.DATE_NANOS]}),new kbn_field_type_KbnFieldType({name:s.DATE_RANGE,sortable:!0,filterable:!0,esTypes:[o.DATE_RANGE]}),new kbn_field_type_KbnFieldType({name:s.IP,sortable:!0,filterable:!0,esTypes:[o.IP]}),new kbn_field_type_KbnFieldType({name:s.IP_RANGE,sortable:!0,filterable:!0,esTypes:[o.IP_RANGE]}),new kbn_field_type_KbnFieldType({name:s.BOOLEAN,sortable:!0,filterable:!0,esTypes:[o.BOOLEAN]}),new kbn_field_type_KbnFieldType({name:s.OBJECT,esTypes:[o.OBJECT]}),new kbn_field_type_KbnFieldType({name:s.NESTED,esTypes:[o.NESTED]}),new kbn_field_type_KbnFieldType({name:s.GEO_POINT,esTypes:[o.GEO_POINT]}),new kbn_field_type_KbnFieldType({name:s.GEO_SHAPE,esTypes:[o.GEO_SHAPE]}),new kbn_field_type_KbnFieldType({name:s.ATTACHMENT,esTypes:[o.ATTACHMENT]}),new kbn_field_type_KbnFieldType({name:s.MURMUR3,esTypes:[o.MURMUR3]}),new kbn_field_type_KbnFieldType({name:s._SOURCE,esTypes:[o._SOURCE]}),new kbn_field_type_KbnFieldType({name:s.HISTOGRAM,filterable:!0,esTypes:[o.HISTOGRAM]}),new kbn_field_type_KbnFieldType({name:s.CONFLICT})},57:function(e,t,n){"use strict";function r(e){return null!=e}n.d(t,"a",(function(){return r}))},59:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(25),a=n(1),o=r.__importDefault(n(99));t.default=function(e,t){var n=a.useState(t),r=n[0],s=n[1];return o.default((function(){var t=e.subscribe(s);return function(){return t.unsubscribe()}}),[e]),r}},60:function(e,t,n){e.exports=n(17)(3)},76:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var r=n(1),a=n(23),o=n.n(a),s=n(60),i=n.n(s),c=n(59),l=n.n(c),u=n(29),d=n.n(u),f=n(2);let b;!function(e){e.preboot="preboot",e.standard="standard"}(b||(b={}));const p="eui-global",m="eui-utilities",g={darkMode:!1};var h=n(0);const O=[f.euiStylisPrefixer],_=d()({key:"css",stylisPlugins:O,container:document.querySelector('meta[name="emotion"]')}),y=d()({key:p,stylisPlugins:O,container:document.querySelector(`meta[name="${p}"]`)}),E=d()({key:m,stylisPlugins:O,container:document.querySelector(`meta[name="${m}"]`)});_.compat=!0,y.compat=!0,E.compat=!0;const j={default:_,global:y,utility:E},T=({theme:{theme$:e},globalStyles:t,colorMode:n,children:a})=>{const o=l()(e,g),s=Object(r.useMemo)((()=>(e=>e.darkMode?f.COLOR_MODES_STANDARD.dark:f.COLOR_MODES_STANDARD.light)(o)),[o]),i=n||s,c=!1!==t&&void 0;return Object(h.jsx)(f.EuiProvider,{cache:j,colorMode:i,globalStyles:c,utilityClasses:c},a)},S=({children:e,i18n:t,...n})=>Object(h.jsx)(T,n,Object(h.jsx)(t.Context,null,e));var v=n(30);const R=({children:e,...t})=>Object(h.jsx)(S,i()({globalStyles:!1},t),Object(h.jsx)(v.KibanaErrorBoundaryProvider,{analytics:t.analytics},Object(h.jsx)(v.KibanaErrorBoundary,null,e))),x=(e,t)=>n=>(o.a.render(Object(h.jsx)(R,t,e),n),()=>o.a.unmountComponentAtNode(n));n(48),n(11);class mount_point_portal_MountPointPortalErrorBoundary extends r.Component{constructor(...e){super(...e),definePropertyfrom_dll_reference_kbnSharedDeps_npm_default()(this,"state",{error:void 0})}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(){}render(){return this.state.error?Object(h.jsx)("p",null,external_kbnSharedDeps_KbnI18n_.i18n.translate("reactPackages.mountPointPortal.errorMessage",{defaultMessage:"Error rendering portal content"})):this.props.children}}},78:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n(1),a=n(15),o=n(27),s=n(12),i=n(14),c=n.n(i),l=n(20),u=n.n(l);const d=new RegExp("^([0-9]*)\\s*("+u.a.units.join("|")+")$"),f=["ms","s","m","h"],b=["ms","s","m","h","d"],{duration:p}=c.a,m=u.a.unitsDesc,g=m.indexOf("w"),h=function(){const e=[[p(500,"ms"),p(100,"ms")],[p(5,"second"),p(1,"second")],[p(10,"second"),p(5,"second")],[p(15,"second"),p(10,"second")],[p(30,"second"),p(15,"second")],[p(1,"minute"),p(30,"second")],[p(5,"minute"),p(1,"minute")],[p(10,"minute"),p(5,"minute")],[p(15,"minute"),p(10,"minute")],[p(30,"minute"),p(10,"minute")],[p(1,"hour"),p(30,"minute")],[p(2,"hour"),p(1,"hour")],[p(4,"hour"),p(2,"hour")],[p(6,"hour"),p(4,"hour")],[p(8,"hour"),p(6,"hour")],[p(12,"hour"),p(8,"hour")],[p(24,"hour"),p(12,"hour")],[p(2,"d"),p(1,"d")],[p(4,"d"),p(2,"d")],[p(1,"week"),p(4,"d")],[p(1,"month"),p(1,"week")],[p(1,"year"),p(1,"month")],[1/0,p(1,"year")]].slice(0).reverse();function t(e,t,n){return function(r,a){const o=function(r,a){const o=a/r;let s;for(let r=0;r<e.length;r++){const a=e[r],i=t(a[0],a[1],o);if(null==i){if(!n)continue;if(s)return s;break}if(!n)return i;s=i}const i=Math.max(Math.floor(o),1);return c.a.duration(i,"ms")}(r,a);if(o)return c.a.duration(o._data)}}return{near:t(e,(function(e,t,n){if(e>n){if(e===1/0)return t;const r=e.asMilliseconds(),a=t.asMilliseconds();return Math.abs(r-n)<=Math.abs(a)?e:t}}),!0),lessThan:t(e,(function(e,t,n){if(t<n)return e!==1/0?e:t})),atLeast:t(e,(function(e,t,n){if(t<=n)return t}))}}();function O(e,t){this._timeBucketsConfig=e,this._fieldFormats=t,this.barTarget=this._timeBucketsConfig[a.UI_SETTINGS.HISTOGRAM_BAR_TARGET],this.maxBars=this._timeBucketsConfig[a.UI_SETTINGS.HISTOGRAM_MAX_BARS]}function _(e,t){const n=function(e){for(let t=0;t<m.length;t++){const n=m[t],r=e.as(n);if(r>=1&&Math.floor(r)===r){if(t<=g)continue;return{value:r,unit:n,expression:r+n}}}const t=e.as("ms");return{value:t,unit:"ms",expression:t+"ms"}}(e);e.esValue=n.value,e.esUnit=n.unit,e.expression=n.expression,e.overflow=t>e&&c.a.duration(e-t);const r=c.a.normalizeUnits(n.unit);return 1===n.value?e.description=r:e.description=`${n.value} ${r}s`,e}function y(e){return e&&"isValid"in e&&e.isValid()}O.prototype.setBarTarget=function(e){this.barTarget=e},O.prototype.setMaxBars=function(e){this.maxBars=e},O.prototype.setBounds=function(e){if(!e)return this.clearBounds();let t;t=Object(s.isPlainObject)(e)?[e.min,e.max]:Array.isArray(e)?e:[];const n=Object(s.sortBy)(t.map(Object(s.ary)(c.a,1)),Number);if(2!==n.length||!n.every(y))throw this.clearBounds(),new Error("invalid bounds set: "+e);if(this._lb=n.shift(),this._ub=n.pop(),this.getDuration().asSeconds()<0)throw new TypeError("Intervals must be positive")},O.prototype.clearBounds=function(){this._lb=this._ub=null},O.prototype.hasBounds=function(){return y(this._ub)&&y(this._lb)},O.prototype.getBounds=function(){if(this.hasBounds())return{min:this._lb,max:this._ub}},O.prototype.getDuration=function(){if(this.hasBounds())return c.a.duration(this._ub-this._lb,"ms")},O.prototype.setInterval=function(e){this.originalInterval=e;let t=e;if(t&&"auto"!==t){if(Object(s.isString)(t)&&(e=t,t=function(e,t=!1){const n=String(e).trim().match(d);if(!Array.isArray(n)||n.length<3)return null;try{const e=parseInt(n[1],10),r=n[2];return isNaN(e)||e<1&&-1===f.indexOf(r)||!0===t&&-1===b.indexOf(r)?null:Object(i.duration)(e,r)}catch(e){return null}}(t),0==+t&&(t=null)),!c.a.isDuration(t))throw new TypeError('"'+e+'" is not a valid interval.');this._i=t}else this._i="auto"},O.prototype.getInterval=function(){const e=this,t=e.getDuration();return _(function(n){if(!e.hasBounds())return n;const r=e.maxBars;let a;return t/n>r?(a=h.lessThan(r,t),+a==+n?n:(_(n,t),Object(s.assign)(a,{preScaled:n,scale:n/a,scaled:!0}))):n}(function(){const n=e._i;return c.a.isDuration(n)?n:h.near(e.barTarget,t)}()),t)},O.prototype.getIntervalToNearestMultiple=function(e){const t=this.getInterval(),n=t.asSeconds(),r=n%e;if(0===r)return t;let a=r>e/2?n+e-r:n-r;a=0===a?e:a;const o=c.a.duration(a,"seconds");_(o,this.getDuration());const s=t.preScaled;return void 0!==s&&s<o&&(o.preScaled=s,o.scale=s/o,o.scaled=!0),o},O.prototype.getScaledDateFormat=function(){const e=this.getInterval(),t=this._timeBucketsConfig["dateFormat:scaled"];for(let n=t.length-1;n>=0;n--){const r=t[n];if(!r[0]||e>=c.a.duration(r[0]))return r[1]}return this._timeBucketsConfig.dateFormat},O.prototype.getScaledDateFormatter=function(){return new(this._fieldFormats.getType(o.FIELD_FORMAT_IDS.DATE))({pattern:this.getScaledDateFormat()},this._timeBucketsConfig)};var E=n(39);const j=()=>{const{uiSettings:e}=Object(E.b)();return Object(r.useMemo)((()=>new O({[a.UI_SETTINGS.HISTOGRAM_MAX_BARS]:e.get(a.UI_SETTINGS.HISTOGRAM_MAX_BARS),[a.UI_SETTINGS.HISTOGRAM_BAR_TARGET]:e.get(a.UI_SETTINGS.HISTOGRAM_BAR_TARGET),dateFormat:e.get("dateFormat"),"dateFormat:scaled":e.get("dateFormat:scaled")})),[e])}},99:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),a="undefined"!=typeof window?r.useLayoutEffect:r.useEffect;t.default=a}}]);