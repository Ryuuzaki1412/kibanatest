(window.controls_bundle_jsonpfunction=window.controls_bundle_jsonpfunction||[]).push([[0],Array(51).concat([function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var o=n(8);const r=e=>e.darkMode?o.COLOR_MODES_STANDARD.dark:o.COLOR_MODES_STANDARD.light,a={darkMode:!1}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n(0);const r={manageControl:{getFlyoutCreateTitle:()=>o.i18n.translate("controls.controlGroup.manageControl.createFlyoutTitle",{defaultMessage:"Create control"}),getFlyoutEditTitle:()=>o.i18n.translate("controls.controlGroup.manageControl.editFlyoutTitle",{defaultMessage:"Edit control"}),dataSource:{getFormGroupTitle:()=>o.i18n.translate("controls.controlGroup.manageControl.dataSource.formGroupTitle",{defaultMessage:"Data source"}),getFormGroupDescription:()=>o.i18n.translate("controls.controlGroup.manageControl.dataSource.formGroupDescription",{defaultMessage:"Select the data view and field that you want to create a control for."}),getSelectDataViewMessage:()=>o.i18n.translate("controls.controlGroup.manageControl.dataSource.selectDataViewMessage",{defaultMessage:"Please select a data view"}),getDataViewTitle:()=>o.i18n.translate("controls.controlGroup.manageControl.dataSource.dataViewTitle",{defaultMessage:"Data view"}),noControlTypeMessage:()=>o.i18n.translate("controls.controlGroup.manageControl.dataSource.noControlTypeMessage",{defaultMessage:"No field selected yet"}),getFieldTitle:()=>o.i18n.translate("controls.controlGroup.manageControl.dataSource.fieldTitle",{defaultMessage:"Field"}),getControlTypeTitle:()=>o.i18n.translate("controls.controlGroup.manageControl.dataSource.controlTypesTitle",{defaultMessage:"Control type"})},displaySettings:{getFormGroupTitle:()=>o.i18n.translate("controls.controlGroup.manageControl.displaySettings.formGroupTitle",{defaultMessage:"Display settings"}),getFormGroupDescription:()=>o.i18n.translate("controls.controlGroup.manageControl.displaySettings.formGroupDescription",{defaultMessage:"Change how the control appears on your dashboard."}),getTitleInputTitle:()=>o.i18n.translate("controls.controlGroup.manageControl.displaySettings.titleInputTitle",{defaultMessage:"Label"}),getWidthInputTitle:()=>o.i18n.translate("controls.controlGroup.manageControl.displaySettings.widthInputTitle",{defaultMessage:"Minimum width"}),getGrowSwitchTitle:()=>o.i18n.translate("controls.controlGroup.manageControl.displaySettings.growSwitchTitle",{defaultMessage:"Expand width to fit available space"})},controlTypeSettings:{getFormGroupTitle:e=>o.i18n.translate("controls.controlGroup.manageControl.controlTypeSettings.formGroupTitle",{defaultMessage:"{controlType} settings",values:{controlType:e}}),getFormGroupDescription:e=>o.i18n.translate("controls.controlGroup.manageControl.controlTypeSettings.formGroupDescription",{defaultMessage:"Custom settings for your {controlType} control.",values:{controlType:e.toLocaleLowerCase()}})},getSaveChangesTitle:()=>o.i18n.translate("controls.controlGroup.manageControl.saveChangesTitle",{defaultMessage:"Save and close"}),getCancelTitle:()=>o.i18n.translate("controls.controlGroup.manageControl.cancelTitle",{defaultMessage:"Cancel"})},management:{getAddControlTitle:()=>o.i18n.translate("controls.controlGroup.management.addControl",{defaultMessage:"Add control"}),getFlyoutTitle:()=>o.i18n.translate("controls.controlGroup.management.flyoutTitle",{defaultMessage:"Control settings"}),getDeleteButtonTitle:()=>o.i18n.translate("controls.controlGroup.management.delete",{defaultMessage:"Delete control"}),getDeleteAllButtonTitle:()=>o.i18n.translate("controls.controlGroup.management.deleteAll",{defaultMessage:"Delete all"}),controlWidth:{getWidthSwitchLegend:()=>o.i18n.translate("controls.controlGroup.management.layout.controlWidthLegend",{defaultMessage:"Change control size"}),getAutoWidthTitle:()=>o.i18n.translate("controls.controlGroup.management.layout.auto",{defaultMessage:"Auto"}),getSmallWidthTitle:()=>o.i18n.translate("controls.controlGroup.management.layout.small",{defaultMessage:"Small"}),getMediumWidthTitle:()=>o.i18n.translate("controls.controlGroup.management.layout.medium",{defaultMessage:"Medium"}),getLargeWidthTitle:()=>o.i18n.translate("controls.controlGroup.management.layout.large",{defaultMessage:"Large"})},labelPosition:{getLabelPositionTitle:()=>o.i18n.translate("controls.controlGroup.management.labelPosition.title",{defaultMessage:"Label position"}),getLabelPositionLegend:()=>o.i18n.translate("controls.controlGroup.management.labelPosition.designSwitchLegend",{defaultMessage:"Switch label position between inline and above"}),getInlineTitle:()=>o.i18n.translate("controls.controlGroup.management.labelPosition.inline",{defaultMessage:"Inline"}),getAboveTitle:()=>o.i18n.translate("controls.controlGroup.management.labelPosition.above",{defaultMessage:"Above"})},deleteControls:{getDeleteAllTitle:()=>o.i18n.translate("controls.controlGroup.management.delete.deleteAllTitle",{defaultMessage:"Delete all controls?"}),getDeleteTitle:()=>o.i18n.translate("controls.controlGroup.management.delete.deleteTitle",{defaultMessage:"Delete control?"}),getSubtitle:()=>o.i18n.translate("controls.controlGroup.management.delete.sub",{defaultMessage:"Controls are not recoverable once removed."}),getConfirm:()=>o.i18n.translate("controls.controlGroup.management.delete.confirm",{defaultMessage:"Delete"}),getCancel:()=>o.i18n.translate("controls.controlGroup.management.delete.cancel",{defaultMessage:"Cancel"})},discardChanges:{getTitle:()=>o.i18n.translate("controls.controlGroup.management.discard.title",{defaultMessage:"Discard changes?"}),getSubtitle:()=>o.i18n.translate("controls.controlGroup.management.discard.sub",{defaultMessage:"Changes that you've made to this control will be discarded, are you sure you want to continue?"}),getConfirm:()=>o.i18n.translate("controls.controlGroup.management.discard.confirm",{defaultMessage:"Discard changes"}),getCancel:()=>o.i18n.translate("controls.controlGroup.management.discard.cancel",{defaultMessage:"Cancel"})},discardNewControl:{getTitle:()=>o.i18n.translate("controls.controlGroup.management.deleteNew.title",{defaultMessage:"Discard new control"}),getSubtitle:()=>o.i18n.translate("controls.controlGroup.management.deleteNew.sub",{defaultMessage:"Changes that you've made to this control will be discarded, are you sure you want to continue?"}),getConfirm:()=>o.i18n.translate("controls.controlGroup.management.deleteNew.confirm",{defaultMessage:"Discard control"}),getCancel:()=>o.i18n.translate("controls.controlGroup.management.deleteNew.cancel",{defaultMessage:"Cancel"})},validateSelections:{getValidateSelectionsTitle:()=>o.i18n.translate("controls.controlGroup.management.validate.title",{defaultMessage:"Validate user selections"}),getValidateSelectionsSubTitle:()=>o.i18n.translate("controls.controlGroup.management.validate.subtitle",{defaultMessage:"Automatically ignore any control selection that would result in no data."})},controlChaining:{getHierarchyTitle:()=>o.i18n.translate("controls.controlGroup.management.hierarchy.title",{defaultMessage:"Chain controls"}),getHierarchySubTitle:()=>o.i18n.translate("controls.controlGroup.management.hierarchy.subtitle",{defaultMessage:"Selections in one control narrow down available options in the next. Controls are chained from left to right."})},querySync:{getQuerySettingsTitle:()=>o.i18n.translate("controls.controlGroup.management.query.searchSettingsTitle",{defaultMessage:"Sync with query bar"}),getQuerySettingsSubtitle:()=>o.i18n.translate("controls.controlGroup.management.query.useAllSearchSettingsTitle",{defaultMessage:"Keeps the control group in sync with the query bar by applying time range, filter pills, and queries from the query bar"}),getAdvancedSettingsTitle:()=>o.i18n.translate("controls.controlGroup.management.query.advancedSettings",{defaultMessage:"Advanced"}),getIgnoreTimerangeTitle:()=>o.i18n.translate("controls.controlGroup.management.query.ignoreTimerange",{defaultMessage:"Ignore timerange"}),getIgnoreQueryTitle:()=>o.i18n.translate("controls.controlGroup.management.query.ignoreQuery",{defaultMessage:"Ignore query bar"}),getIgnoreFilterPillsTitle:()=>o.i18n.translate("controls.controlGroup.management.query.ignoreFilterPills",{defaultMessage:"Ignore filter pills"})}},floatingActions:{getEditButtonTitle:()=>o.i18n.translate("controls.controlGroup.floatingActions.editTitle",{defaultMessage:"Edit"}),getRemoveButtonTitle:()=>o.i18n.translate("controls.controlGroup.floatingActions.removeTitle",{defaultMessage:"Delete"}),getClearButtonTitle:()=>o.i18n.translate("controls.controlGroup.floatingActions.clearTitle",{defaultMessage:"Clear"})},ariaActions:{getMoveControlButtonAction:e=>o.i18n.translate("controls.controlGroup.ariaActions.moveControlButtonAction",{defaultMessage:"Move control {controlTitle}",values:{controlTitle:null!=e?e:""}})}}},function(e,t,n){"use strict";var o,r=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),a=[];function i(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function l(e,t){for(var n={},o=[],r=0;r<e.length;r++){var l=e[r],s=t.base?l[0]+t.base:l[0],c=n[s]||0,u="".concat(s," ").concat(c);n[s]=c+1;var d=i(u),p={css:l[1],media:l[2],sourceMap:l[3]};-1!==d?(a[d].references++,a[d].updater(p)):a.push({identifier:u,updater:f(p,t),references:1}),o.push(u)}return o}function s(e){var t=document.createElement("style"),o=e.attributes||{};if(void 0===o.nonce){var a=n.nc;a&&(o.nonce=a)}if(Object.keys(o).forEach((function(e){t.setAttribute(e,o[e])})),"function"==typeof e.insert)e.insert(t);else{var i=r(e.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(t)}return t}var c,u=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function d(e,t,n,o){var r=n?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(e.styleSheet)e.styleSheet.cssText=u(t,r);else{var a=document.createTextNode(r),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(a,i[t]):e.appendChild(a)}}function p(e,t,n){var o=n.css,r=n.media,a=n.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}var g=null,m=0;function f(e,t){var n,o,r;if(t.singleton){var a=m++;n=g||(g=s(t)),o=d.bind(null,n,a,!1),r=d.bind(null,n,a,!0)}else n=s(t),o=p.bind(null,n,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o));var n=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var o=0;o<n.length;o++){var r=i(n[o]);a[r].references--}for(var s=l(e,t),c=0;c<n.length;c++){var u=i(n[c]);0===a[u].references&&(a[u].updater(),a.splice(u,1))}n=s}}}},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,o,r,a=e[1]||"",i=e[3];if(!i)return a;if(t&&"function"==typeof btoa){var l=(n=i,o=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),"/*# ".concat(r," */")),s=i.sources.map((function(e){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(e," */")}));return[a].concat(s).concat([l]).join("\n")}return[a].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,o){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(o)for(var a=0;a<this.length;a++){var i=this[a][0];null!=i&&(r[i]=!0)}for(var l=0;l<e.length;l++){var s=[].concat(e[l]);o&&r[s[0]]||(n&&(s[2]?s[2]="".concat(n," and ").concat(s[2]):s[2]=n),t.push(s))}},t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(28),r=n(6),a=o.__importDefault(n(59));t.default=function(e,t){var n=r.useState(t),o=n[0],i=n[1];return a.default((function(){var t=e.subscribe(i);return function(){return t.unsubscribe()}}),[e]),o}},function(e,t,n){e.exports=n(35)(3)},function(e,t,n){"use strict";n.d(t,"b",(function(){return x})),n.d(t,"a",(function(){return y}));var o=n(6),r=n(55),a=n.n(r),i=n(45),l=n.n(i),s=n(8);let c;!function(e){e.preboot="preboot",e.standard="standard"}(c||(c={}));const u="eui-global",d="eui-utilities";var p=n(51),g=n(4);const m=[s.euiStylisPrefixer],f=l()({key:"css",stylisPlugins:m,container:document.querySelector('meta[name="emotion"]')}),h=l()({key:u,stylisPlugins:m,container:document.querySelector(`meta[name="${u}"]`)}),b=l()({key:d,stylisPlugins:m,container:document.querySelector(`meta[name="${d}"]`)});f.compat=!0,h.compat=!0,b.compat=!0;const v={default:f,global:h,utility:b},y=({theme:{theme$:e},globalStyles:t,colorMode:n,children:r})=>{const i=a()(e,p.a),l=Object(o.useMemo)((()=>Object(p.b)(i)),[i]),c=n||l,u=!1!==t&&void 0;return Object(g.jsx)(s.EuiProvider,{cache:v,colorMode:c,globalStyles:u,utilityClasses:u},r)},x=({children:e,i18n:t,...n})=>Object(g.jsx)(y,n,Object(g.jsx)(t.Context,null,e))},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var o=n(56),r=n.n(o),a=n(6),i=n(55),l=n.n(i),s=n(8),c=n(60),u=n(62),d=n(57),p=n(51),g=n(4);const m=({theme:{theme$:e},euiTheme:t,children:n,...o})=>{const i=l()(e,p.a),c=Object(a.useMemo)((()=>Object(p.b)(i)),[i]);return Object(g.jsx)(s.EuiThemeProvider,r()({colorMode:c,theme:t},o),n)},f=({theme:e,children:t,...n})=>Object(c.useIsNestedEuiProvider)()?Object(g.jsx)(m,r()({theme:e},n),t):(Object(u.emitEuiProviderWarning)("KibanaThemeProvider requires a parent KibanaRenderContextProvider.  Check your React tree and ensure that they are wrapped in a KibanaRenderContextProvider."),Object(g.jsx)(d.a,{theme:e,globalStyles:!1},t))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),r="undefined"!=typeof window?o.useLayoutEffect:o.useEffect;t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(61);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}))},function(e,t,n){"use strict";function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.useIsNestedEuiProvider=t.EuiProviderNestedCheck=t.EuiNestedProviderContext=void 0;var r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var s=a?Object.getOwnPropertyDescriptor(e,l):null;s&&(s.get||s.set)?Object.defineProperty(r,l,s):r[l]=e[l]}return r.default=e,n&&n.set(e,r),r}(n(6)),a=n(4);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}var l=(0,r.createContext)(!1);t.EuiNestedProviderContext=l,t.EuiProviderNestedCheck=function(e){var t=e.children;return(0,a.jsx)(l.Provider,{value:!0},t)},t.useIsNestedEuiProvider=function(){return!!(0,r.useContext)(l)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setEuiDevProviderWarning=t.getEuiDevProviderWarning=t.emitEuiProviderWarning=void 0;var o=void 0;t.setEuiDevProviderWarning=function(e){return o=e},t.getEuiDevProviderWarning=function(){return o},t.emitEuiProviderWarning=function(e){switch(o){case"log":console.log(e);break;case"warn":console.warn(e);break;case"error":throw new Error(e)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var o=n(6),r=n(8),a=n(46),i=n(47),l=n(4);const s=({error:e})=>{const[t,n]=Object(o.useState)(!1),s=e instanceof Error?e.message:e,c=Object(l.jsx)(r.EuiButtonEmpty,{color:"danger",iconSize:"m",iconType:"error","data-test-subj":"control-frame-error",onClick:()=>n((e=>!e)),className:"errorEmbeddableCompact__button",textProps:{className:"errorEmbeddableCompact__text"}},Object(l.jsx)(a.FormattedMessage,{id:"controls.frame.error.message",defaultMessage:"An error occurred. View more"}));return Object(l.jsx)(a.I18nProvider,null,Object(l.jsx)(r.EuiPopover,{button:c,isOpen:t,className:"errorEmbeddableCompact__popover",anchorClassName:"errorEmbeddableCompact__popoverAnchor",closePopover:()=>n(!1)},Object(l.jsx)(i.Markdown,{markdown:s,openLinksInNewTab:!0,"data-test-subj":"errorMessageMarkdown"})))}},,function(e,t,n){"use strict";e.exports=n(80)},function(e,t,n){"use strict";n.r(t),n.d(t,"setFlyoutRef",(function(){return te})),n.d(t,"ControlGroupContainerContext",(function(){return ne})),n.d(t,"controlGroupSelector",(function(){return oe})),n.d(t,"useControlGroupContainer",(function(){return re})),n.d(t,"ControlGroupContainer",(function(){return control_group_container_ControlGroupContainer}));var o=n(1),r=n.n(o),a=n(21),i=n(2),l=n(6),s=n.n(l),c=n(40),u=n.n(c),d=n(41),p=n(29),g=n(42),m=n(20),f=n(58),h=n(17),b=(n(73),n(68)),v=n(69),y=n(43),x=n.n(y),w=n(8),C=n(52),j=n(56),S=n.n(j),O=n(65),F=n(3),E=n(63),T=n(4);const D=({customPrepend:e,enableActions:t,embeddableId:n,embeddableType:o})=>{var r;const a=Object(l.useMemo)((()=>s.a.createRef()),[]),i=re(),c=oe((e=>e.explicitInput.controlStyle)),u=oe((e=>e.explicitInput.viewMode)),d=oe((e=>e.explicitInput.disabledActions)),p=(({untilEmbeddableLoaded:e,embeddableId:t,embeddableType:n})=>{const[o,r]=Object(l.useState)();return Object(l.useEffect)((()=>{let n=!0;return(async()=>{const o=await e(t);n&&r(o)})(),()=>{n=!1}}),[e,t,n]),o})({untilEmbeddableLoaded:i.untilEmbeddableLoaded.bind(i),embeddableType:o,embeddableId:n}),[g,f]=Object(l.useState)(),h="twoLine"===c;Object(l.useEffect)((()=>{a.current&&(null==p||p.render(a.current));const e=null==p?void 0:p.getInput$().subscribe((e=>f(e.title)));return()=>{null==e||e.unsubscribe()}}),[p,a]);const b=x()("controlFrame__control",{"controlFrame--twoLine":"twoLine"===c,"controlFrame--oneLine":"oneLine"===c}),v=Object(T.jsx)(w.EuiFormControlLayout,{className:x()("controlFrame__formControlLayout",{"controlFrameFormControlLayout--twoLine":"twoLine"===c}),fullWidth:!0,prepend:Object(T.jsx)(s.a.Fragment,null,null!==(r=p&&e)&&void 0!==r?r:null,"function"==typeof(null==p?void 0:p.renderPrepend)?p.renderPrepend():h?void 0:Object(T.jsx)(w.EuiToolTip,{anchorClassName:"controlFrame__labelToolTip",content:g},Object(T.jsx)(w.EuiFormLabel,{className:"controlFrame__formControlLayoutLabel",htmlFor:n},g)))},p&&Object(T.jsx)("div",{className:b,id:`controlFrame--${n}`,ref:a},Object(m.isErrorEmbeddable)(p)&&Object(T.jsx)(E.a,{error:p.error})),!p&&Object(T.jsx)("div",{className:b,id:`controlFrame--${n}`},Object(T.jsx)("div",{className:"controlFrame--controlLoading"},Object(T.jsx)(w.EuiLoadingChart,null))));return Object(T.jsx)(F.FloatingActions,{className:x()({"controlFrameFloatingActions--twoLine":h,"controlFrameFloatingActions--oneLine":!h}),viewMode:u,embeddable:p,disabledActions:d,isEnabled:p&&t},Object(T.jsx)(w.EuiFormRow,{"data-test-subj":"control-frame-title",fullWidth:!0,label:h?g||"...":void 0},v))},I=e=>{const{embeddableId:t,isEditable:n}=e,{over:o,listeners:r,isSorting:a,transform:i,transition:l,attributes:s,isDragging:c,setNodeRef:u}=Object(b.useSortable)({id:t,animateLayoutChanges:()=>!0,disabled:!n}),d={...e,dragInfo:{...e.dragInfo,isOver:(null==o?void 0:o.id)===t,isDragging:c}};return Object(T.jsx)(M,S()({key:t,ref:u},d,s,r,{style:{transition:null!=l?l:void 0,transform:a?void 0:O.CSS.Translate.toString(i)}}))},M=Object(l.forwardRef)((({embeddableId:e,embeddableType:t,dragInfo:n,style:o,isEditable:r,...a},i)=>{const{isOver:l,isDragging:s,draggingIndex:c,index:u}=n,d=oe((e=>e.explicitInput.panels)),p=d[e].grow,g=d[e].width,m=d[e].explicitInput.title,f=Object(T.jsx)("button",S()({ref:i},a,{"aria-label":`${C.a.ariaActions.getMoveControlButtonAction(m)}`,className:"controlFrame__dragHandle"}),Object(T.jsx)(w.EuiIcon,{type:"grabHorizontal"}));return Object(T.jsx)(w.EuiFlexItem,{grow:p,"data-control-id":e,"data-test-subj":"control-frame","data-render-complete":"true",className:x()("controlFrameWrapper",{"controlFrameWrapper--grow":p,"controlFrameWrapper-isDragging":s,"controlFrameWrapper-isEditable":r,"controlFrameWrapper--small":"small"===g,"controlFrameWrapper--medium":"medium"===g,"controlFrameWrapper--large":"large"===g,"controlFrameWrapper--insertBefore":l&&(null!=u?u:-1)<(null!=c?c:-1),"controlFrameWrapper--insertAfter":l&&(null!=u?u:-1)>(null!=c?c:-1)}),style:o},Object(T.jsx)(D,{enableActions:-1===c,embeddableId:e,embeddableType:t,customPrepend:r?f:void 0}))})),L=({draggingId:e})=>{const t=oe((e=>e.explicitInput.panels)),n=oe((e=>e.explicitInput.controlStyle)),o=t[e].width,r=t[e].explicitInput.title;return Object(T.jsx)(w.EuiFlexItem,{className:x()("controlFrameCloneWrapper",{"controlFrameCloneWrapper--small":"small"===o,"controlFrameCloneWrapper--medium":"medium"===o,"controlFrameCloneWrapper--large":"large"===o,"controlFrameCloneWrapper--twoLine":"twoLine"===n})},"twoLine"===n?Object(T.jsx)(w.EuiFormLabel,null,r):void 0,Object(T.jsx)(w.EuiFlexGroup,{responsive:!1,gutterSize:"none",className:"controlFrame__draggable"},Object(T.jsx)(w.EuiFlexItem,{grow:!1},Object(T.jsx)(w.EuiIcon,{type:"grabHorizontal",className:"controlFrame__dragHandle"})),"oneLine"===n?Object(T.jsx)(w.EuiFlexItem,null,Object(T.jsx)("label",{className:"controlFrameCloneWrapper__label"},r)):void 0))},R=d.useSelector,_=()=>{const e=re(),t=R((e=>e.explicitInput.panels)),n=R((e=>e.explicitInput.viewMode)),o=R((e=>e.explicitInput.controlStyle)),r=R((e=>e.componentState.showAddButton)),a=n===m.ViewMode.EDIT,i=Object(l.useMemo)((()=>Object.values(t).sort(((e,t)=>e.order>t.order?1:-1)).reduce(((e,t)=>(e.push(t.explicitInput.id),e)),[])),[t]),[c,u]=Object(l.useState)(null),d=Object(l.useMemo)((()=>c?i.indexOf(c):-1),[i,c]),p=Object(v.useSensors)(Object(v.useSensor)(v.PointerSensor),Object(v.useSensor)(v.KeyboardSensor,{coordinateGetter:b.sortableKeyboardCoordinates})),g=!(i&&i.length>0);if(!a&&g)return null;let f="transparent";return g&&(f="plain"),c&&(f="success"),Object(T.jsx)(s.a.Fragment,null,i.length>0||r?Object(T.jsx)(w.EuiPanel,{borderRadius:"m",color:f,paddingSize:g?"s":"none","data-test-subj":"controls-group-wrapper",className:x()("controlsWrapper",{"controlsWrapper--empty":g,"controlsWrapper--twoLine":"twoLine"===o})},Object(T.jsx)(w.EuiFlexGroup,{wrap:!1,gutterSize:"m",direction:"row",responsive:!1,alignItems:"center","data-test-subj":"controls-group"},Object(T.jsx)(w.EuiFlexItem,null,Object(T.jsx)(v.DndContext,{onDragStart:({active:e})=>u(e.id),onDragEnd:({over:t})=>{var n;if(t){const n=i.indexOf(t.id);if(d!==n){const t=n;e.dispatch.setControlOrders({ids:Object(b.arrayMove)([...i],d,t)})}}null===(n=document.activeElement)||void 0===n||n.blur(),u(null)},onDragCancel:()=>u(null),sensors:p,collisionDetection:v.closestCenter,layoutMeasuring:{strategy:v.LayoutMeasuringStrategy.Always}},Object(T.jsx)(b.SortableContext,{items:i,strategy:b.rectSortingStrategy},Object(T.jsx)(w.EuiFlexGroup,{className:x()("controlGroup",{"controlGroup-isDragging":c}),alignItems:"center",gutterSize:"s",wrap:!0},i.map(((e,n)=>t[e]&&Object(T.jsx)(I,{isEditable:a,dragInfo:{index:n,draggingIndex:d},embeddableId:e,embeddableType:t[e].type,key:e}))))),Object(T.jsx)(v.DragOverlay,null,c?Object(T.jsx)(L,{draggingId:c}):null))),r&&Object(T.jsx)(w.EuiFlexItem,{grow:!1},Object(T.jsx)(w.EuiButtonIcon,{size:"s",iconSize:"m",display:"base",iconType:"plusInCircle","aria-label":C.a.management.getAddControlTitle(),onClick:()=>e.openAddDataControlFlyout()})))):Object(T.jsx)(s.a.Fragment,null))};var W=n(67),A=n(34),N=n(12),P=n(70);function k(e){var t,n;const{controlInputTransform:o,onSave:r}=e||{},{core:{theme:a,i18n:i},overlays:{openFlyout:l,openConfirm:s},controls:{getControlFactory:c}}=h.a.getServices(),u=e=>{e&&0!==Object.keys(e.input).length?s(C.a.management.discardNewControl.getSubtitle(),{confirmButtonText:C.a.management.discardNewControl.getConfirm(),cancelButtonText:C.a.management.discardNewControl.getCancel(),title:C.a.management.discardNewControl.getTitle(),buttonColor:"danger"}).then((e=>{e&&this.closeAllFlyouts()})):this.closeAllFlyouts()},p=l(Object(W.a)(Object(T.jsx)(ne.Provider,{value:this},Object(T.jsx)(P.a,{setLastUsedDataViewId:e=>this.setLastUsedDataViewId(e),getRelevantDataViewId:this.getMostRelevantDataViewId,isCreate:!0,width:null!==(t=this.getInput().defaultControlWidth)&&void 0!==t?t:N.c,grow:null!==(n=this.getInput().defaultControlGrow)&&void 0!==n?n:N.a,onSave:async(e,t)=>{if(this.closeAllFlyouts(),!t)return;let n=e.input;const a=c(t);a.presaveTransformFunction&&(n=a.presaveTransformFunction(n)),o&&(n=o({...n},t));const i={grow:e.grow,width:e.width,...n};let l;switch(t){case A.OPTIONS_LIST_CONTROL:l=await this.addOptionsListControl(i);break;case A.RANGE_SLIDER_CONTROL:l=await this.addRangeSliderControl(i);break;default:l=await this.addDataControlFromField(i)}r&&!Object(m.isErrorEmbeddable)(l)&&r(l.id),Object(d.batch)((()=>{this.dispatch.setDefaultControlGrow(e.grow),this.dispatch.setDefaultControlWidth(e.width)}))},onCancel:u})),{theme:a,i18n:i}),{"aria-label":C.a.manageControl.getFlyoutCreateTitle(),outsideClickCloses:!1,onClose:()=>{u()}});te(p)}var G=n(5),B=n.n(G),z=n(71),K=n(7);const V=({controlCount:e,initialInput:t,updateInput:n,onDeleteAll:o,onClose:r})=>{var a;const[i,c]=Object(l.useState)({...Object(K.getDefaultControlGroupInput)(),...t}),u=Object(l.useCallback)((e=>{c({...i,...e})}),[i]),d=Object(l.useCallback)((e=>{var t;c({...i,ignoreParentSettings:{...null!==(t=i.ignoreParentSettings)&&void 0!==t?t:{},...e}})}),[i]),p=Object(l.useCallback)((()=>{const e={...i};var o,r;o=e,r=t,B()(o,r)||n(e)}),[i,t,n]);return Object(T.jsx)(s.a.Fragment,null,Object(T.jsx)(w.EuiFlyoutHeader,{hasBorder:!0},Object(T.jsx)(w.EuiTitle,{size:"m"},Object(T.jsx)("h2",null,C.a.management.getFlyoutTitle()))),Object(T.jsx)(w.EuiFlyoutBody,{"data-test-subj":"control-group-settings-flyout"},Object(T.jsx)(w.EuiForm,null,Object(T.jsx)(w.EuiFormRow,{label:C.a.management.labelPosition.getLabelPositionTitle()},Object(T.jsx)(w.EuiButtonGroup,{color:"primary",options:z.a,"data-test-subj":"control-group-layout-options",idSelected:i.controlStyle,legend:C.a.management.labelPosition.getLabelPositionLegend(),onChange:e=>{u({controlStyle:e})}})),Object(T.jsx)(w.EuiHorizontalRule,{margin:"m"}),Object(T.jsx)(w.EuiFlexGroup,null,Object(T.jsx)(w.EuiFlexItem,{grow:!1},Object(T.jsx)(w.EuiSpacer,{size:"xs"}),Object(T.jsx)(w.EuiSwitch,{"data-test-subj":"control-group-validate-selections",label:C.a.management.validateSelections.getValidateSelectionsTitle(),showLabel:!1,checked:!Boolean(null===(a=i.ignoreParentSettings)||void 0===a?void 0:a.ignoreValidations),onChange:e=>d({ignoreValidations:!e.target.checked})})),Object(T.jsx)(w.EuiFlexItem,null,Object(T.jsx)(w.EuiTitle,{size:"xxs"},Object(T.jsx)("h3",null,C.a.management.validateSelections.getValidateSelectionsTitle())),Object(T.jsx)(w.EuiText,{size:"s"},Object(T.jsx)("p",null,C.a.management.validateSelections.getValidateSelectionsSubTitle())))),Object(T.jsx)(w.EuiHorizontalRule,{margin:"m"}),Object(T.jsx)(w.EuiFlexGroup,null,Object(T.jsx)(w.EuiFlexItem,{grow:!1},Object(T.jsx)(w.EuiSpacer,{size:"xs"}),Object(T.jsx)(w.EuiSwitch,{"data-test-subj":"control-group-chaining",label:C.a.management.controlChaining.getHierarchyTitle(),showLabel:!1,checked:"HIERARCHICAL"===i.chainingSystem,onChange:e=>u({chainingSystem:e.target.checked?"HIERARCHICAL":"NONE"})})),Object(T.jsx)(w.EuiFlexItem,null,Object(T.jsx)(w.EuiTitle,{size:"xxs"},Object(T.jsx)("h3",null,C.a.management.controlChaining.getHierarchyTitle())),Object(T.jsx)(w.EuiText,{size:"s"},Object(T.jsx)("p",null,C.a.management.controlChaining.getHierarchySubTitle())))),e>0&&Object(T.jsx)(s.a.Fragment,null,Object(T.jsx)(w.EuiHorizontalRule,{margin:"m"}),Object(T.jsx)(w.EuiSpacer,{size:"m"}),Object(T.jsx)(w.EuiButtonEmpty,{onClick:o,"data-test-subj":"delete-all-controls-button","aria-label":"delete-all",iconType:"trash",color:"danger",flush:"left",size:"s"},C.a.management.getDeleteAllButtonTitle())))),Object(T.jsx)(w.EuiFlyoutFooter,null,Object(T.jsx)(w.EuiFlexGroup,{responsive:!1,justifyContent:"spaceBetween"},Object(T.jsx)(w.EuiFlexItem,{grow:!1},Object(T.jsx)(w.EuiButtonEmpty,{"aria-label":"cancel-editing-group",iconType:"cross",onClick:()=>{r()}},C.a.manageControl.getCancelTitle())),Object(T.jsx)(w.EuiFlexItem,{grow:!1},Object(T.jsx)(w.EuiButton,{"aria-label":"save-group",iconType:"check",color:"primary","data-test-subj":"control-group-editor-save",onClick:()=>{p(),r()}},C.a.manageControl.getSaveChangesTitle())))))};function $(){var e;const{core:{theme:t,i18n:n},overlays:{openFlyout:o,openConfirm:r}}=h.a.getServices(),a=e=>{r(C.a.management.deleteControls.getSubtitle(),{confirmButtonText:C.a.management.deleteControls.getConfirm(),cancelButtonText:C.a.management.deleteControls.getCancel(),title:C.a.management.deleteControls.getDeleteAllTitle(),buttonColor:"danger"}).then((t=>{t&&Object.keys(this.getInput().panels).forEach((e=>this.removeEmbeddable(e))),e.close()}))},i=o(Object(W.a)(Object(T.jsx)(ne.Provider,{value:this},Object(T.jsx)(V,{initialInput:this.getInput(),updateInput:e=>this.updateInput(e),controlCount:Object.keys(null!==(e=this.getInput().panels)&&void 0!==e?e:{}).length,onDeleteAll:()=>a(i),onClose:()=>i.close()})),{theme:t,i18n:n}),{"aria-label":C.a.manageControl.getFlyoutCreateTitle(),outsideClickCloses:!1,onClose:()=>{this.closeAllFlyouts()}});te(i)}var H=n(24);const q={setControlStyle:(e,t)=>{e.explicitInput.controlStyle=t.payload},setChainingSystem:(e,t)=>{e.explicitInput.chainingSystem=t.payload},setDefaultControlWidth:(e,t)=>{e.explicitInput.defaultControlWidth=t.payload},setDefaultControlGrow:(e,t)=>{e.explicitInput.defaultControlGrow=t.payload},setControlWidth:(e,t)=>{e.explicitInput.panels[t.payload.embeddableId].width=t.payload.width},setControlGrow:(e,t)=>{e.explicitInput.panels[t.payload.embeddableId].grow=t.payload.grow},setControlOrders:(e,t)=>{t.payload.ids.forEach(((t,n)=>{e.explicitInput.panels[t].order=n}))}};var U=n(15);const X=e=>Object.values(null!=e?e:{}).map((e=>({id:e.explicitInput.id,order:e.order}))),Y=Object(i.memoize)((e=>{const t={},n=[];Object.values(e).sort(((e,t)=>e.order>t.order?1:-1)).forEach((e=>{t[e.explicitInput.id]=e.order,n.push(e.explicitInput.id)}));const o=n[n.length-1];return{IdsToOrder:t,idsInOrder:n,lastChildId:o}}),(e=>JSON.stringify(X(e)))),J={HIERARCHICAL:{getContainerSettings:e=>({childIdInitializeOrder:Object.values(e.panels).sort(((e,t)=>e.order>t.order?1:-1)).map((e=>e.explicitInput.id)),initializeSequentially:!0}),getPrecedingFilters:({id:e,childOrder:t,getChild:n})=>{var o;let r,a=[];const i=null===(o=t.IdsToOrder)||void 0===o?void 0:o[e];if(!i||0===i)return{filters:a,timeslice:r};for(let e=0;e<i;e++){var l;const o=n(t.idsInOrder[e]);if(!o||Object(m.isErrorEmbeddable)(o))return{filters:a,timeslice:r};const i=o.getOutput();i.timeslice&&(r=i.timeslice),a=[...a,...null!==(l=i.filters)&&void 0!==l?l:[]]}return{filters:a,timeslice:r}},onChildChange:({childOutputChangedId:e,childOrder:t,recalculateFilters$:n,getChild:o})=>{if(e===t.lastChildId)return void n.next(null);let r=t.IdsToOrder[e]+1;for(;r<t.idsInOrder.length;){var a;const e=o(t.idsInOrder[r]);if(null!=e&&null!==(a=e.isChained)&&void 0!==a&&a.call(e))return void setTimeout((()=>e.refreshInputFromParent()),1);if(e.id===t.lastChildId)return void n.next(null);r+=1}}},NONE:{getContainerSettings:()=>{},getPrecedingFilters:()=>{},onChildChange:({recalculateFilters$:e})=>e.next(null)}};var Q=n(22);let Z;const te=e=>{Z=e},ne=Object(l.createContext)(null),oe=d.useSelector,re=()=>{const e=Object(l.useContext)(ne);if(null==e)throw new Error("useControlGroupContainer must be used inside ControlGroupContainerContext.");return e};class control_group_container_ControlGroupContainer extends m.Container{constructor(e,t,n,o,l){var s;super(t,{dataViewIds:[],embeddableLoaded:{},filters:[]},h.a.getServices().controls.getControlFactory,n,null===(s=J[t.chainingSystem])||void 0===s?void 0:s.getContainerSettings(t)),r()(this,"type",U.a),r()(this,"anyControlOutputConsumerLoading$",new p.Subject),r()(this,"initialized$",new p.BehaviorSubject(!1)),r()(this,"subscriptions",new p.Subscription),r()(this,"domNode",void 0),r()(this,"recalculateFilters$",void 0),r()(this,"relevantDataViewId",void 0),r()(this,"lastUsedDataViewId",void 0),r()(this,"select",void 0),r()(this,"getState",void 0),r()(this,"dispatch",void 0),r()(this,"onStateChange",void 0),r()(this,"store",void 0),r()(this,"cleanupStateTools",void 0),r()(this,"onFiltersPublished$",void 0),r()(this,"onControlRemoved$",void 0),r()(this,"fieldFilterPredicate",void 0),r()(this,"setupSubscriptions",(()=>{this.subscriptions.add(this.getInput$().pipe(Object(g.skip)(1),Object(g.distinctUntilChanged)(((e,t)=>{return n=e.panels,o=t.panels,B()(X(n),X(o));var n,o}))).subscribe((e=>{this.recalculateDataViews(),this.recalculateFilters(),Y(e.panels).idsInOrder.forEach((e=>{var t;return null===(t=this.getChild(e))||void 0===t?void 0:t.refreshInputFromParent()}))}))),this.subscriptions.add(this.getAnyChildOutputChange$().subscribe((e=>{this.recalculateDataViews(),J[this.getInput().chainingSystem].onChildChange({childOutputChangedId:e,childOrder:Y(this.getInput().panels),getChild:e=>this.getChild(e),recalculateFilters$:this.recalculateFilters$})}))),this.subscriptions.add(this.recalculateFilters$.pipe(Object(g.debounceTime)(10)).subscribe((()=>this.recalculateFilters())))})),r()(this,"updateInputAndReinitialize",(e=>{this.subscriptions.unsubscribe(),this.subscriptions=new p.Subscription,this.initialized$.next(!1),this.updateInput(e),this.untilAllChildrenReady().then((()=>{this.recalculateDataViews(),this.recalculateFilters(),this.setupSubscriptions(),this.initialized$.next(!0)}))})),r()(this,"setLastUsedDataViewId",(e=>{this.lastUsedDataViewId=e})),r()(this,"setRelevantDataViewId",(e=>{this.relevantDataViewId=e})),r()(this,"getMostRelevantDataViewId",(()=>{var e;return null!==(e=this.lastUsedDataViewId)&&void 0!==e?e:this.relevantDataViewId})),r()(this,"openAddDataControlFlyout",k),r()(this,"openEditControlGroupFlyout",$),r()(this,"getPanelCount",(()=>Object.keys(this.getInput().panels).length)),r()(this,"updateFilterContext",(e=>{this.updateInput({filters:e})})),r()(this,"recalculateFilters",(()=>{var e;const t=[];let n;Object.values(this.children).map((e=>{var o;const r=e.getOutput();t.push(...null!==(o=null==r?void 0:r.filters)&&void 0!==o?o:[]),r.timeslice&&(n=r.timeslice)})),Object(a.compareFilters)(null!==(e=this.output.filters)&&void 0!==e?e:[],null!=t?t:[],a.COMPARE_ALL_OPTIONS)&&Object(i.isEqual)(this.output.timeslice,n)||(this.updateOutput({filters:Object(a.uniqFilters)(t),timeslice:n}),this.onFiltersPublished$.next(t))})),r()(this,"recalculateDataViews",(()=>{const e=new Set;Object.values(this.children).map((t=>{const n=t.getOutput().dataViewId;n&&e.add(n)})),this.updateOutput({dataViewIds:Array.from(e)})})),r()(this,"untilAllChildrenReady",(()=>{const e=()=>Object.keys(this.getInput().panels).some((e=>!this.getOutput().embeddableLoaded[e]));return e()?new Promise(((t,n)=>{const o=Object(p.merge)(this.getOutput$(),this.getInput$()).subscribe((()=>{this.destroyed&&(o.unsubscribe(),n()),e()||(o.unsubscribe(),t())}))})):Promise.resolve()})),r()(this,"untilInitialized",(()=>!1===this.initialized$.value?new Promise(((e,t)=>{const n=this.initialized$.subscribe((o=>{this.destroyed&&(n.unsubscribe(),t()),o&&(n.unsubscribe(),e())}))})):Promise.resolve())),this.recalculateFilters$=new p.Subject,this.onFiltersPublished$=new p.Subject,this.onControlRemoved$=new p.Subject;const c=e.createReduxEmbeddableTools({embeddable:this,reducers:q,initialComponentState:o});this.select=c.select,this.getState=c.getState,this.dispatch=c.dispatch,this.cleanupStateTools=c.cleanup,this.onStateChange=c.onStateChange,this.store=c.store,this.untilAllChildrenReady().then((()=>{this.recalculateDataViews(),this.recalculateFilters(),this.setupSubscriptions(),this.initialized$.next(!0)})),this.fieldFilterPredicate=l}closeAllFlyouts(){var e;null===(e=Z)||void 0===e||e.close(),Z=void 0}async addDataControlFromField(e){const t=await Object(H.b)(this.getInput(),e);return this.createAndSaveEmbeddable(t.type,t,this.getInput().panels)}addOptionsListControl(e){const t=Object(H.c)(this.getInput(),e);return this.createAndSaveEmbeddable(t.type,t,this.getInput().panels)}addRangeSliderControl(e){const t=Object(H.d)(this.getInput(),e);return this.createAndSaveEmbeddable(t.type,t,this.getInput().panels)}addTimeSliderControl(){const e=Object(H.e)(this.getInput());return this.createAndSaveEmbeddable(e.type,e,this.getInput().panels)}createNewPanelState(e,t={},n){const{newPanel:o}=super.createNewPanelState(e,t);return{newPanel:{order:Object(Q.b)(this.getInput().panels),width:this.getInput().defaultControlWidth,grow:this.getInput().defaultControlGrow,...o},otherPanels:n}}onRemoveEmbeddable(e){const t=super.onRemoveEmbeddable(e),n=Y(this.getInput().panels);for(let o=n.IdsToOrder[e]+1;o<n.idsInOrder.length;o++){const e=t[n.idsInOrder[o]].order;t[n.idsInOrder[o]]={...t[n.idsInOrder[o]],order:e-1}}return this.onControlRemoved$.next(e),t}getInheritedInput(e){var t;const{filters:n,query:o,ignoreParentSettings:r,timeRange:a,chainingSystem:i,panels:l}=this.getInput(),s=J[i].getPrecedingFilters({id:e,childOrder:Y(l),getChild:e=>this.getChild(e)});return{ignoreParentSettings:r,filters:[...null!=r&&r.ignoreFilters?[]:null!=n?n:[],...null!==(t=null==s?void 0:s.filters)&&void 0!==t?t:[]],query:null!=r&&r.ignoreQuery?void 0:o,timeRange:null!=r&&r.ignoreTimerange?void 0:a,timeslice:null!=r&&r.ignoreTimerange||null==s?void 0:s.timeslice,id:e}}render(e){this.domNode&&u.a.unmountComponentAtNode(this.domNode),this.domNode=e,u.a.render(Object(T.jsx)(f.a,{theme:h.a.getServices().core.theme},Object(T.jsx)(d.Provider,{store:this.store},Object(T.jsx)(ne.Provider,{value:this},Object(T.jsx)(_,null)))),e)}destroy(){super.destroy(),this.closeAllFlyouts(),this.subscriptions.unsubscribe(),this.cleanupStateTools(),this.domNode&&u.a.unmountComponentAtNode(this.domNode)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var o=n(6),r=n(40),a=n.n(r),i=n(56),l=n.n(i),s=n(57),c=n(49),u=n(4);const d=({children:e,...t})=>Object(u.jsx)(s.b,l()({globalStyles:!1},t),Object(u.jsx)(c.KibanaErrorBoundaryProvider,{analytics:t.analytics},Object(u.jsx)(c.KibanaErrorBoundary,null,e))),p=(e,t)=>n=>(a.a.render(Object(u.jsx)(d,t,e),n),()=>a.a.unmountComponentAtNode(n));n(1),n(0);class mount_point_portal_MountPointPortalErrorBoundary extends o.Component{constructor(...e){super(...e),definePropertyfrom_dll_reference_kbnSharedDeps_npm_default()(this,"state",{error:void 0})}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(){}render(){return this.state.error?Object(u.jsx)("p",null,external_kbnSharedDeps_KbnI18n_.i18n.translate("reactPackages.mountPointPortal.errorMessage",{defaultMessage:"Error rendering portal content"})):this.props.children}}},function(e,t,n){"use strict";e.exports=n(78)},function(e,t,n){"use strict";e.exports=n(79)},function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var o=n(6),r=n.n(o),a=n(83),i=n.n(a),l=n(31),s=n.n(l),c=n(5),u=n.n(c),d=n(8),p=n(3),g=n(52),m=n(71),f=n(17),h=n(32),b=n(66),v=n(4);const y=Object(p.withSuspense)(p.LazyFieldPicker,null),x=Object(p.withSuspense)(p.LazyDataViewPicker,null),w=({embeddable:e,isCreate:t,width:n,grow:a,onSave:l,onCancel:c,removeControl:p,getRelevantDataViewId:w,setLastUsedDataViewId:C})=>{var j,S;const{dataViews:{getIdsWithTitle:O,getDefaultId:F,get:E},controls:{getControlFactory:T}}=f.a.getServices(),D=Object(b.useControlGroupContainer)(),I=D.select((e=>e.componentState.editorConfig)),[M,L]=Object(o.useState)(a),[R,_]=Object(o.useState)(n),[W,A]=Object(o.useState)(),[N,P]=Object(o.useState)(null!==(j=null==e?void 0:e.getTitle())&&void 0!==j?j:""),[k,G]=Object(o.useState)(!1),[B,z]=Object(o.useState)(),[K,V]=Object(o.useState)(e?e.getInput().fieldName:void 0),[$,H]=Object(o.useState)(),q=Object(o.useMemo)((()=>({fieldName:K,dataViewId:B,title:""===N?null!=W?W:K:N,...$})),[N,W,K,B,$]),U=Object(o.useRef)(q);i()((()=>{let t=!0;return K&&A(K),(async(n,o)=>{if(!t)return;const r=null!==(n=null!==(o=null==e?void 0:e.getInput().dataViewId)&&void 0!==o?o:null==w?void 0:w())&&void 0!==n?n:await F();r&&(z(r),U.current={...U.current,dataViewId:r})})(),()=>{t=!1}}));const{loading:X,value:Y=[]}=s()((()=>O())),{loading:J,value:{selectedDataView:Q,fieldRegistry:Z}={selectedDataView:void 0,fieldRegistry:void 0}}=s()((async()=>{if(!B)return;const e=await E(B);return{selectedDataView:e,fieldRegistry:await Object(h.a)(e)}}),[B]);Object(o.useEffect)((()=>G(Boolean(K)&&Boolean(Q))),[K,G,Q]);const te=K&&Z&&Z[K].compatibleControlTypes[0],ne=te&&T(te),oe=ne&&ne.controlEditorOptionsComponent;return Object(v.jsx)(r.a.Fragment,null,Object(v.jsx)(d.EuiFlyoutHeader,{hasBorder:!0},Object(v.jsx)(d.EuiTitle,{size:"m"},Object(v.jsx)("h2",null,t?g.a.manageControl.getFlyoutCreateTitle():g.a.manageControl.getFlyoutEditTitle()))),Object(v.jsx)(d.EuiFlyoutBody,{"data-test-subj":"control-editor-flyout"},Object(v.jsx)(d.EuiForm,{fullWidth:!0},Object(v.jsx)(d.EuiDescribedFormGroup,{ratio:"third",title:Object(v.jsx)("h2",null,g.a.manageControl.dataSource.getFormGroupTitle()),description:g.a.manageControl.dataSource.getFormGroupDescription()},!(null!=I&&I.hideDataViewSelector)&&Object(v.jsx)(d.EuiFormRow,{label:g.a.manageControl.dataSource.getDataViewTitle()},Object(v.jsx)(x,{dataViews:Y,selectedDataViewId:B,onChangeDataViewId:e=>{null==C||C(e),e!==B&&(V(void 0),z(e))},trigger:{label:null!==(S=null==Q?void 0:Q.getName())&&void 0!==S?S:g.a.manageControl.dataSource.getSelectDataViewMessage()},selectableProps:{isLoading:X}})),Object(v.jsx)(d.EuiFormRow,{label:g.a.manageControl.dataSource.getFieldTitle()},Object(v.jsx)(y,{filterPredicate:e=>{var t,n;const o=null===(t=null===(n=D.fieldFilterPredicate)||void 0===n?void 0:n.call(D,e))||void 0===t||t;return Boolean(null==Z?void 0:Z[e.name])&&o},selectedFieldName:K,dataView:Q,onSelectField:e=>{var t;const n=null!==(t=e.displayName)&&void 0!==t?t:e.name;A(n),V(e.name),N&&N!==W||P(n)},selectableProps:{isLoading:X||J}})),Object(v.jsx)(d.EuiFormRow,{label:g.a.manageControl.dataSource.getControlTypeTitle()},ne?Object(v.jsx)(d.EuiFlexGroup,{alignItems:"center",gutterSize:"xs",responsive:!1},Object(v.jsx)(d.EuiFlexItem,{grow:!1},Object(v.jsx)(d.EuiIcon,{type:ne.getIconType()})),Object(v.jsx)(d.EuiFlexItem,{"data-test-subj":"control-editor-type"},ne.getDisplayName())):Object(v.jsx)(d.EuiTextColor,{color:"subdued","data-test-subj":"control-editor-type"},g.a.manageControl.dataSource.noControlTypeMessage()))),Object(v.jsx)(d.EuiDescribedFormGroup,{ratio:"third",title:Object(v.jsx)("h2",null,g.a.manageControl.displaySettings.getFormGroupTitle()),description:g.a.manageControl.displaySettings.getFormGroupDescription()},Object(v.jsx)(d.EuiFormRow,{label:g.a.manageControl.displaySettings.getTitleInputTitle()},Object(v.jsx)(d.EuiFieldText,{"data-test-subj":"control-editor-title-input",placeholder:W,value:N,onChange:e=>P(e.target.value)})),!(null!=I&&I.hideWidthSettings)&&Object(v.jsx)(d.EuiFormRow,{label:g.a.manageControl.displaySettings.getWidthInputTitle()},Object(v.jsx)("div",null,Object(v.jsx)(d.EuiButtonGroup,{color:"primary",legend:g.a.management.controlWidth.getWidthSwitchLegend(),options:m.b,idSelected:R,onChange:e=>_(e)}),Object(v.jsx)(d.EuiSpacer,{size:"s"}),Object(v.jsx)(d.EuiSwitch,{label:g.a.manageControl.displaySettings.getGrowSwitchTitle(),color:"primary",checked:M,onChange:()=>L(!M),"data-test-subj":"control-editor-grow-switch"})))),!(null!=I&&I.hideAdditionalSettings)&&oe&&ne.controlEditorOptionsComponent&&Object(v.jsx)(d.EuiDescribedFormGroup,{ratio:"third",title:Object(v.jsx)("h2",null,g.a.manageControl.controlTypeSettings.getFormGroupTitle(ne.getDisplayName())),description:g.a.manageControl.controlTypeSettings.getFormGroupDescription(ne.getDisplayName()),"data-test-subj":"control-editor-custom-settings"},Object(v.jsx)(oe,{onChange:e=>H(e),initialInput:null==e?void 0:e.getInput(),fieldType:null==Z?void 0:Z[K].field.type})),p&&Object(v.jsx)(r.a.Fragment,null,Object(v.jsx)(d.EuiSpacer,{size:"l"}),Object(v.jsx)(d.EuiButtonEmpty,{"aria-label":`delete-${q.title}`,iconType:"trash",flush:"left",color:"danger",onClick:()=>{c({input:q,grow:M,width:R}),p()}},g.a.management.getDeleteButtonTitle())))),Object(v.jsx)(d.EuiFlyoutFooter,null,Object(v.jsx)(d.EuiFlexGroup,{responsive:!1,justifyContent:"spaceBetween"},Object(v.jsx)(d.EuiFlexItem,{grow:!1},Object(v.jsx)(d.EuiButtonEmpty,{"aria-label":`cancel-${q.title}`,"data-test-subj":"control-editor-cancel",iconType:"cross",onClick:()=>{const e=t&&u()(U.current,q)?{}:q;c({input:e,grow:M,width:R})}},g.a.manageControl.getCancelTitle())),Object(v.jsx)(d.EuiFlexItem,{grow:!1},Object(v.jsx)(d.EuiButton,{"aria-label":`save-${q.title}`,"data-test-subj":"control-editor-save",iconType:"check",color:"primary",disabled:!k,onClick:()=>l({input:q,grow:M,width:R},te)},g.a.manageControl.getSaveChangesTitle())))))}},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var o=n(52);const r=[{id:"small","data-test-subj":"control-editor-width-small",label:o.a.management.controlWidth.getSmallWidthTitle()},{id:"medium","data-test-subj":"control-editor-width-medium",label:o.a.management.controlWidth.getMediumWidthTitle()},{id:"large","data-test-subj":"control-editor-width-large",label:o.a.management.controlWidth.getLargeWidthTitle()}],a=[{id:"oneLine","data-test-subj":"control-editor-layout-oneLine",label:o.a.management.labelPosition.getInlineTitle()},{id:"twoLine","data-test-subj":"control-editor-layout-twoLine",label:o.a.management.labelPosition.getAboveTitle()}]},,function(e,t,n){switch(window.__kbnThemeTag__){case"v8dark":return n(74);case"v8light":return n(76)}},function(e,t,n){var o=n(53),r=n(75);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);o(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,n){(t=n(54)(!1)).push([e.i,'.controlGroup{min-height:64px}.controlsWrapper--twoLine .groupEditActions{padding-top:16px}.controlFrameCloneWrapper{width:max-content}.controlFrameCloneWrapper--small{min-width:224px;width:224px}.controlFrameCloneWrapper--medium{min-width:400px;width:400px}.controlFrameCloneWrapper--large{min-width:800px;width:800px}.controlFrameCloneWrapper--twoLine{margin-top:-20px}.controlFrameCloneWrapper__label{cursor:grabbing!important}.controlFrameCloneWrapper .controlFrame__draggable{align-items:center;background-color:#16171c;background-color:#2c2f37;background-repeat:no-repeat;background-size:0 100%;border-radius:6px;box-shadow:0 0 #0000,inset 0 0 0 1px #ffffff1a;cursor:grabbing;font-size:12px;font-size:.85714rem;font-weight:600;height:40px;line-height:1.14286rem;min-width:224px;transition:box-shadow .15s ease-in,background-image .15s ease-in,background-size .15s ease-in,background-color .15s ease-in}@supports (-moz-appearance:none){.controlFrameCloneWrapper .controlFrame__draggable{transition-property:box-shadow,background-image,background-size}}.controlFrameCloneWrapper .controlFrame__draggable .controlFrame__dragHandle,.controlFrameCloneWrapper .controlFrame__formControlLayout .controlFrame__dragHandle{cursor:grabbing}@media only screen and (max-width:574px){.controlFrameCloneWrapper{width:100%}.controlFrameCloneWrapper--large,.controlFrameCloneWrapper--medium,.controlFrameCloneWrapper--small{min-width:unset}}@media only screen and (min-width:575px) and (max-width:767px){.controlFrameCloneWrapper{width:100%}.controlFrameCloneWrapper--large,.controlFrameCloneWrapper--medium,.controlFrameCloneWrapper--small{min-width:unset}}@media only screen and (min-width:768px) and (max-width:991px){.controlFrameCloneWrapper{width:100%}.controlFrameCloneWrapper--large,.controlFrameCloneWrapper--medium,.controlFrameCloneWrapper--small{min-width:unset}}.controlFrameWrapper{flex-basis:auto;position:relative}.controlFrameWrapper .controlFrame__labelToolTip{max-width:40%}.controlFrameWrapper-isEditable .controlFrame__formControlLayoutLabel{padding-left:0}.controlFrameWrapper .controlFrame__formControlLayout{min-width:224px;transition:background-color .1s,color .1s;width:100%}.controlFrameWrapper .controlFrame__formControlLayoutLabel{border-radius:6px;max-width:100%;overflow:hidden!important;text-overflow:ellipsis!important;white-space:nowrap!important}.controlFrameWrapper .controlFrame__formControlLayout:not(.controlFrame__formControlLayout-clone) .controlFrame__dragHandle{cursor:grab}.controlFrameWrapper .controlFrame__formControlLayout .controlFrame__control{background-color:#16171c!important;border-radius:0 5px 5px 0;height:100%;transition:opacity .1s}.controlFrameWrapper .controlFrame__formControlLayout .controlFrame--controlLoading{align-items:center;display:flex;height:100%;justify-content:center}.controlFrameWrapper--small{min-width:224px;width:224px}.controlFrameWrapper--medium{min-width:400px;width:400px}.controlFrameWrapper--large{min-width:800px;width:800px}@media only screen and (max-width:574px){.controlFrameWrapper--large,.controlFrameWrapper--medium,.controlFrameWrapper--small{min-width:unset}}@media only screen and (min-width:575px) and (max-width:767px){.controlFrameWrapper--large,.controlFrameWrapper--medium,.controlFrameWrapper--small{min-width:unset}}@media only screen and (min-width:768px) and (max-width:991px){.controlFrameWrapper--large,.controlFrameWrapper--medium,.controlFrameWrapper--small{min-width:unset}}.controlFrameWrapper--insertAfter .controlFrame__formControlLayout:after,.controlFrameWrapper--insertBefore .controlFrame__formControlLayout:after{background-color:#36a2ef80;border-radius:6px;bottom:0;content:"";position:absolute;top:0;width:2px}.controlFrameWrapper--insertBefore .controlFrame__formControlLayout:after{left:-5px}.controlFrameWrapper--insertAfter .controlFrame__formControlLayout:after{right:-5px}.controlFrameWrapper-isDragging .controlFrame__formControlLayout,.controlFrameWrapper-isDragging .euiFormRow__labelWrapper{opacity:0}.controlFrameFloatingActions{position:absolute;z-index:1}.controlFrameFloatingActions--oneLine{background-color:#1d1e24;border-radius:6px;box-shadow:0 0 0 1px #343741;padding:4px}.controlFrameFloatingActions--twoLine{top:-4px!important}',""]),e.exports=t},function(e,t,n){var o=n(53),r=n(77);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);o(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,n){(t=n(54)(!1)).push([e.i,'.controlGroup{min-height:64px}.controlsWrapper--twoLine .groupEditActions{padding-top:16px}.controlFrameCloneWrapper{width:max-content}.controlFrameCloneWrapper--small{min-width:224px;width:224px}.controlFrameCloneWrapper--medium{min-width:400px;width:400px}.controlFrameCloneWrapper--large{min-width:800px;width:800px}.controlFrameCloneWrapper--twoLine{margin-top:-20px}.controlFrameCloneWrapper__label{cursor:grabbing!important}.controlFrameCloneWrapper .controlFrame__draggable{align-items:center;background-color:#fbfcfd;background-color:#e9edf3;background-repeat:no-repeat;background-size:0 100%;border-radius:6px;box-shadow:0 0 #0000,inset 0 0 0 1px #112b861a;cursor:grabbing;font-size:12px;font-size:.85714rem;font-weight:600;height:40px;line-height:1.14286rem;min-width:224px;transition:box-shadow .15s ease-in,background-image .15s ease-in,background-size .15s ease-in,background-color .15s ease-in}@supports (-moz-appearance:none){.controlFrameCloneWrapper .controlFrame__draggable{transition-property:box-shadow,background-image,background-size}}.controlFrameCloneWrapper .controlFrame__draggable .controlFrame__dragHandle,.controlFrameCloneWrapper .controlFrame__formControlLayout .controlFrame__dragHandle{cursor:grabbing}@media only screen and (max-width:574px){.controlFrameCloneWrapper{width:100%}.controlFrameCloneWrapper--large,.controlFrameCloneWrapper--medium,.controlFrameCloneWrapper--small{min-width:unset}}@media only screen and (min-width:575px) and (max-width:767px){.controlFrameCloneWrapper{width:100%}.controlFrameCloneWrapper--large,.controlFrameCloneWrapper--medium,.controlFrameCloneWrapper--small{min-width:unset}}@media only screen and (min-width:768px) and (max-width:991px){.controlFrameCloneWrapper{width:100%}.controlFrameCloneWrapper--large,.controlFrameCloneWrapper--medium,.controlFrameCloneWrapper--small{min-width:unset}}.controlFrameWrapper{flex-basis:auto;position:relative}.controlFrameWrapper .controlFrame__labelToolTip{max-width:40%}.controlFrameWrapper-isEditable .controlFrame__formControlLayoutLabel{padding-left:0}.controlFrameWrapper .controlFrame__formControlLayout{min-width:224px;transition:background-color .1s,color .1s;width:100%}.controlFrameWrapper .controlFrame__formControlLayoutLabel{border-radius:6px;max-width:100%;overflow:hidden!important;text-overflow:ellipsis!important;white-space:nowrap!important}.controlFrameWrapper .controlFrame__formControlLayout:not(.controlFrame__formControlLayout-clone) .controlFrame__dragHandle{cursor:grab}.controlFrameWrapper .controlFrame__formControlLayout .controlFrame__control{background-color:#fbfcfd!important;border-radius:0 5px 5px 0;height:100%;transition:opacity .1s}.controlFrameWrapper .controlFrame__formControlLayout .controlFrame--controlLoading{align-items:center;display:flex;height:100%;justify-content:center}.controlFrameWrapper--small{min-width:224px;width:224px}.controlFrameWrapper--medium{min-width:400px;width:400px}.controlFrameWrapper--large{min-width:800px;width:800px}@media only screen and (max-width:574px){.controlFrameWrapper--large,.controlFrameWrapper--medium,.controlFrameWrapper--small{min-width:unset}}@media only screen and (min-width:575px) and (max-width:767px){.controlFrameWrapper--large,.controlFrameWrapper--medium,.controlFrameWrapper--small{min-width:unset}}@media only screen and (min-width:768px) and (max-width:991px){.controlFrameWrapper--large,.controlFrameWrapper--medium,.controlFrameWrapper--small{min-width:unset}}.controlFrameWrapper--insertAfter .controlFrame__formControlLayout:after,.controlFrameWrapper--insertBefore .controlFrame__formControlLayout:after{background-color:#0077cc80;border-radius:6px;bottom:0;content:"";position:absolute;top:0;width:2px}.controlFrameWrapper--insertBefore .controlFrame__formControlLayout:after{left:-5px}.controlFrameWrapper--insertAfter .controlFrame__formControlLayout:after{right:-5px}.controlFrameWrapper-isDragging .controlFrame__formControlLayout,.controlFrameWrapper-isDragging .euiFormRow__labelWrapper{opacity:0}.controlFrameFloatingActions{position:absolute;z-index:1}.controlFrameFloatingActions--oneLine{background-color:#fff;border-radius:6px;box-shadow:0 0 0 1px #d3dae6;padding:4px}.controlFrameFloatingActions--twoLine{top:-4px!important}',""]),e.exports=t},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(6),a=(o=r)&&"object"==typeof o&&"default"in o?o.default:o,i=n(69),l=n(65);function s(e,t,n){const o=e.slice();return o.splice(n<0?o.length+n:n,0,o.splice(t,1)[0]),o}function c(e){return null!==e&&e>=0}const u={scaleX:1,scaleY:1},d=({layoutRects:e,activeIndex:t,overIndex:n,index:o})=>{const r=s(e,n,t),a=e[o],i=r[o];return i&&a?{x:i.offsetLeft-a.offsetLeft,y:i.offsetTop-a.offsetTop,scaleX:i.width/a.width,scaleY:i.height/a.height}:null},p={scaleX:1,scaleY:1},g=a.createContext({activeIndex:-1,containerId:"Sortable",disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:d,wasSorting:{current:!1}}),m=({isSorting:e,index:t,newIndex:n,transition:o})=>!(!o||!e&&n===t),f={duration:200,easing:"ease"},h=l.CSS.Transition.toString({property:"transform",duration:0,easing:"linear"}),b={roleDescription:"sortable"},v=[i.KeyboardCode.Down,i.KeyboardCode.Right,i.KeyboardCode.Up,i.KeyboardCode.Left];t.SortableContext=function({children:e,id:t,items:n,strategy:o=d}){const{active:s,overlayNode:c,droppableRects:u,over:p,recomputeLayouts:m,willRecomputeLayouts:f}=i.useDndContext(),h=l.useUniqueId("Sortable",t),b=Boolean(null!==c.rect),v=r.useMemo((()=>n.map((e=>"string"==typeof e?e:e.id))),[n]),y=s?v.indexOf(s.id):-1,x=-1!==y,w=r.useRef(x),C=p?v.indexOf(p.id):-1,j=r.useRef(v),S=function(e,t){return e.reduce(((e,n,o)=>{const r=t.get(n);return r&&(e[o]=r),e}),Array(e.length))}(v,u),O=(F=j.current,!(v.join()===F.join()));var F;const E=-1!==C&&-1===y||O;l.useIsomorphicLayoutEffect((()=>{O&&x&&!f&&m()}),[O,x,m,f]),r.useEffect((()=>{j.current=v}),[v]),r.useEffect((()=>{requestAnimationFrame((()=>{w.current=x}))}),[x]);const T=r.useMemo((()=>({activeIndex:y,containerId:h,disableTransforms:E,items:v,overIndex:C,useDragOverlay:b,sortedRects:S,strategy:o,wasSorting:w})),[y,h,E,v,C,S,b,o,w]);return a.createElement(g.Provider,{value:T},e)},t.arrayMove=s,t.defaultAnimateLayoutChanges=m,t.horizontalListSortingStrategy=({layoutRects:e,activeNodeRect:t,activeIndex:n,overIndex:o,index:r})=>{var a;const i=null!=(a=e[n])?a:t;if(!i)return null;const l=function(e,t,n){const o=e[t],r=e[t-1],a=e[t+1];return r||a?n<t?r?o.offsetLeft-(r.offsetLeft+r.width):a.offsetLeft-(o.offsetLeft+o.width):a?a.offsetLeft-(o.offsetLeft+o.width):o.offsetLeft-(r.offsetLeft+r.width):0}(e,r,n);if(r===n){const t=e[o];return t?{x:n<o?t.offsetLeft+t.width-(i.offsetLeft+i.width):t.offsetLeft-i.offsetLeft,y:0,...u}:null}return r>n&&r<=o?{x:-i.width-l,y:0,...u}:r<n&&r>=o?{x:i.width+l,y:0,...u}:{x:0,y:0,...u}},t.rectSortingStrategy=d,t.rectSwappingStrategy=({activeIndex:e,index:t,layoutRects:n,overIndex:o})=>{let r,a;return t===e&&(r=n[t],a=n[o]),t===o&&(r=n[t],a=n[e]),a&&r?{x:a.offsetLeft-r.offsetLeft,y:a.offsetTop-r.offsetTop,scaleX:a.width/r.width,scaleY:a.height/r.height}:null},t.sortableKeyboardCoordinates=(e,{context:{droppableContainers:t,translatedRect:n,scrollableAncestors:o}})=>{if(v.includes(e.code)){if(e.preventDefault(),!n)return;const a=[];Object.entries(t).forEach((([t,o])=>{if(null==o?void 0:o.disabled)return;const r=null==o?void 0:o.node.current;if(!r)return;const l=i.getViewRect(r);switch(e.code){case i.KeyboardCode.Down:n.top+n.height<=l.top&&a.push([t,l]);break;case i.KeyboardCode.Up:n.top>=l.top+l.height&&a.push([t,l]);break;case i.KeyboardCode.Left:n.left>=l.left+l.width&&a.push([t,l]);break;case i.KeyboardCode.Right:n.left+n.width<=l.left&&a.push([t,l])}}));const l=i.closestCorners(a,n);if(l){var r;const e=null==(r=t[l])?void 0:r.node.current;if(e){const t=i.getScrollableAncestors(e).some(((e,t)=>o[t]!==e)),r=i.getViewRect(e),a=t?{x:0,y:0}:{x:n.width-r.width,y:n.height-r.height};return{x:r.left-a.x,y:r.top-a.y}}}}},t.useSortable=function({animateLayoutChanges:e=m,attributes:t,disabled:n,data:o,id:a,strategy:u,transition:d=f}){const{items:p,containerId:v,activeIndex:y,disableTransforms:x,sortedRects:w,overIndex:C,useDragOverlay:j,strategy:S,wasSorting:O}=r.useContext(g),F=p.indexOf(a),E=r.useMemo((()=>({sortable:{containerId:v,index:F,items:p},...o})),[v,o,F,p]),{rect:T,node:D,setNodeRef:I}=i.useDroppable({id:a,data:E}),{active:M,activeNodeRect:L,activatorEvent:R,attributes:_,setNodeRef:W,listeners:A,isDragging:N,over:P,transform:k}=i.useDraggable({id:a,data:E,attributes:{...b,...t},disabled:n}),G=l.useCombinedRefs(I,W),B=Boolean(M),z=B&&O.current&&!x&&c(y)&&c(C),K=!j&&N,V=K&&z?k:null,$=z?null!=V?V:(null!=u?u:S)({layoutRects:w,activeNodeRect:L,activeIndex:y,overIndex:C,index:F}):null,H=c(y)&&c(C)?s(p,y,C).indexOf(a):F,q=r.useRef(H),U=e({active:M,isDragging:N,isSorting:B,id:a,index:F,items:p,newIndex:q.current,transition:d,wasSorting:O.current}),X=function({rect:e,disabled:t,index:n,node:o}){const[a,l]=r.useState(null),s=r.useRef(n);return r.useEffect((()=>{if(!t&&n!==s.current&&o.current){const t=e.current;if(t){const e=i.getBoundingClientRect(o.current),n={x:t.offsetLeft-e.offsetLeft,y:t.offsetTop-e.offsetTop,scaleX:t.width/e.width,scaleY:t.height/e.height};(n.x||n.y)&&l(n)}}n!==s.current&&(s.current=n)}),[t,n,o,e]),r.useEffect((()=>{a&&requestAnimationFrame((()=>{l(null)}))}),[a]),a}({disabled:!U,index:F,node:D,rect:T});return r.useEffect((()=>{B&&(q.current=H)}),[B,H]),{active:M,attributes:_,activatorEvent:R,rect:T,index:F,isSorting:B,isDragging:N,listeners:A,node:D,overIndex:C,over:P,setNodeRef:G,setDroppableNodeRef:I,setDraggableNodeRef:W,transform:null!=X?X:$,transition:X?h:K||!d?null:B||U?l.CSS.Transition.toString({...d,property:"transform"}):null}},t.verticalListSortingStrategy=({activeIndex:e,activeNodeRect:t,index:n,layoutRects:o,overIndex:r})=>{var a;const i=null!=(a=o[e])?a:t;if(!i)return null;if(n===e){const t=o[r];return t?{x:0,y:e<r?t.offsetTop+t.height-(i.offsetTop+i.height):t.offsetTop-i.offsetTop,...p}:null}const l=function(e,t,n){const o=e[t],r=e[t-1],a=e[t+1];return o?n<t?r?o.offsetTop-(r.offsetTop+r.height):a?a.offsetTop-(o.offsetTop+o.height):0:a?a.offsetTop-(o.offsetTop+o.height):r?o.offsetTop-(r.offsetTop+r.height):0:0}(o,n,e);return n>e&&n<=r?{x:0,y:-i.height-l,...p}:n<e&&n>=r?{x:0,y:i.height+l,...p}:{x:0,y:0,...p}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(6),a=(o=r)&&"object"==typeof o&&"default"in o?o.default:o,i=n(40),l=n(65),s=n(81);const c={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},u={onDragStart:e=>`Picked up draggable item ${e}.`,onDragOver:(e,t)=>t?`Draggable item ${e} was moved over droppable area ${t}.`:`Draggable item ${e} is no longer over a droppable area.`,onDragEnd:(e,t)=>t?`Draggable item ${e} was dropped over droppable area ${t}`:`Draggable item ${e} was dropped.`,onDragCancel:e=>`Dragging was cancelled. Draggable item ${e} was dropped.`};var d;!function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"}(d||(d={}));const p=e=>g(e,((e,t)=>e<t));function g(e,t){if(0===e.length)return-1;let n=e[0],o=0;for(var r=1;r<e.length;r++)t(e[r],n)&&(o=r,n=e[r]);return o}function m(...e){}function f(e,t){const{[e]:n,...o}=t;return o}const h=r.createContext({activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,activeNodeClientRect:null,activators:[],ariaDescribedById:{draggable:""},containerNodeRect:null,dispatch:m,draggableNodes:{},droppableRects:new Map,droppableContainers:{},over:null,overlayNode:{nodeRef:{current:null},rect:null,setRef:m},scrollableAncestors:[],scrollableAncestorRects:[],recomputeLayouts:m,windowRect:null,willRecomputeLayouts:!1}),b=Object.freeze({x:0,y:0});function v(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function y(e){if(function(e){var t;return(null==(t=window)?void 0:t.TouchEvent)&&e instanceof TouchEvent}(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return function(e){var t;return(null==(t=window)?void 0:t.MouseEvent)&&e instanceof MouseEvent||e.type.includes("mouse")}(e)?{x:e.clientX,y:e.clientY}:{x:0,y:0}}function x(e,t){if(e instanceof KeyboardEvent)return"0 0";const n=y(e);return`${(n.x-t.left)/t.width*100}% ${(n.y-t.top)/t.height*100}%`}function w(e,t=e.offsetLeft,n=e.offsetTop){return{x:t+.5*e.width,y:n+.5*e.height}}const C=function(e,...t){return t.reduce(((e,t)=>({...e,top:e.top+1*t.y,bottom:e.bottom+1*t.y,left:e.left+1*t.x,right:e.right+1*t.x,offsetLeft:e.offsetLeft+1*t.x,offsetTop:e.offsetTop+1*t.y})),{...e})};function j(e){const t=[];return e?function e(n){return n?n instanceof Document&&null!=n.scrollingElement?(t.push(n.scrollingElement),t):!(n instanceof HTMLElement)||n instanceof SVGElement?t:(function(e){const t=window.getComputedStyle(e),n=/(auto|scroll|overlay)/;return null!=["overflow","overflowX","overflowY"].find((e=>{const o=t[e];return"string"==typeof o&&n.test(o)}))}(n)&&t.push(n),e(n.parentNode)):t}(e.parentNode):t}function S(e){return l.canUseDOM?e===document.scrollingElement||e instanceof Document?window:e instanceof HTMLElement?e:null:null}function O(e){return e instanceof Window?{x:e.scrollX,y:e.scrollY}:{x:e.scrollLeft,y:e.scrollTop}}var F;function E(e){const t={x:0,y:0},n={x:e.scrollWidth-e.clientWidth,y:e.scrollHeight-e.clientHeight};return{isTop:e.scrollTop<=t.y,isLeft:e.scrollLeft<=t.x,isBottom:e.scrollTop>=n.y,isRight:e.scrollLeft>=n.x,maxScroll:n,minScroll:t}}!function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"}(F||(F={}));const T={x:.2,y:.2};function D(e,t,{top:n,left:o,right:r,bottom:a},i=10,s=T){const{clientHeight:c,clientWidth:u}=e,d=(p=e,l.canUseDOM&&p&&p===document.scrollingElement?{top:0,left:0,right:u,bottom:c,width:u,height:c}:t);var p;const{isTop:g,isBottom:m,isLeft:f,isRight:h}=E(e),b={x:0,y:0},v={x:0,y:0},y=d.height*s.y,x=d.width*s.x;return!g&&n<=d.top+y?(b.y=F.Backward,v.y=i*Math.abs((d.top+y-n)/y)):!m&&a>=d.bottom-y&&(b.y=F.Forward,v.y=i*Math.abs((d.bottom-y-a)/y)),!h&&r>=d.right-x?(b.x=F.Forward,v.x=i*Math.abs((d.right-x-r)/x)):!f&&o<=d.left+x&&(b.x=F.Backward,v.x=i*Math.abs((d.left+x-o)/x)),{direction:b,speed:v}}function I(e){if(e===document.scrollingElement){const{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}const{top:t,left:n,right:o,bottom:r}=e.getBoundingClientRect();return{top:t,left:n,right:o,bottom:r,width:e.clientWidth,height:e.clientHeight}}function M(e){return e.reduce(((e,t)=>l.add(e,O(t))),b)}function L(e){const{offsetWidth:t,offsetHeight:n}=e,{x:o,y:r}=function e(t,n,o=b){if(!(t&&t instanceof HTMLElement))return o;const r={x:o.x+t.offsetLeft,y:o.y+t.offsetTop};return t.offsetParent===n?r:e(t.offsetParent,n,r)}(e,null);return{width:t,height:n,offsetTop:r,offsetLeft:o}}function R(e){if(e instanceof Window){const e=window.innerWidth,t=window.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t,offsetTop:0,offsetLeft:0}}const{offsetTop:t,offsetLeft:n}=L(e),{width:o,height:r,top:a,bottom:i,left:l,right:s}=e.getBoundingClientRect();return{width:o,height:r,top:a,bottom:i,right:s,left:l,offsetTop:t,offsetLeft:n}}function _(e){const{width:t,height:n,offsetTop:o,offsetLeft:r}=L(e),a=M(j(e)),i=o-a.y,l=r-a.x;return{width:t,height:n,top:i,bottom:i+n,right:l+t,left:l,offsetTop:o,offsetLeft:r}}function W(e){return"top"in e}function A(e,t=e.offsetLeft,n=e.offsetTop){return[{x:t,y:n},{x:t+e.width,y:n},{x:t,y:n+e.height},{x:t+e.width,y:n+e.height}]}const N=(e,t)=>{const n=e.map((([e,n])=>function(e,t){const n=Math.max(t.top,e.offsetTop),o=Math.max(t.left,e.offsetLeft),r=Math.min(t.left+t.width,e.offsetLeft+e.width),a=Math.min(t.top+t.height,e.offsetTop+e.height);if(o<r&&n<a){const i=(r-o)*(a-n);return Number((i/(t.width*t.height+e.width*e.height-i)).toFixed(4))}return 0}(n,t))),o=g(n,((e,t)=>e>t));return n[o]<=0?null:e[o]?e[o][0]:null};function P(e){return e instanceof HTMLElement?e.ownerDocument:document}function k(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:{},translate:{x:0,y:0}},droppable:{containers:{}}}}function G(e,t){switch(t.type){case d.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case d.DragMove:return e.draggable.active?{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}}:e;case d.DragEnd:case d.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case d.RegisterDroppable:{const{element:n}=t,{id:o}=n;return{...e,droppable:{...e.droppable,containers:{...e.droppable.containers,[o]:n}}}}case d.SetDroppableDisabled:{const{id:n,disabled:o}=t,r=e.droppable.containers[n];return r?{...e,droppable:{...e.droppable,containers:{...e.droppable.containers,[n]:{...r,disabled:o}}}}:e}case d.UnregisterDroppable:{const{id:n}=t;return{...e,droppable:{...e.droppable,containers:f(n,e.droppable.containers)}}}default:return e}}const B=r.createContext({type:null,event:null});function z({onDragStart:e,onDragMove:t,onDragOver:n,onDragEnd:o,onDragCancel:a}){const i=r.useContext(B),l=r.useRef(i);r.useEffect((()=>{if(i!==l.current){const{type:r,event:s}=i;switch(r){case d.DragStart:null==e||e(s);break;case d.DragMove:null==t||t(s);break;case d.DragOver:null==n||n(s);break;case d.DragCancel:null==a||a(s);break;case d.DragEnd:null==o||o(s)}l.current=i}}),[i,e,t,n,o,a])}function K({announcements:e=u,hiddenTextDescribedById:t,screenReaderInstructions:n}){const{announce:o,announcement:c}=s.useAnnouncement(),d=l.useUniqueId("DndLiveRegion"),[p,g]=r.useState(!1);return r.useEffect((()=>{g(!0)}),[]),z(r.useMemo((()=>({onDragStart({active:t}){o(e.onDragStart(t.id))},onDragMove({active:t,over:n}){e.onDragMove&&o(e.onDragMove(t.id,null==n?void 0:n.id))},onDragOver({active:t,over:n}){o(e.onDragOver(t.id,null==n?void 0:n.id))},onDragEnd({active:t,over:n}){o(e.onDragEnd(t.id,null==n?void 0:n.id))},onDragCancel({active:t}){o(e.onDragCancel(t.id))}})),[o,e])),p?i.createPortal(a.createElement(a.Fragment,null,a.createElement(s.HiddenText,{id:t,value:n.draggable}),a.createElement(s.LiveRegion,{id:d,announcement:c})),document.body):null}var V,$,H;function q(e){const t=r.useRef(e);return l.useIsomorphicLayoutEffect((()=>{t.current!==e&&(t.current=e)}),[e]),t}(V=t.AutoScrollActivator||(t.AutoScrollActivator={}))[V.Pointer=0]="Pointer",V[V.DraggableRect=1]="DraggableRect",($=t.TraversalOrder||(t.TraversalOrder={}))[$.TreeOrder=0]="TreeOrder",$[$.ReversedTreeOrder=1]="ReversedTreeOrder",(H=t.LayoutMeasuringStrategy||(t.LayoutMeasuringStrategy={}))[H.Always=0]="Always",H[H.BeforeDragging=1]="BeforeDragging",H[H.WhileDragging=2]="WhileDragging",(t.LayoutMeasuringFrequency||(t.LayoutMeasuringFrequency={})).Optimized="optimized";const U=new Map,X={strategy:t.LayoutMeasuringStrategy.WhileDragging,frequency:t.LayoutMeasuringFrequency.Optimized},Y=[],J=te(R),Q=function(e){const t=[];return function(n,o){const a=r.useRef(n);return l.useLazyMemo((r=>n.length?o||!r&&n.length||n!==a.current?n.map((t=>e(t))):null!=r?r:t:t),[n,o])}}(R),Z=te(_);function te(e){return function(t,n){const o=r.useRef(t);return l.useLazyMemo((r=>t?n||!r&&t||t!==o.current?t instanceof HTMLElement&&null==t.parentNode?null:e(t):null!=r?r:null:null),[t,n])}}class ee{constructor(e){this.target=e,this.listeners=[]}add(e,t,n){this.target.addEventListener(e,t,n),this.listeners.push({eventName:e,handler:t})}removeAll(){this.listeners.forEach((({eventName:e,handler:t})=>this.target.removeEventListener(e,t)))}}function ne(e,t){const n=Math.abs(e.x),o=Math.abs(e.y);return"number"==typeof t?Math.sqrt(n**2+o**2)>t:"x"in t&&"y"in t?n>t.x&&o>t.y:"x"in t?n>t.x:"y"in t&&o>t.y}var oe;(oe=t.KeyboardCode||(t.KeyboardCode={})).Space="Space",oe.Down="ArrowDown",oe.Right="ArrowRight",oe.Left="ArrowLeft",oe.Up="ArrowUp",oe.Esc="Escape",oe.Enter="Enter";const re={start:[t.KeyboardCode.Space,t.KeyboardCode.Enter],cancel:[t.KeyboardCode.Esc],end:[t.KeyboardCode.Space,t.KeyboardCode.Enter]},ie=(e,{currentCoordinates:n})=>{switch(e.code){case t.KeyboardCode.Right:return{...n,x:n.x+25};case t.KeyboardCode.Left:return{...n,x:n.x-25};case t.KeyboardCode.Down:return{...n,y:n.y+25};case t.KeyboardCode.Up:return{...n,y:n.y-25}}};class ae{constructor(e){this.props=e,this.autoScrollEnabled=!1,this.coordinates=b;const{event:{target:t}}=e;this.props=e,this.listeners=new ee(P(t)),this.windowListeners=new ee(function(e){var t;return null!=(t=P(e).defaultView)?t:window}(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),setTimeout((()=>{this.listeners.add("keydown",this.handleKeyDown),this.windowListeners.add("resize",this.handleCancel)}))}handleStart(){const{activeNode:e,onStart:t}=this.props;if(!e.node.current)throw new Error("Active draggable node is undefined");const n=R(e.node.current),o={x:n.left,y:n.top};this.coordinates=o,t(o)}handleKeyDown(e){if(e instanceof KeyboardEvent){const{coordinates:n}=this,{active:o,context:r,options:a}=this.props,{keyboardCodes:i=re,coordinateGetter:s=ie,scrollBehavior:c="smooth"}=a,{code:u}=e;if(i.end.includes(u))return void this.handleEnd(e);if(i.cancel.includes(u))return void this.handleCancel(e);const d=s(e,{active:o,context:r.current,currentCoordinates:n});if(d){const o={x:0,y:0},{scrollableAncestors:a}=r.current;for(const r of a){const a=e.code,i=l.subtract(d,n),{isTop:s,isRight:u,isLeft:p,isBottom:g,maxScroll:m,minScroll:f}=E(r),h=I(r),b={x:Math.min(a===t.KeyboardCode.Right?h.right-h.width/2:h.right,Math.max(a===t.KeyboardCode.Right?h.left:h.left+h.width/2,d.x)),y:Math.min(a===t.KeyboardCode.Down?h.bottom-h.height/2:h.bottom,Math.max(a===t.KeyboardCode.Down?h.top:h.top+h.height/2,d.y))},v=a===t.KeyboardCode.Right&&!u||a===t.KeyboardCode.Left&&!p,y=a===t.KeyboardCode.Down&&!g||a===t.KeyboardCode.Up&&!s;if(v&&b.x!==d.x){if(a===t.KeyboardCode.Right&&r.scrollLeft+i.x<=m.x||a===t.KeyboardCode.Left&&r.scrollLeft+i.x>=f.x)return void r.scrollBy({left:i.x,behavior:c});o.x=a===t.KeyboardCode.Right?r.scrollLeft-m.x:r.scrollLeft-f.x,r.scrollBy({left:-o.x,behavior:c});break}if(y&&b.y!==d.y){if(a===t.KeyboardCode.Down&&r.scrollTop+i.y<=m.y||a===t.KeyboardCode.Up&&r.scrollTop+i.y>=f.y)return void r.scrollBy({top:i.y,behavior:c});o.y=a===t.KeyboardCode.Down?r.scrollTop-m.y:r.scrollTop-f.y,r.scrollBy({top:-o.y,behavior:c});break}}this.handleMove(e,l.add(d,o))}}}handleMove(e,t){const{onMove:n}=this.props;e.preventDefault(),n(t),this.coordinates=t}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function le(e){return Boolean(e&&"distance"in e)}function se(e){return Boolean(e&&"delay"in e)}var ue;ae.activators=[{eventName:"onKeyDown",handler:(e,{keyboardCodes:t=re,onActivation:n})=>{const{code:o}=e.nativeEvent;return!!t.start.includes(o)&&(e.preventDefault(),null==n||n({event:e.nativeEvent}),!0)}}],function(e){e.Keydown="keydown"}(ue||(ue={}));class ce{constructor(e,t,n=function(e){return e instanceof EventTarget?e:P(e)}(e.event.target)){this.props=e,this.events=t,this.autoScrollEnabled=!0,this.activated=!1,this.timeoutId=null;const{event:o}=e;this.props=e,this.events=t,this.ownerDocument=P(o.target),this.listeners=new ee(n),this.initialCoordinates=y(o),this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t}}}=this;if(this.listeners.add(e.move.name,this.handleMove,!1),this.listeners.add(e.end.name,this.handleEnd),this.ownerDocument.addEventListener(ue.Keydown,this.handleKeydown),t){if(le(t))return;if(se(t))return void(this.timeoutId=setTimeout(this.handleStart,t.delay))}this.handleStart()}detach(){this.listeners.removeAll(),this.ownerDocument.removeEventListener(ue.Keydown,this.handleKeydown),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,t(e))}handleMove(e){const{activated:t,initialCoordinates:n,props:o}=this,{onMove:r,options:{activationConstraint:a}}=o;if(!n)return;const i=y(e),s=l.subtract(n,i);if(!t&&a){if(se(a))return ne(s,a.tolerance)?this.handleCancel():void 0;if(le(a))return ne(s,a.distance)?this.handleStart():void 0}e.cancelable&&e.preventDefault(),r(i)}handleEnd(){const{onEnd:e}=this.props;this.detach(),e()}handleCancel(){const{onCancel:e}=this.props;this.detach(),e()}handleKeydown(e){e.code===t.KeyboardCode.Esc&&this.handleCancel()}}const pe={move:{name:"pointermove"},end:{name:"pointerup"}};class de extends ce{constructor(e){const{event:t}=e,n=P(t.target);super(e,pe,n)}}de.activators=[{eventName:"onPointerDown",handler:({nativeEvent:e},{onActivation:t})=>!(!e.isPrimary||0!==e.button||(null==t||t({event:e}),0))}];const ge={move:{name:"mousemove"},end:{name:"mouseup"}};var me;!function(e){e[e.RightClick=2]="RightClick"}(me||(me={}));class he extends ce{constructor(e){super(e,ge,P(e.event.target))}}he.activators=[{eventName:"onMouseDown",handler:({nativeEvent:e},{onActivation:t})=>e.button!==me.RightClick&&(null==t||t({event:e}),!0)}];const fe={move:{name:"touchmove"},end:{name:"touchend"}};class ve extends ce{constructor(e){super(e,fe)}}function be(e,{transform:t,...n}){return(null==e?void 0:e.length)?e.reduce(((e,t)=>t({transform:e,...n})),t):t}ve.activators=[{eventName:"onTouchStart",handler:({nativeEvent:e},{onActivation:t})=>{const{touches:n}=e;return!(n.length>1||(null==t||t({event:e}),0))}}];const ye=[{sensor:de,options:{}},{sensor:ae,options:{}}],xe={current:{}},we=r.createContext({...b,scaleX:1,scaleY:1}),Ce=r.memo((function({id:e,autoScroll:n=!0,announcements:o,children:i,sensors:s=ye,collisionDetection:u=N,layoutMeasuring:p,modifiers:g,screenReaderInstructions:m=c,...f}){var v,x,w;const F=r.useReducer(G,void 0,k),[E,T]=F,[I,R]=r.useState((()=>({type:null,event:null}))),{draggable:{active:_,nodes:W,translate:A},droppable:{containers:P}}=E,z=_?W[_]:null,V=r.useRef({initial:null,translated:null}),$=r.useMemo((()=>{var e;return null!=_?{id:_,data:null!=(e=null==z?void 0:z.data)?e:xe,rect:V}:null}),[_,z]),H=r.useRef(null),[q,te]=r.useState(null),[ne,oe]=r.useState(null),re=r.useRef(f),ie=l.useUniqueId("DndDescribedBy",e),{layoutRectMap:le,recomputeLayouts:se,willRecomputeLayouts:ue}=function(e,{dragging:n,dependencies:o,config:a}){const[i,s]=r.useState(!1),{frequency:c,strategy:u}=(d=a)?{...X,...d}:X;var d;const p=r.useRef(e),g=r.useCallback((()=>s(!0)),[]),m=r.useRef(null),f=function(){switch(u){case t.LayoutMeasuringStrategy.Always:return!1;case t.LayoutMeasuringStrategy.BeforeDragging:return n;default:return!n}}(),h=l.useLazyMemo((t=>{if(f&&!n)return U;if(!t||t===U||p.current!==e||i){for(let t of Object.values(e))t&&(t.rect.current=t.node.current?L(t.node.current):null);return function(e){const t=new Map;if(e)for(const n of Object.values(e)){if(!n)continue;const{id:e,rect:o,disabled:r}=n;r||null==o.current||t.set(e,o.current)}return t}(e)}return t}),[e,n,f,i]);return r.useEffect((()=>{p.current=e}),[e]),r.useEffect((()=>{i&&s(!1)}),[i]),r.useEffect((function(){f||requestAnimationFrame(g)}),[n,f]),r.useEffect((function(){f||"number"!=typeof c||null!==m.current||(m.current=setTimeout((()=>{g(),m.current=null}),c))}),[c,f,g,...o]),{layoutRectMap:h,recomputeLayouts:g,willRecomputeLayouts:i}}(P,{dragging:null!=_,dependencies:[A.x,A.y],config:p}),pe=function(e,t){const n=null!==t?e[t]:void 0,o=n?n.node.current:null;return l.useLazyMemo((e=>{var n;return null===t?null:null!=(n=null!=o?o:e)?n:null}),[o,t])}(W,_),ge=ne?y(ne):null,me=Z(pe),fe=J(pe),Ce=r.useRef(null),je=(Oe=Ce.current,(Se=me)&&Oe?{x:Se.left-Oe.left,y:Se.top-Oe.top}:b);var Se,Oe;const Fe=r.useRef({active:null,activeNode:pe,collisionRect:null,droppableRects:le,draggableNodes:W,draggingNodeRect:null,droppableContainers:P,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null,translatedRect:null}),Ee=function(e,t){var n,o;return e&&null!=(n=null==(o=t[e])?void 0:o.node.current)?n:null}(null!=(v=null==(x=Fe.current.over)?void 0:x.id)?v:null,P),Te=J(pe?pe.ownerDocument.defaultView:null),De=J(pe?pe.parentElement:null),Ie=function(e){const t=r.useRef(e),n=l.useLazyMemo((n=>e?n&&e&&t.current&&e.parentNode===t.current.parentNode?n:j(e):Y),[e]);return r.useEffect((()=>{t.current=e}),[e]),n}(_?null!=Ee?Ee:pe:null),Me=Q(Ie),[Le,Re]=l.useNodeRef(),_e=J(_?Le.current:null,ue),We=null!=_e?_e:fe,Ae=be(g,{transform:{x:A.x-je.x,y:A.y-je.y,scaleX:1,scaleY:1},active:$,over:Fe.current.over,activeNodeRect:fe,draggingNodeRect:We,containerNodeRect:De,overlayNodeRect:_e,scrollableAncestors:Ie,scrollableAncestorRects:Me,windowRect:Te}),Ne=ge?l.add(ge,A):null,Pe=function(e){const[t,n]=r.useState(null),o=r.useRef(e),a=r.useCallback((e=>{const t=S(e.target);t&&n((e=>e?(e.set(t,O(t)),new Map(e)):null))}),[]);return r.useEffect((()=>{const t=o.current;if(e!==t){r(t);const i=e.map((e=>{const t=S(e);return t?(t.addEventListener("scroll",a,{passive:!0}),[t,O(t)]):null})).filter((e=>null!=e));n(i.length?new Map(i):null),o.current=e}return()=>{r(e),r(t)};function r(e){e.forEach((e=>{const t=S(e);null==t||t.removeEventListener("scroll",a)}))}}),[a,e]),r.useMemo((()=>e.length?t?Array.from(t.values()).reduce(((e,t)=>l.add(e,t)),b):M(e):b),[e,t])}(Ie),ke=l.add(Ae,Pe),Ge=me?C(me,Ae):null,Be=Ge?C(Ge,Pe):null,ze=function(e,t){var n;return e&&null!=(n=t[e])?n:null}($&&Be?u(Array.from(le.entries()),Be):null,P),Ke=r.useMemo((()=>ze&&ze.rect.current?{id:ze.id,rect:ze.rect.current,data:ze.data,disabled:ze.disabled}:null),[ze]),Ve=function(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}(Ae,null!=(w=null==ze?void 0:ze.rect.current)?w:null,me),$e=r.useCallback(((e,{sensor:t,options:n})=>{if(!H.current)return;const o=W[H.current];if(!o)return;const r=new t({active:H.current,activeNode:o,event:e.nativeEvent,options:n,context:Fe,onStart(e){const t=H.current;if(!t)return;const n=W[t];if(!n)return;const{onDragStart:o}=re.current,r={active:{id:t,data:n.data,rect:V}};T({type:d.DragStart,initialCoordinates:e,active:t}),R({type:d.DragStart,event:r}),null==o||o(r)},onMove(e){T({type:d.DragMove,coordinates:e})},onEnd:a(d.DragEnd),onCancel:a(d.DragCancel)});function a(e){return async function(){const{active:t,over:n,scrollAdjustedTranslate:o}=Fe.current;let r=null;if(t&&o){const{cancelDrop:a}=re.current;r={active:t,delta:o,over:n},e===d.DragEnd&&"function"==typeof a&&await Promise.resolve(a(r))&&(e=d.DragCancel)}if(H.current=null,T({type:e}),te(null),oe(null),r){const{onDragCancel:t,onDragEnd:n}=re.current,o=e===d.DragEnd?n:t;R({type:e,event:r}),null==o||o(r)}}}te(r),oe(e.nativeEvent)}),[T,W]),He=function(e,t){return r.useMemo((()=>e.reduce(((e,n)=>{const{sensor:o}=n;return[...e,...o.activators.map((e=>({eventName:e.eventName,handler:t(e.handler,n)})))]}),[])),[e,t])}(s,r.useCallback(((e,t)=>(n,o)=>{const r=n.nativeEvent;null!==H.current||r.dndKit||r.defaultPrevented||!0===e(n,t.options)&&(r.dndKit={capturedBy:t.sensor},H.current=o,$e(n,t))}),[$e]));l.useIsomorphicLayoutEffect((()=>{re.current=f}),Object.values(f)),r.useEffect((()=>{$||(Ce.current=null),$&&me&&!Ce.current&&(Ce.current=me)}),[me,$]),r.useEffect((()=>{const{onDragMove:e}=re.current,{active:t,over:n}=Fe.current;if(!t)return;const o={active:t,delta:{x:ke.x,y:ke.y},over:n};R({type:d.DragMove,event:o}),null==e||e(o)}),[ke.x,ke.y]),r.useEffect((()=>{const{active:e,scrollAdjustedTranslate:t}=Fe.current;if(!e||!H.current||!t)return;const{onDragOver:n}=re.current,o={active:e,delta:{x:t.x,y:t.y},over:Ke};R({type:d.DragOver,event:o}),null==n||n(o)}),[null==Ke?void 0:Ke.id]),l.useIsomorphicLayoutEffect((()=>{Fe.current={active:$,activeNode:pe,collisionRect:Be,droppableRects:le,draggableNodes:W,draggingNodeRect:We,droppableContainers:P,over:Ke,scrollableAncestors:Ie,scrollAdjustedTranslate:ke,translatedRect:Ge},V.current={initial:We,translated:Ge}}),[$,pe,Be,W,We,le,P,Ke,Ie,ke,Ge]),function({acceleration:e,activator:n=t.AutoScrollActivator.Pointer,canScroll:o,draggingRect:a,enabled:i,interval:s=5,order:c=t.TraversalOrder.TreeOrder,pointerCoordinates:u,scrollableAncestors:d,scrollableAncestorRects:p,threshold:g}){const[m,f]=l.useInterval(),h=r.useRef({x:1,y:1}),v=r.useMemo((()=>{switch(n){case t.AutoScrollActivator.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case t.AutoScrollActivator.DraggableRect:return a}return null}),[n,a,u]),y=r.useRef(b),x=r.useRef(null),w=r.useCallback((()=>{const e=x.current;e&&e.scrollBy(h.current.x*y.current.x,h.current.y*y.current.y)}),[]),C=r.useMemo((()=>c===t.TraversalOrder.TreeOrder?[...d].reverse():d),[c,d]);r.useEffect((()=>{if(i&&d.length&&v){for(const t of C){if(!1===(null==o?void 0:o(t)))continue;const n=d.indexOf(t),r=p[n];if(!r)continue;const{direction:a,speed:i}=D(t,r,v,e,g);if(i.x>0||i.y>0)return f(),x.current=t,m(w,s),h.current=i,void(y.current=a)}h.current={x:0,y:0},y.current={x:0,y:0},f()}else f()}),[e,w,o,f,i,s,JSON.stringify(v),m,d,C,p,JSON.stringify(g)])}({...function(){const e=!(!1===(null==q?void 0:q.autoScrollEnabled)||("object"==typeof n?!1===n.enabled:!1===n));return"object"==typeof n?{...n,enabled:e}:{enabled:e}}(),draggingRect:Ge,pointerCoordinates:Ne,scrollableAncestors:Ie,scrollableAncestorRects:Me});const qe=r.useMemo((()=>({active:$,activeNode:pe,activeNodeRect:me,activeNodeClientRect:fe,activatorEvent:ne,activators:He,ariaDescribedById:{draggable:ie},overlayNode:{nodeRef:Le,rect:_e,setRef:Re},containerNodeRect:De,dispatch:T,draggableNodes:W,droppableContainers:P,droppableRects:le,over:Ke,recomputeLayouts:se,scrollableAncestors:Ie,scrollableAncestorRects:Me,willRecomputeLayouts:ue,windowRect:Te})),[$,pe,fe,me,ne,He,De,_e,Le,T,W,ie,P,le,Ke,se,Ie,Me,Re,ue,Te]);return a.createElement(B.Provider,{value:I},a.createElement(h.Provider,{value:qe},a.createElement(we.Provider,{value:Ve},i)),a.createElement(K,{announcements:o,hiddenTextDescribedById:ie,screenReaderInstructions:m}))})),je=r.createContext(null),Se="button";function Oe(){return r.useContext(h)}const Fe=e=>e instanceof KeyboardEvent?"transform 250ms ease":void 0,Ee={duration:250,easing:"ease",dragSourceOpacity:0},Te=a.memo((({adjustScale:e=!1,children:t,dropAnimation:n=Ee,style:o,transition:i=Fe,modifiers:s,wrapperElement:c="div",className:u,zIndex:d=999})=>{var p,g;const{active:m,activeNodeRect:f,activeNodeClientRect:h,containerNodeRect:b,draggableNodes:v,activatorEvent:y,over:w,overlayNode:C,scrollableAncestors:j,scrollableAncestorRects:S,windowRect:O}=Oe(),F=r.useContext(we),E=be(s,{active:m,activeNodeRect:h,draggingNodeRect:C.rect,containerNodeRect:b,over:w,overlayNodeRect:C.rect,scrollableAncestors:j,scrollableAncestorRects:S,transform:F,windowRect:O}),T=function(e,t,n){const o=r.useRef(t);return l.useLazyMemo((r=>{const a=o.current;if(t!==a){if(t&&a&&(a.left!==t.left||a.top!==t.top)&&!r){const o=null==n?void 0:n.getBoundingClientRect();if(o)return{...e,x:o.left-t.left,y:o.top-t.top}}o.current=t}}),[t,e,n])}(E,f,C.nodeRef.current),D=null!==m,I=null!=T?T:E,M=e?I:{...I,scaleX:1,scaleY:1},L=f?{position:"fixed",width:f.width,height:f.height,top:f.top,left:f.left,zIndex:d,transform:l.CSS.Transform.toString(M),touchAction:"none",transformOrigin:e&&y?x(y,f):void 0,transition:T?void 0:"function"==typeof i?i(y):i,...o}:void 0,R=D?{style:L,children:t,className:u,transform:M}:void 0,W=r.useRef(R),A=null!=R?R:W.current,{children:N,...P}=null!=A?A:{},k=r.useRef(null!=(p=null==m?void 0:m.id)?p:null),G=function({animate:e,adjustScale:t,activeId:n,draggableNodes:o,duration:a,easing:i,dragSourceOpacity:s,node:c,transform:u}){const[d,p]=r.useState(!1);return r.useEffect((()=>{e&&n&&i&&a?requestAnimationFrame((()=>{var e;const r=null==(e=o[n])?void 0:e.node.current;if(u&&c&&r&&null!==r.parentNode){const e=c.children.length>1?c:c.children[0];if(e){const n=e.getBoundingClientRect(),o=_(r),d={x:n.left-o.left,y:n.top-o.top};if(Math.abs(d.x)||Math.abs(d.y)){const e=l.CSS.Transform.toString({x:u.x-d.x,y:u.y-d.y,scaleX:t?o.width*u.scaleX/n.width:1,scaleY:t?o.height*u.scaleY/n.height:1}),g=r.style.opacity;return null!=s&&(r.style.opacity=""+s),void(c.animate([{transform:l.CSS.Transform.toString(u)},{transform:e}],{easing:i,duration:a}).onfinish=()=>{c.style.display="none",p(!0),r&&null!=s&&(r.style.opacity=g)})}}}p(!0)})):e&&p(!0)}),[e,n,t,o,a,i,s,c,u]),l.useIsomorphicLayoutEffect((()=>{d&&p(!1)}),[d]),d}({animate:Boolean(n&&k.current&&!m),adjustScale:e,activeId:k.current,draggableNodes:v,duration:null==n?void 0:n.duration,easing:null==n?void 0:n.easing,dragSourceOpacity:null==n?void 0:n.dragSourceOpacity,node:C.nodeRef.current,transform:null==(g=W.current)?void 0:g.transform}),B=Boolean(N&&(t||n&&!G));return r.useEffect((()=>{var e;(null==m?void 0:m.id)!==k.current&&(k.current=null!=(e=null==m?void 0:m.id)?e:null),m&&W.current!==R&&(W.current=R)}),[m,R]),r.useEffect((()=>{G&&(W.current=void 0)}),[G]),B?a.createElement(c,{...P,ref:C.setRef},N):null}));t.DndContext=Ce,t.DragOverlay=Te,t.KeyboardSensor=ae,t.MouseSensor=he,t.PointerSensor=de,t.TouchSensor=ve,t.applyModifiers=be,t.closestCenter=(e,t)=>{const n=w(t,t.left,t.top),o=e.map((([e,t])=>v(w(t),n))),r=p(o);return e[r]?e[r][0]:null},t.closestCorners=(e,t)=>{const n=A(t,t.left,t.top),o=e.map((([e,t])=>{const o=A(t,W(t)?t.left:void 0,W(t)?t.top:void 0),r=n.reduce(((e,t,n)=>e+v(o[n],t)),0);return Number((r/4).toFixed(4))})),r=p(o);return e[r]?e[r][0]:null},t.defaultAnnouncements=u,t.defaultCoordinates=b,t.defaultDropAnimation=Ee,t.getBoundingClientRect=R,t.getScrollableAncestors=j,t.getViewRect=_,t.rectIntersection=N,t.useDndContext=Oe,t.useDndMonitor=z,t.useDraggable=function({id:e,data:t,disabled:n=!1,attributes:o}){const{active:a,activeNodeRect:i,activatorEvent:s,ariaDescribedById:c,draggableNodes:u,droppableRects:d,activators:p,over:g}=r.useContext(h),{role:m=Se,roleDescription:f="draggable",tabIndex:b=0}=null!=o?o:{},v=(null==a?void 0:a.id)===e,y=r.useContext(v?we:je),[x,w]=l.useNodeRef(),C=function(e,t){return r.useMemo((()=>e.reduce(((e,{eventName:n,handler:o})=>(e[n]=e=>{o(e,t)},e)),{})),[e,t])}(p,e),j=q(t);return r.useEffect((()=>(u[e]={node:x,data:j},()=>{delete u[e]})),[u,e]),{active:a,activeNodeRect:i,activatorEvent:s,attributes:r.useMemo((()=>({role:m,tabIndex:b,"aria-pressed":!(!v||m!==Se)||void 0,"aria-roledescription":f,"aria-describedby":c.draggable})),[m,b,v,f,c.draggable]),droppableRects:d,isDragging:v,listeners:n?void 0:C,node:x,over:g,setNodeRef:w,transform:y}},t.useDroppable=function({data:e,disabled:t=!1,id:n}){const{active:o,dispatch:a,over:i}=r.useContext(h),s=r.useRef(null),[c,u]=l.useNodeRef(),p=q(e);return l.useIsomorphicLayoutEffect((()=>(a({type:d.RegisterDroppable,element:{id:n,disabled:t,node:c,rect:s,data:p}}),()=>a({type:d.UnregisterDroppable,id:n}))),[n]),r.useEffect((()=>{a({type:d.SetDroppableDisabled,id:n,disabled:t})}),[t]),{active:o,rect:s,isOver:(null==i?void 0:i.id)===n,node:c,over:i,setNodeRef:u}},t.useSensor=function(e,t){return r.useMemo((()=>({sensor:e,options:null!=t?t:{}})),[e,t])},t.useSensors=function(...e){return r.useMemo((()=>[...e].filter((e=>null!=e))),[...e])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(6);const r="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,a=r?o.useLayoutEffect:o.useEffect;let i={};function l(e){return(t,...n)=>n.reduce(((t,n)=>{const o=Object.entries(n);for(const[n,r]of o){const o=t[n];null!=o&&(t[n]=o+e*r)}return t}),{...t})}const s=l(1),c=l(-1),u=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return`translate3d(${t?Math.round(t):0}px, ${n?Math.round(n):0}px, 0)`}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return`scaleX(${t}) scaleY(${n})`}},Transform:{toString(e){if(e)return[u.Translate.toString(e),u.Scale.toString(e)].join(" ")}},Transition:{toString:({property:e,duration:t,easing:n})=>`${e} ${t}ms ${n}`}});t.CSS=u,t.add=s,t.canUseDOM=r,t.subtract=c,t.useCombinedRefs=function(...e){return o.useMemo((()=>t=>{e.forEach((e=>e(t)))}),e)},t.useInterval=function(){const e=o.useRef(null);return[o.useCallback(((t,n)=>{e.current=setInterval(t,n)}),[]),o.useCallback((()=>{null!==e.current&&(clearInterval(e.current),e.current=null)}),[])]},t.useIsomorphicLayoutEffect=a,t.useLazyMemo=function(e,t){const n=o.useRef();return o.useMemo((()=>{const t=e(n.current);return n.current=t,t}),[...t])},t.useNodeRef=function(){const e=o.useRef(null),t=o.useCallback((t=>{e.current=t}),[]);return[e,t]},t.useUniqueId=function(e,t){return o.useMemo((()=>{if(t)return t;const n=null==i[e]?0:i[e]+1;return i[e]=n,`${e}-${n}`}),[e,t])}},function(e,t,n){"use strict";e.exports=n(82)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(6),a=(o=r)&&"object"==typeof o&&"default"in o?o.default:o;const i={display:"none"},l={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};t.HiddenText=function({id:e,value:t}){return a.createElement("div",{id:e,style:i},t)},t.LiveRegion=function({id:e,announcement:t}){return a.createElement("div",{id:e,style:l,role:"status","aria-live":"assertive","aria-atomic":!0},t)},t.useAnnouncement=function(){const[e,t]=r.useState("");return{announce:r.useCallback((e=>{null!=e&&t(e)}),[]),announcement:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(28).__importDefault(n(84));t.default=function(e){o.default((function(){e()}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(6);t.default=function(e){o.useEffect(e,[])}}])]);