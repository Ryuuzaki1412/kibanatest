/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.enterpriseSearch_bundle_jsonpfunction=window.enterpriseSearch_bundle_jsonpfunction||[]).push([[2],{337:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(338);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}))},338:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.useIsNestedEuiProvider=t.EuiProviderNestedCheck=t.EuiNestedProviderContext=void 0;var i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in e)if("default"!==c&&Object.prototype.hasOwnProperty.call(e,c)){var a=o?Object.getOwnPropertyDescriptor(e,c):null;a&&(a.get||a.set)?Object.defineProperty(i,c,a):i[c]=e[c]}return i.default=e,r&&r.set(e,i),i}(r(11)),o=r(12);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var c=(0,i.createContext)(!1);t.EuiNestedProviderContext=c,t.EuiProviderNestedCheck=function(e){var t=e.children;return(0,o.jsx)(c.Provider,{value:!0},t)},t.useIsNestedEuiProvider=function(){return!!(0,i.useContext)(c)}},339:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setEuiDevProviderWarning=t.getEuiDevProviderWarning=t.emitEuiProviderWarning=void 0;var n=void 0;t.setEuiDevProviderWarning=function(e){return n=e},t.getEuiDevProviderWarning=function(){return n},t.emitEuiProviderWarning=function(e){switch(n){case"log":console.log(e);break;case"warn":console.warn(e);break;case"error":throw new Error(e)}}},55:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return o}));var n=r(37);const i=Object(n.kea)({path:["enterprise_search","licensing_logic"],actions:{setLicense:e=>e,setLicenseSubscription:e=>e},reducers:({props:e})=>({license:[null,{setLicense:(e,t)=>t}],licenseSubscription:[null,{setLicenseSubscription:(e,t)=>t}],canManageLicense:[e.canManageLicense||!1,{}]}),selectors:{hasPlatinumLicense:[e=>[e.license],e=>(null==e?void 0:e.isActive)&&["platinum","enterprise","trial"].includes(null==e?void 0:e.type)],hasGoldLicense:[e=>[e.license],e=>(null==e?void 0:e.isActive)&&["gold","platinum","enterprise","trial"].includes(null==e?void 0:e.type)],isTrial:[e=>[e.license],e=>(null==e?void 0:e.isActive)&&"trial"===(null==e?void 0:e.type)]},events:({props:e,actions:t,values:r})=>({afterMount:()=>{const r=e.license$.subscribe((e=>{t.setLicense(e)}));t.setLicenseSubscription(r)},beforeUnmount:()=>{r.licenseSubscription&&r.licenseSubscription.unsubscribe()}})}),o=e=>(i(e),i.mount());r(47),r(11),r(13),r(2),r(5),r(44),r(12)},73:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"c",(function(){return i})),r.d(t,"b",(function(){return o})),r.d(t,"d",(function(){return s}));const n={_enterpriseSearchUrl:"",get enterpriseSearchUrl(){return this._enterpriseSearchUrl},set enterpriseSearchUrl(e){this._enterpriseSearchUrl||(this._enterpriseSearchUrl=e)}},i=(e="")=>n.enterpriseSearchUrl+e,o=(e="")=>i("/as"+e),s=(e="")=>i("/ws"+e)},85:function(e,t,r){"use strict";var n=r(73);r.d(t,"a",(function(){return n.a})),r.d(t,"c",(function(){return n.c})),r.d(t,"b",(function(){return n.b})),r.d(t,"d",(function(){return n.d}))},989:function(e,t,r){"use strict";r.r(t),r.d(t,"renderApp",(function(){return V})),r.d(t,"renderHeaderActions",(function(){return H}));var n=r(11),i=r.n(n),o=r(23),s=r.n(o),c=r(25),a=r(37),u=r(14),l=r(19),d=r(47),b=r.n(d),p=r(171),h=r.n(p),f=r(13),v=r(337),m=r(339),j=r(22),g=r.n(j);let y;!function(e){e.preboot="preboot",e.standard="standard"}(y||(y={}));const O="eui-global",S="eui-utilities",P=e=>e.darkMode?f.COLOR_MODES_STANDARD.dark:f.COLOR_MODES_STANDARD.light,x={darkMode:!1};var M=r(12);const C=[f.euiStylisPrefixer],_=g()({key:"css",stylisPlugins:C,container:document.querySelector('meta[name="emotion"]')}),E=g()({key:O,stylisPlugins:C,container:document.querySelector(`meta[name="${O}"]`)}),k=g()({key:S,stylisPlugins:C,container:document.querySelector(`meta[name="${S}"]`)});_.compat=!0,E.compat=!0,k.compat=!0;const w={default:_,global:E,utility:k},A=({theme:{theme$:e},globalStyles:t,colorMode:r,children:i})=>{const o=h()(e,x),s=Object(n.useMemo)((()=>P(o)),[o]),c=r||s,a=!1!==t&&void 0;return Object(M.jsx)(f.EuiProvider,{cache:w,colorMode:c,globalStyles:a,utilityClasses:a},i)},D=({theme:{theme$:e},euiTheme:t,children:r,...i})=>{const o=h()(e,x),s=Object(n.useMemo)((()=>P(o)),[o]);return Object(M.jsx)(f.EuiThemeProvider,b()({colorMode:s,theme:t},i),r)},L=({theme:e,children:t,...r})=>Object(v.useIsNestedEuiProvider)()?Object(M.jsx)(D,b()({theme:e},r),t):(Object(m.emitEuiProviderWarning)("KibanaThemeProvider requires a parent KibanaRenderContextProvider.  Check your React tree and ensure that they are wrapped in a KibanaRenderContextProvider."),Object(M.jsx)(A,{theme:e,globalStyles:!1},t));var $=r(54),U=r(1),W=r(85),I=r(43),N=r(38),T=r(41),R=r(55);const V=(e,{params:t,core:r,plugins:n,isSidebarEnabled:o=!0},{config:d,data:b,esConfig:p})=>{var h,f;const{access:v,appSearch:m,configuredLimits:j,enterpriseSearchVersion:g,errorConnectingMessage:y,features:O,kibanaVersion:S,publicUrl:P,readOnlyMode:x,searchOAuth:C,workplaceSearch:_}=b,{history:E}=t,{application:k,chrome:w,http:A,uiSettings:D}=r,{capabilities:V,navigateToUrl:q}=k,{charts:K,cloud:F,guidedOnboarding:B,lens:G,security:z,share:J,ml:Q}=n,X=function(e){if(e&&e.isCloudEnabled&&e.cloudId&&e.deploymentId&&e.cloudHost)return`https://${e.deploymentId}.ent.${e.cloudHost}${e.cloudDefaultPort&&"443"!==e.cloudDefaultPort?`:${e.cloudDefaultPort}`:""}`}(n.cloud);W.a.enterpriseSearchUrl=P||X||d.host||"";const Y=v||{hasAppSearchAccess:!1,hasWorkplaceSearchAccess:!1},Z=null!=O?O:{...U.j},ee=(null==F?void 0:F.CloudContextProvider)||(({children:e})=>Object(M.jsx)(i.a.Fragment,null,e));Object(a.resetContext)({createStore:!0});const te=Object(a.getContext)().store;let re=null;try{z.authc.getCurrentUser().then((e=>{re=e})).catch((()=>{re=null}))}catch{re=null}const ne=Object(T.b)({application:k,capabilities:V,charts:K,cloud:F,config:d,esConfig:p,data:n.data,guidedOnboarding:B,history:E,isSidebarEnabled:o,lens:G,ml:Q,navigateToUrl:q,productAccess:Y,productFeatures:Z,renderHeaderActions:e=>t.setHeaderActionMenu(e?H.bind(null,e,te,t):void 0),security:z,setBreadcrumbs:w.setBreadcrumbs,setChromeIsVisible:w.setIsVisible,setDocTitle:w.docTitle.change,share:J,uiSettings:D,user:re}),ie=Object(R.b)({canManageLicense:null===(h=r.application.capabilities.management)||void 0===h||null===(f=h.stack)||void 0===f?void 0:f.license_management,license$:n.licensing.license$}),oe=Object(N.b)({errorConnectingMessage:y,http:A,readOnlyMode:x}),se=Object(I.h)();return s.a.render(Object(M.jsx)(u.I18nProvider,null,Object(M.jsx)(L,{theme:{theme$:t.theme$}},Object(M.jsx)(l.KibanaContextProvider,{services:{...r,...n}},Object(M.jsx)(ee,null,Object(M.jsx)(c.Provider,{store:te},Object(M.jsx)($.b,{history:t.history},Object(M.jsx)(e,{access:Y,appSearch:m,configuredLimits:j,enterpriseSearchVersion:g,features:O,kibanaVersion:S,readOnlyMode:x,searchOAuth:C,workplaceSearch:_}),Object(M.jsx)(I.c,null))))))),t.element),()=>{s.a.unmountComponentAtNode(t.element),ne(),ie(),oe(),se(),n.data.search.session.clear()}},H=(e,t,r,n)=>(s.a.render(Object(M.jsx)(u.I18nProvider,null,Object(M.jsx)(L,{theme:{theme$:r.theme$}},Object(M.jsx)(c.Provider,{store:t},Object(M.jsx)(e,null)))),n),()=>s.a.render(Object(M.jsx)(i.a.Fragment,null),n))}}]);