/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.enterpriseSearch_bundle_jsonpfunction=window.enterpriseSearch_bundle_jsonpfunction||[]).push([[12],{106:function(e,t,i){"use strict";i.d(t,"g",(function(){return n})),i.d(t,"f",(function(){return s})),i.d(t,"e",(function(){return r})),i.d(t,"k",(function(){return c})),i.d(t,"i",(function(){return o})),i.d(t,"b",(function(){return l})),i.d(t,"j",(function(){return u})),i.d(t,"d",(function(){return p})),i.d(t,"a",(function(){return d})),i.d(t,"c",(function(){return h})),i.d(t,"h",(function(){return f})),i.d(t,"l",(function(){return g}));var a=i(2);const n=a.i18n.translate("xpack.enterpriseSearch.actions.manageButtonLabel",{defaultMessage:"Manage"}),s=a.i18n.translate("xpack.enterpriseSearch.actions.editButtonLabel",{defaultMessage:"Edit"}),r=a.i18n.translate("xpack.enterpriseSearch.actions.deleteButtonLabel",{defaultMessage:"Delete"}),c=a.i18n.translate("xpack.enterpriseSearch.actions.updateButtonLabel",{defaultMessage:"Update"}),o=a.i18n.translate("xpack.enterpriseSearch.actions.saveButtonLabel",{defaultMessage:"Save"}),l=a.i18n.translate("xpack.enterpriseSearch.actions.cancelButtonLabel",{defaultMessage:"Cancel"}),u=a.i18n.translate("xpack.enterpriseSearch.actions.startButtonLabel",{defaultMessage:"Start"}),p=a.i18n.translate("xpack.enterpriseSearch.actions.continueButtonLabel",{defaultMessage:"Continue"}),d=a.i18n.translate("xpack.enterpriseSearch.actions.backButtonLabel",{defaultMessage:"Back"}),h=a.i18n.translate("xpack.enterpriseSearch.actions.closeButtonLabel",{defaultMessage:"Close"}),f=a.i18n.translate("xpack.enterpriseSearch.actions.resetDefaultButtonLabel",{defaultMessage:"Reset to default"}),g=a.i18n.translate("xpack.enterpriseSearch.actions.viewButtonLabel",{defaultMessage:"View"})},107:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"e",(function(){return s})),i.d(t,"d",(function(){return r})),i.d(t,"c",(function(){return c})),i.d(t,"g",(function(){return o})),i.d(t,"f",(function(){return l})),i.d(t,"b",(function(){return u}));var a=i(2);const n=a.i18n.translate("xpack.enterpriseSearch.units.allDaysLabel",{defaultMessage:"All days"}),s=a.i18n.translate("xpack.enterpriseSearch.units.minutesLabel",{defaultMessage:"Minutes"}),r=a.i18n.translate("xpack.enterpriseSearch.units.hoursLabel",{defaultMessage:"Hours"}),c=a.i18n.translate("xpack.enterpriseSearch.units.daysLabel",{defaultMessage:"Days"}),o=a.i18n.translate("xpack.enterpriseSearch.units.weeksLabel",{defaultMessage:"Weeks"}),l=a.i18n.translate("xpack.enterpriseSearch.units.monthsLabel",{defaultMessage:"Months"}),u={SUNDAY:a.i18n.translate("xpack.enterpriseSearch.units.daysOfWeekLabel.sunday",{defaultMessage:"Sunday"}),MONDAY:a.i18n.translate("xpack.enterpriseSearch.units.daysOfWeekLabel.monday",{defaultMessage:"Monday"}),TUESDAY:a.i18n.translate("xpack.enterpriseSearch.units.daysOfWeekLabel.tuesday",{defaultMessage:"Tuesday"}),WEDNESDAY:a.i18n.translate("xpack.enterpriseSearch.units.daysOfWeekLabel.wednesday",{defaultMessage:"Wednesday"}),THURSDAY:a.i18n.translate("xpack.enterpriseSearch.units.daysOfWeekLabel.thursday",{defaultMessage:"Thursday"}),FRIDAY:a.i18n.translate("xpack.enterpriseSearch.units.daysOfWeekLabel.friday",{defaultMessage:"Friday"}),SATURDAY:a.i18n.translate("xpack.enterpriseSearch.units.daysOfWeekLabel.saturday",{defaultMessage:"Saturday"})}},108:function(e,t,i){"use strict";const a=i(185),n=i(186),s=i(187);function r(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function c(e,t){return t.encode?t.strict?a(e):encodeURIComponent(e):e}function o(e,t){return t.decode?n(e):e}function l(e){return Array.isArray(e)?e.sort():"object"==typeof e?l(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function u(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function p(e){const t=(e=u(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function d(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function h(e,t){r((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const i=function(e){let t;switch(e.arrayFormat){case"index":return(e,i,a)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===a[e]&&(a[e]={}),a[e][t[1]]=i):a[e]=i};case"bracket":return(e,i,a)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==a[e]?a[e]=[].concat(a[e],i):a[e]=[i]:a[e]=i};case"comma":case"separator":return(t,i,a)=>{const n="string"==typeof i&&i.split("").indexOf(e.arrayFormatSeparator)>-1?i.split(e.arrayFormatSeparator).map((t=>o(t,e))):null===i?i:o(i,e);a[t]=n};default:return(e,t,i)=>{void 0!==i[e]?i[e]=[].concat(i[e],t):i[e]=t}}}(t),a=Object.create(null);if("string"!=typeof e)return a;if(!(e=e.trim().replace(/^[?#&]/,"")))return a;for(const n of e.split("&")){let[e,r]=s(t.decode?n.replace(/\+/g," "):n,"=");r=void 0===r?null:["comma","separator"].includes(t.arrayFormat)?r:o(r,t),i(o(e,t),r,a)}for(const e of Object.keys(a)){const i=a[e];if("object"==typeof i&&null!==i)for(const e of Object.keys(i))i[e]=d(i[e],t);else a[e]=d(i,t)}return!1===t.sort?a:(!0===t.sort?Object.keys(a).sort():Object.keys(a).sort(t.sort)).reduce(((e,t)=>{const i=a[t];return Boolean(i)&&"object"==typeof i&&!Array.isArray(i)?e[t]=l(i):e[t]=i,e}),Object.create(null))}t.extract=p,t.parse=h,t.stringify=(e,t)=>{if(!e)return"";r((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const i=i=>t.skipNull&&null==e[i]||t.skipEmptyString&&""===e[i],a=function(e){switch(e.arrayFormat){case"index":return t=>(i,a)=>{const n=i.length;return void 0===a||e.skipNull&&null===a||e.skipEmptyString&&""===a?i:null===a?[...i,[c(t,e),"[",n,"]"].join("")]:[...i,[c(t,e),"[",c(n,e),"]=",c(a,e)].join("")]};case"bracket":return t=>(i,a)=>void 0===a||e.skipNull&&null===a||e.skipEmptyString&&""===a?i:null===a?[...i,[c(t,e),"[]"].join("")]:[...i,[c(t,e),"[]=",c(a,e)].join("")];case"comma":case"separator":return t=>(i,a)=>null==a||0===a.length?i:0===i.length?[[c(t,e),"=",c(a,e)].join("")]:[[i,c(a,e)].join(e.arrayFormatSeparator)];default:return t=>(i,a)=>void 0===a||e.skipNull&&null===a||e.skipEmptyString&&""===a?i:null===a?[...i,c(t,e)]:[...i,[c(t,e),"=",c(a,e)].join("")]}}(t),n={};for(const t of Object.keys(e))i(t)||(n[t]=e[t]);const s=Object.keys(n);return!1!==t.sort&&s.sort(t.sort),s.map((i=>{const n=e[i];return void 0===n?"":null===n?c(i,t):Array.isArray(n)?n.reduce(a(i),[]).join("&"):c(i,t)+"="+c(n,t)})).filter((e=>e.length>0)).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[i,a]=s(e,"#");return Object.assign({url:i.split("?")[0]||"",query:h(p(e),t)},t&&t.parseFragmentIdentifier&&a?{fragmentIdentifier:o(a,t)}:{})},t.stringifyUrl=(e,i)=>{i=Object.assign({encode:!0,strict:!0},i);const a=u(e.url).split("?")[0]||"",n=t.extract(e.url),s=t.parse(n,{sort:!1}),r=Object.assign(s,e.query);let o=t.stringify(r,i);o&&(o=`?${o}`);let l=function(e){let t="";const i=e.indexOf("#");return-1!==i&&(t=e.slice(i)),t}(e.url);return e.fragmentIdentifier&&(l=`#${c(e.fragmentIdentifier,i)}`),`${a}${o}${l}`}},122:function(e,t,i){"use strict";i.d(t,"a",(function(){return p})),i(11);var a=i(37),n=i(13),s=i(2),r=i(77),c=i(1),o=i(55),l=i(44),u=i(12);const p=({productSupportUrl:e,backToLink:t="/",backToContent:i})=>{const{hasGoldLicense:p}=Object(a.useValues)(o.a),d=p?c.v:e;return Object(u.jsx)(r.a.EmptyPrompt,{iconType:"logoEnterpriseSearch",title:Object(u.jsx)("h1",null,s.i18n.translate("xpack.enterpriseSearch.notFound.title",{defaultMessage:"404 error"})),body:Object(u.jsx)("p",null,s.i18n.translate("xpack.enterpriseSearch.notFound.description",{defaultMessage:"The page youâ€™re looking for was not found."})),actions:Object(u.jsx)(n.EuiFlexGroup,null,Object(u.jsx)(n.EuiFlexItem,null,Object(u.jsx)(l.b,{to:t,fill:!0},null!=i?i:s.i18n.translate("xpack.enterpriseSearch.notFound.action1",{defaultMessage:"Back to your dashboard"}))),Object(u.jsx)(n.EuiFlexItem,null,Object(u.jsx)(n.EuiButton,{href:d,target:"_blank"},s.i18n.translate("xpack.enterpriseSearch.notFound.action2",{defaultMessage:"Contact support"}))))})}},129:function(e,t,i){var a,n=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",a={};function n(e,t){if(!a[e]){a[e]={};for(var i=0;i<e.length;i++)a[e][e.charAt(i)]=i}return a[e][t]}var s={compressToBase64:function(e){if(null==e)return"";var i=s._compress(e,6,(function(e){return t.charAt(e)}));switch(i.length%4){default:case 0:return i;case 1:return i+"===";case 2:return i+"==";case 3:return i+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:s._decompress(e.length,32,(function(i){return n(t,e.charAt(i))}))},compressToUTF16:function(t){return null==t?"":s._compress(t,15,(function(t){return e(t+32)}))+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:s._decompress(e.length,16384,(function(t){return e.charCodeAt(t)-32}))},compressToUint8Array:function(e){for(var t=s.compress(e),i=new Uint8Array(2*t.length),a=0,n=t.length;a<n;a++){var r=t.charCodeAt(a);i[2*a]=r>>>8,i[2*a+1]=r%256}return i},decompressFromUint8Array:function(t){if(null==t)return s.decompress(t);for(var i=new Array(t.length/2),a=0,n=i.length;a<n;a++)i[a]=256*t[2*a]+t[2*a+1];var r=[];return i.forEach((function(t){r.push(e(t))})),s.decompress(r.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":s._compress(e,6,(function(e){return i.charAt(e)}))},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),s._decompress(e.length,32,(function(t){return n(i,e.charAt(t))})))},compress:function(t){return s._compress(t,16,(function(t){return e(t)}))},_compress:function(e,t,i){if(null==e)return"";var a,n,s,r={},c={},o="",l="",u="",p=2,d=3,h=2,f=[],g=0,b=0;for(s=0;s<e.length;s+=1)if(o=e.charAt(s),Object.prototype.hasOwnProperty.call(r,o)||(r[o]=d++,c[o]=!0),l=u+o,Object.prototype.hasOwnProperty.call(r,l))u=l;else{if(Object.prototype.hasOwnProperty.call(c,u)){if(u.charCodeAt(0)<256){for(a=0;a<h;a++)g<<=1,b==t-1?(b=0,f.push(i(g)),g=0):b++;for(n=u.charCodeAt(0),a=0;a<8;a++)g=g<<1|1&n,b==t-1?(b=0,f.push(i(g)),g=0):b++,n>>=1}else{for(n=1,a=0;a<h;a++)g=g<<1|n,b==t-1?(b=0,f.push(i(g)),g=0):b++,n=0;for(n=u.charCodeAt(0),a=0;a<16;a++)g=g<<1|1&n,b==t-1?(b=0,f.push(i(g)),g=0):b++,n>>=1}0==--p&&(p=Math.pow(2,h),h++),delete c[u]}else for(n=r[u],a=0;a<h;a++)g=g<<1|1&n,b==t-1?(b=0,f.push(i(g)),g=0):b++,n>>=1;0==--p&&(p=Math.pow(2,h),h++),r[l]=d++,u=String(o)}if(""!==u){if(Object.prototype.hasOwnProperty.call(c,u)){if(u.charCodeAt(0)<256){for(a=0;a<h;a++)g<<=1,b==t-1?(b=0,f.push(i(g)),g=0):b++;for(n=u.charCodeAt(0),a=0;a<8;a++)g=g<<1|1&n,b==t-1?(b=0,f.push(i(g)),g=0):b++,n>>=1}else{for(n=1,a=0;a<h;a++)g=g<<1|n,b==t-1?(b=0,f.push(i(g)),g=0):b++,n=0;for(n=u.charCodeAt(0),a=0;a<16;a++)g=g<<1|1&n,b==t-1?(b=0,f.push(i(g)),g=0):b++,n>>=1}0==--p&&(p=Math.pow(2,h),h++),delete c[u]}else for(n=r[u],a=0;a<h;a++)g=g<<1|1&n,b==t-1?(b=0,f.push(i(g)),g=0):b++,n>>=1;0==--p&&(p=Math.pow(2,h),h++)}for(n=2,a=0;a<h;a++)g=g<<1|1&n,b==t-1?(b=0,f.push(i(g)),g=0):b++,n>>=1;for(;;){if(g<<=1,b==t-1){f.push(i(g));break}b++}return f.join("")},decompress:function(e){return null==e?"":""==e?null:s._decompress(e.length,32768,(function(t){return e.charCodeAt(t)}))},_decompress:function(t,i,a){var n,s,r,c,o,l,u,p=[],d=4,h=4,f=3,g="",b=[],j={val:a(0),position:i,index:1};for(n=0;n<3;n+=1)p[n]=n;for(r=0,o=Math.pow(2,2),l=1;l!=o;)c=j.val&j.position,j.position>>=1,0==j.position&&(j.position=i,j.val=a(j.index++)),r|=(c>0?1:0)*l,l<<=1;switch(r){case 0:for(r=0,o=Math.pow(2,8),l=1;l!=o;)c=j.val&j.position,j.position>>=1,0==j.position&&(j.position=i,j.val=a(j.index++)),r|=(c>0?1:0)*l,l<<=1;u=e(r);break;case 1:for(r=0,o=Math.pow(2,16),l=1;l!=o;)c=j.val&j.position,j.position>>=1,0==j.position&&(j.position=i,j.val=a(j.index++)),r|=(c>0?1:0)*l,l<<=1;u=e(r);break;case 2:return""}for(p[3]=u,s=u,b.push(u);;){if(j.index>t)return"";for(r=0,o=Math.pow(2,f),l=1;l!=o;)c=j.val&j.position,j.position>>=1,0==j.position&&(j.position=i,j.val=a(j.index++)),r|=(c>0?1:0)*l,l<<=1;switch(u=r){case 0:for(r=0,o=Math.pow(2,8),l=1;l!=o;)c=j.val&j.position,j.position>>=1,0==j.position&&(j.position=i,j.val=a(j.index++)),r|=(c>0?1:0)*l,l<<=1;p[h++]=e(r),u=h-1,d--;break;case 1:for(r=0,o=Math.pow(2,16),l=1;l!=o;)c=j.val&j.position,j.position>>=1,0==j.position&&(j.position=i,j.val=a(j.index++)),r|=(c>0?1:0)*l,l<<=1;p[h++]=e(r),u=h-1,d--;break;case 2:return b.join("")}if(0==d&&(d=Math.pow(2,f),f++),p[u])g=p[u];else{if(u!==h)return null;g=s+s.charAt(0)}b.push(g),p[h++]=s+g.charAt(0),s=g,0==--d&&(d=Math.pow(2,f),f++)}}};return s}();void 0===(a=function(){return n}.call(t,i,t,e))||(e.exports=a)},156:function(e,t,i){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,i,a){void 0===a&&(a=i),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,a){void 0===a&&(a=i),e[a]=t[i]}),n=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||a(t,e,i)},s=this&&this.__awaiter||function(e,t,i,a){return new(i||(i=Promise))((function(n,s){function r(e){try{o(a.next(e))}catch(e){s(e)}}function c(e){try{o(a.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,c)}o((a=a.apply(e,t||[])).next())}))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SearchkitRequest=void 0;const c=r(i(304)),o=r(i(693)),l=i(309),u=i(311),p=i(236),d=i(734);function h(e,t){const i=t.find((t=>t.id===e));if(!i)throw new Error(`Sort Option: sorting option ${e} not found`);return i}n(i(735),t),n(i(309),t),n(i(739),t),n(i(311),t),n(i(741),t);class SearchkitRequest{constructor(e,t){this.config=e,this.queryManager=new c.default,this.transporter=t||new u.FetchClientTransporter(e),this.transformer=new d.ElasticSearchResponseTransformer,this.handleDefaults()}handleDefaults(){const e=this.config.sortOptions&&this.config.sortOptions.find((e=>e.defaultOption)),t=e&&h(e.id,this.config.sortOptions);this.queryManager.setSortBy(t)}query(e){return this.queryManager.setQuery(e),this}setFilters(e){return this.queryManager.setFilters(e),this}setQueryOptions(e){return this.queryManager.setQueryOptions(e),this}setSortBy(e){if(this.config.sortOptions&&e){const t=h(e,this.config.sortOptions);this.queryManager.setSortBy(t)}return this}executeSuggestions(e){return s(this,void 0,void 0,(function*(){return yield Promise.all(this.config.suggestions.map((t=>t.getSuggestions(e,this.transporter))))}))}execute(e,t=[]){return s(this,void 0,void 0,(function*(){const i=[],a=((e=[],t,i)=>e.reduce(((e,a)=>a instanceof l.VisibleWhenRuleSet?[...e,...a.getActiveFacets(t,i)]:[...e,a]),[]))(this.config.facets,this.queryManager,{});let n=null,s={};if(e.hits||(e.hits={}),e.hits.size||(e.hits.size=0),e.hits.from||(e.hits.from=0),e.facets){if(Array.isArray(e.facets)){const t=e.facets.map((e=>e.identifier));n=a&&a.filter((e=>t.includes(e.getIdentifier()))),s=e.facets.reduce(((e,t)=>Object.assign(Object.assign({},e),{[t.identifier]:{query:t.query,size:t.size}})),{})}const t=p.getAggregationsFromFacets(this.queryManager,s,n||a);i.push(t)}const r=this.queryManager.getSortBy();i.push({size:e.hits.size,from:e.hits.from,sort:r?r.field:[{_score:"desc"}]});let c=o.default(this.queryManager,this.config,t,a,i);this.config.postProcessRequest&&(c=this.config.postProcessRequest(c));const u=yield this.transporter.performRequest(c);return this.transformer.transformResponse(u,n||a,this.queryManager,this.config,e)}))}}t.SearchkitRequest=SearchkitRequest,t.default=(e,t)=>new SearchkitRequest(e,t)},157:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i(16);t.default=class Filter{constructor(e){this.config=e}getIdentifier(){return this.config.identifier}getLabel(){return this.config.label}getFilters(e){return{bool:{filter:e.map((e=>{if("min"in e||"max"in e){const t={};return a.isUndefined(e.min)||(t.gte=e.min),a.isUndefined(e.max)||(t.lte=e.max),{range:{[this.config.field]:t}}}if("dateMin"in e||"dateMax"in e){const t={};return a.isUndefined(e.dateMin)||(t.gte=e.dateMin),a.isUndefined(e.dateMax)||(t.lte=e.dateMax),{range:{[this.config.field]:t}}}return"geoBoundingBox"in e?{geo_bounding_box:{[this.config.field]:a.omitBy({top_left:e.geoBoundingBox.topLeft,bottom_right:e.geoBoundingBox.bottomRight,bottom_left:e.geoBoundingBox.bottomLeft,top_right:e.geoBoundingBox.topRight},a.isNil)}}:{term:{[this.config.field]:e.value}}}))}}}getSelectedFilter(e){return"min"in e||"max"in e?{identifier:this.getIdentifier(),id:`${this.getIdentifier()}_${e.min}_${e.max}`,label:this.getLabel(),display:this.config.display||"RangeFilter",type:"NumericRangeSelectedFilter",min:e.min,max:e.max}:"dateMin"in e||"dateMax"in e?{identifier:this.getIdentifier(),id:`${this.getIdentifier()}_${e.dateMin}_${e.dateMax}`,label:this.getLabel(),display:this.config.display||"RangeFilter",type:"NumericRangeSelectedFilter",min:e.dateMin,max:e.dateMax}:"geoBoundingBox"in e?{type:"GeoBoundingBoxSelectedFilter",id:`${this.getIdentifier()}_${JSON.stringify(e.geoBoundingBox)}`,identifier:this.getIdentifier(),label:this.getLabel(),topLeft:e.geoBoundingBox.topLeft,bottomRight:e.geoBoundingBox.bottomRight,display:this.config.display||"GeoBoundingBoxFilter"}:"value"in e?{type:"ValueSelectedFilter",id:`${this.getIdentifier()}_${e.value}`,identifier:this.getIdentifier(),label:this.config.label,value:e.value,display:this.config.display||"TermFilter"}:void 0}}},185:function(e,t,i){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))},186:function(e,t,i){"use strict";var a="%[a-f0-9]{2}",n=new RegExp("("+a+")|([^%]+?)","gi"),s=new RegExp("("+a+")+","gi");function r(e,t){try{return[decodeURIComponent(e.join(""))]}catch(e){}if(1===e.length)return e;t=t||1;var i=e.slice(0,t),a=e.slice(t);return Array.prototype.concat.call([],r(i),r(a))}function c(e){try{return decodeURIComponent(e)}catch(a){for(var t=e.match(n)||[],i=1;i<t.length;i++)t=(e=r(t,i).join("")).match(n)||[];return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"ï¿½ï¿½","%FF%FE":"ï¿½ï¿½"},i=s.exec(e);i;){try{t[i[0]]=decodeURIComponent(i[0])}catch(e){var a=c(i[0]);a!==i[0]&&(t[i[0]]=a)}i=s.exec(e)}t["%C2"]="ï¿½";for(var n=Object.keys(t),r=0;r<n.length;r++){var o=n[r];e=e.replace(new RegExp(o,"g"),t[o])}return e}(e)}}},187:function(e,t,i){"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const i=e.indexOf(t);return-1===i?[e]:[e.slice(0,i),e.slice(i+t.length)]}},193:function(e,t,i){e.exports=i.p+"b3b7cd460cb2d96149d1a80b249d186b.svg"},212:function(e,t,i){switch(window.__kbnThemeTag__){case"v8dark":return i(543);case"v8light":return i(545)}},236:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFacetsFromResponse=t.getAggregationsFromFacets=t.filterTransform=void 0,t.filterTransform=(e,t=[])=>{const i=t.reduce(((t,i)=>{const a=e.getFiltersById(i.getIdentifier());return a?[...t,i.getFilters(a)]:t}),[]);return i.length?{bool:{must:i}}:null},t.getAggregationsFromFacets=(e,i,a)=>({aggs:a.reduce(((t,i)=>(i.excludeOwnFilters&&e.hasFilters()?t.push({name:`facet_bucket_${i.getIdentifier()}`,aggs:[i],filters:a.filter((e=>e!==i))}):t.find((({name:e})=>"facet_bucket_all"===e)).aggs.push(i),t)),[{name:"facet_bucket_all",aggs:[],filters:[...a]}]).reduce(((a,n)=>{const s=n.aggs.reduce(((t,a)=>Object.assign(Object.assign({},t),a.getAggregation(i[a.getIdentifier()],e))),{}),r=t.filterTransform(e,n.filters);return Object.assign(Object.assign({},a),{[n.name]:{aggs:s,filter:r||{bool:{must:[]}}}})}),{})}),t.getFacetsFromResponse=(e,t,i)=>{const a=Object.keys(t.aggregations).filter((e=>-1!==e.indexOf("facet_bucket_"))).reduce(((e,i)=>{const a=t.aggregations[i],n=Object.keys(a).filter((e=>"meta"!==e&&"doc_count"!==e));return Object.assign(Object.assign({},e),n.reduce(((e,t)=>Object.assign(Object.assign({},e),{[t]:a[t]})),{}))}),{});return e.map((e=>{const t=a[e.getIdentifier()];return"transformResponse"in e?e.transformResponse(t,i):null})).filter((e=>null!==e))}},237:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.buildBaseFilters=t.isRangeFilter=t.isValidDateString=t.getResultFields=void 0;const a=i(156),n=i(744),s=i(745);function r(e){return{hitFields:Object.keys(e),highlightFields:Object.keys(e).reduce(((t,i)=>(e[i].snippet&&t.push(i),t)),[])}}function c(e){return"string"==typeof e&&!isNaN(Date.parse(e))}function o(e){return"object"==typeof e&&("from"in e||"to"in e)}t.getResultFields=r,t.isValidDateString=c,t.isRangeFilter=o,t.buildBaseFilters=function(e){return(e||[]).reduce(((e,t)=>[...e,{bool:{[{all:"filter",any:"should",none:"must_not"}[t.type]]:t.values.map((e=>o(e)?{range:{[t.field]:Object.assign(Object.assign({},"from"in e?{from:c(e.from)?e.from:Number(e.from)}:{}),"to"in e?{to:c(e.to)?e.to:Number(e.to)}:{})}}:{term:{[t.field]:e}}))}}]),[])},t.default=function({state:t,queryConfig:i}){var o;const{hitFields:l,highlightFields:u}=r(i.result_fields),p=Object.values((t.filters||[]).filter((e=>!i.facets[e.field])).reduce(((e,t)=>Object.assign(Object.assign({},e),{[t.field]:new a.Filter({field:t.field,identifier:t.field,label:t.field})})),{})),d=Object.keys(i.facets||{}).reduce(((e,t)=>{var n;const s=i.facets[t],r=null===(n=i.disjunctiveFacets)||void 0===n?void 0:n.includes(t);return"value"===s.type?e.push(new a.RefinementSelectFacet({identifier:t,field:t,label:t,size:s.size||20,multipleSelect:r,order:s.sort||"count"})):"range"!==s.type||s.center?"range"===s.type&&s.center&&e.push(new a.GeoDistanceOptionsFacet({identifier:t,field:t,label:t,multipleSelect:r,origin:s.center,unit:s.unit,ranges:s.ranges.map((e=>Object.assign(Object.assign({label:e.name},e.from?{from:Number(e.from)}:{}),e.to?{to:Number(e.to)}:{})))})):e.push(new a.MultiQueryOptionsFacet({identifier:t,field:t,label:t,multipleSelect:r,options:s.ranges.map((e=>Object.assign(Object.assign(Object.assign(Object.assign({label:e.name},"number"==typeof e.from?{min:e.from}:{}),"number"==typeof e.to?{max:e.to}:{}),c(e.from)?{dateMin:e.from.toString()}:{}),c(e.to)?{dateMax:e.to.toString()}:{})))})),e}),[]),h=(null===(o=t.sortList)||void 0===o?void 0:o.length)>0?{id:"selectedOption",label:"selectedOption",field:t.sortList.reduce(((e,t)=>(e.push({[t.field]:t.direction}),e)),[])}:{id:"selectedOption",label:"selectedOption",field:"_score"},f="undefined"!=typeof window?"browser":e.version;return{host:"host",index:"engineName",connectionOptions:{headers:{"x-elastic-client-meta":`ent=${n.LIB_VERSION}-engines-connector,js=${f},t=${n.LIB_VERSION}-engines-connector,ft=universal`}},hits:{fields:l,highlightedFields:u},query:(0,s.EngineQuery)(),sortOptions:[h],facets:d,filters:p}}}).call(this,i(94))},304:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class QueryManager{constructor(){this.filters=[],this.query=null}setQuery(e){this.query=e}setQueryOptions(e){this.queryOptions=e}setFilters(e){this.filters=e}hasFilters(){return this.filters&&this.filters.length>0}hasQuery(){return!!(this.query&&this.query.length>0)}getQuery(){return this.query}getQueryOptions(){return this.queryOptions}getFilters(){return this.hasFilters()?this.filters:[]}getFiltersById(e){if(!this.hasFilters())return null;const t=this.filters.filter((t=>t.identifier===e));return t.length>0?t:null}setSortBy(e){this.sortBy=e}getSortBy(){return this.sortBy}}},305:function(e,t,i){var a=i(697),n=i(698);e.exports=function(e,t,i){(void 0!==i&&!n(e[t],i)||void 0===i&&!(t in e))&&a(e,t,i)}},306:function(e,t,i){e.exports=i(7)(363)},307:function(e,t){e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},308:function(e,t,i){e.exports=i(7)(1236)},309:function(e,t,i){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,i,a){void 0===a&&(a=i),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,a){void 0===a&&(a=i),e[a]=t[i]}),n=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||a(t,e,i)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.GeoDistanceOptionsFacet=t.MultiQueryOptionsFacet=t.HierarchicalMenuFacet=t.DateRangeFacet=t.RangeFacet=t.RefinementSelectFacet=void 0;var r=i(723);Object.defineProperty(t,"RefinementSelectFacet",{enumerable:!0,get:function(){return s(r).default}});var c=i(725);Object.defineProperty(t,"RangeFacet",{enumerable:!0,get:function(){return s(c).default}});var o=i(726);Object.defineProperty(t,"DateRangeFacet",{enumerable:!0,get:function(){return s(o).default}});var l=i(727);Object.defineProperty(t,"HierarchicalMenuFacet",{enumerable:!0,get:function(){return s(l).default}});var u=i(728);Object.defineProperty(t,"MultiQueryOptionsFacet",{enumerable:!0,get:function(){return s(u).default}});var p=i(729);Object.defineProperty(t,"GeoDistanceOptionsFacet",{enumerable:!0,get:function(){return s(p).default}}),n(i(730),t),n(i(731),t)},310:function(e,t){e.exports=function(e){return void 0===e}},311:function(e,t,i){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.FetchClientTransporter=void 0;var n=i(732);Object.defineProperty(t,"FetchClientTransporter",{enumerable:!0,get:function(){return a(n).default}})},312:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fieldResponseMapper=void 0,t.fieldResponseMapper=function(e){const t=e.fields,i=e.highlight||{};return[...new Set(Object.keys(t).concat(Object.keys(i)))].reduce(((e,a)=>Object.assign(Object.assign({},e),{[a]:Object.assign(Object.assign({},t[a]?{raw:t[a]}:{}),i[a]?{snippet:i[a]}:{})})),{id:{raw:e.id},_meta:{id:e.rawHit._id,rawHit:e.rawHit}})}},42:function(e,t,i){"use strict";i.d(t,"r",(function(){return a.g})),i.d(t,"n",(function(){return a.f})),i.d(t,"l",(function(){return a.e})),i.d(t,"B",(function(){return a.k})),i.d(t,"z",(function(){return a.i})),i.d(t,"e",(function(){return a.b})),i.d(t,"A",(function(){return a.j})),i.d(t,"h",(function(){return a.d})),i.d(t,"c",(function(){return a.a})),i.d(t,"f",(function(){return a.c})),i.d(t,"y",(function(){return a.h})),i.d(t,"D",(function(){return a.l})),i.d(t,"C",(function(){return s})),i.d(t,"x",(function(){return r})),i.d(t,"o",(function(){return c})),i.d(t,"d",(function(){return o})),i.d(t,"v",(function(){return l})),i.d(t,"u",(function(){return u})),i.d(t,"m",(function(){return p})),i.d(t,"w",(function(){return d})),i.d(t,"g",(function(){return h})),i.d(t,"p",(function(){return f})),i.d(t,"a",(function(){return g})),i.d(t,"b",(function(){return b.a})),i.d(t,"s",(function(){return b.e})),i.d(t,"q",(function(){return b.d})),i.d(t,"j",(function(){return b.c})),i.d(t,"E",(function(){return b.g})),i.d(t,"t",(function(){return b.f})),i.d(t,"i",(function(){return b.b})),i.d(t,"k",(function(){return j}));var a=i(106),n=i(2);const s=n.i18n.translate("xpack.enterpriseSearch.usernameLabel",{defaultMessage:"Username"}),r=n.i18n.translate("xpack.enterpriseSearch.passwordLabel",{defaultMessage:"Password"}),c=(n.i18n.translate("xpack.enterpriseSearch.typeLabel",{defaultMessage:"Type"}),n.i18n.translate("xpack.enterpriseSearch.emailLabel",{defaultMessage:"Email"})),o=n.i18n.translate("xpack.enterpriseSearch.betaLabel",{defaultMessage:"Beta"}),l=n.i18n.translate("xpack.enterpriseSearch.nativeLabel",{defaultMessage:"Native"}),u=n.i18n.translate("xpack.enterpriseSearch.nameLabel",{defaultMessage:"Name"}),p=n.i18n.translate("xpack.enterpriseSearch.descriptionLabel",{defaultMessage:"Description"}),d=n.i18n.translate("xpack.enterpriseSearch.optionalLabel",{defaultMessage:"Optional"}),h=(n.i18n.translate("xpack.enterpriseSearch.learnMore.link",{defaultMessage:"Learn more"}),n.i18n.translate("xpack.enterpriseSearch.connectorClientLabel",{defaultMessage:"Connector Client"})),f="esindex",g=n.i18n.translate("xpack.enterpriseSearch.actionsHeader",{defaultMessage:"Actions"});var b=i(107);const j={page:{current:1,size:10,total_pages:0,total_results:0}}},543:function(e,t,i){var a=i(39),n=i(544);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);a(n,{insert:"head",singleton:!1}),e.exports=n.locals||{}},544:function(e,t,i){(t=i(40)(!1)).push([e.i,".searchApplicationHeaderBackgroundColor{background-color:#25262e}",""]),e.exports=t},545:function(e,t,i){var a=i(39),n=i(546);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);a(n,{insert:"head",singleton:!1}),e.exports=n.locals||{}},546:function(e,t,i){(t=i(40)(!1)).push([e.i,".searchApplicationHeaderBackgroundColor{background-color:#f5f7fa}",""]),e.exports=t},547:function(e,t,i){switch(window.__kbnThemeTag__){case"v8dark":return i(548);case"v8light":return i(550)}},548:function(e,t,i){var a=i(39),n=i(549);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);a(n,{insert:"head",singleton:!1}),e.exports=n.locals||{}},549:function(e,t,i){(t=i(40)(!1)).push([e.i,".kbnFieldButton{align-items:flex-start;border-radius:6px;display:flex;font-size:14px;font-size:1rem;line-height:1.71429rem;margin-bottom:4px;padding:0 8px;transition:box-shadow .15s cubic-bezier(.694,.0482,.335,1),background-color .15s cubic-bezier(.694,.0482,.335,1)}.kbnFieldButton-isActive,.kbnFieldButton:focus-within{outline:2px solid currentColor}.kbnFieldButton-isActive:focus-visible,.kbnFieldButton:focus-within:focus-visible{outline-style:auto}.kbnFieldButton-isActive:not(:focus-visible),.kbnFieldButton:focus-within:not(:focus-visible){outline:none}.kbnFieldButton__button{align-items:flex-start;display:flex;flex-grow:1;line-height:normal;padding:8px 0;text-align:left}.kbnFieldButton__fieldIcon{flex-shrink:0;line-height:0}.kbnFieldButton__name{flex-grow:1;padding:0 8px}.kbnFieldButton__infoIcon{align-items:center;display:flex;flex-shrink:0;justify-content:center;line-height:0;min-height:16px}.kbnFieldButton__fieldAction{margin-left:8px}.kbnFieldButton__dragHandle{margin-right:8px}.kbnFieldButton__dragHandle,.kbnFieldButton__fieldAction{line-height:32px}.kbnFieldButton--xs{font-size:12px}.kbnFieldButton--xs .kbnFieldButton__button{padding:4px 0}.kbnFieldButton--xs .kbnFieldButton__fieldAction{margin-left:4px}.kbnFieldButton--xs .kbnFieldButton__dragHandle,.kbnFieldButton--xs .kbnFieldButton__fieldAction{line-height:24px}.kbnFieldButton--flushBoth{padding-left:0;padding-right:0}",""]),e.exports=t},550:function(e,t,i){var a=i(39),n=i(551);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);a(n,{insert:"head",singleton:!1}),e.exports=n.locals||{}},551:function(e,t,i){(t=i(40)(!1)).push([e.i,".kbnFieldButton{align-items:flex-start;border-radius:6px;display:flex;font-size:14px;font-size:1rem;line-height:1.71429rem;margin-bottom:4px;padding:0 8px;transition:box-shadow .15s cubic-bezier(.694,.0482,.335,1),background-color .15s cubic-bezier(.694,.0482,.335,1)}.kbnFieldButton-isActive,.kbnFieldButton:focus-within{outline:2px solid currentColor}.kbnFieldButton-isActive:focus-visible,.kbnFieldButton:focus-within:focus-visible{outline-style:auto}.kbnFieldButton-isActive:not(:focus-visible),.kbnFieldButton:focus-within:not(:focus-visible){outline:none}.kbnFieldButton__button{align-items:flex-start;display:flex;flex-grow:1;line-height:normal;padding:8px 0;text-align:left}.kbnFieldButton__fieldIcon{flex-shrink:0;line-height:0}.kbnFieldButton__name{flex-grow:1;padding:0 8px}.kbnFieldButton__infoIcon{align-items:center;display:flex;flex-shrink:0;justify-content:center;line-height:0;min-height:16px}.kbnFieldButton__fieldAction{margin-left:8px}.kbnFieldButton__dragHandle{margin-right:8px}.kbnFieldButton__dragHandle,.kbnFieldButton__fieldAction{line-height:32px}.kbnFieldButton--xs{font-size:12px}.kbnFieldButton--xs .kbnFieldButton__button{padding:4px 0}.kbnFieldButton--xs .kbnFieldButton__fieldAction{margin-left:4px}.kbnFieldButton--xs .kbnFieldButton__dragHandle,.kbnFieldButton--xs .kbnFieldButton__fieldAction{line-height:24px}.kbnFieldButton--flushBoth{padding-left:0;padding-right:0}",""]),e.exports=t},690:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(11),n=i(142),s=function(){};t.default=function(e,t,i){if(!n.isClient)return[t,s,s];if(!e)throw new Error("useLocalStorage key may not be falsy");var r=i?i.raw?function(e){return e}:i.deserializer:JSON.parse,c=a.useState((function(){try{var a=i?i.raw?String:i.serializer:JSON.stringify,n=localStorage.getItem(e);return null!==n?r(n):(t&&localStorage.setItem(e,a(t)),t)}catch(e){return t}})),o=c[0],l=c[1],u=a.useCallback((function(t){try{var a="function"==typeof t?t(o):t;if(void 0===a)return;var n;n=i?i.raw?"string"==typeof a?a:JSON.stringify(a):i.serializer?i.serializer(a):JSON.stringify(a):JSON.stringify(a),localStorage.setItem(e,n),l(r(n))}catch(e){}}),[e,l]),p=a.useCallback((function(){try{localStorage.removeItem(e),l(void 0)}catch(e){}}),[e,l]);return[o,u,p]}},691:function(e,t,i){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,i,a){void 0===a&&(a=i),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,a){void 0===a&&(a=i),e[a]=t[i]}),n=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||a(t,e,i)},s=this&&this.__awaiter||function(e,t,i,a){return new(i||(i=Promise))((function(n,s){function r(e){try{o(a.next(e))}catch(e){s(e)}}function c(e){try{o(a.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,c)}o((a=a.apply(e,t||[])).next())}))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const c=r(i(692)),o=r(i(748)),l=i(749);n(i(750),t),t.default=class EngineConnector{constructor(e){if(this.config=e,function(e){return void 0!==e.performRequest}(e))this.transporter=e;else{if(!e.host)throw new Error("Engine Host must be provided.");if(!e.engineName)throw new Error("Engine Name must be provided.");if(!e.apiKey)throw new Error("API Key must be provided.");const{host:t,engineName:i,apiKey:a}=e;this.transporter=new l.EngineTransporter(t,i,a)}}onResultClick(){}onAutocompleteResultClick(){}onSearch(e,t){return s(this,void 0,void 0,(function*(){return(0,c.default)({state:e,queryConfig:t,transporter:this.transporter})}))}onAutocomplete(e,t){return s(this,void 0,void 0,(function*(){return(0,o.default)({state:e,queryConfig:t,transporter:this.transporter})}))}}},692:function(e,t,i){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,i,a){void 0===a&&(a=i),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,a){void 0===a&&(a=i),e[a]=t[i]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&a(t,e,i);return n(t,e),t},r=this&&this.__awaiter||function(e,t,i,a){return new(i||(i=Promise))((function(n,s){function r(e){try{o(a.next(e))}catch(e){s(e)}}function c(e){try{o(a.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,c)}o((a=a.apply(e,t||[])).next())}))},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=c(i(156)),l=s(i(237)),u=c(i(746)),p=c(i(747));t.default=function(e){return r(this,void 0,void 0,(function*(){const{state:t,queryConfig:i}=e,a=(0,l.default)({state:t,queryConfig:i}),n=(0,o.default)(a,e.transporter),s=(0,u.default)(t,i),r=(0,l.buildBaseFilters)(i.filters),c=yield n.query(s.query).setFilters(s.filters).setSortBy(s.sort).execute({facets:i.facets&&Object.keys(i.facets).length>0,hits:{from:s.from,size:s.size,includeRawHit:!0}},r);return(0,p.default)(c)}))}},693:function(e,t,i){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.mergeESQueries=void 0;const n=a(i(694)),s=i(236);t.mergeESQueries=e=>n.default({aggs:{}},...e),t.default=function(e,i,a,n,r){var c,o,l;const u=e.hasQuery()&&i.query?i.query.getFilter(e):null,p=s.filterTransform(e,i.filters),d=[].concat(a,(null===(c=null==p?void 0:p.bool)||void 0===c?void 0:c.must)||[]),h=u||(d.length>0?{}:null);d.length&&(h.bool?Object.assign(h.bool,{filter:(null===(o=h.bool.filter)||void 0===o?void 0:o.length)?[].concat(h.bool.filter,d):d}):Object.assign(h,{bool:{filter:d}}));const f=s.filterTransform(e,n);let g,b;null===(l=i.hits.highlightedFields)||void 0===l||l.forEach((e=>{g||(g={fields:{}}),"string"==typeof e?g.fields[e]={}:g.fields[e.field]=e.config})),i.collapse&&(b={field:i.collapse.field,inner_hits:i.collapse.inner_hits});const j={_source:{includes:i.hits.fields}};return t.mergeESQueries([{size:0},j,h&&{query:h},b&&{collapse:b},f&&{post_filter:f},g&&{highlight:g},...r].filter(Boolean))}},694:function(e,t,i){var a=i(695),n=i(717)((function(e,t,i){a(e,t,i)}));e.exports=n},695:function(e,t,i){var a=i(696),n=i(305),s=i(699),r=i(701),c=i(306),o=i(308),l=i(307);e.exports=function e(t,i,u,p,d){t!==i&&s(i,(function(s,o){if(d||(d=new a),c(s))r(t,i,o,u,e,p,d);else{var h=p?p(l(t,o),s,o+"",t,i,d):void 0;void 0===h&&(h=s),n(t,o,h)}}),o)}},696:function(e,t,i){e.exports=i(7)(1610)},697:function(e,t,i){e.exports=i(7)(1636)},698:function(e,t,i){e.exports=i(7)(814)},699:function(e,t,i){var a=i(700)();e.exports=a},700:function(e,t){e.exports=function(e){return function(t,i,a){for(var n=-1,s=Object(t),r=a(t),c=r.length;c--;){var o=r[e?c:++n];if(!1===i(s[o],o,s))break}return t}}},701:function(e,t,i){var a=i(305),n=i(702),s=i(703),r=i(704),c=i(705),o=i(706),l=i(707),u=i(708),p=i(711),d=i(712),h=i(306),f=i(713),g=i(714),b=i(307),j=i(715);e.exports=function(e,t,i,m,x,O,y){var A=b(e,i),S=b(t,i),E=y.get(S);if(E)a(e,i,E);else{var v=O?O(A,S,i+"",e,t,y):void 0,_=void 0===v;if(_){var k=l(S),F=!k&&p(S),M=!k&&!F&&g(S);v=S,k||F||M?l(A)?v=A:u(A)?v=r(A):F?(_=!1,v=n(S,!0)):M?(_=!1,v=s(S,!0)):v=[]:f(S)||o(S)?(v=A,o(A)?v=j(A):h(A)&&!d(A)||(v=c(S))):_=!1}_&&(y.set(S,v),x(v,S,m,O,y),y.delete(S)),a(e,i,v)}}},702:function(e,t,i){e.exports=i(7)(3379)},703:function(e,t,i){e.exports=i(7)(3388)},704:function(e,t,i){e.exports=i(7)(3380)},705:function(e,t,i){e.exports=i(7)(3389)},706:function(e,t,i){e.exports=i(7)(1619)},707:function(e,t,i){e.exports=i(7)(288)},708:function(e,t,i){var a=i(709),n=i(710);e.exports=function(e){return n(e)&&a(e)}},709:function(e,t,i){e.exports=i(7)(1233)},710:function(e,t,i){e.exports=i(7)(286)},711:function(e,t,i){e.exports=i(7)(1229)},712:function(e,t,i){e.exports=i(7)(940)},713:function(e,t,i){e.exports=i(7)(3400)},714:function(e,t,i){e.exports=i(7)(1621)},715:function(e,t,i){var a=i(716),n=i(308);e.exports=function(e){return a(e,n(e))}},716:function(e,t,i){e.exports=i(7)(678)},717:function(e,t,i){var a=i(718),n=i(722);e.exports=function(e){return a((function(t,i){var a=-1,s=i.length,r=s>1?i[s-1]:void 0,c=s>2?i[2]:void 0;for(r=e.length>3&&"function"==typeof r?(s--,r):void 0,c&&n(i[0],i[1],c)&&(r=s<3?void 0:r,s=1),t=Object(t);++a<s;){var o=i[a];o&&e(t,o,a,r)}return t}))}},718:function(e,t,i){var a=i(719),n=i(720),s=i(721);e.exports=function(e,t){return s(n(e,t,a),e+"")}},719:function(e,t,i){e.exports=i(7)(1630)},720:function(e,t,i){e.exports=i(7)(3405)},721:function(e,t,i){e.exports=i(7)(3407)},722:function(e,t,i){e.exports=i(7)(3689)},723:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i(724);t.default=class RefinementSelectFacet{constructor(e){this.config=e,this.excludeOwnFilters=!1,this.excludeOwnFilters=this.config.multipleSelect}getLabel(){return this.config.label}getIdentifier(){return this.config.identifier}getFilters(e){return{bool:{[this.excludeOwnFilters?"should":"must"]:e.map((e=>({term:{[this.config.field]:e.value}})))}}}getAggregation(e){return{[this.getIdentifier()]:{terms:Object.assign(Object.assign({field:this.config.field,size:(null==e?void 0:e.size)||this.config.size||5},this.config.order?{order:{count:{_count:"desc"},value:{_key:"asc"}}[this.config.order]}:{}),(null==e?void 0:e.query)?{include:a.createRegexQuery(e.query)}:{})}}}getSelectedFilter(e){return{identifier:this.getIdentifier(),id:`${this.getIdentifier()}_${e.value}`,label:this.getLabel(),display:this.config.display||"ListFacet",type:"ValueSelectedFilter",value:e.value}}transformResponse(e){return{identifier:this.getIdentifier(),label:this.getLabel(),display:this.config.display||"ListFacet",type:"RefinementSelectFacet",entries:e.buckets.map((e=>({label:e.key,count:e.doc_count})))}}}},724:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createRegexQuery=void 0,t.createRegexQuery=e=>{let t=e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");return t=t.split("").map((e=>/[a-z]/.test(e)?`[${e}${e.toUpperCase()}]`:e)).join(""),t=`${t}.*`,e.length>2&&(t=`([a-zA-Z]+ )+?${t}`),t}},725:function(e,t,i){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=a(i(310));t.default=class RangeFacet{constructor(e){this.config=e,this.excludeOwnFilters=!0}getLabel(){return this.config.label}getIdentifier(){return this.config.identifier}getFilters(e){const t={};return n.default(e[0].min)||(t.gte=e[0].min),n.default(e[0].max)||(t.lte=e[0].max),{range:{[this.config.field]:t}}}getAggregation(){return{[this.getIdentifier()]:{histogram:{field:this.config.field,interval:this.config.range.interval,min_doc_count:this.config.range.min_doc_count||0,extended_bounds:{min:this.config.range.min,max:this.config.range.max}}}}}getSelectedFilter(e){return{identifier:this.getIdentifier(),id:`${this.getIdentifier()}_${e.min}_${e.max}`,label:this.getLabel(),display:this.config.display||"RangeSliderFacet",type:"NumericRangeSelectedFilter",min:e.min,max:e.max}}transformResponse(e){return{identifier:this.getIdentifier(),label:this.getLabel(),display:this.config.display||"RangeSliderFacet",type:"RangeFacet",entries:e.buckets.map((e=>({label:e.key,count:e.doc_count})))}}}},726:function(e,t,i){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=a(i(310));t.default=class DateRangeFacet{constructor(e){this.config=e,this.excludeOwnFilters=!0}getLabel(){return this.config.label}getIdentifier(){return this.config.identifier}getFilters(e){const t={};return n.default(e[0].dateMin)||(t.gte=e[0].dateMin),n.default(e[0].dateMax)||(t.lte=e[0].dateMax),{range:{[this.config.field]:t}}}getAggregation(){return{}}getSelectedFilter(e){return{type:"DateRangeSelectedFilter",id:`${this.getIdentifier()}_${e.dateMin}_${e.dateMax}`,identifier:this.getIdentifier(),label:this.getLabel(),dateMin:e.dateMin,dateMax:e.dateMax,display:this.config.display||"DateRangeFacet"}}transformResponse(){return{identifier:this.getIdentifier(),label:this.getLabel(),type:"DateRangeFacet",display:this.config.display||"DateRangeFacet",entries:null}}}},727:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class HierarchicalMenuFacet{constructor(e){this.config=e,this.excludeOwnFilters=!0}getLabel(){return this.config.label}getIdentifier(){return this.config.identifier}getFilters(e){return{bool:{must:e.map((e=>({term:{[this.config.fields[e.level-1]]:e.value}})))}}}getAggregation(e,t){const i=t.getFiltersById(this.config.identifier)||[],a=this.config.fields.reduce(((e,t,a)=>{const n=a+1,s=i.filter((e=>e.level<n));return s.length===n-1?Object.assign(Object.assign({},e),{[`lvl_${n}`]:{filter:0===s.length?{match_all:{}}:{bool:{must:s.map((e=>({term:{[this.config.fields[e.level-1]]:{value:e.value}}})))}},aggs:{aggs:{terms:{field:this.config.fields[n-1]}}}}}):e}),{});return{[this.getIdentifier()]:{filter:{match_all:{}},aggs:a}}}getSelectedFilter(e){return{type:"HierarchicalValueSelectedFilter",id:`${this.getIdentifier()}_${e.value}`,identifier:this.getIdentifier(),label:this.getLabel(),value:e.value,level:e.level,display:this.config.display||"HierarchicalMenuFacet"}}transformResponse(e,t){const i=t.getFiltersById(this.config.identifier)||[],a=(t,n="")=>{if(e[`lvl_${t}`]){const s=i.find((e=>e.level===t));return e[`lvl_${t}`].aggs.buckets.map((e=>{const i=(null==s?void 0:s.value)===e.key,r=`${n}_${this.getIdentifier()}_${e.key}_${t}${i&&"_selected"}`;return{label:e.key,count:e.doc_count,level:t,entries:i?a(t+1,r):null}}))}return null};return{identifier:this.getIdentifier(),label:this.getLabel(),type:"HierarchicalMenuFacet",display:this.config.display||"HierarchicalMenuFacet",entries:a(1)}}}},728:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=e=>t=>t.min||t.max?{range:{[e]:Object.assign(Object.assign({},t.min&&{gte:t.min}),t.max&&{lte:t.max})}}:t.value?{term:{[e]:t.value}}:t.dateMin||t.dateMax?{range:{[e]:Object.assign(Object.assign({},t.dateMin&&{gte:t.dateMin}),t.dateMax&&{lte:t.dateMax})}}:void 0;t.default=class MultiQueryOptionsFacet{constructor(e){this.config=e,this.excludeOwnFilters=!1,this.excludeOwnFilters=e.multipleSelect}getLabel(){return this.config.label}getIdentifier(){return this.config.identifier}getFilters(e){return{bool:{[this.excludeOwnFilters?"should":"must"]:e.map((e=>this.config.options.find((t=>t.label===e.value)))).filter((e=>!!e)).map(a(this.config.field))}}}getAggregation(){const e=this.config.options.map(a(this.config.field)),t=this.config.options.reduce(((t,i,a)=>(t[i.label]=e[a],t)),{});return{[this.getIdentifier()]:{filters:{filters:t}}}}getSelectedFilter(e){return{identifier:this.getIdentifier(),id:`${this.getIdentifier()}_${e.value}`,label:this.getLabel(),display:this.config.display||"ListFacet",type:"MultiQueryOptionsFacet",value:e.value}}transformResponse(e){return{identifier:this.getIdentifier(),label:this.getLabel(),display:this.config.display||"ListFacet",type:"MultiQueryOptionsFacet",entries:this.config.options.map((t=>{var i;const a=(null===(i=e.buckets[t.label])||void 0===i?void 0:i.doc_count)||0;return{label:t.label,count:a}}))}}}},729:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class GeoDistanceOptionsFacet{constructor(e){this.config=e,this.excludeOwnFilters=!1,this.excludeOwnFilters=e.multipleSelect,this.unit=e.unit||"mi"}getLabel(){return this.config.label}getIdentifier(){return this.config.identifier}getFilters(e){return{bool:{[this.excludeOwnFilters?"should":"must"]:e.map((({value:e})=>this.config.ranges.find((t=>t.label===e)))).map((e=>({bool:Object.assign(Object.assign({},e.from?{must_not:[{geo_distance:{distance:e.from+this.config.unit,[this.config.field]:this.config.origin}}]}:{}),e.to?{must:[{geo_distance:{distance:e.to+this.config.unit,[this.config.field]:this.config.origin}}]}:{})})))}}}getAggregation(){return{[this.getIdentifier()]:{geo_distance:{field:this.config.field,origin:this.config.origin,unit:this.unit,keyed:!0,ranges:this.config.ranges.map((e=>({from:e.from,to:e.to,key:e.label})))}}}}getSelectedFilter(e){return{identifier:this.getIdentifier(),id:`${this.getIdentifier()}_${e.value}`,label:this.getLabel(),display:this.config.display||"ListFacet",type:"GeoDistanceOptionsFacet",value:e.value}}transformResponse(e){return{identifier:this.getIdentifier(),label:this.getLabel(),display:this.config.display||"ListFacet",type:"GeoDistanceOptionsFacet",entries:this.config.ranges.map((t=>{var i;const a=(null===(i=e.buckets[t.label])||void 0===i?void 0:i.doc_count)||0;return{label:t.label,count:a}}))}}}},730:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},731:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FacetSelectedRule=t.VisibleWhen=t.VisibleWhenRuleSet=void 0;class VisibleWhenRuleSet{constructor(e,t){this.facets=e,this.rules=t}getActiveFacets(e,t){return this.rules.filter((i=>i(e,t))).length===this.rules.length?this.facets:[]}}t.VisibleWhenRuleSet=VisibleWhenRuleSet,t.VisibleWhen=function(e,t){return new VisibleWhenRuleSet(e,t)},t.FacetSelectedRule=function(e,t){return i=>{const a=i.getFiltersById(e);return!!a&&(!t||(t?!!a.find((e=>e.value===t)):void 0))}}},732:function(e,t,i){"use strict";var a=this&&this.__awaiter||function(e,t,i,a){return new(i||(i=Promise))((function(n,s){function r(e){try{o(a.next(e))}catch(e){s(e)}}function c(e){try{o(a.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,c)}o((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=i(733);t.default=class FetchClientTransporter{constructor(e){this.config=e}performRequest(e,t={}){var i,s;return a(this,void 0,void 0,(function*(){if(!fetch)throw new Error("Fetch is not supported in this browser / environment");if(!this.config.host&&!this.config.cloud)throw new Error("Host or cloud is required");let a=this.config.host;this.config.cloud&&(a=n.getHostFromCloud(this.config.cloud));const{index:r=this.config.index}=t,c=yield fetch(a+"/"+r+"/_search",{method:"POST",body:JSON.stringify(e),headers:Object.assign(Object.assign({"Content-Type":"application/json"},(null===(i=this.config.connectionOptions)||void 0===i?void 0:i.headers)||{}),(null===(s=this.config.connectionOptions)||void 0===s?void 0:s.apiKey)?{Authorization:`ApiKey ${this.config.connectionOptions.apiKey}`}:{})});return yield c.json()}))}}},733:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getHostFromCloud=void 0,t.getHostFromCloud=function(e){const{id:t}=e,i=atob(t.split(":")[1]).split("$");return`https://${i[1]}.${i[0]}`}},734:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ElasticSearchResponseTransformer=void 0;const a=i(236),n=(e,t)=>Object.keys(e.inner_hits).reduce(((i,a)=>{const n=e.inner_hits[a],r={items:n.hits.hits.map((e=>Object.assign({id:e._id,fields:e._source,highlight:e.highlight||{}},t?{rawHit:e}:{}))),total:s(n.hits)};return Object.assign(Object.assign({},i),{[a]:r})}),{}),s=e=>"number"==typeof e.total.value?e.total.value:e.total;t.ElasticSearchResponseTransformer=class ElasticSearchResponseTransformer{transformResponse(e,t,i,r,c){const{hits:o}=e,l=c.facets?a.getFacetsFromResponse(t,e,i):null,u=function(e,t,i,a){const n=[...t||[],...a.filters||[]],s=i.getFilters().map((e=>{const t=n.find((t=>t.getIdentifier()===e.identifier));return t?t.getSelectedFilter(e):{identifier:e.identifier,disabled:!0}})),{appliedFilters:r,disabledFilters:c}=s.reduce(((e,t)=>(function(e){return e.disabled}(t)?e.disabledFilters.push(t):e.appliedFilters.push(t),e)),{appliedFilters:[],disabledFilters:[]});return{total:"number"==typeof e.hits.total.value?e.hits.total.value:e.hits.total,query:i.getQuery()||"",sortOptions:(a.sortOptions||[]).map((e=>({id:e.id,label:e.label}))),appliedFilters:r,disabledFilters:c}}(e,t,i,r),p=s(o),d=c.hits.size,h=c.hits.from,f=i.getSortBy();return{summary:u,facets:l,hits:{items:o.hits.map((e=>Object.assign(Object.assign({id:e._id,fields:e._source,highlight:e.highlight||{}},r.collapse&&{innerHits:n(e,c.hits.includeRawHit)}||{}),c.hits.includeRawHit?{rawHit:e}:{}))),page:{total:p,totalPages:Math.ceil(p/d),pageNumber:h/d,from:h,size:d}},sortedBy:null==f?void 0:f.id}}}},735:function(e,t,i){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PrefixQuery=t.CustomQuery=t.MultiMatchQuery=void 0;var n=i(736);Object.defineProperty(t,"MultiMatchQuery",{enumerable:!0,get:function(){return a(n).default}});var s=i(737);Object.defineProperty(t,"CustomQuery",{enumerable:!0,get:function(){return a(s).default}});var r=i(738);Object.defineProperty(t,"PrefixQuery",{enumerable:!0,get:function(){return a(r).default}})},736:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class MultiMatchQuery{constructor(e){this.config=e}getFilter(e){return e.hasQuery()?{bool:{should:[{multi_match:{query:e.getQuery(),fields:this.config.fields,type:"best_fields",operator:"and"}},{multi_match:{query:e.getQuery(),fields:this.config.fields,type:"cross_fields"}},{multi_match:{query:e.getQuery(),fields:this.config.fields,type:"phrase"}},{multi_match:{query:e.getQuery(),fields:this.config.fields,type:"phrase_prefix"}}]}}:null}}},737:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class CustomQuery{constructor(e){this.config=e}getFilter(e){return this.config.queryFn(e.getQuery(),e)}}},738:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class PrefixQuery{constructor(e){this.fields=e.fields}getFilter(e){return{bool:{must:[{multi_match:{query:e.getQuery(),type:"bool_prefix",fields:this.fields}}]}}}}},739:function(e,t,i){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,i,a){void 0===a&&(a=i),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,a){void 0===a&&(a=i),e[a]=t[i]}),n=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||a(t,e,i)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Filter=t.NumericRangeFilter=t.TermFilter=t.GeoBoundingBoxFilter=void 0;var r=i(157);Object.defineProperty(t,"GeoBoundingBoxFilter",{enumerable:!0,get:function(){return s(r).default}});var c=i(157);Object.defineProperty(t,"TermFilter",{enumerable:!0,get:function(){return s(c).default}});var o=i(157);Object.defineProperty(t,"NumericRangeFilter",{enumerable:!0,get:function(){return s(o).default}});var l=i(157);Object.defineProperty(t,"Filter",{enumerable:!0,get:function(){return s(l).default}}),n(i(740),t)},740:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},741:function(e,t,i){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,i,a){void 0===a&&(a=i),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,a){void 0===a&&(a=i),e[a]=t[i]}),n=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||a(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),n(i(742),t),n(i(743),t)},742:function(e,t,i){"use strict";var a=this&&this.__awaiter||function(e,t,i,a){return new(i||(i=Promise))((function(n,s){function r(e){try{o(a.next(e))}catch(e){s(e)}}function c(e){try{o(a.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,c)}o((a=a.apply(e,t||[])).next())}))},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.HitsSuggestor=void 0;const s=n(i(304));t.HitsSuggestor=class HitsSuggestor{constructor(e){this.options=e}getSuggestions(e,t){var i;return a(this,void 0,void 0,(function*(){const{index:a,identifier:n,hits:r,query:c,size:o=5}=this.options,l=new s.default;l.setQuery(e);const u={_source:{includes:r.fields}};let p;null===(i=r.highlightedFields)||void 0===i||i.forEach((e=>{p||(p={fields:{}}),"string"==typeof e?p.fields[e]={}:p.fields[e.field]=e.config}));const d=Object.assign(Object.assign({size:o,query:c.getFilter(l)},u),{highlight:p});return{identifier:n,hits:(yield t.performRequest(d,{index:a})).hits.hits.map((e=>({id:e._id,fields:e._source,highlight:e.highlight||{},rawHit:e})))}}))}}},743:function(e,t,i){"use strict";var a=this&&this.__awaiter||function(e,t,i,a){return new(i||(i=Promise))((function(n,s){function r(e){try{o(a.next(e))}catch(e){s(e)}}function c(e){try{o(a.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,c)}o((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.CompletionSuggester=void 0,t.CompletionSuggester=class CompletionSuggester{constructor(e){this.options=e}getSuggestions(e,t){return a(this,void 0,void 0,(function*(){const{index:i,identifier:a,field:n,size:s=5,skip_duplicates:r}=this.options,c={size:0,_source:[],suggest:{suggest:{prefix:e,completion:{size:s,skip_duplicates:!r,field:n,fuzzy:{fuzziness:1}}}}};return{identifier:a,suggestions:(yield t.performRequest(c,{index:i})).suggest.suggest[0].options.map((e=>e.text))}}))}}},744:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LIB_VERSION=void 0,t.LIB_VERSION="1.20.2"},745:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EngineQuery=void 0;const a=i(156);t.EngineQuery=()=>new a.CustomQuery({queryFn:e=>({bool:{must:[{query_string:{query:e}}]}})})},746:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFilters=void 0;const a=i(130),n=i(237);function s(e=[],t=[]){return e.reduce(((e,i)=>{if(t.includes(i))return e;const s=i.values.map((e=>a.helpers.isFilterValueRange(e)?Object.assign(Object.assign({identifier:i.field},(0,n.isValidDateString)(e.from)?{dateMin:e.from}:{min:e.from}),(0,n.isValidDateString)(e.to)?{dateMax:e.to}:{max:e.to}):{identifier:i.field,value:e}));return[...e,...s]}),[])}t.getFilters=s,t.default=function(e,t){var i;return{query:e.searchTerm,filters:e.filters?s(e.filters,t.filters):[],from:(e.current-1)*e.resultsPerPage,size:e.resultsPerPage,sort:(null===(i=e.sortList)||void 0===i?void 0:i.length)>0?"selectedOption":null}}},747:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i(312);t.default=function(e){const t=(e.facets||[]).reduce(((e,t)=>Object.assign(Object.assign({},e),{[t.identifier]:[{data:t.entries.map((e=>({value:e.label,count:e.count}))),type:"value"}]})),{}),i=(e.hits.page.pageNumber+1)*e.hits.page.size;return{resultSearchTerm:e.summary.query,totalPages:e.hits.page.totalPages,pagingStart:e.hits.page.pageNumber*e.hits.page.size+1,pagingEnd:i>e.summary.total?e.summary.total:i,wasSearched:!1,totalResults:e.summary.total,facets:t,results:e.hits.items.map(a.fieldResponseMapper),requestId:null,rawResponse:null}}},748:function(e,t,i){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,i,a){void 0===a&&(a=i),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,a){void 0===a&&(a=i),e[a]=t[i]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&a(t,e,i);return n(t,e),t},r=this&&this.__awaiter||function(e,t,i,a){return new(i||(i=Promise))((function(n,s){function r(e){try{o(a.next(e))}catch(e){s(e)}}function c(e){try{o(a.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,c)}o((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const c=s(i(156)),o=i(312),l=i(237);t.default=function(e){return r(this,void 0,void 0,(function*(){const{state:t,queryConfig:i}=e,a=[];if(i.results){const{hitFields:e,highlightFields:t}=(0,l.getResultFields)(i.results.result_fields);a.push(new c.HitsSuggestor({identifier:"hits-suggestions",hits:{fields:e,highlightedFields:t},query:new c.PrefixQuery({fields:["*"]}),size:i.results.resultsPerPage||5}))}if(i.suggestions&&i.suggestions.types){const e=Object.keys(i.suggestions.types).map((e=>{const t=i.suggestions.types[e],a=i.suggestions.size||5;if("results"===t.queryType){const{hitFields:i,highlightFields:n}=(0,l.getResultFields)(t.result_fields);return new c.HitsSuggestor({identifier:`suggestions-hits-${e}`,index:t.index,hits:{fields:i,highlightedFields:n},query:new c.PrefixQuery({fields:["*"]}),size:a})}if(!t.queryType||"suggestions"===t.queryType){const{fields:i}=t;return new c.CompletionSuggester({identifier:`suggestions-completion-${e}`,field:i[0],size:a})}}));a.push(...e)}const n={host:"host",index:"engineName",suggestions:a};return(yield(0,c.default)(n,e.transporter).executeSuggestions(t.searchTerm)).reduce(((e,t)=>{const{identifier:a}=t;if("hits-suggestions"===a)return Object.assign(Object.assign({},e),{autocompletedResults:t.hits.map(o.fieldResponseMapper)});if(a.startsWith("suggestions-completion-")){const i=a.replace("suggestions-completion-","");return Object.assign(Object.assign({},e),{autocompletedSuggestions:Object.assign(Object.assign({},e.autocompletedSuggestions),{[i]:t.suggestions.map((e=>({suggestion:e})))})})}if(a.startsWith("suggestions-hits-")){const n=a.replace("suggestions-hits-",""),s=i.suggestions.types[n];return Object.assign(Object.assign({},e),{autocompletedSuggestions:Object.assign(Object.assign({},e.autocompletedSuggestions),{[n]:t.hits.map((e=>({queryType:s.queryType,result:(0,o.fieldResponseMapper)(e)})))})})}}),{autocompletedSuggestions:{}})}))}},749:function(e,t,i){"use strict";var a=this&&this.__awaiter||function(e,t,i,a){return new(i||(i=Promise))((function(n,s){function r(e){try{o(a.next(e))}catch(e){s(e)}}function c(e){try{o(a.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,c)}o((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.EngineTransporter=void 0,t.EngineTransporter=class EngineTransporter{constructor(e,t,i){this.host=e,this.engineName=t,this.apiKey=i}performRequest(e){return a(this,void 0,void 0,(function*(){if(!fetch)throw new Error("Fetch is not supported in this browser / environment");const t=yield fetch(`${this.host}/api/engines/${this.engineName}/_search`,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json",Authorization:`ApiKey ${this.apiKey}`}});return yield t.json()}))}}},750:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},751:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(20),n=i(11),s=a.__importDefault(i(752));t.default=function(e,t){void 0===t&&(t=200);var i=n.useState(e),a=i[0],r=i[1],c=n.useRef(),o=n.useRef(null),l=n.useRef(0);return n.useEffect((function(){if(c.current)o.current=e,l.current=!0;else{r(e);var i=function(){l.current?(l.current=!1,r(o.current),c.current=setTimeout(i,t)):c.current=void 0};c.current=setTimeout(i,t)}}),[e]),s.default((function(){c.current&&clearTimeout(c.current)})),a}},752:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(20),n=i(11),s=a.__importDefault(i(753));t.default=function(e){var t=n.useRef(e);t.current=e,s.default((function(){return function(){return t.current()}}))}},753:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(11);t.default=function(e){a.useEffect(e,[])}},80:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var a=i(108),n=i.n(a);const s=e=>n.a.parse(e,{arrayFormat:"bracket"})},82:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var a=i(37),n=i(41);const s=()=>{const{cloud:e}=Object(a.useValues)(n.a);return{cloudId:null==e?void 0:e.cloudId,deploymentUrl:null==e?void 0:e.deploymentUrl,elasticsearchUrl:null==e?void 0:e.elasticsearchUrl,kibanaUrl:null==e?void 0:e.kibanaUrl}}},98:function(e,t,i){"use strict";i.d(t,"a",(function(){return c})),i.d(t,"b",(function(){return o})),i(11);var a=i(13),n=i(2),s=i(6),r=i(12);let c;!function(e){e.NATIVE_CONNECTOR="nativeConnector",e.CRAWLER="crawler",e.INFERENCE="inference",e.PIPELINES="pipelines",e.SEARCH_APPLICATIONS="searchApplications",e.ANALYTICS="analytics"}(c||(c={}));const o=({feature:e})=>{const t={[c.NATIVE_CONNECTOR]:n.i18n.translate("xpack.enterpriseSearch.content.licensingCallout.nativeConnector.contentOne",{defaultMessage:"Built-in connectors require a Platinum license or higher and are not available to Standard license self-managed deployments. You need to upgrade to use this feature."}),[c.CRAWLER]:n.i18n.translate("xpack.enterpriseSearch.content.licensingCallout.crawler.contentOne",{defaultMessage:"The web crawler requires a Platinum license or higher and is not available to Standard license self-managed deployments. You need to upgrade to use this feature."}),[c.INFERENCE]:n.i18n.translate("xpack.enterpriseSearch.content.licensingCallout.inference.contentOne",{defaultMessage:"Inference processors require a Platinum license or higher and are not available to Standard license self-managed deployments. You need to upgrade to use this feature."}),[c.PIPELINES]:n.i18n.translate("xpack.enterpriseSearch.content.licensingCallout.pipelines.contentOne",{defaultMessage:"Custom pipelines require a Platinum license or higher and are not available to Standard license self-managed deployments. You need to upgrade to use this feature."}),[c.SEARCH_APPLICATIONS]:n.i18n.translate("xpack.enterpriseSearch.content.licensingCallout.searchApplications.contentOne",{defaultMessage:"Search Applications require a Platinum license or higher and are not available to Standard license self-managed deployments. You need to upgrade to use this feature."}),[c.ANALYTICS]:n.i18n.translate("xpack.enterpriseSearch.content.licensingCallout.analytics.contentOne",{defaultMessage:"Behavioral Analytics require a Platinum license or higher and are not available to Standard license self-managed deployments. You need to upgrade to use this feature."})},i={[c.NATIVE_CONNECTOR]:n.i18n.translate("xpack.enterpriseSearch.content.licensingCallout.contentTwo",{defaultMessage:"Did you know that built-in connectors are available with a Standard Elastic Cloud license? Elastic Cloud gives you the flexibility to run where you want. Deploy our managed service on Google Cloud, Microsoft Azure, or Amazon Web Services, and we'll handle the maintenance and upkeep for you."}),[c.CRAWLER]:n.i18n.translate("xpack.enterpriseSearch.content.licensingCallout.crawler.contentTwo",{defaultMessage:"Did you know that web crawlers are available with a Standard Elastic Cloud license? Elastic Cloud gives you the flexibility to run where you want. Deploy our managed service on Google Cloud, Microsoft Azure, or Amazon Web Services, and we'll handle the maintenance and upkeep for you."}),[c.INFERENCE]:n.i18n.translate("xpack.enterpriseSearch.content.licensingCallout.inference.contentTwo",{defaultMessage:"Did you know that inference processors are available with a Standard Elastic Cloud license? Elastic Cloud gives you the flexibility to run where you want. Deploy our managed service on Google Cloud, Microsoft Azure, or Amazon Web Services, and we'll handle the maintenance and upkeep for you."}),[c.PIPELINES]:n.i18n.translate("xpack.enterpriseSearch.content.licensingCallout.pipelines.contentTwo",{defaultMessage:"Did you know that custom pipelines are available with a Standard Elastic Cloud license? Elastic Cloud gives you the flexibility to run where you want. Deploy our managed service on Google Cloud, Microsoft Azure, or Amazon Web Services, and we'll handle the maintenance and upkeep for you."}),[c.SEARCH_APPLICATIONS]:n.i18n.translate("xpack.enterpriseSearch.content.licensingCallout.searchApplications.contentTwo",{defaultMessage:"Did you know that Search Applications are available with a Standard Elastic Cloud license? Elastic Cloud gives you the flexibility to run where you want. Deploy our managed service on Google Cloud, Microsoft Azure, or Amazon Web Services and we'll handle the maintenance and upkeep for you."}),[c.ANALYTICS]:n.i18n.translate("xpack.enterpriseSearch.content.licensingCallout.analytics.contentTwo",{defaultMessage:"Did you know that Behavioral Analytics are available with a Standard Elastic Cloud license? Elastic Cloud gives you the flexibility to run where you want. Deploy our managed service on Google Cloud, Microsoft Azure, or Amazon Web Services and we'll handle the maintenance and upkeep for you."})};return Object(r.jsx)(a.EuiCallOut,{title:n.i18n.translate("xpack.enterpriseSearch.content.licensingCallout.title",{defaultMessage:"Platinum features"})},Object(r.jsx)("p",null,t[e]),Object(r.jsx)("p",null,i[e]),Object(r.jsx)(a.EuiFlexGroup,null,Object(r.jsx)(a.EuiFlexItem,null,Object(r.jsx)(a.EuiLink,{external:!0,href:s.a.licenseManagement},n.i18n.translate("xpack.enterpriseSearch.workplaceSearch.explorePlatinumFeatures.link",{defaultMessage:"Explore Platinum features"}))),Object(r.jsx)(a.EuiFlexItem,null,Object(r.jsx)(a.EuiLink,{href:"https://www.elastic.co/subscriptions/cloud",external:!0},n.i18n.translate("xpack.enterpriseSearch.content.licensingCallout.contentCloudTrial",{defaultMessage:"Explore Enterprise Search on Elastic Cloud "})))))}},984:function(e,t,i){"use strict";i.r(t),i.d(t,"Applications",(function(){return Nt}));var a=i(11),n=i.n(a),s=i(15),r=i(54),c=i(1),o=i(122),l=i(52),u=i(47),p=i.n(u),d=i(37),h=i(41),f=i(60),g=i(58),b=i(13),j=i(2),m=i(5),x=i(141),O=i(12);const y=()=>Object(O.jsx)(x.a,null,Object(O.jsx)(b.EuiButtonEmpty,{"data-telemetry-id":"entSearchApplications-searchApplicationHeader-documentationLink","data-test-subj":"search-applications-documentation-link",href:m.a.searchApplications,target:"_blank",iconType:"documents"},j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.header.searchApplicationsDoc",{defaultMessage:"Search Applications Doc"}))),A=({children:e,pageChrome:t,pageViewTelemetry:i,searchApplicationName:n,hasSchemaConflicts:s,...r})=>{const o=Object(g.c)(n,r.isEmptyState,s),{renderHeaderActions:u}=Object(d.useValues)(h.a);return Object(a.useLayoutEffect)((()=>(u(y),()=>{u()})),[]),Object(O.jsx)(g.a,p()({},r,{solutionNav:{items:o,name:c.n.NAME},restrictWidth:!0,setPageChrome:t&&Object(O.jsx)(f.e,{trail:t}),useEndpointHeaderActions:!1}),i&&Object(O.jsx)(l.b,{action:"viewed",metric:i}),e)},S=({pageChrome:e=[]})=>Object(O.jsx)(A,{pageChrome:[...e,"404"],customPageSections:!0},Object(O.jsx)(l.b,{action:"error",metric:"not_found"}),Object(O.jsx)(o.a,{productSupportUrl:c.c.SUPPORT_URL}));var E=i(65),v=i(50);const _=Object(d.kea)({actions:{setSearchApplicationName:e=>({name:e})},path:["enterprise_search","search_applications","search_application_name"],reducers:({props:e})=>{var t;return{searchApplicationName:[null!==(t=e.searchApplicationName)&&void 0!==t?t:"",{setSearchApplicationName:(e,{name:t})=>t}]}}});var k=i(49),F=i(42),M=i(105),T=i(46),w=i(38);const C=Object(T.a)(["search_applications","delete_search_application_api_logic"],(async({searchApplicationName:e})=>{const t=`/internal/enterprise_search/search_applications/${e}`;return await w.a.values.http.delete(t),{searchApplicationName:e}}),{showSuccessFlashFn:({searchApplicationName:e})=>j.i18n.translate("xpack.enterpriseSearch.searchApplications.list.deleteSearchApplication.successToast.title",{defaultMessage:"{searchApplicationName} has been deleted",values:{searchApplicationName:e}})}),I=Object(T.a)(["searchApplications","search_applications_api_logic"],(async({meta:e,searchQuery:t})=>{const i={from:e.from,size:e.size,...t&&""!==t.trim()?{q:t+"*"}:{}};return{...await w.a.values.http.get("/internal/enterprise_search/search_applications",{query:i}),params:i}})),N={from:0,size:10,total:0},R=Object(d.kea)({actions:{closeDeleteSearchApplicationModal:!0,fetchSearchApplications:!0,onPaginate:e=>({pageNumber:e.page.index}),openDeleteSearchApplicationModal:e=>({searchApplication:e}),setIsFirstRequest:!0,setSearchQuery:e=>({searchQuery:e})},connect:{actions:[I,["makeRequest","apiSuccess","apiError"],C,["apiSuccess as deleteSuccess","makeRequest as deleteSearchApplication","apiError as deleteError"]],values:[I,["data","status"],C,["status as deleteStatus"]]},listeners:({actions:e,values:t})=>({deleteSuccess:()=>{e.closeDeleteSearchApplicationModal(),e.fetchSearchApplications()},fetchSearchApplications:async()=>{e.makeRequest(t.parameters)}}),path:["enterprise_search","search_applications","search_applications_list_logic"],reducers:({})=>({deleteModalSearchApplication:[null,{closeDeleteSearchApplicationModal:()=>null,openDeleteSearchApplicationModal:(e,{searchApplication:t})=>t}],isDeleteModalVisible:[!1,{closeDeleteSearchApplicationModal:()=>!1,openDeleteSearchApplicationModal:()=>!0}],isFirstRequest:[!0,{apiError:()=>!1,apiSuccess:()=>!1,setIsFirstRequest:()=>!0}],parameters:[{count:0,meta:N},{apiSuccess:(e,{count:t})=>{return{...e,count:t,meta:(i=e.meta,a=t,{...i,total:a})};var i,a},onPaginate:(e,{pageNumber:t})=>{return{...e,meta:(i=e.meta,a=t,{...i,from:a*i.size})};var i,a},setSearchQuery:(e,{searchQuery:t})=>({...e,searchQuery:t||void 0})}],searchQuery:["",{setSearchQuery:(e,{searchQuery:t})=>t}]}),selectors:({selectors:e})=>({deleteModalSearchApplicationName:[()=>[e.deleteModalSearchApplication],e=>{var t;return null!==(t=null==e?void 0:e.name)&&void 0!==t?t:""}],hasNoSearchApplications:[()=>[e.data,e.results],(e,t)=>{var i,a,n;return null!==(i=0===(null==e||null===(a=e.params)||void 0===a?void 0:a.from)&&0===t.length&&!(null!=e&&null!==(n=e.params)&&void 0!==n&&n.q))&&void 0!==i&&i}],isDeleteLoading:[()=>[e.deleteStatus],e=>[k.a.LOADING].includes(e)],isLoading:[()=>[e.status,e.isFirstRequest],(e,t)=>[k.a.LOADING,k.a.IDLE].includes(e)&&t],meta:[()=>[e.parameters],e=>e.meta],results:[()=>[e.data],e=>{var t;return null!==(t=null==e?void 0:e.results)&&void 0!==t?t:[]}]})}),B=({searchApplicationName:e,onClose:t})=>{const{deleteSearchApplication:i}=Object(d.useActions)(R),{sendEnterpriseSearchTelemetry:a}=Object(d.useActions)(M.a),{isDeleteLoading:n}=Object(d.useValues)(R);return Object(O.jsx)(b.EuiConfirmModal,{title:j.i18n.translate("xpack.enterpriseSearch.searchApplications.list.deleteSearchApplicationModal.title",{defaultMessage:"Permanently delete this search application?"}),onCancel:t,onConfirm:()=>{i({searchApplicationName:e}),a({action:"clicked",metric:"entSearchApplications-deleteSearchApplicationConfirm"})},cancelButtonText:F.e,confirmButtonText:j.i18n.translate("xpack.enterpriseSearch.searchApplications.list.deleteSearchApplicationModal.confirmButton.title",{defaultMessage:"Yes, delete this search application"}),buttonColor:"danger",isLoading:n},Object(O.jsx)("p",null,j.i18n.translate("xpack.enterpriseSearch.searchApplications.list.deleteSearchApplicationModal.delete.description",{defaultMessage:"Deleting your search application is not a reversible action. Your indices will not be affected. "})))};var P=i(121);const L=({error:e,notFound:t})=>{var i;return t||404===(null==e||null===(i=e.body)||void 0===i?void 0:i.statusCode)?Object(O.jsx)(n.a.Fragment,null,Object(O.jsx)(l.b,{action:"error",metric:"not_found"}),Object(O.jsx)(o.a,{backToContent:j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.notFound.action1",{defaultMessage:"Back to Search Applications"}),backToLink:E.b,productSupportUrl:c.c.SUPPORT_URL})):Object(O.jsx)(n.a.Fragment,null,Object(O.jsx)(l.b,{action:"error",metric:"cannot_connect"}),Object(O.jsx)(P.b,null))},D=Object(T.a)(["search_applications","fetch_search_application_api_logic"],(async({name:e})=>{const t=`/internal/enterprise_search/search_applications/${e}`;return await w.a.values.http.get(t)})),z=Object(T.a)(["search_applications","fetch_search_application_field_capabilities_api_logic"],(async({name:e})=>{const t=`/internal/enterprise_search/search_applications/${e}/field_capabilities`;return await w.a.values.http.get(t)})),G=Object(d.kea)({actions:{closeDeleteSearchApplicationModal:!0,openDeleteSearchApplicationModal:!0},connect:{actions:[D,["makeRequest as fetchSearchApplication"],z,["makeRequest as fetchSearchApplicationSchema"],R,["deleteSuccess"]],values:[_,["searchApplicationName"],D,["data as searchApplicationData","status as fetchSearchApplicationApiStatus","error as fetchSearchApplicationApiError"],z,["data as searchApplicationSchemaData","status as fetchSearchApplicationSchemaApiStatus","error as fetchSearchApplicationSchemaApiError"]]},listeners:({actions:e})=>({deleteSuccess:()=>{e.closeDeleteSearchApplicationModal(),h.a.values.navigateToUrl(E.b)},fetchSearchApplication:({name:t})=>{e.fetchSearchApplicationSchema({name:t})}}),path:["enterprise_search","content","search_application_view_logic"],reducers:()=>({isDeleteModalVisible:[!1,{closeDeleteSearchApplicationModal:()=>!1,openDeleteSearchApplicationModal:()=>!0}]}),selectors:({selectors:e})=>({hasSchemaConflicts:[()=>[e.schemaFields],e=>e.some((e=>"conflict"===e.type))],isLoadingSearchApplication:[()=>[e.fetchSearchApplicationApiStatus,e.searchApplicationData],(e,t)=>e===k.a.IDLE||!t&&e===k.a.LOADING],isLoadingSearchApplicationSchema:[()=>[e.fetchSearchApplicationSchemaApiStatus],e=>[k.a.LOADING,k.a.IDLE].includes(e)],schemaFields:[()=>[e.searchApplicationSchemaData],e=>(null==e?void 0:e.fields)||[]]})});var q=i(14),U=i(82);const H=Object(T.a)(["generate_search_application_api_key_logic"],(async({keyName:e,searchApplicationName:t})=>{const i=`/internal/enterprise_search/search_applications/${t}/api_key`;return await w.a.values.http.post(i,{body:JSON.stringify({keyName:e})})})),$=Object(d.kea)({actions:{setKeyName:e=>({keyName:e})},connect:{values:[H,["data","status"]]},path:["enterprise_search","search_applications","api","generate_api_key_modal"],reducers:()=>({keyName:["",{setKeyName:(e,{keyName:t})=>t}]}),selectors:({selectors:e})=>({apiKey:[()=>[e.data],e=>{var t;return(null==e||null===(t=e.apiKey)||void 0===t?void 0:t.encoded)||""}],isLoading:[()=>[e.status],e=>e===k.a.LOADING],isSuccess:[()=>[e.status],e=>e===k.a.SUCCESS]})}),V=({onClose:e,searchApplicationName:t})=>{const{keyName:i,apiKey:s,isLoading:r,isSuccess:c}=Object(d.useValues)($),{setKeyName:o}=Object(d.useActions)($),{makeRequest:l}=Object(d.useActions)(H);return Object(a.useEffect)((()=>{o(`${t} read-only API key`)}),[t]),Object(O.jsx)(b.EuiModal,{onClose:e},Object(O.jsx)(b.EuiModalHeader,null,Object(O.jsx)(b.EuiModalHeaderTitle,null,j.i18n.translate("xpack.enterpriseSearch.searchApplication.searchApplication.api.generateApiKeyModal.title",{defaultMessage:"Create Search application read-only API Key"}))),Object(O.jsx)(b.EuiModalBody,null,Object(O.jsx)(n.a.Fragment,null,Object(O.jsx)(b.EuiPanel,{hasShadow:!1,color:"primary"},Object(O.jsx)(b.EuiFlexGroup,{direction:"column"},Object(O.jsx)(b.EuiFlexItem,null,Object(O.jsx)(b.EuiFlexGroup,{direction:"row",alignItems:"flexEnd"},c?Object(O.jsx)(b.EuiFlexItem,null,Object(O.jsx)(b.EuiFormLabel,null,i),Object(O.jsx)(b.EuiSpacer,{size:"xs"}),Object(O.jsx)(b.EuiFlexGroup,{alignItems:"center"},Object(O.jsx)(b.EuiFlexItem,null,Object(O.jsx)(b.EuiCodeBlock,{"aria-label":i,fontSize:"m",paddingSize:"m",color:"dark",isCopyable:!0},s)),Object(O.jsx)(b.EuiFlexItem,{grow:!1},Object(O.jsx)(b.EuiButtonIcon,{"data-telemetry-id":"entSearchApplications-api-generateSearchApplicationApiKeyModal-csvDownloadButton","aria-label":j.i18n.translate("xpack.enterpriseSearch.searchApplication.searchApplication.api.generateApiKeyModal.csvDownloadButton",{defaultMessage:"Download API key"}),iconType:"download",href:encodeURI(`data:text/csv;charset=utf-8,${s}`),download:`${i}.csv`})))):Object(O.jsx)(n.a.Fragment,null,Object(O.jsx)(b.EuiFlexItem,null,Object(O.jsx)(b.EuiFormRow,{label:"Name your API key",fullWidth:!0},Object(O.jsx)(b.EuiFieldText,{"data-telemetry-id":"entSearchApplications-api-generateSearchApplicationApiKeyModal-editName",fullWidth:!0,placeholder:"Type a name for your API key",onChange:e=>o(e.currentTarget.value),value:i,isLoading:r}))),Object(O.jsx)(b.EuiFlexItem,{grow:!1},Object(O.jsx)(b.EuiButton,{"data-telemetry-id":"entSearchApplications-api-generateSearchApplicationApiKeyModal-generateApiKeyButton","data-test-subj":"generateApiKeyButton",iconSide:"left",iconType:"plusInCircle",fill:!0,onClick:()=>{l({keyName:i.trim(),searchApplicationName:t})},disabled:i.trim().length<=0},j.i18n.translate("xpack.enterpriseSearch.searchApplication.searchApplication.api.generateApiKeyModal.generateButton",{defaultMessage:"Generate read-only key"})))))),Object(O.jsx)(b.EuiFlexItem,null,Object(O.jsx)(b.EuiFlexGroup,{direction:"row"},Object(O.jsx)(b.EuiFlexItem,null,Object(O.jsx)(b.EuiText,{size:"s",color:"#006bb8"},Object(O.jsx)("p",null,j.i18n.translate("xpack.enterpriseSearch.searchApplication.searchApplication.api.generateApiKeyModal.apiKeyWarning",{defaultMessage:"Elastic does not store API keys. Once generated, you'll only be able to view the key one time. Make sure you save it somewhere secure. If you lose access to it you'll need to generate a new API key from this screen."})))))))))),Object(O.jsx)(b.EuiModalFooter,null,s?Object(O.jsx)(b.EuiButton,{"data-telemetry-id":"entSearchApplications-api-generateSearchApplicationApiKeyModal-done",fill:!0,onClick:e},j.i18n.translate("xpack.enterpriseSearch.searchApplication.searchApplication.api.generateApiKeyModal.done",{defaultMessage:"Done"})):Object(O.jsx)(b.EuiButtonEmpty,{"data-telemetry-id":"entSearchApplications-api-generateSearchApplicationApiKeyModal-cancel",onClick:e},j.i18n.translate("xpack.enterpriseSearch.searchApplication.searchApplication.api.generateApiKeyModal.cancel",{defaultMessage:"Cancel"}))))};var K=i(129);const Q=Object(d.kea)({actions:{closeGenerateModal:!0,openGenerateModal:!0},connect:{actions:[H,["apiReset"]],values:[H,["data as apiKeyData","status as apiKeyStatus"]]},listeners:({actions:e})=>({openGenerateModal:()=>{e.apiReset()}}),path:["enterprise_search","content","search_application_api_logic"],reducers:()=>({isGenerateModalOpen:[!1,{closeGenerateModal:()=>!1,openGenerateModal:()=>!0}]}),selectors:({selectors:e})=>({apiKey:[()=>[e.apiKeyStatus,e.apiKeyData],(e,t)=>e===k.a.SUCCESS?t.apiKey.encoded:null]})}),W=(e,t,i)=>`\nimport Client from '@elastic/search-application-client'\n// or through CDN\n// const Client = window['SearchApplicationClient']\n\nconst request = Client(\n  ${t},\n  ${e},\n  ${i||"<YOUR_API_KEY>"},\n)\n\nconst results = await request()\n  .query('pizza')\n  .addParameter('myCustomParameter', 'example value')\n  .search()\n`,Y=(e,t,i,a)=>`\ncurl --location --request POST '${e}/_application/search_application/${t}/_search' \\\n--header 'Authorization: apiKey ${i||"<YOUR_API_KEY>"}' \\\n--header 'Content-Type: application/json' \\\n--data-raw '${JSON.stringify({params:a},null,2)}'`,J=(e,t)=>`\nPOST /_application/search_application/${e}/_search\n${JSON.stringify({params:t},null,2)}\n`,X=(e,t)=>`POST /_application/search_application/${e}/_search\n${JSON.stringify({params:t},null,2)}`,Z=()=>{var e,t,i;const{application:a,share:{url:s}}=Object(d.useValues)(h.a),[r,c]=n.a.useState("apirequest"),{searchApplicationName:o}=Object(d.useValues)(G),{apiKey:l}=Object(d.useValues)(Q),u=Object(U.a)(),p={query:"pizza",myCustomParameter:"example value"},f={apirequest:{code:J(o,p),copy:!1,language:"http",title:j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.searchApi.tab.consoleTitle",{defaultMessage:"Console"})},client:{code:W(ee(u),o,l),copy:!0,language:"javascript",title:j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.searchApi.tab.clientTitle",{defaultMessage:"Javascript Client"})},curl:{code:Y(ee(u),o,l,p),copy:!0,language:"bash",title:j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.searchApi.tab.curlTitle",{defaultMessage:"cURL"})}},g=null!=a&&null!==(e=a.capabilities)&&void 0!==e&&null!==(t=e.dev_tools)&&void 0!==t&&t.show?null===(i=s.locators.get("CONSOLE_APP_LOCATOR"))||void 0===i?void 0:i.useUrl({loadFrom:`data:text/plain,${Object(K.compressToEncodedURIComponent)(X(o,p))}`},void 0,[]):null;return Object(O.jsx)(n.a.Fragment,null,Object(O.jsx)(b.EuiText,null,Object(O.jsx)("p",null,Object(O.jsx)(q.FormattedMessage,{id:"xpack.enterpriseSearch.searchApplications.searchApplication.searchApi.step4.description",defaultMessage:"Simplify your API calls. We recommend using the JavaScript client."}))),Object(O.jsx)(b.EuiSpacer,{size:"l"}),Object(O.jsx)(b.EuiTabs,null,Object.entries(f).map((([e,t])=>Object(O.jsx)(b.EuiTab,{key:e,isSelected:r===e,onClick:()=>c(e),"data-telemetry-id":`entSearchApplications-searchApi-integration-tab-${e}`},t.title)))),Object(O.jsx)(b.EuiSpacer,{size:"l"}),"client"===r&&Object(O.jsx)(b.EuiFlexGroup,{direction:"column"},Object(O.jsx)(b.EuiFlexItem,null,Object(O.jsx)(b.EuiText,null,Object(O.jsx)("h5",null,j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.searchApi.step4.installationTitle",{defaultMessage:"Installation"})))),Object(O.jsx)(b.EuiFlexItem,null,Object(O.jsx)(b.EuiText,{color:"inherit"},Object(O.jsx)("p",null,j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.searchApi.step4.npmInstallDescription",{defaultMessage:"Search application client is accessible from NPM package registry"})))),Object(O.jsx)(b.EuiFlexItem,{grow:!0},Object(O.jsx)(b.EuiCodeBlock,{isCopyable:!0,lang:"bash"},"npm install @elastic/search-application-client")),Object(O.jsx)(b.EuiFlexItem,null,Object(O.jsx)(b.EuiText,{color:"inherit"},Object(O.jsx)("p",null,j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.searchApi.step4.cdnInstallDescription",{defaultMessage:"or via CDN"})))),Object(O.jsx)(b.EuiFlexItem,{grow:!0},Object(O.jsx)(b.EuiCodeBlock,{isCopyable:!0,lang:"html"},'<script src="https://cdn.jsdelivr.net/npm/@elastic/search-application-client@latest"><\/script>')),Object(O.jsx)(b.EuiFlexItem,null,Object(O.jsx)(b.EuiText,{color:"inherit"},Object(O.jsx)("h5",null,j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.searchApi.step4.clientUsageTitle",{defaultMessage:"Usage"})))),Object(O.jsx)(b.EuiFlexItem,null,Object(O.jsx)(b.EuiText,null,Object(O.jsx)(q.FormattedMessage,{id:"xpack.enterpriseSearch.searchApplications.searchApplication.searchApi.step4.clientUsageDescription",defaultMessage:"To get the most out of the JavaScript client, use the client's example template and follow our {searchapplicationSearchDocLink} on building a search experience.",values:{searchapplicationSearchDocLink:Object(O.jsx)(b.EuiLink,{href:m.a.searchApplicationsSearch},j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.searchApi.step3.clientDocumenation",{defaultMessage:"how to guide"}))}})),Object(O.jsx)(b.EuiSpacer,{size:"m"}))),Object(O.jsx)(b.EuiCodeBlock,{isCopyable:f[r].copy,language:f[r].language},f[r].code),"apirequest"===r&&g&&Object(O.jsx)(n.a.Fragment,null,Object(O.jsx)(b.EuiSpacer,{size:"s"}),Object(O.jsx)(b.EuiFlexGroup,{direction:"column",alignItems:"flexEnd"},Object(O.jsx)(b.EuiLink,{href:g,target:"_blank"},Object(O.jsx)(q.FormattedMessage,{id:"xpack.enterpriseSearch.searchApplications.searchApplication.searchApi.step4.consoleButton",defaultMessage:"Try in console"})))))},ee=e=>e.elasticsearchUrl||"http://localhost:9200",te=()=>{const{searchApplicationName:e}=Object(d.useValues)(G),{isGenerateModalOpen:t}=Object(d.useValues)(Q),{openGenerateModal:i,closeGenerateModal:a}=Object(d.useActions)(Q),s=Object(U.a)(),r=[{children:Object(O.jsx)(n.a.Fragment,null,Object(O.jsx)(b.EuiText,null,Object(O.jsx)("p",null,Object(O.jsx)(q.FormattedMessage,{id:"xpack.enterpriseSearch.searchApplications.searchApplication.searchApi.step1.setUpSearchtemplate.description",defaultMessage:"Your search application uses a {searchTemplateDocLink} to control the types of queries it accepts. Run the following command to view your current search template:",values:{searchTemplateDocLink:Object(O.jsx)(b.EuiLink,{href:m.a.searchTemplates},Object(O.jsx)(q.FormattedMessage,{id:"xpack.enterpriseSearch.searchApplications.searchApplication.searchApi.step1.setUpSearchtemplate.searchTemplateDocLink",defaultMessage:"search template"}))}}))),Object(O.jsx)(b.EuiSpacer,{size:"l"}),Object(O.jsx)(b.EuiFlexGroup,null,Object(O.jsx)(b.EuiFlexItem,{grow:!0},Object(O.jsx)(b.EuiCodeBlock,{language:"markup",fontSize:"m",paddingSize:"m",isCopyable:!0},`GET _application/search_application/${e}/`))),Object(O.jsx)(b.EuiSpacer,{size:"l"}),Object(O.jsx)(b.EuiText,null,Object(O.jsx)("p",null,Object(O.jsx)(q.FormattedMessage,{id:"xpack.enterpriseSearch.searchApplications.searchApplication.searchApi.step1.setUpSearchtemplate.warning",defaultMessage:"We provide a basic, default search template to get started, but you'll probably want to update it for your use case. Use the examples in our {searchTemplateExampleDoc} for inspiration.",values:{searchTemplateExampleDoc:Object(O.jsx)(b.EuiLink,{href:m.a.searchApplicationsTemplates},Object(O.jsx)(q.FormattedMessage,{id:"xpack.enterpriseSearch.searchApplications.searchApplication.searchApi.step1.setUpSearchtemplate.warning.searchTemplateExampleDocLink",defaultMessage:"documentation"}))}})))),title:j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.searchApi.step1.setUpSearchtemplate.title",{defaultMessage:"Set up your search template"})},{children:Object(O.jsx)(n.a.Fragment,null,Object(O.jsx)(b.EuiText,null,Object(O.jsx)("p",null,Object(O.jsx)(q.FormattedMessage,{id:"xpack.enterpriseSearch.searchApplications.searchApplication.searchApi.step2.apiKeyWarning",defaultMessage:"This {apiKeyDocumentation} will only be able to access your Search endpoint.",values:{apiKeyDocumentation:Object(O.jsx)(b.EuiLink,{href:m.a.apiKeys},Object(O.jsx)(q.FormattedMessage,{id:"xpack.enterpriseSearch.searchApplications.searchApplication.searchApi.step2.apiKeyWarning.documentationLink",defaultMessage:"API key"}))}}))),Object(O.jsx)(b.EuiSpacer,{size:"l"}),Object(O.jsx)(b.EuiFlexGroup,{gutterSize:"s"},Object(O.jsx)(b.EuiFlexItem,{grow:!1},Object(O.jsx)(b.EuiButton,{iconSide:"left",iconType:"plusInCircleFilled",onClick:i,"data-telemetry-id":"entSearchApplications-searchApi-step2-createApiKeyButton"},j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.searchApi.step2.createAPIKeyButton",{defaultMessage:"Create API Key"}))),Object(O.jsx)(b.EuiFlexItem,{grow:!1},Object(O.jsx)(b.EuiButton,{iconSide:"left",iconType:"popout","data-telemetry-id":"entSearchApplications-searchApi-step2-viewKeysButton",onClick:()=>h.a.values.navigateToUrl("/app/management/security/api_keys",{shouldNotCreateHref:!0})},j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.searchApi.step2.viewKeysButton",{defaultMessage:"View Keys"}))))),title:j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.searchApi.step2.title",{defaultMessage:"Generate and save API key"})},{children:Object(O.jsx)(n.a.Fragment,null,Object(O.jsx)(b.EuiText,null,Object(O.jsx)("p",null,j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.searchApi.step3.copyEndpointDescription",{defaultMessage:"Here's the URL for your endpoint:"}))),Object(O.jsx)(b.EuiSpacer,{size:"l"}),Object(O.jsx)(b.EuiFlexGroup,null,Object(O.jsx)(b.EuiFlexItem,{grow:!0},Object(O.jsx)(b.EuiCodeBlock,{language:"markup",fontSize:"m",paddingSize:"m",isCopyable:!0},`${ee(s)}/_application/search_application/${e}/_search`)))),title:j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.searchApi.step3.title",{defaultMessage:"Copy your Search endpoint"})},{children:Object(O.jsx)(Z,null),title:j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.searchApi.step4.title",{defaultMessage:"Learn how to call your endpoint"})}];return Object(O.jsx)(n.a.Fragment,null,t?Object(O.jsx)(V,{onClose:a,searchApplicationName:e}):null,Object(O.jsx)(b.EuiCallOut,{iconType:"iInCircle",title:Object(O.jsx)(q.FormattedMessage,{id:"xpack.enterpriseSearch.searchApplications.searchApplication.searchApi.searchApiCallout.title",defaultMessage:"What is Search API?"})},Object(O.jsx)(q.FormattedMessage,{id:"xpack.enterpriseSearch.searchApplications.searchApplication.searchApi.searchApiCallout.body",defaultMessage:"The {searchApiDocumentation} allows you to create a secure, public-facing search endpoint for your search application. This endpoint only accepts queries that match the parameters defined in your {searchTemplateDocumenation}.",values:{searchApiDocumentation:Object(O.jsx)(b.EuiLink,{"data-test-subj":"search-documentation-link",href:m.a.searchApplicationsSearchApi,"data-telemetry-id":"entSearchApplications-searchApi-documentation-viewDocumentaion"},j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.searchApi.searchApiCallout.body.searchApiDocLink",{defaultMessage:"Search API"})),searchTemplateDocumenation:Object(O.jsx)(b.EuiLink,{"data-test-subj":"search-template-documentation-link",href:m.a.searchTemplates,"data-telemetry-id":"entSearchApplications-searchTemplate-documentation-viewDocumentaion"},j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.searchApi.searchApiCallout.body.searchTemplateDocLink",{defaultMessage:"search template"}))}}),Object(O.jsx)(b.EuiSpacer,{size:"l"}),Object(O.jsx)(q.FormattedMessage,{id:"xpack.enterpriseSearch.searchApplications.searchApplication.searchApi.searchApiCallout.searchApiLearnMore",defaultMessage:"{searchApiDocumentation}",values:{searchApiDocumentation:Object(O.jsx)(b.EuiLink,{"data-test-subj":"search-documentation-link",href:m.a.searchApplicationsSearchApi,target:"_blank","data-telemetry-id":"entSearchApplications-searchApi-learnMoreDocumentation-viewDocumentaion"},j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.searchApi.searchApiCallout.body.searchApiDocumentationLink",{defaultMessage:"Learn more about the Search API"}))}})),Object(O.jsx)(b.EuiSpacer,null),Object(O.jsx)(b.EuiSteps,{headingElement:"h2",steps:r}))};i(212);var ie=i(193),ae=i.n(ie);const ne=()=>Object(O.jsx)(b.EuiPanel,{color:"transparent"},Object(O.jsx)(b.EuiFlexGroup,{justifyContent:"spaceBetween",direction:"row"},Object(O.jsx)(b.EuiFlexGroup,{direction:"column"},Object(O.jsx)(b.EuiImage,{size:"l",float:"left",src:ae.a,alt:""}),Object(O.jsx)(b.EuiText,null,Object(O.jsx)("h2",null,j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.documentation.searchApplication.title",{defaultMessage:"Learn more about Search Applications"}))),Object(O.jsx)(b.EuiText,null,Object(O.jsx)("p",null,j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.documentation.searchApplication.description",{defaultMessage:"Search Applications help make your Elasticsearch data easily searchable for end users."}))),Object(O.jsx)(b.EuiLink,{href:m.a.searchApplications,external:!0},j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.documentation.searchApplication.readDocumentation",{defaultMessage:"Read our documentation"}))),Object(O.jsx)(b.EuiFlexGroup,{justifyContent:"spaceBetween",direction:"column"},Object(O.jsx)(b.EuiFlexItem,{grow:!0},Object(O.jsx)(b.EuiPanel,{grow:!0,paddingSize:"l"},Object(O.jsx)(b.EuiFlexGroup,{direction:"row"},Object(O.jsx)(b.EuiFlexItem,{grow:!1},Object(O.jsx)(b.EuiIcon,{type:"lock",size:"l"})),Object(O.jsx)(b.EuiFlexItem,{grow:!1},Object(O.jsx)(b.EuiTitle,{size:"s"},Object(O.jsx)(b.EuiText,null,j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.documentation.manageAPIKeys.title",{defaultMessage:"Manage API Keys"}))))),Object(O.jsx)(b.EuiSpacer,null),Object(O.jsx)(b.EuiFlexGroup,{direction:"column",justifyContent:"spaceBetween",gutterSize:"m"},Object(O.jsx)(b.EuiFlexItem,{grow:!1},Object(O.jsx)(b.EuiText,null,Object(O.jsx)("p",null,j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.documentation.manageAPIKeys.description",{defaultMessage:"API keys provide a secure way to control access to Elasticsearch data and functionalities, and to limit access to specific indices or actions."})))),Object(O.jsx)(b.EuiFlexItem,{grow:!1},Object(O.jsx)(b.EuiText,null,Object(O.jsx)(b.EuiLink,{href:m.a.apiKeys,external:!0},j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.documentation.manageAPIKeys.learnMore",{defaultMessage:"Learn more"}))))))),Object(O.jsx)(b.EuiFlexItem,{grow:!0},Object(O.jsx)(b.EuiPanel,{grow:!0,paddingSize:"l"},Object(O.jsx)(b.EuiFlexGroup,{direction:"row"},Object(O.jsx)(b.EuiFlexItem,{grow:!1},Object(O.jsx)(b.EuiIcon,{type:"keyboard",size:"l"})),Object(O.jsx)(b.EuiFlexItem,{grow:!1},Object(O.jsx)(b.EuiTitle,{size:"s"},Object(O.jsx)(b.EuiText,null,j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.documentation.languageClients.title",{defaultMessage:"Build with language clients"}))))),Object(O.jsx)(b.EuiSpacer,null),Object(O.jsx)(b.EuiFlexGroup,{direction:"column",justifyContent:"spaceBetween",gutterSize:"m"},Object(O.jsx)(b.EuiFlexItem,{grow:!1},Object(O.jsx)(b.EuiText,null,Object(O.jsx)("p",null,j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.documentation.languageClients.description",{defaultMessage:"Develop for Elasticsearch in your preferred programming languages through our first and third-party supported clients."})))),Object(O.jsx)(b.EuiFlexItem,{grow:!1},Object(O.jsx)(b.EuiText,null,Object(O.jsx)(b.EuiLink,{href:m.a.clientsGuide,external:!0},j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.documentation.languageClients.learnMore",{defaultMessage:"Learn more"}))))))),Object(O.jsx)(b.EuiFlexItem,{grow:!0},Object(O.jsx)(b.EuiPanel,{grow:!0,paddingSize:"l"},Object(O.jsx)(b.EuiFlexGroup,{direction:"row"},Object(O.jsx)(b.EuiFlexItem,{grow:!1},Object(O.jsx)(b.EuiIcon,{type:"securitySignal",size:"l"})),Object(O.jsx)(b.EuiFlexItem,{grow:!1},Object(O.jsx)(b.EuiTitle,{size:"s"},Object(O.jsx)(b.EuiText,null,j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.documentation.searchInsights.title",{defaultMessage:"Search insights"}))))),Object(O.jsx)(b.EuiSpacer,null),Object(O.jsx)(b.EuiFlexGroup,{direction:"column",justifyContent:"spaceBetween",gutterSize:"m"},Object(O.jsx)(b.EuiFlexItem,{grow:!1},Object(O.jsx)(b.EuiText,null,Object(O.jsx)("p",null,j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.documentation.searchInsights.description",{defaultMessage:"Gain insights into the performance of your search application with Behavioral Analytics."})))),Object(O.jsx)(b.EuiFlexItem,{grow:!1},Object(O.jsx)(b.EuiText,null,Object(O.jsx)(b.EuiLink,{href:m.a.behavioralAnalytics,external:!0},j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.documentation.searchInsights.learnMore",{defaultMessage:"Learn more"})))))))))),se=j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.connect.pageTitle",{defaultMessage:"Connect"}),re=j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.connect.searchAPITabTitle",{defaultMessage:"Search API"}),ce=j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.connect.documentationTabTitle",{defaultMessage:"Documentation"}),oe=Object.values(E.h),le=e=>{switch(e){case E.h.SEARCHAPI:return re;case E.h.DOCUMENTATION:return ce;default:return e}},ue=()=>{const{searchApplicationName:e,isLoadingSearchApplication:t,hasSchemaConflicts:i}=Object(d.useValues)(G),{connectTabId:a=E.h.SEARCHAPI}=Object(s.useParams)(),n=t=>()=>{h.a.values.navigateToUrl(Object(v.a)(E.c,{connectTabId:t,searchApplicationName:e}))};return oe.includes(a)?Object(O.jsx)(A,{pageChrome:[e,se,le(a)],pageViewTelemetry:E.j.CONNECT,isLoading:t,pageHeader:{bottomBorder:!1,className:"searchApplicationHeaderBackgroundColor",pageTitle:se,rightSideItems:[],tabs:[{isSelected:a===E.h.SEARCHAPI,label:re,onClick:n(E.h.SEARCHAPI)},{isSelected:a===E.h.DOCUMENTATION,label:ce,onClick:n(E.h.DOCUMENTATION)}]},searchApplicationName:e,hasSchemaConflicts:i},a===E.h.SEARCHAPI&&Object(O.jsx)(te,null),a===E.h.DOCUMENTATION&&Object(O.jsx)(ne,null)):Object(O.jsx)(A,{pageChrome:[e,se],pageViewTelemetry:E.j.CONNECT,isLoading:t,pageHeader:{bottomBorder:!1,className:"searchApplicationHeaderBackgroundColor",pageTitle:se,rightSideItems:[]},searchApplicationName:e,hasSchemaConflicts:i},Object(O.jsx)(L,{notFound:!0}))};var pe=i(690),de=i.n(pe),he=i(70),fe=i(691),ge=i.n(fe);const be=Object(T.a)(["searchApplications","update_search_application_api_logic"],(async({name:e,indices:t,template:i})=>{const a=`/internal/enterprise_search/search_applications/${e}`;return await w.a.values.http.put(a,{body:JSON.stringify({indices:t,name:e,template:i})})})),je=Object(d.kea)({actions:{addIndicesToSearchApplication:e=>({indices:e}),closeAddIndicesFlyout:()=>!0,openAddIndicesFlyout:()=>!0,removeIndexFromSearchApplication:e=>({indexName:e})},connect:{actions:[G,["fetchSearchApplication"],be,["makeRequest as updateSearchApplicationRequest","apiSuccess as searchApplicationUpdated"]],values:[G,["searchApplicationData","searchApplicationName","isLoadingSearchApplication"]]},listeners:({actions:e,values:t})=>({addIndicesToSearchApplication:({indices:i})=>{if(!t.searchApplicationData)return;const a=t.searchApplicationData.indices.map((e=>e.name)),n=Array.from(new Set([...a,...i]));e.updateSearchApplicationRequest({name:t.searchApplicationName,indices:n,template:t.searchApplicationData.template})},searchApplicationUpdated:()=>{e.fetchSearchApplication({name:t.searchApplicationName})},removeIndexFromSearchApplication:({indexName:i})=>{if(!t.searchApplicationData)return;const a=t.searchApplicationData.indices.filter((e=>e.name!==i)).map((e=>e.name));e.updateSearchApplicationRequest({name:t.searchApplicationName,indices:a,template:t.searchApplicationData.template})}}),path:["enterprise_search","content","search_application_indices_logic"],reducers:{addIndicesFlyoutOpen:[!1,{closeAddIndicesFlyout:()=>!1,openAddIndicesFlyout:()=>!0}]}});var me=i(44);const xe=({onClose:e,lastAPICall:t,searchApplicationName:i})=>{const[n,s]=Object(a.useState)("request"),r=JSON.stringify(t[n],null,2);return Object(O.jsx)(b.EuiFlyout,{onClose:e,size:"m"},Object(O.jsx)(b.EuiFlyoutHeader,{hasBorder:!0},Object(O.jsx)(b.EuiTitle,null,Object(O.jsx)("h2",null,Object(O.jsx)(q.FormattedMessage,{id:"xpack.enterpriseSearch.searchApplications.searchApplication.docsExplorer.apiCallFlyout.title",defaultMessage:"API Call"}))),Object(O.jsx)(b.EuiSpacer,{size:"s"}),Object(O.jsx)(b.EuiFlexGroup,{alignItems:"center",justifyContent:"spaceBetween",style:{marginBottom:"-24px"}},Object(O.jsx)(b.EuiTabs,{bottomBorder:!1},Object(O.jsx)(b.EuiTab,{isSelected:"request"===n,onClick:()=>s("request")},Object(O.jsx)(q.FormattedMessage,{id:"xpack.enterpriseSearch.searchApplications.searchApplication.docsExplorer.apiCallFlyout.requestTab",defaultMessage:"Request"})),Object(O.jsx)(b.EuiTab,{isSelected:"response"===n,onClick:()=>s("response")},Object(O.jsx)(q.FormattedMessage,{id:"xpack.enterpriseSearch.searchApplications.searchApplication.docsExplorer.apiCallFlyout.responseTab",defaultMessage:"Response"}))),Object(O.jsx)(me.d,{to:Object(v.a)(E.g,{searchApplicationName:i,tabId:E.j.CONNECT}),color:"primary",target:"_blank"},Object(O.jsx)(q.FormattedMessage,{id:"xpack.enterpriseSearch.searchApplications.searchApplication.docsExplorer.apiCallFlyout.searchEndpointLink",defaultMessage:"Search endpoint"})))),Object(O.jsx)("div",{style:{blockSize:"100%"}},Object(O.jsx)(b.EuiCodeBlock,{overflowHeight:"100%",isCopyable:!0,isVirtualized:!0},r)))},Oe=Object(d.kea)({connect:{actions:[z,["makeRequest as fetchSearchApplicationFieldCapabilities"]],values:[_,["searchApplicationName"],z,["data as searchApplicationFieldCapabilitiesData"]]},events:({actions:e,values:t})=>({afterMount:()=>{t.searchApplicationFieldCapabilitiesData||e.fetchSearchApplicationFieldCapabilities({name:t.searchApplicationName})}}),path:["enterprise_search","content","search_application_docs_explorer_logic"],selectors:({selectors:e})=>({fieldTypesByIndex:[()=>[e.searchApplicationFieldCapabilitiesData],e=>e?e.fields.reduce(((e,t)=>t.indices.reduce(((e,i)=>({...e,[i.name]:{...e[i.name]||{},[t.name]:i.type}})),e)),{}):{}],resultFields:[()=>[e.searchApplicationFieldCapabilitiesData],e=>e?Object.fromEntries(e.fields.filter((({metadata_field:e})=>!e)).map((({name:e})=>[e,{raw:{},snippet:{fallback:!0}}]))):{}],sortableFields:[()=>[e.searchApplicationFieldCapabilitiesData],e=>e?e.fields.filter((({metadata_field:e,aggregatable:t})=>t&&!e)).map((({name:e})=>e)).sort():[]]})}),ye=Object(a.createContext)({selectedDocument:null,setSelectedDocument:()=>{}}),Ae=({children:e})=>{const[t,i]=Object(a.useState)(null),n=Object(a.useMemo)((()=>({selectedDocument:t,setSelectedDocument:i})),[t,i]);return Object(O.jsx)(ye.Provider,{value:n},e)},Se=()=>Object(a.useContext)(ye);var Ee=i(17),ve=i.n(Ee);const _e={iconType:"questionInCircle",color:"gray"},ke={binary:{iconType:"tokenBinary"},boolean:{iconType:"tokenBoolean"},conflict:{iconType:"warning",color:"euiColorVis9",shape:"square"},date:{iconType:"tokenDate"},date_range:{iconType:"tokenDate"},dense_vector:{iconType:"tokenVectorDense"},geo_point:{iconType:"tokenGeo"},geo_shape:{iconType:"tokenGeo"},ip:{iconType:"tokenIP"},ip_range:{iconType:"tokenIP"},flattened:{iconType:"tokenFlattened"},match_only_text:{iconType:"tokenString"},murmur3:{iconType:"tokenSearchType"},number:{iconType:"tokenNumber"},number_range:{iconType:"tokenNumber"},rank_feature:{iconType:"tokenRankFeature"},rank_features:{iconType:"tokenRankFeatures"},histogram:{iconType:"tokenHistogram"},_source:{iconType:"editorCodeBlock",color:"gray"},point:{iconType:"tokenShape"},shape:{iconType:"tokenShape"},sparse_vector:{iconType:"tokenVectorSparse"},string:{iconType:"tokenString"},text:{iconType:"tokenString"},keyword:{iconType:"tokenKeyword"},gauge:{iconType:"tokenMetricGauge"},counter:{iconType:"tokenMetricCounter"},nested:{iconType:"tokenNested"},version:{iconType:"tokenTag"}};function Fe({type:e,label:t,size:i="s",scripted:a,className:n,...s}){const r=ke[e]||_e;return Object(O.jsx)(b.EuiToken,p()({},r,{className:ve()("kbnFieldIcon",n),"aria-label":t||e,title:t||e,size:i,fill:a?"dark":void 0},s))}i(547);Object.keys({xs:"kbnFieldButton--xs",s:"kbnFieldButton--s"});const Me={integer:"number"},Te={object:{color:"euiColorVis3",iconType:"tokenObject"}},we=e=>{const t=Me[e.type]||e.type,i=Te[t]||{};return Object(O.jsx)(Fe,p()({type:t},i))},Ce=e=>null!==e&&"object"==typeof e&&(e.hasOwnProperty("raw")||e.hasOwnProperty("snippet")),Ie=(e,t="")=>Ce(e)&&"object"!=typeof e.raw?{[t]:e}:Object.keys(e).reduce(((i,a)=>{const n=t.length?t+".":"",s=e[a];return"object"==typeof s&&null!==s?Object.assign(i,Ie(s,"raw"===a?t:n+a)):i[n+a]={raw:s},i}),{}),Ne=e=>{const t=(e=>{const{_meta:{rawHit:{_index:t}}}=e;return t})(e),{_meta:i,...a}=(e=>{const{_meta:{rawHit:{__id:t}}}=e;return{...e,id:{raw:t}}})(e),n=(e=>{const t=Ie(e);return Object.entries(t).map((([e,t])=>({field:e,value:t}))).sort(((e,t)=>e.field.localeCompare(t.field)))})(a);return{fields:n,index:t}},Re=({value:e})=>{const{euiTheme:t,colorMode:i}=Object(b.useEuiTheme)();if(Ce(e)){if(e.snippet){const[a]=e.snippet,n={DARK:.3,LIGHT:.1};return Object(O.jsx)("span",{dangerouslySetInnerHTML:{__html:a},css:Object(O.css)("& em{font-style:normal;font-weight:",t.font.weight.bold,";background-color:",Object(b.transparentize)(t.colors.primary,n[i]),";color:",t.colors.text,";}","")})}return Object(O.jsx)(Re,{value:e.raw})}return"string"==typeof e?Object(O.jsx)("span",null,e):Object(O.jsx)("span",null,JSON.stringify(e))},Be=()=>{const{fieldTypesByIndex:e}=Object(d.useValues)(Oe),{selectedDocument:t,setSelectedDocument:i}=Se();if(!t)return null;const a=t._meta.rawHit.__id,{fields:n,index:s}=Ne(t),r=e[s];if(!r)return null;const c=((e,t)=>e.map((e=>{const i=t[e.field];return{...e,type:i}})))(n,r),o=[{name:j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.docsExplorer.documentFlyout.fieldLabel",{defaultMessage:"Field"}),render:({field:e,type:t})=>Object(O.jsx)(b.EuiFlexGroup,{direction:"row",gutterSize:"s",alignItems:"center"},Object(O.jsx)(we,{type:t}),Object(O.jsx)(b.EuiText,null,Object(O.jsx)(b.EuiTextColor,{color:"subdued"},Object(O.jsx)("code",null,e)))),truncateText:!1},{field:"value",name:j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.docsExplorer.documentFlyout.valueLabel",{defaultMessage:"Value"}),render:e=>Object(O.jsx)(b.EuiText,null,Object(O.jsx)("code",null,Object(O.jsx)(Re,{value:e}))),truncateText:!1}];return Object(O.jsx)(b.EuiFlyout,{onClose:()=>i(null)},Object(O.jsx)(b.EuiFlyoutHeader,{hasBorder:!0},Object(O.jsx)(b.EuiFlexGroup,{direction:"column",gutterSize:"s"},Object(O.jsx)(b.EuiTitle,{size:"m"},Object(O.jsx)("h2",null,Object(O.jsx)(q.FormattedMessage,{id:"xpack.enterpriseSearch.searchApplications.searchApplication.docsExplorer.documentFlyout.title",defaultMessage:"Document: {id}",values:{id:a}}))),Object(O.jsx)(b.EuiTextColor,{color:"subdued"},Object(O.jsx)(q.FormattedMessage,{id:"xpack.enterpriseSearch.searchApplications.searchApplication.docsExplorer.documentFlyout.fieldCount",defaultMessage:"{fieldCount} {fieldCount, plural, one {Field} other {Fields}}",values:{fieldCount:c.length}})))),Object(O.jsx)(b.EuiFlyoutBody,null,Object(O.jsx)(b.EuiInMemoryTable,{columns:o,items:c})))};var Pe=i(96);const Le=({children:e})=>Object(O.jsx)(b.EuiFlexGroup,{direction:"column"},e),De=({result:e})=>{var t;const{searchApplicationData:i}=Object(d.useValues)(G),{setSelectedDocument:a}=Se(),{fields:n,index:s}=Ne(e),r=e._meta.rawHit.__id,c=n.slice(0,4),o=n.length-c.length,l=null==i||null===(t=i.indices.find((e=>e.name===s)))||void 0===t?void 0:t.health,u=l&&"unknown"!==l?Object(Pe.c)(l):"hollow",p=[{field:"field",name:j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.docsExplorer.result.nameColumn",{defaultMessage:"Field"}),render:e=>Object(O.jsx)(b.EuiText,null,Object(O.jsx)(b.EuiTextColor,{color:"subdued"},Object(O.jsx)("code",null,'"',e,'"'))),truncateText:!0,width:"20%"},{field:"value",name:j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.docsExplorer.result.valueColumn",{defaultMessage:"Value"}),render:e=>Object(O.jsx)(b.EuiText,null,Object(O.jsx)("code",null,Object(O.jsx)(Re,{value:e})))}];return Object(O.jsx)("button",{type:"button",onClick:()=>a(e)},Object(O.jsx)(b.EuiPanel,{paddingSize:"m"},Object(O.jsx)(b.EuiFlexGroup,{direction:"column",gutterSize:"m"},Object(O.jsx)(b.EuiFlexGroup,{justifyContent:"spaceBetween"},Object(O.jsx)("code",null,Object(O.jsx)(q.FormattedMessage,{id:"xpack.enterpriseSearch.searchApplications.searchApplication.docsExplorer.result.id",defaultMessage:"ID: {id}",values:{id:r}})),Object(O.jsx)(b.EuiFlexItem,{grow:!1},Object(O.jsx)(b.EuiFlexGroup,{gutterSize:"xs",alignItems:"center"},Object(O.jsx)("code",null,Object(O.jsx)(q.FormattedMessage,{id:"xpack.enterpriseSearch.searchApplications.searchApplication.docsExplorer.result.fromIndex",defaultMessage:"from"})),Object(O.jsx)(b.EuiBadge,{color:u},s)))),Object(O.jsx)(b.EuiBasicTable,{items:c,columns:p}),o>0&&Object(O.jsx)(b.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},Object(O.jsx)(b.EuiIcon,{type:"arrowRight",color:"subdued"}),Object(O.jsx)(b.EuiTextColor,{color:"subdued"},Object(O.jsx)("code",null,Object(O.jsx)(q.FormattedMessage,{id:"xpack.enterpriseSearch.searchApplications.searchApplication.docsExplorer.result.moreFieldsButton",defaultMessage:"{count} {count, plural, one {More Field} other {More Fields}}",values:{count:o}})))))))},ze=({additionalInputProps:e})=>Object(O.jsx)(b.EuiFlexGroup,{gutterSize:"s"},Object(O.jsx)(b.EuiFieldSearch,p()({fullWidth:!0},e)),Object(O.jsx)(b.EuiButton,{type:"submit",color:"primary",fill:!0},j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.docsExplorer.inputView.searchLabel",{defaultMessage:"Search"}))),Ge=({start:e,end:t,totalResults:i})=>Object(O.jsx)(b.EuiText,{size:"s"},Object(O.jsx)(q.FormattedHTMLMessage,{tagName:"p",id:"xpack.enterpriseSearch.searchApplications.searchApplication.docsExplorer.pagingInfo.text",defaultMessage:"Showing <strong>{start}-{end}</strong> of {totalResults}",values:{end:t,start:e,totalResults:i}})),qe=[10,20,50],Ue=({onChange:e,options:t,value:i})=>{var a;return Object(O.jsx)(b.EuiFlexItem,{grow:!1},Object(O.jsx)(b.EuiFlexGroup,{direction:"column",gutterSize:"s"},Object(O.jsx)(b.EuiTitle,{size:"xxxs"},Object(O.jsx)("label",{htmlFor:"results-per-page"},Object(O.jsx)(q.FormattedMessage,{id:"xpack.enterpriseSearch.searchApplications.searchApplication.docsExplorer.resultsPerPage.label",defaultMessage:"Show"}))),Object(O.jsx)(b.EuiSelect,{id:"results-per-page",options:null!==(a=null==t?void 0:t.map((e=>({text:j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.docsExplorer.resultsPerPage.option.label",{defaultMessage:"{value} {value, plural, one {Result} other {Results}}",values:{value:e}}),value:e}))))&&void 0!==a?a:[],value:i,onChange:t=>e(parseInt(t.target.value,10))})))},He=Object(he.withSearch)((({setSort:e,sortList:t})=>({setSort:e,sortList:t})))((({sortableFields:e,sortList:t,setSort:i})=>{const[{direction:a,field:s}]=null!=t&&t.length?t:[{direction:"",field:""}],r=j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.docsExplorer.sortingView.relevanceLabel",{defaultMessage:"Relevance"});return Object(O.jsx)(b.EuiFlexItem,{grow:!1},Object(O.jsx)(b.EuiFlexGroup,{direction:"column",gutterSize:"s"},Object(O.jsx)(b.EuiTitle,{size:"xxxs"},Object(O.jsx)("label",{htmlFor:"sorting-field"},Object(O.jsx)(q.FormattedMessage,{id:"xpack.enterpriseSearch.searchApplications.searchApplication.docsExplorer.sortingView.fieldLabel",defaultMessage:"Sort By"}))),Object(O.jsx)(b.EuiComboBox,{id:"sorting-field",isClearable:!1,singleSelection:{asPlainText:!0},options:[{label:r,value:""},...e.map((e=>({label:e,value:e})))],selectedOptions:[{label:s||r,value:s}],onChange:([{value:e}])=>i(""===e?[]:[{direction:"asc",field:e}],"asc")})),""!==s&&Object(O.jsx)(n.a.Fragment,null,Object(O.jsx)(b.EuiSpacer,{size:"m"}),Object(O.jsx)(b.EuiFlexGroup,{direction:"column",gutterSize:"s"},Object(O.jsx)(b.EuiTitle,{size:"xxxs"},Object(O.jsx)("label",{htmlFor:"sorting-direction"},Object(O.jsx)(q.FormattedMessage,{id:"xpack.enterpriseSearch.searchApplications.searchApplication.docsExplorer.sortingView.directionLabel",defaultMessage:"Order By"}))),Object(O.jsx)(b.EuiSelect,{id:"sorting-direction",onChange:e=>{switch(e.target.value){case"asc":return i([{direction:"asc",field:s}],"asc");case"desc":return i([{direction:"desc",field:s}],"desc")}},value:a,options:[{text:j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.docsExplorer.sortingView.ascLabel",{defaultMessage:"Ascending"}),value:"asc"},{text:j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.docsExplorer.sortingView.descLabel",{defaultMessage:"Descending"}),value:"desc"}]}))))}));class InternalSearchApplicationTransporter{constructor(e,t,i){this.http=e,this.searchApplicationName=t,this.setLastAPICall=i}async performRequest(e){const t=`/internal/enterprise_search/search_applications/${this.searchApplicationName}/search`,i=await this.http.post(t,{body:JSON.stringify(e)});return this.setLastAPICall({request:e,response:i}),{...i,hits:{...i.hits,hits:i.hits.hits.map((e=>({...e,__id:e._id,_id:`${e._index}__${e._id}`})))}}}}const $e=({searchApplicationName:e,hasSchemaConflicts:t,setCloseConfiguration:i,showConfiguration:a})=>{const{navigateToUrl:s}=Object(d.useValues)(h.a),{searchApplicationData:r}=Object(d.useValues)(G),{openDeleteSearchApplicationModal:c}=Object(d.useActions)(G),{sendEnterpriseSearchTelemetry:o}=Object(d.useActions)(l.d),[u,p]=de()("search-application-tour-closed",!1);return Object(O.jsx)(n.a.Fragment,null,Object(O.jsx)(b.EuiPopover,{anchorPosition:"downCenter",isOpen:a,panelPaddingSize:"none",closePopover:i,button:Object(O.jsx)(b.EuiFlexGroup,{alignItems:"center",gutterSize:"xs"},t&&Object(O.jsx)(n.a.Fragment,null,Object(O.jsx)(b.EuiFlexItem,null,Object(O.jsx)(b.EuiIcon,{type:"alert",color:"danger"})),!u&&Object(O.jsx)(b.EuiSpacer,{size:"xs"})),Object(O.jsx)(b.EuiFlexItem,null,Object(O.jsx)(b.EuiTourStep,{display:"block",decoration:"beacon",content:Object(O.jsx)(b.EuiText,null,Object(O.jsx)("p",null,j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.docsExplorer.configuration.tourContent",{defaultMessage:"Create your API key, learn about using language clients and find more resources in Connect."}))),isStepOpen:!u,maxWidth:360,hasArrow:!0,step:1,onFinish:()=>{p(!0)},stepsTotal:1,anchorPosition:"downCenter",title:j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.docsExplorer.configuration.tourTitle",{defaultMessage:"Review our API page to start using your search application"})},Object(O.jsx)(n.a.Fragment,null))),Object(O.jsx)(b.EuiFlexItem,null,Object(O.jsx)(b.EuiButtonEmpty,{color:"primary",iconType:"arrowDown",iconSide:"right",onClick:i},j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.docsExplorer.configuration.buttonTitle",{defaultMessage:"Configuration"}))))},Object(O.jsx)(b.EuiContextMenuPanel,{style:{width:300}},Object(O.jsx)(b.EuiPanel,{color:"transparent",paddingSize:"s"},Object(O.jsx)(b.EuiTitle,{size:"xxxs"},Object(O.jsx)("p",null,j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.docsExplorer.configuration.contentTitle",{defaultMessage:"Content"})))),Object(O.jsx)(b.EuiHorizontalRule,{margin:"none"}),Object(O.jsx)(b.EuiContextMenuItem,{key:"Indices",icon:"tableDensityExpanded",onClick:()=>s(Object(v.a)(E.d,{contentTabId:E.i.INDICES,searchApplicationName:e}))},j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.docsExplorer.configuration.content.Indices",{defaultMessage:"Indices"})),Object(O.jsx)(b.EuiContextMenuItem,{key:"Schema",icon:t?Object(O.jsx)(b.EuiIcon,{type:"warning",color:"danger"}):"kqlField",onClick:()=>s(Object(v.a)(E.d,{contentTabId:E.i.SCHEMA,searchApplicationName:e}))},Object(O.jsx)(b.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},Object(O.jsx)(q.FormattedMessage,{id:"xpack.enterpriseSearch.searchApplications.searchApplication.docsExplorer.configuration.content.schema",defaultMessage:"Schema"}),t&&Object(O.jsx)(b.EuiText,{size:"s",color:"danger"},Object(O.jsx)(q.FormattedMessage,{id:"xpack.enterpriseSearch.searchApplications.searchApplication.docsExplorer.configuration.content.schemaConflict",defaultMessage:"Conflict"})))),Object(O.jsx)(b.EuiPanel,{color:"transparent",paddingSize:"s"},Object(O.jsx)(b.EuiTitle,{size:"xxxs"},Object(O.jsx)("p",null,j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.docsExplorer.configuration.connectTitle",{defaultMessage:"Connect"})))),Object(O.jsx)(b.EuiHorizontalRule,{margin:"none"}),Object(O.jsx)(b.EuiContextMenuItem,{key:"Api",icon:"lock",onClick:()=>s(Object(v.a)(E.c,{connectTabId:E.h.SEARCHAPI,searchApplicationName:e}))},j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.docsExplorer.configuration.connect.Api",{defaultMessage:"API"})),Object(O.jsx)(b.EuiPanel,{color:"transparent",paddingSize:"s"},Object(O.jsx)(b.EuiTitle,{size:"xxxs"},Object(O.jsx)("p",null,j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.docsExplorer.configuration.settingsTitle",{defaultMessage:"Settings"})))),Object(O.jsx)(b.EuiHorizontalRule,{margin:"none"}),Object(O.jsx)(b.EuiContextMenuItem,{key:"delete",icon:Object(O.jsx)(b.EuiIcon,{type:"trash",color:"danger"}),onClick:()=>{r&&(c(),o({action:"clicked",metric:"entSearchApplications-searchApplicationView-deleteSearchApplication"}))}},Object(O.jsx)(b.EuiTextColor,{color:"danger"},Object(O.jsx)("p",null,j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.docsExplorer.configuration.settings.delete",{defaultMessage:"Delete this app"})))))))};var Ve={name:"m1gib7",styles:"min-width:240px"};const Ke=()=>{const{http:e}=Object(d.useValues)(w.a),[t,i]=Object(a.useState)(!1),[s,r]=Object(a.useState)(!1),[c,o]=Object(a.useState)(null),{searchApplicationName:l,isLoadingSearchApplication:u,hasSchemaConflicts:p}=Object(d.useValues)(G),{resultFields:h,sortableFields:f}=Object(d.useValues)(Oe),{searchApplicationData:g}=Object(d.useValues)(je),m=Object(a.useMemo)((()=>{const t=new InternalSearchApplicationTransporter(e,l,o);return{alwaysSearchOnInitialLoad:!0,apiConnector:new ge.a(t),hasA11yNotifications:!0,searchQuery:{result_fields:h}}}),[e,l,o,h]);return g?Object(O.jsx)(A,{pageChrome:[l,j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.docsExplorer.pageChrome",{defaultMessage:"Docs Explorer"})],pageViewTelemetry:E.j.DOCS_EXPLORER,isLoading:u,pageHeader:{bottomBorder:!1,className:"searchApplicationHeaderBackgroundColor",pageTitle:l,rightSideItems:[Object(O.jsx)(n.a.Fragment,null,Object(O.jsx)($e,{searchApplicationName:l,hasSchemaConflicts:p,showConfiguration:s,setCloseConfiguration:()=>r(!s)}))]},searchApplicationName:l,hasSchemaConflicts:p},Object(O.jsx)(Ae,null,Object(O.jsx)(he.SearchProvider,{config:m},Object(O.jsx)(b.EuiFlexGroup,null,Object(O.jsx)(b.EuiFlexItem,null,Object(O.jsx)(he.SearchBox,{inputView:({getInputProps:e})=>Object(O.jsx)(ze,{additionalInputProps:e({append:Object(O.jsx)(b.EuiButtonEmpty,{color:"primary",iconType:"eye",onClick:()=>i(!0),isLoading:null==c},j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.docsExplorer.inputView.appendButtonLabel",{defaultMessage:"View API call"})),placeholder:j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.docsExplorer.inputView.placeholder",{defaultMessage:"Search"})})})}))),Object(O.jsx)(b.EuiSpacer,{size:"m"}),Object(O.jsx)(b.EuiFlexGroup,null,Object(O.jsx)(b.EuiFlexItem,{grow:!1,css:Ve},Object(O.jsx)(he.ResultsPerPage,{view:Ue,options:qe}),Object(O.jsx)(b.EuiSpacer,{size:"m"}),Object(O.jsx)(He,{sortableFields:f}),Object(O.jsx)(b.EuiSpacer,{size:"m"})),Object(O.jsx)(b.EuiFlexItem,null,Object(O.jsx)(he.PagingInfo,{view:Ge}),Object(O.jsx)(b.EuiSpacer,{size:"m"}),Object(O.jsx)(he.Results,{view:Le,resultView:De})))),Object(O.jsx)(Be,null),t&&c&&Object(O.jsx)(xe,{onClose:()=>i(!1),lastAPICall:c,searchApplicationName:l}))):null};function Qe(e){return null!=e}var We=i(72);const Ye=Object(T.a)(["search_applications","fetch_indices_api_logic"],(async({searchQuery:e})=>{const{http:t}=w.a.values,i={from:0,return_hidden_indices:!1,search_query:e||null,size:40};return{...await t.get("/internal/enterprise_search/indices",{query:i}),searchQuery:e}}),{requestBreakpointMS:1e3}),Je=({ignoredOptions:e,...t})=>{var i,n,s,r;const[c,o]=Object(a.useState)(void 0),{makeRequest:l}=Object(d.useActions)(Ye),{status:u,data:h}=Object(d.useValues)(Ye);Object(a.useEffect)((()=>{l({searchQuery:c})}),[c]);const f=null!==(i=e&&e.length>0?null==h||null===(n=h.indices)||void 0===n||null===(s=n.filter((t=>!e.includes(t.name))))||void 0===s?void 0:s.map((e=>Xe(e.name,e))):null==h||null===(r=h.indices)||void 0===r?void 0:r.map((e=>Xe(e.name,e))))&&void 0!==i?i:[],g={isLoading:u===k.a.LOADING,onSearchChange:e=>{o(e)},options:f,renderOption:e=>{var t,i,a,n,s;return Object(O.jsx)(b.EuiFlexGroup,null,Object(O.jsx)(b.EuiFlexItem,null,Object(O.jsx)(b.EuiHealth,{color:Object(Pe.c)(null===(t=e.value)||void 0===t?void 0:t.health)},Object(O.jsx)(b.EuiHighlight,{search:null!=c?c:""},null!==(i=null===(a=e.value)||void 0===a?void 0:a.name)&&void 0!==i?i:""))),Object(O.jsx)(b.EuiFlexItem,{grow:!1},Object(O.jsx)("span",null,Object(O.jsx)("strong",null,j.i18n.translate("xpack.enterpriseSearch.searchApplications.indicesSelect.docsLabel",{defaultMessage:"Docs:"})))),Object(O.jsx)(b.EuiFlexItem,{grow:!1},Object(O.jsx)(q.FormattedNumber,{value:null!==(n=null===(s=e.value)||void 0===s?void 0:s.count)&&void 0!==n?n:0})))},...t};return Object(O.jsx)(b.EuiComboBox,p()({async:!0},g))},Xe=(e,t)=>({label:e,value:t}),Ze=Object(d.kea)({actions:{setSelectedIndices:e=>({indices:e}),submitSelectedIndices:()=>!0},connect:{actions:[je,["addIndicesToSearchApplication","searchApplicationUpdated","closeAddIndicesFlyout"]],values:[be,["status as updateSearchApplicationStatus","error as updateSearchApplicationError"]]},listeners:({actions:e,values:t})=>({searchApplicationUpdated:()=>{e.closeAddIndicesFlyout()},submitSelectedIndices:()=>{const{selectedIndices:i}=t;0!==i.length&&e.addIndicesToSearchApplication(i)}}),path:["enterprise_search","content","add_indices_logic"],reducers:{selectedIndices:[[],{closeAddIndicesFlyout:()=>[],setSelectedIndices:(e,{indices:t})=>t}]}}),et=({onClose:e})=>{var t;const{searchApplicationData:i}=Object(d.useValues)(G),{selectedIndices:s,updateSearchApplicationStatus:r,updateSearchApplicationError:c}=Object(d.useValues)(Ze),{setSelectedIndices:o,submitSelectedIndices:l}=Object(d.useActions)(Ze),u=null==i||null===(t=i.indices)||void 0===t?void 0:t.map((e=>e.name)),p=Object(a.useMemo)((()=>s.map((e=>Xe(e)))),[s]),h=Object(a.useCallback)((e=>{o(e.map((({label:e})=>e)).filter(Qe))}),[o]);return Object(O.jsx)(b.EuiFlyout,{onClose:e},Object(O.jsx)(b.EuiFlyoutHeader,{hasBorder:!0},Object(O.jsx)(b.EuiTitle,null,Object(O.jsx)("h2",null,j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.indices.addIndicesFlyout.title",{defaultMessage:"Add new indices"}))),r===k.a.ERROR&&c&&Object(O.jsx)(n.a.Fragment,null,Object(O.jsx)(b.EuiSpacer,null),Object(O.jsx)(b.EuiCallOut,{color:"danger",title:j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.indices.addIndicesFlyout.updateError.title",{defaultMessage:"Error updating search application"})},Object(We.c)(c).map(((e,t)=>Object(O.jsx)("p",{id:`createErrorMsg.${t}`},e)))))),Object(O.jsx)(b.EuiFlyoutBody,null,Object(O.jsx)(b.EuiFormRow,{fullWidth:!0,label:j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.indices.addIndicesFlyout.selectableLabel",{defaultMessage:"Select searchable indices"})},Object(O.jsx)(Je,{fullWidth:!0,onChange:h,selectedOptions:p,ignoredOptions:u}))),Object(O.jsx)(b.EuiFlyoutFooter,null,Object(O.jsx)(b.EuiFlexGroup,{justifyContent:"spaceBetween",direction:"rowReverse"},Object(O.jsx)(b.EuiFlexItem,{grow:!1},Object(O.jsx)(b.EuiButton,{fill:!0,"data-telemetry-id":"entSearchApplications-indices-addNewIndices-submit",iconType:"plusInCircle",onClick:l},j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.indices.addIndicesFlyout.submitButton",{defaultMessage:"Add selected"}))),Object(O.jsx)(b.EuiFlexItem,{grow:!1},Object(O.jsx)(b.EuiButtonEmpty,{"data-telemetry-id":"entSearchApplications-indices-addNewIndices-cancel",flush:"left",onClick:e},j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.indices.addIndicesFlyout.cancelButton",{defaultMessage:"Cancel"}))))))};var tt=i(51);const it=()=>{const e=Object(b.useEuiBackgroundColor)("subdued"),{sendEnterpriseSearchTelemetry:t}=Object(d.useActions)(M.a),{searchApplicationData:i}=Object(d.useValues)(je),{removeIndexFromSearchApplication:s}=Object(d.useActions)(je),{navigateToUrl:r}=Object(d.useValues)(h.a),[o,l]=Object(a.useState)(null);if(!i)return null;const{indices:u}=i,p=u.every((({health:e})=>"unknown"===e)),f=u.some((({health:e})=>"unknown"===e)),g={color:"danger","data-test-subj":"search-application-remove-index-btn",description:j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.indices.actions.removeIndex.title",{defaultMessage:"Remove this index from search application"}),icon:"minusInCircle",isPrimary:!1,name:e=>j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.indices.actions.removeIndex.caption",{defaultMessage:"Remove index {indexName}",values:{indexName:e.name}}),onClick:e=>{l(e.name),t({action:"clicked",metric:"entSearchApplications-indices-removeIndex"})},type:"icon"},m=[{name:j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.indices.name.columnTitle",{defaultMessage:"Index name"}),render:({health:e,name:t})=>"unknown"===e?t:Object(O.jsx)(me.d,{"data-test-subj":"search-application-index-link",to:`${c.n.URL}${Object(v.a)(tt.p,{indexName:t})}`,shouldNotCreateHref:!0},t),sortable:({name:e})=>e,truncateText:!0,width:"40%"},{field:"health",name:j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.indices.health.columnTitle",{defaultMessage:"Index health"}),render:e=>Object(O.jsx)("span",null,Object(O.jsx)(b.EuiIcon,{type:"dot",color:Object(Pe.c)(e)}),"Â ",null!=e?e:"-"),sortable:!0,truncateText:!0,width:"15%"},{field:"count",name:j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.indices.docsCount.columnTitle",{defaultMessage:"Docs count"}),render:e=>null===e?j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.indices.docsCount.notAvailableLabel",{defaultMessage:"N/A"}):e,sortable:!0,truncateText:!0,width:"15%"},{actions:[{available:e=>"unknown"!==e.health,"data-test-subj":"search-application-view-index-btn",description:j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.indices.actions.viewIndex.title",{defaultMessage:"View this index"}),icon:"eye",isPrimary:!1,name:e=>j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.indices.actions.viewIndex.caption",{defaultMessage:"View index {indexName}",values:{indexName:e.name}}),onClick:e=>r(`${c.n.URL}/${Object(v.a)(tt.p,{indexName:e.name})}`,{shouldNotCreateHref:!0}),type:"icon"},...u.length>1?[g]:[]],name:j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.indices.actions.columnTitle",{defaultMessage:"Actions"}),width:"10%"}];return Object(O.jsx)(n.a.Fragment,null,(p||f)&&Object(O.jsx)(n.a.Fragment,null,Object(O.jsx)(b.EuiCallOut,{color:"warning",iconType:"warning",title:p?Object(O.jsx)(n.a.Fragment,null,j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.indices.allUnknownIndicesCallout.title",{defaultMessage:"All of your indices are unavailable."})):Object(O.jsx)(n.a.Fragment,null,j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.indices.someUnknownIndicesCallout.title",{defaultMessage:"Some of your indices are unavailable."}))},Object(O.jsx)("p",null,p?Object(O.jsx)(n.a.Fragment,null,j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.indices.allUnknownIndicesCallout.description",{defaultMessage:"Your search application has no reachable indices. Add some indices and check for any pending operations or errors on affected indices, or remove indices that should no longer be used by this search application."})):Object(O.jsx)(n.a.Fragment,null,j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.indices.someUnknownIndicesCallout.description",{defaultMessage:"Some data might be unreachable from this search application. Check for any pending operations or errors on affected indices, or remove indices that should no longer be used by this search application."})))),Object(O.jsx)(b.EuiSpacer,null)),Object(O.jsx)(b.EuiInMemoryTable,{items:u,columns:m,rowProps:t=>"unknown"===t.health?{style:{backgroundColor:e}}:{},search:{box:{incremental:!0,placeholder:j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.indices.searchPlaceholder",{defaultMessage:"Filter indices"}),schema:!0}},pagination:!0,sorting:!0}),null!==o&&Object(O.jsx)(b.EuiConfirmModal,{onCancel:()=>l(null),onConfirm:()=>{s(o),l(null),t({action:"clicked",metric:"entSearchApplications-indices-removeIndexConfirm"})},title:j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.indices.removeIndexConfirm.title",{defaultMessage:"Remove this index from the search application"}),buttonColor:"danger",cancelButtonText:F.e,confirmButtonText:j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.indices.removeIndexConfirm.text",{defaultMessage:"Yes, Remove This Index"}),defaultFocusedButton:"confirm",maxWidth:!0},Object(O.jsx)(b.EuiText,null,Object(O.jsx)("p",null,j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.indices.removeIndexConfirm.description",{defaultMessage:"This won't delete the index. You may add it back to this search application at a later time."})))))};var at=i(0),nt=i.n(at);let st,rt;!function(e){e._ID="_id",e._INDEX="_index",e._SOURCE="_source",e._TYPE="_type",e.STRING="string",e.TEXT="text",e.MATCH_ONLY_TEXT="match_only_text",e.KEYWORD="keyword",e.VERSION="version",e.BOOLEAN="boolean",e.OBJECT="object",e.DATE="date",e.DATE_NANOS="date_nanos",e.DATE_RANGE="date_range",e.GEO_POINT="geo_point",e.GEO_SHAPE="geo_shape",e.FLOAT="float",e.HALF_FLOAT="half_float",e.SCALED_FLOAT="scaled_float",e.DOUBLE="double",e.INTEGER="integer",e.LONG="long",e.SHORT="short",e.UNSIGNED_LONG="unsigned_long",e.AGGREGATE_METRIC_DOUBLE="aggregate_metric_double",e.FLOAT_RANGE="float_range",e.DOUBLE_RANGE="double_range",e.INTEGER_RANGE="integer_range",e.LONG_RANGE="long_range",e.NESTED="nested",e.BYTE="byte",e.IP="ip",e.IP_RANGE="ip_range",e.ATTACHMENT="attachment",e.TOKEN_COUNT="token_count",e.MURMUR3="murmur3",e.HISTOGRAM="histogram"}(st||(st={})),function(e){e._SOURCE="_source",e.ATTACHMENT="attachment",e.BOOLEAN="boolean",e.DATE="date",e.DATE_RANGE="date_range",e.GEO_POINT="geo_point",e.GEO_SHAPE="geo_shape",e.IP="ip",e.IP_RANGE="ip_range",e.MURMUR3="murmur3",e.NUMBER="number",e.NUMBER_RANGE="number_range",e.STRING="string",e.UNKNOWN="unknown",e.CONFLICT="conflict",e.OBJECT="object",e.NESTED="nested",e.HISTOGRAM="histogram",e.MISSING="missing"}(rt||(rt={}));class kbn_field_type_KbnFieldType{constructor(e={}){nt()(this,"name",void 0),nt()(this,"sortable",void 0),nt()(this,"filterable",void 0),nt()(this,"esTypes",void 0),this.name=e.name||rt.UNKNOWN,this.sortable=e.sortable||!1,this.filterable=e.filterable||!1,this.esTypes=Object.freeze((e.esTypes||[]).slice())}}new kbn_field_type_KbnFieldType({name:rt.UNKNOWN});new kbn_field_type_KbnFieldType({name:rt.STRING,sortable:!0,filterable:!0,esTypes:[st.STRING,st.TEXT,st.MATCH_ONLY_TEXT,st.KEYWORD,st.VERSION,st._TYPE,st._ID]}),new kbn_field_type_KbnFieldType({name:rt.NUMBER,sortable:!0,filterable:!0,esTypes:[st.FLOAT,st.HALF_FLOAT,st.SCALED_FLOAT,st.DOUBLE,st.INTEGER,st.LONG,st.UNSIGNED_LONG,st.SHORT,st.BYTE,st.TOKEN_COUNT,st.AGGREGATE_METRIC_DOUBLE]}),new kbn_field_type_KbnFieldType({name:rt.NUMBER_RANGE,sortable:!0,filterable:!0,esTypes:[st.FLOAT_RANGE,st.DOUBLE_RANGE,st.INTEGER_RANGE,st.LONG_RANGE]}),new kbn_field_type_KbnFieldType({name:rt.DATE,sortable:!0,filterable:!0,esTypes:[st.DATE,st.DATE_NANOS]}),new kbn_field_type_KbnFieldType({name:rt.DATE_RANGE,sortable:!0,filterable:!0,esTypes:[st.DATE_RANGE]}),new kbn_field_type_KbnFieldType({name:rt.IP,sortable:!0,filterable:!0,esTypes:[st.IP]}),new kbn_field_type_KbnFieldType({name:rt.IP_RANGE,sortable:!0,filterable:!0,esTypes:[st.IP_RANGE]}),new kbn_field_type_KbnFieldType({name:rt.BOOLEAN,sortable:!0,filterable:!0,esTypes:[st.BOOLEAN]}),new kbn_field_type_KbnFieldType({name:rt.OBJECT,esTypes:[st.OBJECT]}),new kbn_field_type_KbnFieldType({name:rt.NESTED,esTypes:[st.NESTED]}),new kbn_field_type_KbnFieldType({name:rt.GEO_POINT,esTypes:[st.GEO_POINT]}),new kbn_field_type_KbnFieldType({name:rt.GEO_SHAPE,esTypes:[st.GEO_SHAPE]}),new kbn_field_type_KbnFieldType({name:rt.ATTACHMENT,esTypes:[st.ATTACHMENT]}),new kbn_field_type_KbnFieldType({name:rt.MURMUR3,esTypes:[st.MURMUR3]}),new kbn_field_type_KbnFieldType({name:rt._SOURCE,esTypes:[st._SOURCE]}),new kbn_field_type_KbnFieldType({name:rt.HISTOGRAM,filterable:!0,esTypes:[st.HISTOGRAM]}),new kbn_field_type_KbnFieldType({name:rt.CONFLICT});var ct={name:"lthlwr",styles:"& .euiTable{background-color:transparent;}"};const ot=({schemaField:e})=>{const{navigateToUrl:t}=Object(d.useValues)(h.a),i=e.indices.some((e=>"unmapped"===e.type)),a=[{field:"name",name:j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.schema.fieldIndices.index.columnTitle",{defaultMessage:"Parent index"}),render:e=>Object(O.jsx)(me.d,{to:`${c.n.URL}${Object(v.a)(tt.r,{indexName:e,tabId:"index_mappings"})}`},e)},{field:"type",name:j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.schema.fieldIndices.type.columnTitle",{defaultMessage:"Field mapped as"}),render:e=>"unmapped"===e?Object(O.jsx)(b.EuiBadge,{color:"warning"},Object(O.jsx)(q.FormattedMessage,{id:"xpack.enterpriseSearch.searchApplications.searchApplication.schema.fieldIndices.type.unmapped",defaultMessage:"Unmapped"})):e},{actions:[{description:"View index mappings",icon:"eye",name:"View index",onClick:e=>{t(Object(v.a)(tt.r,{indexName:e.name,tabId:"index_mappings"}))},type:"icon"}]}];return Object(O.jsx)(b.EuiPanel,{hasBorder:!1,hasShadow:!1,paddingSize:"l",color:"transparent"},Object(O.jsx)(b.EuiFlexGroup,{direction:"column",gutterSize:"l"},i&&Object(O.jsx)(b.EuiCallOut,{iconType:"iInCircle",title:Object(O.jsx)(q.FormattedMessage,{id:"xpack.enterpriseSearch.searchApplications.searchApplication.schema.fieldIndices.notInAllIndices.title",defaultMessage:"This field is not mapped in every index."})},Object(O.jsx)(b.EuiText,{size:"s"},Object(O.jsx)("p",null,Object(O.jsx)(q.FormattedMessage,{id:"xpack.enterpriseSearch.searchApplications.searchApplication.schema.fieldIndices.notInAllIndices.description",defaultMessage:"Learn more about field mapping in"})," ",Object(O.jsx)(b.EuiLink,{href:m.a.elasticsearchMapping,target:"_blank"},Object(O.jsx)(q.FormattedMessage,{id:"xpack.enterpriseSearch.searchApplications.searchApplication.schema.fieldIndices.notInAllIndices.link",defaultMessage:"our documentation."}))))),Object(O.jsx)(b.EuiBasicTable,{css:ct,columns:a,items:e.indices,responsive:!1})))},lt=()=>{const[e,t]=Object(a.useState)(!1),{isLoadingSearchApplicationSchema:i,schemaFields:s,hasSchemaConflicts:r}=Object(d.useValues)(G),[c,o]=Object(a.useState)(!1),[l,u]=Object(a.useState)({}),p=Object.values(st).map((e=>({checked:void 0,label:e.toString()}))),[h,f]=Object(a.useState)(p),g=Object(a.useCallback)((()=>{t(!e),u({})}),[e]),m=Object(a.useMemo)((()=>h.filter((e=>"on"===e.checked)).map((e=>e.label))),[h]),x=Object(a.useMemo)((()=>e?s.filter((e=>"conflict"===e.type)):s),[e,s]),y=Object(a.useMemo)((()=>m.length>0?x.filter((e=>e.indices.some((e=>m.includes(e.type))))):x),[e,s,m]),A=e?x.length-y.length:0,S=[{render:({type:e})=>"conflict"!==e?null:Object(O.jsx)(b.EuiIcon,{type:"error",color:"danger"}),width:"24px"},{name:j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.schema.field_name.columnTitle",{defaultMessage:"Field name"}),render:({name:e,type:t})=>Object(O.jsx)(b.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},e.includes(".")&&Object(O.jsx)(b.EuiIcon,{type:"sortRight",color:"subdued"}),Object(O.jsx)(b.EuiText,{size:"s",color:"conflict"===t?"danger":"primary"},Object(O.jsx)("p",null,e)))},{name:j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.schema.field_type.columnTitle",{defaultMessage:"Field type"}),render:({type:e})=>"conflict"===e?Object(O.jsx)(b.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},Object(O.jsx)(b.EuiBadge,{color:"danger"},Object(O.jsx)(q.FormattedMessage,{id:"xpack.enterpriseSearch.searchApplications.searchApplication.schema.field_type.conflict",defaultMessage:"Conflict"}))):Object(O.jsx)(b.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},Object(O.jsx)(Fe,{type:e}),Object(O.jsx)(b.EuiText,{size:"s"},Object(O.jsx)("p",null,e))),width:"180px"},{name:j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.schema.field_indices.columnTitle",{defaultMessage:"In all indices?"}),render:({indices:e})=>e.every((e=>"unmapped"!==e.type))?Object(O.jsx)(b.EuiText,{size:"s",color:"subdued"},Object(O.jsx)("p",null,Object(O.jsx)(q.FormattedMessage,{id:"xpack.enterpriseSearch.searchApplications.searchApplication.schema.field_indices.yes",defaultMessage:"Yes"}))):Object(O.jsx)(b.EuiBadge,{color:"hollow"},Object(O.jsx)(q.FormattedMessage,{id:"xpack.enterpriseSearch.searchApplications.searchApplication.schema.field_indices.no",defaultMessage:"No"})),width:"110px"},{isExpander:!0,render:e=>{const{name:t,type:i,indices:a}=e;if("conflict"===i||a.some((e=>"unmapped"===e.type))){const i=l[t]?"arrowUp":"arrowDown";return Object(O.jsx)(b.EuiFlexGroup,{gutterSize:"s",alignItems:"center",justifyContent:"flexEnd"},Object(O.jsx)(b.EuiButtonEmpty,{size:"s",color:"primary",iconType:i,iconSide:"right",onClick:()=>{(e=>{const t={...l};l[e.name]?delete t[e.name]:t[e.name]=Object(O.jsx)(ot,{schemaField:e}),u(t)})(e)}},Object(O.jsx)(q.FormattedMessage,{id:"xpack.enterpriseSearch.searchApplications.searchApplication.schema.field_indices.moreInfo",defaultMessage:"More info"})))}return null},width:"115px"}],E=Object(O.jsx)(b.EuiFilterButton,{iconType:"arrowDown",iconSide:"right",onClick:()=>o(!c),numFilters:h.length,hasActiveFilters:m.length>0,numActiveFilters:m.length,isSelected:c},j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.schema.filters",{defaultMessage:"Field types"}));return Object(O.jsx)(n.a.Fragment,null,Object(O.jsx)(b.EuiFlexGroup,{direction:"column",gutterSize:"l"},r&&Object(O.jsx)(b.EuiCallOut,{title:j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.schema.conflictsCallOut.title",{defaultMessage:"Potential field mapping issues found"}),iconType:"error",color:"danger"},Object(O.jsx)("p",null,Object(O.jsx)(q.FormattedMessage,{id:"xpack.enterpriseSearch.searchApplications.searchApplication.schema.conflictsCallOut.description",defaultMessage:"Schema field type conflicts can be resolved by navigating to the source index directly and updating the field type of the conflicting field(s) to match that of the other source indices."})),!e&&Object(O.jsx)(b.EuiButton,{color:"danger",fill:!0,onClick:g},Object(O.jsx)(q.FormattedMessage,{id:"xpack.enterpriseSearch.searchApplications.searchApplication.schema.conflictsCallOut.button",defaultMessage:"View conflicts"}))),Object(O.jsx)(b.EuiFlexGroup,{alignItems:"center",justifyContent:"spaceBetween"},Object(O.jsx)(b.EuiSwitch,{label:j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.schema.onlyShowConflicts",{defaultMessage:"Only show conflicts"}),checked:e,onChange:g}),Object(O.jsx)(b.EuiFlexGroup,{justifyContent:"flexEnd",alignItems:"center"},Object(O.jsx)(b.EuiFlexItem,{grow:!1},j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.schema.filters.label",{defaultMessage:"Filter By"})),Object(O.jsx)(b.EuiFlexItem,{grow:!1},Object(O.jsx)(b.EuiPopover,{button:E,isOpen:c,closePopover:()=>o(!1),panelPaddingSize:"none",anchorPosition:"downCenter"},Object(O.jsx)(b.EuiSelectable,{searchable:!0,searchProps:{placeholder:j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.schema.filters.searchPlaceholder",{defaultMessage:"Filter list "})},options:h,onChange:e=>f(e)},((e,t)=>Object(O.jsx)("div",{style:{width:300}},Object(O.jsx)(b.EuiPopoverTitle,{paddingSize:"s"},t),e))),Object(O.jsx)(b.EuiPopoverFooter,null,Object(O.jsx)(b.EuiFlexGroup,{justifyContent:"spaceAround"},Object(O.jsx)(b.EuiButtonEmpty,{color:"danger",iconType:"eraser",size:"s",onClick:()=>f(p)},j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.schema.filters.clearAll",{defaultMessage:"Clear all "})))))))),Object(O.jsx)(b.EuiBasicTable,{items:y,columns:S,loading:i,itemId:"name",itemIdToExpandedRowMap:l,isExpandable:!0,responsive:!1}),A>0&&Object(O.jsx)(b.EuiCallOut,{title:Object(O.jsx)(q.FormattedMessage,{id:"xpack.enterpriseSearch.searchApplications.searchApplication.schema.filters.conflict.callout.title",defaultMessage:"There are {totalConflictsHiddenByTypeFilters, number} more {totalConflictsHiddenByTypeFilters, plural, one {conflict} other {conflicts}}   not displayed here",values:{totalConflictsHiddenByTypeFilters:A}}),color:"danger",iconType:"iInCircle"},Object(O.jsx)("p",null,j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.schema.filters.conflict.callout.subTitle",{defaultMessage:"In order to see all field conflicts you must clear your field filters"})),Object(O.jsx)(b.EuiButton,{fill:!0,color:"danger",onClick:()=>f(p)},j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.schema.filters.conflict.callout.clearFilters",{defaultMessage:"Clear filters "})))))},ut=j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.content.pageTitle",{defaultMessage:"Content"}),pt=j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.content.indicesTabTitle",{defaultMessage:"Indices"}),dt=j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.content.schemaTabTitle",{defaultMessage:"Schema"}),ht=e=>{switch(e){case E.i.INDICES:return pt;case E.i.SCHEMA:return dt;default:return e}},ft=Object.values(E.i),gt=()=>{const{searchApplicationName:e,isLoadingSearchApplication:t,hasSchemaConflicts:i}=Object(d.useValues)(G),{addIndicesFlyoutOpen:a}=Object(d.useValues)(je),{closeAddIndicesFlyout:r,openAddIndicesFlyout:c}=Object(d.useActions)(je),{contentTabId:o=E.i.INDICES}=Object(s.useParams)();if(!ft.includes(o))return Object(O.jsx)(A,{pageChrome:[e,ut],pageViewTelemetry:E.j.CONTENT,isLoading:t,pageHeader:{bottomBorder:!1,className:"searchApplicationHeaderBackgroundColor",pageTitle:ut,rightSideItems:[]},searchApplicationName:e,hasSchemaConflicts:i},Object(O.jsx)(L,{notFound:!0}));const l=t=>()=>{h.a.values.navigateToUrl(Object(v.a)(E.d,{contentTabId:t,searchApplicationName:e}))};return Object(O.jsx)(A,{pageChrome:[e,ut,ht(o)],pageViewTelemetry:E.j.CONTENT,isLoading:t,pageHeader:{bottomBorder:!1,breadcrumbs:[{color:"primary",onClick:()=>h.a.values.navigateToUrl(Object(v.a)(E.f,{searchApplicationName:e})),text:Object(O.jsx)(n.a.Fragment,null,Object(O.jsx)(b.EuiIcon,{size:"s",type:"arrowLeft"})," ",e)}],className:"searchApplicationHeaderBackgroundColor",pageTitle:ut,rightSideItems:[Object(O.jsx)(b.EuiButton,{"data-telemetry-id":"entSearchApplications-indices-addNewIndices","data-test-subj":"search-application-add-new-indices-btn",iconType:"plusInCircle",fill:!0,onClick:c},j.i18n.translate("xpack.enterpriseSearch.searchApplications.searchApplication.indices.addNewIndicesButton",{defaultMessage:"Add new indices"}))],tabs:[{isSelected:o===E.i.INDICES,label:pt,onClick:l(E.i.INDICES)},{isSelected:o===E.i.SCHEMA,label:Object(O.jsx)(b.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},i&&Object(O.jsx)(b.EuiIcon,{type:"warning",color:"danger"}),dt),onClick:l(E.i.SCHEMA)}]},searchApplicationName:e,hasSchemaConflicts:i},o===E.i.INDICES&&Object(O.jsx)(it,null),o===E.i.SCHEMA&&Object(O.jsx)(lt,null),a&&Object(O.jsx)(et,{onClose:r}))},bt=()=>{const{fetchSearchApplication:e,closeDeleteSearchApplicationModal:t}=Object(d.useActions)(G),{searchApplicationName:i,fetchSearchApplicationApiError:c,fetchSearchApplicationApiStatus:o,hasSchemaConflicts:l,isDeleteModalVisible:u}=Object(d.useValues)(G),{tabId:p=E.j.DOCS_EXPLORER}=Object(s.useParams)();return Object(a.useEffect)((()=>{e({name:i})}),[i]),o===k.a.ERROR?Object(O.jsx)(A,{isEmptyState:!0,pageChrome:[i],pageViewTelemetry:p,pageHeader:{bottomBorder:!1,pageTitle:i,rightSideItems:[]},searchApplicationName:i,emptyState:Object(O.jsx)(L,{error:c}),hasSchemaConflicts:l}):Object(O.jsx)(n.a.Fragment,null,u?Object(O.jsx)(B,{searchApplicationName:i,onClose:t}):null,Object(O.jsx)(r.c,null,Object(O.jsx)(r.a,{exact:!0,path:`${E.f}/${E.j.DOCS_EXPLORER}`,component:Ke}),Object(O.jsx)(r.a,{path:E.d,component:gt}),Object(O.jsx)(s.Redirect,{from:`${E.f}/${E.j.CONTENT}`,to:`${E.f}/${E.j.CONTENT}/${E.i.INDICES}`}),Object(O.jsx)(r.a,{path:E.c,component:ue}),Object(O.jsx)(s.Redirect,{from:`${E.f}/${E.j.CONNECT}`,to:`${E.f}/${E.j.CONNECT}/${E.h.SEARCHAPI}`}),Object(O.jsx)(r.a,null,Object(O.jsx)(A,{isEmptyState:!0,pageChrome:[i],pageViewTelemetry:p,pageHeader:{bottomBorder:!1,pageTitle:i,rightSideItems:[]},searchApplicationName:i,hasSchemaConflicts:l},Object(O.jsx)(L,{notFound:!0})))))},jt=()=>{const e=decodeURIComponent(Object(s.useParams)().searchApplicationName),t=_({searchApplicationName:e}),{setSearchApplicationName:i}=Object(d.useActions)(t);return Object(a.useEffect)((()=>{const e=t.mount();return()=>{e()}}),[]),Object(a.useEffect)((()=>{i(e)}),[e]),Object(O.jsx)(r.c,null,Object(O.jsx)(s.Redirect,{from:E.f,to:Object(v.a)(E.g,{searchApplicationName:e,tabId:E.j.DOCS_EXPLORER}),exact:!0}),Object(O.jsx)(r.a,{path:E.g},Object(O.jsx)(bt,null)))};var mt=i(751),xt=i.n(mt),Ot=i(55),yt=i(98);const At=({children:e})=>Object(O.jsx)(b.EuiEmptyPrompt,{iconType:"aggregate",title:Object(O.jsx)("h2",null,Object(O.jsx)(q.FormattedMessage,{id:"xpack.enterpriseSearch.searchApplications.list.empty.title",defaultMessage:"Create your first Search Application"})),body:Object(O.jsx)("p",null,Object(O.jsx)(q.FormattedMessage,{id:"xpack.enterpriseSearch.searchApplications.list.empty.description",defaultMessage:"Let's walk you through creating your first Search Application."})),actions:e});var St=i(112);const Et=({searchApplications:e,isLoading:t,meta:i,onChange:a,onDelete:n,viewSearchApplicationIndices:s})=>{const{navigateToUrl:r}=Object(d.useValues)(h.a),{sendEnterpriseSearchTelemetry:c}=Object(d.useActions)(M.a),o=[{field:"name",name:j.i18n.translate("xpack.enterpriseSearch.searchApplications.list.table.column.name",{defaultMessage:"Search Application Name"}),mobileOptions:{header:!0,enlarge:!0,width:"100%"},render:e=>Object(O.jsx)(me.d,{"data-test-subj":"search-application-link","data-telemetry-id":"entSearchApplications-table-viewSearchApplication",to:Object(v.a)(E.f,{searchApplicationName:e})},e),truncateText:!0,width:"30%"},{field:"updated_at_millis",name:j.i18n.translate("xpack.enterpriseSearch.searchApplications.list.table.column.lastUpdated",{defaultMessage:"Last updated"}),dataType:"number",render:e=>Object(O.jsx)(St.a,{date:new Date(e),hideTime:!0})},{field:"indices",name:j.i18n.translate("xpack.enterpriseSearch.searchApplications.list.table.column.indices",{defaultMessage:"Indices"}),align:"right",render:(e,t)=>Object(O.jsx)(b.EuiButtonEmpty,{size:"s","data-test-subj":"searchApplicationsListTableIndicesFlyoutButton","data-telemetry-id":"entSearchApplications-table-viewSearchApplicationIndices",onClick:()=>s(t.name)},Object(O.jsx)(q.FormattedMessage,{id:"xpack.enterpriseSearch.searchApplications.list.table.column.view.indices",defaultMessage:"{indicesCount, number} {indicesCount, plural, one {index} other {indices}}",values:{indicesCount:e.length}}))},{name:j.i18n.translate("xpack.enterpriseSearch.searchApplications.list.table.column.actions",{defaultMessage:"Actions"}),actions:[{name:F.r,description:j.i18n.translate("xpack.enterpriseSearch.searchApplications.list.table.column.actions.view.buttonDescription",{defaultMessage:"View this search application"}),type:"icon",icon:"eye",onClick:e=>r(Object(v.a)(E.f,{searchApplicationName:e.name}))},{color:"danger",description:j.i18n.translate("xpack.enterpriseSearch.searchApplications.list.table.column.action.delete.buttonDescription",{defaultMessage:"Delete this search application"}),type:"icon",icon:"trash",isPrimary:!1,name:()=>j.i18n.translate("xpack.enterpriseSearch.searchApplications.list.table.column.actions.deleteSearchApplicationLabel",{defaultMessage:"Delete this search application"}),onClick:e=>{n(e),c({action:"clicked",metric:"entSearchApplications-table-deleteSearchApplication"})}}]}];return Object(O.jsx)(b.EuiBasicTable,{items:e,columns:o,pagination:{...(l=i,{pageIndex:l.size?Math.trunc(l.from/l.size):0,pageSize:l.size,totalItemCount:l.total}),showPerPageOptions:!1},onChange:a,loading:t});var l};var vt=i(80);const _t=Object(T.a)(["search_applications","create_search_application_api_logic"],(async({name:e,indices:t})=>{const i=`/internal/enterprise_search/search_applications/${e}`;return await w.a.values.http.put(i,{body:JSON.stringify({indices:t,name:e}),query:{create:!0}})}),{showErrorFlash:!1}),kt=Object(d.kea)({actions:{createSearchApplication:!0,setName:e=>({name:e}),setSelectedIndices:e=>({indices:e})},connect:{actions:[R,["fetchSearchApplications"],_t,["makeRequest as createSearchApplicationRequest","apiSuccess as searchApplicationCreated","apiError as searchApplicationCreateError"]],values:[_t,["status as createSearchApplicationStatus","error as createSearchApplicationError"]]},listeners:({actions:e,values:t})=>({createSearchApplication:()=>{e.createSearchApplicationRequest({indices:t.selectedIndices,name:t.searchApplicationName})},searchApplicationCreated:()=>{e.fetchSearchApplications(),h.a.values.navigateToUrl(E.b)}}),path:["enterprise_search","content","create_search_application_logic"],reducers:{searchApplicationName:["",{setName:(e,{name:t})=>t}],selectedIndices:[[],{setSelectedIndices:(e,{indices:t})=>t}]},selectors:({selectors:e})=>({createDisabled:[()=>[e.indicesStatus,e.searchApplicationNameStatus],(e,t)=>"complete"!==e||"complete"!==t],searchApplicationNameStatus:[()=>[e.searchApplicationName],e=>0===e.length?"incomplete":"complete"],formDisabled:[()=>[e.createSearchApplicationStatus],e=>e===k.a.LOADING],indicesStatus:[()=>[e.selectedIndices],e=>e.length>0?"complete":"incomplete"]})}),Ft=({onClose:e})=>{const{createSearchApplication:t,setName:i,setSelectedIndices:r}=Object(d.useActions)(kt),{createDisabled:c,createSearchApplicationError:o,createSearchApplicationStatus:l,searchApplicationName:u,searchApplicationNameStatus:p,formDisabled:h,indicesStatus:f,selectedIndices:g}=Object(d.useValues)(kt),{search:x}=Object(s.useLocation)(),{...y}=Object(vt.a)(x),A=y[F.p];return Object(a.useEffect)((()=>{A&&"string"==typeof A&&r([A])}),[]),Object(O.jsx)(b.EuiFlyout,{onClose:e,size:"m"},Object(O.jsx)(b.EuiFlyoutHeader,null,Object(O.jsx)(b.EuiTitle,{size:"m"},Object(O.jsx)("h3",null,j.i18n.translate("xpack.enterpriseSearch.searchApplications.createSearchApplication.headerTitle",{defaultMessage:"Create a Search Application"}))),Object(O.jsx)(b.EuiSpacer,{size:"s"}),Object(O.jsx)(b.EuiText,{color:"subdued"},Object(O.jsx)("p",null,Object(O.jsx)(q.FormattedMessage,{id:"xpack.enterpriseSearch.searchApplications.createSearchApplication.headerSubTitle",defaultMessage:"Explore our {docsLink} to learn more!",values:{docsLink:Object(O.jsx)(b.EuiLink,{href:m.a.searchApplications,target:"_blank","data-telemetry-id":"entSearchApplications-createSearchApplication-docsLink",external:!0},j.i18n.translate("xpack.enterpriseSearch.searchApplications.createSearchApplication.header.docsLink",{defaultMessage:"Search Applications documentation"}))}}))),l===k.a.ERROR&&o&&Object(O.jsx)(n.a.Fragment,null,Object(O.jsx)(b.EuiSpacer,null),Object(O.jsx)(b.EuiCallOut,{color:"danger",title:j.i18n.translate("xpack.enterpriseSearch.searchApplications.createSearchApplication.header.createError.title",{defaultMessage:"Error creating search application"})},Object(We.c)(o).map(((e,t)=>Object(O.jsx)("p",{id:`createErrorMsg.${t}`},e)))))),Object(O.jsx)(b.EuiFlyoutBody,null,Object(O.jsx)(b.EuiFlexGroup,{direction:"column"},Object(O.jsx)(b.EuiFlexItem,{grow:!0},Object(O.jsx)(b.EuiCallOut,{title:j.i18n.translate("xpack.enterpriseSearch.searchApplications.createSearchApplication.featureCallOut.title",{defaultMessage:"Beta feature"}),color:"warning",iconType:"beaker"},Object(O.jsx)(q.FormattedMessage,{id:"xpack.enterpriseSearch.searchApplications.createSearchApplication.featureCallOut.description",defaultMessage:"This functionality is in beta and is subject to change. The design and code is less mature than official GA features and is being provided as-is with no warranties. Beta features are not subject to the support SLA of official GA features."}))),Object(O.jsx)(b.EuiFlexItem,{grow:!0},Object(O.jsx)(b.EuiSteps,{steps:[{children:Object(O.jsx)(Je,{fullWidth:!0,isDisabled:h,onChange:e=>{r(e.map((e=>e.label)))},selectedOptions:g.map((e=>Xe(e)))}),status:f,title:j.i18n.translate("xpack.enterpriseSearch.searchApplications.createSearchApplication.selectIndices.title",{defaultMessage:"Select indices"})},{children:Object(O.jsx)(b.EuiFieldText,{fullWidth:!0,disabled:h,placeholder:j.i18n.translate("xpack.enterpriseSearch.searchApplications.createSearchApplication.searchApplicationName.placeholder",{defaultMessage:"Search application name"}),value:u,onChange:e=>i(e.target.value)}),status:p,title:j.i18n.translate("xpack.enterpriseSearch.searchApplications.createSearchApplication.searchApplicationName.title",{defaultMessage:"Name your search application"})}]})))),Object(O.jsx)(b.EuiFlyoutFooter,null,Object(O.jsx)(b.EuiFlexGroup,null,Object(O.jsx)(b.EuiFlexItem,{grow:!1},Object(O.jsx)(b.EuiButtonEmpty,{disabled:h,"data-telemetry-id":"entSearchApplications-createSearchApplication-cancel",onClick:e},F.e)),Object(O.jsx)(b.EuiFlexItem,null),Object(O.jsx)(b.EuiFlexItem,{grow:!1},Object(O.jsx)(b.EuiButton,{isDisabled:c||h,"data-telemetry-id":"entSearchApplications-createSearchApplication-submit",fill:!0,iconType:"plusInCircle",onClick:()=>t()},j.i18n.translate("xpack.enterpriseSearch.searchApplications.createSearchApplication.submit",{defaultMessage:"Create"}))))))},Mt=Object(d.kea)({actions:{closeFlyout:!0,openFlyout:e=>({name:e})},connect:{actions:[G,["fetchSearchApplication"]],values:[G,["searchApplicationData","fetchSearchApplicationApiError","fetchSearchApplicationApiStatus"]]},listeners:({})=>({openFlyout:async({name:e})=>{D.actions.makeRequest({name:e})}}),path:["enterprise_search","search_applications","search_application_indices_flyout_logic"],reducers:({})=>({isFlyoutVisible:[!1,{closeFlyout:()=>!1,openFlyout:()=>!0}],searchApplicationName:[null,{closeFlyout:()=>null,openFlyout:(e,{name:t})=>t}]}),selectors:({selectors:e})=>({isSearchApplicationLoading:[()=>[e.fetchSearchApplicationApiStatus],e=>[k.a.LOADING].includes(e)]})}),Tt=()=>{const{searchApplicationData:e,searchApplicationName:t,isSearchApplicationLoading:i,isFlyoutVisible:a,fetchSearchApplicationApiStatus:s,fetchSearchApplicationApiError:r}=Object(d.useValues)(Mt),{closeFlyout:o}=Object(d.useActions)(Mt);if(!e)return null;const{indices:l}=e,u=s===k.a.ERROR,p=[{field:"name",name:j.i18n.translate("xpack.enterpriseSearch.searchApplications.list.indicesFlyout.table.name.columnTitle",{defaultMessage:"Index name"}),render:e=>Object(O.jsx)(me.d,{"data-test-subj":"search-application-index-link","data-telemetry-id":"entSearchApplications-list-viewIndex",to:`${c.n.URL}${Object(v.a)(tt.p,{indexName:e})}`,shouldNotCreateHref:!0},e),sortable:!0,truncateText:!0,width:"40%"},{field:"health",name:j.i18n.translate("xpack.enterpriseSearch.searchApplications.list.indicesFlyout.table.health.columnTitle",{defaultMessage:"Index health"}),render:e=>{var t;return Object(O.jsx)("span",null,Object(O.jsx)(b.EuiIcon,{type:"dot",color:null!==(t=Pe.a[e])&&void 0!==t?t:""}),"Â ",null!=e?e:"-")},sortable:!0,truncateText:!0,width:"15%"},{field:"count",name:j.i18n.translate("xpack.enterpriseSearch.searchApplications.list.indicesFlyout.table.docsCount.columnTitle",{defaultMessage:"Docs count"}),sortable:!0,truncateText:!0,width:"15%"}];return a?Object(O.jsx)(b.EuiFlyout,{ownFocus:!0,"aria-labelledby":"searchApplicationIndicesFlyout",onClose:o},Object(O.jsx)(b.EuiFlyoutHeader,{hasBorder:!0},Object(O.jsx)(b.EuiTitle,{size:"m"},Object(O.jsx)("h2",{id:"searchApplicationIndicesFlyout"},j.i18n.translate("xpack.enterpriseSearch.searchApplications.list.indicesFlyout.title",{defaultMessage:"View Indices"}))),Object(O.jsx)(b.EuiSpacer,{size:"s"}),Object(O.jsx)(b.EuiText,{color:"subdued"},Object(O.jsx)(q.FormattedMessage,{id:"xpack.enterpriseSearch.searchApplications.list.indicesFlyout.subTitle",defaultMessage:"View the indices associated with {searchApplicationName}",values:{searchApplicationName:t}}))),Object(O.jsx)(b.EuiFlyoutBody,null,u?Object(O.jsx)(L,{error:r}):Object(O.jsx)(b.EuiBasicTable,{items:l,columns:p,loading:i}))):Object(O.jsx)(n.a.Fragment,null)},wt=({disabled:e})=>{const[t,i]=Object(a.useState)(!1);return Object(O.jsx)(b.EuiPopover,{isOpen:t,closePopover:()=>i(!1),button:Object(O.jsx)("div",{"data-test-subj":"create-search-application-button-hover-target",onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),tabIndex:0},Object(O.jsx)(b.EuiButton,{fill:!0,iconType:"plusInCircle","data-test-subj":"enterprise-search-search-applications-creation-button","data-telemetry-id":"entSearchApplications-list-createSearchApplication",isDisabled:e,onClick:()=>h.a.values.navigateToUrl(E.e)},j.i18n.translate("xpack.enterpriseSearch.searchApplications.list.createSearchApplicationButton.label",{defaultMessage:"Create"})))},Object(O.jsx)(b.EuiPopoverTitle,null,Object(O.jsx)(b.EuiFlexGroup,{justifyContent:"center",gutterSize:"s"},Object(O.jsx)(b.EuiFlexItem,{grow:!1},Object(O.jsx)(b.EuiIcon,{type:"beaker"})),Object(O.jsx)(b.EuiFlexItem,{grow:!1},Object(O.jsx)(q.FormattedMessage,{id:"xpack.enterpriseSearch.searchApplications.list.createSearchApplicationTechnicalPreviewPopover.title",defaultMessage:"Beta"})))),Object(O.jsx)("div",{style:{width:"300px"},"data-test-subj":"create-search-application-button-popover-content"},Object(O.jsx)(b.EuiFlexGroup,{direction:"column",gutterSize:"m"},Object(O.jsx)(b.EuiText,{size:"s"},Object(O.jsx)(q.FormattedMessage,{id:"xpack.enterpriseSearch.searchApplications.list.createSearchApplicationTechnicalPreviewPopover.body",defaultMessage:"This functionality may be changed or removed completely in a future release."})))))},Ct=({createSearchApplicationFlyoutOpen:e})=>{var t;const{closeDeleteSearchApplicationModal:i,fetchSearchApplications:s,onPaginate:r,openDeleteSearchApplicationModal:c,setSearchQuery:o,setIsFirstRequest:l}=Object(d.useActions)(R),{openFlyout:u}=Object(d.useActions)(Mt),{isCloud:p,navigateToUrl:f}=Object(d.useValues)(h.a),{hasPlatinumLicense:g}=Object(d.useValues)(Ot.a),x=!p&&!g,{deleteModalSearchApplicationName:y,hasNoSearchApplications:S,isDeleteModalVisible:v,isLoading:_,meta:k,results:F,searchQuery:M}=Object(d.useValues)(R),T=xt()(M,1e3);return Object(a.useEffect)((()=>{x||s()}),[k.from,k.size,T]),Object(a.useEffect)((()=>{x||l()}),[]),Object(O.jsx)(n.a.Fragment,null,v?Object(O.jsx)(B,{searchApplicationName:y,onClose:i}):null,Object(O.jsx)(Tt,null),e&&Object(O.jsx)(Ft,{onClose:()=>f(E.b)}),Object(O.jsx)(A,{pageChrome:[],pageHeader:{description:Object(O.jsx)(q.FormattedMessage,{id:"xpack.enterpriseSearch.searchApplications.list.description",defaultMessage:"Search Applications help make your Elasticsearch data easily searchable for end users. Create, build, and manage all your search applications here. To learn more, {documentationUrl}.",values:{documentationUrl:Object(O.jsx)(b.EuiLink,{"data-test-subj":"search-applications-documentation-link",href:m.a.searchApplications,target:"_blank","data-telemetry-id":"entSearchApplications-documentation-viewDocumentaion"},j.i18n.translate("xpack.enterpriseSearch.searchApplications.list.documentation",{defaultMessage:"explore our Search Applications documentation"}))}}),pageTitle:j.i18n.translate("xpack.enterpriseSearch.searchApplications.list.title",{defaultMessage:"Search Applications"}),rightSideItems:_||S?[]:[Object(O.jsx)(wt,{disabled:x})]},pageViewTelemetry:"Search Applications",isLoading:_&&!x},x&&Object(O.jsx)(b.EuiFlexItem,null,Object(O.jsx)(yt.b,{feature:yt.a.SEARCH_APPLICATIONS})),S||x?Object(O.jsx)(At,null,Object(O.jsx)(wt,{disabled:x})):Object(O.jsx)(n.a.Fragment,null,Object(O.jsx)("div",null,Object(O.jsx)(b.EuiFieldSearch,{value:M,placeholder:j.i18n.translate("xpack.enterpriseSearch.searchApplications.list.searchBar.placeholder",{defaultMessage:"Search Applications"}),"aria-label":j.i18n.translate("xpack.enterpriseSearch.searchApplications.list.searchBar.ariaLabel",{defaultMessage:"Search Applications"}),fullWidth:!0,onChange:e=>{o(e.currentTarget.value)}})),Object(O.jsx)(b.EuiSpacer,{size:"s"}),Object(O.jsx)(b.EuiText,{color:"subdued",size:"s"},j.i18n.translate("xpack.enterpriseSearch.searchApplications.list.searchBar.description",{defaultMessage:"Locate a search application via name."})),Object(O.jsx)(b.EuiSpacer,null),Object(O.jsx)(b.EuiText,{size:"s"},Object(O.jsx)(q.FormattedMessage,{id:"xpack.enterpriseSearch.searchApplications.list.itemRange",defaultMessage:"Showing {from}-{to} of {total}",values:{from:Object(O.jsx)("strong",null,Object(O.jsx)(q.FormattedNumber,{value:k.from+1})),to:Object(O.jsx)("strong",null,Object(O.jsx)(q.FormattedNumber,{value:k.from+(null!==(t=null==F?void 0:F.length)&&void 0!==t?t:0)})),total:Object(O.jsx)(q.FormattedNumber,{value:k.total})}})),Object(O.jsx)(Et,{searchApplications:F,meta:k,onChange:r,onDelete:c,viewSearchApplicationIndices:u,loading:!1})),Object(O.jsx)(b.EuiSpacer,{size:"xxl"}),Object(O.jsx)("div",null)))},It=()=>Object(O.jsx)(r.c,null,Object(O.jsx)(r.a,{exact:!0,path:E.b},Object(O.jsx)(Ct,null)),Object(O.jsx)(r.a,{path:E.e},Object(O.jsx)(Ct,{createSearchApplicationFlyoutOpen:!0})),Object(O.jsx)(r.a,{path:E.f},Object(O.jsx)(jt,null)),Object(O.jsx)(r.a,null,Object(O.jsx)(S,null))),Nt=()=>Object(O.jsx)(r.c,null,Object(O.jsx)(s.Redirect,{exact:!0,from:E.a,to:E.b}),Object(O.jsx)(r.a,{path:E.b},Object(O.jsx)(It,null)),Object(O.jsx)(r.a,null,Object(O.jsx)(S,null)))}}]);