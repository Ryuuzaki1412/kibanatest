/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.enterpriseSearch_bundle_jsonpfunction=window.enterpriseSearch_bundle_jsonpfunction||[]).push([[3],{121:function(e,t,n){"use strict";n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return b}));var s=n(11),r=n.n(s),i=n(37),o=n(13),a=n(2),c=n(14),l=n(38),u=n(41),p=n(44),d=(n(370),n(12));const g=()=>{const{setChromeIsVisible:e,history:t}=Object(i.useValues)(u.a),n=t.location.pathname.includes("/p/");return Object(s.useEffect)((()=>{e(!n)}),[]),Object(d.jsx)(o.EuiEmptyPrompt,{iconType:"warning",iconColor:"danger",title:Object(d.jsx)("h2",null,Object(d.jsx)(c.FormattedMessage,{id:"xpack.enterpriseSearch.errorConnectingState.title",defaultMessage:"Unable to connect"})),titleSize:"l",body:Object(d.jsx)(x,null),actions:[Object(d.jsx)(p.b,{iconType:"help",fill:!0,to:"/setup_guide"},Object(d.jsx)(c.FormattedMessage,{id:"xpack.enterpriseSearch.errorConnectingState.setupGuideCta",defaultMessage:"Review setup guide"}))]})},b=()=>Object(d.jsx)(o.EuiCallOut,{title:a.i18n.translate("xpack.enterpriseSearch.errorConnectingCallout.title",{defaultMessage:"Unable to connect to Enterprise Search"}),iconType:"warning",color:"warning"},Object(d.jsx)(x,null),Object(d.jsx)(p.b,{iconType:"help",fill:!0,to:"/setup_guide",color:"warning"},Object(d.jsx)(c.FormattedMessage,{id:"xpack.enterpriseSearch.errorConnectingCallout.setupGuideCta",defaultMessage:"Review setup guide"})));var h={name:"1yc9uo8",styles:"overflow-wrap:break-word"},j={name:"1flj9lk",styles:"text-align:left"};const x=()=>{const{errorConnectingMessage:e}=Object(i.useValues)(l.a),{config:t,cloud:n}=Object(i.useValues)(u.a),s=n.isCloudEnabled;return Object(d.jsx)(r.a.Fragment,null,Object(d.jsx)("p",null,Object(d.jsx)(c.FormattedMessage,{id:"xpack.enterpriseSearch.errorConnectingState.description1",defaultMessage:"We canâ€™t establish a connection to Enterprise Search at the host URL {enterpriseSearchUrl} due to the following error:",values:{enterpriseSearchUrl:Object(d.jsx)(o.EuiLink,{target:"_blank",href:t.host,css:h},t.host)}})),Object(d.jsx)(o.EuiCodeBlock,{css:j},e),s?f(n):S())},f=e=>{const t=null==e?void 0:e.deploymentUrl;return Object(d.jsx)("p",{"data-test-subj":"CloudError"},Object(d.jsx)(c.FormattedMessage,{id:"xpack.enterpriseSearch.errorConnectingState.cloudErrorMessage",defaultMessage:"Does your Cloud deployment have Enterprise Search nodes running? {deploymentSettingsLink}",values:{deploymentSettingsLink:Object(d.jsx)(o.EuiLink,{target:"_blank",href:`${t}/edit`},a.i18n.translate("xpack.enterpriseSearch.errorConnectingState.cloudErrorMessageLinkText",{defaultMessage:"Check your deployment settings"}))}}))},S=()=>Object(d.jsx)("ol",{className:"troubleshootingSteps","data-test-subj":"SelfManagedError"},Object(d.jsx)("li",null,Object(d.jsx)(c.FormattedMessage,{id:"xpack.enterpriseSearch.errorConnectingState.description2",defaultMessage:"Ensure the host URL is configured correctly in {configFile}.",values:{configFile:Object(d.jsx)(o.EuiCode,null,"config/kibana.yml")}})),Object(d.jsx)("li",null,Object(d.jsx)(c.FormattedMessage,{id:"xpack.enterpriseSearch.errorConnectingState.description3",defaultMessage:"Confirm that the Enterprise Search server is responsive."})),Object(d.jsx)("li",null,Object(d.jsx)(c.FormattedMessage,{id:"xpack.enterpriseSearch.errorConnectingState.troubleshootAuth",defaultMessage:"Check your user authentication:"}),Object(d.jsx)("ul",null,Object(d.jsx)("li",null,Object(d.jsx)(c.FormattedMessage,{id:"xpack.enterpriseSearch.errorConnectingState.troubleshootAuthMessage",defaultMessage:"Contact your administrator to setup an Enterprise Search role mapping to give you access to Enterprise Search"})))))},370:function(e,t,n){switch(window.__kbnThemeTag__){case"v8dark":return n(371);case"v8light":return n(373)}},371:function(e,t,n){var s=n(39),r=n(372);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);s(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},372:function(e,t,n){(t=n(40)(!1)).push([e.i,".troubleshootingSteps{text-align:left}.troubleshootingSteps li{margin:8px auto}.troubleshootingSteps ol,.troubleshootingSteps ul{margin-bottom:0}",""]),e.exports=t},373:function(e,t,n){var s=n(39),r=n(374);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);s(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},374:function(e,t,n){(t=n(40)(!1)).push([e.i,".troubleshootingSteps{text-align:left}.troubleshootingSteps li{margin:8px auto}.troubleshootingSteps ol,.troubleshootingSteps ul{margin-bottom:0}",""]),e.exports=t},55:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var s=n(37);const r=Object(s.kea)({path:["enterprise_search","licensing_logic"],actions:{setLicense:e=>e,setLicenseSubscription:e=>e},reducers:({props:e})=>({license:[null,{setLicense:(e,t)=>t}],licenseSubscription:[null,{setLicenseSubscription:(e,t)=>t}],canManageLicense:[e.canManageLicense||!1,{}]}),selectors:{hasPlatinumLicense:[e=>[e.license],e=>(null==e?void 0:e.isActive)&&["platinum","enterprise","trial"].includes(null==e?void 0:e.type)],hasGoldLicense:[e=>[e.license],e=>(null==e?void 0:e.isActive)&&["gold","platinum","enterprise","trial"].includes(null==e?void 0:e.type)],isTrial:[e=>[e.license],e=>(null==e?void 0:e.isActive)&&"trial"===(null==e?void 0:e.type)]},events:({props:e,actions:t,values:n})=>({afterMount:()=>{const n=e.license$.subscribe((e=>{t.setLicense(e)}));t.setLicenseSubscription(n)},beforeUnmount:()=>{n.licenseSubscription&&n.licenseSubscription.unsubscribe()}})}),i=e=>(r(e),r.mount());n(47),n(11),n(13),n(2),n(5),n(44),n(12)}}]);