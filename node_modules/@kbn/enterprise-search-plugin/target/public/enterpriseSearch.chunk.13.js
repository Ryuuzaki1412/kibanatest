/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.enterpriseSearch_bundle_jsonpfunction=window.enterpriseSearch_bundle_jsonpfunction||[]).push([[13],{162:function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(945);case"v8light":return a(947)}},163:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiB2aWV3Qm94PSIwIDAgNDc5IDQ3NCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Im0yMjAuMjYyIDEuNDE2ODJjLTI0LjU3MSA1LjQyODU5LTQ1LjUyMyAyMy4wNDc1OC01NC44NTcgNDYuMTkwNDgtMi42NjYgNi4zODA5LTUuNTI0IDE5LjMzMzItNS42MTkgMjQuNDc2MSAwIDMuMjM4MS0uMjg1IDMuNDI4NS0xMi4xOSA5LjUyMzgtNTIuNjY2OCAyNi41NzE4LTkwLjE5MDYgNzEuNDI4OC0xMDYuMjg1OCAxMjYuODU2OC0zLjIzODEgMTEuMzM0LTcuNDI4NiAzNS44MS03LjQyODYgNDMuNDI5IDAgMy41NTUgMCA0Ljk3LjcwNyA1LjY1Ny40NjcxLjQ1NSAxLjI0MjguNTkyIDIuNTMxMS44MTkgMS43MTQzLjI4NiA5LjYxOS41NzEgMTcuNDI4NS43NjJsMTQuMjg1Ny4yODZ2LTQuNTcyYzAtMi4zODEuODU3Mi05LjgwOSAyLTE2LjQ3NiA1LjkwNDgtMzYuMDk1IDIwLjU3MTUtNjUuNTI0IDQ1LjgwOTEtOTEuNzE0IDEyLjA5Ni0xMi40NzYgMjguMjg2LTI0Ljc2MiA0MS40MjktMzEuMzM0bDguNjY3LTQuMzgxIDQuMzgxIDYuNzYyYzEwLjk1MiAxNi44NTggMjkuMjM4IDI5LjQyOSA0OS4yMzggMzMuODEgMzIuODU3IDcuMTQzIDY4LjM4LTkuNTI0IDgzLjgwOS0zOS40MjkgNy42MTktMTQuNzYxNSAxMC4wOTUtMjcuODA5MSA4LjQ3Ni00NC4xOTAxLTEuMDQ3LTEwLjQ3NjItMi43NjItMTUuOTA0Ny04LjY2Ni0yNy41MjM4LTcuNjE5LTE0Ljk1MjMtMjIuNjY3LTI4LjQ3NjEtMzguODU4LTM1LjA0NzUtMTIuOTUyLTUuMTQyOTQtMzEuNjE5LTYuNzYxOTYtNDQuODU3LTMuOTA0Nzh6bTMyLjc2MiAzNy43MTQyOGM3LjgxIDMuNTIzOCAxMi4wOTUgNi45NTIzIDE2LjQ3NiAxMy4wNDc2IDE1LjMzNCAyMS40Mjg2IDcuODEgNTAuODU3My0xNS44MDkgNjEuNzE0My0yMS4yMzggOS44MDktNDQuNTcxIDEuNDI4LTU0LjU3MS0xOS43MTQzLTMuNDI5LTcuMTQzLTMuNzE1LTguNDc2Mi0zLjcxNS0xNi43NjItLjA5NS0xOC40NzYyIDguNzYyLTMxLjkwNDcgMjYtMzkuMDQ3NiA1LjIzOC0yLjI4NTcgNy4wNDgtMi40NzYxIDE1LjkwNS0yLjE5MDQgOC4yODYuMTkwNCAxMS4wNDguNzYxOSAxNS43MTQgMi45NTI0em04Ny44MSA2OS40Mjg5LTkuMzM0IDE0LjY2NiAyLjM4MSAxLjYxOWMxNiAxMC4zODEgMzUuMDQ4IDI5LjMzNCA0NS45MDUgNDUuNTI0IDE4Ljg1NyAyOC4wOTUgMjkuMDQ4IDYwLjg1NyAyOS4wNDggOTMuMDQ4IDAgNy4yMzgtLjI4NiAxNC42NjYtLjY2NyAxNi4zOGwtLjAwNS4wMjVjLS41NjcgMy4wMjQtLjU4NCAzLjExOC03LjIzMyAzLjExOC0xOS4xNDMgMC0zOC4zODEgOC4xOTEtNTIuNjY3IDIyLjM4MS0xOS44MDkgMTkuNzE1LTI2Ljc2MiA0NC4wOTUtMjAuODU3IDcyLjk1MyA0LjA5NSAyMC4wOTUgMjAuNDc2IDQwLjg1NyAzOS45MDUgNTAuNjY2IDEyLjY2NyA2LjI4NiAyMi4zODEgOC4yODYgMzcuNTI0IDcuNzE0IDE0LS41NzEgMjAtMi4xOSAzMy40MjgtOC45NTIgMTEuMDQ4LTUuNjE5IDI1LjIzOC0xOS44MDkgMzEuMjM4LTMxLjMzMyAxMC4xOTEtMTkuNDI5IDExLjkwNS00MC43NjIgNC44NTctNjEuNTI0LTQuNTcxLTEzLjQyOC0xNC42NjYtMjcuMjM4LTI2LjA5NS0zNS45MDVsLTUuNjE5LTQuMjg1LjY2Ny02LjU3MmMxLjIzOC0xMS4xNDMuNzYyLTM3LjE0My0uOTUzLTQ5LjMzMy00Ljg1Ny0zNi4xOTEtMTkuNzE0LTcyLjA5NS00MS4wNDctOTguOTUyLTgtMTAuMDk2LTIzLjUyNC0yNi0zMS42MTktMzIuNDc3LTcuNzE0LTYuMTktMTcuOTA1LTEzLjQyODEtMTguODU3LTEzLjQyODEtLjM4MSAwLTQuOTUzIDYuNTcxMS0xMCAxNC42Njcxem03OC4wOTUgMjE0LjE5YzguNTcxIDQgMTUuOTA1IDExLjMzMyAyMC4wOTUgMTkuOTA1IDMuMTQzIDYuMzgxIDMuMzMzIDcuMzMzIDMuMzMzIDE3LjcxNCAwIDEwLjQ3Ni0uMTkgMTEuNDI4LTMuMzMzIDE3LjcxNC0xMC4xOSAyMC43NjItMzQuMzgxIDI4Ljk1Mi01NS44MDkgMTguODU3LTE1LjYxOS03LjIzOC0yNS4wNDgtMjUuNDI4LTIyLjM4MS00Mi44NTcgMi40NzYtMTUuOTA1IDEyLjU3MS0yNy43MTQgMjguNDc2LTMzLjQyOCA4LTIuODU4IDIxLjIzOC0yIDI5LjYxOSAyLjA5NXptLTQxMS43MTQwNSA0LjY2N2MxMS4xNDI4NS0yMy42MiAzMS4yMzgwNS0zOC41NzIgNTguNjY2NjUtNDMuOTA1IDUuNTIzOC0xLjA0OCAyMy42MTkuMjg1IDMwLjc2MTkgMi4yODUgMjUuMDQ3NSA3LjIzOSA0NS45MDQ1IDI3LjQyOSA1My4wNDc1IDUxLjYxOSA2LjY2NyAyMi4xOTEgMy4wNDggNDcuNTI0LTkuMDQ4IDY0Ljc2Mi0xLjE0MiAxLjUyNC0xLjkwNCAyLjk1My0xLjcxNCAzLjE0MyAyLjc2MiAyLjQ3NiAxOC42NjcgMTEuODEgMjYuMzgxIDE1LjUyNCAyOCAxMy40MjggNjEuNDI5IDE5LjMzMyA4OS41MjQgMTYgMjItMi41NzIgMzUuNTI0LTYgNTYuMTktMTQuNDc2IDEuNDI5LS41NzIgMy4wNDggMiA5LjIzOCAxNC4zODEgNC4xOTEgOC4zODEgNy42MTkgMTUuNDI4IDcuNjE5IDE1LjkwNCAwIDIuMTkxLTI3LjMzMyAxMS45MDUtNDQuMjg1IDE1LjYxOS0xNy4wNDggMy44MS0yNi42NjcgNC44NTgtNDQuMjg2IDQuODU4LTQ0LjY2Ny0uMDk2LTg0LjA5NS0xMi42NjctMTIwLjE5LTM4LjQ3Ny01Ljc1My00LjA4LTcuNDY1LTUuMjk0LTkuMDMxLTUuMTI4LS42NjMuMDcxLTEuMy4zODktMi4yMDcuODQzLTEyLjE5MDkgNi4yODUtMzQuMTkwOSA4LjM4MS00OS4wNDgxIDQuNjY2LTIyLjU3MTMtNS42MTktNDAuOTUyMy0yMC4yODUtNTAuOTUyMjktNDAuNTcxLTUuMjM4MDctMTAuNjY3LTcuMDQ3NjA2LTE3LjkwNS03LjcxNDI2Mi0zMC41NzEtLjc2MTkwMi0xMy43MTUgMS4yMzgxMDItMjQuMjg2IDcuMDQ3NjAyLTM2LjQ3NnptMTA5LjkwNTA1IDI2Ljc2MWMtMi40NzctMTQuMTktMTEuMDQ4LTI1LjQyOC0yNC4wMDAzLTMxLjUyMy0xNi4yODU4LTcuNjE5LTM3LjMzMzQtMi45NTMtNDguNDc2MiAxMC43NjEtMTQgMTcuMDQ4LTEyLjg1NzEgNDAuNTcyIDIuNTcxNCA1NiAxNS4zMzMzIDE1LjMzNCAzOS4zMzMzIDE1LjkwNSA1Ni42NjcxIDEuNDI5IDkuODA5LTguMTkgMTUuNDI4LTIzLjgxIDEzLjIzOC0zNi42Njd6IiBmaWxsPSIjNjQ3NDg3IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4="},241:function(e,t,a){e.exports=a.p+"aca71551c1671377bd9c8001a35c200b.svg"},934:function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(935);case"v8light":return a(937)}},935:function(e,t,a){var s=a(39),r=a(936);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);s(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},936:function(e,t,a){(t=a(40)(!1)).push([e.i,".personalDashboardLayout__sideBar{padding:32px 40px 40px}@media only screen and (min-width:768px) and (max-width:991px){.personalDashboardLayout__sideBar{min-width:320px}}@media only screen and (min-width:992px) and (max-width:1199px){.personalDashboardLayout__sideBar{min-width:320px}}@media only screen and (min-width:1200px){.personalDashboardLayout__sideBar{min-width:480px}}.personalDashboardLayout__body{height:100%;padding-top:0;position:relative;width:100%}",""]),e.exports=t},937:function(e,t,a){var s=a(39),r=a(938);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);s(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},938:function(e,t,a){(t=a(40)(!1)).push([e.i,".personalDashboardLayout__sideBar{padding:32px 40px 40px}@media only screen and (min-width:768px) and (max-width:991px){.personalDashboardLayout__sideBar{min-width:320px}}@media only screen and (min-width:992px) and (max-width:1199px){.personalDashboardLayout__sideBar{min-width:320px}}@media only screen and (min-width:1200px){.personalDashboardLayout__sideBar{min-width:480px}}.personalDashboardLayout__body{height:100%;padding-top:0;position:relative;width:100%}",""]),e.exports=t},939:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjM4IiB2aWV3Qm94PSIwIDAgNDAgMzgiIHdpZHRoPSI0MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSIjOThhMmIzIj48cGF0aCBkPSJtMjIuODY0NC4xMzU3MTJjLS4zNTgyLjI4NTc2OC0uMjk3NC41MDM0OTYuNjg5MyAyLjIwNDQ5OC40ODY3LjgzNjg5Ljk0NjMgMS41NzE3MyAxLjAxMzggMS42MjYxNi4xMDE0LjA3NDg0IDEuMTQ5LjA5NTI1IDUuODU5OC4wOTUyNWg1LjczMTNsLjE3NTctLjE3MDFjLjE2ODktLjE3NjkuMTc1Ny0uMjA0MTIuMTc1Ny0xLjMyNjc4IDAtMS4xMDIyNS0uMDA2OC0xLjE1NjY4LS4xNjIyLTEuMzEzMTctLjAxMTYtLjAxMTY5LS4wMjE1LS4wMjI1Mi0uMDMwOC0uMDMyNjMtLjAxMDYtLjAxMTU4LS4wMjA2LS4wMjI1MS0uMDMxLS4wMzIzOS0uMTE3NC0uMTExMTEtLjMyMzctLjEyODE5LTIuODMyNS0uMzM1ODY1bC0uNDE3NC0uMDM0NTcyYy0uNDAyNC0uMDM0MzI3LS44NjQ0LS4wNzMyNzEtMS4zMzUxLS4xMTI5NTEtLjkyODctLjA3ODI4OC0xLjg5MTYtLjE1OTQ2MS0yLjQ5NzEtLjIxMzY0Mi0uNDA1NS0uMDMzMDE4LS45MjgtLjA3NjYzMS0xLjQ2NTYtLjEyMTQ5LS42ODA4LS4wNTY4MjItMS4zODU3LS4xMTU2NS0xLjkwNjktLjE1NzQ3NC0uNDY5Ni0uMDQwODE0LS45NTYxLS4wODE2MjktMS4zNjE2LS4xMTU2NDQtLjQwNTUtLjAzNDAyMDEtLjczMDItLjA2MTI1OTktLjg3NTUtLjA3NDg2OC0uNDc5OS0uMDQwODI0LS41NTQyLS4wMjcyMTU5OS0uNzI5OS4xMTU2Njh6Ii8+PHBhdGggZD0ibTIzLjI0MjkgNi4wNDgzOWMtMS4zMjQ3LjY5NC0xLjYwODYuODcwOTEtMS42NjI3IDEuMDM0Mi0uMDU0LjE0OTY5LS4wNDA1LjIyNDU0LjA2MDkuMzQwMi4xMjE2LjEyOTI4LjIxNjIuMTQyODkgMS4yNzczLjE0Mjg5aDEuMTQ5bC4wNDA2LjczNDgzYy4xNTU0IDIuODEwMDkgMi4wMjc1IDUuMTM2OTkgNC43MTA3IDUuODcxODkuNTk0OC4xNjMzIDEuODg1Ny4yMTc3IDIuNTQ4LjExNTYgMy4xNjMtLjUxNzEgNS41MDgzLTMuMzg4NCA1LjMzMjYtNi41NDU0Mi0uMDQwNi0uNzc1NjUtLjIyOTgtMS42MTI1NS0uNDg2Ny0yLjE1MDA2bC0uMTYyMi0uMzQ3MDEtNS42MDk2LS4wMTM2MS01LjYwMjktLjAyMDQxeiIvPjxwYXRoIGQ9Im0yMS45NTg3IDE2Ljk2MmMuODE3OC0uNTQ0MyAxLjg4NTctLjk3MyAyLjg0NTQtMS4xMjk0LjA5NDYtLjAyMDUgMi40ODA0LS4wMzQxIDUuMzA1NS0uMDQwOSA0LjM4NjMtLjAwNjggNS4xMjMuMDA2OCA1LjA3NTcuMDg4NS0uMDMzOC4wNTQ0LTIuNjI5MSAzLjM2OC01Ljc3MTggNy4zNTUxbC01LjcxMTEgNy4yNTk5LS4wMzM4LTMuNjE5Ny0uMDQwNS0zLjYxMy01Ljg2NjUgOC4yMzk3LTMuMzI1Mi0uMDA2OGgtMy4zMjUybDEuOTMyOS0yLjcyODRjLjU5MDEtLjgzNjMgMS41MDIxLTIuMTI0OSAyLjQ1MzUtMy40NjkyLjc1OTQtMS4wNzMgMS41NDQtMi4xODE2IDIuMjEtMy4xMjM5IDIuODc5MS00LjA3NTYgMy4yNzc5LTQuNTY1NSA0LjI1MTEtNS4yMTE5eiIvPjxwYXRoIGQ9Im0zNy4zMTQzIDE2Ljg3MzZjLS4xOTYuMjQ0OS0xLjM0NSAxLjcwMS0yLjU0OCAzLjIzMTktLjc0OTMuOTUzNS0xLjYxMTMgMi4wNDk1LTIuMzAzNiAyLjkyOTdsLTEuMDA4MSAxLjI4MTljLTMuOTQwMyA1LjAwNzgtNi4wODI4IDcuNzQ5OC02LjA4MjggNy43ODM4IDAgLjAyMDQgMi4wNDc5LjA0NzcgNC41NTUzLjA2MTNsNC41NjIxLjAxMzZ2Mi4yODYxbC0xMC44MjA2LjA0MDh2MS4wODg3YzAgMS4xNzAzLjA2MDkgMS40NDkyLjM3MTggMS44NjQzLjEwMTQuMTI5My4zMzExLjMwNjIuNTA2OS4zOTQ2LjAxNzEuMDA3OS4wMzMzLjAxNTQuMDQ5OC4wMjI1LjI5NDEuMTI3Mi42NDMyLjEyNzIgNy4yNDk1LjEyNzJoNi45NzQ5bC4zMjQ0LS4yMDQxYy40MTIyLS4yNjU0LjYwMTUtLjUxNzEuNzM2Ny0uOTU5NC4xNTU0LS41MjM5LjE1NTQtMTYuMzU2OC4wMDY3LTE3LjIzNDUtLjE3NTctLjk5MzQtLjUyNzItMS43MjgyLTEuMTQyMi0yLjM4MTQtLjM4NTItLjQxNTEtLjg1ODMtLjc5NjEtLjk5MzUtLjc5NjEtLjA0NzMgMC0uMjQzMy4yMDQxLS40MzkzLjQ0OTF6Ii8+PHBhdGggZD0ibS4xOTYgMTkuMTMyNWMuMzg1MjQtLjc5NjEuOTY2NDgtMS4yOTk2IDEuODExMzEtMS41NzE3LjMxNzY1LS4xMDIxLjY0MjA2LS4xMjkzIDEuNTYxMjQtLjEyOTMgMS4yMjMzLS4wMDY4IDEuNDg2ODkuMDQ3NiAxLjY0MjM0LjM0Ny4wNDczMS4wODg0LjA3NDM0IDIuNTg1NS4wNzQzNCA3LjQ5OHY3LjM2MTloNy4yNzIyN2M1LjA3NTcgMCA3LjMxOTYuMDI3MyA3LjQ0MTIuMDgxNy4zNDQ3LjE1NjUuNDA1NS4zODEuMzk4OCAxLjYxMjUgMCAxLjU0NDYtLjEyODQgMi4wMjc2LS43MjMyIDIuNzA4LS4zNDQ3LjM4NzktLjY0ODguNTk4OC0xLjIwOTguODAyOS0uNDA1NS4xNTY1LS40MzkzLjE1NjUtNi4zNTMxLjE1NjUtNS45MjA1MSAwLTUuOTQwNzkgMC02LjM4MDEtLjE1NjUtLjgwNDI3LS4yNzktMS41MDA0MS0uOTY2Mi0xLjc2NC0xLjcyODItLjA3NDM0LS4yMjQ1LS4xMzUxNy0uNjY2OC0uMTU1NDQtMS4xNjM1bC0uMDMzOC0uNzg5My0uODI0NTUtLjA0MDhjLS41ODgtLjAyNzItLjkzMjY5LS4wNzQ4LTEuMTk2MjctLjE3NjktLjY2MjM1LS4yNTg1LTEuMjU3MTAzLS44MzAxLTEuNTc0NzU4LTEuNTE3M2wtLjE4MjQ4Mi0uMzk0NnYtMTIuNDk5eiIvPjwvZz48L3N2Zz4="},940:function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(941);case"v8light":return a(943)}},941:function(e,t,a){var s=a(39),r=a(942);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);s(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},942:function(e,t,a){(t=a(40)(!1)).push([e.i,".componentLoader{align-items:center;border-radius:4px;display:flex;justify-content:center;margin:auto;min-height:200px}.componentLoader .componentLoaderText{margin-left:10px}",""]),e.exports=t},943:function(e,t,a){var s=a(39),r=a(944);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);s(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},944:function(e,t,a){(t=a(40)(!1)).push([e.i,".componentLoader{align-items:center;border-radius:4px;display:flex;justify-content:center;margin:auto;min-height:200px}.componentLoader .componentLoaderText{margin-left:10px}",""]),e.exports=t},945:function(e,t,a){var s=a(39),r=a(946);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);s(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},946:function(e,t,a){(t=a(40)(!1)).push([e.i,'.adding-a-source ul{padding:0}.adding-a-source li+li{margin-top:auto!important}.adding-a-source__acl-tooltip,.adding-a-source__acl-tooltip .euiSwitch__label{cursor:not-allowed}.adding-a-source__icon{height:3.5em;width:3.5em}.adding-a-source__category{text-transform:capitalize}.adding-a-source__category:after{content:", "}.adding-a-source__category:last-child:after{content:""}.adding-a-source__intro-image{align-items:center;background-color:#22272e;display:flex;height:100%;justify-content:center}.adding-a-source__intro-image img{height:auto;width:auto}.adding-a-source__intro-step{align-items:center;background:#0000;border-radius:0;border-right:2px solid #dbe2eb;display:flex;height:100%;justify-content:center;padding:0 18px 0 0;text-align:center;width:80px}.adding-a-source__config-steps p{margin:0}.adding-a-source__button-row .euiFlexItem:first-child{align-self:flex-end}.adding-a-source__button-row .euiFlexItem:last-child{align-self:flex-start}.adding-a-source__connect-an-instance{flex-basis:auto}.adding-a-source__features-list{flex-basis:100%}.adding-a-source__feature-image{background:#0000;margin:0;width:2.5em}',""]),e.exports=t},947:function(e,t,a){var s=a(39),r=a(948);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);s(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},948:function(e,t,a){(t=a(40)(!1)).push([e.i,'.adding-a-source ul{padding:0}.adding-a-source li+li{margin-top:auto!important}.adding-a-source__acl-tooltip,.adding-a-source__acl-tooltip .euiSwitch__label{cursor:not-allowed}.adding-a-source__icon{height:3.5em;width:3.5em}.adding-a-source__category{text-transform:capitalize}.adding-a-source__category:after{content:", "}.adding-a-source__category:last-child:after{content:""}.adding-a-source__intro-image{align-items:center;background-color:#22272e;display:flex;height:100%;justify-content:center}.adding-a-source__intro-image img{height:auto;width:auto}.adding-a-source__intro-step{align-items:center;background:#0000;border-radius:0;border-right:2px solid #dbe2eb;display:flex;height:100%;justify-content:center;padding:0 18px 0 0;text-align:center;width:80px}.adding-a-source__config-steps p{margin:0}.adding-a-source__button-row .euiFlexItem:first-child{align-self:flex-end}.adding-a-source__button-row .euiFlexItem:last-child{align-self:flex-start}.adding-a-source__connect-an-instance{flex-basis:auto}.adding-a-source__features-list{flex-basis:100%}.adding-a-source__feature-image{background:#0000;margin:0;width:2.5em}',""]),e.exports=t},949:function(e,t,a){e.exports=a.p+"9d70f43f5a3f4e71e32eeff1c1ffb8a0.svg"},950:function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(951);case"v8light":return a(953)}},951:function(e,t,a){var s=a(39),r=a(952);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);s(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},952:function(e,t,a){(t=a(40)(!1)).push([e.i,".byoSourcePrompt{max-width:none}.byoSourcePrompt>*{justify-content:center}",""]),e.exports=t},953:function(e,t,a){var s=a(39),r=a(954);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);s(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},954:function(e,t,a){(t=a(40)(!1)).push([e.i,".byoSourcePrompt{max-width:none}.byoSourcePrompt>*{justify-content:center}",""]),e.exports=t},955:function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(956);case"v8light":return a(958)}},956:function(e,t,a){var s=a(39),r=a(957);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);s(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},957:function(e,t,a){(t=a(40)(!1)).push([e.i,".source-row--error,.source-row--error:hover{background:#f86b631a;color:#f86b63}.source-row--error .euiLink,.source-row--error:hover .euiLink{color:#f86b63}",""]),e.exports=t},958:function(e,t,a){var s=a(39),r=a(959);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);s(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},959:function(e,t,a){(t=a(40)(!1)).push([e.i,".source-row--error,.source-row--error:hover{background:#bd271e1a;color:#bd271e}.source-row--error .euiLink,.source-row--error:hover .euiLink{color:#bd271e}",""]),e.exports=t},960:function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(961);case"v8light":return a(963)}},961:function(e,t,a){var s=a(39),r=a(962);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);s(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},962:function(e,t,a){(t=a(40)(!1)).push([e.i,'.custom-source-display-settings{font-size:16px}.example-result-content>*{line-height:1.5em}.example-result-content__title{color:#36a2ef;font-size:1em;font-weight:600}.example-result-detail-card .example-result-content__title{font-size:20px}.example-result-content__description,.example-result-content__subtitle{font-size:.875}.example-result-content__subtitle{color:#d4dae5}.example-result-content__description{border-left:3px solid #343741;color:#98a2b3;line-height:1.8;padding:.1rem 0 .125rem .35rem;word-break:break-word}@supports (display:-webkit-box){.example-result-content__description{-webkit-box-orient:vertical;-webkit-line-clamp:3;display:-webkit-box;overflow:hidden;text-overflow:ellipsis}}.example-result-detail-card .example-result-content__url{color:#98a2b3}.example-result-content__tag{align-items:center;background:#e9edf2;border-radius:2px;color:#3f4b58;display:inline-flex;font-size:10px;font-weight:600;height:20px;letter-spacing:.075em;margin-right:5px;padding:0 .25rem;text-transform:uppercase;white-space:nowrap;z-index:1}.example-result-content__tag-content{align-items:center;display:inline-flex;flex-shrink:0;height:20px}.example-result-content__meta{align-items:center;display:flex;flex-flow:row nowrap;font-size:.8em;margin-top:.5rem;overflow:hidden;position:relative;z-index:1}.example-result-content-placeholder{color:#535966}.example-standout-result{border-radius:4px;box-shadow:0 1px 3px #0000001a,0 0 20px #25262e;overflow:hidden}.example-standout-result__content,.example-standout-result__header{padding-left:1em;padding-right:1em}.example-standout-result__content{padding-bottom:1em;padding-top:1em}.example-standout-result__source-name{font-size:.6875em;font-weight:600;letter-spacing:.06em;line-height:34px;text-transform:uppercase}.example-result-group__header{align-items:center;border-radius:4px;display:inline-flex;padding:0 .5em}.example-result-group__header .euiIcon{margin-right:.25rem}.example-result-group__source-name{font-size:.6875em;font-weight:600;letter-spacing:.06em;line-height:1.75em;text-transform:uppercase}.example-result-group__content{align-items:stretch;display:flex;padding:.75em 0}.example-result-group__border{border-radius:2px;flex-shrink:0;margin-left:.875rem;width:4px}.example-result-group__results{flex:1;max-width:100%}.example-grouped-result{padding:1em}.example-result-field-hover{background:#f0f6fb;position:relative}.example-result-field-hover:after,.example-result-field-hover:before{background:#f0f6fb;content:"";height:100%;position:absolute;width:4px}.example-result-field-hover:before{border-radius:2px 0 0 2px;right:100%}.example-result-field-hover:after{border-radius:0 2px 2px 0;left:100%}.example-result-field-hover .example-result-content-placeholder{color:#fff}.example-result-detail-card{box-shadow:0 1px 3px #0000001a,0 0 20px #25262e}.example-result-detail-card__header{padding:1.25em 1em 0;position:relative}.example-result-detail-card__border{height:4px;left:0;position:absolute;right:0;top:0}.example-result-detail-card__source-name{font-weight:500;margin-bottom:1em}.example-result-detail-card__field{padding:1em}.example-result-detail-card__field+.example-result-detail-card__field{border-top:1px solid #343741}.visible-fields-container{background:#25262e;border-color:#0000}',""]),e.exports=t},963:function(e,t,a){var s=a(39),r=a(964);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);s(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},964:function(e,t,a){(t=a(40)(!1)).push([e.i,'.custom-source-display-settings{font-size:16px}.example-result-content>*{line-height:1.5em}.example-result-content__title{color:#07c;font-size:1em;font-weight:600}.example-result-detail-card .example-result-content__title{font-size:20px}.example-result-content__description,.example-result-content__subtitle{font-size:.875}.example-result-content__subtitle{color:#343741}.example-result-content__description{border-left:3px solid #d3dae6;color:#69707d;line-height:1.8;padding:.1rem 0 .125rem .35rem;word-break:break-word}@supports (display:-webkit-box){.example-result-content__description{-webkit-box-orient:vertical;-webkit-line-clamp:3;display:-webkit-box;overflow:hidden;text-overflow:ellipsis}}.example-result-detail-card .example-result-content__url{color:#69707d}.example-result-content__tag{align-items:center;background:#e9edf2;border-radius:2px;color:#3f4b58;display:inline-flex;font-size:10px;font-weight:600;height:20px;letter-spacing:.075em;margin-right:5px;padding:0 .25rem;text-transform:uppercase;white-space:nowrap;z-index:1}.example-result-content__tag-content{align-items:center;display:inline-flex;flex-shrink:0;height:20px}.example-result-content__meta{align-items:center;display:flex;flex-flow:row nowrap;font-size:.8em;margin-top:.5rem;overflow:hidden;position:relative;z-index:1}.example-result-content-placeholder{color:#98a2b3}.example-standout-result{border-radius:4px;box-shadow:0 1px 3px #0000001a,0 0 20px #f5f7fa;overflow:hidden}.example-standout-result__content,.example-standout-result__header{padding-left:1em;padding-right:1em}.example-standout-result__content{padding-bottom:1em;padding-top:1em}.example-standout-result__source-name{font-size:.6875em;font-weight:600;letter-spacing:.06em;line-height:34px;text-transform:uppercase}.example-result-group__header{align-items:center;border-radius:4px;display:inline-flex;padding:0 .5em}.example-result-group__header .euiIcon{margin-right:.25rem}.example-result-group__source-name{font-size:.6875em;font-weight:600;letter-spacing:.06em;line-height:1.75em;text-transform:uppercase}.example-result-group__content{align-items:stretch;display:flex;padding:.75em 0}.example-result-group__border{border-radius:2px;flex-shrink:0;margin-left:.875rem;width:4px}.example-result-group__results{flex:1;max-width:100%}.example-grouped-result{padding:1em}.example-result-field-hover{background:#f0f6fb;position:relative}.example-result-field-hover:after,.example-result-field-hover:before{background:#f0f6fb;content:"";height:100%;position:absolute;width:4px}.example-result-field-hover:before{border-radius:2px 0 0 2px;right:100%}.example-result-field-hover:after{border-radius:0 2px 2px 0;left:100%}.example-result-field-hover .example-result-content-placeholder{color:#000}.example-result-detail-card{box-shadow:0 1px 3px #0000001a,0 0 20px #f5f7fa}.example-result-detail-card__header{padding:1.25em 1em 0;position:relative}.example-result-detail-card__border{height:4px;left:0;position:absolute;right:0;top:0}.example-result-detail-card__source-name{font-weight:500;margin-bottom:1em}.example-result-detail-card__field{padding:1em}.example-result-detail-card__field+.example-result-detail-card__field{border-top:1px solid #d3dae6}.visible-fields-container{background:#f5f7fa;border-color:#0000}',""]),e.exports=t},965:function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(966);case"v8light":return a(968)}},966:function(e,t,a){var s=a(39),r=a(967);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);s(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},967:function(e,t,a){(t=a(40)(!1)).push([e.i,".source-grid-configured .source-card-configured{padding:8px}.source-grid-configured .source-card-configured__not-connected-tooltip{left:4px;position:relative;top:3px}.sourcesSubNav li{display:block}",""]),e.exports=t},968:function(e,t,a){var s=a(39),r=a(969);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);s(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},969:function(e,t,a){(t=a(40)(!1)).push([e.i,".source-grid-configured .source-card-configured{padding:8px}.source-grid-configured .source-card-configured__not-connected-tooltip{left:4px;position:relative;top:3px}.sourcesSubNav li{display:block}",""]),e.exports=t},970:function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(971);case"v8light":return a(973)}},971:function(e,t,a){var s=a(39),r=a(972);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);s(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},972:function(e,t,a){(t=a(40)(!1)).push([e.i,'.groups-table{background-color:initial}.user-groups-header{color:#98a2b3;display:flex;font-size:.875rem;font-weight:500;margin-bottom:1rem;padding:0 1.5rem}.user-groups-header__title{flex:1}.user-groups-header__accounts,.user-groups-header__sources{width:25%}.user-group{align-items:center;background:#25262e;border-radius:6px;color:#d4dae5;display:flex;height:80px;margin-bottom:1rem;padding:0 1.5rem;position:relative}.user-group:hover{background:#1d1e24;box-shadow:inset 0 0 0 1px #343741,0 2px 4px #0000000d;color:#fff}.user-group:after{border-bottom:2px solid;border-right:2px solid;content:"";height:8px;opacity:.5;position:absolute;right:1.5rem;top:50%;transform:translateY(-50%) rotate(-45deg);width:8px}.user-group__accounts,.user-group__sources{align-items:center;display:flex}.user-group__item{pointer-events:none}.user-group-account,.user-group-source{align-items:center;display:flex;height:30px;justify-content:center;margin-right:4px;overflow:hidden;position:relative;width:30px}.user-group-account--additional,.user-group-source--additional{font-size:.875rem;font-weight:500;margin-left:.5rem;opacity:.75}.user-group-account--additional__wrap,.user-group-source--additional__wrap{border:none;box-shadow:none}.user-group-account img,.user-group-source img{max-width:100%}.user-groups-filters__search-bar{min-width:260px!important}.user-groups-filters__filter-sources{min-width:130px!important}',""]),e.exports=t},973:function(e,t,a){var s=a(39),r=a(974);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);s(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},974:function(e,t,a){(t=a(40)(!1)).push([e.i,'.groups-table{background-color:initial}.user-groups-header{color:#69707d;display:flex;font-size:.875rem;font-weight:500;margin-bottom:1rem;padding:0 1.5rem}.user-groups-header__title{flex:1}.user-groups-header__accounts,.user-groups-header__sources{width:25%}.user-group{align-items:center;background:#f5f7fa;border-radius:6px;color:#343741;display:flex;height:80px;margin-bottom:1rem;padding:0 1.5rem;position:relative}.user-group:hover{background:#fff;box-shadow:inset 0 0 0 1px #d3dae6,0 2px 4px #0000000d;color:#000}.user-group:after{border-bottom:2px solid;border-right:2px solid;content:"";height:8px;opacity:.5;position:absolute;right:1.5rem;top:50%;transform:translateY(-50%) rotate(-45deg);width:8px}.user-group__accounts,.user-group__sources{align-items:center;display:flex}.user-group__item{pointer-events:none}.user-group-account,.user-group-source{align-items:center;display:flex;height:30px;justify-content:center;margin-right:4px;overflow:hidden;position:relative;width:30px}.user-group-account--additional,.user-group-source--additional{font-size:.875rem;font-weight:500;margin-left:.5rem;opacity:.75}.user-group-account--additional__wrap,.user-group-source--additional__wrap{border:none;box-shadow:none}.user-group-account img,.user-group-source img{max-width:100%}.user-groups-filters__search-bar{min-width:260px!important}.user-groups-filters__filter-sources{min-width:130px!important}',""]),e.exports=t},975:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NzkgNDc0Ij48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTIyMC4yNjIgMS40MTdjLTI0LjU3MSA1LjQyOC00NS41MjMgMjMuMDQ3LTU0Ljg1NyA0Ni4xOS0yLjY2NiA2LjM4MS01LjUyNCAxOS4zMzQtNS42MTkgMjQuNDc2IDAgMy4yMzktLjI4NSAzLjQyOS0xMi4xOSA5LjUyNC01Mi42NjcgMjYuNTcyLTkwLjE5IDcxLjQyOS0xMDYuMjg2IDEyNi44NTctMy4yMzggMTEuMzM0LTcuNDI4IDM1LjgxLTcuNDI4IDQzLjQyOSAwIDMuNTU1IDAgNC45Ny43MDcgNS42NTcuNDY3LjQ1NSAxLjI0Mi41OTIgMi41My44MTkgMS43MTUuMjg2IDkuNjIuNTcxIDE3LjQzLjc2MmwxNC4yODUuMjg2di00LjU3MmMwLTIuMzgxLjg1Ny05LjgwOSAyLTE2LjQ3NiA1LjkwNS0zNi4wOTUgMjAuNTcxLTY1LjUyNCA0NS44MDktOTEuNzE0IDEyLjA5Ni0xMi40NzYgMjguMjg2LTI0Ljc2MiA0MS40MjktMzEuMzM0bDguNjY3LTQuMzgxIDQuMzgxIDYuNzYyYzEwLjk1MiAxNi44NTggMjkuMjM4IDI5LjQyOSA0OS4yMzggMzMuODEgMzIuODU3IDcuMTQzIDY4LjM4LTkuNTI0IDgzLjgwOS0zOS40MjkgNy42MTktMTQuNzYxIDEwLjA5NS0yNy44MSA4LjQ3Ni00NC4xOS0xLjA0Ny0xMC40NzYtMi43NjItMTUuOTA1LTguNjY2LTI3LjUyNC03LjYxOS0xNC45NTItMjIuNjY3LTI4LjQ3Ni0zOC44NTgtMzUuMDQ3QzI1Mi4xNjcuMTc5IDIzMy41LTEuNDQgMjIwLjI2MiAxLjQxN3ptMzIuNzYyIDM3LjcxNGM3LjgxIDMuNTI0IDEyLjA5NSA2Ljk1MiAxNi40NzYgMTMuMDQ4IDE1LjMzNCAyMS40MjggNy44MSA1MC44NTctMTUuODA5IDYxLjcxNC0yMS4yMzggOS44MDktNDQuNTcxIDEuNDI4LTU0LjU3MS0xOS43MTQtMy40MjktNy4xNDMtMy43MTUtOC40NzctMy43MTUtMTYuNzYyLS4wOTUtMTguNDc3IDguNzYyLTMxLjkwNSAyNi0zOS4wNDggNS4yMzgtMi4yODYgNy4wNDgtMi40NzYgMTUuOTA1LTIuMTkgOC4yODYuMTkgMTEuMDQ4Ljc2MiAxNS43MTQgMi45NTJ6bTg3LjgxIDY5LjQyOWwtOS4zMzQgMTQuNjY2IDIuMzgxIDEuNjE5YzE2IDEwLjM4MSAzNS4wNDggMjkuMzM0IDQ1LjkwNSA0NS41MjQgMTguODU3IDI4LjA5NSAyOS4wNDggNjAuODU3IDI5LjA0OCA5My4wNDggMCA3LjIzOC0uMjg2IDE0LjY2Ni0uNjY3IDE2LjM4bC0uMDA1LjAyNWMtLjU2NyAzLjAyNC0uNTg0IDMuMTE4LTcuMjMzIDMuMTE4LTE5LjE0MyAwLTM4LjM4MSA4LjE5MS01Mi42NjcgMjIuMzgxLTE5LjgwOSAxOS43MTUtMjYuNzYyIDQ0LjA5NS0yMC44NTcgNzIuOTUzIDQuMDk1IDIwLjA5NSAyMC40NzYgNDAuODU3IDM5LjkwNSA1MC42NjYgMTIuNjY3IDYuMjg2IDIyLjM4MSA4LjI4NiAzNy41MjQgNy43MTQgMTQtLjU3MSAyMC0yLjE5IDMzLjQyOC04Ljk1MiAxMS4wNDgtNS42MTkgMjUuMjM4LTE5LjgwOSAzMS4yMzgtMzEuMzMzIDEwLjE5MS0xOS40MjkgMTEuOTA1LTQwLjc2MiA0Ljg1Ny02MS41MjQtNC41NzEtMTMuNDI4LTE0LjY2Ni0yNy4yMzgtMjYuMDk1LTM1LjkwNWwtNS42MTktNC4yODUuNjY3LTYuNTcyYzEuMjM4LTExLjE0My43NjItMzcuMTQzLS45NTMtNDkuMzMzLTQuODU3LTM2LjE5MS0xOS43MTQtNzIuMDk1LTQxLjA0Ny05OC45NTItOC0xMC4wOTYtMjMuNTI0LTI2LTMxLjYxOS0zMi40NzctNy43MTQtNi4xOS0xNy45MDUtMTMuNDI4LTE4Ljg1Ny0xMy40MjgtLjM4MSAwLTQuOTUzIDYuNTcxLTEwIDE0LjY2N3ptNzguMDk1IDIxNC4xOWM4LjU3MSA0IDE1LjkwNSAxMS4zMzMgMjAuMDk1IDE5LjkwNSAzLjE0MyA2LjM4MSAzLjMzMyA3LjMzMyAzLjMzMyAxNy43MTQgMCAxMC40NzYtLjE5IDExLjQyOC0zLjMzMyAxNy43MTQtMTAuMTkgMjAuNzYyLTM0LjM4MSAyOC45NTItNTUuODA5IDE4Ljg1Ny0xNS42MTktNy4yMzgtMjUuMDQ4LTI1LjQyOC0yMi4zODEtNDIuODU3IDIuNDc2LTE1LjkwNSAxMi41NzEtMjcuNzE0IDI4LjQ3Ni0zMy40MjggOC0yLjg1OCAyMS4yMzgtMiAyOS42MTkgMi4wOTV6TTcuMjE1IDMyNy40MTdjMTEuMTQzLTIzLjYyIDMxLjIzOC0zOC41NzIgNTguNjY3LTQzLjkwNSA1LjUyMy0xLjA0OCAyMy42MTkuMjg1IDMwLjc2MSAyLjI4NSAyNS4wNDggNy4yMzkgNDUuOTA1IDI3LjQyOSA1My4wNDggNTEuNjE5IDYuNjY3IDIyLjE5MSAzLjA0OCA0Ny41MjQtOS4wNDggNjQuNzYyLTEuMTQyIDEuNTI0LTEuOTA0IDIuOTUzLTEuNzE0IDMuMTQzIDIuNzYyIDIuNDc2IDE4LjY2NyAxMS44MSAyNi4zODEgMTUuNTI0IDI4IDEzLjQyOCA2MS40MjkgMTkuMzMzIDg5LjUyNCAxNiAyMi0yLjU3MiAzNS41MjQtNiA1Ni4xOS0xNC40NzYgMS40MjktLjU3MiAzLjA0OCAyIDkuMjM4IDE0LjM4MSA0LjE5MSA4LjM4MSA3LjYxOSAxNS40MjggNy42MTkgMTUuOTA0IDAgMi4xOTEtMjcuMzMzIDExLjkwNS00NC4yODUgMTUuNjE5LTE3LjA0OCAzLjgxLTI2LjY2NyA0Ljg1OC00NC4yODYgNC44NTgtNDQuNjY3LS4wOTYtODQuMDk1LTEyLjY2Ny0xMjAuMTktMzguNDc3LTUuNzUzLTQuMDgtNy40NjUtNS4yOTQtOS4wMzEtNS4xMjgtLjY2My4wNzEtMS4zLjM4OS0yLjIwNy44NDMtMTIuMTkgNi4yODUtMzQuMTkgOC4zODEtNDkuMDQ4IDQuNjY2LTIyLjU3MS01LjYxOS00MC45NTItMjAuMjg1LTUwLjk1Mi00MC41NzFDMi42NDQgMzgzLjc5Ny44MzQgMzc2LjU1OS4xNjcgMzYzLjg5M2MtLjc2Mi0xMy43MTUgMS4yMzgtMjQuMjg2IDcuMDQ4LTM2LjQ3NnptMTA5LjkwNSAyNi43NjFjLTIuNDc3LTE0LjE5LTExLjA0OC0yNS40MjgtMjQtMzEuNTIzLTE2LjI4Ni03LjYxOS0zNy4zMzQtMi45NTMtNDguNDc3IDEwLjc2MS0xNCAxNy4wNDgtMTIuODU3IDQwLjU3MiAyLjU3MiA1NiAxNS4zMzMgMTUuMzM0IDM5LjMzMyAxNS45MDUgNTYuNjY3IDEuNDI5IDkuODA5LTguMTkgMTUuNDI4LTIzLjgxIDEzLjIzOC0zNi42Njd6IiBmaWxsPSIjNjQ3NDg3Ii8+PC9zdmc+"},976:function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(977);case"v8light":return a(979)}},977:function(e,t,a){var s=a(39),r=a(978);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);s(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},978:function(e,t,a){(t=a(40)(!1)).push([e.i,".activity{display:flex;font-size:14px;justify-content:space-between;padding:12px}.activity--error{background:#f86b631a;color:#f86b63;font-weight:600}.activity--error__label{font-weight:400;margin-left:14px;opacity:.7;text-decoration:underline}.activity__message{flex-grow:1}.activity__date{flex-grow:0}.activity+.activity{border-top:1px solid #343741}",""]),e.exports=t},979:function(e,t,a){var s=a(39),r=a(980);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);s(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},980:function(e,t,a){(t=a(40)(!1)).push([e.i,".activity{display:flex;font-size:14px;justify-content:space-between;padding:12px}.activity--error{background:#bd271e1a;color:#bd271e;font-weight:600}.activity--error__label{font-weight:400;margin-left:14px;opacity:.7;text-decoration:underline}.activity__message{flex-grow:1}.activity__date{flex-grow:0}.activity+.activity{border-top:1px solid #d3dae6}",""]),e.exports=t},981:function(e,t,a){e.exports=a.p+"bb324be1389276fa99a14498a318f08d.png"},983:function(e,t,a){"use strict";a.r(t),a.d(t,"WorkplaceSearch",(function(){return Ld})),a.d(t,"WorkplaceSearchConfiguredRoutes",(function(){return Fd})),a.d(t,"WorkplaceSearchConfigured",(function(){return zd})),a.d(t,"WorkplaceSearchUnconfigured",(function(){return Ad}));var s=a(11),r=a.n(s),n=a(15),c=a(37),o=a(54),i=a(69),l=a(38),u=a(41),p=a(71);const d={},j={},g={},x=Object(c.kea)({path:["enterprise_search","workplace_search","app_logic"],actions:{initializeAppData:({workplaceSearch:e,searchOAuth:t})=>({workplaceSearch:e,searchOAuth:t}),setContext:e=>e,setOrgName:e=>e,setSourceRestriction:e=>e},reducers:{hasInitialized:[!1,{initializeAppData:()=>!0}],isOrganization:[!1,{setContext:(e,t)=>t}],organization:[d,{initializeAppData:(e,{workplaceSearch:t})=>(null==t?void 0:t.organization)||d,setOrgName:(e,t)=>({...e,name:t})}],account:[j,{initializeAppData:(e,{workplaceSearch:t})=>(null==t?void 0:t.account)||j,setSourceRestriction:(e,t)=>({...e,canCreatePrivateSources:t})}],searchOAuth:[g,{initializeAppData:(e,{searchOAuth:t})=>t||g}]}});var b=a(47),S=a.n(b),h=a(1),O=a(60),m=a(58),y=a(52),k=a(2),f=a(42);const M=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.title",{defaultMessage:"Workplace Search"}),E={OVERVIEW:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.nav.overview",{defaultMessage:"Overview"}),SOURCES:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.nav.sources",{defaultMessage:"Sources"}),GROUPS:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.nav.groups",{defaultMessage:"Groups"}),GROUP_OVERVIEW:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.nav.groups.groupOverview",{defaultMessage:"Overview"}),SOURCE_PRIORITIZATION:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.nav.groups.sourcePrioritization",{defaultMessage:"Source Prioritization"}),CONTENT:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.nav.content",{defaultMessage:"Content"}),ROLE_MAPPINGS:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.nav.roleMappings",{defaultMessage:"Users and roles"}),API_KEYS:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.nav.apiKeys",{defaultMessage:"API keys"}),SECURITY:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.nav.security",{defaultMessage:"Security"}),SCHEMA:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.nav.schema",{defaultMessage:"Schema"}),SYNCHRONIZATION:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.nav.synchronization",{defaultMessage:"Synchronization"}),SYNCHRONIZATION_FREQUENCY:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.nav.synchronizationFrequency",{defaultMessage:"Frequency"}),SYNCHRONIZATION_ASSETS_AND_OBJECTS:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.nav.synchronizationAssetsAndObjects",{defaultMessage:"Assets and objects"}),DISPLAY_SETTINGS:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.nav.displaySettings",{defaultMessage:"Display Settings"}),SETTINGS:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.nav.settings",{defaultMessage:"Settings"}),SETTINGS_CUSTOMIZE:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.nav.settingsCustomize",{defaultMessage:"Customize"}),SETTINGS_SOURCE_PRIORITIZATION:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.nav.settingsSourcePrioritization",{defaultMessage:"Content source connectors"}),SETTINGS_OAUTH:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.nav.settingsOauth",{defaultMessage:"OAuth application"}),ADD_SOURCE:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.nav.addSource",{defaultMessage:"Add Source"}),PERSONAL_DASHBOARD:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.nav.personalDashboard",{defaultMessage:"View my personal dashboard"}),SEARCH:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.nav.searchApplication",{defaultMessage:"Go to search application"})},w={SOURCES:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.accountNav.sources.link",{defaultMessage:"Content sources"}),ORG_DASHBOARD:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.accountNav.orgDashboard.link",{defaultMessage:"Go to organizational dashboard"}),SEARCH:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.accountNav.search.link",{defaultMessage:"Search"}),ACCOUNT:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.accountNav.account.link",{defaultMessage:"My account"}),SETTINGS:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.accountNav.settings.link",{defaultMessage:"Account settings"}),LOGOUT:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.accountNav.logout.link",{defaultMessage:"Logout"})},v="error",T={BOX:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.sourceNames.box",{defaultMessage:"Box"}),CONFLUENCE:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.sourceNames.confluence",{defaultMessage:"Confluence"}),CONFLUENCE_CONNECTOR_PACKAGE:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.sourceNames.confluenceConnectorPackage",{defaultMessage:"Confluence Connector Package"}),CONFLUENCE_SERVER:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.sourceNames.confluenceServer",{defaultMessage:"Confluence (Server)"}),DROPBOX:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.sourceNames.dropbox",{defaultMessage:"Dropbox"}),GITHUB:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.sourceNames.github",{defaultMessage:"GitHub"}),GITHUB_ENTERPRISE:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.sourceNames.githubEnterprise",{defaultMessage:"GitHub Enterprise Server"}),GMAIL:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.sourceNames.gmail",{defaultMessage:"Gmail"}),GOOGLE_DRIVE:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.sourceNames.googleDrive",{defaultMessage:"Google Drive"}),JIRA:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.sourceNames.jira",{defaultMessage:"Jira"}),JIRA_SERVER:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.sourceNames.jiraServer",{defaultMessage:"Jira (Server)"}),NETWORK_DRVE:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.sourceNames.networkDrive",{defaultMessage:"Network Drive"}),ONEDRIVE:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.sourceNames.oneDrive",{defaultMessage:"OneDrive"}),OUTLOOK:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.sourceNames.outlook",{defaultMessage:"Outlook"}),SALESFORCE:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.sourceNames.salesforce",{defaultMessage:"Salesforce"}),SALESFORCE_SANDBOX:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.sourceNames.salesforceSandbox",{defaultMessage:"Salesforce Sandbox"}),SERVICENOW:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.sourceNames.serviceNow",{defaultMessage:"ServiceNow"}),SHAREPOINT:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.sourceNames.sharePoint",{defaultMessage:"SharePoint Online"}),SHAREPOINT_CONNECTOR_PACKAGE:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.sourceNames.sharePointConnectorPackage",{defaultMessage:"SharePoint Online Connector Package"}),SHAREPOINT_SERVER:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.sourceNames.sharePointServer",{defaultMessage:"SharePoint Server"}),SLACK:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.sourceNames.slack",{defaultMessage:"Slack"}),TEAMS:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.sourceNames.teams",{defaultMessage:"Teams"}),ZENDESK:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.sourceNames.zendesk",{defaultMessage:"Zendesk"}),ZOOM:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.sourceNames.zoom",{defaultMessage:"Zoom"}),CUSTOM:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.sourceNames.custom",{defaultMessage:"Custom API Source"}),CUSTOM_CONNECTOR_PACKAGE:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.sourceNames.customConnectorPackage",{defaultMessage:"Custom Connector Package"})},C={FOLDERS:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.objTypes.folders",{defaultMessage:"Folders"}),PAGES:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.objTypes.pages",{defaultMessage:"Pages"}),ATTACHMENTS:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.objTypes.attachments",{defaultMessage:"Attachments"}),BLOG_POSTS:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.objTypes.blogPosts",{defaultMessage:"Blog Posts"}),SITES:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.objTypes.sites",{defaultMessage:"Sites"}),SPACES:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.objTypes.spaces",{defaultMessage:"Spaces"}),ALL_FILES:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.objTypes.allFiles",{defaultMessage:"All Files (including images, PDFs, spreadsheets, textual documents, presentations)"}),ALL_STORED_FILES:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.objTypes.allStoredFiles",{defaultMessage:"All Stored Files (including images, videos, PDFs, spreadsheets, textual documents, presentations)"}),G_SUITE_FILES:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.objTypes.gSuiteFiles",{defaultMessage:"Google G Suite Documents (Docs, Sheets, Slides)"}),EPICS:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.objTypes.epics",{defaultMessage:"Epics"}),PROJECTS:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.objTypes.projects",{defaultMessage:"Projects"}),TASKS:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.objTypes.tasks",{defaultMessage:"Tasks"}),STORIES:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.objTypes.stories",{defaultMessage:"Stories"}),BUGS:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.objTypes.bugs",{defaultMessage:"Bugs"}),ISSUES:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.objTypes.issues",{defaultMessage:"Issues (including comments)"}),PULL_REQUESTS:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.objTypes.pullRequests",{defaultMessage:"Pull Requests (including comments)"}),REPOSITORY_LIST:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.objTypes.repositoryList",{defaultMessage:"Repository List"}),FILES:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.objTypes.files",{defaultMessage:"Files (markdown only)"}),EMAILS:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.objTypes.emails",{defaultMessage:"Emails"}),CONTACTS:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.objTypes.contacts",{defaultMessage:"Contacts"}),OPPORTUNITIES:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.objTypes.opportunities",{defaultMessage:"Opportunities"}),LEADS:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.objTypes.leads",{defaultMessage:"Leads"}),ACCOUNTS:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.objTypes.accounts",{defaultMessage:"Accounts"}),CAMPAIGNS:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.objTypes.campaigns",{defaultMessage:"Campaigns"}),CASES:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.objTypes.cases",{defaultMessage:"Cases (including feeds and comments)"}),USERS:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.objTypes.users",{defaultMessage:"Users"}),INCIDENTS:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.objTypes.incidents",{defaultMessage:"Incidents"}),ITEMS:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.objTypes.items",{defaultMessage:"Items"}),ARTICLES:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.objTypes.articles",{defaultMessage:"Articles"}),TICKETS:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.objTypes.tickets",{defaultMessage:"Tickets"}),PUBLIC_MESSAGES:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.objTypes.publicMessages",{defaultMessage:"Public channel messages"}),PRIVATE_MESSAGES:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.objTypes.privateMessages",{defaultMessage:"Private channel messages in which you are an active participant"}),DIRECT_MESSAGES:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.objTypes.directMessages",{defaultMessage:"Direct messages"})},I={ACCOUNT_MANAGEMENT:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.categories.accountManagement",{defaultMessage:"Account management"}),ATLASSIAN:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.categories.atlassian",{defaultMessage:"Atlassian"}),BUG_TRACKING:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.categories.bugTracking",{defaultMessage:"Bug tracking"}),CHAT:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.categories.chat",{defaultMessage:"Chat"}),CLOUD:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.categories.cloud",{defaultMessage:"Cloud"}),CODE_REPOSITORY:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.categories.codeRepository",{defaultMessage:"Code repository"}),COLLABORATION:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.categories.collaboration",{defaultMessage:"Collaboration"}),COMMUNICATION:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.categories.communication",{defaultMessage:"Communication"}),CRM:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.categories.crm",{defaultMessage:"CRM"}),CUSTOMER_RELATIONSHIP_MANAGEMENT:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.categories.customerRelationshipManagement",{defaultMessage:"Customer relationship management"}),CUSTOMER_SERVICE:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.categories.customerService",{defaultMessage:"Customer service"}),EMAIL:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.categories.email",{defaultMessage:"Email"}),FILE_SHARING:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.categories.fileSharing",{defaultMessage:"File sharing"}),GOOGLE:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.categories.google",{defaultMessage:"Google"}),GSUITE:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.categories.gsuite",{defaultMessage:"GSuite"}),HELP:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.categories.help",{defaultMessage:"Help"}),HELPDESK:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.categories.helpdesk",{defaultMessage:"Helpdesk"}),INSTANT_MESSAGING:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.categories.instantMessaging",{defaultMessage:"Instant messaging"}),INTRANET:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.categories.intranet",{defaultMessage:"Intranet"}),MICROSOFT:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.categories.microsoft",{defaultMessage:"Microsoft"}),OFFICE_365:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.categories.office",{defaultMessage:"Office 365"}),PRODUCTIVITY:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.categories.productivity",{defaultMessage:"Productivity"}),PROJECT_MANAGEMENT:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.categories.projectManagement",{defaultMessage:"Project management"}),SOFTWARE:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.categories.software",{defaultMessage:"Software"}),STORAGE:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.categories.storage",{defaultMessage:"Storage"}),TICKETING:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.categories.ticketing",{defaultMessage:"Ticketing"}),VERSION_CONTROL:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.categories.versionControl",{defaultMessage:"Version control"}),WIKI:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.categories.wiki",{defaultMessage:"Wiki"}),WORKFLOW:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.categories.workflow",{defaultMessage:"Workflow"})},N=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.apiKeysTitle",{defaultMessage:"API keys"}),L=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.apiKeyLabel",{defaultMessage:"API key"}),F=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.applicationLinkTitles.github",{defaultMessage:"GitHub Developer Portal"}),z="github_via_app",A="github_enterprise_server_via_app",D="custom",_=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.documentation",{defaultMessage:"Documentation"}),R=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.security.privateSources.description",{defaultMessage:"Private sources are connected by users in your organization to create a personalized search experience."}),U=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.security.privateSourcesToggle.description",{defaultMessage:"Enable private sources for your organization"}),P=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.security.remoteSourcesToggle.text",{defaultMessage:"Enable remote private sources"}),G=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.security.remoteSourcesTable.description",{defaultMessage:"Remote sources synchronize and store a limited amount of data on disk, with a low impact on storage resources."}),B=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.security.remoteSourcesEmptyTable.title",{defaultMessage:"No remote private sources configured yet"}),V=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.security.standardSourcesToggle.text",{defaultMessage:"Enable standard private sources"}),H=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.security.standardSourcesTable.description",{defaultMessage:"Standard sources synchronize and store all searchable data on disk, with a directly correlated impact on storage resources."}),Y=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.security.standardSourcesEmptyTable.title",{defaultMessage:"No standard private sources configured yet"}),Q=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.security.unsavedChanges.message",{defaultMessage:"Your private sources settings have not been saved. Are you sure you want to leave?"}),q=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.security.privateSourcesUpdateConfirmation.text",{defaultMessage:"Updates to private source configuration will take effect immediately."}),K=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.security.sourceRestrictionsSuccess.message",{defaultMessage:"Successfully updated source restrictions."}),W=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.publicKey.label",{defaultMessage:"Public Key"}),$=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.consumerKey.label",{defaultMessage:"Consumer Key"}),J=(k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.baseUri.label",{defaultMessage:"Base URI"}),k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.baseUrl.label",{defaultMessage:"Base URL"}),k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.externalConnectorUrl.label",{defaultMessage:"Connector URL"})),Z=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.externalConnectorApiKey.label",{defaultMessage:"Connector API key"}),X=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.clientId.label",{defaultMessage:"Client id"}),ee=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.clientSecret.label",{defaultMessage:"Client secret"}),te=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.confidential.label",{defaultMessage:"Confidential"}),ae=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.confidential.text",{defaultMessage:"Deselect for environments in which the client secret cannot be kept confidential, such as native mobile apps and single page applications."}),se=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.credentials.title",{defaultMessage:"Credentials"}),re=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.credentials.description",{defaultMessage:"Use the following credentials within your client to request access tokens from our authentication server."}),ne=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.settings.orgUpdated.message",{defaultMessage:"Successfully updated organization."}),ce=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.settings.oauthAppUpdated.message",{defaultMessage:"Successfully updated application."}),oe=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.saveChanges.button",{defaultMessage:"Save changes"}),ie=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.saveSettings.button",{defaultMessage:"Save settings"}),le=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.keepEditing.button",{defaultMessage:"Keep editing"}),ue=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.name.label",{defaultMessage:"Name"}),pe=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.oauth.description",{defaultMessage:"Create an OAuth client for your organization."}),de=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.oauthPersisted.description",{defaultMessage:"Access your organization's OAuth client credentials and manage OAuth settings."}),je=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.redirectURIs.label",{defaultMessage:"Redirect URIs"}),ge=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.redirectHelp.text",{defaultMessage:"Provide one URI per line."}),xe=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.redirectNativeHelp.text",{defaultMessage:"For local development URIs, use format"}),be=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.redirectSecureError.text",{defaultMessage:"Cannot contain duplicate redirect URIs."}),Se=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.redirectInsecureError.text",{defaultMessage:"Using an insecure redirect URI (http) is not recommended."}),he=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.nonPlatinumOauthTitle",{defaultMessage:"Configuring OAuth for Custom Search Applications"}),Oe=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.nonPlatinumOauthDescription",{defaultMessage:"Configure an OAuth application for secure use of the Workplace Search Search API. Upgrade to a Platinum license to enable the Search API and create your OAuth application."}),me=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.explorePlatinumFeatures.link",{defaultMessage:"Explore Platinum features"}),ye=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.customize.header.title",{defaultMessage:"Customize Workplace Search"}),ke=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.customize.header.description",{defaultMessage:"Personalize general organization settings."}),fe=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.customize.name.label",{defaultMessage:"Organization name"}),Me=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.customize.name.button",{defaultMessage:"Save organization name"}),Ee=f.B,we=f.z,ve=f.e,Te=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.reset.button",{defaultMessage:"Reset"}),Ce=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.configure.button",{defaultMessage:"Configure"}),Ie=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.ok.button",{defaultMessage:"Ok"}),Ne=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.privatePlatinumCallout.text",{defaultMessage:"Private Sources require a Platinum license."}),Le=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.source.text",{defaultMessage:"Source"}),Fe=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.privateSource.text",{defaultMessage:"Private Source"}),ze=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.privateSources.text",{defaultMessage:"Private Sources"}),Ae=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.private.canCreate.title",{defaultMessage:"Manage private content sources"}),De=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.private.vewOnly.title",{defaultMessage:"Review Group Sources"}),_e=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.private.vewOnly.description",{defaultMessage:"Review the status of all sources shared with your Group."}),Re=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.private.canCreate.description",{defaultMessage:"Review the status of all connected private sources, and manage private sources for your account."}),Ue=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.accountSettings.title",{defaultMessage:"Account Settings"}),Pe=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.accountSettings.description",{defaultMessage:"Manage access, passwords, and other account settings."}),Ge=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.confirmChanges.text",{defaultMessage:"Confirm changes"}),Be=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.connectors.header.title",{defaultMessage:"Content source connectors"}),Ve=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.connectors.header.description",{defaultMessage:"All of your configurable connectors."}),He=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.url.label",{defaultMessage:"URL"}),Ye=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.field.label",{defaultMessage:"Field"}),Qe=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.label.label",{defaultMessage:"Label"}),qe=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.description.label",{defaultMessage:"Description"}),Ke=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.blockLabel",{defaultMessage:"Block"}),We=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.betweenLabel",{defaultMessage:"between"}),$e=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.onLabel",{defaultMessage:"on"}),Je=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.and",{defaultMessage:"and"}),Ze=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.update.label",{defaultMessage:"Update"}),Xe=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.add.label",{defaultMessage:"Add"}),et=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.addField.label",{defaultMessage:"Add field"}),tt=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.editField.label",{defaultMessage:"Edit field"}),at=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.removeField.label",{defaultMessage:"Remove field"}),st=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.recentActivity.title",{defaultMessage:"Recent activity"}),rt=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.comfirmModal.title",{defaultMessage:"Please confirm"}),nt=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.remove.button",{defaultMessage:"Remove"}),ct=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.copyText",{defaultMessage:"Copy"}),ot=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.statusPopoverTooltip",{defaultMessage:"Click to view info"}),it=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.documentsHeader",{defaultMessage:"Documents"}),lt=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.searchableHeader",{defaultMessage:"Searchable"}),ut=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.platinumFeature",{defaultMessage:"Platinum feature"}),pt=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.copy.tooltip",{defaultMessage:"Copy to clipboard"}),dt=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.copied.tooltip",{defaultMessage:"Copied!"}),jt="/setup_guide",gt="/p",xt=`${gt}/oauth/authorize`,bt=`${gt}/authorize_search`,St="/users_and_roles",ht="/api_keys",Ot="/security",mt="/groups",yt=`${mt}/:groupId`,kt=`${mt}/:groupId/source_prioritization`,ft="/sources",Mt=`${gt}${ft}`,Et=`${ft}/added`,wt=`${ft}/add`,vt=`${ft}/add/custom`,Tt=`${gt}/settings`,Ct=`${ft}/:sourceId`,It=`${ft}/:sourceId/content`,Nt=`${ft}/:sourceId/schemas`,Lt=`${ft}/:sourceId/display_settings`,Ft=`${ft}/:sourceId/synchronization`,zt=`${ft}/:sourceId/settings`,At=`${Nt}/:activeReindexJobId`,Dt=`${Lt}/`,_t=`${Lt}/result_detail`,Rt=`${Ft}/frequency`,Ut=`${Ft}/frequency/blocked_windows`,Pt=`${Ft}/objects_and_assets`,Gt=`${Ft}/assets_and_objects`,Bt="/settings",Vt=`${Bt}/customize`,Ht=`${Bt}/connectors`,Yt=`${Bt}/oauth`,Qt=(e,t,a)=>Object(n.generatePath)(a?e:`${gt}${e}`,{sourceId:t}),qt=e=>Object(n.generatePath)(yt,{groupId:e}),Kt=(e,t)=>t?e:`${gt}${e}`,Wt=(e,t,a)=>Kt(Object(n.generatePath)(At,{sourceId:e,activeReindexJobId:t}),a),$t=(e,t)=>`${ft}/add/${t?`${t}/${e}`:`${e}`}`,Jt=e=>`${Ht}/${e}/edit`;var Zt=a(43);const Xt=Object(c.kea)({path:["enterprise_search","workplace_search","source_logic"],actions:{setContentSource:e=>e,onUpdateSourceName:e=>e,onUpdateSummary:e=>e,setSearchResults:e=>e,setContentFilterValue:e=>e,setActivePage:e=>e,initializeSource:e=>({sourceId:e}),initializeFederatedSummary:e=>({sourceId:e}),initializeSourceSynchronization:e=>({sourceId:e}),searchContentSourceDocuments:e=>({sourceId:e}),updateContentSource:(e,t)=>({sourceId:e,source:t}),updateContentSourceConfiguration:(e,t)=>({sourceId:e,source:t}),removeContentSource:e=>({sourceId:e}),resetSourceState:()=>!0,setButtonNotLoading:()=>!1,setStagedPrivateKey:e=>e,setConfigurationUpdateButtonNotLoading:()=>!1,showDiagnosticDownloadButton:!0},reducers:{contentSource:[{},{setContentSource:(e,t)=>t,onUpdateSourceName:(e,t)=>({...e,name:t}),onUpdateSummary:(e,t)=>({...e,summary:t}),resetSourceState:()=>({})}],dataLoading:[!0,{setContentSource:()=>!1,resetSourceState:()=>!0,removeContentSource:()=>!0}],buttonLoading:[!1,{setButtonNotLoading:()=>!1,resetSourceState:()=>!1}],sectionLoading:[!0,{searchContentSourceDocuments:()=>!0,setSearchResults:()=>!1}],diagnosticDownloadButtonVisible:[!1,{showDiagnosticDownloadButton:()=>!0,initializeSource:()=>!1}],contentItems:[[],{setSearchResults:(e,{results:t})=>t}],contentMeta:[f.k,{setActivePage:(e,t)=>ea(e,t),setContentFilterValue:e=>ea(e,f.k.page.current),setSearchResults:(e,{meta:t})=>t}],contentFilterValue:["",{setContentFilterValue:(e,t)=>t,resetSourceState:()=>""}],stagedPrivateKey:[null,{setStagedPrivateKey:(e,t)=>t,setContentSource:()=>null}],isConfigurationUpdateButtonLoading:[!1,{updateContentSourceConfiguration:()=>!0,setConfigurationUpdateButtonNotLoading:()=>!1}]},listeners:({actions:e,values:t})=>({initializeSource:async({sourceId:t})=>{const{isOrganization:a}=x.values,s=a?`/internal/workplace_search/org/sources/${t}`:`/internal/workplace_search/account/sources/${t}`;try{const a=await l.a.values.http.get(s);e.setContentSource(a),a.isFederatedSource&&e.initializeFederatedSummary(t),a.errors?(Object(Zt.i)(a.errors),ta(a.errors)&&e.showDiagnosticDownloadButton()):Object(Zt.d)()}catch(e){var r;if(404===(null==e||null===(r=e.response)||void 0===r?void 0:r.status)){const e=a?ft:Mt;u.a.values.navigateToUrl(e),Object(Zt.i)(k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.notFoundErrorMessage",{defaultMessage:"Source not found."}))}else Object(Zt.e)(e)}},initializeFederatedSummary:async({sourceId:t})=>{const a=`/internal/workplace_search/account/sources/${t}/federated_summary`;try{const t=await l.a.values.http.get(a);e.onUpdateSummary(t.summary)}catch(e){Object(Zt.e)(e)}},searchContentSourceDocuments:async({sourceId:a},s)=>{await s(300);const{isOrganization:r}=x.values,n=r?`/internal/workplace_search/org/sources/${a}/documents`:`/internal/workplace_search/account/sources/${a}/documents`,{contentFilterValue:c,contentMeta:{page:o}}=t;try{const t=await l.a.values.http.post(n,{body:JSON.stringify({query:c,page:o})});e.setSearchResults(t)}catch(e){Object(Zt.e)(e)}},updateContentSource:async({sourceId:t,source:a})=>{const{isOrganization:s}=x.values,r=s?`/internal/workplace_search/org/sources/${t}/settings`:`/internal/workplace_search/account/sources/${t}/settings`;try{const t=await l.a.values.http.patch(r,{body:JSON.stringify({content_source:a})});a.name&&e.onUpdateSourceName(t.name)}catch(e){Object(Zt.e)(e)}},updateContentSourceConfiguration:async({sourceId:t,source:a})=>{const{isOrganization:s}=x.values,r=s?`/internal/workplace_search/org/sources/${t}/settings`:`/internal/workplace_search/account/sources/${t}/settings`;try{const t=await l.a.values.http.patch(r,{body:JSON.stringify({content_source:a})});e.setContentSource(t),Object(Zt.g)("Content source configuration was updated.")}catch(e){Object(Zt.e)(e)}finally{e.setConfigurationUpdateButtonNotLoading()}},removeContentSource:async({sourceId:t})=>{Object(Zt.d)();const{isOrganization:a}=x.values,s=a?`/internal/workplace_search/org/sources/${t}`:`/internal/workplace_search/account/sources/${t}`;try{const e=await l.a.values.http.delete(s);u.a.values.navigateToUrl(Kt(ft,a)),Object(Zt.g)(k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.flashMessages.contentSourceRemoved",{defaultMessage:"Successfully deleted {sourceName}.",values:{sourceName:e.name}}))}catch(e){Object(Zt.e)(e)}finally{e.setButtonNotLoading()}},initializeSourceSynchronization:async({sourceId:t})=>{const a=`/internal/workplace_search/org/sources/${t}/sync`;try{await l.a.values.http.post(a),e.initializeSource(t)}catch(e){Object(Zt.e)(e)}},onUpdateSourceName:e=>{Object(Zt.g)(k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.flashMessages.contentSourceNameChanged",{defaultMessage:"Successfully changed name to {sourceName}.",values:{sourceName:e}}))},resetSourceState:()=>{Object(Zt.d)()}})}),ea=(e,t)=>({...e,page:{...e.page,current:t}}),ta=e=>e.find((e=>e.includes("Check diagnostic bundle for details")));var aa=a(12);const sa=()=>{const{isOrganization:e}=Object(c.useValues)(x),t=(()=>{const{contentSource:{id:e,isSyncConfigEnabled:t}}=Object(c.useValues)(Xt);if(e&&t)return[{id:"sourceSynchronizationFrequency",name:E.SYNCHRONIZATION_FREQUENCY,...Object(m.b)({to:Qt(Rt,e,!0),shouldShowActiveForSubroutes:!0})},{id:"sourceSynchronizationAssetsAndObjects",name:E.SYNCHRONIZATION_ASSETS_AND_OBJECTS,...Object(m.b)({to:Qt(Gt,e,!0)})}]})(),{contentSource:{id:a,serviceType:s,isIndexedSource:r,name:n}}=Object(c.useValues)(Xt);if(!a)return;const o=s===D,i=r&&e&&!o,l=[{id:"sourceName",name:Object(aa.jsx)("strong",null,n)},{id:"sourceOverview",name:E.OVERVIEW,...Object(m.b)({to:Qt(Ct,a,e)})},{id:"sourceContent",name:E.CONTENT,...Object(m.b)({to:Qt(It,a,e)})}];return i&&l.push({id:"sourceSynchronization",name:E.SYNCHRONIZATION,...Object(m.b)({to:Qt(Ft,a,e)}),items:t}),o&&(l.push({id:"sourceSchema",name:E.SCHEMA,...Object(m.b)({to:Qt(Nt,a,e),shouldShowActiveForSubroutes:!0})}),l.push({id:"sourceDisplaySettings",name:E.DISPLAY_SETTINGS,...Object(m.b)({to:Qt(Lt,a,e),shouldShowActiveForSubroutes:!0})})),l.push({id:"sourceSettings",name:E.SETTINGS,...Object(m.b)({to:Qt(zt,a,e)})}),l};var ra=a(16);const na=Object(c.kea)({path:["enterprise_search","workplace_search","group"],actions:{onInitializeGroup:e=>e,onGroupNameChanged:e=>e,onGroupPrioritiesChanged:e=>e,onGroupNameInputChange:e=>e,addGroupSource:e=>e,removeGroupSource:e=>e,onGroupSourcesSaved:e=>e,setGroupModalErrors:e=>e,hideOrgSourcesModal:e=>e,selectAllSources:e=>e,updatePriority:(e,t)=>({id:e,boost:t}),resetGroup:()=>!0,showConfirmDeleteModal:()=>!0,hideConfirmDeleteModal:()=>!0,showOrgSourcesModal:()=>!0,resetFlashMessages:()=>!0,initializeGroup:e=>({groupId:e}),deleteGroup:()=>!0,updateGroupName:()=>!0,saveGroupSources:()=>!0,saveGroupSourcePrioritization:()=>!0},reducers:{group:[{},{onInitializeGroup:(e,t)=>t,onGroupNameChanged:(e,t)=>t,onGroupSourcesSaved:(e,t)=>t,resetGroup:()=>({})}],dataLoading:[!0,{onInitializeGroup:()=>!1,onGroupPrioritiesChanged:()=>!1,resetGroup:()=>!0}],managerModalFormErrors:[[],{setGroupModalErrors:(e,t)=>t}],orgSourcesModalVisible:[!1,{showOrgSourcesModal:()=>!0,hideOrgSourcesModal:()=>!1,onGroupSourcesSaved:()=>!1}],confirmDeleteModalVisible:[!1,{showConfirmDeleteModal:()=>!0,hideConfirmDeleteModal:()=>!1,deleteGroup:()=>!1}],groupNameInputValue:["",{onInitializeGroup:(e,{name:t})=>t,onGroupNameChanged:(e,{name:t})=>t,onGroupNameInputChange:(e,t)=>t}],selectedGroupSources:[[],{onInitializeGroup:(e,{contentSources:t})=>t.map((({id:e})=>e)),onGroupSourcesSaved:(e,{contentSources:t})=>t.map((({id:e})=>e)),selectAllSources:(e,t)=>t.map((({id:e})=>e)),hideOrgSourcesModal:(e,{contentSources:t})=>t.map((({id:e})=>e)),addGroupSource:(e,t)=>[...e,t].sort(),removeGroupSource:(e,t)=>e.filter((e=>e!==t))}],cachedSourcePriorities:[{},{onInitializeGroup:(e,{contentSources:t})=>ca(t),onGroupPrioritiesChanged:(e,{contentSources:t})=>ca(t),onGroupSourcesSaved:(e,{contentSources:t})=>ca(t)}],activeSourcePriorities:[{},{onInitializeGroup:(e,{contentSources:t})=>ca(t),onGroupPrioritiesChanged:(e,{contentSources:t})=>ca(t),onGroupSourcesSaved:(e,{contentSources:t})=>ca(t),updatePriority:(e,{id:t,boost:a})=>{const s={...e};return s[t]=a,s}}]},selectors:({selectors:e})=>({groupPrioritiesUnchanged:[()=>[e.cachedSourcePriorities,e.activeSourcePriorities],(e,t)=>Object(ra.isEqual)(e,t)]}),listeners:({actions:e,values:t})=>({initializeGroup:async({groupId:t})=>{try{const a=await l.a.values.http.get(`/internal/workplace_search/groups/${t}`);e.onInitializeGroup(a)}catch(e){var a;const s=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.groups.groupNotFound",{defaultMessage:'Unable to find group with ID: "{groupId}".',values:{groupId:t}}),r=404===(null===(a=e.response)||void 0===a?void 0:a.status)?s:e;Object(Zt.j)(r),u.a.values.navigateToUrl(mt)}},deleteGroup:async()=>{const{group:{id:e,name:a}}=t;try{await l.a.values.http.delete(`/internal/workplace_search/groups/${e}`);const t=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.groups.groupDeleted",{defaultMessage:'Group "{groupName}" was successfully deleted.',values:{groupName:a}});Object(Zt.g)(t),u.a.values.navigateToUrl(mt)}catch(e){Object(Zt.e)(e)}},updateGroupName:async()=>{const{group:{id:a},groupNameInputValue:s}=t;try{const t=await l.a.values.http.put(`/internal/workplace_search/groups/${a}`,{body:JSON.stringify({group:{name:s}})});e.onGroupNameChanged(t);const r=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.groups.groupRenamed",{defaultMessage:'Successfully renamed this group to "{groupName}".',values:{groupName:t.name}});Object(Zt.g)(r)}catch(e){Object(Zt.e)(e)}},saveGroupSources:async()=>{const{group:{id:a},selectedGroupSources:s}=t;try{const t=await l.a.values.http.post(`/internal/workplace_search/groups/${a}/share`,{body:JSON.stringify({content_source_ids:s})});e.onGroupSourcesSaved(t);const r=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.groups.groupSourcesUpdated",{defaultMessage:"Successfully updated organizational content sources."});Object(Zt.g)(r)}catch(e){Object(Zt.e)(e)}},saveGroupSourcePrioritization:async()=>{const{group:{id:a},activeSourcePriorities:s}=t,r=[];Object.keys(s).forEach((e=>r.push([e,Number(s[e])])));try{const t=await l.a.values.http.put(`/internal/workplace_search/groups/${a}/boosts`,{body:JSON.stringify({content_source_boosts:r})}),s=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.groups.groupPrioritizationUpdated",{defaultMessage:"Successfully updated organizational source prioritization."});Object(Zt.g)(s),e.onGroupPrioritiesChanged(t)}catch(e){Object(Zt.e)(e)}},showConfirmDeleteModal:()=>{Object(Zt.d)()},showOrgSourcesModal:()=>{Object(Zt.d)()},resetFlashMessages:()=>{Object(Zt.d)()}})}),ca=e=>{const t={};return e.forEach((({id:e,boost:a})=>{t[e]=a})),t},oa=()=>{const{group:{id:e}}=Object(c.useValues)(na);var t;if(e)return[{id:"groupOverview",name:E.GROUP_OVERVIEW,...Object(m.b)({to:qt(e)})},{id:"groupSourcePrioritization",name:E.SOURCE_PRIORITIZATION,...Object(m.b)({to:(t=e,`${mt}/${t}/source_prioritization`)})}]},ia=()=>{if(Object(n.useRouteMatch)(Bt))return[{id:"settingsCustomize",name:E.SETTINGS_CUSTOMIZE,...Object(m.b)({to:Vt})},{id:"settingsConnectors",name:E.SETTINGS_SOURCE_PRIORITIZATION,...Object(m.b)({to:Ht,shouldShowActiveForSubroutes:!0})},{id:"settingsOAuth",name:E.SETTINGS_OAUTH,...Object(m.b)({to:Yt})}]},la=({children:e,pageChrome:t,pageViewTelemetry:a,...s})=>Object(aa.jsx)(m.a,S()({restrictWidth:!0},s,{solutionNav:{name:h.B.NAME,items:[{id:"",name:"",items:[{id:"root",name:E.OVERVIEW,...Object(m.b)({to:""})},{id:"sources",name:E.SOURCES,...Object(m.b)({to:ft,shouldShowActiveForSubroutes:!0,items:sa()})},{id:"groups",name:E.GROUPS,...Object(m.b)({to:mt}),items:oa()},{id:"usersRoles",name:E.ROLE_MAPPINGS,...Object(m.b)({to:St})},{id:"apiKeys",name:E.API_KEYS,...Object(m.b)({to:ht})},{id:"security",name:E.SECURITY,...Object(m.b)({to:Ot})},{id:"settings",name:E.SETTINGS,...Object(m.b)({to:Bt}),items:ia()}]}]},setPageChrome:t&&Object(aa.jsx)(O.j,{trail:t}),useEndpointHeaderActions:!1}),a&&Object(aa.jsx)(y.c,{action:"viewed",metric:a}),e);var ua=a(13),pa=a(85),da=a(141),ja=a(44);const ga=()=>pa.a.enterpriseSearchUrl?Object(aa.jsx)(da.a,null,Object(aa.jsx)(ua.EuiFlexGroup,{gutterSize:"s"},Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ja.a,{"data-test-subj":"PersonalDashboardButton",iconType:"user",to:Mt,size:"s"},E.PERSONAL_DASHBOARD)),Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiButtonEmpty,{"data-test-subj":"HeaderSearchButton",href:Object(pa.d)("/search"),target:"_blank",iconType:"search",size:"s"},E.SEARCH)))):null,xa=()=>{const[e,t]=Object(s.useState)(!1),{account:{isAdmin:a}}=Object(c.useValues)(x),r=[Object(aa.jsx)(ua.EuiContextMenuItem,{key:"accountSettings"},Object(aa.jsx)(ja.a,{to:Tt},w.SETTINGS)),Object(aa.jsx)(ua.EuiContextMenuItem,{key:"logout"},Object(aa.jsx)(ja.a,{to:"/logout",shouldNotCreateHref:!0},w.LOGOUT))],n=Object(aa.jsx)(ua.EuiButtonEmpty,{size:"s","data-test-subj":"AccountButton",iconType:"arrowDown",iconSide:"right",onClick:()=>{t(!e)}},w.ACCOUNT);return Object(aa.jsx)(ua.EuiHeader,null,Object(aa.jsx)(ua.EuiHeaderSection,{grow:!1},Object(aa.jsx)(ua.EuiHeaderSectionItem,null,Object(aa.jsx)(ua.EuiHeaderLogo,{iconType:"logoWorkplaceSearch"}),Object(aa.jsx)(ua.EuiText,{role:"banner"},M)),Object(aa.jsx)(ua.EuiHeaderSectionItem,null,Object(aa.jsx)(ua.EuiHeaderLinks,null,Object(aa.jsx)(ja.a,{to:Mt},w.SOURCES)))),Object(aa.jsx)(ua.EuiHeaderSection,{grow:!1,side:"right"},Object(aa.jsx)(ua.EuiHeaderLinks,null,a&&Object(aa.jsx)(ja.a,{to:"/"},w.ORG_DASHBOARD),Object(aa.jsx)(ua.EuiPopover,{id:"accountSubNav",button:n,isOpen:e,closePopover:()=>{t(!1)},panelPaddingSize:"none",anchorPosition:"downLeft"},Object(aa.jsx)(ua.EuiContextMenuPanel,{size:"s",items:r})),Object(aa.jsx)(ua.EuiButton,{href:Object(pa.d)("/search"),target:"_blank",iconType:"search"},w.SEARCH))))};var ba=a(64);const Sa=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.noContent.title",{defaultMessage:"No content yet"}),ha=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.contentSummary.title",{defaultMessage:"Content summary"}),Oa=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.contentSummaryLoading.text",{defaultMessage:"Loading summary details..."}),ma=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.contentType.header",{defaultMessage:"Content type"}),ya=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.items.header",{defaultMessage:"Items"}),ka=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.event.header",{defaultMessage:"Event"}),fa=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.status.header",{defaultMessage:"Status"}),Ma=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.time.header",{defaultMessage:"Time"}),Ea=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.totalDocuments.label",{defaultMessage:"Total documents"}),wa=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.emptyActivity.title",{defaultMessage:"There is no recent activity"}),va=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.groupAccess.title",{defaultMessage:"Group access"}),Ta=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.configuration.title",{defaultMessage:"Configuration"}),Ca=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.documentPermissions.title",{defaultMessage:"Document-level permissions"}),Ia=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.documentPermissions.text",{defaultMessage:"Using document-level permissions"}),Na=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.documentPermissionsDisabled.text",{defaultMessage:"Disabled for this source"}),La=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.learnMore.link",{defaultMessage:"Learn more"}),Fa=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.status.heading",{defaultMessage:"Everything looks good"}),za=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.status.text",{defaultMessage:"Your endpoints are ready to accept requests."}),Aa=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.additionalConfig.heading",{defaultMessage:"Requires additional configuration"}),Da=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.externalIdentities.link",{defaultMessage:"External Identities API"}),_a=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.id.label",{defaultMessage:"Source Identifier"}),Ra=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.learnCustom.features.button",{defaultMessage:"Learn about Platinum features"}),Ua=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.docPermissions.description",{defaultMessage:"Document-level permissions manage content access on individual or group attributes. Allow or deny access to specific documents."}),Pa=(k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.customCallout.title",{defaultMessage:"Getting started with custom sources?"}),k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.noContentEmpty.message",{defaultMessage:"This source doesn't have any content yet"})),Ga=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.customSourceDocs.link",{defaultMessage:"documentation"}),Ba=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSources.displaySettings.title.heading",{defaultMessage:"Title"}),Va=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSources.displaySettings.lastUpdated.heading",{defaultMessage:"Last updated"}),Ha=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSources.displaySettings.go.button",{defaultMessage:"Go"}),Ya=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSources.displaySettings.reset.button",{defaultMessage:"Reset"}),Qa=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.sourceContent.title",{defaultMessage:"Source content"}),qa=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.sourceContent.searchBar.search.placeholder",{defaultMessage:"Search content..."}),Ka=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.sourceContent.searchBar.filter.placeholder",{defaultMessage:"Filter content..."}),Wa=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.contentLoading.text",{defaultMessage:"Loading content..."}),$a=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.remoteSource.label",{defaultMessage:"Remote source"}),Ja=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.created.label",{defaultMessage:"Created: "}),Za=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.status.label",{defaultMessage:"Status: "}),Xa=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.ready.text",{defaultMessage:"Ready to search"}),es=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.settings.heading",{defaultMessage:"Settings"}),ts=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.settings.title",{defaultMessage:"Content source name"}),as=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.settings.description",{defaultMessage:"Customize the name of this content source."}),ss=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.config.title",{defaultMessage:"Content source configuration"}),rs=(k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSources.syncManagementSynchronizeLabel",{defaultMessage:"Synchronize this source"}),k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSources.syncManagementThumbnailsLabel",{defaultMessage:"Sync thumbnails"})),ns=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSources.syncManagementGlobalConfigLabel",{defaultMessage:"Sync thumbnails - disabled at global configuration level"}),cs=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSources.syncManagementContentExtractionLabel",{defaultMessage:"Sync full-text from files"}),os=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.config.link",{defaultMessage:"Edit connector settings"}),is=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.remove.title",{defaultMessage:"Remove this content source"}),ls=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.remove.description",{defaultMessage:"This action cannot be undone."}),us=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.syncDiagnosticsTitle",{defaultMessage:"Sync Diagnostics"}),ps=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.syncDiagnosticsDescription",{defaultMessage:"Retrieve relevant diagnostics data for troubleshooting active synchronization processes."}),ds=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.syncDiagnosticsButton",{defaultMessage:"Download diagnostics data"}),js=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.downloadDiagnosticButton",{defaultMessage:"Download diagnostic bundle"}),gs=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.sourceName.label",{defaultMessage:"Source name"}),xs=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.org.link",{defaultMessage:"Add an organization content source"}),bs=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.org.title",{defaultMessage:"Organization sources"}),Ss=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.org.description",{defaultMessage:"Organization sources are available to the entire organization and can be assigned to specific user groups."}),hs=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.private.link",{defaultMessage:"Add a private content source"}),Os=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.private.header.title",{defaultMessage:"My private content sources"}),ms=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.private.header.description",{defaultMessage:"Private content sources are available only to you."}),ys=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.private.privateOrg.header.title",{defaultMessage:"Organizational content sources"}),ks=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.private.empty.title",{defaultMessage:"You have no private sources"}),fs=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.org.empty.title",{defaultMessage:"No content source available"}),Ms=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.org.empty.description",{defaultMessage:"Once content sources are shared with you, they will be displayed here, and available via the search experience."}),Es=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.licenseCallout.title",{defaultMessage:"Private Sources are no longer available"}),ws=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.licenseCallout.description",{defaultMessage:"Contact your search experience administrator for more information."}),vs=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.sourceDisabled.title",{defaultMessage:"Content source is disabled"}),Ts=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.sourceDisabled.description",{defaultMessage:"Your organization’s license level has changed. Your data is safe, but document-level permissions are no longer supported and searching of this source has been disabled. Upgrade to a Platinum license to re-enable this source."}),Cs=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.sourceDisabled.button",{defaultMessage:"Explore Platinum license"}),Is=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.documentPermissionsLink",{defaultMessage:"Learn more about document-level permission configuration"}),Ns=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.understandButton",{defaultMessage:"I understand"}),Ls=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.personalDashboard.readOnlyMode.warning",{defaultMessage:"Workplace Search is currently available for search only, due to regular maintenance. Contact your system administrator for more information."}),Fs=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.sourceOverviewTitle",{defaultMessage:"Source overview"}),zs=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.sourceSynchronizationDescription",{defaultMessage:"Enable or disable synchronization of data from this content source to Workplace Search."}),As=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.sourceFrequencyDescription",{defaultMessage:"Manage the frequency of data synchronization from Workplace search to this content source. Sync more frequently to ensure your data is up to date. Sync less frequently to reduce the burden on third party servers."}),Ds=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.sourceAssetsAndObjectsDescription",{defaultMessage:"Flexibly manage the documents to be synchronized and made available for search using granular controls below."}),_s=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.sourceAssetsAndObjectsLearnMoreLink",{defaultMessage:"Learn more about sync objects types."}),Rs=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.sourceAssetsAndObjectsAssetsLabel",{defaultMessage:"Assets"}),Us=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.sourceAssetsAndObjectsObjectsLabel",{defaultMessage:"Objects"}),Ps=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.sourceSynchronizationToggleLabel",{defaultMessage:"Synchronize this source"}),Gs=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.sourceSynchronizationToggleDescription",{defaultMessage:"Source content will automatically be kept in sync."}),Bs=(k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.sourceSynchronizationFrequencyTitle",{defaultMessage:"Synchronization frequency"}),k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.sourceSynchronizationTitle",{defaultMessage:"Synchronization"})),Vs=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.sourceSynchronizationButtonLabel",{defaultMessage:"Synchronize content"}),Hs=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.sourceSyncFrequencyLinkLabel",{defaultMessage:"sync frequency"}),Ys=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.sourceBlockedTimeWindowsLinkLabel",{defaultMessage:"blocked time windows"}),Qs=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.sourceSyncConfirmTitle",{defaultMessage:"Start new content sync?"}),qs=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.sourceSyncConfirmMessage",{defaultMessage:"Are you sure you would like to continue with this request and stop all other syncs?"}),Ks=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.sourceSyncFrequencyTitle",{defaultMessage:"Sync frequency"}),Ws=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.blockedWindowsTitle",{defaultMessage:"Blocked time windows"}),$s=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.synchronizationDisabledTitle",{defaultMessage:"Source synchronization is disabled."}),Js=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.synchronizationDisabledDescription",{defaultMessage:"Contact your administrator to enable synchronization controls."}),Zs=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.fullSyncLabel",{defaultMessage:"Full sync"}),Xs=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.fullSyncDescription",{defaultMessage:"Retrieves all the documents possible from the content source"}),er=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.incrementalSyncLabel",{defaultMessage:"Incremental sync"}),tr=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.incrementalSyncDescription",{defaultMessage:"Retrieves documents/updates since the last sync job"}),ar=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.deletionSyncLabel",{defaultMessage:"Deletion sync"}),sr=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.deletionSyncDescription",{defaultMessage:"Removes documents that no longer exist in the content source"}),rr=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.permissionsSyncLabel",{defaultMessage:"Permissions sync"}),nr=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.permissionsSyncDescription",{defaultMessage:"Retrieves all permission changes since the last sync job"}),cr=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.blockedEmptyStateTitle",{defaultMessage:"You have no blocked time windows"}),or=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.blockedEmptyStateDescription",{defaultMessage:"Add a blocked time window to only perform syncs at the right time."}),ir=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.syncSettingsUpdatedMessage",{defaultMessage:"Source synchronization settings updated."}),lr=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.syncUnsavedChangesMessage",{defaultMessage:"Your changes have not been saved. Are you sure you want to leave?"}),ur=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.nextSyncRunningMessage",{defaultMessage:"as soon as the currently running job finishes"}),pr=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.utcTitle",{defaultMessage:"All times are in UTC"});a(934);const dr=({children:e,isLoading:t,pageChrome:a})=>{const{readOnlyMode:s}=Object(c.useValues)(l.a);return Object(aa.jsx)(r.a.Fragment,null,a&&Object(aa.jsx)(O.j,{trail:a}),Object(aa.jsx)(xa,null),Object(aa.jsx)(ua.EuiPageTemplate,{className:"personalDashboardLayout",paddingSize:"none"},Object(aa.jsx)(ua.EuiPageSidebar,{role:"navigation",className:"personalDashboardLayout__sideBar",sticky:!0,minWidth:"480px"},Object(n.useRouteMatch)(Mt)&&Object(aa.jsx)(gr,null),Object(n.useRouteMatch)(Tt)&&Object(aa.jsx)(xr,null)),Object(aa.jsx)(ua.EuiPageBody,{component:"main",panelled:!0,role:"main"},Object(aa.jsx)(ua.EuiPageSection,{className:"personalDashboardLayout__body",paddingSize:"none",restrictWidth:!0},s&&Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiCallOut,{color:"warning",iconType:"lock",title:Ls}),Object(aa.jsx)(ua.EuiSpacer,null)),Object(aa.jsx)(Zt.a,null),t?Object(aa.jsx)(ba.a,null):e))))},jr=({title:e,titleSize:t="m",headingLevel:a=2,description:s,action:n,alignItems:c="center"})=>{let o;switch(a){case 1:o=Object(aa.jsx)("h1",null,e);break;case 2:o=Object(aa.jsx)("h2",null,e);break;default:o=Object(aa.jsx)("h3",null,e)}return Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiFlexGroup,{alignItems:c,justifyContent:"spaceBetween"},Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiTitle,{size:t},o),Object(aa.jsx)(ua.EuiSpacer,{size:"s"}),s&&Object(aa.jsx)(ua.EuiText,{grow:!1,color:"subdued"},Object(aa.jsx)("p",null,s))),n&&Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},n)),Object(aa.jsx)(ua.EuiSpacer,null))},gr=()=>{const{account:{canCreatePrivateSources:e}}=Object(c.useValues)(x),t=e?Ae:De,a=e?Re:_e,{contentSource:{id:s=""}}=Object(c.useValues)(Xt),n=[{id:s,name:"",items:sa()}];return Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(jr,{headingLevel:1,title:t,description:a}),s&&Object(aa.jsx)(ua.EuiSideNav,{items:n,mobileBreakpoints:[]}))},xr=()=>Object(aa.jsx)(jr,{headingLevel:1,title:Ue,description:Pe});var br=a(74);const Sr=()=>{const{security:e}=Object(c.useValues)(br.a),[t,a]=Object(s.useState)(null);Object(s.useEffect)((()=>{e.authc.getCurrentUser().then(a).catch((()=>{a(null)}))}),[e.authc]);const r=Object(s.useMemo)((()=>e.uiApi.components.getPersonalInfo),[e.uiApi]),n=Object(s.useMemo)((()=>e.uiApi.components.getChangePassword),[e.uiApi]);return t?Object(aa.jsx)(dr,{pageChrome:[Ue]},Object(aa.jsx)(r,{user:t}),Object(aa.jsx)(n,{user:t})):null};var hr=a(5),Or=a(73),mr=a(61);const yr=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.apiKeys.createKey.buttonLabel",{defaultMessage:"Create key"}),kr=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.apiKeys.endpointTitle",{defaultMessage:"Endpoint"}),fr=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.apiKeys.nameTitle",{defaultMessage:"Name"}),Mr=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.apiKeys.keyTitle",{defaultMessage:"Key"}),Er=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.apiKeys.copied.tooltip",{defaultMessage:"Copied"}),wr=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.apiKeys.copyApiEndpoint.buttonLabel",{defaultMessage:"Copy API Endpoint to clipboard."}),vr=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.apiKeys.copyApiKey.buttonLabel",{defaultMessage:"Copy API Key to clipboard."}),Tr=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.apiKeys.deleteApiKey.buttonDescription",{defaultMessage:"Delete API key"}),Cr=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.apiKeys.flyoutTitle",{defaultMessage:"Create a new key"}),Ir=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.apiKeys.formLabel",{defaultMessage:"Key name"}),Nr=e=>k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.apiKeys.formHelpText",{defaultMessage:"Your key will be named: {name}",values:{name:e}}),Lr=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.apiKeys.namePlaceholder",{defaultMessage:"i.e., my-api-key"}),Fr=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.apiKeys.showApiKeyLabel",{defaultMessage:"Show API Key"}),zr=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.apiKeys.hideApiKeyLabel",{defaultMessage:"Hide API Key"}),Ar=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.apiKeys.emptyTitle",{defaultMessage:"Create your first API key"}),Dr=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.apiKeys.emptyBody",{defaultMessage:"Allow applications to access Elastic Workplace Search on your behalf."}),_r=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.apiKeys.emptyButtonLabel",{defaultMessage:"Learn about API keys"}),Rr=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.apiKeys.confirmDeleteTitle",{defaultMessage:"Delete API key"}),Ur=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.apiKeys.confirmDeleteLabel",{defaultMessage:"Are you sure you want to delete this API key? This action cannot be undone."}),Pr={name:""},Gr=Object(c.kea)({path:["enterprise_search","workplace_search","api_keys_logic"],actions:()=>({onApiTokenCreateSuccess:e=>e,onApiTokenError:e=>e,setApiKeysData:(e,t)=>({meta:e,apiTokens:t}),setNameInputBlurred:e=>e,setApiKeyName:e=>e,showApiKeyForm:!0,hideApiKeyForm:!1,resetApiKeys:!1,fetchApiKeys:!0,onPaginate:e=>({newPageIndex:e}),deleteApiKey:!0,stageTokenNameForDeletion:e=>e,hideDeleteModal:!0,onApiFormSubmit:()=>null}),reducers:()=>({dataLoading:[!0,{setApiKeysData:()=>!1}],apiTokens:[[],{setApiKeysData:(e,{apiTokens:t})=>t,onApiTokenCreateSuccess:(e,t)=>[...e,t]}],meta:[f.k,{setApiKeysData:(e,{meta:t})=>t,onPaginate:(e,{newPageIndex:t})=>Object(mr.c)(e,t)}],nameInputBlurred:[!1,{setNameInputBlurred:(e,t)=>t}],activeApiToken:[Pr,{onApiTokenCreateSuccess:()=>Pr,hideApiKeyForm:()=>Pr,setApiKeyName:(e,t)=>{return{...e,name:(a=t,a.trim().replace(/[^a-zA-Z0-9]+/g,"-").replace(/^[-]+|[-]+$/g,"").toLowerCase())};var a}}],activeApiTokenRawName:["",{setApiKeyName:(e,t)=>t,hideApiKeyForm:()=>"",onApiTokenCreateSuccess:()=>""}],apiKeyFormVisible:[!1,{showApiKeyForm:()=>!0,hideApiKeyForm:()=>!1,onApiTokenCreateSuccess:()=>!1}],deleteModalVisible:[!1,{stageTokenNameForDeletion:()=>!0,hideDeleteModal:()=>!1}],apiTokenNameToDelete:["",{stageTokenNameForDeletion:(e,t)=>t,hideDeleteModal:()=>""}],formErrors:[[],{onApiTokenError:(e,t)=>t,onApiTokenCreateSuccess:()=>[],showApiKeyForm:()=>[],resetApiKeys:()=>[]}]}),listeners:({actions:e,values:t})=>({showApiKeyForm:()=>{Object(Zt.d)()},fetchApiKeys:async()=>{try{const{http:a}=l.a.values,{meta:s}=t,r={"page[current]":s.page.current,"page[size]":s.page.size},n=await a.get("/internal/workplace_search/api_keys",{query:r});e.setApiKeysData(n.meta,n.results)}catch(e){Object(Zt.e)(e)}},deleteApiKey:async()=>{const{apiTokenNameToDelete:a}=t;try{const{http:t}=l.a.values;await t.delete(`/internal/workplace_search/api_keys/${a}`),e.fetchApiKeys(),Object(Zt.g)((s=a,k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.apiKeys.deletedMessage",{defaultMessage:"API key '{name}' was deleted",values:{name:s}})))}catch(e){Object(Zt.e)(e)}finally{e.hideDeleteModal()}var s},onApiFormSubmit:async()=>{const{name:a}=t.activeApiToken,s={name:a};try{const{http:t}=l.a.values,r=JSON.stringify(s),n=await t.post("/internal/workplace_search/api_keys",{body:r});e.onApiTokenCreateSuccess(n),Object(Zt.g)((e=>k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.apiKeys.createdMessage",{defaultMessage:"API key '{name}' was created",values:{name:e}}))(a))}catch(e){Object(Zt.e)(e)}}})}),Br=()=>{const{setNameInputBlurred:e,setApiKeyName:t,onApiFormSubmit:a,hideApiKeyForm:s}=Object(c.useActions)(Gr),{activeApiToken:{name:r},activeApiTokenRawName:n}=Object(c.useValues)(Gr);return Object(aa.jsx)(ua.EuiPortal,null,Object(aa.jsx)(ua.EuiFlyout,{onClose:s,hideCloseButton:!0,ownFocus:!0,size:"s"},Object(aa.jsx)(ua.EuiFlyoutHeader,{hasBorder:!0},Object(aa.jsx)(ua.EuiTitle,{size:"m"},Object(aa.jsx)("h2",null,Cr))),Object(aa.jsx)(ua.EuiFlyoutBody,null,Object(aa.jsx)(Zt.a,null),Object(aa.jsx)(ua.EuiForm,{onSubmit:e=>{e.preventDefault(),a()},component:"form"},Object(aa.jsx)(ua.EuiFormRow,{label:Ir,helpText:r&&r!==n?Nr(r):"",fullWidth:!0},Object(aa.jsx)(ua.EuiFieldText,{name:"raw_name",id:"raw_name",placeholder:Lr,"data-test-subj":"APIKeyField",value:n,onChange:e=>t(e.target.value),onBlur:()=>e(!0),autoComplete:"off",maxLength:64,required:!0,fullWidth:!0,autoFocus:!0})))),Object(aa.jsx)(ua.EuiFlyoutFooter,null,Object(aa.jsx)(ua.EuiFlexGroup,{justifyContent:"spaceBetween"},Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(ua.EuiButtonEmpty,{iconType:"cross",onClick:s},f.f)),Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(ua.EuiButton,{onClick:a,fill:!0,"data-test-subj":"APIKeyActionButton"},f.z))))))};var Vr=a(333);const Hr=({copy:e,toggleIsHidden:t,isHidden:a,text:s})=>{const n=a?"eye":"eyeClosed",c=a?Fr:zr;return Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiButtonIcon,{onClick:e,iconType:"copyClipboard","aria-label":vr}),Object(aa.jsx)(ua.EuiButtonIcon,{onClick:t,iconType:n,"aria-label":c,"aria-pressed":!a,style:{marginRight:"0.25em"}}),s)},Yr=()=>{const{deleteApiKey:e,onPaginate:t,stageTokenNameForDeletion:a,hideDeleteModal:s}=Object(c.useActions)(Gr),{apiTokens:n,meta:o,dataLoading:i,deleteModalVisible:l}=Object(c.useValues)(Gr),u=Object(aa.jsx)(ua.EuiConfirmModal,{title:Rr,onCancel:s,onConfirm:e,cancelButtonText:f.e,confirmButtonText:f.l,buttonColor:"danger",defaultFocusedButton:"confirm"},Object(aa.jsx)("p",null,Ur)),p=[{name:fr,render:e=>e.name},{name:Mr,className:"eui-textBreakAll",render:e=>{const{key:t}=e;return t?Object(aa.jsx)(ua.EuiCopy,{textToCopy:t,afterMessage:Er},(e=>Object(aa.jsx)(Vr.a,{text:t},(({hiddenText:t,isHidden:a,toggle:s})=>Object(aa.jsx)(Hr,{copy:e,toggleIsHidden:s,isHidden:a,text:t}))))):null},mobileOptions:{width:"100%"}},{actions:[{name:f.l,description:Tr,type:"icon",icon:"trash",color:"danger",onClick:e=>a(e.name)}]}];return Object(aa.jsx)(r.a.Fragment,null,l&&u,Object(aa.jsx)(ua.EuiBasicTable,{columns:p,items:n,loading:i,pagination:{...Object(mr.a)(o),showPerPageOptions:!1},onChange:Object(mr.b)(t)}))},Qr=()=>{const{fetchApiKeys:e,resetApiKeys:t,showApiKeyForm:a}=Object(c.useActions)(Gr),{meta:n,dataLoading:o,apiKeyFormVisible:i,apiTokens:l}=Object(c.useValues)(Gr);Object(s.useEffect)((()=>(e(),t)),[n.page.current]);const u=l.length>0,p=Object(aa.jsx)(ua.EuiButton,{fill:!0,onClick:a},yr),d=Object(aa.jsx)(ua.EuiEmptyPrompt,{iconType:"editorStrike",title:Object(aa.jsx)("h2",null,Ar),body:Dr,actions:Object(aa.jsx)(ua.EuiButton,{size:"s",target:"_blank",iconType:"popout",href:hr.a.workplaceSearchApiKeys},_r)});return Object(aa.jsx)(la,{pageChrome:[E.API_KEYS],pageHeader:{pageTitle:N,rightSideItems:[p]},isLoading:o,emptyState:!u&&d},i&&Object(aa.jsx)(Br,null),Object(aa.jsx)(ua.EuiPanel,{color:"subdued",className:"eui-textCenter"},Object(aa.jsx)(ua.EuiTitle,{size:"s"},Object(aa.jsx)("h2",null,kr)),Object(aa.jsx)(ua.EuiCopy,{textToCopy:Or.a.enterpriseSearchUrl,afterMessage:Er},(e=>Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiButtonIcon,{onClick:e,iconType:"copyClipboard","aria-label":wr}),Or.a.enterpriseSearchUrl)))),Object(aa.jsx)(ua.EuiSpacer,{size:"xxl"}),Object(aa.jsx)(ua.EuiPanel,{hasBorder:!0},u?Object(aa.jsx)(Yr,null):d))};var qr=a(14),Kr=a(939),Wr=a.n(Kr);a(940);const $r=({text:e="Loading..."})=>Object(aa.jsx)("div",{className:"componentLoader"},Object(aa.jsx)(ua.EuiLoadingSpinner,{size:"l"}),Object(aa.jsx)(ua.EuiTextColor,{className:"componentLoaderText",color:"subdued"},e)),Jr=()=>Object(aa.jsx)(ua.EuiBadge,{color:"accent"},ut),Zr=({details:e})=>{const[t,a]=Object(s.useState)(!1),r=e.join("\n"),n=Object(aa.jsx)(ua.EuiButtonIcon,{onClick:()=>a((e=>!e)),color:"text",iconType:"questionInCircle","aria-label":ot});return Object(aa.jsx)(ua.EuiPopover,{button:n,isOpen:t,closePopover:()=>a(!1)},Object(aa.jsx)(ua.EuiCodeBlock,{language:"bash",fontSize:"m",paddingSize:"m",style:{maxWidth:300},isCopyable:!0},r),Object(aa.jsx)(ua.EuiSpacer,{size:"s"}),Object(aa.jsx)(ua.EuiCopy,{textToCopy:r},(e=>Object(aa.jsx)(ua.EuiButton,{size:"s",iconType:"copy",onClick:e},ct))))};let Xr;!function(e){e.SyncFrequency="SyncFrequency",e.SyncedItems="SyncedItems",e.SearchableContent="SearchableContent",e.Remote="Remote",e.Private="Private",e.GlobalAccessPermissions="GlobalAccessPermissions",e.DocumentLevelPermissions="DocumentLevelPermissions"}(Xr||(Xr={}));const en={name:T.CUSTOM_CONNECTOR_PACKAGE,categories:["API","Custom"],serviceType:"external",configuration:{hasOauthRedirect:!1,needsBaseUrl:!1,documentationUrl:hr.a.workplaceSearchCustomConnectorPackage,applicationPortalUrl:""},objTypes:[],features:{basicOrgContext:[Xr.SyncFrequency,Xr.GlobalAccessPermissions],platinumOrgContext:[],platinumPrivateContext:[]},accountContextOnly:!1,isBeta:!0},tn=[{name:T.BOX,serviceType:"box",categories:[I.FILE_SHARING,I.STORAGE,I.CLOUD],configuration:{hasOauthRedirect:!0,needsBaseUrl:!1,documentationUrl:hr.a.workplaceSearchBox,applicationPortalUrl:"https://app.box.com/developers/console"},objTypes:[C.FOLDERS,C.ALL_FILES],features:{basicOrgContext:[Xr.SyncFrequency,Xr.SyncedItems,Xr.GlobalAccessPermissions],basicOrgContextExcludedFeatures:[Xr.DocumentLevelPermissions],platinumOrgContext:[Xr.SyncFrequency,Xr.SyncedItems],platinumPrivateContext:[Xr.Private,Xr.SyncFrequency,Xr.SyncedItems]},accountContextOnly:!1},{name:T.CONFLUENCE,serviceType:"confluence_cloud",categories:[I.WIKI,I.ATLASSIAN,I.INTRANET],configuration:{hasOauthRedirect:!0,needsBaseUrl:!0,documentationUrl:hr.a.workplaceSearchConfluenceCloud,applicationPortalUrl:"https://developer.atlassian.com/console/myapps/"},objTypes:[C.PAGES,C.ATTACHMENTS,C.BLOG_POSTS,C.SPACES],features:{basicOrgContext:[Xr.SyncFrequency,Xr.SyncedItems,Xr.GlobalAccessPermissions],basicOrgContextExcludedFeatures:[Xr.DocumentLevelPermissions],platinumOrgContext:[Xr.SyncFrequency,Xr.SyncedItems],platinumPrivateContext:[Xr.Private,Xr.SyncFrequency,Xr.SyncedItems]},accountContextOnly:!1},{name:T.CONFLUENCE_CONNECTOR_PACKAGE,serviceType:"external",baseServiceType:"confluence_cloud",categories:[I.WIKI,I.ATLASSIAN,I.INTRANET],configuration:{hasOauthRedirect:!0,needsBaseUrl:!0,documentationUrl:hr.a.workplaceSearchConfluenceCloudConnectorPackage,applicationPortalUrl:"https://developer.atlassian.com/console/myapps/"},objTypes:[C.PAGES,C.ATTACHMENTS,C.BLOG_POSTS,C.SPACES],features:{basicOrgContext:[Xr.SyncFrequency,Xr.SyncedItems,Xr.GlobalAccessPermissions],basicOrgContextExcludedFeatures:[Xr.DocumentLevelPermissions],platinumOrgContext:[Xr.SyncFrequency,Xr.SyncedItems],platinumPrivateContext:[Xr.Private,Xr.SyncFrequency,Xr.SyncedItems]},accountContextOnly:!1,isBeta:!0},{name:T.CONFLUENCE_SERVER,serviceType:"confluence_server",categories:[I.WIKI,I.ATLASSIAN,I.INTRANET],configuration:{hasOauthRedirect:!0,needsBaseUrl:!0,documentationUrl:hr.a.workplaceSearchConfluenceServer},objTypes:[C.PAGES,C.ATTACHMENTS,C.BLOG_POSTS,C.SPACES],features:{basicOrgContext:[Xr.SyncFrequency,Xr.SyncedItems,Xr.GlobalAccessPermissions],platinumOrgContext:[Xr.SyncFrequency,Xr.SyncedItems],platinumPrivateContext:[Xr.Private,Xr.SyncFrequency,Xr.SyncedItems]},accountContextOnly:!1},{name:T.DROPBOX,serviceType:"dropbox",categories:[I.FILE_SHARING,I.STORAGE,I.CLOUD],configuration:{hasOauthRedirect:!0,needsBaseUrl:!1,documentationUrl:hr.a.workplaceSearchDropbox,applicationPortalUrl:"https://www.dropbox.com/developers/apps"},objTypes:[C.FOLDERS,C.ALL_FILES],features:{basicOrgContext:[Xr.SyncFrequency,Xr.SyncedItems,Xr.GlobalAccessPermissions],basicOrgContextExcludedFeatures:[Xr.DocumentLevelPermissions],platinumOrgContext:[Xr.SyncFrequency,Xr.SyncedItems],platinumPrivateContext:[Xr.Private,Xr.SyncFrequency,Xr.SyncedItems]},accountContextOnly:!1},{name:T.GITHUB,serviceType:"github",categories:[I.SOFTWARE,I.VERSION_CONTROL,I.CODE_REPOSITORY],configuration:{hasOauthRedirect:!0,needsBaseUrl:!1,needsConfiguration:!0,documentationUrl:hr.a.workplaceSearchGitHub,applicationPortalUrl:"https://github.com/settings/developers",applicationLinkTitle:F},objTypes:[C.ISSUES,C.PULL_REQUESTS,C.REPOSITORY_LIST,C.FILES],features:{basicOrgContext:[Xr.SyncFrequency,Xr.SyncedItems,Xr.GlobalAccessPermissions],basicOrgContextExcludedFeatures:[Xr.DocumentLevelPermissions],platinumOrgContext:[Xr.SyncFrequency,Xr.SyncedItems],platinumPrivateContext:[Xr.Private,Xr.SyncFrequency,Xr.SyncedItems]},accountContextOnly:!1},{name:T.GITHUB_ENTERPRISE,serviceType:"github_enterprise_server",categories:[I.SOFTWARE,I.VERSION_CONTROL,I.CODE_REPOSITORY],configuration:{hasOauthRedirect:!0,needsConfiguration:!0,needsBaseUrl:!0,baseUrlTitle:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.baseUrlTitles.github",{defaultMessage:"GitHub Enterprise URL"}),documentationUrl:hr.a.workplaceSearchGitHub,applicationPortalUrl:"https://github.com/settings/developers",applicationLinkTitle:F},objTypes:[C.ISSUES,C.PULL_REQUESTS,C.REPOSITORY_LIST,C.FILES],features:{basicOrgContext:[Xr.SyncFrequency,Xr.SyncedItems,Xr.GlobalAccessPermissions],basicOrgContextExcludedFeatures:[Xr.DocumentLevelPermissions],platinumOrgContext:[Xr.SyncFrequency,Xr.SyncedItems],platinumPrivateContext:[Xr.Private,Xr.SyncFrequency,Xr.SyncedItems]},accountContextOnly:!1},{name:T.GMAIL,serviceType:"gmail",categories:[I.COMMUNICATION,I.EMAIL,I.GOOGLE],configuration:{hasOauthRedirect:!0,needsBaseUrl:!1,documentationUrl:hr.a.workplaceSearchGmail,applicationPortalUrl:"https://console.developers.google.com/"},objTypes:[C.EMAILS],features:{platinumPrivateContext:[Xr.Remote,Xr.Private,Xr.SearchableContent]},accountContextOnly:!0},{name:T.GOOGLE_DRIVE,serviceType:"google_drive",categories:[I.FILE_SHARING,I.STORAGE,I.CLOUD,I.PRODUCTIVITY,I.GSUITE],configuration:{hasOauthRedirect:!0,needsBaseUrl:!1,documentationUrl:hr.a.workplaceSearchGoogleDrive,applicationPortalUrl:"https://console.developers.google.com/"},objTypes:[C.FOLDERS,C.G_SUITE_FILES,C.ALL_STORED_FILES],features:{basicOrgContext:[Xr.SyncFrequency,Xr.SyncedItems,Xr.GlobalAccessPermissions],basicOrgContextExcludedFeatures:[Xr.DocumentLevelPermissions],platinumOrgContext:[Xr.SyncFrequency,Xr.SyncedItems],platinumPrivateContext:[Xr.Private,Xr.SyncFrequency,Xr.SyncedItems]},accountContextOnly:!1},{name:T.JIRA,serviceType:"jira_cloud",categories:[I.SOFTWARE,I.BUG_TRACKING,I.ATLASSIAN,I.PROJECT_MANAGEMENT],configuration:{hasOauthRedirect:!0,needsBaseUrl:!0,documentationUrl:hr.a.workplaceSearchJiraCloud,applicationPortalUrl:"https://developer.atlassian.com/console/myapps/"},objTypes:[C.EPICS,C.PROJECTS,C.TASKS,C.STORIES,C.BUGS,C.ATTACHMENTS],features:{basicOrgContext:[Xr.SyncFrequency,Xr.SyncedItems,Xr.GlobalAccessPermissions],basicOrgContextExcludedFeatures:[Xr.DocumentLevelPermissions],platinumOrgContext:[Xr.SyncFrequency,Xr.SyncedItems],platinumPrivateContext:[Xr.Private,Xr.SyncFrequency,Xr.SyncedItems]},accountContextOnly:!1},{name:T.JIRA_SERVER,serviceType:"jira_server",categories:[I.SOFTWARE,I.BUG_TRACKING,I.ATLASSIAN,I.PROJECT_MANAGEMENT],configuration:{hasOauthRedirect:!0,needsBaseUrl:!0,documentationUrl:hr.a.workplaceSearchJiraServer,applicationPortalUrl:""},objTypes:[C.EPICS,C.PROJECTS,C.TASKS,C.STORIES,C.BUGS,C.ATTACHMENTS],features:{basicOrgContext:[Xr.SyncFrequency,Xr.SyncedItems,Xr.GlobalAccessPermissions],platinumOrgContext:[Xr.SyncFrequency,Xr.SyncedItems],platinumPrivateContext:[Xr.Private,Xr.SyncFrequency,Xr.SyncedItems]},accountContextOnly:!1},{name:T.NETWORK_DRVE,categories:[I.STORAGE],serviceType:"custom",baseServiceType:"network_drive",configuration:{hasOauthRedirect:!1,needsBaseUrl:!1,documentationUrl:hr.a.workplaceSearchNetworkDrive,applicationPortalUrl:"",githubRepository:"elastic/enterprise-search-network-drive-connector"},accountContextOnly:!1},{name:T.ONEDRIVE,serviceType:"one_drive",categories:[I.FILE_SHARING,I.CLOUD,I.STORAGE,I.MICROSOFT,I.OFFICE_365],configuration:{hasOauthRedirect:!0,needsBaseUrl:!1,documentationUrl:hr.a.workplaceSearchOneDrive,applicationPortalUrl:"https://portal.azure.com/"},objTypes:[C.FOLDERS,C.ALL_FILES],features:{basicOrgContext:[Xr.SyncFrequency,Xr.SyncedItems,Xr.GlobalAccessPermissions],basicOrgContextExcludedFeatures:[Xr.DocumentLevelPermissions],platinumOrgContext:[Xr.SyncFrequency,Xr.SyncedItems],platinumPrivateContext:[Xr.Private,Xr.SyncFrequency,Xr.SyncedItems]},accountContextOnly:!1},{name:T.SALESFORCE,serviceType:"salesforce",categories:[I.CRM,I.CUSTOMER_RELATIONSHIP_MANAGEMENT,I.ACCOUNT_MANAGEMENT],configuration:{hasOauthRedirect:!0,needsBaseUrl:!1,documentationUrl:hr.a.workplaceSearchSalesforce,applicationPortalUrl:"https://salesforce.com/"},objTypes:[C.CONTACTS,C.OPPORTUNITIES,C.LEADS,C.ACCOUNTS,C.ATTACHMENTS,C.CAMPAIGNS,C.CASES],features:{basicOrgContext:[Xr.SyncFrequency,Xr.SyncedItems,Xr.GlobalAccessPermissions],platinumOrgContext:[Xr.SyncFrequency,Xr.SyncedItems],platinumPrivateContext:[Xr.Private,Xr.SyncFrequency,Xr.SyncedItems]},accountContextOnly:!1},{name:T.SALESFORCE_SANDBOX,serviceType:"salesforce_sandbox",categories:[I.CRM,I.CUSTOMER_RELATIONSHIP_MANAGEMENT,I.ACCOUNT_MANAGEMENT],configuration:{hasOauthRedirect:!0,needsBaseUrl:!1,documentationUrl:hr.a.workplaceSearchSalesforce,applicationPortalUrl:"https://test.salesforce.com/"},objTypes:[C.CONTACTS,C.OPPORTUNITIES,C.LEADS,C.ACCOUNTS,C.ATTACHMENTS,C.CAMPAIGNS,C.CASES],features:{basicOrgContext:[Xr.SyncFrequency,Xr.SyncedItems,Xr.GlobalAccessPermissions],platinumOrgContext:[Xr.SyncFrequency,Xr.SyncedItems],platinumPrivateContext:[Xr.Private,Xr.SyncFrequency,Xr.SyncedItems]},accountContextOnly:!1},{name:T.SERVICENOW,serviceType:"service_now",categories:[I.WORKFLOW],configuration:{hasOauthRedirect:!1,needsBaseUrl:!0,needsCredentials:!0,documentationUrl:hr.a.workplaceSearchServiceNow,applicationPortalUrl:"https://www.servicenow.com/my-account/sign-in.html"},objTypes:[C.USERS,C.INCIDENTS,C.ITEMS,C.ARTICLES],features:{basicOrgContext:[Xr.SyncFrequency,Xr.SyncedItems,Xr.GlobalAccessPermissions],platinumOrgContext:[Xr.SyncFrequency,Xr.SyncedItems],platinumPrivateContext:[Xr.Private,Xr.SyncFrequency,Xr.SyncedItems]},accountContextOnly:!1},{name:T.SHAREPOINT,serviceType:"share_point",categories:[I.FILE_SHARING,I.STORAGE,I.CLOUD,I.MICROSOFT,I.OFFICE_365],configuration:{hasOauthRedirect:!0,needsBaseUrl:!1,documentationUrl:hr.a.workplaceSearchSharePoint,applicationPortalUrl:"https://portal.azure.com/"},objTypes:[C.FOLDERS,C.SITES,C.ALL_FILES],features:{basicOrgContext:[Xr.SyncFrequency,Xr.SyncedItems,Xr.GlobalAccessPermissions],basicOrgContextExcludedFeatures:[Xr.DocumentLevelPermissions],platinumOrgContext:[Xr.SyncFrequency,Xr.SyncedItems],platinumPrivateContext:[Xr.Private,Xr.SyncFrequency,Xr.SyncedItems]},accountContextOnly:!1},{name:T.SHAREPOINT_CONNECTOR_PACKAGE,serviceType:"external",baseServiceType:"share_point",categories:[I.FILE_SHARING,I.STORAGE,I.CLOUD,I.MICROSOFT,I.OFFICE_365],configuration:{hasOauthRedirect:!0,needsBaseUrl:!1,documentationUrl:hr.a.workplaceSearchExternalSharePointOnline,applicationPortalUrl:"https://portal.azure.com/"},objTypes:[C.ALL_STORED_FILES],features:{basicOrgContext:[Xr.SyncFrequency,Xr.SyncedItems,Xr.GlobalAccessPermissions],basicOrgContextExcludedFeatures:[Xr.DocumentLevelPermissions],platinumOrgContext:[Xr.SyncFrequency,Xr.SyncedItems],platinumPrivateContext:[Xr.Private,Xr.SyncFrequency,Xr.SyncedItems]},accountContextOnly:!1,isBeta:!0},{name:T.SHAREPOINT_SERVER,categories:[I.FILE_SHARING,I.STORAGE,I.CLOUD,I.MICROSOFT,I.OFFICE_365],serviceType:"custom",baseServiceType:"share_point_server",configuration:{hasOauthRedirect:!1,needsBaseUrl:!1,documentationUrl:hr.a.workplaceSearchSharePointServer,applicationPortalUrl:"",githubRepository:"elastic/enterprise-search-sharepoint-server-connector"},accountContextOnly:!1},{name:T.SLACK,serviceType:"slack",categories:[I.COLLABORATION,I.COMMUNICATION,I.INSTANT_MESSAGING,I.CHAT],configuration:{hasOauthRedirect:!0,needsBaseUrl:!1,documentationUrl:hr.a.workplaceSearchSlack,applicationPortalUrl:"https://api.slack.com/apps/"},objTypes:[C.PUBLIC_MESSAGES,C.PRIVATE_MESSAGES,C.DIRECT_MESSAGES],features:{platinumPrivateContext:[Xr.Remote,Xr.Private,Xr.SearchableContent]},accountContextOnly:!0},{name:T.ZENDESK,serviceType:"zendesk",categories:[I.HELP,I.CUSTOMER_SERVICE,I.CUSTOMER_RELATIONSHIP_MANAGEMENT,I.TICKETING,I.HELPDESK],configuration:{hasOauthRedirect:!0,needsBaseUrl:!1,needsSubdomain:!0,documentationUrl:hr.a.workplaceSearchZendesk,applicationPortalUrl:"https://www.zendesk.com/login/"},objTypes:[C.TICKETS],features:{basicOrgContext:[Xr.SyncFrequency,Xr.SyncedItems,Xr.GlobalAccessPermissions],platinumOrgContext:[Xr.SyncFrequency,Xr.SyncedItems],platinumPrivateContext:[Xr.Private,Xr.SyncFrequency,Xr.SyncedItems]},accountContextOnly:!1},en],an={name:T.CUSTOM,categories:["API","Custom"],serviceType:"custom",configuration:{hasOauthRedirect:!1,needsBaseUrl:!1,documentationUrl:hr.a.workplaceSearchCustomSources,applicationPortalUrl:""},accountContextOnly:!1},sn=(e,t)=>"custom"===e&&void 0===t?an:tn.find((a=>a.serviceType===e&&a.baseServiceType===t)),rn=e=>!!sn("external",e),nn=e=>!!sn("custom",e),cn=e=>rn(e)||nn(e),on=({id:e})=>Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(ua.EuiText,{size:"s"},Object(aa.jsx)("strong",null,_a))),Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(ua.EuiCopy,{beforeMessage:pt,afterMessage:dt,textToCopy:e},(e=>Object(aa.jsx)(ua.EuiButtonIcon,{"aria-label":pt,onClick:e,iconType:"copy",color:"primary"})))),Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiFieldText,{value:e,readOnly:!0,"aria-label":k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sourceIdentifier.sourceIdentifierFieldLabel",{defaultMessage:"Source Identifier"})})))),ln=({source:e,baseServiceType:t,small:a=!1})=>{const{name:s,id:n}=e,c=sn("custom",t);if(!c)return null;const{configuration:{documentationUrl:o,githubRepository:i}}=c;return Object(aa.jsx)(ua.EuiPanel,{paddingSize:a?"m":"l",hasShadow:!1,color:"subdued"},Object(aa.jsx)(ua.EuiText,{size:a?"s":"m"},i?Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(qr.FormattedMessage,{"data-test-subj":"GithubRepositoryLink",id:"xpack.enterpriseSearch.workplaceSearch.customSourceDeployment.preconfiguredRepositoryInstructions",defaultMessage:"Set up your connector by cloning the {githubRepositoryLink}",values:{githubRepositoryLink:Object(aa.jsx)(ua.EuiLink,{target:"_blank",href:`https://github.com/${i}`},Object(aa.jsx)(qr.FormattedMessage,{id:"xpack.enterpriseSearch.workplaceSearch.customSourceDeployment.repositoryLinkLabel",defaultMessage:"{name} connector repository",values:{name:s}}))}}),Object(aa.jsx)(ua.EuiSpacer,{size:"s"}),Object(aa.jsx)(qr.FormattedMessage,{"data-test-subj":"PreconfiguredDocumentationLink",id:"xpack.enterpriseSearch.workplaceSearch.customSourceDeployment.preconfiguredDocumentationHelpText",defaultMessage:"Review the {documentationLink} and deploy the connector package to be self managed on the infrastructure of your choice.",values:{documentationLink:Object(aa.jsx)(ua.EuiLink,{target:"_blank",href:o},Object(aa.jsx)(qr.FormattedMessage,{id:"xpack.enterpriseSearch.workplaceSearch.customSourceDeployment.documentationLinkLabel",defaultMessage:"{name} connector documentation",values:{name:s}}))}})):Object(aa.jsx)(qr.FormattedMessage,{"data-test-subj":"GenericDocumentationLink",id:"xpack.enterpriseSearch.workplaceSearch.customSourceDeployment.genericDocumentationHelpText",defaultMessage:"Review the {documentationLink} to learn how to build and deploy your own connector on the self managed infrastructure of your choice.",values:{documentationLink:Object(aa.jsx)(ua.EuiLink,{target:"_blank",href:o},Object(aa.jsx)(qr.FormattedMessage,{id:"xpack.enterpriseSearch.workplaceSearch.customSourceDeployment.genericDocumentationLabel",defaultMessage:"Custom API source documentation"}))}}),Object(aa.jsx)(ua.EuiSpacer,{size:"s"}),Object(aa.jsx)(qr.FormattedMessage,{id:"xpack.enterpriseSearch.workplaceSearch.customSourceDeployment.sourceIdentifierHelpText",defaultMessage:"Specify the following Source Identifier along with an {apiKeyLink} in the deployed connector's config file to sync documents.",values:{apiKeyLink:Object(aa.jsx)(ja.d,{target:"_blank",to:ht},L)}})),Object(aa.jsx)(ua.EuiHorizontalRule,{margin:a?"s":"l"}),Object(aa.jsx)(on,{id:n}))},un=({label:e})=>{const{http:t}=Object(c.useValues)(l.a),{isOrganization:a}=Object(c.useValues)(x),{contentSource:{id:s,serviceType:r},buttonLoading:n}=Object(c.useValues)(Xt),o=a?t.basePath.prepend(`/internal/workplace_search/org/sources/${s}/download_diagnostics`):t.basePath.prepend(`/internal/workplace_search/account/sources/${s}/download_diagnostics`);return Object(aa.jsx)(ua.EuiButton,{target:"_blank",href:o,isLoading:n,"data-test-subj":"DownloadDiagnosticsButton",download:`${s}_${r}_${Date.now()}_diagnostics.json`},e)};var pn=a(18),dn=a.n(pn),jn=a(263);const gn=({name:e,serviceType:t,className:a,size:s,iconAsBase64:r})=>Object(aa.jsx)(ua.EuiIcon,{type:r?`data:image/png;base64,${r}`:jn.a[Object(ra.camelCase)(t)],title:`${e} logo`,className:a,size:s}),xn=({contentSource:{createdAt:e,name:t,serviceType:a,isFederatedSource:s,mainIcon:r}})=>Object(aa.jsx)(ua.EuiFlexGroup,{gutterSize:"none",justifyContent:"spaceBetween",alignItems:"center"},Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiFlexGroup,{gutterSize:"s",justifyContent:"flexStart",alignItems:"center"},Object(aa.jsx)(ua.EuiFlexItem,{grow:null},Object(aa.jsx)(gn,{serviceType:a,name:t,iconAsBase64:r,size:"l"})),Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiTitle,{size:"s"},Object(aa.jsx)("h1",null,t)))),s&&Object(aa.jsx)(ua.EuiFlexGroup,{gutterSize:"none",justifyContent:"flexStart"},Object(aa.jsx)(ua.EuiFlexItem,{grow:null},Object(aa.jsx)(ua.EuiSpacer,{size:"xs"}),Object(aa.jsx)(ua.EuiBadge,{iconType:"online",iconSide:"left"},$a)))),Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiText,{textAlign:"right",size:"s"},Object(aa.jsx)("strong",null,Ja),dn()(e).format("MMMM D, YYYY")),s&&Object(aa.jsx)(ua.EuiFlexGroup,{gutterSize:"xs",justifyContent:"flexEnd",alignItems:"center"},Object(aa.jsx)(ua.EuiFlexItem,{grow:null},Object(aa.jsx)("strong",null,Za)),Object(aa.jsx)(ua.EuiFlexItem,{grow:null},Object(aa.jsx)(ua.EuiHealth,{color:"success"},Xa))))),bn=({children:e,pageChrome:t=[],...a})=>{const{contentSource:s,dataLoading:n,diagnosticDownloadButtonVisible:o}=Object(c.useValues)(Xt),{isOrganization:i}=Object(c.useValues)(x),{name:l,supportedByLicense:u}=s,p=Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(xn,{contentSource:s}),Object(aa.jsx)(ua.EuiHorizontalRule,null)),d=Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiCallOut,{title:vs,color:"warning",iconType:"warning"},Object(aa.jsx)("p",null,Ts),Object(aa.jsx)(ua.EuiButton,{color:"warning",href:hr.a.licenseManagement},Cs)),Object(aa.jsx)(ua.EuiSpacer,null)),j=Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(un,{label:js}),Object(aa.jsx)(ua.EuiSpacer,{size:"xl"})),g=i?la:dr;return Object(aa.jsx)(g,S()({isLoading:n},a,{pageChrome:[E.SOURCES,l||"...",...t]}),o&&j,!u&&d,p,e)},Sn=()=>{const{contentSource:e}=Object(c.useValues)(Xt),{initializeSourceSynchronization:t}=Object(c.useActions)(Xt),{isOrganization:a}=Object(c.useValues)(x),{id:n,summary:o,activities:i,groups:l,details:u,custom:p,licenseSupportsPermissions:d,serviceTypeSupportsPermissions:j,indexPermissions:g,hasPermissions:b,isFederatedSource:S,isIndexedSource:h,serviceType:O,baseServiceType:m}=e,[y,M]=Object(s.useState)(!1),[E,w]=Object(s.useState)(!1),v=()=>w(!1),T=!p&&h&&a,C=Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiSpacer,null),Object(aa.jsx)(ua.EuiTitle,{size:"xs"},Object(aa.jsx)("h5",null,va)),Object(aa.jsx)(ua.EuiSpacer,{size:"s"}),Object(aa.jsx)(ua.EuiPanel,{color:"subdued"},Object(aa.jsx)(ua.EuiListGroup,{flush:!0,maxWidth:!1,"data-test-subj":"GroupsSummary"},l.map(((e,t)=>Object(aa.jsx)(ja.e,{label:e.name,key:t,to:qt(e.id),"data-test-subj":"SourceGroupLink"})))))),I=Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiSpacer,{size:"l"}),Object(aa.jsx)(ua.EuiTitle,{size:"xs"},Object(aa.jsx)("h3",null,Ta)),Object(aa.jsx)(ua.EuiSpacer,{size:"s"}),Object(aa.jsx)(ua.EuiPanel,{hasShadow:!1,color:"subdued"},Object(aa.jsx)(ua.EuiText,{size:"s"},u.map(((e,t)=>Object(aa.jsx)(ua.EuiFlexGroup,{wrap:!0,gutterSize:"s",alignItems:"center",justifyContent:"spaceBetween",key:t},Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)("strong",null,e.title)),Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},e.description))))))),N=Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiSpacer,null),Object(aa.jsx)(ua.EuiTitle,{size:"xs"},Object(aa.jsx)("h4",null,Ca)),Object(aa.jsx)(ua.EuiSpacer,{size:"m"}),Object(aa.jsx)(ua.EuiPanel,{hasShadow:!1,color:"subdued"},Object(aa.jsx)(ua.EuiFlexGroup,{gutterSize:"m",alignItems:"center"},Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(ua.EuiIcon,{type:Wr.a,size:"l",color:"primary"})),Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiText,null,Object(aa.jsx)("strong",null,Ia)))))),L=Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiSpacer,null),Object(aa.jsx)(ua.EuiTitle,{size:"xs"},Object(aa.jsx)("h4",null,Ca)),Object(aa.jsx)(ua.EuiSpacer,{size:"m"}),Object(aa.jsx)(ua.EuiPanel,{hasShadow:!1,color:"subdued","data-test-subj":"DocumentPermissionsDisabled"},Object(aa.jsx)(ua.EuiText,{size:"s"},Object(aa.jsx)(ua.EuiFlexGroup,{wrap:!0,gutterSize:"m",alignItems:"center",justifyContent:"spaceBetween"},Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(ua.EuiIcon,{size:"l",type:"iInCircle",color:"subdued"})),Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiText,{size:"s"},Object(aa.jsx)("strong",null,Na)),Object(aa.jsx)(ua.EuiText,{size:"s"},Object(aa.jsx)(qr.FormattedMessage,{id:"xpack.enterpriseSearch.workplaceSearch.sources.learnMore.text",defaultMessage:"{learnMoreLink} about permissions",values:{learnMoreLink:Object(aa.jsx)(ua.EuiLink,{target:"_blank",href:hr.a.workplaceSearchDocumentPermissions},La)}}))))))),F=Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiTitle,{size:"xs"},Object(aa.jsx)("h6",null,fa)),Object(aa.jsx)(ua.EuiSpacer,{size:"s"}),Object(aa.jsx)(ua.EuiPanel,{hasShadow:!1,color:"subdued"},Object(aa.jsx)(ua.EuiFlexGroup,{gutterSize:"m",alignItems:"center"},Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(ua.EuiIcon,{size:"l",type:"checkInCircleFilled",color:"success"})),Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiText,null,Object(aa.jsx)("strong",null,Fa)),Object(aa.jsx)(ua.EuiText,{size:"s"},Object(aa.jsx)("p",null,za)))))),z=Object(aa.jsx)(ua.EuiPanel,{hasShadow:!1,color:"subdued","data-test-subj":"PermissionsStatus"},Object(aa.jsx)(ua.EuiText,{size:"s"},Object(aa.jsx)("h6",null,Object(aa.jsx)(ua.EuiTextColor,{color:"subdued"},Fa))),Object(aa.jsx)(ua.EuiSpacer,{size:"s"}),Object(aa.jsx)(ua.EuiFlexGroup,{gutterSize:"m",alignItems:"center"},Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(ua.EuiIcon,{size:"xl",type:"dot",color:"warning"})),Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiText,null,Object(aa.jsx)("strong",null,Aa)),Object(aa.jsx)(ua.EuiText,{size:"s"},Object(aa.jsx)("p",null,Object(aa.jsx)(qr.FormattedMessage,{id:"xpack.enterpriseSearch.workplaceSearch.sources.externalIdentities.text",defaultMessage:"The {externalIdentitiesLink} must be used to configure user access mappings. Read the guide to learn more.",values:{externalIdentitiesLink:Object(aa.jsx)(ua.EuiLink,{target:"_blank",href:hr.a.workplaceSearchExternalIdentities},Da)}})))))),A=Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiTitle,{size:"xs"},Object(aa.jsx)("h6",null,k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.deployment.title",{defaultMessage:"Deployment"}))),Object(aa.jsx)(ua.EuiSpacer,{size:"s"}),Object(aa.jsx)(ln,{source:e,baseServiceType:m,small:!0})),D=Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiFlexGroup,{direction:"row",alignItems:"center",gutterSize:"s"},Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(ua.EuiTitle,{size:"xs"},Object(aa.jsx)("span",null,Ca))),Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(Jr,null))),Object(aa.jsx)(ua.EuiSpacer,{size:"s"}),Object(aa.jsx)(ua.EuiPanel,{hasShadow:!1,color:"subdued"},Object(aa.jsx)(ua.EuiText,{size:"s"},Object(aa.jsx)("p",null,Ua)),Object(aa.jsx)(ua.EuiSpacer,{size:"s"}),Object(aa.jsx)(ua.EuiText,{size:"s"},Object(aa.jsx)(ua.EuiLink,{target:"_blank",href:hr.a.licenseManagement},Ra)))),_=Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiTitle,{size:"xs"},Object(aa.jsx)("h5",null,Bs)),Object(aa.jsx)(ua.EuiSpacer,{size:"s"}),Object(aa.jsx)(ua.EuiPanel,{color:"subdued"},Object(aa.jsx)(ua.EuiButton,{fill:!0,isLoading:y,onClick:()=>w(!0),"data-test-subj":"SyncButton"},Vs),Object(aa.jsx)(ua.EuiSpacer,{size:"m"}),Object(aa.jsx)(ua.EuiText,{size:"s"},Object(aa.jsx)(qr.FormattedMessage,{id:"xpack.enterpriseSearch.workplaceSearch.sources.synchronizationCallout",defaultMessage:"Configure {syncFrequencyLink} or {blockTimeWindowsLink}.",values:{syncFrequencyLink:Object(aa.jsx)(ja.d,{to:Qt(Rt,n,a)},Hs),blockTimeWindowsLink:Object(aa.jsx)(ja.d,{to:Qt(Ut,n,a)},Ys)}})))),R=Object(aa.jsx)(ua.EuiConfirmModal,{title:Qs,onCancel:v,onConfirm:()=>{t(n),M(!0),v()},cancelButtonText:f.e,confirmButtonText:f.A,defaultFocusedButton:"confirm"},Object(aa.jsx)("p",null,qs));return Object(aa.jsx)(bn,{pageViewTelemetry:"source_overview"},Object(aa.jsx)(jr,{title:Fs}),E&&R,Object(aa.jsx)(ua.EuiFlexGroup,{gutterSize:"xl",alignItems:"flexStart"},Object(aa.jsx)(ua.EuiFlexItem,{grow:8},Object(aa.jsx)(ua.EuiFlexGroup,{gutterSize:"xl",direction:"column"},Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)((()=>{let e=0;const t=null==o?void 0:o.map(((t,a)=>(e+=t.count,t.count>0&&Object(aa.jsx)(ua.EuiTableRow,{key:a,"data-test-subj":"DocumentSummaryRow"},Object(aa.jsx)(ua.EuiTableRowCell,null,t.type),Object(aa.jsx)(ua.EuiTableRowCell,null,t.count.toLocaleString("en-US")))))),a=Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiSpacer,{size:"s"}),Object(aa.jsx)(ua.EuiPanel,{hasShadow:!1,color:"subdued",paddingSize:"l","data-test-subj":"EmptyDocumentSummary"},Object(aa.jsx)(ua.EuiEmptyPrompt,{title:Object(aa.jsx)("h2",null,Sa),iconType:"documents",iconColor:"subdued"})));return Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiTitle,{size:"xs"},Object(aa.jsx)("h3",null,ha)),Object(aa.jsx)(ua.EuiSpacer,{size:"s"}),!o&&Object(aa.jsx)($r,{text:Oa}),!!o&&(0===e?a:Object(aa.jsx)(ua.EuiTable,null,Object(aa.jsx)(ua.EuiTableHeader,null,Object(aa.jsx)(ua.EuiTableHeaderCell,null,ma),Object(aa.jsx)(ua.EuiTableHeaderCell,null,ya)),Object(aa.jsx)(ua.EuiTableBody,null,t,Object(aa.jsx)(ua.EuiTableRow,null,Object(aa.jsx)(ua.EuiTableRowCell,null,Object(aa.jsx)("strong",null,Ea)),Object(aa.jsx)(ua.EuiTableRowCell,null,Object(aa.jsx)("strong",null,e.toLocaleString("en-US"))))))))}),{"data-test-subj":"DocumentSummary"})),!S&&Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)((()=>{const e=Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiSpacer,{size:"s"}),Object(aa.jsx)(ua.EuiPanel,{paddingSize:"l",hasShadow:!1,color:"subdued","data-test-subj":"EmptyActivitySummary"},Object(aa.jsx)(ua.EuiEmptyPrompt,{title:Object(aa.jsx)("h2",null,wa),iconType:"clock",iconColor:"subdued"}))),t=Object(aa.jsx)(ua.EuiTable,null,Object(aa.jsx)(ua.EuiTableHeader,null,Object(aa.jsx)(ua.EuiTableHeaderCell,null,ka),!p&&Object(aa.jsx)(ua.EuiTableHeaderCell,null,fa),Object(aa.jsx)(ua.EuiTableHeaderCell,{align:"right"},Ma)),Object(aa.jsx)(ua.EuiTableBody,null,i.map((({details:e,event:t,time:a,status:s},r)=>Object(aa.jsx)(ua.EuiTableRow,{key:r},Object(aa.jsx)(ua.EuiTableRowCell,null,Object(aa.jsx)(ua.EuiText,{size:"s"},t)),!p&&Object(aa.jsx)(ua.EuiTableRowCell,null,Object(aa.jsx)(ua.EuiText,{size:"s"},Object(aa.jsx)("small",null,s," ",e&&Object(aa.jsx)(Zr,{details:e})))),Object(aa.jsx)(ua.EuiTableRowCell,{align:"right"},Object(aa.jsx)(ua.EuiText,{size:"s"},Object(aa.jsx)("small",null,a))))))));return Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiTitle,{size:"xs"},Object(aa.jsx)("h4",null,st)),Object(aa.jsx)(ua.EuiSpacer,{size:"s"}),0===i.length?e:t)}),{"data-test-subj":"ActivitySummary"})))),Object(aa.jsx)(ua.EuiFlexItem,{grow:7},Object(aa.jsx)(ua.EuiFlexGroup,{gutterSize:"m",direction:"column"},T&&_,Object(aa.jsx)(ua.EuiFlexItem,null,l.length>0&&C),u.length>0&&Object(aa.jsx)(ua.EuiFlexItem,null,I),!p&&j&&Object(aa.jsx)(r.a.Fragment,null,g&&!b&&Object(aa.jsx)(ua.EuiFlexItem,null,z),g&&Object(aa.jsx)(ua.EuiFlexItem,null,N),!g&&a&&Object(aa.jsx)(ua.EuiFlexItem,null,L)),p&&Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiFlexItem,null,F),Object(aa.jsx)(ua.EuiFlexItem,null,A),!d&&Object(aa.jsx)(ua.EuiFlexItem,null,D))))),"external"===O&&Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiSpacer,null),Object(aa.jsx)(ua.EuiFlexGroup,{justifyContent:"center"},Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(ua.EuiCallOut,{size:"s",color:"primary",iconType:"email",title:Object(aa.jsx)(ua.EuiLink,{href:"https://www.elastic.co/kibana/feedback",external:!0},k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.feedbackCallOutText",{defaultMessage:"Have feedback about deploying a connector package? Let us know."}))})))))};var hn=a(55);const On=({name:e,serviceType:t,categories:a=[]})=>Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiSpacer,{size:"s"}),Object(aa.jsx)(ua.EuiFlexGroup,{alignItems:"flexStart",justifyContent:"center",gutterSize:"m",responsive:!1},Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(gn,{serviceType:t,name:e,className:"adding-a-source__icon",size:"xxl"})),Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiTitle,{size:"s"},Object(aa.jsx)("h1",null,Object(aa.jsx)(ua.EuiTextColor,{color:"default"},e))),Object(aa.jsx)(ua.EuiText,{size:"xs",color:"subdued"},"external"===t?k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.addSource.addSourceHeader.externalConnectorLabel",{defaultMessage:"Externally deployed connector package"}):a.map((e=>Object(ra.startCase)(e))).join(", "))))),mn=e=>{if("string"!=typeof e)return null;const t=Date.parse(e);return t?new Date(t).toLocaleString():null},yn={"application/iwork-keynote-sffkey":"Keynote","application/x-iwork-keynote-sffkey":"Keynote","application/iwork-numbers-sffnumbers":"Numbers","application/iwork-pages-sffpages":"Pages","application/json":"JSON","application/mp4":"MP4","application/msword":"DOC","application/octet-stream":"Binary","application/pdf":"PDF","application/rtf":"RTF","application/vnd.google-apps.audio":"Google Audio","application/vnd.google-apps.document":"Google Doc","application/vnd.google-apps.drawing":"Google Drawing","application/vnd.google-apps.file":"Google Drive File","application/vnd.google-apps.folder":"Google Drive Folder","application/vnd.google-apps.form":"Google Form","application/vnd.google-apps.fusiontable":"Google Fusion Table","application/vnd.google-apps.map":"Google Map","application/vnd.google-apps.photo":"Google Photo","application/vnd.google-apps.presentation":"Google Slides","application/vnd.google-apps.script":"Google Script","application/vnd.google-apps.sites":"Google Site","application/vnd.google-apps.spreadsheet":"Google Sheet","application/vnd.google-apps.unknown":"Google Unknown","application/vnd.google-apps.video":"Google Video","application/vnd.ms-excel":"XLS","application/vnd.ms-powerpoint":"PPT","application/vnd.openxmlformats-officedocument.presentationml.presentation":"PPTX","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"XLSX","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"DOCX","application/xml":"XML","application/zip":"ZIP","image/gif":"GIF","image/jpeg":"JPEG","image/png":"PNG","image/svg+xml":"SVG","image/tiff":"TIFF","image/vnd.adobe.photoshop":"PSD","text/comma-separated-values":"CSV","text/css":"CSS","text/html":"HTML","text/plain":"TXT","video/quicktime":"MOV"},kn=e=>yn[e.toString().toLowerCase()]||e,fn=async(e,t)=>{if(!e||e.length<1)return null;const a=e[0];t(await(e=>{const t=new FileReader;return new Promise(((a,s)=>{t.onload=()=>{a(t.result)};try{t.readAsText(e)}catch{t.abort(),s(new Error)}}))})(a))};function Mn(e){return[...e].sort(((e,t)=>e.name.localeCompare(t.name)))}let En;const wn=Object(c.kea)({path:["enterprise_search","workplace_search","sources_logic"],actions:{setServerSourceStatuses:e=>e,onInitializeSources:e=>e,onSetSearchability:(e,t)=>({sourceId:e,searchable:t}),setAddedSource:(e,t,a)=>({addedSourceName:e,additionalConfiguration:t,serviceType:a}),resetPermissionsModal:()=>!0,resetSourcesState:()=>!0,initializeSources:()=>!0,pollForSourceStatusChanges:()=>!0,setSourceSearchability:(e,t)=>({sourceId:e,searchable:t})},reducers:{contentSources:[[],{onInitializeSources:(e,{contentSources:t})=>t,onSetSearchability:(e,{sourceId:t,searchable:a})=>Tn(e,t,a)}],privateContentSources:[[],{onInitializeSources:(e,{privateContentSources:t})=>t||[],onSetSearchability:(e,{sourceId:t,searchable:a})=>Tn(e,t,a)}],serviceTypes:[[],{onInitializeSources:(e,{serviceTypes:t})=>t||[]}],permissionsModal:[null,{setAddedSource:(e,t)=>t,resetPermissionsModal:()=>null}],dataLoading:[!0,{onInitializeSources:()=>!1,resetSourcesState:()=>!0}],serverStatuses:[null,{setServerSourceStatuses:(e,t)=>{const a={};return t.forEach((e=>{a[e.id]=e.status.status})),a}}]},selectors:({selectors:e})=>({availableSources:[()=>[e.sourceData],e=>Mn(e.filter((({configured:e,serviceType:t,externalConnectorServiceDescribed:a})=>!e&&("external"!==t||a))))],configuredSources:[()=>[e.sourceData],e=>Mn(e.filter((({configured:e})=>e)))],externalConfigured:[()=>[e.configuredSources],e=>!!e.find((e=>"external"===e.serviceType))],sourceData:[()=>[e.serviceTypes,e.contentSources],(e,t)=>Cn(e,tn,t)]}),listeners:({actions:e,values:t})=>({initializeSources:async(a,s)=>{const{isOrganization:r}=x.values,n=r?"/internal/workplace_search/org/sources":"/internal/workplace_search/account/sources";try{const t=await l.a.values.http.get(n);s(),e.pollForSourceStatusChanges(),e.onInitializeSources(t)}catch(e){if(Object(c.isBreakpoint)(e))return;Object(Zt.e)(e)}if(r&&!t.serverStatuses){const t=await vn(r,s);e.setServerSourceStatuses(null!=t?t:[])}},pollForSourceStatusChanges:(a,s)=>{const{isOrganization:r}=x.values;if(!r)return;const n=t.serverStatuses;En=window.setInterval((async()=>{const t=await vn(r,s);(null!=t?t:[]).some((t=>{if(n&&n[t.id]!==t.status.status)return e.initializeSources()}))}),1e4)},setSourceSearchability:async({sourceId:t,searchable:a})=>{const{isOrganization:s}=x.values,r=s?`/internal/workplace_search/org/sources/${t}/searchable`:`/internal/workplace_search/account/sources/${t}/searchable`;try{await l.a.values.http.put(r,{body:JSON.stringify({searchable:a})}),e.onSetSearchability(t,a)}catch(e){Object(Zt.e)(e)}},setAddedSource:({addedSourceName:e,additionalConfiguration:t})=>{const a=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.flashMessages.contentSourceConnected",{defaultMessage:"Successfully connected {sourceName}.",values:{sourceName:e}}),s=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.flashMessages.additionalConfigurationNeeded",{defaultMessage:"This source requires additional configuration."});Object(Zt.g)([a,t?s:""].join(" "))},resetSourcesState:()=>{clearInterval(En)}}),events:()=>({beforeUnmount(){clearInterval(En)}})}),vn=async(e,t)=>{const a=e?"/internal/workplace_search/org/sources/status":"/internal/workplace_search/account/sources/status";let s;try{s=await l.a.values.http.get(a),t(),wn.actions.setServerSourceStatuses(s)}catch(e){Object(c.isBreakpoint)(e)||Object(Zt.e)(e)}return s},Tn=(e,t,a)=>{const s=Object(ra.cloneDeep)(e),r=Object(ra.findIndex)(s,(({id:e})=>e===t)),n=s[r];return s[r]={...n,searchable:a},s},Cn=(e,t,a)=>Mn(t.map((t=>{const s=t.baseServiceType?void 0:e.find((({serviceType:e})=>e===t.serviceType)),r=a.find((({baseServiceType:e,serviceType:a})=>a===t.serviceType&&e===t.baseServiceType));return{...t,...s,connected:!!r}}))),In=Object(c.kea)({path:["enterprise_search","workplace_search","external_connector_logic"],actions:{fetchExternalSource:!0,fetchExternalSourceSuccess:e=>e,saveExternalConnectorConfigError:()=>!0,saveExternalConnectorConfigSuccess:e=>e,saveExternalConnectorConfig:()=>!0,setExternalConnectorApiKey:e=>e,setExternalConnectorUrl:e=>e,setUrlValidation:e=>e,setShowInsecureUrlCallout:e=>e,validateUrl:!0},reducers:{dataLoading:[!0,{fetchExternalSourceSuccess:()=>!1}],buttonLoading:[!1,{saveExternalConnectorConfigSuccess:()=>!1,saveExternalConnectorConfigError:()=>!1,saveExternalConnectorConfig:()=>!0}],externalConnectorUrl:["",{fetchExternalSourceSuccess:(e,{configuredFields:{external_connector_url:t}})=>t||"",setExternalConnectorUrl:(e,t)=>t}],externalConnectorApiKey:["",{fetchExternalSourceSuccess:(e,{configuredFields:{external_connector_api_key:t}})=>t||"",setExternalConnectorApiKey:(e,t)=>t}],showInsecureUrlCallout:[!1,{fetchExternalSource:()=>!1,setShowInsecureUrlCallout:(e,t)=>t}],urlValid:[!0,{setUrlValidation:(e,t)=>t}]},listeners:({actions:e,values:t})=>({fetchExternalSource:async()=>{try{const t=await l.a.values.http.get("/internal/workplace_search/org/settings/connectors/external");e.fetchExternalSourceSuccess(t)}catch(e){Object(Zt.e)(e)}},fetchExternalSourceSuccess:({configuredFields:{externalConnectorUrl:t}})=>{t&&!t.startsWith("https://")?e.setShowInsecureUrlCallout(!0):e.setShowInsecureUrlCallout(!1)},saveExternalConnectorConfig:async()=>{if(Nn(t.externalConnectorUrl)){Object(Zt.d)();try{await l.a.values.http.post("/internal/workplace_search/org/settings/connectors",{body:JSON.stringify({external_connector_url:t.externalConnectorUrl,external_connector_api_key:t.externalConnectorApiKey,service_type:"external"})}),Object(Zt.g)(k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.flashMessages.externalConnectorCreated",{defaultMessage:"Successfully registered connector package deployment."})),e.saveExternalConnectorConfigSuccess("external"),u.a.values.navigateToUrl(Kt(`${$t("external")}`,x.values.isOrganization))}catch(t){e.saveExternalConnectorConfigError(),Object(Zt.e)(t)}}else e.setUrlValidation(!1)},validateUrl:()=>{const a=t.externalConnectorUrl;e.setUrlValidation(Nn(a)),e.setShowInsecureUrlCallout(!a.startsWith("https://"))}}),selectors:({selectors:e})=>({formDisabled:[()=>[e.buttonLoading,e.dataLoading],(e,t)=>e||t],insecureUrl:[()=>[e.externalConnectorUrl],e=>!e.startsWith("https://")]})}),Nn=e=>e.startsWith("https://")||e.startsWith("http://");let Ln;!function(e){e.SaveConfigStep="Save Config",e.ConfigCompletedStep="Config Completed",e.ConnectInstanceStep="Connect Instance",e.ConfigureOauthStep="Configure Oauth",e.ReauthenticateStep="Reauthenticate"}(Ln||(Ln={}));const Fn=Object(c.kea)({path:["enterprise_search","workplace_search","add_source_logic"],actions:{setAddSourceStep:e=>e,setSourceConfigData:e=>e,setSourceConnectData:e=>e,setConfiguredField:(e,t)=>({key:e,value:t}),setSourceLoginValue:e=>e,setSourcePasswordValue:e=>e,setSourceSubdomainValue:e=>e,setSourceIndexPermissionsValue:e=>e,setPreContentSourceConfigData:e=>e,setPreContentSourceId:e=>e,setSelectedGithubOrganizations:e=>e,getSourceConfigData:()=>!0,getSourceConnectData:e=>({successCallback:e}),getSourceReConnectData:e=>({sourceId:e}),getPreContentSourceConfigData:()=>!0,saveSourceConfig:(e,t)=>({isUpdating:e,successCallback:t}),saveSourceParams:(e,t,a)=>({search:e,params:t,isOrganization:a}),createContentSource:(e,t)=>({successCallback:e,errorCallback:t}),resetSourceState:()=>!0,setButtonNotLoading:()=>!0,setFirstStep:()=>!0},reducers:({props:e})=>({addSourceCurrentStep:[null,{setAddSourceStep:(e,t)=>t}],sourceConfigData:[{},{setSourceConfigData:(e,t)=>t}],sourceConnectData:[{},{setSourceConnectData:(e,t)=>t}],dataLoading:[!0,{setSourceConfigData:()=>!1,resetSourceState:()=>!1,setPreContentSourceConfigData:()=>!1,getSourceConfigData:()=>!0}],buttonLoading:[!1,{setButtonNotLoading:()=>!1,setSourceConnectData:()=>!1,setSourceConfigData:()=>!1,resetSourceState:()=>!1,saveSourceConfig:()=>!0,getSourceConnectData:()=>!0,createContentSource:()=>!0}],sectionLoading:[!0,{getPreContentSourceConfigData:()=>!0,setPreContentSourceConfigData:()=>!1}],loginValue:["",{setSourceLoginValue:(e,t)=>t,resetSourceState:()=>""}],passwordValue:["",{setSourcePasswordValue:(e,t)=>t,resetSourceState:()=>""}],subdomainValue:["",{setSourceSubdomainValue:(e,t)=>t,resetSourceState:()=>""}],indexPermissionsValue:[!1,{setSourceIndexPermissionsValue:(e,t)=>t,resetSourceState:()=>!1}],githubOrganizations:[[],{setPreContentSourceConfigData:(e,{githubOrganizations:t})=>t,resetSourceState:()=>[]}],selectedGithubOrganizationsMap:[{},{setSelectedGithubOrganizations:(e,t)=>({...e,[t]:!e[t]}),resetSourceState:()=>({})}],preContentSourceId:["",{setPreContentSourceId:(e,t)=>t,setPreContentSourceConfigData:()=>"",resetSourceState:()=>""}],oauthConfigCompleted:[!1,{setPreContentSourceConfigData:()=>!0}],sourceData:[sn(e.serviceType)||null,{}],configuredFields:[{},{setSourceConfigData:(e,{configuredFields:t})=>t,setConfiguredField:(e,{key:t,value:a})=>({...e,[t]:a}),resetSourceState:()=>({})}]}),selectors:({selectors:e})=>({selectedGithubOrganizations:[()=>[e.selectedGithubOrganizationsMap],e=>Object(ra.keys)(Object(ra.pickBy)(e))]}),listeners:({actions:e,values:t,props:a})=>({getSourceConfigData:async()=>{const{serviceType:t}=a,s=`/internal/workplace_search/org/settings/connectors/${t}`;try{const t=await l.a.values.http.get(s);e.setSourceConfigData(t),e.setFirstStep()}catch(e){Object(Zt.e)(e)}},getSourceConnectData:async({successCallback:s})=>{const{serviceType:r}=a;Object(Zt.d)();const{isOrganization:n}=x.values,{subdomainValue:c,indexPermissionsValue:o}=t,i=n?`/internal/workplace_search/org/sources/${r}/prepare`:`/internal/workplace_search/account/sources/${r}/prepare`,u=n?{index_permissions:o}:void 0,p=c?{...u,subdomain:c}:{...u};try{const t=await l.a.values.http.get(i,{query:p});e.setSourceConnectData(t),s(t.oauthUrl)}catch(e){Object(Zt.e)(e)}finally{e.setButtonNotLoading()}},getSourceReConnectData:async({sourceId:t})=>{const{isOrganization:a}=x.values,s=a?`/internal/workplace_search/org/sources/${t}/reauth_prepare`:`/internal/workplace_search/account/sources/${t}/reauth_prepare`;try{const t=await l.a.values.http.get(s);e.setSourceConnectData(t)}catch(e){Object(Zt.e)(e)}},getPreContentSourceConfigData:async()=>{const{isOrganization:a}=x.values,{preContentSourceId:s}=t,r=a?`/internal/workplace_search/org/pre_sources/${s}`:`/internal/workplace_search/account/pre_sources/${s}`;try{const t=await l.a.values.http.get(r);e.setPreContentSourceConfigData(t)}catch(e){Object(Zt.e)(e)}},saveSourceConfig:async({isUpdating:s,successCallback:r})=>{Object(Zt.d)();const{serviceType:n}=a,{externalConnectorUrl:c,externalConnectorApiKey:o}=In.values;if("external"===n&&c&&!Nn(c))return In.actions.setUrlValidation(!1),void e.setButtonNotLoading();const i=s?`/internal/workplace_search/org/settings/connectors/${n}`:"/internal/workplace_search/org/settings/connectors",u=s?l.a.values.http.put:l.a.values.http.post,p={...t.configuredFields,external_connector_url:"external"===n?c:void 0,external_connector_api_key:"external"===n?o:void 0,service_type:n};try{const t=await u(i,{body:JSON.stringify(p)});r&&r(),s&&Object(Zt.g)(k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.flashMessages.contentSourceConfigUpdated",{defaultMessage:"Successfully updated configuration."})),e.setSourceConfigData(t)}catch(e){Object(Zt.e)(e)}finally{e.setButtonNotLoading()}},saveSourceParams:async({search:a,params:s,isOrganization:r})=>{const{http:n}=l.a.values,{navigateToUrl:c}=u.a.values,{setAddedSource:o}=wn.actions,i={...s};if(s.error_description)return c(r?"/":Mt),void Object(Zt.i)(r?s.error_description:(p=s.error_description,k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.personalDashboardSourceError",{defaultMessage:"Could not connect the source, reach out to your admin for help. Error message: {error}",values:{error:p}})));var p;try{const s=await n.get("/internal/workplace_search/sources/create",{query:i}),{serviceName:l,indexPermissions:u,serviceType:p,preContentSourceId:d,hasConfigureStep:j}=s;j&&!t.oauthConfigCompleted?(e.setPreContentSourceId(d),c(Kt(`${$t("github")}/configure${a}`,r))):(o(l,u,p),c(Kt(ft,r)))}catch(e){c(Kt(ft,r)),Object(Zt.e)(e)}},setFirstStep:()=>{const s=zn(t.sourceConfigData,a.initialStep);e.setAddSourceStep(s)},createContentSource:async({successCallback:s,errorCallback:r})=>{const{serviceType:n}=a;Object(Zt.d)();const{isOrganization:c}=x.values,o=c?"/internal/workplace_search/org/create_source":"/internal/workplace_search/account/create_source",{selectedGithubOrganizations:i,loginValue:u,passwordValue:p,indexPermissionsValue:d}=t,j={service_type:n,login:u||void 0,password:p||void 0,organizations:i.length>0?i:void 0,index_permissions:d||void 0};Object.keys(j).forEach((e=>void 0===j[e]&&delete j[e]));try{await l.a.values.http.post(o,{body:JSON.stringify({...j})}),s()}catch(e){Object(Zt.e)(e),r&&r()}finally{e.setButtonNotLoading()}}})}),zn=(e,t)=>{const{configured:a}=e;return"connect"===t?Ln.ConnectInstanceStep:"configure"===t?Ln.ConfigureOauthStep:"reauthenticate"===t?Ln.ReauthenticateStep:a?Ln.ConnectInstanceStep:Ln.SaveConfigStep},An=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.addSourceList.newSourceDescription",{defaultMessage:"When configuring and connecting a source, you are creating distinct entities with searchable content synchronized from the content platform itself. A source can be added using one of the available source connectors or via Custom API Sources, for additional flexibility. "}),Dn=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.addSourceList.orgSourceDescription",{defaultMessage:"Organizational content sources are available to your entire organization or can be assigned to specific user groups."}),_n=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.addSourceList.privateSourceDescription",{defaultMessage:"Connect a new source to add its content and documents to your search experience."}),Rn=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.addSourceList.noSourcesTitle",{defaultMessage:"Configure and connect your first content source"}),Un=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.addSourceList.orgSourcesTitle",{defaultMessage:"Add an organizational content source"}),Pn=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.addSourceList.privateSourcesTitle",{defaultMessage:"Add a new content source"}),Gn=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.addSourceList.placeholder",{defaultMessage:"Filter sources..."}),Bn=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.addSourceList.emptyTitle",{defaultMessage:"No available sources"}),Vn=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.addSourceList.emptyBody",{defaultMessage:"Sources will be available for search when an administrator adds them to this organization."}),Hn=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.availableSourceList.emptyState",{defaultMessage:"No available sources matching your query."}),Yn=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.availableSourceList.title",{defaultMessage:"Available for configuration"}),Qn=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.availableSourceList.body",{defaultMessage:"Configure an available source or build your own with the "}),qn=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.availableSourceList.customSource.button",{defaultMessage:"Custom API Source"}),Kn=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.configCompleted.privateDisabled.link",{defaultMessage:"enable private source connection"}),Wn=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.configCompleted.privateDisabled.button",{defaultMessage:"Learn more about private content sources."}),$n=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.configCompleted.configureNew.button",{defaultMessage:"Configure a new content source"}),Jn=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.configIntro.alt.text",{defaultMessage:"Connection illustration"}),Zn=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.configIntro.steps.text",{defaultMessage:"Quick setup, then all of your documents will be searchable."}),Xn=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.configIntro.step1.heading",{defaultMessage:"Step 1"}),ec=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.configIntro.step1.badge",{defaultMessage:"One-Time Action"}),tc=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.configIntro.step1.text",{defaultMessage:"Setup a secure OAuth application through the content source that you or your team will use to connect and synchronize content. You only have to do this once per content source."}),ac=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.configIntro.step2.heading",{defaultMessage:"Step 2"}),sc=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.configIntro.step2.title",{defaultMessage:"Connect the content source"}),rc=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.configIntro.step2.text",{defaultMessage:"Use the new OAuth application to connect any number of instances of the content source to Workplace Search."}),nc=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.configCustom.button",{defaultMessage:"Create Custom API Source"}),cc=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.configCustom.docs.link.text",{defaultMessage:"Read the documentation"}),oc=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.configOauth.label",{defaultMessage:"Select GitHub organizations to sync"}),ic=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.configOauth.button",{defaultMessage:"Complete connection"}),lc=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.configuredSources.unConnectedTooltip",{defaultMessage:"No connected sources"}),uc=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.configuredSources.accountOnlyTooltip",{defaultMessage:"Private content source. Each user must add the content source from their own personal dashboard."}),pc=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.configuredSources.emptyState",{defaultMessage:"There are no configured sources matching your query."}),dc=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.configuredSources.title",{defaultMessage:"Configured content sources"}),jc=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.configuredSources.body",{defaultMessage:"Configured and ready for connection."}),gc=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.saveConfig.button",{defaultMessage:"Save configuration"}),xc=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.back.button",{defaultMessage:" Go back"}),bc=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.saveCustom.body1",{defaultMessage:"Your endpoints are ready to accept requests."}),Sc=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.includedFeaturesTitle",{defaultMessage:"Included features"}),hc=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.sourceFeatures.syncFrequency.title",{defaultMessage:"Syncs every 2 hours"}),Oc=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.sourceFeatures.syncFrequency.time",{defaultMessage:"2 hours"}),mc=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.sourceFeatures.syncedItems.title",{defaultMessage:"Synced items"}),yc=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.sourceFeatures.searchable.title",{defaultMessage:"Searchable content"}),kc=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.sourceFeatures.searchable.description",{defaultMessage:"The following items are searchable:"}),fc=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.sourceFeatures.remote.title",{defaultMessage:"Always up-to-date"}),Mc=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.sourceFeatures.remote.description",{defaultMessage:"Message data and other information is searchable in real-time from the Workplace Search experience."}),Ec=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.sourceFeatures.private.title",{defaultMessage:"Always private"}),wc=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.sourceFeatures.private.description",{defaultMessage:"Results returned are specific and relevant to you. Connecting this source does not expose your personal data to other search users - only you."}),vc=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.sourceFeatures.globalAccessPermissions.title",{defaultMessage:"Global access permissions"}),Tc=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.sourceFeatures.globalAccessPermissions.description",{defaultMessage:"All documents accessible to the connecting service user will be synchronized and made available to the organization’s users, or group’s users. Documents are immediately available for search"}),Cc=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.sourceFeatures.documentLevelPermissions.title",{defaultMessage:"Document-level permissions available with Platinum license"}),Ic=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.sourceFeatures.documentLevelPermissions.text",{defaultMessage:"Document-level permissions manage user content access based on defined rules. Allow or deny access to certain documents for individuals and groups."}),Nc=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.connect.whichOption.link",{defaultMessage:"Which option should I choose?"}),Lc=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.connect.permissions.label",{defaultMessage:"Enable document-level permission synchronization"}),Fc=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.connect.permissions.title",{defaultMessage:"Document-level permissions"}),zc=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.connect.needsPermissions.text",{defaultMessage:"Document-level permission information will be synchronized. Additional configuration is required following the initial connection before documents are available for search."}),Ac=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.connect.notSynced.title",{defaultMessage:"Document-level permissions will not be synchronized"}),Dc=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.connect.notSynced.text",{defaultMessage:"All documents accessible to the connecting service user will be synchronized and made available to the organization’s users, or group’s users. Documents are immediately available for search. "}),_c=({name:e,advanceStep:t,accountContextOnly:a,header:s,privateSourcesEnabled:n,showFeedbackLink:c})=>Object(aa.jsx)(r.a.Fragment,null,s,Object(aa.jsx)(ua.EuiSpacer,{size:"xxl"}),Object(aa.jsx)(ua.EuiPanel,{color:"subdued",paddingSize:"l"},Object(aa.jsx)(ua.EuiFlexGroup,{justifyContent:"center",alignItems:"stretch",direction:"column",responsive:!1},Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiFlexGroup,{direction:"column",alignItems:"center",responsive:!1},Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiIcon,{type:"checkInCircleFilled",color:"success",size:"xxl"})),Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiText,null,Object(aa.jsx)(ua.EuiTextAlign,{textAlign:"center"},Object(aa.jsx)("h1",null,k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.configCompleted.heading",{defaultMessage:"{name} Configured",values:{name:e}})))),Object(aa.jsx)(ua.EuiText,null,Object(aa.jsx)(ua.EuiTextAlign,{textAlign:"center"},a?Object(aa.jsx)(ua.EuiText,{color:"subdued",grow:!1,"data-test-subj":"PersonalConnectLinkMessage"},Object(aa.jsx)("p",null,k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.configCompleted.personalConnectLink.message",{defaultMessage:"Users can now link their {name} accounts from their personal dashboards.",values:{name:e}})),!n&&Object(aa.jsx)("p",{"data-test-subj":"PrivateDisabledMessage"},Object(aa.jsx)(qr.FormattedMessage,{id:"xpack.enterpriseSearch.workplaceSearch.contentSource.configCompleted.privateDisabled.message",defaultMessage:"Remember to {securityLink} in Security settings.",values:{securityLink:Object(aa.jsx)(ja.d,{to:Ot},Kn)}})),Object(aa.jsx)("p",null,Object(aa.jsx)(ua.EuiLink,{target:"_blank","data-test-subj":"ConfigCompletedPrivateSourcesDocsLink",href:hr.a.workplaceSearchPrivateSourcePermissions},Wn))):Object(aa.jsx)("p",{"data-test-subj":"OrgCanConnectMessage"},k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.configCompleted.orgCanConnect.message",{defaultMessage:"{name} can now be connected to Workplace Search",values:{name:e}})))))))),Object(aa.jsx)(ua.EuiSpacer,null),Object(aa.jsx)(ua.EuiFlexGroup,{justifyContent:"center",alignItems:"center",direction:"row",responsive:!1},Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(ja.b,{to:Kt(wt,!0),fill:a,color:a?"primary":void 0},$n)),!a&&Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(ua.EuiButton,{color:"primary",fill:!0,onClick:t,"data-test-subj":"ConfigCompletedConnectButton"},k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.configCompleted.connect.button",{defaultMessage:"Connect {name}",values:{name:e}}))))),c&&Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiSpacer,null),Object(aa.jsx)(ua.EuiFlexGroup,{justifyContent:"center"},Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(ua.EuiCallOut,{size:"s",color:"primary",iconType:"email",title:Object(aa.jsx)(ua.EuiLink,{href:"https://www.elastic.co/kibana/feedback",external:!0},k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.addSource.configCompleted.feedbackCallOutText",{defaultMessage:"Have feedback about deploying a {name} Connector Package? Let us know.",values:{name:e}}))}))))),Rc=({name:e,onFormCreated:t,header:a})=>{const[n,o]=Object(s.useState)(!1),{getPreContentSourceConfigData:i,setSelectedGithubOrganizations:l,createContentSource:u}=Object(c.useActions)(Fn),{githubOrganizations:p,selectedGithubOrganizationsMap:d,sectionLoading:j}=Object(c.useValues)(Fn),g=p.map((e=>({id:e,label:e})));Object(s.useEffect)((()=>{i()}),[]);const x=()=>t(e),b=()=>o(!1),S=Object(aa.jsx)("form",{onSubmit:e=>{o(!0),e.preventDefault(),u(x,b)}},Object(aa.jsx)(ua.EuiFlexGroup,{direction:"row",alignItems:"flexStart",justifyContent:"spaceBetween",gutterSize:"xl",responsive:!1},Object(aa.jsx)(ua.EuiFlexItem,{grow:1,className:"adding-a-source__connect-an-instance"},Object(aa.jsx)(ua.EuiFormRow,{label:oc},Object(aa.jsx)(ua.EuiCheckboxGroup,{options:g,idToSelectedMap:d,onChange:e=>l(e)})),Object(aa.jsx)(ua.EuiSpacer,{size:"xl"}),Object(aa.jsx)(ua.EuiFormRow,null,Object(aa.jsx)(ua.EuiButton,{isLoading:n,color:"primary",fill:!0,type:"submit"},ic)))));return Object(aa.jsx)(r.a.Fragment,null,a,Object(aa.jsx)(ua.EuiSpacer,null),j?Object(aa.jsx)(ba.a,null):S)},Uc=()=>Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiPanel,{paddingSize:"l","data-test-subj":"DocumentLevelPermissionsCallout"},Object(aa.jsx)(ua.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(ua.EuiIcon,{size:"m",type:"lock"})),Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(ua.EuiText,{size:"xs"},Object(aa.jsx)("strong",null,Cc)))),Object(aa.jsx)(ua.EuiSpacer,{size:"s"}),Object(aa.jsx)(ua.EuiText,{size:"xs"},Object(aa.jsx)("p",null,Ic)),Object(aa.jsx)(ua.EuiSpacer,{size:"s"}),Object(aa.jsx)(ua.EuiText,{size:"xs"},Object(aa.jsx)(ua.EuiLink,{external:!0,target:"_blank",href:hr.a.licenseManagement},me))),Object(aa.jsx)(ua.EuiSpacer,null)),Pc=({needsPermissions:e,indexPermissionsValue:t,setValue:a})=>{const s=Object(aa.jsx)(ua.EuiLink,{target:"_blank",href:hr.a.workplaceSearchDocumentPermissions},Nc);return Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiPanel,{paddingSize:"l",hasShadow:!1,color:"subdued"},Object(aa.jsx)(ua.EuiTitle,{size:"s"},Object(aa.jsx)("h1",null,Object(aa.jsx)("strong",null,Fc))),Object(aa.jsx)(ua.EuiSpacer,{size:"s"}),Object(aa.jsx)(ua.EuiText,{color:"subdued",size:"s"},!e&&Object(aa.jsx)("span",null,Object(aa.jsx)(qr.FormattedMessage,{id:"xpack.enterpriseSearch.workplaceSearch.contentSource.connect.docPermissionsUnavailable.message",defaultMessage:"Document-level permissions are not yet available for this source. {link}",values:{link:Object(aa.jsx)(ua.EuiLink,{target:"_blank",href:hr.a.workplaceSearchDocumentPermissions},La)}})),e&&t&&Object(aa.jsx)("span",null,zc,Object(aa.jsx)(ua.EuiSpacer,{size:"s"}),s)),!t&&Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiCallOut,{title:Ac,color:"warning"},Object(aa.jsx)("p",null,Dc,e&&s))),Object(aa.jsx)(ua.EuiSpacer,null),Object(aa.jsx)(ua.EuiSwitch,{label:Object(aa.jsx)("strong",null,Lc),name:"index_permissions",onChange:e=>a(e.target.checked),checked:t,disabled:!e})),Object(aa.jsx)(ua.EuiSpacer,{size:"xl"}))},Gc=({features:e,objTypes:t,name:a})=>{const{hasPlatinumLicense:s}=Object(c.useValues)(hn.a),{isOrganization:n}=Object(c.useValues)(x),o=({icon:e,title:t,children:a})=>Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},e&&Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(ua.EuiIcon,{size:"m",type:e}))),Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiText,{size:"s"},Object(aa.jsx)("strong",null,t)))),Object(aa.jsx)(ua.EuiSpacer,{size:"s"}),Object(aa.jsx)(ua.EuiText,{size:"s"},a)),i=Object(aa.jsx)(o,{icon:"clock",title:hc},Object(aa.jsx)(ua.EuiText,{size:"s"},Object(aa.jsx)("p",null,Object(aa.jsx)(qr.FormattedMessage,{id:"xpack.enterpriseSearch.workplaceSearch.contentSource.sourceFeatures.syncFrequency.text",defaultMessage:"This source gets new content from {name} every {duration} (following the initial sync).",values:{name:a,duration:Object(aa.jsx)("strong",null,Oc)}})))),l=Object(aa.jsx)(o,{icon:"documents",title:mc},Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiText,{size:"s"},Object(aa.jsx)("p",null,kc)),Object(aa.jsx)(ua.EuiSpacer,{size:"xs"}),Object(aa.jsx)(ua.EuiText,{size:"s"},Object(aa.jsx)("ul",null,t.map(((e,t)=>Object(aa.jsx)("li",{key:t},e))))))),u=Object(aa.jsx)(o,{icon:"search",title:yc},Object(aa.jsx)(ua.EuiText,{size:"xs"},Object(aa.jsx)(ua.EuiText,{size:"xs"},Object(aa.jsx)("p",null,kc)),Object(aa.jsx)(ua.EuiSpacer,{size:"xs"}),Object(aa.jsx)("ul",null,t.map(((e,t)=>Object(aa.jsx)("li",{key:t},e)))))),p=Object(aa.jsx)(o,{icon:"calendar",title:fc},Object(aa.jsx)(ua.EuiText,{size:"xs"},Object(aa.jsx)("p",null,Mc))),d=Object(aa.jsx)(o,{icon:"lock",title:Ec},Object(aa.jsx)(ua.EuiText,{size:"xs"},Object(aa.jsx)("p",null,wc))),j=Object(aa.jsx)(o,{icon:"globe",title:vc},Object(aa.jsx)(ua.EuiText,{size:"xs"},Object(aa.jsx)("p",null,Tc))),g=({featureId:e})=>({[Xr.SyncFrequency]:i,[Xr.SearchableContent]:u,[Xr.SyncedItems]:l,[Xr.Remote]:p,[Xr.Private]:d,[Xr.GlobalAccessPermissions]:j}[e]);return Object(aa.jsx)(ua.EuiFlexGroup,{direction:"column",gutterSize:"none",className:"adding-a-source__features-list",responsive:!1},Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)((()=>{var t;let a;return!s&&n&&(a=null==e?void 0:e.basicOrgContext),s&&n&&(a=null==e?void 0:e.platinumOrgContext),s&&!n&&(a=null==e?void 0:e.platinumPrivateContext),null!==(t=a)&&void 0!==t&&t.length?Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiTitle,{size:"s"},Object(aa.jsx)("h2",null,Sc)),Object(aa.jsx)(ua.EuiSpacer,{size:"s"}),Object(aa.jsx)(ua.EuiFlexGroup,null,a.map(((e,t)=>Object(aa.jsx)(ua.EuiFlexItem,{key:t},Object(aa.jsx)(ua.EuiPanel,{hasShadow:!1,paddingSize:"l"},Object(aa.jsx)(g,{featureId:e}))))))):null}),null)))},Bc=({configuration:{needsSubdomain:e,hasOauthRedirect:t,needsCredentials:a},features:n,objTypes:o,name:i,needsPermissions:l,onFormCreated:u,header:p})=>{var d;const{hasPlatinumLicense:j}=Object(c.useValues)(hn.a),{getSourceConnectData:g,createContentSource:b,setSourceLoginValue:S,setSourcePasswordValue:h,setSourceSubdomainValue:O,setSourceIndexPermissionsValue:m}=Object(c.useActions)(Fn),{buttonLoading:y,loginValue:f,passwordValue:M,indexPermissionsValue:E,subdomainValue:w,sourceConfigData:{connectionRequiresRedirect:v}}=Object(c.useValues)(Fn),{isOrganization:T}=Object(c.useValues)(x);Object(s.useEffect)((()=>{m(l&&T&&j)}),[]);const C=t||v,I=e=>window.location.replace(e),N=()=>u(i),L=()=>g(I),F=()=>b(N),z=null==n||null===(d=n.basicOrgContextExcludedFeatures)||void 0===d?void 0:d.includes(Xr.DocumentLevelPermissions),A=Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiFormRow,{label:"Login"},Object(aa.jsx)(ua.EuiFieldText,{required:!0,name:"login",value:f,onChange:e=>S(e.target.value),"data-test-subj":"LoginField"})),Object(aa.jsx)(ua.EuiFormRow,{label:"Password"},Object(aa.jsx)(ua.EuiFieldText,{required:!0,name:"password",type:"password",value:M,onChange:e=>h(e.target.value),"data-test-subj":"PasswordField"})),Object(aa.jsx)(ua.EuiSpacer,{size:"xxl"})),D=Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiFormRow,{label:"Subdomain"},Object(aa.jsx)(ua.EuiFieldText,{required:!0,name:"subdomain",value:w,onChange:e=>O(e.target.value)})),Object(aa.jsx)(ua.EuiSpacer,{size:"xxl"})),_=Object(aa.jsx)(Pc,{needsPermissions:l,indexPermissionsValue:E,setValue:m}),R=Object(aa.jsx)(r.a.Fragment,null,T&&j&&_,a&&A,e&&D,z&&!j&&Object(aa.jsx)(Uc,null),Object(aa.jsx)(ua.EuiFormRow,null,Object(aa.jsx)(ua.EuiButton,{color:"primary",type:"submit",fill:!0,isLoading:y},k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.connect.button",{defaultMessage:"Connect {name}",values:{name:i}}))));return Object(aa.jsx)("form",{onSubmit:e=>{e.preventDefault(),(C?L:F)()}},Object(aa.jsx)(ua.EuiFlexGroup,{direction:"row",alignItems:"flexStart",justifyContent:"spaceBetween",gutterSize:"xl",responsive:!1},Object(aa.jsx)(ua.EuiFlexItem,{grow:1,className:"adding-a-source__connect-an-instance"},Object(aa.jsx)(ua.EuiPanel,{paddingSize:"none",hasShadow:!1,color:"subdued"},Object(aa.jsx)(ua.EuiPanel,{hasShadow:!1,paddingSize:"l",color:"subdued"},p),Object(aa.jsx)(ua.EuiHorizontalRule,{margin:"xs"}),Object(aa.jsx)(ua.EuiPanel,{hasShadow:!1,paddingSize:"l",color:"subdued"},Object(aa.jsx)(Gc,{features:n,name:i,objTypes:o}))),Object(aa.jsx)(ua.EuiSpacer,null),R)))};var Vc=a(80);const Hc=({name:e,header:t})=>{const{search:a}=Object(n.useLocation)(),{sourceId:o}=Object(Vc.a)(a),[i,l]=Object(s.useState)(!1),{getSourceReConnectData:u}=Object(c.useActions)(Fn),{sourceConnectData:{oauthUrl:p}}=Object(c.useValues)(Fn);return Object(s.useEffect)((()=>{u(o)}),[]),Object(aa.jsx)(r.a.Fragment,null,t,Object(aa.jsx)(ua.EuiSpacer,null),Object(aa.jsx)("form",{onSubmit:e=>{e.preventDefault(),l(!0),window.location.replace(p)}},Object(aa.jsx)(ua.EuiFlexGroup,{direction:"row",alignItems:"flexStart",justifyContent:"spaceBetween",gutterSize:"xl",responsive:!1},Object(aa.jsx)(ua.EuiFlexItem,{grow:1,className:"adding-a-source__connect-an-instance"},Object(aa.jsx)("p",null,k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.reAuthenticate.body",{defaultMessage:"Your {name} credentials are no longer valid. Please reauthenticate with the original credentials to resume content syncing.",values:{name:e}})))),Object(aa.jsx)(ua.EuiSpacer,null),Object(aa.jsx)(ua.EuiFormRow,null,Object(aa.jsx)(ua.EuiButton,{color:"primary",fill:!0,type:"submit",isLoading:!p||i},k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.reAuthenticate.button",{defaultMessage:"Reauthenticate {name}",values:{name:e}})))))},Yc=({apiKey:e,label:t})=>Object(aa.jsx)(r.a.Fragment,null,t&&Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiFormLabel,null,t),Object(aa.jsx)(ua.EuiSpacer,{size:"xs"})),Object(aa.jsx)(ua.EuiCodeBlock,{language:"bash",fontSize:"m",paddingSize:"m",color:"dark",isCopyable:!0},e)),Qc=({name:e,documentationUrl:t,applicationPortalUrl:a,applicationLinkTitle:s,discussUrl:r})=>Object(aa.jsx)(ua.EuiFlexGroup,{justifyContent:"flexStart",responsive:!1},Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(ua.EuiButtonEmpty,{flush:"left",iconType:"popout",href:t,target:"_blank"},_)),a&&Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(ua.EuiButtonEmpty,{flush:"left",iconType:"popout",href:a,target:"_blank"},s||k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.configDocs.applicationPortal.button",{defaultMessage:"{name} Application Portal",values:{name:e}}))),r&&Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(ua.EuiButtonEmpty,{flush:"left",iconType:"popout",target:"_blank",href:r},Object(aa.jsx)(qr.FormattedMessage,{id:"xpack.enterpriseSearch.workplaceSearch.contentSource.configDocs.discuss.buttonLabel",defaultMessage:"Questions? Discuss here."})))),qc=({name:e,documentationUrl:t})=>Object(aa.jsx)(ua.EuiText,{size:"s"},Object(aa.jsx)("p",null,Object(aa.jsx)(qr.FormattedMessage,{id:"xpack.enterpriseSearch.workplaceSearch.contentSource.addExternalConnector.documentation.heading",defaultMessage:"The {name} is fully customizable, and will be self-managed on the infrastructure of your choice.",values:{name:e}})),Object(aa.jsx)("p",null,Object(aa.jsx)(qr.FormattedMessage,{id:"xpack.enterpriseSearch.workplaceSearch.contentSource.addExternalConnector.documentation.description",defaultMessage:"To be prepared for configuration, review our {deploymentGuideLink} for all prerequisites needed to quickly deploy the connector package. Finalize your configuration in Enterprise Search by setting the connector's URL and API key in the next step.",values:{deploymentGuideLink:Object(aa.jsx)(ua.EuiLink,{target:"_blank",href:t},Object(aa.jsx)(qr.FormattedMessage,{id:"xpack.enterpriseSearch.workplaceSearch.contentSource.addExternalConnector.documentation.linkLabel",defaultMessage:"documentation"}))}}))),Kc=()=>{const{urlValid:e,externalConnectorApiKey:t,externalConnectorUrl:a,formDisabled:n,showInsecureUrlCallout:o}=Object(c.useValues)(In),{fetchExternalSource:i,validateUrl:l,setExternalConnectorApiKey:u,setExternalConnectorUrl:p}=Object(c.useActions)(In);return Object(s.useEffect)((()=>{i()}),[]),Object(aa.jsx)(r.a.Fragment,null,o&&Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiCallOut,{color:"danger",iconType:"warning",title:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.addSource.externalConnectorConfig.insecureTitle",{defaultMessage:"Connection not secure"})},k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.addSource.externalConnectorConfig.insecureWarning",{defaultMessage:"Your connector is using an HTTP connection, which is not private. Information synced by this connector could be viewed by others. Connect over HTTPS to secure your information."})),Object(aa.jsx)(ua.EuiSpacer,null)),Object(aa.jsx)(ua.EuiFormRow,{label:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.addSource.externalConnectorConfig.urlLabel",{defaultMessage:"Connector URL"}),isInvalid:!e,helpText:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.addSource.externalConnectorConfig.helpText",{defaultMessage:"URLs should start with https://"}),error:e?[]:[k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.addSource.externalConnectorConfig.error",{defaultMessage:"Please use a valid URL"})]},Object(aa.jsx)(ua.EuiFieldText,{value:a,disabled:n,onBlur:l,required:!0,type:"text",autoComplete:"off",onChange:e=>p(e.target.value),name:"external-connector-url"})),Object(aa.jsx)(ua.EuiFormRow,{label:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.addSource.externalConnectorConfig.apiKeyLabel",{defaultMessage:"Connector API key"})},Object(aa.jsx)(ua.EuiFieldText,{value:t,disabled:n,required:!0,type:"text",autoComplete:"off",onChange:e=>u(e.target.value),name:"external-connector-api-key"})))},Wc=()=>{const{baseServiceType:e}=Object(n.useParams)(),t=sn("external",e),{saveExternalConnectorConfig:a}=Object(c.useActions)(In),{formDisabled:s,buttonLoading:r,urlValid:o}=Object(c.useValues)(In),{isOrganization:i}=Object(c.useValues)(x);if(!t)return null;const{name:l,categories:u=[],configuration:{applicationLinkTitle:p,applicationPortalUrl:d,documentationUrl:j}}=t,g=Object(aa.jsx)(ua.EuiButton,{color:"primary",fill:!0,isLoading:r,disabled:s,type:"submit"},k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.addSource.externalConnectorConfig.registerButtonLabel",{defaultMessage:"Register deployment"})),b=Object(aa.jsx)(ua.EuiFormRow,null,Object(aa.jsx)(ua.EuiFlexGroup,{justifyContent:"flexStart",gutterSize:"m",responsive:!1},Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},g))),S=Object(aa.jsx)(ua.EuiFlexGroup,{justifyContent:"flexStart",direction:"column",responsive:!1},Object(aa.jsx)(Qc,{name:l,documentationUrl:j,applicationPortalUrl:d,applicationLinkTitle:p,discussUrl:"https://discuss.elastic.co/c/enterprise-search/84"}),Object(aa.jsx)(ua.EuiSpacer,null),Object(aa.jsx)(ua.EuiForm,{isInvalid:!o},Object(aa.jsx)(Kc,null),Object(aa.jsx)(ua.EuiSpacer,null),b)),h=[{title:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.addSource.externalConnectorConfig.stepTitle",{defaultMessage:"Provide the appropriate configuration information"}),children:S}],O=Object(aa.jsx)(On,{name:l,serviceType:e||"external",categories:u}),m=i?la:dr;return Object(aa.jsx)(m,{pageChrome:[E.SOURCES,E.ADD_SOURCE,l],isLoading:!1},O,Object(aa.jsx)(ua.EuiSpacer,{size:"l"}),Object(aa.jsx)(qc,{name:l,documentationUrl:j}),Object(aa.jsx)(ua.EuiSpacer,{size:"l"}),Object(aa.jsx)("form",{onSubmit:e=>{e.preventDefault(),a()}},Object(aa.jsx)(ua.EuiSteps,{steps:h})),Object(aa.jsx)(ua.EuiSpacer,null),Object(aa.jsx)(ua.EuiFlexGroup,{justifyContent:"center"},Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(ua.EuiCallOut,{size:"s",color:"primary",iconType:"email",title:Object(aa.jsx)(ua.EuiLink,{href:"https://www.elastic.co/kibana/feedback",external:!0},k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.feedbackCallOutText",{defaultMessage:"Have feedback about deploying a connector package? Let us know."}))}))))},$c=[{key:"client_id",label:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.saveConfig.clientIDLabel",{defaultMessage:"Client ID"})},{key:"client_secret",label:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.saveConfig.clientSecretLabel",{defaultMessage:"Client Secret"})}],Jc=[{key:"base_url",label:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.saveConfig.baseUrlLabel",{defaultMessage:"Base URL"})}],Zc=({name:e,configuration:t,advanceStep:a,goBackStep:s,onDeleteConfig:n,header:o})=>{const{documentationUrl:i,applicationPortalUrl:l,applicationLinkTitle:u}=t,{hasPlatinumLicense:p}=Object(c.useValues)(hn.a),{setConfiguredField:d}=Object(c.useActions)(Fn),{sourceConfigData:j,buttonLoading:g,configuredFields:x}=Object(c.useValues)(Fn),{accountContextOnly:b,serviceType:S,configurableFields:h=[]}=j,O=x.public_key&&x.consumer_key,m="external"===S?h:(I=!O,N=t.needsBaseUrl,[...I?$c:[],...N?Jc:[]]),y=Object(aa.jsx)(ua.EuiButton,{color:"primary",fill:!0,isLoading:g,type:"submit"},gc),f=Object(aa.jsx)(ua.EuiButton,{color:"danger",fill:!0,disabled:g,onClick:n},nt),M=Object(aa.jsx)(ua.EuiButtonEmpty,{onClick:s},xc),E=p||!b,w=Object(aa.jsx)(ua.EuiFormRow,null,Object(aa.jsx)(ua.EuiFlexGroup,{justifyContent:"flexStart",gutterSize:"m",responsive:!1},E&&Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},y),Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},s&&M,n&&f))),v={title:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.saveConfig.oauthStep1",{defaultMessage:"Create an OAuth app in your organization's {sourceName} account",values:{sourceName:e}}),children:Object(aa.jsx)(ua.EuiFlexGroup,{justifyContent:"flexStart",direction:"column",responsive:!1},Object(aa.jsx)(Qc,{name:e,documentationUrl:i,applicationPortalUrl:l,applicationLinkTitle:u}),O&&Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiSpacer,null),Object(aa.jsx)(ua.EuiFlexGroup,{direction:"column",justifyContent:"flexStart",responsive:!1},Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(Yc,{label:W,apiKey:x.public_key})),Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(Yc,{label:$,apiKey:x.consumer_key})))))},T={title:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.saveConfig.oauthStep2",{defaultMessage:"Provide the appropriate configuration information"}),children:Object(aa.jsx)(ua.EuiFlexGroup,{direction:"column",responsive:!1},Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiForm,null,"external"===S&&Object(aa.jsx)(Kc,null),m.map((({key:e,label:t},a)=>Object(aa.jsx)(ua.EuiFormRow,{key:a,label:t},Object(aa.jsx)(ua.EuiFieldText,{value:x[e],required:!0,type:"text",autoComplete:"off",onChange:t=>d(e,t.target.value),name:e})))),Object(aa.jsx)(ua.EuiSpacer,null),w)))},C="external"===S?[T]:[v,T];var I,N;return Object(aa.jsx)(r.a.Fragment,null,o,Object(aa.jsx)(ua.EuiSpacer,{size:"l"}),"external"===S&&Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(qc,{name:e,documentationUrl:i}),Object(aa.jsx)(ua.EuiSpacer,{size:"l"})),Object(aa.jsx)("form",{onSubmit:e=>{e.preventDefault(),a()}},Object(aa.jsx)(ua.EuiSteps,{steps:C,className:"adding-a-source__config-steps"})))};a(162);const Xc=()=>{const{serviceType:e,initialStep:t}=Object(n.useParams)(),a=Fn({serviceType:e,initialStep:t}),{getSourceConfigData:r,setAddSourceStep:o,saveSourceConfig:i,resetSourceState:l}=Object(c.useActions)(a),{addSourceCurrentStep:p,sourceConfigData:d,dataLoading:j}=Object(c.useValues)(a),{isOrganization:g}=Object(c.useValues)(x),{hasPlatinumLicense:b}=Object(c.useValues)(hn.a),{navigateToUrl:S}=Object(c.useValues)(u.a);Object(s.useEffect)((()=>(r(),l)),[e]);const h=sn(e);if(!h)return null;const{configuration:O,features:m,objTypes:y}=h,{name:f,categories:M,needsPermissions:w,accountContextOnly:v,privateSourcesEnabled:T}=d;!b&&v&&S(Kt(wt,g));const C=()=>o(Ln.ConfigCompletedStep),I=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.formSourceAddedSuccessMessage",{defaultMessage:"{name} connected",values:{name:f}}),N=()=>{u.a.values.navigateToUrl(`${Kt(ft,g)}`),Object(Zt.g)(I)},L=Object(aa.jsx)(On,{name:f,serviceType:e,categories:M}),F=g?la:dr;return Object(aa.jsx)(F,{pageChrome:[E.SOURCES,E.ADD_SOURCE,f||"..."],isLoading:j},p===Ln.SaveConfigStep&&Object(aa.jsx)(Zc,{name:f,configuration:O,advanceStep:()=>i(!1,C),goBackStep:()=>u.a.values.navigateToUrl(`${Kt($t(e),g)}/intro`),header:L}),p===Ln.ConfigCompletedStep&&Object(aa.jsx)(_c,{name:f,accountContextOnly:v,advanceStep:()=>o(Ln.ConnectInstanceStep),privateSourcesEnabled:T,header:L,showFeedbackLink:"external"===e}),p===Ln.ConnectInstanceStep&&Object(aa.jsx)(Bc,{name:f,serviceType:e,configuration:O,features:m,objTypes:y,needsPermissions:!!w,onFormCreated:N,header:L}),p===Ln.ConfigureOauthStep&&Object(aa.jsx)(Rc,{name:f,onFormCreated:N,header:L}),p===Ln.ReauthenticateStep&&Object(aa.jsx)(Hc,{name:f,header:L}))};var eo=a(163),to=a.n(eo);const ao=({children:e,isOrganization:t=!0,className:a="",title:s,description:n,action:c,headerChildren:o,testSubj:i})=>Object(aa.jsx)("div",{className:a,"data-test-subj":i},s&&Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(jr,{title:s,headingLevel:t?3:2,titleSize:"s",description:n,action:c}),o),e,Object(aa.jsx)(ua.EuiSpacer,null));var so=a(949),ro=a.n(so);a(950);const no=()=>{const{externalConfigured:e}=Object(c.useValues)(wn);return Object(aa.jsx)(ua.EuiEmptyPrompt,{className:"byoSourcePrompt",icon:Object(aa.jsx)(ua.EuiImage,{size:"l",src:ro.a,alt:""}),title:Object(aa.jsx)("h2",null,k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.addSource.byoSourcePrompt.title",{defaultMessage:"Don't see what you're looking for?"})),layout:"horizontal",color:"plain",body:Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)("p",null,k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.addSource.byoSourcePrompt.description",{defaultMessage:"Build, modify and deploy a connector package for your use case."}))),actions:Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiSpacer,{size:"m"}),Object(aa.jsx)(ua.EuiFlexGroup,null,Object(aa.jsx)(ua.EuiFlexItem,null,e?Object(aa.jsx)(ja.b,{to:Jt("external"),color:"primary",fill:!0,isDisabled:e},k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.addSource.byoSourcePrompt.reviewButtonLabel",{defaultMessage:"Review your connector package"})):Object(aa.jsx)(ja.b,{to:Kt($t("external"),!0)+"/intro",color:"primary",fill:!0,isDisabled:e},k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.addSource.byoSourcePrompt.registerButtonLabel",{defaultMessage:"Register your deployment"}))),Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiButton,{href:"",color:"primary"},k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.addSource.byoSourcePrompt.learnMoreButtonLabel",{defaultMessage:"Learn more"})))))})},co=({sources:e})=>{const{hasPlatinumLicense:t}=Object(c.useValues)(hn.a),a=({accountContextOnly:e,baseServiceType:a,name:s,serviceType:n})=>{const c=$t(n,a),o=!t&&e;return Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiFlexGroup,{alignItems:"center",responsive:!1,gutterSize:"m"},Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(gn,{serviceType:a||n,name:s,size:"l"})),Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiText,{size:"m"},s)),Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},o?Object(aa.jsx)(ua.EuiToolTip,{position:"top",content:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.availableSourceList.toolTipContent",{defaultMessage:"{name} is configurable as a Private Source, available with a Platinum subscription.",values:{name:s}})},Object(aa.jsx)(ua.EuiButtonEmpty,{disabled:!0},k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.availableSourceList.connectButtonLabel",{defaultMessage:"Connect"}))):Object(aa.jsx)(ja.a,{to:Kt(c,!0)+("custom"===n||"external"===n?"":"/intro")},k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.availableSourceList.connectButtonLabel",{defaultMessage:"Connect"})))),Object(aa.jsx)(ua.EuiSpacer,{size:"m"}),Object(aa.jsx)(ua.EuiHorizontalRule,{size:"full",margin:"none"}))},s=Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiFlexGrid,{columns:2,direction:"column",gutterSize:"l"},e.map(((e,t)=>Object(aa.jsx)(ua.EuiFlexItem,{grow:!1,key:t,"data-test-subj":"AvailableSourceListItem"},Object(aa.jsx)(ua.EuiFlexGroup,{justifyContent:"center",alignItems:"stretch","data-test-subj":"AvailableSourceCard"},Object(aa.jsx)(ua.EuiFlexItem,null,a(e)))))),Object(aa.jsx)(ua.EuiFlexItem,{grow:!1,"data-test-subj":"AvailableSourceListItem"},Object(aa.jsx)(ua.EuiFlexGroup,{justifyContent:"center",alignItems:"stretch","data-test-subj":"AvailableSourceCard"},Object(aa.jsx)(ua.EuiFlexItem,null,a(an)))))),n=Object(aa.jsx)("p",{"data-test-subj":"AvailableSourceEmptyState"},Hn);return Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiTitle,{size:"s"},Object(aa.jsx)("h2",null,Yn)),Object(aa.jsx)(ua.EuiText,null,Object(aa.jsx)("p",null,Qn,Object(aa.jsx)(ja.d,{to:Kt(vt,!0),"data-test-subj":"CustomAPISourceLink"},qn),".")),Object(aa.jsx)(ua.EuiSpacer,{size:"m"}),e.length>0?s:n,Object(aa.jsx)(ua.EuiSpacer,{size:"xl"}),Object(aa.jsx)(no,null))},oo=({sources:e,isOrganization:t})=>{const a=Object(aa.jsx)("span",{className:"source-card-configured__not-connected-tooltip","data-test-subj":"UnConnectedTooltip"},Object(aa.jsx)(ua.EuiToolTip,{position:"top",content:lc},Object(aa.jsx)(ua.EuiToken,{iconType:"tokenException",color:"orange",shape:"circle",fill:"light"}))),s=Object(aa.jsx)("span",{className:"source-card-configured__not-connected-tooltip","data-test-subj":"AccountOnlyTooltip"},Object(aa.jsx)(ua.EuiToolTip,{position:"top",content:uc},Object(aa.jsx)(ua.EuiToken,{iconType:"tokenException",color:"green",shape:"circle",fill:"light"}))),n=Object(aa.jsx)(ua.EuiFlexGrid,{columns:3,gutterSize:"m",className:"source-grid-configured"},e.map(((e,n)=>{const{connected:c,accountContextOnly:o,name:i,serviceType:l,isBeta:u,baseServiceType:p}=e;return Object(aa.jsx)(r.a.Fragment,{key:n},Object(aa.jsx)(ua.EuiFlexItem,{grow:!0,className:"organizational-content-source-item","data-test-subj":"ConfiguredSourcesListItem"},Object(aa.jsx)(ua.EuiCard,{title:"",betaBadgeProps:u?{label:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.configuredSourcesList.betaBadge",{defaultMessage:"Beta"})}:void 0,paddingSize:"none",hasBorder:!0},Object(aa.jsx)(ua.EuiSplitPanel.Outer,{color:"plain",hasShadow:!1},Object(aa.jsx)(ua.EuiSplitPanel.Inner,null,Object(aa.jsx)(ua.EuiFlexGroup,{justifyContent:"center",alignItems:"center",direction:"column",gutterSize:"s",responsive:!1},Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(gn,{serviceType:null!=p?p:l,name:i,size:"xxl"})),Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiText,{size:"s"},Object(aa.jsx)("h4",null,i,!c&&!o&&t&&a,o&&t&&s))))),Object(aa.jsx)(ua.EuiSplitPanel.Inner,{color:"subdued",paddingSize:"none"},(!t||t&&!o)&&Object(aa.jsx)(ja.a,{className:"eui-fullWidth",to:`${Kt($t(l),t)}/${cn(l)&&t?"choice":""}`},c?k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.configuredSources.connectAnotherButton",{defaultMessage:"Connect another"}):k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.configuredSources.connectButton",{defaultMessage:"Connect"}))||Object(aa.jsx)(ua.EuiButtonEmpty,{className:"eui-fullWidth",isDisabled:!0},Un))))))}))),c=Object(aa.jsx)("p",{"data-test-subj":"ConfiguredSourceEmptyState"},pc);return Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiTitle,{size:"s"},Object(aa.jsx)("h3",null,dc)),Object(aa.jsx)(ua.EuiText,null,Object(aa.jsx)("p",null,jc)),Object(aa.jsx)(ua.EuiSpacer,{size:"m"}),e.length>0?n:c,Object(aa.jsx)(ua.EuiSpacer,{size:"xxl"}))},io=()=>{const{contentSources:e,dataLoading:t,availableSources:a,configuredSources:r}=Object(c.useValues)(wn),{initializeSources:n,resetSourcesState:o}=Object(c.useActions)(wn),{isOrganization:i}=Object(c.useValues)(x),[l,u]=Object(s.useState)("");Object(s.useEffect)((()=>(n(),o)),[]);const p=e.length>0,d=r.find((({serviceType:e})=>e!==D)),j=(p?"":An)+(i?Dn:_n),g=p?i?Un:Pn:Rn,b=(e,t)=>{if(!l)return!0;const a=t.find((({serviceType:t})=>t===e.serviceType));return((null==a?void 0:a.name)||"").toLowerCase().indexOf(l.toLowerCase())>-1},S=a.filter((e=>b(e,a))),h=r.filter((e=>b(e,r))),O=i?la:dr;return Object(aa.jsx)(O,{pageChrome:[E.SOURCES,E.ADD_SOURCE],pageViewTelemetry:"add_source",pageHeader:t?void 0:{pageTitle:g,description:j},isLoading:t},!i&&Object(aa.jsx)("div",null,Object(aa.jsx)(jr,{title:g,description:j})),d||i?Object(aa.jsx)(ao,null,Object(aa.jsx)(ua.EuiFormRow,null,Object(aa.jsx)(ua.EuiFieldSearch,{"data-test-subj":"FilterSourcesInput",value:l,onChange:e=>u(e.target.value),fullWidth:!0,placeholder:Gn})),Object(aa.jsx)(ua.EuiSpacer,{size:"xxl"}),d&&Object(aa.jsx)(oo,{isOrganization:i,sources:h}),i&&Object(aa.jsx)(co,{sources:S})):Object(aa.jsx)(ao,null,Object(aa.jsx)(ua.EuiFlexGroup,{justifyContent:"center",alignItems:"stretch"},Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiSpacer,{size:"xl"}),Object(aa.jsx)(ua.EuiPanel,{hasShadow:!1,color:"subdued"},Object(aa.jsx)(ua.EuiSpacer,{size:"s"}),Object(aa.jsx)(ua.EuiSpacer,{size:"xxl"}),Object(aa.jsx)(ua.EuiEmptyPrompt,{iconType:to.a,title:Object(aa.jsx)("h2",null,Bn),body:Object(aa.jsx)("p",null,Vn)}),Object(aa.jsx)(ua.EuiSpacer,{size:"xxl"}),Object(aa.jsx)(ua.EuiSpacer,{size:"m"})),Object(aa.jsx)(ua.EuiSpacer,{size:"xl"})))))},lo=Object(c.kea)({path:["enterprise_search","workplace_search","github_via_app_logic"],actions:{setGithubAppId:e=>e,setGithubEnterpriseServerUrl:e=>e,createContentSource:e=>e,setStagedPrivateKey:e=>e,setButtonNotLoading:!1,setSourceIndexPermissionsValue:e=>e},reducers:{githubAppId:["",{setGithubAppId:(e,t)=>t}],githubEnterpriseServerUrl:["",{setGithubEnterpriseServerUrl:(e,t)=>t}],stagedPrivateKey:[null,{setStagedPrivateKey:(e,t)=>t}],isSubmitButtonLoading:[!1,{createContentSource:()=>!0,setButtonNotLoading:()=>!1}],indexPermissionsValue:[!0,{setSourceIndexPermissionsValue:(e,t)=>t,resetSourceState:()=>!1}]},listeners:({actions:e,values:t})=>({createContentSource:async a=>{const{isOrganization:s}=x.values,r=s?"/internal/workplace_search/org/create_source":"/internal/workplace_search/account/create_source",{githubAppId:n,githubEnterpriseServerUrl:c,stagedPrivateKey:o,indexPermissionsValue:i}=t,p={service_type:a?A:z,app_id:n,base_url:c,private_key:o,index_permissions:i};try{const e=await l.a.values.http.post(r,{body:JSON.stringify({...p})});u.a.values.navigateToUrl(`${Kt(ft,s)}`),Object(Zt.g)(`${e.serviceName} connected`)}catch(e){Object(Zt.e)(e)}finally{e.setButtonNotLoading()}}})}),uo=({isGithubEnterpriseServer:e})=>{const{isOrganization:t}=Object(c.useValues)(x),{githubAppId:a,githubEnterpriseServerUrl:r,stagedPrivateKey:n,isSubmitButtonLoading:o,indexPermissionsValue:i}=Object(c.useValues)(lo),{setGithubAppId:l,setGithubEnterpriseServerUrl:u,setStagedPrivateKey:p,createContentSource:d,setSourceIndexPermissionsValue:j}=Object(c.useActions)(lo),{hasPlatinumLicense:g}=Object(c.useValues)(hn.a),b=e?T.GITHUB_ENTERPRISE:T.GITHUB,S=e?"github_enterprise_server":"github",h=tn.find((e=>e.serviceType===S)),O=t?la:dr;return Object(s.useEffect)((()=>{j(t&&g)}),[]),Object(aa.jsx)(O,{pageChrome:[E.SOURCES,E.ADD_SOURCE,b||"..."],isLoading:!1},Object(aa.jsx)("form",{onSubmit:t=>{t.preventDefault(),d(e)}},Object(aa.jsx)(ua.EuiPanel,{paddingSize:"none",hasShadow:!1,color:"subdued"},Object(aa.jsx)(ua.EuiPanel,{hasShadow:!1,paddingSize:"l",color:"subdued"},Object(aa.jsx)(On,{name:b,serviceType:"github",categories:["Software","Version Control","Code Repository"]})),Object(aa.jsx)(ua.EuiHorizontalRule,{margin:"xs"}),Object(aa.jsx)(ua.EuiPanel,{hasShadow:!1,paddingSize:"l",color:"subdued"},Object(aa.jsx)(Gc,{features:h.features,name:b,objTypes:h.objTypes}))),Object(aa.jsx)(ua.EuiSpacer,null),!g&&Object(aa.jsx)(Uc,null),g&&t&&Object(aa.jsx)(Pc,{needsPermissions:!0,indexPermissionsValue:i,setValue:j}),Object(aa.jsx)(ua.EuiFormRow,{label:"GitHub App ID"},Object(aa.jsx)(ua.EuiFieldText,{value:a,onChange:e=>l(e.target.value)})),e&&Object(aa.jsx)(ua.EuiFormRow,{label:"Base URL"},Object(aa.jsx)(ua.EuiFieldText,{value:r,onChange:e=>u(e.target.value)})),Object(aa.jsx)(ua.EuiFormRow,{label:"Private key",helpText:"Upload private key (.pem) to authenticate GitHub"},Object(aa.jsx)(ua.EuiFilePicker,{onChange:e=>fn(e,p),accept:".pem"})),Object(aa.jsx)(ua.EuiButton,{fill:!0,type:"submit",isLoading:o,isDisabled:!a||e&&!r||!n},o?"Connecting…":`Connect ${b}`)))};var po=a(49),jo=a(46);const go=Object(jo.a)(["workplace_search","add_custom_source_api_logic"],(async({name:e,baseServiceType:t})=>{const{isOrganization:a}=x.values,s=a?"/internal/workplace_search/org/create_source":"/internal/workplace_search/account/create_source",r={service_type:"custom",name:e,base_service_type:t};return{source:await l.a.values.http.post(s,{body:JSON.stringify(r)})}}));let xo;!function(e){e.ConfigureCustomStep="Configure Custom",e.SaveCustomStep="Save Custom"}(xo||(xo={}));const bo=Object(c.kea)({connect:{actions:[go,["makeRequest","apiError","apiSuccess"]],values:[go,["status"]]},path:["enterprise_search","workplace_search","add_custom_source_logic"],actions:{createContentSource:!0,setCustomSourceNameValue:e=>e,setNewCustomSource:e=>e},reducers:({props:e})=>({buttonLoading:[!1,{createContentSource:()=>!0,apiSuccess:()=>!1,apiError:()=>!1}],currentStep:[xo.ConfigureCustomStep,{setNewCustomSource:()=>xo.SaveCustomStep}],customSourceNameValue:[e.initialValue||"",{setCustomSourceNameValue:(e,t)=>t}],newCustomSource:[{},{setNewCustomSource:(e,t)=>t}]}),listeners:({actions:e,values:t,props:a})=>({createContentSource:()=>{const{customSourceNameValue:s}=t,{baseServiceType:r}=a;e.makeRequest({name:s,baseServiceType:r})},apiSuccess:({source:t})=>{e.setNewCustomSource(t)}}),selectors:{buttonLoading:[e=>[e.status],e=>e===po.a.LOADING]}});var So=a(241),ho=a.n(So);const Oo=({sourceData:e})=>{const{setCustomSourceNameValue:t,createContentSource:a}=Object(c.useActions)(bo),{customSourceNameValue:s,buttonLoading:n}=Object(c.useValues)(bo),{serviceType:o,baseServiceType:i,configuration:{documentationUrl:l,githubRepository:u},name:p,categories:d=[]}=e;return Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(On,{name:p,serviceType:null!=i?i:o,categories:d}),Object(aa.jsx)(ua.EuiSpacer,{size:"xxl"}),Object(aa.jsx)(ua.EuiFlexGroup,{justifyContent:"flexStart",alignItems:"stretch",direction:"row",gutterSize:"xl",responsive:!1},Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)("div",{className:"adding-a-source__intro-image"},Object(aa.jsx)("img",{src:ho.a,alt:Jn}))),Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiSpacer,{size:"xl"}),Object(aa.jsx)(ua.EuiTitle,{size:"l"},Object(aa.jsx)("h2",null,Object(aa.jsx)(qr.FormattedMessage,{id:"xpack.enterpriseSearch.workplaceSearch.contentSource.configCustom.title",defaultMessage:"How to add {name}",values:{name:p}}))),Object(aa.jsx)(ua.EuiSpacer,{size:"m"}),Object(aa.jsx)(ua.EuiForm,{component:"form",onSubmit:e=>{e.preventDefault(),a()}},Object(aa.jsx)(ua.EuiText,{grow:!1},"custom"===o?Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)("p",null,Object(aa.jsx)(qr.FormattedMessage,{id:"xpack.enterpriseSearch.workplaceSearch.sources.helpText.custom",defaultMessage:"To create a Custom API Source, provide a human-readable and descriptive name. The name will appear as-is in the various search experiences and management interfaces."})),Object(aa.jsx)("p",null,Object(aa.jsx)(qr.FormattedMessage,{id:"xpack.enterpriseSearch.workplaceSearch.contentSource.configCustom.docs.link.description",defaultMessage:"{link} to learn more about Custom API Sources.",values:{link:Object(aa.jsx)(ua.EuiLink,{href:hr.a.workplaceSearchCustomSources,target:"_blank"},cc)}}))):Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)("p",null,Object(aa.jsx)(qr.FormattedMessage,{id:"xpack.enterpriseSearch.workplaceSearch.contentSource.configCustom.deploymentGuide.heading",defaultMessage:"The {name} connector is fully customizable, and will be self-managed on the infrastructure of your choice.",values:{name:p}})),Object(aa.jsx)("p",null,Object(aa.jsx)(qr.FormattedMessage,{id:"xpack.enterpriseSearch.workplaceSearch.contentSource.configCustom.deploymentGuide.description",defaultMessage:"To be prepared for configuration, review our {deploymentGuideLink} for all prerequisites needed to quickly deploy the connector package. Finalize your configuration in Enterprise Search with a descriptive name for the {name} content source, and update the connector config file with the source ID provided in the next step.",values:{name:p,deploymentGuideLink:Object(aa.jsx)(ua.EuiLink,{target:"_blank",href:l},Object(aa.jsx)(qr.FormattedMessage,{id:"xpack.enterpriseSearch.workplaceSearch.contentSource.configCustom.deploymentGuide.linkLabel",defaultMessage:"documentation"}))}})),Object(aa.jsx)("p",null,Object(aa.jsx)(ua.EuiLink,{target:"_blank",href:`https://github.com/${u}`},Object(aa.jsx)(qr.FormattedMessage,{id:"xpack.enterpriseSearch.workplaceSearch.contentSource.configCustom.deploymentGuide.githubRepoLinkLabel",defaultMessage:"Customize the connector here."}))),Object(aa.jsx)("p",null,Object(aa.jsx)(ua.EuiLink,{target:"_blank",href:"https://discuss.elastic.co/c/enterprise-search/84"},Object(aa.jsx)(qr.FormattedMessage,{id:"xpack.enterpriseSearch.workplaceSearch.contentSource.configCustom.deploymentGuide.discussLinkLabel",defaultMessage:"Questions? Discuss here."}))),Object(aa.jsx)("p",null,Object(aa.jsx)(ua.EuiLink,{target:"_blank",href:"https://www.elastic.co/kibana/feedback"},Object(aa.jsx)(qr.FormattedMessage,{id:"xpack.enterpriseSearch.workplaceSearch.contentSource.configCustom.deploymentGuide.feedbackLinkLabel",defaultMessage:"We're always looking to improve. Share your feedback  "}))))),Object(aa.jsx)(ua.EuiSpacer,{size:"xxl"}),Object(aa.jsx)(ua.EuiFormRow,{label:gs},Object(aa.jsx)(ua.EuiFieldText,{name:"source-name",required:!0,"data-test-subj":"CustomSourceNameInput",value:s,onChange:e=>t(e.target.value)})),Object(aa.jsx)(ua.EuiSpacer,null),Object(aa.jsx)(ua.EuiFormRow,null,Object(aa.jsx)(ua.EuiButton,{color:"primary",fill:!0,type:"submit",isLoading:n,"data-test-subj":"CreateCustomButton"},"custom"===o?nc:Object(aa.jsx)(qr.FormattedMessage,{id:"xpack.enterpriseSearch.workplaceSearch.contentSource.configCustom.createNamedSourceButtonLabel",defaultMessage:"Configure {name}",values:{name:p}})))))))},mo=({sourceData:e})=>{const{newCustomSource:t}=Object(c.useValues)(bo),{isOrganization:a}=Object(c.useValues)(x),{serviceType:s,baseServiceType:n,name:o,categories:i=[]}=e;return Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(On,{name:o,serviceType:null!=n?n:s,categories:i}),Object(aa.jsx)(ua.EuiSpacer,{size:"xxl"}),Object(aa.jsx)(ua.EuiFlexGroup,null,Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiPanel,{paddingSize:"l",hasShadow:!1,color:"subdued"},Object(aa.jsx)(ua.EuiFlexGroup,{direction:"column",alignItems:"center",style:{marginTop:"auto",marginBottom:"auto"}},Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiIcon,{type:"checkInCircleFilled",color:"success",size:"xxl"})),Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiTitle,{size:"l"},Object(aa.jsx)(ua.EuiTextAlign,{textAlign:"center"},Object(aa.jsx)("h2",null,k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.saveCustom.heading",{defaultMessage:"{name} Created",values:{name:t.name}}))))),Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiText,{grow:!1},Object(aa.jsx)(ua.EuiTextAlign,{textAlign:"center"},bc))),Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ja.b,{size:"m",color:"primary",fill:!0,to:Kt(ft,a)},Object(aa.jsx)(qr.FormattedMessage,{id:"xpack.enterpriseSearch.workplaceSearch.contentSource.saveCustom.configureNewSourceButtonLabel",defaultMessage:"Configure a new content source"})))))),Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ln,{source:t,baseServiceType:n}))),n&&Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiSpacer,null),Object(aa.jsx)(ua.EuiFlexGroup,{justifyContent:"center"},Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(ua.EuiCallOut,{"data-test-subj":"FeedbackCallout",heading:"h3",size:"s",title:Object(aa.jsx)(ua.EuiLink,{href:"https://www.elastic.co/kibana/feedback",external:!0},Object(aa.jsx)(qr.FormattedMessage,{id:"xpack.enterpriseSearch.workplaceSearch.sources.feedbackLinkLabel",defaultMessage:"Have feedback about deploying a {name} connector? Let us know.",values:{name:o}})),iconType:"email"})))))},yo=()=>{const{baseServiceType:e}=Object(n.useParams)(),t=sn("custom",e),a=bo({baseServiceType:e,initialValue:null==t?void 0:t.name}),{currentStep:s}=Object(c.useValues)(a),{isOrganization:r}=Object(c.useValues)(x);if(!t)return null;const o=r?la:dr;return Object(aa.jsx)(o,{pageChrome:[E.SOURCES,E.ADD_SOURCE,t.name]},s===xo.ConfigureCustomStep&&Object(aa.jsx)(Oo,{sourceData:t}),s===xo.SaveCustomStep&&Object(aa.jsx)(mo,{sourceData:t}))},ko=()=>{const{name:e,categories:t=[],serviceType:a}=en,{isOrganization:s}=Object(c.useValues)(x),r=s?la:dr,n=`${Kt($t(a),s)}/connector_registration`;return Object(aa.jsx)(r,{pageChrome:[E.SOURCES,E.ADD_SOURCE,e]},Object(aa.jsx)(On,{name:e,serviceType:a,categories:t}),Object(aa.jsx)(ua.EuiSpacer,null),Object(aa.jsx)(ua.EuiFlexGroup,{justifyContent:"flexStart",alignItems:"flexStart",direction:"row",responsive:!1},Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiPanel,{color:"subdued",paddingSize:"none"},Object(aa.jsx)(ua.EuiFlexGroup,{justifyContent:"flexStart",alignItems:"stretch",direction:"row",gutterSize:"xl",responsive:!1},Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)("div",{className:"adding-a-source__intro-image"},Object(aa.jsx)("img",{src:ho.a,alt:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.byoConfigIntro.alt.text",{defaultMessage:"Connection illustration"})}))),Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiFlexGroup,{direction:"column",className:"adding-a-source__intro-steps"},Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiSpacer,{size:"xl"}),Object(aa.jsx)(ua.EuiTitle,{size:"l"},Object(aa.jsx)("h2",null,k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.byoConfigIntro.steps.title",{defaultMessage:"Build and deploy a custom connector package to add data from custom content sources, or modify the behavior of first party content sources"}))),Object(aa.jsx)(ua.EuiSpacer,{size:"l"})),Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiFlexGroup,{alignItems:"flexStart",justifyContent:"flexStart",responsive:!1},Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)("div",{className:"adding-a-source__intro-step"},Object(aa.jsx)(ua.EuiTitle,{size:"xs"},Object(aa.jsx)("h3",null,k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.byoConfigIntro.step1.heading",{defaultMessage:"Step 1"}))))),Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiText,{size:"m",grow:!1},Object(aa.jsx)("h4",null,Object(aa.jsx)(qr.FormattedMessage,{id:"xpack.enterpriseSearch.workplaceSearch.contentSource.byoConfigIntro.step1.title",defaultMessage:"Build or modify the code"})),Object(aa.jsx)("p",null,Object(aa.jsx)(qr.FormattedMessage,{id:"xpack.enterpriseSearch.workplaceSearch.contentSource.byoConfigIntro.step1.text",defaultMessage:"In the Connector Package {repositoryLink}, there’s everything you need to understand the connector framework and get set up with your coding environment.",values:{repositoryLink:Object(aa.jsx)(ua.EuiLink,{external:!0,target:"_blank",href:"https://github.com/elastic/connectors"},k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.byoConfigIntro.step1.repositoryLinkLabel",{defaultMessage:"repository"}))}})))))),Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiFlexGroup,{alignItems:"flexStart",justifyContent:"flexStart",responsive:!1},Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)("div",{className:"adding-a-source__intro-step"},Object(aa.jsx)(ua.EuiTitle,{size:"xs"},Object(aa.jsx)("h4",null,k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.byoConfigIntro.step2.heading",{defaultMessage:"Step 2"}))))),Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiText,{size:"m",grow:!1},Object(aa.jsx)("h4",null,Object(aa.jsx)(qr.FormattedMessage,{id:"xpack.enterpriseSearch.workplaceSearch.contentSource.byoConfigIntro.step2.title",defaultMessage:"Deploy your custom connector package"})),Object(aa.jsx)("p",null,Object(aa.jsx)(qr.FormattedMessage,{id:"xpack.enterpriseSearch.workplaceSearch.contentSource.byoConfigIntro.step2.text",defaultMessage:"Connector packages are self managed on the infrastructure you deploy. Review the {documentationLink} for prerequisites to get started with your deployment.",values:{documentationLink:Object(aa.jsx)(ua.EuiLink,{external:!0,target:"_blank",href:hr.a.workplaceSearchCustomConnectorPackage},k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.byoConfigIntro.step2.documentationLinkLabel",{defaultMessage:"documentation"}))}})))))),Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiText,{size:"m",grow:!1},Object(aa.jsx)("p",null,Object(aa.jsx)(qr.FormattedMessage,{id:"xpack.enterpriseSearch.workplaceSearch.contentSource.byoConfigIntro.step3.text",defaultMessage:"Once you’ve built and deployed your connector package, come back here to register your connector package deployment, finalize configuration and connect to your content sources."})))),Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiSpacer,{size:"l"}),Object(aa.jsx)(ua.EuiFormRow,null,Object(aa.jsx)(ja.b,{color:"primary","data-test-subj":"ConfigureStepButton",fill:!0,to:n},k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.byoConfigIntro.configure.button",{defaultMessage:"Register your deployment"}))),Object(aa.jsx)(ua.EuiSpacer,{size:"xl"})))))))))},fo=({title:e,description:t,buttonText:a,to:s,badgeLabel:r,disabledMessage:n})=>Object(aa.jsx)(ua.EuiFlexItem,{grow:!0},Object(aa.jsx)(ua.EuiCard,{isDisabled:!!n,hasBorder:!0,title:e,description:n||t,betaBadgeProps:r?{label:r}:void 0,footer:Object(aa.jsx)(ja.b,{color:"primary",to:s,isDisabled:!!n},a)})),Mo=({sourceData:{name:e,categories:t=[],serviceType:a}})=>{const n=rn(a),o=nn(a),{isOrganization:i}=Object(c.useValues)(x),{initializeSources:l,resetSourcesState:u}=Object(c.useActions)(wn),{externalConfigured:p}=Object(c.useValues)(wn);Object(s.useEffect)((()=>(l(),u)),[]);const d=`${Kt($t(a),i)}/`,j=`${Kt($t("external",a),i)}/connector_registration`,g=`${Kt($t("custom",a),i)}`,b={title:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.configExternalChoice.internal.title",{defaultMessage:"Connector"}),description:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.configExternalChoice.internal.description",{defaultMessage:"Use this connector to get started quickly without deploying additional infrastructure."}),buttonText:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.configExternalChoice.internal.button",{defaultMessage:"Connect"}),badgeLabel:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.configExternalChoice.external.recommendedLabel",{defaultMessage:"Recommended"}),to:d},h={title:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.configExternalChoice.external.title",{defaultMessage:"Connector Package"}),description:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.configExternalChoice.external.description",{defaultMessage:"Deploy this connector package on self-managed infrastructure for advanced use cases."}),buttonText:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.configExternalChoice.external.button",{defaultMessage:"Instructions"}),to:j,badgeLabel:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.configExternalChoice.external.betaLabel",{defaultMessage:"Technical preview"})},O={title:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.configExternalChoice.custom.title",{defaultMessage:"Custom connector"}),description:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.configExternalChoice.custom.description",{defaultMessage:"Set up a custom connector for more configurability and control."}),buttonText:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.configExternalChoice.custom.button",{defaultMessage:"Instructions"}),to:g};return Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(On,{name:e,serviceType:a,categories:t}),Object(aa.jsx)(ua.EuiSpacer,{size:"l"}),Object(aa.jsx)(ua.EuiFlexGroup,{justifyContent:"flexStart",direction:"row",responsive:!1},Object(aa.jsx)(fo,S()({},b,{"data-test-subj":"InternalConnectorCard"})),n&&(p?Object(aa.jsx)(fo,S()({},h,{buttonText:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.configExternalChoice.external.reviewButtonLabel",{defaultMessage:"Review the connector package"}),to:Jt("external"),"data-test-subj":"ExternalConnectorCard"})):Object(aa.jsx)(fo,S()({},h,{"data-test-subj":"ExternalConnectorCard"}))),o&&Object(aa.jsx)(fo,S()({},O,{"data-test-subj":"CustomConnectorCard"}))))},Eo=()=>{const{serviceType:e}=Object(n.useParams)(),t=sn(e),{isOrganization:a}=Object(c.useValues)(x),{hasPlatinumLicense:s}=Object(c.useValues)(hn.a),{navigateToUrl:r}=Object(c.useValues)(u.a);if(!t)return null;const{name:o,accountContextOnly:i}=t;!s&&i&&r(Kt(wt,a));const l=a?la:dr;return Object(aa.jsx)(l,{pageChrome:[E.SOURCES,E.ADD_SOURCE,o]},Object(aa.jsx)(Mo,{sourceData:t}))},wo=({name:e,advanceStepTo:t,header:a})=>Object(aa.jsx)(r.a.Fragment,null,a,Object(aa.jsx)(ua.EuiSpacer,null),Object(aa.jsx)(ua.EuiFlexGroup,{justifyContent:"flexStart",alignItems:"flexStart",direction:"row",responsive:!1},Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiPanel,{color:"subdued",paddingSize:"none"},Object(aa.jsx)(ua.EuiFlexGroup,{justifyContent:"flexStart",alignItems:"stretch",direction:"row",gutterSize:"xl",responsive:!1},Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)("div",{className:"adding-a-source__intro-image"},Object(aa.jsx)("img",{src:ho.a,alt:Jn}))),Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiFlexGroup,{direction:"column",className:"adding-a-source__intro-steps"},Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiSpacer,{size:"xl"}),Object(aa.jsx)(ua.EuiTitle,{size:"l"},Object(aa.jsx)("h2",null,k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.configIntro.steps.title",{defaultMessage:"How to add {name}",values:{name:e}}))),Object(aa.jsx)(ua.EuiSpacer,{size:"m"}),Object(aa.jsx)(ua.EuiText,{color:"subdued",grow:!1},Object(aa.jsx)("p",null,Zn)),Object(aa.jsx)(ua.EuiSpacer,{size:"l"})),Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiFlexGroup,{alignItems:"flexStart",justifyContent:"flexStart",responsive:!1},Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)("div",{className:"adding-a-source__intro-step"},Object(aa.jsx)(ua.EuiTitle,{size:"xs"},Object(aa.jsx)("h3",null,Xn)))),Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiText,{size:"m",grow:!1},Object(aa.jsx)("h4",null,Object(aa.jsx)(qr.FormattedMessage,{id:"xpack.enterpriseSearch.workplaceSearch.contentSource.configIntro.step1.title",defaultMessage:"Configure an OAuth application {badge}",values:{badge:Object(aa.jsx)(ua.EuiBadge,{color:"#6DCCB1"},ec)}})),Object(aa.jsx)("p",null,tc))))),Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiFlexGroup,{alignItems:"flexStart",justifyContent:"flexStart",responsive:!1},Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)("div",{className:"adding-a-source__intro-step"},Object(aa.jsx)(ua.EuiTitle,{size:"xs"},Object(aa.jsx)("h4",null,ac)))),Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiText,{size:"m",grow:!1},Object(aa.jsx)("h4",null,sc),Object(aa.jsx)("p",null,rc))))),Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiSpacer,{size:"l"}),Object(aa.jsx)(ua.EuiFormRow,null,Object(aa.jsx)(ja.b,{color:"primary","data-test-subj":"ConfigureStepButton",fill:!0,to:t},k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.configIntro.configure.button",{defaultMessage:"Configure {name}",values:{name:e}}))),Object(aa.jsx)(ua.EuiSpacer,{size:"xl"}))))))))),vo=()=>{const{serviceType:e}=Object(n.useParams)(),t=sn(e),{isOrganization:a}=Object(c.useValues)(x),{hasPlatinumLicense:s}=Object(c.useValues)(hn.a),{navigateToUrl:r}=Object(c.useValues)(u.a);if(!t)return null;const{name:o,categories:i=[],accountContextOnly:l}=t;!s&&l&&r(Kt(wt,a));const p=Object(aa.jsx)(On,{name:o,serviceType:e,categories:i}),d=a?la:dr,j=`${Kt($t(e),a)}/`+(cn(e)?"choice":"");return Object(aa.jsx)(d,{pageChrome:[E.SOURCES,E.ADD_SOURCE,o]},Object(aa.jsx)(wo,{name:o,advanceStepTo:j,header:p}))};var To=a(17),Co=a.n(To);a(955);const Io=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sourceRow.reauthenticateStatusLinkLabel",{defaultMessage:"Re-authenticate"}),No=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sourceRow.remoteLabel",{defaultMessage:"Remote"}),Lo=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sourceRow.remoteTooltip",{defaultMessage:"Remote sources rely on the source's search service directly, and no content is indexed with Workplace Search. Speed and integrity of results are functions of the third-party service's health and performance."}),Fo=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sourceRow.searchableToggleLabel",{defaultMessage:"Source searchable toggle"}),zo=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sourceRow.detailsLabel",{defaultMessage:"Details"}),Ao=({source:{id:e,serviceType:t,searchable:a,supportedByLicense:s,status:n,statusMessage:c,name:o,documentCount:i,isFederatedSource:l,errorReason:u,allowsReauth:p,activities:d,mainIcon:j},onSearchableToggle:g,isOrganization:x,showDetails:b})=>{var S,h;const O="indexing"===n,m=n===v||"disconnected"===n,y=m&&p&&(null==u?void 0:u.startsWith("OAuth access token could not be refreshed"))&&(null===(S=d[0])||void 0===S||null===(h=S.status)||void 0===h?void 0:h.toLowerCase())===v,k=Co()({"source-row--error":m}),f=Object(aa.jsx)(ja.d,{to:Kt(`${wt}/${t}/reauthenticate?sourceId=${e}`,x)},Io),M=Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)("span",null,No),Object(aa.jsx)(ua.EuiToolTip,{position:"top",content:Lo},Object(aa.jsx)(ua.EuiIcon,{type:"questionInCircle"})));return Object(aa.jsx)(ua.EuiTableRow,{"data-test-subj":"GroupsRow",className:k},Object(aa.jsx)(ua.EuiTableRowCell,null,Object(aa.jsx)(ua.EuiFlexGroup,{justifyContent:"flexStart",alignItems:"center",gutterSize:"m",responsive:!1},Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(gn,{serviceType:O?"loadingSmall":t,name:o,iconAsBase64:j})),Object(aa.jsx)(ua.EuiFlexItem,null,o))),Object(aa.jsx)(ua.EuiTableRowCell,null,Object(aa.jsx)(ua.EuiFlexGroup,{justifyContent:"flexStart",alignItems:"center",responsive:!1,gutterSize:"xs"},"need-more-config"===n&&Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(ua.EuiIcon,{size:"m",type:"dot",color:"warning"})),Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiText,{color:"need-more-config"===n?"default":"subdued",size:"xs"},c)))),Object(aa.jsx)(ua.EuiTableRowCell,{"data-test-subj":"SourceDocumentCount"},l?M:parseInt(i,10).toLocaleString("en-US")),g&&Object(aa.jsx)(ua.EuiTableRowCell,null,Object(aa.jsx)(ua.EuiSwitch,{checked:a,onChange:t=>g(e,t.target.checked),disabled:!s,compressed:!0,label:Fo,showLabel:!1,"data-test-subj":"SourceSearchableToggle"})),Object(aa.jsx)(ua.EuiTableRowCell,{align:"right"},Object(aa.jsx)(ua.EuiFlexGroup,{justifyContent:"flexEnd",alignItems:"center",gutterSize:"s"},y&&Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},f),Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},b&&Object(aa.jsx)(ja.d,{className:"eui-textNoWrap","data-test-subj":"SourceDetailsLink",to:Qt(Ct,e,!!x)},zo)))))},Do=({sources:e,showDetails:t,isOrganization:a,onSearchableToggle:s})=>Object(aa.jsx)(ua.EuiTable,{responsive:!1},Object(aa.jsx)(ua.EuiTableHeader,null,Object(aa.jsx)(ua.EuiTableHeaderCell,null,Le),Object(aa.jsx)(ua.EuiTableHeaderCell,null,fa),Object(aa.jsx)(ua.EuiTableHeaderCell,null,it),s&&Object(aa.jsx)(ua.EuiTableHeaderCell,null,lt),a&&Object(aa.jsx)(ua.EuiTableHeaderCell,{align:"right"},f.a)),Object(aa.jsx)(ua.EuiTableBody,null,e.map((e=>Object(aa.jsx)(Ao,{key:e.id,source:e,showDetails:t,isOrganization:a,onSearchableToggle:s}))))),_o=({children:e})=>{const{resetPermissionsModal:t}=Object(c.useActions)(wn),{dataLoading:a,permissionsModal:s}=Object(c.useValues)(wn);return a?Object(aa.jsx)(ba.a,null):Object(aa.jsx)(r.a.Fragment,null,(null==s?void 0:s.additionalConfiguration)&&Object(aa.jsx)((({addedSourceName:e,serviceType:a})=>Object(aa.jsx)(ua.EuiModal,{onClose:t},Object(aa.jsx)(ua.EuiModalHeader,null,Object(aa.jsx)(ua.EuiFlexGroup,{justifyContent:"flexStart",alignItems:"center",responsive:!1,gutterSize:"s"},Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(gn,{serviceType:a,name:e,size:"xxl"})),Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiModalHeaderTitle,null,k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sourcesView.modal.heading",{defaultMessage:"{addedSourceName} requires additional configuration",values:{addedSourceName:e}}))))),Object(aa.jsx)(ua.EuiModalBody,null,Object(aa.jsx)(ua.EuiText,{grow:!1},Object(aa.jsx)("p",null,Object(aa.jsx)(qr.FormattedMessage,{id:"xpack.enterpriseSearch.workplaceSearch.sourcesView.modal.success",defaultMessage:"{addedSourceName} has been successfully connected and initial content synchronization is already underway. Since you have elected to synchronize document-level permission information, you must now provide user and group mappings using the {externalIdentitiesLink}.",values:{addedSourceName:e,externalIdentitiesLink:Object(aa.jsx)(ua.EuiLink,{target:"_blank",href:hr.a.workplaceSearchExternalIdentities},Da)}})),Object(aa.jsx)("p",null,Object(aa.jsx)(qr.FormattedMessage,{id:"xpack.enterpriseSearch.workplaceSearch.sourcesView.modal.docPermissions.description",defaultMessage:"Documents will not be searchable from Workplace Search until user and group mappings have been configured. {documentPermissionsLink}.",values:{documentPermissionsLink:Object(aa.jsx)(ua.EuiLink,{target:"_blank",href:hr.a.workplaceSearchDocumentPermissions},Is)}})))),Object(aa.jsx)(ua.EuiModalFooter,null,Object(aa.jsx)(ua.EuiButton,{onClick:t,fill:!0},Ns)))),{addedSourceName:s.addedSourceName,serviceType:s.serviceType}),e)},Ro=()=>{const{initializeSources:e,setSourceSearchability:t,resetSourcesState:a}=Object(c.useActions)(wn);Object(s.useEffect)((()=>(e(),a)),[]);const{dataLoading:r,contentSources:o}=Object(c.useValues)(wn);return Object(aa.jsx)(la,{pageChrome:[E.SOURCES],pageViewTelemetry:"organization_sources",pageHeader:r?void 0:{pageTitle:bs,description:Ss,rightSideItems:[Object(aa.jsx)(ja.b,{to:Kt(wt,!0),"data-test-subj":"AddSourceButton",fill:!0},xs)]},isLoading:r,isEmptyState:!o.length,emptyState:Object(aa.jsx)(n.Redirect,{to:Kt(wt,!0)})},Object(aa.jsx)(_o,null,Object(aa.jsx)(ao,null,Object(aa.jsx)(Do,{showDetails:!0,isOrganization:!0,onSearchableToggle:t,sources:o}))))},Uo=()=>{const{hasPlatinumLicense:e}=Object(c.useValues)(hn.a),{initializeSources:t,setSourceSearchability:a,resetSourcesState:n}=Object(c.useActions)(wn);Object(s.useEffect)((()=>(t(),n)),[]);const{dataLoading:o,contentSources:i,serviceTypes:l,privateContentSources:u}=Object(c.useValues)(wn),{account:{canCreatePrivateSources:p,groups:d}}=Object(c.useValues)(x),j=l.some((({configured:e})=>e)),g=p&&j,b=(null==u?void 0:u.length)>0,S=i.length>0,h=Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiCallOut,{title:Es,iconType:"iInCircle"},Object(aa.jsx)("p",null,ws)),Object(aa.jsx)(ua.EuiSpacer,null)),O=Object(aa.jsx)(ja.b,{to:Kt(wt,!1),fill:!0,color:"primary","data-test-subj":"AddSourceButton"},hs),m=Object(aa.jsx)(ua.EuiPanel,{hasShadow:!1,color:"subdued"},Object(aa.jsx)(ua.EuiSpacer,{size:"xxl"}),Object(aa.jsx)(ua.EuiEmptyPrompt,{iconType:"lock",title:Object(aa.jsx)("h2",null,ks)}),Object(aa.jsx)(ua.EuiSpacer,{size:"xxl"})),y=Object(aa.jsx)(Do,{showDetails:!0,onSearchableToggle:a,sources:u}),k=Object(aa.jsx)(ao,{isOrganization:!1,title:Os,description:ms,action:g&&O},b?y:m),f=Object(aa.jsx)(ua.EuiPanel,{hasShadow:!1,color:"subdued"},Object(aa.jsx)(ua.EuiSpacer,{size:"xxl"}),Object(aa.jsx)(ua.EuiEmptyPrompt,{iconType:to.a,title:Object(aa.jsx)("h2",null,fs),body:Object(aa.jsx)("p",null,Ms)}),Object(aa.jsx)(ua.EuiSpacer,{size:"xxl"})),M=Object(aa.jsx)(Do,{showDetails:!1,isOrganization:!1,sources:i}),w=Object(aa.jsx)(ao,{isOrganization:!1,title:ys,description:S&&Object(aa.jsx)(qr.FormattedMessage,{id:"xpack.enterpriseSearch.workplaceSearch.sources.private.privateOrg.header.description",defaultMessage:"You have access to the following sources through {newline}the {groups, plural, one {group} other {groups}} {groupsSentence}.",values:{groups:d.length,groupsSentence:(v=d,1===v.length?v[0]:`${v.slice(0,v.length-1).join(", ")}${2===v.length?"":","} ${Je} ${v.slice(-1)}`),newline:Object(aa.jsx)("br",null)}})},S?M:f);var v;return Object(aa.jsx)(dr,{pageChrome:[E.SOURCES],isLoading:o},Object(aa.jsx)(_o,null,b&&!e&&h,p&&k,w))};var Po=a(122);const Go=({isOrganization:e=!0,pageChrome:t=[]})=>{const a=e?la:dr;return Object(aa.jsx)(a,{pageChrome:[...t,"404"],customPageSections:!0},Object(aa.jsx)(y.c,{action:"error",metric:"not_found"}),Object(aa.jsx)(Po.a,{backToLink:e?"/":Mt,productSupportUrl:h.B.SUPPORT_URL}))};a(960);var Bo=a(93);const Vo="",Ho=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSources.displaySettings.success.message",{defaultMessage:"Display Settings have been successfuly updated."}),Yo=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSources.displaySettings.unsaved.message",{defaultMessage:"Your display settings have not been saved. Are you sure you want to leave?"}),Qo=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSources.displaySettings.displaySettings.title",{defaultMessage:"Display Settings"}),qo=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSources.displaySettings.displaySettings.description",{defaultMessage:"Customize the content and appearance of your Custom API Source search results."}),Ko=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSources.displaySettings.displaySettingsEmpty.title",{defaultMessage:"You have no content yet"}),Wo=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSources.displaySettings.displaySettingsEmpty.body",{defaultMessage:"You need some content to display in order to configure the display settings."}),$o=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSources.displaySettings.searchResults.label",{defaultMessage:"Search Results"}),Jo=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSources.displaySettings.resultDetail.label",{defaultMessage:"Result Detail"}),Zo=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSources.displaySettings.subtitle.label",{defaultMessage:"Subtitle"}),Xo=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSources.displaySettings.title.label",{defaultMessage:"Title"}),ei=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSources.displaySettings.url.label",{defaultMessage:"URL"}),ti=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSources.displaySettings.color.label",{defaultMessage:"Color"}),ai=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSources.displaySettings.type.label",{defaultMessage:"Type"}),si=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSources.displaySettings.mediaType.label",{defaultMessage:"Media Type"}),ri=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSources.displaySettings.createdBy.label",{defaultMessage:"Created By"}),ni=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSources.displaySettings.updatedBy.label",{defaultMessage:"Updated By"}),ci=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSources.displaySettings.optionalArea.text",{defaultMessage:"This area is optional"}),oi=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSources.displaySettings.emptyFields.description",{defaultMessage:"Add fields and move them into the order you want them to appear."}),ii=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSources.displaySettings.visibleFields.title",{defaultMessage:"Visible fields"}),li=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSources.displaySettings.preview.title",{defaultMessage:"Preview"}),ui=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSources.displaySettings.searchResults.title",{defaultMessage:"Search Results settings"}),pi=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSources.displaySettings.featuredResults.title",{defaultMessage:"Featured Results"}),di=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSources.displaySettings.featuredResults.description",{defaultMessage:"A matching document will appear as a single bold card."}),ji=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSources.displaySettings.standardResults.title",{defaultMessage:"Standard Results"}),gi=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSources.displaySettings.standardResults.description",{defaultMessage:"Somewhat matching documents will appear as a set."}),xi=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSources.displaySettings.searchResultsRow.helpText",{defaultMessage:"This area is optional"}),bi={titleField:"",subtitleField:"",descriptionField:"",urlField:"",typeField:"",mediaTypeField:"",createdByField:"",updatedByField:"",color:"#000000",detailFields:[]},Si=Object(c.kea)({path:["enterprise_search","workplace_search","display_settings_logic"],actions:{onInitializeDisplaySettings:e=>e,setServerResponseData:e=>e,setTitleField:e=>e,setUrlField:e=>e,setSubtitleField:e=>e,setDescriptionField:e=>e,setTypeField:e=>e,setMediaTypeField:e=>e,setCreatedByField:e=>e,setUpdatedByField:e=>e,setColorField:e=>e,setDetailFields:e=>({result:e}),openEditDetailField:e=>e,removeDetailField:e=>e,setNavigatingBetweenTabs:e=>e,handleSelectedTabChanged:e=>e,addDetailField:e=>e,updateDetailField:(e,t)=>({updatedField:e,index:t}),toggleFieldEditorModal:()=>!0,toggleTitleFieldHover:()=>!0,toggleSubtitleFieldHover:()=>!0,toggleDescriptionFieldHover:()=>!0,toggleTypeFieldHover:()=>!0,toggleMediaTypeFieldHover:()=>!0,toggleCreatedByFieldHover:()=>!0,toggleUpdatedByFieldHover:()=>!0,toggleUrlFieldHover:()=>!0,initializeDisplaySettings:()=>!0,setServerData:()=>!0},reducers:{sourceName:["",{onInitializeDisplaySettings:(e,{sourceName:t})=>t}],sourceId:["",{onInitializeDisplaySettings:(e,{sourceId:t})=>t}],schemaFields:[{},{onInitializeDisplaySettings:(e,{schemaFields:t})=>t}],exampleDocuments:[[],{onInitializeDisplaySettings:(e,{exampleDocuments:t})=>t}],serverSearchResultConfig:[bi,{onInitializeDisplaySettings:(e,{searchResultConfig:t})=>Oi(t),setServerResponseData:(e,{searchResultConfig:t})=>t}],searchResultConfig:[bi,{onInitializeDisplaySettings:(e,{searchResultConfig:t})=>Oi(t),setServerResponseData:(e,{searchResultConfig:t})=>t,setTitleField:(e,t)=>({...e,titleField:t}),setSubtitleField:(e,t)=>({...e,subtitleField:t}),setUrlField:(e,t)=>({...e,urlField:t}),setDescriptionField:(e,t)=>({...e,descriptionField:t}),setTypeField:(e,t)=>({...e,typeField:t}),setMediaTypeField:(e,t)=>({...e,mediaTypeField:t}),setCreatedByField:(e,t)=>({...e,createdByField:t}),setUpdatedByField:(e,t)=>({...e,updatedByField:t}),setColorField:(e,t)=>({...e,color:t}),setDetailFields:(e,{result:{destination:t,source:a}})=>{const s=Object(ra.cloneDeep)(e.detailFields),r=s[a.index];return s.splice(a.index,1),s.splice(t.index,0,r),{...e,detailFields:s}},addDetailField:(e,t)=>{const a=Object(ra.cloneDeep)(e.detailFields);return a.push(t),{...e,detailFields:a}},removeDetailField:(e,t)=>{const a=Object(ra.cloneDeep)(e.detailFields);return a.splice(t,1),{...e,detailFields:a}},updateDetailField:(e,{updatedField:t,index:a})=>{const s=Object(ra.cloneDeep)(e.detailFields);return s[a]=t,{...e,detailFields:s}}}],serverRoute:["",{onInitializeDisplaySettings:(e,{serverRoute:t})=>t}],editFieldIndex:[null,{openEditDetailField:(e,t)=>t,toggleFieldEditorModal:()=>null}],dataLoading:[!0,{onInitializeDisplaySettings:()=>!1}],navigatingBetweenTabs:[!1,{setNavigatingBetweenTabs:(e,t)=>t}],addFieldModalVisible:[!1,{toggleFieldEditorModal:e=>!e,openEditDetailField:()=>!0,updateDetailField:()=>!1,addDetailField:()=>!1}],titleFieldHover:[!1,{toggleTitleFieldHover:e=>!e}],urlFieldHover:[!1,{toggleUrlFieldHover:e=>!e}],subtitleFieldHover:[!1,{toggleSubtitleFieldHover:e=>!e}],descriptionFieldHover:[!1,{toggleDescriptionFieldHover:e=>!e}],typeFieldHover:[!1,{toggleTypeFieldHover:e=>!e}],mediaTypeFieldHover:[!1,{toggleMediaTypeFieldHover:e=>!e}],createdByFieldHover:[!1,{toggleCreatedByFieldHover:e=>!e}],updatedByFieldHover:[!1,{toggleUpdatedByFieldHover:e=>!e}]},selectors:({selectors:e})=>({fieldOptions:[()=>[e.schemaFields],e=>Object.keys(e).map(hi)],optionalFieldOptions:[()=>[e.fieldOptions],e=>{const t=Object(ra.cloneDeep)(e);return t.unshift({value:Vo,text:Vo}),t}],availableFieldOptions:[()=>[e.fieldOptions,e.searchResultConfig],(e,{detailFields:t})=>{const a=t.map((e=>hi(e.fieldName)));return Object(ra.differenceBy)(e,a,"value")}],unsavedChanges:[()=>[e.searchResultConfig,e.serverSearchResultConfig],(e,t)=>!Object(ra.isEqual)(e,t)]}),listeners:({actions:e,values:t})=>({initializeDisplaySettings:async()=>{const{isOrganization:t}=x.values,{contentSource:{id:a}}=Xt.values,s=t?`/internal/workplace_search/org/sources/${a}/display_settings/config`:`/internal/workplace_search/account/sources/${a}/display_settings/config`;try{const r=await l.a.values.http.get(s);e.onInitializeDisplaySettings({isOrganization:t,sourceId:a,serverRoute:s,...r})}catch(e){Object(Zt.e)(e)}},setServerData:async()=>{const{searchResultConfig:a,serverRoute:s}=t;try{const t=await l.a.values.http.post(s,{body:JSON.stringify({...a})});e.setServerResponseData(t)}catch(e){Object(Zt.e)(e)}},setServerResponseData:()=>{Object(Zt.g)(Ho)},toggleFieldEditorModal:()=>{Object(Zt.d)()},handleSelectedTabChanged:async(a,s)=>{const{isOrganization:r}=x.values,{sourceId:n}=t,c=Qt("result_detail"===a?_t:Dt,n,r);e.setNavigatingBetweenTabs(!0),await s(),u.a.values.navigateToUrl(c),e.setNavigatingBetweenTabs(!1)}})}),hi=e=>({text:e,value:e}),Oi=e=>({...e,color:e.color||"#000000"}),mi={fieldName:"",label:""},yi=()=>{const{toggleFieldEditorModal:e,addDetailField:t,updateDetailField:a}=Object(c.useActions)(Si),{searchResultConfig:{detailFields:r},availableFieldOptions:n,fieldOptions:o,editFieldIndex:i}=Object(c.useValues)(Si),l=i||0===i,u=l?r[i||0]:mi,[p,d]=Object(s.useState)(u.fieldName||""),[j,g]=Object(s.useState)(u.label||""),x=l?Ze:Xe;return Object(aa.jsx)(ua.EuiModal,{onClose:e,maxWidth:475},Object(aa.jsx)("form",{onSubmit:e=>{e.preventDefault(),l?a({fieldName:p,label:j},i):t({fieldName:p,label:j})}},Object(aa.jsx)(ua.EuiModalHeader,null,Object(aa.jsx)(ua.EuiModalHeaderTitle,null,x," ",Ye)),Object(aa.jsx)(ua.EuiModalBody,null,Object(aa.jsx)(ua.EuiForm,null,Object(aa.jsx)(ua.EuiFormRow,{label:Ye},Object(aa.jsx)(ua.EuiSelect,{options:l?o:n,name:"field",required:!0,className:"field-selector",hasNoInitialSelection:!0,"data-test-subj":"AvailableFieldOptions",value:p,disabled:!!l,onChange:e=>d(e.target.value)})),Object(aa.jsx)(ua.EuiFormRow,{label:Qe},Object(aa.jsx)(ua.EuiFieldText,{name:"label",required:!0,"data-test-subj":"VisibleFieldName",value:j,onChange:e=>g(e.target.value)})))),Object(aa.jsx)(ua.EuiModalFooter,null,Object(aa.jsx)(ua.EuiButtonEmpty,{onClick:e},ve),Object(aa.jsx)(ua.EuiButton,{"data-test-subj":"FieldSubmitButton",color:"primary",fill:!0,type:"submit"},x," ",Ye))))},ki=({color:e="#000"})=>Object(aa.jsx)("svg",{className:"euiIcon euiIcon--medium",width:"52",height:"52",viewBox:"0 0 52 52",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{fill:e}},Object(aa.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 34H20.222C21.988 31.744 23 28.935 23 26C23 23.065 21.988 20.256 20.222 18H18C13.582 18 10 21.582 10 26C10 30.418 13.582 34 18 34Z"}),Object(aa.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 12.158C20.355 10.794 23.082 10 26 10C34.837 10 42 17.163 42 26C42 34.837 34.837 42 26 42C23.082 42 20.355 41.206 18 39.842C20.4228 38.4381 22.4459 36.4202 23.8515 34H23.848C25.1274 31.7962 25.898 29.2625 25.9906 26.5526C25.9936 26.4634 25.996 26.374 25.9975 26.2843C25.9992 26.1898 26 26.095 26 26C26 25.8613 25.9982 25.723 25.9947 25.5851C25.9937 25.5449 25.9925 25.5047 25.9912 25.4646C25.9013 22.7482 25.1301 20.2085 23.848 18H23.8515C22.4459 15.5798 20.4228 13.5619 18 12.158Z"})),fi=({result:e,titleField:t,titleFieldHover:a})=>{const s=t?e[t]:"",r=Array.isArray(s)?s.join(", "):s;return Object(aa.jsx)("div",{"data-test-subj":"TitleField",className:Co()("example-result-content__title",{"example-result-field-hover":a})},t?Object(aa.jsx)("div",{className:"eui-textTruncate","data-test-subj":"CustomTitleLabel"},r):Object(aa.jsx)("span",{className:"example-result-content-placeholder","data-test-subj":"DefaultTitleLabel"},Xo))},Mi=()=>{const{sourceName:e,searchResultConfig:{titleField:t,urlField:a,color:s,detailFields:r},titleFieldHover:n,urlFieldHover:o,exampleDocuments:i}=Object(c.useValues)(Si),l=i[0];return Object(aa.jsx)("div",{className:"example-result-detail-card","data-test-subj":"ExampleResultDetailCard"},Object(aa.jsx)("div",{className:"example-result-detail-card__header"},Object(aa.jsx)("div",{className:"example-result-detail-card__border",style:{backgroundColor:s}}),Object(aa.jsx)("div",{className:"example-result-detail-card__source-name"},Object(aa.jsx)(ua.EuiFlexGroup,{alignItems:"center",gutterSize:"s"},Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(ki,{color:s})),Object(aa.jsx)(ua.EuiFlexItem,null,e))),Object(aa.jsx)("div",{className:"example-result-content"},Object(aa.jsx)(fi,{titleFieldHover:n,titleField:t,result:l}),Object(aa.jsx)("div",{className:Co()("example-result-content__url",{"example-result-field-hover":o})},a?Object(aa.jsx)("div",{className:"eui-textTruncate"},l[a]):Object(aa.jsx)("span",{className:"example-result-content-placeholder","data-test-subj":"DefaultUrlLabel"},He)))),Object(aa.jsx)("div",{className:"example-result-detail-card__content"},r.length>0?r.map((({fieldName:e,label:t},a)=>{const s=l[e];return Object(aa.jsx)("div",{className:"example-result-detail-card__field",key:a,"data-test-subj":"DetailField"},Object(aa.jsx)(ua.EuiTitle,{size:"xs"},Object(aa.jsx)("h4",null,t)),Object(aa.jsx)(ua.EuiText,{size:"s",color:"subdued"},Object(aa.jsx)("div",{className:"eui-textBreakWord"},s)))})):Object(aa.jsx)(ua.EuiSpacer,{size:"m"})))},Ei=()=>{const{toggleFieldEditorModal:e,setDetailFields:t,openEditDetailField:a,removeDetailField:s}=Object(c.useActions)(Si),{searchResultConfig:{detailFields:n},availableFieldOptions:o}=Object(c.useValues)(Si);return Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiSpacer,null),Object(aa.jsx)(ua.EuiFlexGrid,{columns:2},Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiSpacer,{size:"m"}),Object(aa.jsx)(ua.EuiForm,null,Object(aa.jsx)(ua.EuiFormRow,null,Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiFlexGroup,{alignItems:"center",justifyContent:"spaceBetween"},Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiTitle,{size:"s"},Object(aa.jsx)("h3",null,ii))),Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(ua.EuiButtonEmpty,{color:"primary",onClick:e,disabled:o.length<1,"data-test-subj":"AddFieldButton"},et))),Object(aa.jsx)(ua.EuiSpacer,{size:"s"}),n.length>0?Object(aa.jsx)(ua.EuiDragDropContext,{onDragEnd:t},Object(aa.jsx)(ua.EuiDroppable,{droppableId:"visible_fields",className:"visible-fields-container",withPanel:!0},Object(aa.jsx)(r.a.Fragment,null,n.map((({fieldName:e,label:t},r)=>Object(aa.jsx)(ua.EuiDraggable,{key:`${e}-${r}`,index:r,draggableId:`${e}-${r}`,customDragHandle:!0,spacing:"m"},(n=>Object(aa.jsx)(ua.EuiPanel,null,Object(aa.jsx)(ua.EuiFlexGroup,{alignItems:"center"},Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)("div",n.dragHandleProps,Object(aa.jsx)(ua.EuiIcon,{color:"subdued",type:"grab"}))),Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiTitle,{size:"xs"},Object(aa.jsx)("h4",null,e)),Object(aa.jsx)(ua.EuiTextColor,{color:"subdued"},Object(aa.jsx)("div",null,"“",t||"","”"))),Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)("div",null,Object(aa.jsx)(ua.EuiButtonIcon,{"data-test-subj":"EditFieldButton","aria-label":tt,iconType:"pencil",onClick:()=>a(r)}),Object(aa.jsx)(ua.EuiButtonIcon,{"data-test-subj":"RemoveFieldButton","aria-label":at,iconType:"cross",onClick:()=>s(r)})))))))))))):Object(aa.jsx)("p",{"data-test-subj":"EmptyFieldsDescription"},oi))))),Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiPanel,null,Object(aa.jsx)(ua.EuiTitle,{size:"s"},Object(aa.jsx)("h3",null,li)),Object(aa.jsx)(ua.EuiSpacer,null),Object(aa.jsx)(Mi,null)))))},wi=({result:e,subtitleField:t,subtitleFieldHover:a})=>Object(aa.jsx)("div",{"data-test-subj":"SubtitleField",className:Co()("example-result-content__subtitle",{"example-result-field-hover":a})},t?Object(aa.jsx)("div",{className:"eui-textTruncate"},e[t]):Object(aa.jsx)("span",{"data-test-subj":"DefaultSubtitleLabel",className:"example-result-content-placeholder"},Zo)),vi=()=>{const{sourceName:e,searchResultConfig:{titleField:t,subtitleField:a,descriptionField:s,typeField:r,mediaTypeField:n,createdByField:o,updatedByField:i,color:l},titleFieldHover:u,subtitleFieldHover:p,descriptionFieldHover:d,typeFieldHover:j,mediaTypeFieldHover:g,createdByFieldHover:x,updatedByFieldHover:b,exampleDocuments:S}=Object(c.useValues)(Si);return Object(aa.jsx)("div",{className:"example-result-group","data-test-subj":"ExampleSearchResultGroup"},Object(aa.jsx)("div",{className:"example-result-group__header",style:{backgroundColor:l}},Object(aa.jsx)(ki,{color:ua.isColorDark.apply(null,Object(ua.hexToRgb)(l))?"white":"black"}),Object(aa.jsx)("span",{className:"example-result-group__source-name",style:{color:ua.isColorDark.apply(null,Object(ua.hexToRgb)(l))?"white":"black"}},e)),Object(aa.jsx)("div",{className:"example-result-group__content"},Object(aa.jsx)("div",{className:"example-result-group__border",style:{backgroundColor:l}}),Object(aa.jsx)("div",{className:"example-result-group__results"},S.map(((e,c)=>Object(aa.jsx)("div",{key:c,className:"example-grouped-result"},Object(aa.jsx)("div",{className:"example-result-content"},Object(aa.jsx)(fi,{titleFieldHover:u,titleField:t,result:e}),Object(aa.jsx)(wi,{subtitleFieldHover:p,subtitleField:a,result:e}),Object(aa.jsx)("div",{className:Co()("example-result-content__description",{"example-result-field-hover":d})},s?Object(aa.jsx)("div",null,e[s]):Object(aa.jsx)("span",{className:"example-result-content-placeholder","data-test-subj":"DefaultDescriptionLabel"},qe)),o&&e[o]&&Object(aa.jsx)("div",{className:Co()("example-result-content__subtitle",{"example-result-field-hover":x}),"data-test-subj":"CreatedByField"},"Created by ",e[o]),Object(aa.jsx)("div",{className:"example-result-content__meta"},r&&e[r]&&Object(aa.jsx)("div",{className:Co()("example-result-content__tag",{"example-result-field-hover":j}),"data-test-subj":"TypeField"},Object(aa.jsx)("span",{className:"example-search-result__tag-content"},e[r])),n&&e[n]&&Object(aa.jsx)("div",{className:Co()("example-result-content__tag",{"example-result-field-hover":g}),"data-test-subj":"MediaTypeField"},Object(aa.jsx)("span",{className:"example-search-result__tag-content"},kn(e[n]))),Object(aa.jsx)("div",{className:"example-result-content__tag-content"},Object(aa.jsx)("span",null,"Last updated ",i&&e[i]&&Object(aa.jsx)("span",{className:Co()("example-result-content__tag-content",{"example-result-field-hover":b}),"data-test-subj":"UpdatedByField"}," ","by ",e[i]," "),mn(e.last_updated)||e.last_updated))))))))))},Ti=()=>{const{sourceName:e,searchResultConfig:{titleField:t,subtitleField:a,descriptionField:s,typeField:r,mediaTypeField:n,createdByField:o,updatedByField:i,color:l},titleFieldHover:u,subtitleFieldHover:p,descriptionFieldHover:d,typeFieldHover:j,mediaTypeFieldHover:g,createdByFieldHover:x,updatedByFieldHover:b,exampleDocuments:S}=Object(c.useValues)(Si),h=S[0];return Object(aa.jsx)("div",{className:"example-standout-result","data-test-subj":"ExampleStandoutResult"},Object(aa.jsx)("div",{className:"example-standout-result__header",style:{backgroundColor:l}},Object(aa.jsx)(ki,{color:ua.isColorDark.apply(null,Object(ua.hexToRgb)(l))?"white":"black"}),Object(aa.jsx)("span",{className:"example-standout-result__source-name",style:{color:ua.isColorDark.apply(null,Object(ua.hexToRgb)(l))?"white":"black"}},e)),Object(aa.jsx)("div",{className:"example-standout-result__content"},Object(aa.jsx)("div",{className:"example-result-content"},Object(aa.jsx)(fi,{titleFieldHover:u,titleField:t,result:h}),Object(aa.jsx)(wi,{subtitleFieldHover:p,subtitleField:a,result:h}),Object(aa.jsx)("div",{className:Co()("example-result-content__description",{"example-result-field-hover":d})},s?Object(aa.jsx)("span",null,h[s]):Object(aa.jsx)("span",{className:"example-result-content-placeholder","data-test-subj":"DefaultDescriptionLabel"},qe)),o&&h[o]&&Object(aa.jsx)("div",{className:Co()("example-result-content__subtitle",{"example-result-field-hover":x}),"data-test-subj":"CreatedByField"},"Created by ",h[o]),Object(aa.jsx)("div",{className:"example-result-content__meta"},r&&h[r]&&Object(aa.jsx)("div",{className:Co()("example-result-content__tag",{"example-result-field-hover":j}),"data-test-subj":"TypeField"},Object(aa.jsx)("span",{className:"example-search-result__tag-content"},h[r])),n&&h[n]&&Object(aa.jsx)("div",{className:Co()("example-result-content__tag",{"example-result-field-hover":g}),"data-test-subj":"MediaTypeField"},Object(aa.jsx)("span",{className:"example-search-result__tag-content"},kn(h[n]))),Object(aa.jsx)("div",{className:"example-result-content__tag-content"},Object(aa.jsx)("span",null,"Last updated ",i&&h[i]&&Object(aa.jsx)("span",{className:Co()("example-result-content__tag-content",{"example-result-field-hover":b}),"data-test-subj":"UpdatedByField"}," ","by ",h[i]," "),mn(h.last_updated)||h.last_updated))))))},Ci=()=>{const{toggleTitleFieldHover:e,toggleSubtitleFieldHover:t,toggleDescriptionFieldHover:a,toggleTypeFieldHover:s,toggleMediaTypeFieldHover:n,toggleCreatedByFieldHover:o,toggleUpdatedByFieldHover:i,setTitleField:l,setSubtitleField:u,setDescriptionField:p,setTypeField:d,setMediaTypeField:j,setCreatedByField:g,setUpdatedByField:x,setUrlField:b,setColorField:S}=Object(c.useActions)(Si),{searchResultConfig:{titleField:h,descriptionField:O,subtitleField:m,typeField:y,mediaTypeField:k,createdByField:f,updatedByField:M,urlField:E,color:w},fieldOptions:v,optionalFieldOptions:T}=Object(c.useValues)(Si);return Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiSpacer,null),Object(aa.jsx)(ua.EuiFlexGroup,null,Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiSpacer,{size:"m"}),Object(aa.jsx)(ua.EuiTitle,{size:"s"},Object(aa.jsx)("h3",null,ui)),Object(aa.jsx)(ua.EuiSpacer,{size:"s"}),Object(aa.jsx)(ua.EuiForm,null,Object(aa.jsx)(ua.EuiFormRow,{label:Xo,onMouseOver:e,onMouseOut:e,onFocus:e,onBlur:e},Object(aa.jsx)(ua.EuiSelect,{options:v,required:!0,name:"titleField",className:"field-selector",hasNoInitialSelection:!0,"data-test-subj":"TitleFieldSelect",value:h||"",onChange:e=>l(e.target.value)})),Object(aa.jsx)(ua.EuiFormRow,{label:ei},Object(aa.jsx)(ua.EuiSelect,{options:v,required:!0,className:"field-selector",hasNoInitialSelection:!0,"data-test-subj":"UrlFieldSelect",value:E||"",onChange:e=>b(e.target.value)})),Object(aa.jsx)(ua.EuiFormRow,{label:ti},Object(aa.jsx)(ua.EuiColorPicker,{color:w,onChange:S})),Object(aa.jsx)(ua.EuiFormRow,{label:"Subtitle",helpText:xi,onMouseOver:t,onMouseOut:t,onFocus:t,onBlur:t},Object(aa.jsx)(ua.EuiSelect,{options:T,className:"field-selector",hasNoInitialSelection:!0,"data-test-subj":"SubtitleFieldSelect",value:m||Vo,onChange:({target:{value:e}})=>u(e===Vo?null:e)})),Object(aa.jsx)(ua.EuiFormRow,{label:qe,helpText:xi,onMouseOver:a,onMouseOut:a,onFocus:a,onBlur:a},Object(aa.jsx)(ua.EuiSelect,{options:T,className:"field-selector",hasNoInitialSelection:!0,"data-test-subj":"DescriptionFieldSelect",value:O||Vo,onChange:({target:{value:e}})=>p(e===Vo?null:e)})),Object(aa.jsx)(ua.EuiFormRow,{label:ai,helpText:ci,onMouseOver:s,onFocus:s,onMouseOut:s,onBlur:s},Object(aa.jsx)(ua.EuiSelect,{options:T,className:"field-selector",hasNoInitialSelection:!0,"data-test-subj":"TypeFieldSelect",value:y||Vo,onChange:({target:{value:e}})=>d(e===Vo?null:e)})),Object(aa.jsx)(ua.EuiFormRow,{label:si,helpText:ci,onMouseOver:n,onFocus:n,onMouseOut:n,onBlur:n},Object(aa.jsx)(ua.EuiSelect,{options:T,className:"field-selector",hasNoInitialSelection:!0,"data-test-subj":"MediaTypeFieldSelect",value:k||Vo,onChange:({target:{value:e}})=>j(e===Vo?null:e)})),Object(aa.jsx)(ua.EuiFormRow,{label:ri,helpText:ci,onMouseOver:o,onFocus:o,onMouseOut:o,onBlur:o},Object(aa.jsx)(ua.EuiSelect,{options:T,className:"field-selector",hasNoInitialSelection:!0,"data-test-subj":"CreatedByFieldSelect",value:f||Vo,onChange:({target:{value:e}})=>g(e===Vo?null:e)})),Object(aa.jsx)(ua.EuiFormRow,{label:ni,helpText:ci,onMouseOver:i,onFocus:i,onMouseOut:i,onBlur:i},Object(aa.jsx)(ua.EuiSelect,{options:T,className:"field-selector",hasNoInitialSelection:!0,"data-test-subj":"UpdatedByFieldSelect",value:M||Vo,onChange:({target:{value:e}})=>x(e===Vo?null:e)})))),Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiPanel,null,Object(aa.jsx)(ua.EuiTitle,{size:"s"},Object(aa.jsx)("h3",null,li)),Object(aa.jsx)(ua.EuiSpacer,null),Object(aa.jsx)("div",{className:"section-header"},Object(aa.jsx)(ua.EuiTitle,{size:"xs"},Object(aa.jsx)("h4",null,pi)),Object(aa.jsx)("p",{className:"section-header__description"},di)),Object(aa.jsx)(ua.EuiSpacer,null),Object(aa.jsx)(Ti,null),Object(aa.jsx)(ua.EuiSpacer,null),Object(aa.jsx)("div",{className:"section-header"},Object(aa.jsx)(ua.EuiTitle,{size:"xs"},Object(aa.jsx)("h4",null,ji)),Object(aa.jsx)("p",{className:"section-header__description"},gi)),Object(aa.jsx)(ua.EuiSpacer,null),Object(aa.jsx)(vi,null)))))},Ii=({tabId:e})=>{const{initializeDisplaySettings:t,setServerData:a,handleSelectedTabChanged:r}=Object(c.useActions)(Si),{dataLoading:n,addFieldModalVisible:o,unsavedChanges:i,exampleDocuments:l,navigatingBetweenTabs:u}=Object(c.useValues)(Si),p=l.length>0,d=p&&i;Object(s.useEffect)((()=>(t(),Zt.d)),[]);const j=[{id:"search_results",name:$o,content:Object(aa.jsx)(Ci,null)},{id:"result_detail",name:Jo,content:Object(aa.jsx)(Ei,null)}];return Object(aa.jsx)(bn,{pageChrome:[E.DISPLAY_SETTINGS],pageViewTelemetry:"source_display_settings",isLoading:n},Object(aa.jsx)(Bo.a,{hasUnsavedChanges:!u&&d,messageText:Yo}),Object(aa.jsx)("form",{onSubmit:e=>{e.preventDefault(),a()}},Object(aa.jsx)(jr,{title:Qo,description:qo,action:p?Object(aa.jsx)(ua.EuiButton,{type:"submit",disabled:!i,fill:!0},we):null}),p?Object(aa.jsx)(ua.EuiTabbedContent,{tabs:j,selectedTab:j[e],onTabClick:e=>{r(e.id)}}):Object(aa.jsx)(ua.EuiPanel,{hasShadow:!1,color:"subdued"},Object(aa.jsx)(ua.EuiEmptyPrompt,{iconType:"indexRollupApp",title:Object(aa.jsx)("h2",null,Ko),body:Object(aa.jsx)("p",null,Wo)}))),o&&Object(aa.jsx)(yi,null))},Ni=()=>{const{isOrganization:e}=Object(c.useValues)(x);return Object(aa.jsx)(o.c,null,Object(aa.jsx)(o.a,{exact:!0,path:Kt(Dt,e)},Object(aa.jsx)(Ii,{tabId:0})),Object(aa.jsx)(o.a,{exact:!0,path:Kt(_t,e)},Object(aa.jsx)(Ii,{tabId:1})))};var Li=a(92);const Fi=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.schema.errors.heading",{defaultMessage:"Schema Change Errors"}),zi=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.schema.errors.header.fieldName",{defaultMessage:"Field Name"}),Ai=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.schema.errors.header.dataType",{defaultMessage:"Data Type"}),Di=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.schema.errors.message",{defaultMessage:"Oops, we were not able to find any errors for this Schema."}),_i=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.schema.fieldAdded.message",{defaultMessage:"New field added."}),Ri=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.schema.updated.message",{defaultMessage:"Schema updated."}),Ui=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.schema.addField.button",{defaultMessage:"Add field"}),Pi=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.schema.manage.title",{defaultMessage:"Manage source schema"}),Gi=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.schema.manage.description",{defaultMessage:"Add new fields or change the types of existing ones"}),Bi=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.schema.filter.placeholder",{defaultMessage:"Filter schema fields..."}),Vi=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.schema.save.button",{defaultMessage:"Save schema"}),Hi=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.schema.empty.title",{defaultMessage:"Content source does not have a schema"}),Yi=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.schema.empty.description",{defaultMessage:"A schema is created for you once you index some documents. Click below to create schema fields in advance."});var Qi=a(72),qi=a(75);const Ki=Object(c.kea)({actions:{onInitializeSchema:e=>e,onInitializeSchemaFieldErrors:e=>e,onSchemaSetSuccess:e=>e,onSchemaSetFormErrors:e=>e,updateNewFieldType:e=>e,onFieldUpdate:({schema:e,formUnchanged:t})=>({schema:e,formUnchanged:t}),onIndexingComplete:e=>e,resetMostRecentIndexJob:e=>e,setFieldName:e=>e,setFilterValue:e=>e,openAddFieldModal:()=>!0,closeAddFieldModal:()=>!0,resetSchemaState:()=>!0,initializeSchema:()=>!0,initializeSchemaFieldErrors:(e,t)=>({activeReindexJobId:e,sourceId:t}),addNewField:(e,t)=>({fieldName:e,newFieldType:t}),updateExistingFieldType:(e,t)=>({fieldName:e,newFieldType:t}),updateFields:()=>!0,setServerField:(e,t)=>({updatedSchema:e,operation:t})},reducers:{dataTypeOptions:[[{value:"text",text:"Text"},{value:"date",text:"Date"},{value:"number",text:"Number"},{value:"geolocation",text:"Geo Location"}]],sourceId:["",{onInitializeSchema:(e,{sourceId:t})=>t}],activeSchema:[{},{onInitializeSchema:(e,{schema:t})=>t,onSchemaSetSuccess:(e,{schema:t})=>t,onFieldUpdate:(e,{schema:t})=>t}],serverSchema:[{},{onInitializeSchema:(e,{schema:t})=>t,onSchemaSetSuccess:(e,{schema:t})=>t}],mostRecentIndexJob:[{},{onInitializeSchema:(e,{mostRecentIndexJob:t})=>t,resetMostRecentIndexJob:(e,t)=>t,onSchemaSetSuccess:(e,{mostRecentIndexJob:t})=>t,onIndexingComplete:(e,t)=>({...e,numDocumentsWithErrors:t,percentageComplete:100,hasErrors:t>0,isActive:!1}),updateFields:e=>({...e,percentageComplete:0})}],newFieldType:[qi.c.Text,{updateNewFieldType:(e,t)=>t,onSchemaSetSuccess:()=>qi.c.Text}],addFieldFormErrors:[null,{onSchemaSetSuccess:()=>null,closeAddFieldModal:()=>null,onSchemaSetFormErrors:(e,t)=>t}],filterValue:["",{setFilterValue:(e,t)=>t}],formUnchanged:[!0,{onSchemaSetSuccess:()=>!0,onFieldUpdate:(e,{formUnchanged:t})=>t}],showAddFieldModal:[!1,{onSchemaSetSuccess:()=>!1,openAddFieldModal:()=>!0,closeAddFieldModal:()=>!1}],dataLoading:[!0,{onSchemaSetSuccess:()=>!1,onInitializeSchema:()=>!1,resetSchemaState:()=>!0}],rawFieldName:["",{setFieldName:(e,t)=>t,onSchemaSetSuccess:()=>""}],fieldCoercionErrors:[{},{onInitializeSchemaFieldErrors:(e,{fieldCoercionErrors:t})=>t}]},selectors:({selectors:e})=>({filteredSchemaFields:[()=>[e.activeSchema,e.filterValue],(e,t)=>{const a={};return Object.keys(e).filter((e=>e.includes(t))).forEach((t=>a[t]=e[t])),a}]}),listeners:({actions:e,values:t})=>({initializeSchema:async()=>{const{isOrganization:t}=x.values,{http:a}=l.a.values,{contentSource:{id:s}}=Xt.values,r=t?`/internal/workplace_search/org/sources/${s}/schemas`:`/internal/workplace_search/account/sources/${s}/schemas`;try{const t=await a.get(r);e.onInitializeSchema({sourceId:s,...t})}catch(e){Object(Zt.e)(e)}},initializeSchemaFieldErrors:async({activeReindexJobId:t,sourceId:a})=>{const{isOrganization:s}=x.values,{http:r}=l.a.values,n=s?`/internal/workplace_search/org/sources/${a}/reindex_job/${t}`:`/internal/workplace_search/account/sources/${a}/reindex_job/${t}`;try{await e.initializeSchema();const t=await r.get(n);e.onInitializeSchemaFieldErrors({fieldCoercionErrors:t.fieldCoercionErrors})}catch(e){Object(Zt.i)(Di)}},addNewField:({fieldName:a,newFieldType:s})=>{if(a in t.activeSchema)window.scrollTo(0,0),e.onSchemaSetFormErrors([k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.schema.newFieldExists.message",{defaultMessage:"New field already exists: {fieldName}.",values:{fieldName:a}})]);else{const r=Object(ra.cloneDeep)(t.activeSchema);r[a]=s,e.setServerField(r,"add")}},updateExistingFieldType:({fieldName:a,newFieldType:s})=>{const r=Object(ra.cloneDeep)(t.activeSchema);r[a]=s,e.onFieldUpdate({schema:r,formUnchanged:Object(ra.isEqual)(t.serverSchema,r)})},updateFields:()=>e.setServerField(t.activeSchema,"update"),setServerField:async({updatedSchema:a,operation:s})=>{const{isOrganization:r}=x.values,{http:n}=l.a.values,c="add"===s,{sourceId:o}=t,i=c?_i:Ri,u=r?`/internal/workplace_search/org/sources/${o}/schemas`:`/internal/workplace_search/account/sources/${o}/schemas`;e.resetMostRecentIndexJob({percentageComplete:100,numDocumentsWithErrors:0,activeReindexJobId:"",isActive:!1});try{const t=await n.post(u,{body:JSON.stringify({...a})});e.onSchemaSetSuccess(t),Object(Zt.g)(i)}catch(t){if(window.scrollTo(0,0),c){var p,d;const a=(null==t||null===(p=t.body)||void 0===p||null===(d=p.attributes)||void 0===d?void 0:d.errors)||[Qi.a];e.onSchemaSetFormErrors(a)}else Object(Zt.e)(t)}},resetMostRecentIndexJob:()=>{Object(Zt.d)()},resetSchemaState:()=>{Object(Zt.d)()}})}),Wi=()=>{const{updateExistingFieldType:e}=Object(c.useActions)(Ki),{filteredSchemaFields:t,filterValue:a}=Object(c.useValues)(Ki);return Object.keys(t).length>0?Object(aa.jsx)(ua.EuiTable,{tableLayout:"auto"},Object(aa.jsx)(ua.EuiTableHeader,null,Object(aa.jsx)(ua.EuiTableHeaderCell,null,zi),Object(aa.jsx)(ua.EuiTableHeaderCell,{align:"right",id:"schemaDataType"},Ai)),Object(aa.jsx)(ua.EuiTableBody,null,Object.keys(t).map((a=>Object(aa.jsx)(ua.EuiTableRow,{key:a,"data-test-subj":"SchemaFieldRow"},Object(aa.jsx)(ua.EuiTableRowCell,null,Object(aa.jsx)(ua.EuiFlexGroup,{gutterSize:"s"},Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)("strong",null,a)))),Object(aa.jsx)(ua.EuiTableRowCell,{align:"right"},Object(aa.jsx)(Li.d,{disabled:"id"===a,fieldName:a,fieldType:t[a],updateExistingFieldType:e,"aria-labelledby":"schemaDataType"}))))))):Object(aa.jsx)("p",{"data-test-subj":"NoResultsMessage"},k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.contentSource.schema.filter.noResults.message",{defaultMessage:'No results found for "{filterValue}".',values:{filterValue:a}}))},$i=()=>{const{initializeSchema:e,addNewField:t,updateFields:a,openAddFieldModal:n,closeAddFieldModal:o,setFilterValue:i}=Object(c.useActions)(Ki),{sourceId:l,activeSchema:u,filterValue:p,showAddFieldModal:d,addFieldFormErrors:j,mostRecentIndexJob:g,formUnchanged:b,dataLoading:S}=Object(c.useValues)(Ki),{isOrganization:h}=Object(c.useValues)(x);Object(s.useEffect)((()=>{e()}),[]);const O=Object.keys(u).length>0,{hasErrors:m,activeReindexJobId:y}=g,k=Object(aa.jsx)(ua.EuiButtonEmpty,{color:"primary","data-test-subj":"AddFieldButton",onClick:n},Ui);return Object(aa.jsx)(bn,{pageChrome:[E.SCHEMA],pageViewTelemetry:"source_schema",isLoading:S},Object(aa.jsx)(jr,{title:Pi,description:Gi}),Object(aa.jsx)("div",null,m&&Object(aa.jsx)(Li.c,{viewErrorsPath:Wt(l,y.toString(),h)}),O?Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiSpacer,null),Object(aa.jsx)(ua.EuiFlexGroup,{justifyContent:"spaceBetween"},Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiFieldSearch,{value:p,"data-test-subj":"FilterSchemaInput",placeholder:Bi,onChange:e=>i(e.target.value)})),Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(ua.EuiFlexGroup,{gutterSize:"s"},Object(aa.jsx)(ua.EuiFlexItem,null,k),Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(ua.EuiButton,{disabled:b,"data-test-subj":"UpdateTypesButton",onClick:a,fill:!0},Vi))))),Object(aa.jsx)(ua.EuiSpacer,null),Object(aa.jsx)(Wi,null)):Object(aa.jsx)(ua.EuiPanel,{hasShadow:!1,color:"subdued"},Object(aa.jsx)(ua.EuiEmptyPrompt,{iconType:"managementApp",title:Object(aa.jsx)("h2",null,Hi),body:Object(aa.jsx)("p",null,Yi),actions:k}))),d&&Object(aa.jsx)(Li.a,{addFieldFormErrors:j,addNewField:t,closeAddFieldModal:o}))},Ji=()=>{const{activeReindexJobId:e,sourceId:t}=Object(n.useParams)(),{initializeSchemaFieldErrors:a}=Object(c.useActions)(Ki),{fieldCoercionErrors:r,serverSchema:o}=Object(c.useValues)(Ki);return Object(s.useEffect)((()=>{a(e,t)}),[]),Object(aa.jsx)(bn,{pageChrome:[E.SCHEMA,Fi],pageViewTelemetry:"source_schema"},Object(aa.jsx)(jr,{title:Fi}),Object(aa.jsx)(Li.b,{fieldCoercionErrors:r,schema:o}))};var Zi=a(120);const Xi=({itemLabel:e="Items",itemsPerPage:t=10,totalPages:a,totalItems:s,activePage:n=1,showPerPageOptions:c=!1,hideLabelCount:o=!1,onChangePage:i,clearFiltersLink:l})=>{const u=n-1,p=a<100;return Object(aa.jsx)(ua.EuiFlexGroup,{alignItems:"center"},!o&&Object(aa.jsx)(ua.EuiFlexItem,null,(()=>{const c=n===a?s:t*n,o=u*t+1,i=Object(aa.jsx)("strong",null,o,"-",c),d=Object(aa.jsx)("strong",null,s.toLocaleString());return Object(aa.jsx)(ua.EuiFlexGroup,{alignItems:"center",justifyContent:"flexStart"},Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)("div",null,"Showing ",i,p&&Object(aa.jsx)(r.a.Fragment,null," ","of ",d," ",e))),Object(aa.jsx)(ua.EuiFlexItem,null,l))})()),Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiTablePagination,{showPerPageOptions:c,activePage:u,itemsPerPage:t,pageCount:p?a:100,onChangePage:i})))},el=()=>{const[e,t]=Object(s.useState)(""),{setActivePage:a,searchContentSourceDocuments:n,setContentFilterValue:o}=Object(c.useActions)(Xt),{contentSource:{id:i,serviceType:l,urlField:u,titleField:p,urlFieldIsLinkable:d,isFederatedSource:j},contentMeta:{page:{total_pages:g,total_results:x,current:b}},contentItems:h,contentFilterValue:O,sectionLoading:m}=Object(c.useValues)(Xt);Object(s.useEffect)((()=>{n(i)}),[O,b]);const y=g>1,f=x>0,M=O?k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.noContentForValue.message",{defaultMessage:"No results for '{contentFilterValue}'",values:{contentFilterValue:O}}):Pa,w={totalPages:g,totalItems:x,activePage:b,onChangePage:e=>{a(e+1)}},v=l===D,T=Object(aa.jsx)(ua.EuiPanel,{hasShadow:!1,color:"subdued"},Object(aa.jsx)(ua.EuiEmptyPrompt,{title:Object(aa.jsx)("h2",null,M),iconType:"documents",body:v?Object(aa.jsx)("p",null,Object(aa.jsx)(qr.FormattedMessage,{id:"xpack.enterpriseSearch.workplaceSearch.sources.customSourceDocs.text",defaultMessage:"Learn more about adding content in our {documentationLink}",values:{documentationLink:Object(aa.jsx)(ua.EuiLink,{target:"_blank",href:hr.a.workplaceSearchCustomSources},Ga)}})):null})),C=Object(aa.jsx)(r.a.Fragment,null,y&&Object(aa.jsx)(Xi,w),Object(aa.jsx)(ua.EuiSpacer,{size:"m"}),Object(aa.jsx)(ua.EuiTable,null,Object(aa.jsx)(ua.EuiTableHeader,null,Object(aa.jsx)(ua.EuiTableHeaderCell,null,Ba),Object(aa.jsx)(ua.EuiTableHeaderCell,null,Object(ra.startCase)(u)),Object(aa.jsx)(ua.EuiTableHeaderCell,{align:"right"},Va)),Object(aa.jsx)(ua.EuiTableBody,null,h.map((e=>{const{id:t,last_updated:a}=e,s=e[u]||"",r=e[p]||"";return Object(aa.jsx)(ua.EuiTableRow,{key:t,"data-test-subj":"ContentItemRow"},Object(aa.jsx)(ua.EuiTableRowCell,{className:"eui-textTruncate"},Object(aa.jsx)(Zi.a,{tooltipType:"title",content:r.toString(),length:28})),Object(aa.jsx)(ua.EuiTableRowCell,{className:"eui-textTruncate","data-test-subj":"URLFieldCell"},!d&&Object(aa.jsx)(Zi.a,{tooltipType:"title",content:s.toString(),length:28}),d&&Object(aa.jsx)(ua.EuiLink,{target:"_blank",href:s.toString()},Object(aa.jsx)(Zi.a,{tooltipType:"title",content:s.toString(),length:28}))),Object(aa.jsx)(ua.EuiTableRowCell,{align:"right"},dn()(a).format("M/D/YYYY, h:mm:ss A")))})))),Object(aa.jsx)(ua.EuiSpacer,{size:"m"}),y&&Object(aa.jsx)(Xi,S()({},w,{hideLabelCount:!0}))),I=Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(ua.EuiButton,{disabled:!e,fill:!0,color:"primary",onClick:()=>o(e)},Ha)),Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(ua.EuiButtonEmpty,{disabled:!e,onClick:()=>{o(""),t("")}},Ya)));return Object(aa.jsx)(bn,{pageChrome:[E.CONTENT],pageViewTelemetry:"source_overview"},Object(aa.jsx)(jr,{title:Qa}),Object(aa.jsx)(ua.EuiFlexGroup,{gutterSize:"s"},Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(ua.EuiFieldSearch,{disabled:!f&&!O,placeholder:j?qa:Ka,incremental:!j,isClearable:!j,onSearch:o,"data-test-subj":"ContentFilterInput",value:e,onChange:e=>t(e.target.value)})),j&&I),Object(aa.jsx)(ua.EuiSpacer,{size:"xl"}),m&&Object(aa.jsx)($r,{text:Wa}),!m&&(f?C:T))},tl=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.credentialItem.copy.tooltip",{defaultMessage:"Copy to clipboard"}),al=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.credentialItem.copied.tooltip",{defaultMessage:"Copied!"}),sl=e=>e.currentTarget.select(),rl=({label:e,value:t,testSubj:a,hideCopy:r})=>{const[n,c]=Object(s.useState)(!1),o=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.credentialItem.show.tooltip",{defaultMessage:"Show {credential}.",values:{credential:e}});return Object(aa.jsx)(ua.EuiFlexGroup,{alignItems:"center",gutterSize:"none",responsive:!1,"data-test-subj":a},Object(aa.jsx)(ua.EuiFlexItem,{grow:1},Object(aa.jsx)(ua.EuiText,{size:"s"},Object(aa.jsx)("strong",null,e))),Object(aa.jsx)(ua.EuiFlexItem,{grow:2},Object(aa.jsx)(ua.EuiFlexGroup,{gutterSize:"s",alignItems:"center",responsive:!1},!r&&Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(ua.EuiCopy,{beforeMessage:tl,afterMessage:al,textToCopy:t},(e=>Object(aa.jsx)(ua.EuiButtonIcon,{"aria-label":tl,onClick:e,iconType:"copy",color:"primary"})))),Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(ua.EuiToolTip,{position:"top",content:o},Object(aa.jsx)(ua.EuiButtonIcon,{"aria-label":o,"data-test-subj":`Show${Object(ra.upperFirst)(a)}`,onClick:()=>c(!n),iconType:n?"eyeClosed":"eye",color:"primary"}))),Object(aa.jsx)(ua.EuiFlexItem,null,n?Object(aa.jsx)(ua.EuiFieldText,{readOnly:!0,placeholder:"Compressed","data-test-subj":`${a}Input`,value:t,compressed:!0,onClick:sl}):Object(aa.jsx)(ua.EuiFieldPassword,{placeholder:e,value:t,readOnly:!0,compressed:!0,disabled:!0})))))},nl=({isOauth1:e,sourceConfigData:t})=>{const{configuredFields:a,configurableFields:s=[],serviceType:n}=t,{public_key:c,consumer_key:o,external_connector_api_key:i,external_connector_url:l}=a,u=(e,t)=>t&&Object(aa.jsx)("div",{key:e},Object(aa.jsx)(ua.EuiSpacer,{size:"s"}),Object(aa.jsx)(rl,{label:e,value:t,testSubj:e,hideCopy:!0})),p=Object(aa.jsx)(r.a.Fragment,null,c&&Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(Yc,{label:W,apiKey:c}),Object(aa.jsx)(ua.EuiSpacer,null)),o&&Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(Yc,{label:$,apiKey:o}),Object(aa.jsx)(ua.EuiSpacer,null))),d="external"===n?s:[{key:"client_id",label:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sourceConfigFields.clientIDLabel",{defaultMessage:"Client ID"})},{key:"client_secret",label:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sourceConfigFields.clientSecretLabel",{defaultMessage:"Client Secret"})},{key:"base_url",label:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sourceConfigFields.baseUrlLabel",{defaultMessage:"Base URL"})}];return Object(aa.jsx)(r.a.Fragment,null,e&&p,d.map((({key:e,label:t})=>u(t,a[e]))),u(Z,i),l&&Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiSpacer,{size:"s"}),Object(aa.jsx)(ua.EuiFlexGroup,{alignItems:"center",gutterSize:"none",responsive:!1},Object(aa.jsx)(ua.EuiFlexItem,{grow:1},Object(aa.jsx)(ua.EuiText,{size:"s"},Object(aa.jsx)("strong",null,J))),Object(aa.jsx)(ua.EuiFlexItem,{grow:2},Object(aa.jsx)(ua.EuiFlexGroup,{gutterSize:"s",alignItems:"center",responsive:!1},Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(ua.EuiCopy,{beforeMessage:pt,afterMessage:dt,textToCopy:l},(e=>Object(aa.jsx)(ua.EuiButtonIcon,{"aria-label":pt,onClick:e,iconType:"copy",color:"primary"})))),Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiFieldText,{readOnly:!0,placeholder:"https://URL","data-test-subj":"external-connector-url-input",value:l,compressed:!0,onClick:e=>e.currentTarget.select()})))))))},cl=()=>{const{updateContentSource:e,removeContentSource:t,setStagedPrivateKey:a,updateContentSourceConfiguration:n}=Object(c.useActions)(Xt),{contentSource:{name:o,id:i,serviceType:l,isOauth1:u,secret:p},buttonLoading:d,stagedPrivateKey:j,isConfigurationUpdateButtonLoading:g}=Object(c.useValues)(Xt),b=Fn({serviceType:l}),{getSourceConfigData:S}=Object(c.useActions)(b),{sourceConfigData:h,dataLoading:O}=Object(c.useValues)(b),{isOrganization:m}=Object(c.useValues)(x);Object(s.useEffect)((()=>{S()}),[]);const y=l===z||l===A,M="custom"===l,w=y?void 0:Jt(l),[v,T]=Object(s.useState)(o),[C,I]=Object(s.useState)(!1),N=!y&&!M&&m,L=y,F=t=>{t.preventDefault(),e(i,{name:v})},D=Object(aa.jsx)(ua.EuiConfirmModal,{title:rt,onConfirm:()=>{I(!1),t(i)},onCancel:()=>I(!1),buttonColor:"danger",cancelButtonText:ve,confirmButtonText:Ie,defaultFocusedButton:"confirm"},Object(aa.jsx)(qr.FormattedMessage,{id:"xpack.enterpriseSearch.workplaceSearch.sources.settingsModal.text",defaultMessage:"Your source documents will be deleted from Workplace Search.{lineBreak}Are you sure you want to remove {name}?",values:{name:o,lineBreak:Object(aa.jsx)("br",null)}}));return Object(aa.jsx)(bn,{pageChrome:[E.SETTINGS],pageViewTelemetry:"source_settings",isLoading:O},Object(aa.jsx)(jr,{title:es}),Object(aa.jsx)(ao,{title:ts,description:as},Object(aa.jsx)("form",{onSubmit:F},Object(aa.jsx)(ua.EuiFlexGroup,null,Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(ua.EuiFormRow,null,Object(aa.jsx)(ua.EuiFieldText,{value:v,size:64,onChange:e=>T(e.target.value),"aria-label":gs,disabled:d,"data-test-subj":"SourceNameInput"}))),Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(ua.EuiButton,{disabled:d,color:"primary",onClick:F,"data-test-subj":"SaveChangesButton"},oe))))),N&&Object(aa.jsx)(ao,{title:ss},Object(aa.jsx)(nl,{isOauth1:u,sourceConfigData:h}),Object(aa.jsx)(ua.EuiFormRow,null,Object(aa.jsx)(ja.a,{to:w,flush:"left"},os))),L&&Object(aa.jsx)(ao,{title:ss},Object(aa.jsx)(ua.EuiForm,{component:"form",onSubmit:e=>{e.preventDefault(),n(i,{private_key:j})}},Object(aa.jsx)(ua.EuiFormRow,{label:"GitHub App ID"},Object(aa.jsx)("div",null,p.app_id)),p.base_url&&Object(aa.jsx)(ua.EuiFormRow,{label:"Base URL"},Object(aa.jsx)("div",null,p.base_url)),Object(aa.jsx)(ua.EuiFormRow,{label:"Private key"},Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)("div",null,"SHA256:",p.fingerprint),Object(aa.jsx)(ua.EuiSpacer,{size:"s"}),Object(aa.jsx)(ua.EuiFilePicker,{key:p.fingerprint,onChange:e=>fn(e,a),initialPromptText:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.sourceSettings.pemKeyPrompText",{defaultMessage:"Upload a new .pem file to rotate the private key"}),accept:".pem"}))),Object(aa.jsx)(ua.EuiButton,{type:"submit",isLoading:g,disabled:!j},f.z))),Object(aa.jsx)(ao,{title:us,description:ps},Object(aa.jsx)(un,{label:ds})),Object(aa.jsx)(ao,{title:is,description:ls},Object(aa.jsx)(ua.EuiButton,{isLoading:d,"data-test-subj":"DeleteSourceButton",fill:!0,color:"danger",onClick:()=>I(!0)},nt),C&&D))};var ol=a(119),il=a(97);const ll={jobType:"full",day:"monday",start:"11:00:00Z",end:"13:00:00Z"},ul=e=>!!e.include,pl=Object(c.kea)({path:["enterprise_search","workplace_search","synchronization_logic"],actions:{setNavigatingBetweenTabs:e=>e,handleSelectedTabChanged:e=>e,updateSyncEnabled:e=>e,setThumbnailsChecked:e=>e,setSyncFrequency:(e,t,a)=>({type:e,value:t,unit:a}),setBlockedTimeWindow:(e,t,a)=>({index:e,prop:t,value:a}),setContentExtractionChecked:e=>e,updateServerSettings:e=>e,setServerSchedule:e=>e,removeBlockedWindow:e=>e,updateFrequencySettings:!0,updateAssetsAndObjectsSettings:!0,resetSyncSettings:!0,addBlockedWindow:!0,addIndexingRule:e=>e,deleteIndexingRule:e=>e,initAddIndexingRule:e=>({rule:e}),initSetIndexingRule:e=>({rule:e}),setIndexingRules:e=>e,setIndexingRule:e=>e},reducers:({props:e})=>({hasUnsavedIndexingRulesChanges:[!1,{setIndexingRule:()=>!0,setIndexingRules:()=>!0,addIndexingRule:()=>!0,deleteIndexingRule:()=>!0,resetSyncSettings:()=>!1,updateServerSettings:()=>!1}],navigatingBetweenTabs:[!1,{setNavigatingBetweenTabs:(e,t)=>t}],thumbnailsChecked:[e.contentSource.indexing.features.thumbnails.enabled,{setThumbnailsChecked:(e,t)=>t,resetSyncSettings:()=>e.contentSource.indexing.features.thumbnails.enabled}],contentExtractionChecked:[e.contentSource.indexing.features.contentExtraction.enabled,{setContentExtractionChecked:(e,t)=>t,resetSyncSettings:()=>e.contentSource.indexing.features.contentExtraction.enabled}],cachedSchedule:[jl(e.contentSource.indexing.schedule),{setServerSchedule:(e,t)=>t}],schedule:[jl(e.contentSource.indexing.schedule),{resetSyncSettings:()=>jl(e.contentSource.indexing.schedule),setServerSchedule:(e,t)=>t,setSyncFrequency:(e,{type:t,value:a,unit:s})=>{let r;const n=Object(ra.cloneDeep)(e),c=n[t];switch(s){case"days":r=dn.a.duration(c).days();break;case"hours":r=dn.a.duration(c).hours();break;default:r=dn.a.duration(c).minutes()}return n[t]=dn.a.duration(c).subtract(r,s).add(a,s).toISOString(),n},addBlockedWindow:e=>{const t=Object(ra.cloneDeep)(e),a=t.blockedWindows||[];return a.push(ll),t.blockedWindows=a,t},removeBlockedWindow:(e,t)=>{const a=Object(ra.cloneDeep)(e),s=a.blockedWindows;return s.splice(t,1),s.length>0?a.blockedWindows=s:delete a.blockedWindows,a},setBlockedTimeWindow:(e,{index:t,prop:a,value:s})=>{const r=Object(ra.cloneDeep)(e),n=r.blockedWindows,c=n[t];return c[a]=s,n[t]=c,r.blockedWindows=n,r}}],indexingRules:[e.contentSource.indexing.rules.map(((e,t)=>({filterType:e.filterType,id:t,valueType:ul(e)?"include":"exclude",value:ul(e)?e.include:e.exclude}))),{addIndexingRule:(e,t)=>[...e,{...t,id:e.reduce(((e,t)=>t.id>=e?t.id+1:e),e.length)}],deleteIndexingRule:(e,t)=>e.filter((e=>e.id!==t.id)),resetSyncSettings:()=>e.contentSource.indexing.rules.map(((e,t)=>({filterType:e.filterType,id:t,valueType:ul(e)?"include":"exclude",value:ul(e)?e.include:e.exclude}))),setIndexingRules:(e,t)=>t.map(((e,t)=>({...e,id:t}))),setIndexingRule:(e,t)=>e.map((e=>e.id===t.id?t:e))}]}),selectors:({selectors:e})=>({hasUnsavedAssetsAndObjectsChanges:[()=>[e.thumbnailsChecked,e.contentExtractionChecked,e.hasUnsavedIndexingRulesChanges,(e,t)=>t.contentSource],(e,t,a,s)=>{const{indexing:{features:{thumbnails:{enabled:r},contentExtraction:{enabled:n}}}}=s;return e!==r||t!==n||a}],hasUnsavedFrequencyChanges:[()=>[e.cachedSchedule,e.schedule],(e,t)=>!Object(ra.isEqual)(e,t)],indexingRulesForAPI:[()=>[e.indexingRules],e=>e.map((e=>xl(e)))]}),listeners:({actions:e,values:t,props:a})=>({handleSelectedTabChanged:async(t,s)=>{const{isOrganization:r}=x.values,{id:n}=a.contentSource,c=Qt("source_sync_frequency"===t?Rt:Ut,n,r);e.setNavigatingBetweenTabs(!0),await s(),u.a.values.navigateToUrl(c),e.setNavigatingBetweenTabs(!1)},initAddIndexingRule:async({rule:t})=>{const{id:s}=a.contentSource,r=`/internal/workplace_search/org/sources/${s}/indexing_rules/validate`;try{var n;const a=null===(n=(await l.a.values.http.post(r,{body:JSON.stringify({rules:[xl(t)]})})).rules[0])||void 0===n?void 0:n.error,s=Object(il.a)({instanceId:"IndexingRulesTable"});a?s.actions.setRowErrors([a]):e.addIndexingRule(t),s.actions.doneEditing()}catch(e){Object(Zt.e)(e)}},initSetIndexingRule:async({rule:t})=>{const{id:s}=a.contentSource,r=`/internal/workplace_search/org/sources/${s}/indexing_rules/validate`;try{var n;const a=null===(n=(await l.a.values.http.post(r,{body:JSON.stringify({rules:[xl(t)]})})).rules[0])||void 0===n?void 0:n.error,s=Object(il.a)({instanceId:"IndexingRulesTable"});a?s.actions.setRowErrors([a]):e.setIndexingRule(t),s.actions.doneEditing()}catch(e){Object(Zt.e)(e)}},updateSyncEnabled:async t=>{e.updateServerSettings({content_source:{indexing:{enabled:t}}})},updateAssetsAndObjectsSettings:()=>{e.updateServerSettings({content_source:{indexing:{features:{content_extraction:{enabled:t.contentExtractionChecked},thumbnails:{enabled:t.thumbnailsChecked}},rules:t.indexingRulesForAPI}}})},updateFrequencySettings:()=>{e.updateServerSettings({content_source:{indexing:{schedule:{full:t.schedule.full,incremental:t.schedule.incremental,delete:t.schedule.delete,blocked_windows:gl(t.schedule.blockedWindows)}}}})},updateServerSettings:async e=>{const{id:t}=a.contentSource,s=`/internal/workplace_search/org/sources/${t}/settings`;try{const t=await l.a.values.http.patch(s,{body:JSON.stringify(e)});Xt.actions.setContentSource(t),pl.actions.setServerSchedule(t.indexing.schedule),Object(Zt.g)(ir)}catch(e){Object(Zt.e)(e)}}})}),dl=e=>dn.a.duration(e).subtract((e=>1e3*dn.a.duration(e).seconds())(e)).toISOString(),jl=e=>{const t=Object(ra.cloneDeep)(e),{full:a,incremental:s,delete:r,permissions:n}=t;return t.full=dl(a),t.incremental=dl(s),t.delete=dl(r),n&&(t.permissions=dl(n)),t},gl=e=>!e||e.length<1?[]:e.map((({jobType:e,day:t,start:a,end:s})=>({job_type:e,day:t,start:a,end:s}))),xl=e=>{const{valueType:t,filterType:a,value:s}=e;return"include"===t?{filter_type:a,include:s}:{filter_type:a,exclude:s}},bl=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.sourceAssetsAndObjectsObjectsTablePolicyLabel",{defaultMessage:"Policy"}),Sl=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.sourceAssetsAndObjectsObjectsTablePathLabel",{defaultMessage:"Path"}),hl=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.sourceAssetsAndObjectsObjectsTableItemLabel",{defaultMessage:"Item"}),Ol=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.sourceAssetsAndObjectsObjectsTableFileLabel",{defaultMessage:"File type"}),ml=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.sourceAssetsAndObjectsObjectsTableIncludeLabel",{defaultMessage:"Include"}),yl=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.sourceAssetsAndObjectsObjectsTableExcludeLabel",{defaultMessage:"Exclude"}),kl=()=>{const{contentSource:e}=Object(c.useValues)(Xt),t="IndexingRulesTable",{indexingRules:a}=Object(c.useValues)(pl({contentSource:e,indexingRulesInstanceId:t})),{initAddIndexingRule:s,deleteIndexingRule:r,initSetIndexingRule:n,setIndexingRules:o}=Object(c.useActions)(pl({contentSource:e})),i=Object(aa.jsx)(ua.EuiText,{size:"s",color:"default"},k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.sourceAssetsAndObjectsObjectsDescription",{defaultMessage:"Add an indexing rule to customize what data is synchronized from {contentSourceName}. Everything is included by default, and documents are validated against the configured set of indexing rules starting from the top listed down.",values:{contentSourceName:e.name}}),Object(aa.jsx)(ua.EuiSpacer,null),Object(aa.jsx)(ua.EuiLink,{href:hr.a.workplaceSearchSynch,external:!0},k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.sourceAssetsAndObjectsSyncLearnMoreLink",{defaultMessage:"Learn more about customizing your index rules."}))),l=[{editingRender:(e,t,{isInvalid:a,isLoading:s})=>Object(aa.jsx)(ua.EuiSelect,{fullWidth:!0,value:e.valueType,onChange:e=>t(e.target.value),disabled:s,isInvalid:a,options:[{text:ml,value:"include"},{text:yl,value:"exclude"}]}),render:e=>Object(aa.jsx)(ua.EuiText,{size:"s"},(e=>{switch(e){case"include":return ml;case"exclude":return yl;default:return""}})(e.valueType)),name:bl,field:"valueType"},{editingRender:(e,t,{isInvalid:a,isLoading:s})=>Object(aa.jsx)(ua.EuiSelect,{fullWidth:!0,value:e.filterType,onChange:e=>t(e.target.value),disabled:s,isInvalid:a,options:[{text:hl,value:"object_type"},{text:Sl,value:"path_template"},{text:Ol,value:"file_extension"}]}),render:e=>Object(aa.jsx)(ua.EuiText,{size:"s"},(e=>{switch(e){case"object_type":return hl;case"path_template":return Sl;case"file_extension":return Ol;default:return""}})(e.filterType)),name:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.sourceAssetsAndObjectsObjectsTableRuleLabel",{defaultMessage:"Rule"}),field:"filterType"},{editingRender:(e,t,{isInvalid:a,isLoading:s})=>Object(aa.jsx)(ua.EuiFlexGroup,{alignItems:"center",gutterSize:"s",responsive:!1},Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiFieldText,{fullWidth:!0,value:e.value,onChange:e=>t(e.target.value),disabled:s,isInvalid:a}))),render:e=>Object(aa.jsx)(ua.EuiText,{size:"s"},e.value),name:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.sourceAssetsAndObjectsObjectsTableValueLabel",{defaultMessage:"Value"}),field:"value"}];return Object(aa.jsx)(ol.a,{addButtonText:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.sourceAssetsAndObjectsAddRuleLabel",{defaultMessage:"Add indexing rule"}),columns:l,defaultItem:{valueType:"include",filterType:"object_type"},description:i,instanceId:t,items:a,onAdd:e=>{s(e),Object(Zt.d)()},onDelete:e=>{r(e),Object(Zt.d)()},onUpdate:e=>{n(e),Object(Zt.d)()},onReorder:e=>{o(e),Object(Zt.d)()},title:"",bottomRows:[Object(aa.jsx)(ua.EuiText,{size:"s"},k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sources.indexingRulesTable.includeEverythingMessage",{defaultMessage:"Include everything else from this source"}))],canRemoveLastItem:!0,showRowIndex:!0})},fl=()=>{const{contentSource:e,dataLoading:t}=Object(c.useValues)(Xt),{thumbnailsChecked:a,contentExtractionChecked:s,hasUnsavedAssetsAndObjectsChanges:r}=Object(c.useValues)(pl({contentSource:e})),{setThumbnailsChecked:n,setContentExtractionChecked:o,updateAssetsAndObjectsSettings:i,resetSyncSettings:l}=Object(c.useActions)(pl({contentSource:e})),{areThumbnailsConfigEnabled:u}=e,p=Object(aa.jsx)(ua.EuiFlexGroup,null,Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiButton,{fill:!0,onClick:i,disabled:!r},f.z)),Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiButtonEmpty,{onClick:l,disabled:!r},Te)));return Object(aa.jsx)(bn,{pageChrome:[E.SYNCHRONIZATION_ASSETS_AND_OBJECTS],pageViewTelemetry:"source_synchronization",isLoading:t},Object(aa.jsx)(Bo.a,{hasUnsavedChanges:r,messageText:lr}),Object(aa.jsx)(jr,{title:E.SYNCHRONIZATION_ASSETS_AND_OBJECTS,action:p}),Ds,Object(aa.jsx)(ua.EuiSpacer,null),Object(aa.jsx)(ua.EuiLink,{href:hr.a.workplaceSearchSynch,external:!0},_s),Object(aa.jsx)(ua.EuiHorizontalRule,null),Object(aa.jsx)(ua.EuiTitle,{size:"s"},Object(aa.jsx)("h3",null,Rs)),Object(aa.jsx)(ua.EuiSpacer,null),Object(aa.jsx)(ua.EuiFlexGroup,null,Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(ua.EuiSwitch,{checked:a,onChange:e=>n(e.target.checked),label:u?rs:ns,disabled:!u,"data-test-subj":"ThumbnailsToggle"}))),Object(aa.jsx)(ua.EuiFlexGroup,null,Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(ua.EuiSwitch,{checked:s,onChange:e=>o(e.target.checked),label:cs,"data-test-subj":"ContentExtractionToggle"}))),Object(aa.jsx)(ua.EuiHorizontalRule,null),Object(aa.jsx)(ua.EuiTitle,{size:"s"},Object(aa.jsx)("h3",null,Us)),Object(aa.jsx)(ua.EuiFlexGroup,null,Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(kl,null))))},Ml=[{value:"full",inputDisplay:Zs,dropdownDisplay:Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)("strong",null,Zs),Object(aa.jsx)(ua.EuiText,{size:"s"},Xs))},{value:"incremental",inputDisplay:er,dropdownDisplay:Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)("strong",null,er),Object(aa.jsx)(ua.EuiText,{size:"s"},tr))},{value:"delete",inputDisplay:ar,dropdownDisplay:Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)("strong",null,ar),Object(aa.jsx)(ua.EuiText,{size:"s"},sr))},{value:"permissions",inputDisplay:rr,dropdownDisplay:Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)("strong",null,rr),Object(aa.jsx)(ua.EuiText,{size:"s"},nr))}],El=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].map((e=>({text:f.i[e.toUpperCase()],value:e})));El.push({text:f.b,value:"all"});const wl=({blockedWindow:e,index:t})=>{const{contentSource:a}=Object(c.useValues)(Xt),{removeBlockedWindow:s,setBlockedTimeWindow:n}=Object(c.useActions)(pl({contentSource:a}));return Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiSpacer,null),Object(aa.jsx)(ua.EuiFlexGroup,{alignItems:"center",gutterSize:"m"},Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(ua.EuiText,null,Ke)),Object(aa.jsx)(ua.EuiFlexItem,{grow:!1,style:{width:175},className:"blockedItemSyncSelect"},Object(aa.jsx)(ua.EuiSuperSelect,{valueOfSelected:e.jobType,options:Ml,onChange:e=>n(t,"jobType",e),itemClassName:"blockedWindowSelectItem",popoverProps:{className:"blockedWindowSelectPopover"}})),Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(ua.EuiText,null,$e)),Object(aa.jsx)(ua.EuiFlexItem,{style:{minWidth:130}},Object(aa.jsx)(ua.EuiSelect,{value:e.day,onChange:e=>n(t,"day",e.target.value),options:El})),Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(ua.EuiText,null,We)),Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(ua.EuiDatePickerRange,{startDateControl:Object(aa.jsx)(ua.EuiDatePicker,{showTimeSelect:!0,showTimeSelectOnly:!0,selected:dn()(e.start,"HH:mm:ssZ").utc(),onChange:e=>e&&n(t,"start",`${e.utc().format("HH:mm:ss")}Z`),dateFormat:"h:mm A",timeFormat:"h:mm A"}),endDateControl:Object(aa.jsx)(ua.EuiDatePicker,{showTimeSelect:!0,showTimeSelectOnly:!0,selected:dn()(e.end,"HH:mm:ssZ").utc(),onChange:e=>e&&n(t,"end",`${e.utc().format("HH:mm:ss")}Z`),dateFormat:"h:mm A",timeFormat:"h:mm A"})})),Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(ua.EuiIconTip,{title:pr,type:"iInCircle",content:Object(aa.jsx)(ua.EuiText,{size:"s"},Object(aa.jsx)(qr.FormattedMessage,{id:"xpack.enterpriseSearch.workplaceSearch.sources.utcLabel",defaultMessage:"Current UTC time: {utcTime}",values:{utcTime:dn()().utc().format("h:mm A")}}))})),Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(ua.EuiButtonIcon,{display:"base",iconType:"trash",color:"danger",onClick:()=>s(t),"aria-label":nt,title:nt}))),Object(aa.jsx)(ua.EuiSpacer,{size:"s"}))},vl=()=>{const{contentSource:e}=Object(c.useValues)(Xt),{schedule:{blockedWindows:t}}=Object(c.useValues)(pl({contentSource:e})),{addBlockedWindow:a}=Object(c.useActions)(pl({contentSource:e})),s=t&&t.length>0,n=Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiSpacer,null),Object(aa.jsx)(ua.EuiEmptyPrompt,{iconType:"clock",title:Object(aa.jsx)("h2",null,cr),body:Object(aa.jsx)("p",null,or),actions:Object(aa.jsx)(ua.EuiButton,{color:"primary",fill:!0,onClick:a},Xe)})),o=Object(aa.jsx)(r.a.Fragment,null,null==t?void 0:t.map(((e,t)=>Object(aa.jsx)(wl,{key:t,index:t,blockedWindow:e}))),Object(aa.jsx)(ua.EuiSpacer,null),Object(aa.jsx)(ua.EuiButton,{onClick:a},Xe));return s?o:n},Tl=({type:e,label:t,description:a,duration:s,estimate:n})=>{const{contentSource:o}=Object(c.useValues)(Xt),{setSyncFrequency:i}=Object(c.useActions)(pl({contentSource:o})),{lastRun:l,nextStart:u,duration:p}=n,d=p&&dn.a.duration(p).humanize(),j=dn()().isAfter(u)?ur:dn()(u).fromNow(),g=l||u||p,x=Object(aa.jsx)(qr.FormattedMessage,{id:"xpack.enterpriseSearch.workplaceSearch.contentSources.synchronization.frequencyItemLabel",defaultMessage:"Perform a {label} every",values:{label:Object(aa.jsx)("strong",null,t)}}),b=Object(aa.jsx)(qr.FormattedMessage,{id:"xpack.enterpriseSearch.workplaceSearch.contentSources.synchronization.lastRunSummary",defaultMessage:"This sync {lastRunStrong} {lastRunTime}.",values:{lastRunStrong:Object(aa.jsx)("strong",null,Object(aa.jsx)(qr.FormattedMessage,{id:"xpack.enterpriseSearch.workplaceSearch.contentSources.synchronization.lastRunLabel",defaultMessage:"last run"})),lastRunTime:dn()(l).fromNow()}}),S=Object(aa.jsx)(qr.FormattedMessage,{"data-test-subj":"nextStartSummary",id:"xpack.enterpriseSearch.workplaceSearch.contentSources.synchronization.nextStartSummary",defaultMessage:"{nextStartStrong} will begin {nextStartTime}.",values:{nextStartStrong:Object(aa.jsx)("strong",null,Object(aa.jsx)(qr.FormattedMessage,{id:"xpack.enterpriseSearch.workplaceSearch.contentSources.synchronization.nextStartLabel",defaultMessage:"Next run"})),nextStartTime:j}}),h=Object(aa.jsx)(qr.FormattedMessage,{id:"xpack.enterpriseSearch.workplaceSearch.contentSources.synchronization.estimateSummaryLabel",defaultMessage:"Estimated to take {estimateDisplay} to complete.",values:{estimateDisplay:d}});return Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiFlexGroup,{alignItems:"center"},Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(ua.EuiText,null,x)),Object(aa.jsx)(ua.EuiFlexItem,{grow:!1,style:{width:120}},Object(aa.jsx)(ua.EuiFieldNumber,{"data-test-subj":"durationDays",value:dn.a.duration(s).days(),append:f.j,onChange:t=>i(e,t.target.value,"days")})),Object(aa.jsx)(ua.EuiFlexItem,{grow:!1,style:{width:120}},Object(aa.jsx)(ua.EuiFieldNumber,{"data-test-subj":"durationHours",value:dn.a.duration(s).hours(),append:f.q,onChange:t=>i(e,t.target.value,"hours")})),Object(aa.jsx)(ua.EuiFlexItem,{grow:!1,style:{width:150}},Object(aa.jsx)(ua.EuiFieldNumber,{"data-test-subj":"durationMinutes",value:dn.a.duration(s).minutes(),append:f.s,onChange:t=>i(e,t.target.value,"minutes")})),Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(ua.EuiIconTip,{title:t,type:"iInCircle",content:a}))),g&&Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiSpacer,null),Object(aa.jsx)(ua.EuiText,{"data-test-subj":"SyncEstimates"},l&&b," ",u&&S," ",d&&h)),Object(aa.jsx)(ua.EuiSpacer,{size:"s"}))},Cl=()=>{const{contentSource:e}=Object(c.useValues)(Xt),{schedule:{full:t,incremental:a,delete:s,permissions:n,estimates:{full:o,incremental:i,delete:l,permissions:u}}}=Object(c.useValues)(pl({contentSource:e}));return Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiSpacer,null),Object(aa.jsx)(Tl,{type:"full",label:Zs,description:Xs,duration:t,estimate:o}),Object(aa.jsx)(ua.EuiHorizontalRule,null),Object(aa.jsx)(Tl,{type:"incremental",label:er,description:tr,duration:a,estimate:i}),Object(aa.jsx)(ua.EuiHorizontalRule,null),Object(aa.jsx)(Tl,{type:"delete",label:ar,description:sr,duration:s,estimate:l}),n&&u&&Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiHorizontalRule,null),Object(aa.jsx)(Tl,{type:"permissions",label:rr,description:nr,duration:n,estimate:u})))},Il=({tabId:e})=>{const{contentSource:t}=Object(c.useValues)(Xt),{hasUnsavedFrequencyChanges:a,navigatingBetweenTabs:s}=Object(c.useValues)(pl({contentSource:t})),{handleSelectedTabChanged:n,resetSyncSettings:o,updateFrequencySettings:i}=Object(c.useActions)(pl({contentSource:t})),l=[{id:"source_sync_frequency",name:Ks,content:Object(aa.jsx)(Cl,null)},{id:"blocked_time_windows",name:Ws,content:Object(aa.jsx)(vl,null)}],u=Object(aa.jsx)(ua.EuiFlexGroup,null,Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiButtonEmpty,{onClick:o,disabled:!a},Te)),Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiButton,{fill:!0,onClick:i,disabled:!a},f.z)));return Object(aa.jsx)(bn,{pageChrome:[E.SYNCHRONIZATION_FREQUENCY,0===e?Ks:Ws],pageViewTelemetry:"source_synchronization_frequency",isLoading:!1},Object(aa.jsx)(Bo.a,{hasUnsavedChanges:!s&&a,messageText:lr}),Object(aa.jsx)(jr,{title:E.SYNCHRONIZATION_FREQUENCY,description:Object(aa.jsx)(r.a.Fragment,null,As," ",Object(aa.jsx)(ua.EuiLink,{href:hr.a.workplaceSearchIndexingSchedule,external:!0},La)),action:u}),Object(aa.jsx)(ua.EuiSpacer,null),Object(aa.jsx)(ua.EuiTabbedContent,{tabs:l,selectedTab:l[e],onTabClick:e=>{n(e.id)}}))},Nl=()=>{const{contentSource:e}=Object(c.useValues)(Xt),{updateSyncEnabled:t}=Object(c.useActions)(pl({contentSource:e})),{isSyncConfigEnabled:a,indexing:{enabled:s}}=e,n=Object(aa.jsx)(ua.EuiPanel,{hasBorder:!0},Object(aa.jsx)(ua.EuiSwitch,{label:Ps,checked:s,onChange:e=>{return a=e.target.checked,t(a);var a}}),Object(aa.jsx)(ua.EuiSpacer,{size:"m"}),Object(aa.jsx)(ua.EuiText,{size:"s",color:"subdued"},Gs)),o=Object(aa.jsx)(ua.EuiCallOut,{title:$s,color:"warning",iconType:"help"},Object(aa.jsx)("p",null,Js));return Object(aa.jsx)(bn,{pageChrome:[E.SYNCHRONIZATION],pageViewTelemetry:"source_synchronization",isLoading:!1},Object(aa.jsx)(jr,{title:E.SYNCHRONIZATION,description:Object(aa.jsx)(r.a.Fragment,null,zs," ",Object(aa.jsx)(ua.EuiLink,{href:hr.a.workplaceSearchSynch,external:!0},La))}),Object(aa.jsx)(ua.EuiSpacer,null),a?n:o)},Ll=()=>Object(aa.jsx)(o.c,null,Object(aa.jsx)(o.a,{exact:!0,path:Kt(Ft,!0)},Object(aa.jsx)(Nl,null)),Object(aa.jsx)(o.a,{exact:!0,path:Kt(Rt,!0)},Object(aa.jsx)(Il,{tabId:0})),Object(aa.jsx)(o.a,{exact:!0,path:Kt(Ut,!0)},Object(aa.jsx)(Il,{tabId:1})),Object(aa.jsx)(o.a,{exact:!0,path:Kt(Gt,!0)},Object(aa.jsx)(fl,null)),Object(aa.jsx)(n.Redirect,{from:Kt(Pt,!0),to:Kt(Gt,!0)})),Fl=()=>{const{sourceId:e}=Object(n.useParams)(),{pathname:t}=Object(n.useLocation)(),{initializeSource:a,resetSourceState:r}=Object(c.useActions)(Xt),{contentSource:i,dataLoading:l}=Object(c.useValues)(Xt),{isOrganization:u}=Object(c.useValues)(x);if(Object(s.useEffect)((()=>{a(e)}),[t]),Object(s.useEffect)((()=>r),[]),l)return u?Object(aa.jsx)(la,{isLoading:!0}):Object(aa.jsx)(dr,{isLoading:!0});const{serviceType:p}=i,d=p===D,j=!d&&u;return Object(aa.jsx)(o.c,null,Object(aa.jsx)(o.a,{exact:!0,path:Qt(Ct,e,u)},Object(aa.jsx)(Sn,null)),Object(aa.jsx)(o.a,{exact:!0,path:Qt(It,e,u)},Object(aa.jsx)(el,null)),j&&Object(aa.jsx)(o.a,{path:Qt(Ft,e,u)},Object(aa.jsx)(Ll,null)),d&&Object(aa.jsx)(o.a,{exact:!0,path:Qt(Nt,e,u)},Object(aa.jsx)($i,null)),d&&Object(aa.jsx)(o.a,{exact:!0,path:Kt(At,u)},Object(aa.jsx)(Ji,null)),d&&Object(aa.jsx)(o.a,{path:Qt(Lt,e,u)},Object(aa.jsx)(Ni,null)),Object(aa.jsx)(o.a,{exact:!0,path:Qt(zt,e,u)},Object(aa.jsx)(cl,null)),Object(aa.jsx)(o.a,null,Object(aa.jsx)(Go,{isOrganization:u,pageChrome:[E.SOURCES]})))};a(965);const zl=()=>{const{pathname:e}=Object(n.useLocation)(),{resetSourcesState:t}=Object(c.useActions)(wn),{account:{canCreatePrivateSources:a},isOrganization:r}=Object(c.useValues)(x);return Object(s.useEffect)((()=>{t()}),[e]),void 0===a?null:Object(aa.jsx)(o.c,null,Object(aa.jsx)(o.a,{exact:!0,path:Mt},Object(aa.jsx)(Uo,null)),Object(aa.jsx)(o.a,{exact:!0,path:ft},Object(aa.jsx)(Ro,null)),Object(aa.jsx)(o.a,{exact:!0,path:$t(z)},Object(aa.jsx)(uo,{isGithubEnterpriseServer:!1})),Object(aa.jsx)(o.a,{exact:!0,path:$t(A)},Object(aa.jsx)(uo,{isGithubEnterpriseServer:!0})),Object(aa.jsx)(o.a,{exact:!0,path:`${Kt($t("external"),r)}/intro`,"data-test-subj":"ConnectorBYOIntroRoute"},Object(aa.jsx)(ko,null)),Object(aa.jsx)(o.a,{exact:!0,path:`${Kt($t(":serviceType"),r)}/intro`,"data-test-subj":"ConnectorIntroRoute"},Object(aa.jsx)(vo,null)),Object(aa.jsx)(o.a,{exact:!0,path:`${Kt($t(":serviceType"),r)}/choice`,"data-test-subj":"ConnectorChoiceRoute"},Object(aa.jsx)(Eo,null)),Object(aa.jsx)(o.a,{exact:!0,path:`${Kt($t("external"),r)}/connector_registration`,"data-test-subj":"ExternalConnectorConfigRoute"},Object(aa.jsx)(Wc,null)),Object(aa.jsx)(o.a,{exact:!0,path:`${Kt($t("external",":baseServiceType"),r)}/connector_registration`,"data-test-subj":"ExternalConnectorConfigRoute"},Object(aa.jsx)(Wc,null)),Object(aa.jsx)(o.a,{exact:!0,path:`${Kt($t("custom"),r)}/`,"data-test-subj":"AddCustomSourceRoute"},Object(aa.jsx)(yo,null)),Object(aa.jsx)(o.a,{exact:!0,path:`${Kt($t("custom",":baseServiceType"),r)}/`,"data-test-subj":"AddCustomSourceRoute"},Object(aa.jsx)(yo,null)),Object(aa.jsx)(o.a,{exact:!0,path:`${Kt($t(":serviceType"),r)}/:initialStep?`,"data-test-subj":"AddSourceRoute"},Object(aa.jsx)(Xc,null)),a?Object(aa.jsx)(o.a,{exact:!0,path:Kt(wt,!1)},Object(aa.jsx)(io,null)):Object(aa.jsx)(n.Redirect,{exact:!0,from:Kt(wt,!1),to:Mt}),Object(aa.jsx)(o.a,{exact:!0,path:Kt(wt,!0)},Object(aa.jsx)(io,null)),Object(aa.jsx)(o.a,{path:Kt(Ct,r)},Object(aa.jsx)(Fl,null)))},Al=()=>{const{search:e}=Object(n.useLocation)(),t=Object(Vc.a)(e),a=JSON.parse(t.state),r="account"!==a.context,{setChromeIsVisible:o}=Object(c.useValues)(u.a),i=Fn({serviceType:a.service_type,initialStep:"configure"}),{saveSourceParams:l}=Object(c.useActions)(i);return o(r),Object(s.useEffect)((()=>{l(e,t,r)}),[]),Object(aa.jsx)(ua.EuiPage,null,Object(aa.jsx)(ua.EuiPageBody,null,Object(aa.jsx)(ba.a,null)))};var Dl=a(77),_l=a(121);const Rl=()=>Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(O.j,null),Object(aa.jsx)(y.c,{action:"error",metric:"cannot_connect"}),Object(aa.jsx)(Dl.a,{isEmptyState:!0},Object(aa.jsx)(jr,{title:h.B.NAME}),Object(aa.jsx)(_l.b,null))),Ul=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.groups.overview.emptySourcesDescription",{defaultMessage:"No content sources are shared with this group."}),Pl=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.groups.overview.usersSectionTitle",{defaultMessage:"Group users"}),Gl=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.groups.overview.groupUsersDescription",{defaultMessage:"Users assigned to this group gain access to the sources' data and content defined above. User assignments for this group can be managed in the Users and Roles area."}),Bl=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.groups.overview.manageSourcesButtonText",{defaultMessage:"Manage organizational content sources"}),Vl=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.groups.overview.manageUsersButtonText",{defaultMessage:"Manage users and roles"}),Hl=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.groups.overview.nameSectionTitle",{defaultMessage:"Group name"}),Yl=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.groups.overview.nameSectionDescription",{defaultMessage:"Customize the name of this group."}),Ql=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.groups.overview.saveNameButtonText",{defaultMessage:"Save name"}),ql=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.groups.overview.removeSectionTitle",{defaultMessage:"Remove this group"}),Kl=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.groups.overview.removeSectionDescription",{defaultMessage:"This action cannot be undone."}),Wl=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.groups.overview.removeButtonText",{defaultMessage:"Remove group"}),$l=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.groups.overview.confirmTitleText",{defaultMessage:"Confirm"}),Jl=()=>{const{deleteGroup:e,showOrgSourcesModal:t,showConfirmDeleteModal:a,hideConfirmDeleteModal:s,updateGroupName:n,onGroupNameInputChange:o}=Object(c.useActions)(na),{group:{name:i,contentSources:l,canDeleteGroup:u},groupNameInputValue:p,dataLoading:d,confirmDeleteModalVisible:j}=Object(c.useValues)(na),g=i&&Object(aa.jsx)(Zi.a,{tooltipType:"title",content:i,length:40}),x=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.groups.overview.confirmRemoveButtonText",{defaultMessage:"Delete {name}",values:{name:i}}),b=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.groups.overview.confirmRemoveDescription",{defaultMessage:"Your group will be deleted from Workplace Search. Are you sure you want to remove {name}?",values:{name:i}}),S=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.groups.overview.groupSourcesTitle",{defaultMessage:"Group content sources"}),h=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.groups.overview.groupSourcesDescription",{defaultMessage:'Searchable by all users in the "{name}" group.',values:{name:i}}),O=(null==l?void 0:l.length)>0,m=Object(aa.jsx)(ua.EuiButton,{color:"primary",onClick:t},Bl),y=Object(aa.jsx)(ja.b,{color:"primary",to:St},Vl),f=Object(aa.jsx)(Do,{sources:l}),M=Object(aa.jsx)(ao,{title:S,description:h,action:m,"data-test-subj":"GroupContentSourcesSection"},f),w=Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiPanel,{paddingSize:"none",color:"subdued"},Object(aa.jsx)(ua.EuiEmptyPrompt,{iconType:to.a,title:Object(aa.jsx)("h2",null,S),body:Object(aa.jsx)("p",null,Ul),actions:m})),Object(aa.jsx)(ua.EuiSpacer,null)),v=Object(aa.jsx)(ao,{title:Pl,description:Gl,"data-test-subj":"GroupUsersSection"},y),T=Object(aa.jsx)(ao,{title:Hl,description:Yl},Object(aa.jsx)("form",{onSubmit:e=>{e.preventDefault(),n()}},Object(aa.jsx)(ua.EuiFormRow,{isInvalid:!1},Object(aa.jsx)(ua.EuiFlexGroup,null,Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(ua.EuiFieldText,{isInvalid:!1,value:p,onChange:e=>o(e.target.value)})),Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(ua.EuiButton,{disabled:!p,onClick:n},Ql)))))),C=Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiSpacer,{size:"xs"}),Object(aa.jsx)(ua.EuiHorizontalRule,null),Object(aa.jsx)(ua.EuiSpacer,{size:"xxl"}),Object(aa.jsx)(ao,{title:ql,description:Kl},j&&Object(aa.jsx)(ua.EuiConfirmModal,{onCancel:s,onConfirm:e,confirmButtonText:x,title:$l,cancelButtonText:ve,defaultFocusedButton:"confirm"},b),Object(aa.jsx)(ua.EuiButton,{color:"danger","data-test-subj":"DeleteGroup",fill:!0,onClick:a},Wl)));return Object(aa.jsx)(la,{pageChrome:[E.GROUPS,i||"..."],pageViewTelemetry:"group_overview",pageHeader:{pageTitle:g},isLoading:d},O?M:w,v,T,u&&C)},Zl=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.groups.sourceProioritization.headerTitle",{defaultMessage:"Organizational content source prioritization"}),Xl=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.groups.sourceProioritization.headerDescription",{defaultMessage:"Calibrate relative document importance across group content sources."}),eu=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.groups.sourceProioritization.zeroStateTitle",{defaultMessage:"No sources are shared with this group"}),tu=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.groups.sourceProioritization.zeroStateButtonText",{defaultMessage:"Add organizational content sources"}),au=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.groups.sourceProioritization.sourceTableHeader",{defaultMessage:"Source"}),su=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.groups.sourceProioritization.priorityTableHeader",{defaultMessage:"Relevance Priority"}),ru=()=>{const{updatePriority:e,saveGroupSourcePrioritization:t,showOrgSourcesModal:a}=Object(c.useActions)(na),{group:{contentSources:s=[],name:n},dataLoading:o,activeSourcePriorities:i,groupPrioritiesUnchanged:l}=Object(c.useValues)(na),u=Object(aa.jsx)(ua.EuiButton,{disabled:l,color:"primary",fill:!0,onClick:t},f.z),p=s.length>0,d=Object(aa.jsx)(ua.EuiPanel,{paddingSize:"none"},Object(aa.jsx)(ua.EuiSpacer,{size:"xxl"}),Object(aa.jsx)(ua.EuiEmptyPrompt,{iconType:"advancedSettingsApp",iconColor:"subdued",titleSize:"s",title:Object(aa.jsx)("h3",null,eu),body:Object(aa.jsx)(r.a.Fragment,null,k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.groups.sourceProioritization.zeroStateBody",{defaultMessage:"Share two or more sources with {groupName} to customize source prioritization.",values:{groupName:n}})),actions:Object(aa.jsx)(ua.EuiButton,{onClick:a},tu)}),Object(aa.jsx)(ua.EuiSpacer,{size:"xxl"})),j=Object(aa.jsx)(ua.EuiTable,{responsive:!1,tableLayout:"auto"},Object(aa.jsx)(ua.EuiTableHeader,null,Object(aa.jsx)(ua.EuiTableHeaderCell,null,au),Object(aa.jsx)(ua.EuiTableHeaderCell,{align:"right"},su)),Object(aa.jsx)(ua.EuiTableBody,null,s.map((({id:t,name:a,serviceType:s})=>Object(aa.jsx)(ua.EuiTableRow,{key:t,"data-test-subj":"GroupsRow"},Object(aa.jsx)(ua.EuiTableRowCell,null,Object(aa.jsx)(ua.EuiFlexGroup,{justifyContent:"flexStart",alignItems:"center",responsive:!1},Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(gn,{serviceType:s,name:a})),Object(aa.jsx)(ua.EuiFlexItem,null,a))),Object(aa.jsx)(ua.EuiTableRowCell,{align:"right"},Object(aa.jsx)(ua.EuiFlexGroup,{gutterSize:"none",alignItems:"center",justifyContent:"spaceAround"},Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(ua.EuiRange,{id:t,min:1,max:10,step:1,showInput:!0,value:i[t],onChange:a=>((t,a)=>e(t,Number(a.currentTarget.value)))(t,a)})))))))));return Object(aa.jsx)(la,{pageChrome:[E.GROUPS,n||"...",E.SOURCE_PRIORITIZATION],pageViewTelemetry:"group_overview",pageHeader:{pageTitle:Zl,description:Xl,rightSideItems:[u]},isLoading:o},p?j:d)},nu=Object(c.kea)({path:["enterprise_search","workplace_search","groups"],actions:{onInitializeGroups:e=>e,setSearchResults:e=>e,addFilteredSource:e=>e,removeFilteredSource:e=>e,setFilterValue:e=>e,setActivePage:e=>e,setNewGroupName:e=>e,setNewGroup:e=>e,setNewGroupFormErrors:e=>e,openNewGroupModal:()=>!0,closeNewGroupModal:()=>!0,closeFilterSourcesDropdown:()=>!0,toggleFilterSourcesDropdown:()=>!0,setGroupsLoading:()=>!0,resetGroupsFilters:()=>!0,resetGroups:()=>!0,initializeGroups:()=>!0,getSearchResults:e=>({resetPagination:e}),saveNewGroup:()=>!0},reducers:{groups:[[],{setSearchResults:(e,{results:t})=>t}],contentSources:[[],{onInitializeGroups:(e,{contentSources:t})=>t}],groupsDataLoading:[!0,{onInitializeGroups:()=>!1}],groupListLoading:[!0,{setSearchResults:()=>!1,setGroupsLoading:()=>!0}],newGroupModalOpen:[!1,{openNewGroupModal:()=>!0,closeNewGroupModal:()=>!1,setNewGroup:()=>!1}],newGroupName:["",{setNewGroupName:(e,t)=>t,setSearchResults:()=>"",closeNewGroupModal:()=>""}],newGroup:[null,{setNewGroup:(e,t)=>t,resetGroups:()=>null,openNewGroupModal:()=>null}],newGroupNameErrors:[[],{setNewGroupFormErrors:(e,t)=>t,setNewGroup:()=>[],setNewGroupName:()=>[],closeNewGroupModal:()=>[]}],filterSourcesDropdownOpen:[!1,{toggleFilterSourcesDropdown:e=>!e,closeFilterSourcesDropdown:()=>!1}],filteredSources:[[],{resetGroupsFilters:()=>[],setNewGroup:()=>[],addFilteredSource:(e,t)=>[...e,t].sort(),removeFilteredSource:(e,t)=>e.filter((e=>e!==t))}],filterValue:["",{setFilterValue:(e,t)=>t,resetGroupsFilters:()=>""}],groupsMeta:[f.k,{resetGroupsFilters:()=>f.k,setNewGroup:()=>f.k,setSearchResults:(e,{meta:t})=>t,setActivePage:(e,t)=>({...e,page:{...e.page,current:t}})}]},selectors:({selectors:e})=>({hasFiltersSet:[()=>[e.filteredSources],e=>e.length>0]}),listeners:({actions:e,values:t})=>({initializeGroups:async()=>{try{const t=await l.a.values.http.get("/internal/workplace_search/groups");e.onInitializeGroups(t)}catch(e){Object(Zt.e)(e)}},getSearchResults:async({resetPagination:a},s)=>{await s(300),e.setGroupsLoading();const{groupsMeta:{page:{current:r,size:n}},filterValue:c,filteredSources:o}=t,i={current:a?1:r,size:n},u={query:c,content_source_ids:o};try{const t=await l.a.values.http.post("/internal/workplace_search/groups/search",{body:JSON.stringify({page:i,search:u}),headers:h.u});e.setSearchResults(t)}catch(e){Object(Zt.e)(e)}},saveNewGroup:async()=>{try{const a=await l.a.values.http.post("/internal/workplace_search/groups",{body:JSON.stringify({group_name:t.newGroupName}),headers:h.u});e.getSearchResults(!0);const s=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.groups.newGroupSavedSuccess",{defaultMessage:"Successfully created {groupName}",values:{groupName:a.name}});Object(Zt.g)(s),e.setNewGroup(a)}catch(e){Object(Zt.e)(e)}},setActivePage:()=>{e.getSearchResults()},openNewGroupModal:()=>{Object(Zt.d)()},resetGroupsFilters:()=>{Object(Zt.d)()},toggleFilterSourcesDropdown:()=>{Object(Zt.d)()}})}),cu=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.groups.groupManagerUpdateAddSourceButton",{defaultMessage:"Add an organizational source"}),ou=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.groups.groupManagerSourceEmpty.title",{defaultMessage:"Whoops!"}),iu=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.groups.groupManagerSourceEmpty.body",{defaultMessage:"Looks like you have not added any organizational content sources yet."}),lu=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.groups.groupManagerSourceModal.selectButton.text",{defaultMessage:"Select all"}),uu=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.groups.groupManagerSourceModal.deselectButton.text",{defaultMessage:"Deselect all"}),pu=({children:e,label:t,allItems:a,numSelected:s,hideModal:n,selectAll:o,saveItems:i})=>{const{group:l,managerModalFormErrors:u}=Object(c.useValues)(na),{contentSources:p}=Object(c.useValues)(nu),d=s===a.length,j=p.length<1,g=()=>n(l),x=Object(aa.jsx)(ja.b,{to:ft,fill:!0,color:"primary"},cu),b=Object(aa.jsx)(ua.EuiModalBody,null,Object(aa.jsx)(ua.EuiSpacer,{size:"m"}),Object(aa.jsx)(ua.EuiEmptyPrompt,{iconType:to.a,title:Object(aa.jsx)("h3",null,ou),body:iu,actions:x})),S=Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiModalHeader,null,Object(aa.jsx)(ua.EuiModalHeaderTitle,null,k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.groups.groupManagerHeaderTitle",{defaultMessage:"Manage {label}",values:{label:t}}))),Object(aa.jsx)(ua.EuiModalBody,null,Object(aa.jsx)(ua.EuiFlexGroup,{gutterSize:"s"},Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiFormRow,{error:u,isInvalid:u.length>0,fullWidth:!0},e)))),Object(aa.jsx)(ua.EuiModalFooter,null,Object(aa.jsx)(ua.EuiFlexGroup,{justifyContent:"spaceBetween",gutterSize:"none"},Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(ua.EuiButtonEmpty,{"data-test-subj":"SelectAllGroups",onClick:()=>o(d?[]:a)},d?uu:lu)),Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(ua.EuiFlexGroup,{gutterSize:"m"},Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(ua.EuiButtonEmpty,{"data-test-subj":"CloseGroupsModal",onClick:g},ve)),Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(ua.EuiButton,{isDisabled:!1,onClick:i,fill:!0},Ee)))))));return Object(aa.jsx)(ua.EuiModal,{onClose:g,initialFocus:".euiFieldSearch","data-test-subj":"GroupManagerModal"},j?b:S)},du=({source:e})=>Object(aa.jsx)(ua.EuiFlexGroup,{gutterSize:"m",justifyContent:"flexStart",alignItems:"center",responsive:!1},Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(gn,S()({},e,{size:"s"}))),Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(Zi.a,{tooltipType:"title",content:e.name,length:28}))),ju=({contentSources:e,filteredSources:t,addFilteredSource:a,removeFilteredSource:s})=>{const{euiTheme:r}=Object(ua.useEuiTheme)(),n=e.map((({id:e})=>e)).map(((r,n)=>{const c=t.indexOf(r)>-1?"on":void 0;return Object(aa.jsx)(ua.EuiFilterSelectItem,{key:n,checked:c,onClick:()=>c?s(r):a(r)},Object(aa.jsx)(du,{source:e.filter((({id:e})=>e===r))[0]}))}));return Object(aa.jsx)("div",{className:"eui-yScroll",css:Object(aa.css)({maxHeight:30*r.base},"","")},n)},gu=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.groups.sourcesModalLabel",{defaultMessage:"organizational content sources"}),xu=()=>{const{addGroupSource:e,selectAllSources:t,hideOrgSourcesModal:a,removeGroupSource:s,saveGroupSources:n}=Object(c.useActions)(na),{selectedGroupSources:o,group:i}=Object(c.useValues)(na),{contentSources:l}=Object(c.useValues)(nu);return Object(aa.jsx)(pu,{label:gu,allItems:l,numSelected:o.length,hideModal:a,selectAll:t,saveItems:n},Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)("p",null,k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.groups.sourcesModalTitle",{defaultMessage:"Select content sources to share with {groupName}",values:{groupName:i.name}})),Object(aa.jsx)(ua.EuiSpacer,{size:"m"}),Object(aa.jsx)(ju,{contentSources:l,filteredSources:o,addFilteredSource:e,removeFilteredSource:s})))},bu=()=>{const{groupId:e}=Object(n.useParams)(),{initializeGroup:t,resetGroup:a}=Object(c.useActions)(na),{orgSourcesModalVisible:i}=Object(c.useValues)(na);return Object(s.useEffect)((()=>(t(e),a)),[]),Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(o.c,null,Object(aa.jsx)(o.a,{path:kt},Object(aa.jsx)(ru,null)),Object(aa.jsx)(o.a,{path:yt},Object(aa.jsx)(Jl,null))),i&&Object(aa.jsx)(xu,null))},Su=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.groups.addGroup.heading",{defaultMessage:"Add a group"}),hu=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.groups.addGroup.submit.action",{defaultMessage:"Add Group"}),Ou=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.groups.addGroup.label",{defaultMessage:"Group name"}),mu=()=>{const{closeNewGroupModal:e,saveNewGroup:t,setNewGroupName:a}=Object(c.useActions)(nu),{newGroupNameErrors:s,newGroupName:r}=Object(c.useValues)(nu),n=s.length>0;return Object(aa.jsx)(ua.EuiModal,{onClose:e,initialFocus:".euiFieldText"},Object(aa.jsx)("form",{onSubmit:e=>{e.preventDefault(),t()}},Object(aa.jsx)(ua.EuiModalHeader,null,Object(aa.jsx)(ua.EuiModalHeaderTitle,null,Su)),Object(aa.jsx)(ua.EuiModalBody,null,Object(aa.jsx)(ua.EuiFormRow,{isInvalid:n,error:s,label:Ou},Object(aa.jsx)(ua.EuiFieldText,{isInvalid:n,value:r,"data-test-subj":"AddGroupInput",onChange:e=>a(e.target.value)}))),Object(aa.jsx)(ua.EuiModalFooter,null,Object(aa.jsx)(ua.EuiButtonEmpty,{onClick:e},ve),Object(aa.jsx)(ua.EuiButton,{disabled:!r,onClick:t,fill:!0,"data-test-subj":"AddGroupSubmit"},hu))))},yu=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.groups.clearFilters.action",{defaultMessage:"Clear Filters"}),ku=()=>{const{resetGroupsFilters:e}=Object(c.useActions)(nu);return Object(aa.jsx)(ua.EuiLink,{onClick:e},Object(aa.jsx)(ua.EuiFlexGroup,{alignItems:"center",justifyContent:"flexStart",gutterSize:"xs",component:"span"},Object(aa.jsx)(ua.EuiFlexItem,{component:"span",grow:!1},Object(aa.jsx)("small",null,Object(aa.jsx)(ua.EuiIcon,{type:"cross"}))),Object(aa.jsx)(ua.EuiFlexItem,{component:"span",grow:!1},Object(aa.jsx)("small",null,yu))))},fu=({isPopoverOpen:e,numOptions:t,groupSources:a,onButtonClick:s,closePopover:r})=>{const{euiTheme:n}=Object(ua.useEuiTheme)(),c=Object(aa.jsx)(ua.EuiButtonEmpty,{className:"user-group-source--additional",onClick:s},"+ ",t),o=Object(aa.jsx)("strong",null,k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.groups.contentSourceCountHeading",{defaultMessage:"{numSources} organizational content sources",values:{numSources:a.length}})),i=a.map(((e,t)=>Object(aa.jsx)("div",{className:"euiFilterSelectItem user-group__item",key:t},Object(aa.jsx)(du,{source:a.filter((({id:t})=>t===e.id))[0]}))));return Object(aa.jsx)(ua.EuiFilterGroup,{className:"user-group-source--additional__wrap"},Object(aa.jsx)(ua.EuiPopover,{button:c,isOpen:e,closePopover:r,panelPaddingSize:"none"},Object(aa.jsx)(ua.EuiPopoverTitle,null,o),Object(aa.jsx)("div",{className:"eui-yScroll",css:Object(aa.css)({maxHeight:30*n.base},"","")},i)))},Mu=({groupSources:e})=>{const[t,a]=Object(s.useState)(!1),n=[...e],c=n.splice(0,3);return Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiFlexGroup,{gutterSize:"s"},c.map(((e,t)=>Object(aa.jsx)(ua.EuiFlexItem,{key:t},Object(aa.jsx)(gn,S()({},e,{size:"l"})))))),n.length>0&&Object(aa.jsx)(fu,{isPopoverOpen:t,numOptions:n.length,groupSources:e,onButtonClick:()=>a(!t),closePopover:()=>a(!1)}))},Eu=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.groups.noSourcesMessage",{defaultMessage:"No organizational content sources"}),wu=({id:e,name:t,updatedAt:a,contentSources:s})=>{const r=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.groups.groupUpdatedText",{defaultMessage:"Last updated {updatedAt}.",values:{updatedAt:(n=a,dn()(n).isAfter(dn()().subtract(8,"days"))?dn()(n).fromNow():dn()(n).format("MMMM D, YYYY"))}});var n;return Object(aa.jsx)(ua.EuiTableRow,{"data-test-subj":"GroupsRow"},Object(aa.jsx)(ua.EuiTableRowCell,null,Object(aa.jsx)("strong",null,Object(aa.jsx)(ja.d,{to:qt(e)},Object(aa.jsx)(Zi.a,{tooltipType:"title",content:t,length:40}))),Object(aa.jsx)("br",null),Object(aa.jsx)("small",null,r)),Object(aa.jsx)(ua.EuiTableRowCell,null,Object(aa.jsx)("div",{className:"user-group__sources"},s.length>0?Object(aa.jsx)(Mu,{groupSources:s}):Eu)),Object(aa.jsx)(ua.EuiTableRowCell,{align:"right"},Object(aa.jsx)("strong",null,Object(aa.jsx)(ja.d,{"aria-label":f.r,to:qt(e)},Object(aa.jsx)(ua.EuiIcon,{type:"pencil"})))))},vu=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.groups.groupsTable.groupTableHeader",{defaultMessage:"Group"}),Tu=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.groups.groupsTable.groupPagination.label",{defaultMessage:"Groups"}),Cu=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.groups.groupsTable.sourcesTableHeader",{defaultMessage:"Content sources"}),Iu=()=>{const{setActivePage:e}=Object(c.useActions)(nu),{groupsMeta:{page:{total_pages:t,total_results:a,current:s}},groups:n,hasFiltersSet:o}=Object(c.useValues)(nu),i=o?Object(aa.jsx)(ku,null):void 0,l={itemLabel:Tu,totalPages:t,totalItems:a,activePage:s,clearFiltersLink:i,onChangePage:t=>{e(t+1)}},u=t>1;return Object(aa.jsx)(r.a.Fragment,null,u?Object(aa.jsx)(Xi,l):i,Object(aa.jsx)(ua.EuiSpacer,{size:"m"}),Object(aa.jsx)(ua.EuiTable,{tableLayout:"auto"},Object(aa.jsx)(ua.EuiTableHeader,null,Object(aa.jsx)(ua.EuiTableHeaderCell,null,vu),Object(aa.jsx)(ua.EuiTableHeaderCell,null,Cu),Object(aa.jsx)(ua.EuiTableHeaderCell,{align:"right"},f.a)),Object(aa.jsx)(ua.EuiTableBody,null,n.map(((e,t)=>Object(aa.jsx)(wu,S()({key:t},e)))))),Object(aa.jsx)(ua.EuiSpacer,{size:"m"}),u&&Object(aa.jsx)(Xi,S()({},l,{hideLabelCount:!0})))},Nu=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.groups.filterSources.buttonText",{defaultMessage:"Sources"}),Lu=()=>{const{addFilteredSource:e,removeFilteredSource:t,toggleFilterSourcesDropdown:a,closeFilterSourcesDropdown:s}=Object(c.useActions)(nu),{contentSources:r,filterSourcesDropdownOpen:n,filteredSources:o}=Object(c.useValues)(nu),i=r.map((({id:e})=>e)),l=Object(aa.jsx)(ua.EuiFilterButton,{iconType:"arrowDown",onClick:a,isDisabled:0===i.length,isSelected:n,numFilters:i.length,hasActiveFilters:o.length>0,numActiveFilters:o.length},Nu);return Object(aa.jsx)(ua.EuiFilterGroup,null,Object(aa.jsx)(ua.EuiPopover,{button:l,isOpen:n,closePopover:s,panelPaddingSize:"none"},Object(aa.jsx)(ju,{contentSources:r,filteredSources:o,addFilteredSource:e,removeFilteredSource:t})))},Fu=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.groups.filterGroups.placeholder",{defaultMessage:"Filter groups by name..."}),zu=()=>{const{setFilterValue:e}=Object(c.useActions)(nu),{filterValue:t}=Object(c.useValues)(nu);return Object(aa.jsx)(ua.EuiFlexGroup,{justifyContent:"spaceBetween",gutterSize:"none"},Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(ua.EuiFlexGroup,{gutterSize:"m"},Object(aa.jsx)(ua.EuiFlexItem,{className:"user-groups-filters__search-bar"},Object(aa.jsx)(ua.EuiFieldSearch,{value:t,onChange:t=>e(t.target.value),fullWidth:!0,placeholder:Fu})),Object(aa.jsx)(ua.EuiFlexItem,{className:"user-groups-filters__filter-sources"},Object(aa.jsx)(Lu,null)))))},Au=()=>{const{messages:e}=Object(c.useValues)(Zt.b),{getSearchResults:t,openNewGroupModal:a,resetGroups:n}=Object(c.useActions)(nu),{groupsDataLoading:o,newGroupModalOpen:i,newGroup:l,groupListLoading:u,hasFiltersSet:p,groupsMeta:{page:{total_results:d}},filteredSources:j,filterValue:g}=Object(c.useValues)(nu),x=e.length>0;Object(s.useEffect)((()=>(t(!0),n)),[j,g]),l&&x&&(e[0].description=Object(aa.jsx)(ja.b,{to:qt(l.id),color:"success","data-test-subj":"NewGroupManageButton"},k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.groups.newGroup.action",{defaultMessage:"Manage Group"})));const b=p&&Object(aa.jsx)(ku,null),S=[Object(aa.jsx)(ja.b,{to:St,"data-test-subj":"InviteUsersButton"},k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.groups.inviteUsers.action",{defaultMessage:"Invite users"})),Object(aa.jsx)(ua.EuiButton,{"data-test-subj":"AddGroupButton",fill:!0,onClick:a},k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.groups.addGroupForm.action",{defaultMessage:"Create a group"}))],h=Object(aa.jsx)(ua.EuiFlexGroup,{justifyContent:"spaceAround"},Object(aa.jsx)(ua.EuiFlexItem,{grow:!u},u?Object(aa.jsx)(ua.EuiLoadingSpinner,{size:"xl"}):Object(aa.jsx)(r.a.Fragment,null,b,Object(aa.jsx)("p",null,k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.groups.searchResults.notFoound",{defaultMessage:"No results found."})))));return Object(aa.jsx)(la,{pageChrome:[E.GROUPS],pageViewTelemetry:"groups",pageHeader:{pageTitle:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.groups.heading",{defaultMessage:"Manage groups"}),description:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.groups.description",{defaultMessage:"Assign organizational content sources and users to groups to create relevant search experiences for various internal teams."}),rightSideItems:S},isLoading:o},Object(aa.jsx)(zu,null),Object(aa.jsx)(ua.EuiSpacer,null),d>0&&!u?Object(aa.jsx)(Iu,null):h,i&&Object(aa.jsx)(mu,null))};a(970);const Du=()=>{const{initializeGroups:e}=Object(c.useActions)(nu);return Object(s.useEffect)((()=>{e()}),[]),Object(aa.jsx)(o.c,null,Object(aa.jsx)(o.a,{exact:!0,path:mt},Object(aa.jsx)(Au,null)),Object(aa.jsx)(o.a,{path:yt},Object(aa.jsx)(bu,null)))},_u=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.oauthAuthorize.httpRedirectWarningMessage",{defaultMessage:"This application is using an insecure redirect URI (http)"}),Ru=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.oauthAuthorize.scopesLeadInMessage",{defaultMessage:"This application will be able to"}),Uu=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.oauthAuthorize.authorizationTitle",{defaultMessage:"Authorization required"}),Pu=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.oauthAuthorize.authorizeButtonLabel",{defaultMessage:"Authorize"}),Gu=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.oauthAuthorize.denyButtonLabel",{defaultMessage:"Deny"}),Bu=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.oauthAuthorize.searchScopeDescription",{defaultMessage:"Search your data"}),Vu=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.oauthAuthorize.writeScopeDescription",{defaultMessage:"Modify your data"}),Hu="/internal/workplace_search/oauth/authorize",Yu=Object(c.kea)({path:["enterprise_search","workplace_search","oauth_authorize_logic"],actions:{setServerProps:e=>e,initializeOAuthPreAuth:e=>e,allowOAuthAuthorization:null,denyOAuthAuthorization:null,setButtonNotLoading:null,setHasError:null},reducers:{dataLoading:[!0,{setServerProps:()=>!1,setHasError:()=>!1}],cachedPreAuth:[{},{setServerProps:(e,t)=>Qu(t)}],buttonLoading:[!1,{setButtonNotLoading:()=>!1,allowOAuthAuthorization:()=>!0,denyOAuthAuthorization:()=>!0}],hasError:[!1,{setHasError:()=>!0}]},listeners:({actions:e,values:t})=>({initializeOAuthPreAuth:async t=>{Object(Zt.d)();const{http:a}=l.a.values,s=Object(Vc.a)(t);try{const t=await a.get(Hu,{query:s});"redirect"===t.status?window.location.replace(t.redirect_uri):e.setServerProps(t)}catch(t){Object(Zt.e)(t),e.setHasError()}},denyOAuthAuthorization:async()=>{const{http:a}=l.a.values,{cachedPreAuth:s}=t;try{const e=await a.delete(Hu,{body:JSON.stringify({client_id:s.clientId,response_type:s.responseType,redirect_uri:s.redirectUri,scope:s.rawScopes,state:s.state}),headers:h.u});window.location.replace(e.redirect_uri)}catch(t){Object(Zt.e)(t),e.setButtonNotLoading()}},allowOAuthAuthorization:async()=>{const{http:a}=l.a.values,{cachedPreAuth:s}=t;try{const e=await a.post(Hu,{body:JSON.stringify({client_id:s.clientId,response_type:s.responseType,redirect_uri:s.redirectUri,scope:s.rawScopes,state:s.state}),headers:h.u});window.location.replace(e.redirect_uri)}catch(t){Object(Zt.e)(t),e.setButtonNotLoading()}}})}),Qu=e=>({clientId:e.client_id,clientName:e.client_name,redirectUri:e.redirect_uri,responseType:e.response_type,rawScopes:e.scope,scopes:e.scope.split(", "),state:e.state}),qu=()=>{var e,t;const{search:a}=Object(n.useLocation)(),{initializeOAuthPreAuth:o,allowOAuthAuthorization:i,denyOAuthAuthorization:l}=Object(c.useActions)(Yu),{buttonLoading:u,dataLoading:p,cachedPreAuth:d,hasError:j}=Object(c.useValues)(Yu);if(Object(s.useEffect)((()=>{o(a)}),[]),p)return Object(aa.jsx)(ba.a,null);const g=null===(e=d.redirectUri)||void 0===e?void 0:e.startsWith("http:"),x=Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiCallOut,{title:_u,color:"danger",iconType:"cross"}),Object(aa.jsx)(ua.EuiSpacer,null)),b=null==d||null===(t=d.scopes)||void 0===t?void 0:t.map(((e,t)=>{const a="search"===(s=e)?Bu:"write"===s?Vu:void 0;var s;const r=Object(aa.jsx)(qr.FormattedMessage,{id:"xpack.enterpriseSearch.workplaceSearch.oauthAuthorize.unknownScopeDescription",defaultMessage:"{unknownAction} your data",values:{unknownAction:e}});return Object(aa.jsx)("li",{key:t,"data-test-subj":"ScopeDescription"},a||r)})),S=Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiSpacer,null),Object(aa.jsx)(ua.EuiText,null,Object(aa.jsx)("p",null,Object(aa.jsx)(qr.FormattedMessage,{id:"xpack.enterpriseSearch.workplaceSearch.oauthAuthorize.authorizationDescription",defaultMessage:"Authorize {strongClientName} to use your account?",values:{strongClientName:Object(aa.jsx)("strong",null,d.clientName)}}))),Object(aa.jsx)(ua.EuiSpacer,null),g&&x,Object(aa.jsx)(ua.EuiCallOut,{title:Ru,iconType:"iInCircle"},Object(aa.jsx)("ul",null,b)));return Object(aa.jsx)(ua.EuiPage,{restrictWidth:!0},Object(aa.jsx)(ua.EuiPageBody,null,Object(aa.jsx)(Zt.a,null),Object(aa.jsx)(ua.EuiSpacer,null),Object(aa.jsx)(ua.EuiPanel,{paddingSize:"l",style:{maxWidth:500,margin:"40px auto"},grow:!1},Object(aa.jsx)(ua.EuiHeaderSection,null,Object(aa.jsx)(ua.EuiHeaderSectionItem,null,Object(aa.jsx)(ua.EuiHeaderLogo,{iconType:"logoWorkplaceSearch"}),Object(aa.jsx)(ua.EuiTitle,null,Object(aa.jsx)("h1",null,M)))),Object(aa.jsx)(ua.EuiSpacer,null),Object(aa.jsx)(ua.EuiTitle,null,Object(aa.jsx)("h2",null,Uu)),!j&&S,Object(aa.jsx)(ua.EuiSpacer,null),Object(aa.jsx)(ua.EuiFlexGroup,null,Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiButton,{color:"danger",onClick:l,disabled:u||j},Gu)),Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiButton,{color:"primary",fill:!0,onClick:i,disabled:u||j},Pu))))))},Ku=Object(jo.a)(["workplace_search","send_gatedForm_data_api_logic"],(async({feature:e,featuresOther:t,additionalFeedback:a,participateInUXLabs:s})=>await l.a.values.http.post("/internal/workplace_search/ws_gate",{body:JSON.stringify({ws_gate_data:{additional_feedback:null!=a?a:void 0,feature:e,features_other:null!=t?t:void 0,participate_in_ux_labs:null!=s?s:void 0}})}))),Wu=Object(c.kea)({actions:{formSubmitRequest:!0,setAdditionalFeedback:e=>({additionalFeedback:e}),setFeature:e=>({feature:e}),setFeaturesOther:e=>({featuresOther:e}),setParticipateInUXLabs:e=>({participateInUXLabs:e})},connect:{actions:[Ku,["makeRequest as submitGatedFormDataRequest"]]},listeners:({actions:e,values:t})=>({formSubmitRequest:()=>{t.feature&&e.submitGatedFormDataRequest({additionalFeedback:null!=t&&t.additionalFeedback?null==t?void 0:t.additionalFeedback:null,feature:t.feature,featuresOther:null!=t&&t.featuresOther?null==t?void 0:t.featuresOther:null,participateInUXLabs:null==t?void 0:t.participateInUXLabs})}}),path:["enterprise_search","workplace_search","gate_form"],reducers:({})=>({additionalFeedback:[null,{setAdditionalFeedback:(e,{additionalFeedback:t})=>null!=t?t:void 0}],feature:["",{setFeature:(e,{feature:t})=>t}],featuresOther:[null,{setFeaturesOther:(e,{featuresOther:t})=>t}],participateInUXLabs:[null,{setParticipateInUXLabs:(e,{participateInUXLabs:t})=>t}]})}),$u={analytics:{actionLabel:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.gateForm.analytics.action.Label",{defaultMessage:"Start with Behavioral Analytics"}),actionLink:"./analytics ",addOnLearnMoreLabel:void 0,addOnLearnMoreUrl:void 0,description:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.gateForm.analytics.featureDescription",{defaultMessage:"Did you know you can easily analyze your users' searching and clicking behavior with Behavioral Analytics? Instrument your website or application for tracking relevant user actions."}),id:"Analytics",learnMore:"https://www.elastic.co/guide/en/enterprise-search/current/analytics-overview.html",title:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.gateForm.analytics.featureName",{defaultMessage:"Use Behavioral Analytics"})},contentExtraction:{actionLabel:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.gateForm.connectorExtraction.featureButtonLabel",{defaultMessage:"Use a connector "}),actionLink:"./content/search_indices/new_index/select_connector",addOnLearnMoreLabel:void 0,addOnLearnMoreUrl:void 0,description:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.gateForm.connectorExtraction.featureDescription",{defaultMessage:"Did you know you have access to powerful content extraction via Elastic connectors! Use our powerful and highly adaptable extraction capabilities to extract contents from your files. "}),id:"Content Extraction",learnMore:"https://www.elastic.co/guide/en/enterprise-search/current/connectors.html ",title:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.gateForm.connectorExtraction.featureName",{defaultMessage:"Use Elastic connectors"})},contentSources:{actionLabel:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.gateForm.connectorSources.featureButtonLabel",{defaultMessage:"Use a connector "}),actionLink:"./content/search_indices/new_index/select_connector",addOnLearnMoreLabel:void 0,addOnLearnMoreUrl:void 0,description:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.gateForm.connectorSources.featureDescription",{defaultMessage:"Did you know Elastic connectors are now available? You can keep content on your data sources in sync with your search-optimized indices! "}),id:"Content sources",learnMore:"https://www.elastic.co/guide/en/enterprise-search/current/connectors.html ",title:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.gateForm.connectorSources.featureName",{defaultMessage:"Use Elastic connectors"})},documentLevelPermissions:{actionLabel:void 0,actionLink:void 0,addOnLearnMoreLabel:void 0,addOnLearnMoreUrl:void 0,description:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.gateForm.docLevelPermissions.featureDescription",{defaultMessage:"Did you know you can restrict access to documents in your Elasticsearch indices according to user and group permissions? Return only authorized search results for users with Elastic’s document level security. "}),id:"Document Level Permissions",learnMore:"https://www.elastic.co/guide/en/enterprise-search/current/dls.html",title:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.gateForm.docLevelPermissions.featureName",{defaultMessage:"Use Elastic connectors"})},searchApplication:{actionLabel:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.gateForm.searchApplication.action.Label",{defaultMessage:"Create a Search Application"}),actionLink:"./applications/search_applications",addOnLearnMoreLabel:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.gateForm.searchApplication.addOn.learnMoreLabel",{defaultMessage:"Search UI"}),addOnLearnMoreUrl:"https://www.elastic.co/guide/en/enterprise-search/current/search-ui.html  ",description:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.gateForm.searchApplication.featureDescription",{defaultMessage:"Did you know you can restrict access to documents in your Elasticsearch indices according to user and group permissions? Return only authorized search results for users with Elastic’s document level security. "}),id:"Search Application",learnMore:"https://www.elastic.co/guide/en/enterprise-search/current/search-applications.html",title:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.gateForm.searchApplication.featureName",{defaultMessage:"Create Search Application"})},synonyms:{actionLabel:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.gateForm.synonyms.action.Label",{defaultMessage:"Search with synonyms"}),actionLink:"https://www.elastic.co/guide/en/elasticsearch/reference/current/search-with-synonyms.html ",addOnLearnMoreLabel:void 0,addOnLearnMoreUrl:void 0,description:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.gateForm.synonyms.featureDescription",{defaultMessage:"Did you know you can improve your search experience by searching with synonyms? Use our Synonyms API to easily create and manage synonym sets."}),id:"Synonyms",learnMore:"https://www.elastic.co/guide/en/elasticsearch/reference/8.10/synonyms-apis.html",title:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.gateForm.synonyms.featureName",{defaultMessage:"Search with Synonyms API"})}},Ju="no",Zu=!1,Xu="yes",ep=!0,tp=({featureContent:e})=>{const t=(e=>{switch(e){case $u.searchApplication.id:return $u.searchApplication;case $u.contentSources.id:return $u.contentSources;case $u.contentExtraction.id:return $u.contentExtraction;case $u.documentLevelPermissions.id:return $u.documentLevelPermissions;case $u.synonyms.id:return $u.synonyms;case $u.analytics.id:return $u.analytics}})(e),{setFeaturesOther:a}=Object(c.useActions)(Wu);return t?Object(aa.jsx)(ua.EuiPanel,{hasShadow:!1},Object(aa.jsx)(ua.EuiFlexGroup,{gutterSize:"xs"},Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(ua.EuiIcon,{type:"logoElastic"})),Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(ua.EuiFlexGroup,{direction:"column",gutterSize:"xs"},Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiText,null,Object(aa.jsx)("h5",null,k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.gateForm.educationalPanel.title",{defaultMessage:"Elasticsearch native equivalent"})))),Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiText,{color:"subdued",size:"s"},Object(aa.jsx)("p",null,k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.gateForm.educationalPanel.subTitle",{defaultMessage:"Based on your selection we recommend you"}))))))),Object(aa.jsx)(ua.EuiSpacer,null),Object(aa.jsx)(ua.EuiCallOut,{title:t.title,color:"success",iconType:"checkInCircleFilled"},Object(aa.jsx)("p",null,t.description),Object(aa.jsx)(ua.EuiFlexGroup,{gutterSize:"m",wrap:!0,alignItems:"baseline"},void 0!==t.actionLink&&void 0!==t.actionLabel&&Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(ua.EuiButton,{href:t.actionLink,iconType:"sortRight",iconSide:"right"},t.actionLabel)),Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(ua.EuiLink,{href:t.learnMore,target:"_blank"},k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.gateForm.educationalPanel.learnMore",{defaultMessage:"Learn More"}))),void 0!==t.addOnLearnMoreLabel&&void 0!==t.addOnLearnMoreUrl&&Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(ua.EuiLink,{type:"button",href:t.addOnLearnMoreUrl,target:"_blank",external:!0},Object(aa.jsx)(ua.EuiSpacer,null),t.addOnLearnMoreLabel))))):Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiSpacer,null),Object(aa.jsx)(ua.EuiFormRow,{label:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.gateForm.featureOther.Label",{defaultMessage:"Can you explain what other feature(s) you're looking for?"})},Object(aa.jsx)(ua.EuiTextArea,{onChange:e=>{a(e.target.value)}})))},ap=()=>{var e;const t=[{dropdownDisplay:Object(aa.jsx)(s.Fragment,null,Object(aa.jsx)("strong",null,k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.gateForm.superSelect.contentSource.title",{defaultMessage:"Content sources"})),Object(aa.jsx)(ua.EuiText,{size:"s",color:"subdued"},Object(aa.jsx)("p",null,k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.gateForm.superSelect.contentSource.description",{defaultMessage:"Extract the content of synced source files to make them searchable"})))),inputDisplay:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.gateForm.superSelect.contentSource.inputDisplay",{defaultMessage:"Content Sources"}),value:$u.contentSources.id},{dropdownDisplay:Object(aa.jsx)(s.Fragment,null,Object(aa.jsx)("strong",null,k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.gateForm.superSelect.contentExtraction.title",{defaultMessage:"Content extraction"})),Object(aa.jsx)(ua.EuiText,{size:"s",color:"subdued"},Object(aa.jsx)("p",null,k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.gateForm.superSelect.contentExtraction.description",{defaultMessage:"Extract the content of synced source files to make them searchable"})))),inputDisplay:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.gateForm.superSelect.contentExtraction.inputDisplay",{defaultMessage:"Content extraction"}),value:$u.contentExtraction.id},{dropdownDisplay:Object(aa.jsx)(s.Fragment,null,Object(aa.jsx)("strong",null,k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.gateForm.superSelect.docLevelPermissions.title",{defaultMessage:"Document-level permissions"})),Object(aa.jsx)(ua.EuiText,{size:"s",color:"subdued"},Object(aa.jsx)("p",null,k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.gateForm.superSelect.docLevelPermissions.description",{defaultMessage:"Control access to specific documents"})))),inputDisplay:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.gateForm.superSelect.docLevelPermissions.inputDisplay",{defaultMessage:"Document-level permissions"}),value:$u.documentLevelPermissions.id},{dropdownDisplay:Object(aa.jsx)(s.Fragment,null,Object(aa.jsx)("strong",null,k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.gateForm.superSelect.searchApplication.title",{defaultMessage:"An out-of-the-box search experience"})),Object(aa.jsx)(ua.EuiText,{size:"s",color:"subdued"},Object(aa.jsx)("p",null,k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.gateForm.superSelect.searchApplication.description",{defaultMessage:"Easily build search-powered applications"})))),inputDisplay:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.gateForm.superSelect.searchApplication.inputDisplay",{defaultMessage:"An out-of-the-box search experience"}),value:$u.searchApplication.id},{dropdownDisplay:Object(aa.jsx)(s.Fragment,null,Object(aa.jsx)("strong",null,k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.gateForm.superSelect.synonymns.title",{defaultMessage:"Synonyms"})),Object(aa.jsx)(ua.EuiText,{size:"s",color:"subdued"},Object(aa.jsx)("p",null,k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.gateForm.superSelect.synonymns.description",{defaultMessage:"Link different words or phrases with similar meanings"})))),inputDisplay:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.gateForm.superSelect.synonymns.inputDisplay",{defaultMessage:"Synonyms"}),value:$u.synonyms.id},{dropdownDisplay:Object(aa.jsx)(s.Fragment,null,Object(aa.jsx)("strong",null,k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.gateForm.superSelect.analytics.title",{defaultMessage:"Analytics"})),Object(aa.jsx)(ua.EuiText,{size:"s",color:"subdued"},Object(aa.jsx)("p",null,k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.gateForm.superSelect.analytics.description",{defaultMessage:"Record and review users' interactions with search results"})))),inputDisplay:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.gateForm.superSelect.analytics.inputDisplay",{defaultMessage:"Analytics"}),value:$u.analytics.id},{dropdownDisplay:Object(aa.jsx)(s.Fragment,null,Object(aa.jsx)("strong",null,k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.gateForm.superSelect.other.title",{defaultMessage:"Other"})),Object(aa.jsx)(ua.EuiText,{size:"s",color:"subdued"},Object(aa.jsx)("p",null,k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.gateForm.superSelect.other.description",{defaultMessage:"Another feature not listed here"})))),inputDisplay:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.gateForm.superSelect.other.inputDisplay",{defaultMessage:"Other"}),value:"other"}],{formSubmitRequest:a,setAdditionalFeedback:r,setParticipateInUXLabs:n,setFeature:o}=Object(c.useActions)(Wu),{feature:i,participateInUXLabs:l}=Object(c.useValues)(Wu);return Object(aa.jsx)(ua.EuiPanel,{hasShadow:!1},Object(aa.jsx)(ua.EuiForm,{component:"form",fullWidth:!0},Object(aa.jsx)(ua.EuiFormLabel,null,k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.gateForm.features.Label",{defaultMessage:"What Workplace Search feature are you looking to use?"})),Object(aa.jsx)(ua.EuiSpacer,{size:"xs"}),Object(aa.jsx)(ua.EuiSuperSelect,{options:t,valueOfSelected:i,placeholder:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.gateForm.features.selectOption",{defaultMessage:"Select an option"}),onChange:e=>o(e),itemLayoutAlign:"top",hasDividers:!0,fullWidth:!0}),i&&Object(aa.jsx)(tp,{featureContent:i}),Object(aa.jsx)(ua.EuiSpacer,null),Object(aa.jsx)(ua.EuiFormRow,{label:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.gateForm.additionalFeedback.Label",{defaultMessage:"Would you like to share any additional feedback?"}),labelAppend:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.gateForm.additionalFeedback.optionalLabel",{defaultMessage:"Optional"})},Object(aa.jsx)(ua.EuiFlexGroup,{direction:"column",gutterSize:"s"},Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiTextArea,{onChange:e=>{r(e.target.value)}})),Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiText,{color:"subdued",size:"xs"},Object(aa.jsx)(qr.FormattedMessage,{id:"xpack.enterpriseSearch.workplaceSearch.gateForm.additionalFeedback.description",defaultMessage:" By submitting feedback you acknowledge that you've read and agree to our {termsOfService}, and that Elastic may {contact} about our related products and services, using the details you provide above. See {privacyStatementLink} for more details or to opt-out at any time.",values:{contact:Object(aa.jsx)(ua.EuiLink,{href:hr.a.workplaceSearchGatedFormDataUse},Object(aa.jsx)(qr.FormattedMessage,{id:"xpack.enterpriseSearch.workplaceSearch.gateForm.additionalFeedback.contact",defaultMessage:"contact you"})),privacyStatementLink:Object(aa.jsx)(ua.EuiLink,{href:hr.a.workplaceSearchGatedFormPrivacyStatement},Object(aa.jsx)(qr.FormattedMessage,{id:"xpack.enterpriseSearch.workplaceSearch.gateForm.additionalFeedback.readDataPrivacyStatementLink",defaultMessage:"Elastic’s Privacy Statement"})),termsOfService:Object(aa.jsx)(ua.EuiLink,{href:hr.a.workplaceSearchGatedFormTermsOfService},Object(aa.jsx)(qr.FormattedMessage,{id:"xpack.enterpriseSearch.workplaceSearch.gateForm.additionalFeedback.readTermsOfService",defaultMessage:"Terms of Service"}))}}))))),Object(aa.jsx)(ua.EuiSpacer,null),Object(aa.jsx)(ua.EuiFormRow,{labelAppend:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.gateForm.participateUxLab.optionalLabel",{defaultMessage:"Optional"}),label:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.gateForm.participateUxLab.Label",{defaultMessage:"Join our user research studies to improve Elasticsearch?"})},Object(aa.jsx)(ua.EuiSelect,{hasNoInitialSelection:!0,options:[{text:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.gateForm.participateUxLab.Label.Yes",{defaultMessage:"Yes"}),value:Xu},{text:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.gateForm.participateUxLab.Label.No",{defaultMessage:"No"}),value:Ju}],onChange:e=>n(e.target.value===Xu?ep:Zu),value:null!=l?l?Xu:Ju:void 0})),Object(aa.jsx)(ua.EuiSpacer,null),Object(aa.jsx)(ua.EuiFlexGroup,{justifyContent:"flexEnd"},Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(ua.EuiButton,{isDisabled:null!==(e=!i)&&void 0!==e&&e,type:"submit",fill:!0,onClick:()=>a()},k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.gateForm.submit",{defaultMessage:"Submit"}))))))},sp=({isLoading:e})=>Object(aa.jsx)(m.a,{restrictWidth:!0,pageHeader:{description:Object(aa.jsx)(qr.FormattedMessage,{id:"xpack.enterpriseSearch.workplaceSearch.gateForm.description",defaultMessage:"The standalone Workplace Search product remains available in maintenance mode, and is not recommended for new search experiences. Instead, we recommend using our set of Elasticsearch-native tools, which our team is actively developing and improving, for your workplace search use case. These tools offer the flexibility and composability of working directly with Elasticsearch indices. Learn more about the context for this refocus in this {blogUrl}. To help choose which of these tools best suit your use case, we’ve created this recommendation wizard. Let us know what features you need, and we'll guide you to the best solutions. If you still want to go ahead and use the standalone Workplace Search product at this point, you can do so after submitting the form.",values:{blogUrl:Object(aa.jsx)(ua.EuiLink,{"data-test-subj":"workplaceSearch-gateForm-blog-link",href:hr.a.workplaceSearchGatedFormBlog,target:"_blank","data-telemetry-id":"workplaceSearch-gateForm-blog-viewLink"},k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.gateForm.viewBlog",{defaultMessage:"blog"}))}}),pageTitle:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.gateForm.title",{defaultMessage:"Before you begin..."})},solutionNav:{items:Object(m.d)(),name:h.n.NAME},isLoading:e},Object(aa.jsx)(y.c,{action:"viewed",metric:"Workplace Search Gate form"}),Object(aa.jsx)(ap,null));var rp=a(975),np=a.n(rp);const cp=({title:e,icon:t,description:a,actionTitle:s,testSubj:r,actionPath:n,complete:o})=>{const{sendWorkplaceSearchTelemetry:i}=Object(c.useActions)(y.d),l=()=>i({action:"clicked",metric:"onboarding_card_button"}),u=n?Object(aa.jsx)(ja.b,{to:n,"data-test-subj":r,onClick:l,fill:!0},s):Object(aa.jsx)(ua.EuiButtonEmpty,{"data-test-subj":r},s),p=n?Object(aa.jsx)(ja.b,{to:n,"data-test-subj":r,onClick:l,fill:!0},s):Object(aa.jsx)(ua.EuiButton,{"data-test-subj":r},s);return Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiPanel,{color:"subdued",hasShadow:!1},Object(aa.jsx)(ua.EuiEmptyPrompt,{iconType:o?"checkInCircleFilled":t,iconColor:o?"success":"subdued",title:Object(aa.jsx)("h2",null,e),body:a,actions:o?u:p})))},op=Object(c.kea)({path:["enterprise_search","workplace_search","overview_logic"],actions:{setServerData:e=>e,initializeOverview:()=>null},reducers:{hasUsers:[!1,{setServerData:(e,{hasUsers:t})=>t}],hasOrgSources:[!1,{setServerData:(e,{hasOrgSources:t})=>t}],isOldAccount:[!1,{setServerData:(e,{isOldAccount:t})=>t}],sourcesCount:[0,{setServerData:(e,{sourcesCount:t})=>t}],pendingInvitationsCount:[0,{setServerData:(e,{pendingInvitationsCount:t})=>t}],accountsCount:[0,{setServerData:(e,{accountsCount:t})=>t}],privateSourcesCount:[0,{setServerData:(e,{privateSourcesCount:t})=>t}],activityFeed:[[],{setServerData:(e,{activityFeed:t})=>t}],dataLoading:[!0,{setServerData:()=>!1}]},listeners:({actions:e})=>({initializeOverview:async()=>{try{const t=await l.a.values.http.get("/internal/workplace_search/overview");e.setServerData(t)}catch(e){Object(Zt.e)(e)}}})}),ip=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.overviewOnboardingSourcesCard.title",{defaultMessage:"Organizational sources"}),lp=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.overviewOnboardingUsersCard.title",{defaultMessage:"Users & invitations"}),up=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.overviewOnboardingUsersCard.inviteFirstUsers.button",{defaultMessage:"Invite users"}),pp=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.overviewOnboardingUsersCard.inviteMoreUsers.button",{defaultMessage:"Invite more users"}),dp=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.overviewOnboardingSourcesCard.description",{defaultMessage:"Add organizational sources for your organization to start searching."}),jp=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sourcesOnboardingCard.addFirstSources.button",{defaultMessage:"Add sources"}),gp=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sourcesOnboardingCard.addMoreSources.button",{defaultMessage:"Add more sources"}),xp=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.overviewUsersCard.title",{defaultMessage:"Nice, you’ve invited colleagues to search with you."}),bp=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.overviewOnboardingUsersCard.description",{defaultMessage:"Invite your colleagues into this organization to search with you."}),Sp=()=>{const{organization:{name:e,defaultOrgName:t}}=Object(c.useValues)(x),{hasUsers:a,hasOrgSources:s,accountsCount:n,sourcesCount:o}=Object(c.useValues)(op),i=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.sourcesOnboardingCard.description",{defaultMessage:"You have added {sourcesCount, number} organizational {sourcesCount, plural, one {source} other {sources}}. Happy searching.",values:{sourcesCount:o}});return Object(aa.jsx)(ao,null,Object(aa.jsx)(ua.EuiFlexGrid,{columns:2},Object(aa.jsx)(cp,{title:ip,testSubj:"orgSourcesButton",icon:np.a,description:s?i:dp,actionTitle:o>0?gp:jp,actionPath:wt,complete:s}),Object(aa.jsx)(cp,{title:lp,testSubj:"usersButton",icon:"user",description:a?xp:bp,actionTitle:n>0?pp:up,actionPath:St,complete:a})),e===t&&Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiSpacer,null),Object(aa.jsx)(hp,null)))},hp=()=>{const{sendWorkplaceSearchTelemetry:e}=Object(c.useActions)(y.d);return Object(aa.jsx)(ua.EuiPanel,{color:"subdued",hasShadow:!1,paddingSize:"l"},Object(aa.jsx)(ua.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center",responsive:!1},Object(aa.jsx)(ua.EuiFlexItem,{className:"eui-hideFor--xs eui-hideFor--s",grow:!1},Object(aa.jsx)(ua.EuiIcon,{type:"documentEdit",size:"xl"})),Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiTitle,{size:"xs"},Object(aa.jsx)("h3",null,Object(aa.jsx)(qr.FormattedMessage,{id:"xpack.enterpriseSearch.workplaceSearch.orgNameOnboarding.description",defaultMessage:"Before inviting your colleagues, name your organization to improve recognition."})))),Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(ja.b,{to:Bt,onClick:()=>e({action:"clicked",metric:"org_name_change_button"}),"data-test-subj":"orgNameChangeButton",size:"s"},Object(aa.jsx)(qr.FormattedMessage,{id:"xpack.enterpriseSearch.workplaceSearch.orgNameOnboarding.buttonLabel",defaultMessage:"Name your organization"})))))},Op=({title:e,count:t=0,actionPath:a})=>{const s=Object(aa.jsx)(ja.c,{to:a||"",layout:"horizontal",title:e,titleSize:"xs",display:"plain",hasBorder:!0,description:Object(aa.jsx)(ua.EuiTitle,{size:"l"},Object(aa.jsx)(ua.EuiTextColor,{color:"default"},t))}),r=Object(aa.jsx)(ua.EuiCard,{layout:"horizontal",title:e,titleSize:"xs",display:"subdued",description:Object(aa.jsx)(ua.EuiTitle,{size:"l"},Object(aa.jsx)(ua.EuiTextColor,{color:"subdued"},t))});return Object(aa.jsx)(ua.EuiFlexItem,null,a?s:r)},mp=()=>{const{sourcesCount:e,pendingInvitationsCount:t,accountsCount:a,privateSourcesCount:s}=Object(c.useValues)(op);return Object(aa.jsx)(ao,{title:Object(aa.jsx)(qr.FormattedMessage,{id:"xpack.enterpriseSearch.workplaceSearch.organizationStats.title",defaultMessage:"Usage statistics"})},Object(aa.jsx)(ua.EuiFlexGrid,{columns:4},Object(aa.jsx)(Op,{title:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.organizationStats.organizationalSources",{defaultMessage:"Organizational sources"}),count:e,actionPath:ft}),Object(aa.jsx)(Op,{title:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.organizationStats.invitations",{defaultMessage:"Invitations"}),count:t,actionPath:St}),Object(aa.jsx)(Op,{title:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.organizationStats.activeUsers",{defaultMessage:"Active users"}),count:a,actionPath:St}),Object(aa.jsx)(Op,{title:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.organizationStats.privateSources",{defaultMessage:"Private sources"}),count:s})))};a(976);const yp=()=>{const{organization:{name:e,defaultOrgName:t}}=Object(c.useValues)(x),{activityFeed:a}=Object(c.useValues)(op);return Object(aa.jsx)(ao,{title:st,headerSpacer:"m"},Object(aa.jsx)(ua.EuiPanel,{color:"subdued",hasShadow:!1},a.length>0?Object(aa.jsx)(r.a.Fragment,null,a.map(((e,t)=>Object(aa.jsx)(kp,S()({},e,{key:t}))))):Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiSpacer,{size:"xl"}),Object(aa.jsx)(ua.EuiEmptyPrompt,{iconType:"clock",iconColor:"subdued",titleSize:"s",title:Object(aa.jsx)("h3",null,e===t?Object(aa.jsx)(qr.FormattedMessage,{id:"xpack.enterpriseSearch.workplaceSearch.activityFeedEmptyDefault.title",defaultMessage:"Your organization has no recent activity"}):Object(aa.jsx)(qr.FormattedMessage,{id:"xpack.enterpriseSearch.workplaceSearch.activityFeedNamedDefault.title",defaultMessage:"{name} has no recent activity",values:{name:e}}))}),Object(aa.jsx)(ua.EuiSpacer,{size:"xl"}))))},kp=({id:e,status:t,message:a,timestamp:s,sourceId:r})=>{const{sendWorkplaceSearchTelemetry:n}=Object(c.useActions)(y.d);return Object(aa.jsx)("div",{className:"activity "+(t?`activity--${t}`:"")},Object(aa.jsx)("div",{className:"activity__message"},r?Object(aa.jsx)(ja.d,{onClick:()=>n({action:"clicked",metric:"recent_activity_source_details_link"}),color:"error"===t?"danger":"primary",to:Qt(Ct,r,!0),"data-test-subj":"viewSourceDetailsLink"},e," ",a,"error"===t&&Object(aa.jsx)("span",{className:"activity--error__label"}," ",Object(aa.jsx)(qr.FormattedMessage,{id:"xpack.enterpriseSearch.workplaceSearch.recentActivitySourceLink.linkLabel",defaultMessage:"View Source"}))):Object(aa.jsx)("div",{"data-test-subj":"newUserTextWrapper"},e," ",a)),Object(aa.jsx)("div",{className:"activity__date"},dn.a.utc(s).fromNow()))},fp=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.overviewOnboardingHeader.title",{defaultMessage:"Get started with Workplace Search"}),Mp=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.overviewHeader.title",{defaultMessage:"Organization overview"}),Ep=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.overviewOnboardingHeader.description",{defaultMessage:"Complete the following to set up your organization."}),wp=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.overviewHeader.description",{defaultMessage:"Your organizations's statistics and activity"}),vp=()=>{const{organization:{name:e,defaultOrgName:t,kibanaUIsEnabled:a}}=Object(c.useValues)(x),{initializeOverview:n}=Object(c.useActions)(op),{dataLoading:o,hasUsers:i,hasOrgSources:l,isOldAccount:u}=Object(c.useValues)(op);Object(s.useEffect)((()=>{n()}),[n]);const p=i&&l&&u&&e!==t,d=p?Mp:fp,j=p?wp:Ep;return a?Object(aa.jsx)(la,{pageChrome:[],pageHeader:o?void 0:{pageTitle:d,description:j},pageViewTelemetry:"overview",isLoading:o},!p&&Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(Sp,null),Object(aa.jsx)(ua.EuiSpacer,{size:"xl"})),Object(aa.jsx)(mp,null),Object(aa.jsx)(ua.EuiSpacer,{size:"xl"}),Object(aa.jsx)(yp,null)):Object(aa.jsx)(sp,{isLoading:o})};var Tp=a(91),Cp=a(63);const Ip=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.roleMappingDeletedMessage",{defaultMessage:"Successfully deleted role mapping"}),Np=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.roleMappingCreatedMessage",{defaultMessage:"Role mapping successfully created."}),Lp=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.roleMappingUpdatedMessage",{defaultMessage:"Role mapping successfully updated."}),Fp=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.roleMapping.defaultGroupName",{defaultMessage:"Default"}),zp=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.roleMapping.adminRoleTypeDescription",{defaultMessage:"Admins have complete access to all organization-wide settings, including content source, group and user management functionality."}),Ap=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.roleMapping.userRoleTypeDescription",{defaultMessage:"Users' feature access is limited to search interfaces and personal settings management."}),Dp=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.roleMapping.groupAssignmentInvalidError",{defaultMessage:"At least one assigned group is required."}),_p=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.roleMapping.groupAssignmentLabel",{defaultMessage:"Group assignment"}),Rp=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.roleMapping.roleMappingsTableHeader",{defaultMessage:"Group Access"}),Up=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.roleMapping.allGroupsLabel",{defaultMessage:"Assign to all groups"}),Pp=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.roleMapping.allGroupsDescription",{defaultMessage:"Assigning to all groups includes all current and future groups as created and administered at a later date."}),Gp=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.roleMapping.specificGroupsLabel",{defaultMessage:"Assign to specific groups"}),Bp=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.roleMapping.specificGroupsDescription",{defaultMessage:"Assign to a select set of groups statically."}),Vp={username:"",email:""},Hp=Object(c.kea)({path:["enterprise_search","workplace_search","users_and_roles"],actions:{setRoleMappingsData:e=>e,setRoleMapping:e=>({roleMapping:e}),setElasticsearchUser:e=>({elasticsearchUser:e}),setSingleUserRoleMapping:e=>({singleUserRoleMapping:e}),setRoleMappings:({roleMappings:e})=>({roleMappings:e}),setRoleMappingErrors:e=>({errors:e}),handleRoleChange:e=>({roleType:e}),handleUsernameSelectChange:e=>({username:e}),handleGroupSelectionChange:e=>({groupIds:e}),handleAttributeSelectorChange:(e,t)=>({value:e,firstElasticsearchRole:t}),handleAttributeValueChange:e=>({value:e}),handleAllGroupsSelectionChange:e=>({selected:e}),enableRoleBasedAccess:!0,openSingleUserRoleMappingFlyout:!0,setUserExistingRadioValue:e=>({userFormUserIsExisting:e}),resetState:!0,initializeRoleMappings:!0,initializeSingleUserRoleMapping:e=>({roleMappingId:e}),initializeRoleMapping:e=>({roleMappingId:e}),handleDeleteMapping:e=>({roleMappingId:e}),handleSaveMapping:!0,handleSaveUser:!0,setDefaultGroup:e=>({availableGroups:e}),openRoleMappingFlyout:!0,closeUsersAndRolesFlyout:!1,setElasticsearchUsernameValue:e=>({username:e}),setElasticsearchEmailValue:e=>({email:e}),setUserCreated:!0,setUserFormIsNewUser:e=>({userFormIsNewUser:e})},reducers:{dataLoading:[!0,{setRoleMappingsData:()=>!1,setRoleMappings:()=>!1,resetState:()=>!0,enableRoleBasedAccess:()=>!0}],roleMappings:[[],{setRoleMappingsData:(e,{roleMappings:t})=>t,setRoleMappings:(e,{roleMappings:t})=>t,resetState:()=>[]}],singleUserRoleMappings:[[],{setRoleMappingsData:(e,{singleUserRoleMappings:t})=>t,resetState:()=>[]}],availableGroups:[[],{setRoleMappingsData:(e,{availableGroups:t})=>t}],attributes:[[],{setRoleMappingsData:(e,{attributes:t})=>t}],elasticsearchRoles:[[],{setRoleMappingsData:(e,{elasticsearchRoles:t})=>t}],elasticsearchUsers:[[],{setRoleMappingsData:(e,{elasticsearchUsers:t})=>t}],roleMapping:[null,{setRoleMapping:(e,{roleMapping:t})=>t,initializeRoleMappings:()=>null,resetState:()=>null,closeUsersAndRolesFlyout:()=>null}],singleUserRoleMapping:[null,{setSingleUserRoleMapping:(e,{singleUserRoleMapping:t})=>t||null,closeUsersAndRolesFlyout:()=>null}],roleType:["admin",{setRoleMapping:(e,{roleMapping:t})=>t.roleType,handleRoleChange:(e,{roleType:t})=>t}],includeInAllGroups:[!1,{setRoleMapping:(e,{roleMapping:t})=>t.allGroups,handleAllGroupsSelectionChange:(e,{selected:t})=>t,closeUsersAndRolesFlyout:()=>!1}],attributeValue:["",{setRoleMapping:(e,{roleMapping:t})=>(e=>Object.entries(e.rules)[0][1])(t),handleAttributeSelectorChange:(e,{value:t,firstElasticsearchRole:a})=>"role"===t?a:"",handleAttributeValueChange:(e,{value:t})=>t,resetState:()=>"",closeUsersAndRolesFlyout:()=>""}],attributeName:["username",{setRoleMapping:(e,{roleMapping:t})=>(e=>Object.entries(e.rules)[0][0])(t),handleAttributeSelectorChange:(e,{value:t})=>t,resetState:()=>"username",closeUsersAndRolesFlyout:()=>"username"}],selectedGroups:[new Set,{setRoleMappingsData:(e,{availableGroups:t})=>new Set(t.filter((e=>e.name===Fp)).map((e=>e.id))),setDefaultGroup:(e,{availableGroups:t})=>new Set(t.filter((e=>e.name===Fp)).map((e=>e.id))),setRoleMapping:(e,{roleMapping:t})=>new Set(t.groups.map((e=>e.id))),handleGroupSelectionChange:(e,{groupIds:t})=>{const a=new Set;return t.forEach((e=>a.add(e))),a},closeUsersAndRolesFlyout:()=>new Set}],roleMappingFlyoutOpen:[!1,{openRoleMappingFlyout:()=>!0,closeUsersAndRolesFlyout:()=>!1,initializeRoleMappings:()=>!1,initializeRoleMapping:()=>!0}],singleUserRoleMappingFlyoutOpen:[!1,{openSingleUserRoleMappingFlyout:()=>!0,closeUsersAndRolesFlyout:()=>!1,initializeSingleUserRoleMapping:()=>!0}],roleMappingErrors:[[],{setRoleMappingErrors:(e,{errors:t})=>t,handleSaveMapping:()=>[],closeUsersAndRolesFlyout:()=>[]}],userFormUserIsExisting:[!0,{setUserExistingRadioValue:(e,{userFormUserIsExisting:t})=>t,closeUsersAndRolesFlyout:()=>!0}],elasticsearchUser:[Vp,{setRoleMappingsData:(e,{elasticsearchUsers:t})=>t[0]||Vp,setElasticsearchUser:(e,{elasticsearchUser:t})=>t||Vp,setElasticsearchUsernameValue:(e,{username:t})=>({...e,username:t}),setElasticsearchEmailValue:(e,{email:t})=>({...e,email:t}),closeUsersAndRolesFlyout:()=>Vp}],userCreated:[!1,{setUserCreated:()=>!0,closeUsersAndRolesFlyout:()=>!1}],userFormIsNewUser:[!0,{setUserFormIsNewUser:(e,{userFormIsNewUser:t})=>t}],smtpSettingsPresent:[!1,{setRoleMappingsData:(e,{smtpSettingsPresent:t})=>t}],formLoading:[!1,{handleSaveMapping:()=>!0,handleSaveUser:()=>!0,initializeRoleMappings:()=>!1,setRoleMappingErrors:()=>!1}]},selectors:({selectors:e})=>({selectedOptions:[()=>[e.selectedGroups,e.availableGroups],(e,t)=>{const a=Array.from(e.values());return t.filter((({id:e})=>a.includes(e))).map((({id:e,name:t})=>({label:t,value:e})))}]}),listeners:({actions:e,values:t})=>({enableRoleBasedAccess:async()=>{const{http:t}=l.a.values;try{await t.post("/internal/workplace_search/org/role_mappings/enable_role_based_access"),e.initializeRoleMappings()}catch(e){Object(Zt.e)(e)}},initializeRoleMappings:async()=>{const{http:t}=l.a.values;try{const a=await t.get("/internal/workplace_search/org/role_mappings");e.setRoleMappingsData(a)}catch(e){Object(Zt.e)(e)}},initializeRoleMapping:async({roleMappingId:a})=>{const s=t.roleMappings.find((({id:e})=>e===a));s&&e.setRoleMapping(s)},initializeSingleUserRoleMapping:({roleMappingId:a})=>{const s=t.singleUserRoleMappings.find((({roleMapping:e})=>e.id===a));s&&(e.setElasticsearchUser(s.elasticsearchUser),e.setRoleMapping(s.roleMapping)),e.setSingleUserRoleMapping(s),e.setUserFormIsNewUser(!s)},handleDeleteMapping:async({roleMappingId:t})=>{const{http:a}=l.a.values,s=`/internal/workplace_search/org/role_mappings/${t}`;try{await a.delete(s),e.initializeRoleMappings(),Object(Zt.g)(Ip)}catch(e){Object(Zt.e)(e)}},handleSaveMapping:async()=>{const{http:a}=l.a.values,{attributeName:s,attributeValue:r,roleType:n,roleMapping:c,selectedGroups:o,includeInAllGroups:i}=t,u=JSON.stringify({roleType:n,allGroups:i,rules:{[s]:r},groups:i?[]:Array.from(o)}),p=c?a.put(`/internal/workplace_search/org/role_mappings/${c.id}`,{body:u}):a.post("/internal/workplace_search/org/role_mappings",{body:u}),d=c?Lp:Np;try{await p,e.initializeRoleMappings(),Object(Zt.g)(d)}catch(t){var j,g;e.setRoleMappingErrors(null==t||null===(j=t.body)||void 0===j||null===(g=j.attributes)||void 0===g?void 0:g.errors)}},resetState:()=>{Object(Zt.d)()},handleSaveUser:async()=>{var a;const{http:s}=l.a.values,{roleType:r,singleUserRoleMapping:n,includeInAllGroups:c,selectedGroups:o,elasticsearchUser:{email:i,username:u}}=t,p=JSON.stringify({roleMapping:{groups:c?[]:Array.from(o),roleType:r,allGroups:c,id:null==n||null===(a=n.roleMapping)||void 0===a?void 0:a.id},elasticsearchUser:{username:u,email:i}});try{const t=await s.post("/internal/workplace_search/org/single_user_role_mapping",{body:p});e.setSingleUserRoleMapping(t),e.setUserCreated(),e.initializeRoleMappings()}catch(t){var d,j;e.setRoleMappingErrors(null==t||null===(d=t.body)||void 0===d||null===(j=d.attributes)||void 0===j?void 0:j.errors)}},closeUsersAndRolesFlyout:()=>{Object(Zt.d)();const a=t.elasticsearchUsers[0];e.setElasticsearchUser(a),e.setDefaultGroup(t.availableGroups)},openRoleMappingFlyout:()=>{Object(Zt.d)()},openSingleUserRoleMappingFlyout:()=>{Object(Zt.d)()},setUserExistingRadioValue:({userFormUserIsExisting:a})=>{const s=t.elasticsearchUsers[0];e.setElasticsearchUser(a?s:Vp)},handleUsernameSelectChange:({username:a})=>{const s=t.elasticsearchUsers.find((e=>e.username===a));s&&e.setElasticsearchUser(s)}})}),Yp=()=>{const{handleAllGroupsSelectionChange:e,handleGroupSelectionChange:t}=Object(c.useActions)(Hp),{includeInAllGroups:a,availableGroups:s,selectedGroups:n,selectedOptions:o}=Object(c.useValues)(Hp),i=n.size>0||a,l=[{id:"all",label:Object(aa.jsx)(Tp.f,{label:Up,description:Pp})},{id:"specific",label:Object(aa.jsx)(Tp.f,{label:Gp,description:Bp})}];return Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiHorizontalRule,null),Object(aa.jsx)(ua.EuiFormRow,null,Object(aa.jsx)(ua.EuiRadioGroup,{options:l,idSelected:a?"all":"specific",onChange:t=>e("all"===t),legend:{children:Object(aa.jsx)("span",null,_p)}})),Object(aa.jsx)(ua.EuiFormRow,{isInvalid:!i,error:[Dp]},Object(aa.jsx)(ua.EuiComboBox,{"data-test-subj":"groupsSelect",selectedOptions:o,options:s.map((({name:e,id:t})=>({label:e,value:t}))),onChange:e=>{t(e.map((({value:e})=>e)))},fullWidth:!0,isDisabled:a})))},Qp=[{id:"admin",description:zp},{id:"user",description:Ap}],qp=()=>{const{handleSaveMapping:e,handleAttributeValueChange:t,handleAttributeSelectorChange:a,handleRoleChange:s,closeUsersAndRolesFlyout:r}=Object(c.useActions)(Hp),{attributes:n,elasticsearchRoles:o,roleType:i,attributeValue:l,attributeName:u,selectedGroups:p,includeInAllGroups:d,roleMapping:j,roleMappingErrors:g,formLoading:x}=Object(c.useValues)(Hp),b=!j,S=p.size>0||d,h="role"!==u&&!l;return Object(aa.jsx)(Tp.c,{disabled:h||!S,formLoading:x,isNew:b,closeUsersAndRolesFlyout:r,handleSaveMapping:e},Object(aa.jsx)(ua.EuiForm,{isInvalid:g.length>0,error:g},Object(aa.jsx)(Tp.a,{attributeName:u,attributeValue:l,attributeValueInvalid:h,attributes:n,elasticsearchRoles:o,disabled:!b,handleAttributeSelectorChange:a,handleAttributeValueChange:t}),Object(aa.jsx)(ua.EuiSpacer,{size:"m"}),Object(aa.jsx)(Tp.g,{roleOptions:Qp,roleType:i,onChange:s,label:"Role"}),Object(aa.jsx)(Yp,null)))},Kp=["admin","user"],Wp=()=>{const{handleSaveUser:e,closeUsersAndRolesFlyout:t,setUserExistingRadioValue:a,setElasticsearchUsernameValue:s,setElasticsearchEmailValue:r,handleRoleChange:n,handleUsernameSelectChange:o}=Object(c.useActions)(Hp),{availableGroups:i,singleUserRoleMapping:l,userFormUserIsExisting:u,elasticsearchUsers:p,elasticsearchUser:d,roleType:j,roleMappingErrors:g,userCreated:x,userFormIsNewUser:b,smtpSettingsPresent:S,formLoading:h}=Object(c.useValues)(Hp),O=i.length>0,m=p.length>0,y=!(u&&m||d.username),k=!(!l||l.invitation||l.elasticsearchUser.enabled),f=l&&Object(aa.jsx)(Tp.i,{username:l.elasticsearchUser.username,email:l.elasticsearchUser.email,roleType:l.roleMapping.roleType,showKibanaAccessWarning:!l.hasEnterpriseSearchRole}),M=(null==l?void 0:l.invitation)&&Object(aa.jsx)(Tp.k,{isNew:x,invitationCode:l.invitation.code,urlPrefix:Object(pa.d)()}),E=Object(aa.jsx)(ua.EuiForm,{isInvalid:g.length>0,error:g},Object(aa.jsx)(Tp.l,{isNewUser:b,smtpSettingsPresent:S,elasticsearchUsers:p,handleRoleChange:n,elasticsearchUser:d,setUserExisting:a,setElasticsearchEmailValue:r,setElasticsearchUsernameValue:s,handleUsernameSelectChange:o,userFormUserIsExisting:u,roleTypes:Kp,roleType:j}),O&&Object(aa.jsx)(Yp,null));return Object(aa.jsx)(Tp.j,{disabled:y,formLoading:h,isComplete:x,isNew:b,closeUserFlyout:t,handleSaveUser:e},x?f:E,M,k&&Object(aa.jsx)(Tp.b,{isNew:b}))},$p=()=>{const{enableRoleBasedAccess:e,initializeRoleMappings:t,initializeRoleMapping:a,initializeSingleUserRoleMapping:n,handleDeleteMapping:o}=Object(c.useActions)(Hp),{roleMappings:i,singleUserRoleMappings:l,dataLoading:u,roleMappingFlyoutOpen:p,singleUserRoleMappingFlyoutOpen:d}=Object(c.useValues)(Hp);Object(s.useEffect)((()=>{t()}),[]);const j=l.length>0,g=Object(aa.jsx)(Tp.h,{productName:h.B.NAME,docsLink:hr.a.workplaceSearchSecurity,onEnable:e}),x=Object(aa.jsx)("section",null,Object(aa.jsx)(Tp.d,{productName:h.B.NAME,docsLink:hr.a.workplaceSearchSecurity,onClick:()=>a()}),Object(aa.jsx)(Tp.e,{roleMappings:i,accessItemKey:"groups",accessHeader:Rp,initializeRoleMapping:a,handleDeleteMapping:o})),b=Object(aa.jsx)(Tp.p,{accessItemKey:"groups",singleUserRoleMappings:l,initializeSingleUserRoleMapping:n,handleDeleteMapping:o}),S=Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(Tp.o,{onClick:()=>n()}),Object(aa.jsx)(ua.EuiSpacer,null),j?b:Object(aa.jsx)(Tp.n,null));return Object(aa.jsx)(la,{pageChrome:[Cp.S],pageHeader:{pageTitle:Cp.S},isLoading:u,isEmptyState:i.length<1,emptyState:g},p&&Object(aa.jsx)(qp,null),d&&Object(aa.jsx)(Wp,null),x,Object(aa.jsx)(ua.EuiSpacer,{size:"xxl"}),S)},Jp=Object(c.kea)({path:["enterprise_search","workplace_search","search_authorize_logic"],actions:{setServerProps:e=>e,initializeSearchAuth:(e,t)=>[e,t],authorizeSearch:null,setRedirectNotPending:null},reducers:{redirectPending:[!0,{setRedirectNotPending:()=>!1}],cachedPreAuth:[{},{setServerProps:(e,t)=>Qu(t)}]},listeners:({actions:e,values:t})=>({initializeSearchAuth:async([t,a])=>{Object(Zt.d)();const{http:s}=l.a.values,{state:r}=Object(Vc.a)(a),n={client_id:t.clientId,response_type:"code",redirect_uri:t.redirectUrl,scope:"default_search",state:r};try{const t=await s.get(Hu,{query:n});"redirect"===t.status?window.location.replace(t.redirect_uri):e.setServerProps(t)}catch(t){Object(Zt.e)(t),e.setRedirectNotPending()}},setServerProps:()=>{e.authorizeSearch()},authorizeSearch:async()=>{const{http:a}=l.a.values,{cachedPreAuth:s}=t;try{const e=await a.post(Hu,{body:JSON.stringify({client_id:s.clientId,response_type:s.responseType,redirect_uri:s.redirectUri,scope:s.rawScopes,state:s.state}),headers:h.u});window.location.replace(e.redirect_uri)}catch(t){Object(Zt.e)(t),e.setRedirectNotPending()}}})}),Zp=()=>{const{search:e}=Object(n.useLocation)(),{initializeSearchAuth:t}=Object(c.useActions)(Jp),{searchOAuth:a}=Object(c.useValues)(x),{redirectPending:r}=Object(c.useValues)(Jp);return Object(s.useEffect)((()=>{a.clientId&&t(a,e)}),[a]),r?Object(aa.jsx)(ba.a,null):Object(aa.jsx)(ua.EuiPage,{restrictWidth:!0},Object(aa.jsx)(ua.EuiPageBody,null,Object(aa.jsx)(Zt.a,null)))},Xp=({message:e})=>{const t=Object(aa.jsx)(r.a.Fragment,null,e," ",Object(aa.jsx)(ua.EuiLink,{target:"_blank",external:!0,href:hr.a.licenseManagement},Object(aa.jsx)("strong",null,me)));return Object(aa.jsx)("div",null,Object(aa.jsx)(ua.EuiFlexGroup,{responsive:!1},Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)("div",null,Object(aa.jsx)("strong",null,"↑"))),Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiText,{size:"xs"},t))))},ed="/internal/workplace_search/org/security/source_restrictions",td=Object(c.kea)({path:["enterprise_search","workplace_search","security_logic"],actions:{setServerProps:e=>e,setSourceRestrictionsUpdated:e=>e,initializeSourceRestrictions:()=>!0,saveSourceRestrictions:()=>null,updatePrivateSourcesEnabled:e=>({isEnabled:e}),updateRemoteEnabled:e=>({isEnabled:e}),updateRemoteSource:(e,t)=>({sourceId:e,isEnabled:t}),updateStandardEnabled:e=>({isEnabled:e}),updateStandardSource:(e,t)=>({sourceId:e,isEnabled:t}),resetState:()=>null},reducers:{dataLoading:[!0,{setServerProps:()=>!1}],cachedServerState:[{},{setServerProps:(e,t)=>Object(ra.cloneDeep)(t),setSourceRestrictionsUpdated:(e,t)=>Object(ra.cloneDeep)(t)}],isEnabled:[!1,{setServerProps:(e,{isEnabled:t})=>t,setSourceRestrictionsUpdated:(e,{isEnabled:t})=>t,updatePrivateSourcesEnabled:(e,{isEnabled:t})=>t}],remote:[{},{setServerProps:(e,{remote:t})=>t,setSourceRestrictionsUpdated:(e,{remote:t})=>t,updateRemoteEnabled:(e,{isEnabled:t})=>({...e,isEnabled:t}),updateRemoteSource:(e,{sourceId:t,isEnabled:a})=>ad(e,t,a)}],standard:[{},{setServerProps:(e,{standard:t})=>t,setSourceRestrictionsUpdated:(e,{standard:t})=>t,updateStandardEnabled:(e,{isEnabled:t})=>({...e,isEnabled:t}),updateStandardSource:(e,{sourceId:t,isEnabled:a})=>ad(e,t,a)}]},selectors:({selectors:e})=>({unsavedChanges:[()=>[e.cachedServerState,e.isEnabled,e.remote,e.standard],(e,t,a,s)=>e.isEnabled!==t||!Object(ra.isEqual)(e.remote,a)||!Object(ra.isEqual)(e.standard,s)]}),listeners:({actions:e,values:t})=>({initializeSourceRestrictions:async()=>{const{http:t}=l.a.values;try{const a=await t.get(ed);e.setServerProps(a)}catch(e){Object(Zt.e)(e)}},saveSourceRestrictions:async()=>{const{isEnabled:a,remote:s,standard:r}=t,n={isEnabled:a,remote:s,standard:r},c=JSON.stringify(n),{http:o}=l.a.values;try{const t=await o.patch(ed,{body:c});e.setSourceRestrictionsUpdated(t),Object(Zt.g)(K),x.actions.setSourceRestriction(a)}catch(e){Object(Zt.e)(e)}},resetState:()=>{e.setServerProps(Object(ra.cloneDeep)(t.cachedServerState)),Object(Zt.d)()}})}),ad=(e,t,a)=>{const s={...e},r=s.contentSources,n=r.findIndex((e=>e.id===t));return s.contentSources[n]={...r[n],isEnabled:a},s},sd=Object(aa.jsx)(qr.FormattedMessage,{id:"xpack.enterpriseSearch.workplaceSearch.security.remoteSourcesEmptyTable.description",defaultMessage:"Once configured, remote private sources are {enabledStrong}, and users can immediately connect the source from their Personal Dashboard.",values:{enabledStrong:Object(aa.jsx)("strong",null,k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.security.remoteSourcesEmptyTable.enabledStrong",{defaultMessage:"enabled by default"}))}}),rd=Object(aa.jsx)(qr.FormattedMessage,{id:"xpack.enterpriseSearch.workplaceSearch.security.standardSourcesEmptyTable.description",defaultMessage:"Once configured, standard private sources are {notEnabledStrong}, and must be activated before users are allowed to connect the source from their Personal Dashboard.",values:{notEnabledStrong:Object(aa.jsx)("strong",null,k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.security.standardSourcesEmptyTable.notEnabledStrong",{defaultMessage:"not enabled by default"}))}}),nd=({sourceType:e,sourceSection:{isEnabled:t,contentSources:a},updateSource:s,updateEnabled:n})=>{const{hasPlatinumLicense:o}=Object(c.useValues)(hn.a),{isEnabled:i}=Object(c.useValues)(td),l="remote"===e,u=a.length>0,p=!i||!o,d=!t,j=Co()({"euiTable--disabled":d}),g=Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiSpacer,null),Object(aa.jsx)(ua.EuiPanel,{hasShadow:!1},Object(aa.jsx)(ua.EuiText,{textAlign:"center",color:"subdued",size:"s"},Object(aa.jsx)("strong",null,l?B:Y)),Object(aa.jsx)(ua.EuiText,{textAlign:"center",color:"subdued",size:"s"},l?sd:rd))),x=Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiSpacer,null),Object(aa.jsx)(ua.EuiPanel,{hasShadow:!1},Object(aa.jsx)(ua.EuiTable,{className:j},Object(aa.jsx)(ua.EuiTableHeader,null,Object(aa.jsx)(ua.EuiTableHeaderCell,null,Le),Object(aa.jsx)(ua.EuiTableHeaderCell,null)),Object(aa.jsx)(ua.EuiTableBody,null,a.map(((t,a)=>Object(aa.jsx)(ua.EuiTableRow,{key:a},Object(aa.jsx)(ua.EuiTableRowCell,null,t.name),Object(aa.jsx)(ua.EuiTableRowCell,{align:"right"},Object(aa.jsx)(ua.EuiSwitch,{checked:!!t.isEnabled,disabled:d,onChange:e=>s(t.id,e.target.checked),showLabel:!1,label:`${t.name} Toggle`,"data-test-subj":`${e}SourceToggle`,compressed:!0}))))))))),b=Object(aa.jsx)(ua.EuiFlexGroup,{alignItems:"flexStart",justifyContent:"flexStart",gutterSize:"s"},Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(ua.EuiSpacer,{size:"xs"}),Object(aa.jsx)(ua.EuiSwitch,{checked:t,onChange:e=>n(e.target.checked),disabled:!i||!o,showLabel:!1,label:`${e} Sources Toggle`,"data-test-subj":`${e}EnabledToggle`,compressed:!0})),Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiTitle,{size:"xxs"},Object(aa.jsx)("h3",null,l?P:V)),Object(aa.jsx)(ua.EuiText,{color:"subdued",size:"s"},l?G:H),!u&&g,u&&x));return Object(aa.jsx)(ua.EuiPanel,{color:"subdued",className:Co()({"euiPanel--disabled":p})},b)},cd=()=>{const[e,t]=Object(s.useState)(!1),a=()=>t(!1),{hasPlatinumLicense:n}=Object(c.useValues)(hn.a),{initializeSourceRestrictions:o,updatePrivateSourcesEnabled:i,updateRemoteEnabled:l,updateRemoteSource:u,updateStandardEnabled:p,updateStandardSource:d,saveSourceRestrictions:j,resetState:g}=Object(c.useActions)(td),{isEnabled:x,remote:b,standard:S,dataLoading:h,unsavedChanges:O}=Object(c.useValues)(td);Object(s.useEffect)((()=>{o()}),[]);const m=[Object(aa.jsx)(ua.EuiButton,{disabled:!n||!O||h,onClick:()=>t(!0),fill:!0,"data-test-subj":"SaveSettingsButton"},ie),Object(aa.jsx)(ua.EuiButtonEmpty,{disabled:!O||h,onClick:g},Te)],y=Object(aa.jsx)(ua.EuiPanel,{paddingSize:"none",hasShadow:!1,className:Co()({"euiPanel--disabled":!n})},Object(aa.jsx)(ua.EuiFlexGroup,{alignItems:"center",justifyContent:"flexStart",gutterSize:"m"},Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(ua.EuiSwitch,{checked:x,onChange:e=>i(e.target.checked),disabled:!n,showLabel:!1,label:"Private Sources Toggle","data-test-subj":"PrivateSourcesToggle"})),Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiTitle,{size:"xxs"},Object(aa.jsx)("h2",null,U))))),k=Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiSpacer,{size:"s"}),Object(aa.jsx)(Xp,{message:Ne})),f=Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiSpacer,{size:"xl"}),Object(aa.jsx)(nd,{sourceType:"remote",sourceSection:b,updateEnabled:l,updateSource:u}),Object(aa.jsx)(ua.EuiSpacer,{size:"xxl"}),Object(aa.jsx)(nd,{sourceType:"standard",sourceSection:S,updateEnabled:p,updateSource:d})),M=Object(aa.jsx)(ua.EuiConfirmModal,{title:Ge,onConfirm:()=>{j(),a()},onCancel:a,buttonColor:"primary",cancelButtonText:le,confirmButtonText:oe},q);return Object(aa.jsx)(la,{pageChrome:[E.SECURITY],pageHeader:{pageTitle:ze,description:R,rightSideItems:m},isLoading:h},Object(aa.jsx)(Bo.a,{hasUnsavedChanges:O,messageText:Q}),Object(aa.jsx)(ua.EuiPanel,{hasShadow:!1,hasBorder:!0},y,!n&&k,f),e&&M)},od="/internal/workplace_search/org/settings/upload_images",id=Object(c.kea)({actions:{onInitializeConnectors:e=>e,onOrgNameInputChange:e=>e,setUpdatedName:({organizationName:e})=>e,setServerProps:e=>e,setIcon:e=>e,setStagedIcon:e=>e,setLogo:e=>e,setStagedLogo:e=>e,setOauthApplication:e=>e,setUpdatedOauthApplication:({oauthApplication:e})=>e,resetSettingsState:()=>!0,initializeSettings:()=>!0,initializeConnectors:()=>!0,updateOrgName:()=>!0,updateOrgLogo:()=>!0,updateOrgIcon:()=>!0,resetOrgLogo:()=>!0,resetOrgIcon:()=>!0,resetButtonLoading:()=>!0,updateOauthApplication:()=>!0,deleteSourceConfig:(e,t)=>({serviceType:e,name:t})},reducers:{connectors:[[],{onInitializeConnectors:(e,t)=>Mn(t)}],orgNameInputValue:["",{setServerProps:(e,{organizationName:t})=>t,onOrgNameInputChange:(e,t)=>t,setUpdatedName:(e,t)=>t}],oauthApplication:[null,{setServerProps:(e,{oauthApplication:t})=>t,setOauthApplication:(e,t)=>t,setUpdatedOauthApplication:(e,t)=>t}],dataLoading:[!0,{setServerProps:()=>!1,onInitializeConnectors:()=>!1,resetSettingsState:()=>!0}],logo:[null,{setServerProps:(e,{logo:t})=>t,setLogo:(e,t)=>t,resetOrgLogo:()=>null}],stagedLogo:[null,{setStagedLogo:(e,t)=>t,resetOrgLogo:()=>null,setLogo:()=>null}],icon:[null,{setServerProps:(e,{icon:t})=>t,setIcon:(e,t)=>t,resetOrgIcon:()=>null}],stagedIcon:[null,{setStagedIcon:(e,t)=>t,resetOrgIcon:()=>null,setIcon:()=>null}],logoButtonLoading:[!1,{updateOrgLogo:()=>!0,setLogo:()=>!1,resetButtonLoading:()=>!1}],iconButtonLoading:[!1,{updateOrgIcon:()=>!0,setIcon:()=>!1,resetButtonLoading:()=>!1}]},listeners:({actions:e,values:t})=>({initializeSettings:async()=>{const{http:t}=l.a.values;try{const a=await t.get("/internal/workplace_search/org/settings");e.setServerProps(a)}catch(e){Object(Zt.e)(e)}},initializeConnectors:async()=>{const{http:t}=l.a.values;try{const a=await t.get("/internal/workplace_search/org/settings/connectors");e.onInitializeConnectors(a)}catch(e){Object(Zt.e)(e)}},updateOrgName:async()=>{Object(Zt.d)();const{http:a}=l.a.values,{orgNameInputValue:s}=t,r=JSON.stringify({name:s});try{const t=await a.put("/internal/workplace_search/org/settings/customize",{body:r});e.setUpdatedName(t),Object(Zt.g)(ne),x.actions.setOrgName(s)}catch(e){Object(Zt.e)(e)}},updateOrgLogo:async()=>{Object(Zt.d)();const{http:a}=l.a.values,{stagedLogo:s}=t,r=JSON.stringify({logo:s});try{const t=await a.put(od,{body:r});e.setLogo(t.logo),Object(Zt.g)(ne)}catch(t){e.resetButtonLoading(),Object(Zt.e)(t)}},updateOrgIcon:async()=>{Object(Zt.d)();const{http:a}=l.a.values,{stagedIcon:s}=t,r=JSON.stringify({icon:s});try{const t=await a.put(od,{body:r});e.setIcon(t.icon),Object(Zt.g)(ne)}catch(t){e.resetButtonLoading(),Object(Zt.e)(t)}},updateOauthApplication:async()=>{const{http:a}=l.a.values,s=t.oauthApplication||{},{name:r,redirectUri:n,confidential:c}=s,o=JSON.stringify({oauth_application:{name:r,confidential:c,redirect_uri:n}});Object(Zt.d)();try{const t=await a.put("/internal/workplace_search/org/settings/oauth_application",{body:o});e.setUpdatedOauthApplication(t),Object(Zt.g)(ce)}catch(e){Object(Zt.e)(e)}},deleteSourceConfig:async({serviceType:e,name:t})=>{const{http:a}=l.a.values,s=`/internal/workplace_search/org/settings/connectors/${e}`;try{await a.delete(s),u.a.values.navigateToUrl(Ht),Object(Zt.g)(k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.settings.configRemoved.message",{defaultMessage:"Successfully removed configuration for {name}.",values:{name:t}}))}catch(e){Object(Zt.e)(e)}},resetSettingsState:()=>{Object(Zt.d)()},setStagedLogo:()=>{Object(Zt.d)()},setStagedIcon:()=>{Object(Zt.d)()},resetOrgLogo:()=>{e.updateOrgLogo()},resetOrgIcon:()=>{e.updateOrgIcon()}})}),ld=()=>{const{initializeConnectors:e}=Object(c.useActions)(id),{dataLoading:t,connectors:a}=Object(c.useValues)(id);Object(s.useEffect)((()=>{e()}),[]);const r=Object(ra.reject)(a,(({serviceType:e,externalConnectorServiceDescribed:t})=>e===D||"external"===e&&!t)),n=Object(aa.jsx)(Xp,{message:Ne}),o=Object(aa.jsx)(ua.EuiFlexGroup,{direction:"column",gutterSize:"none",responsive:!1},r.map((({serviceType:e,name:t,configured:a,accountContextOnly:s,supportedByLicense:r})=>Object(aa.jsx)(ua.EuiFlexItem,{key:e,"data-test-subj":"ConnectorRow"},Object(aa.jsx)(ua.EuiHorizontalRule,{margin:"xs"}),Object(aa.jsx)(ua.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center",responsive:!1},Object(aa.jsx)(ua.EuiFlexItem,{grow:1},Object(aa.jsx)(ua.EuiFlexGroup,{justifyContent:"flexStart",alignItems:"center",responsive:!1},Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(gn,{serviceType:e,name:t})),Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(ua.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},t),Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},s&&Object(aa.jsx)(ua.EuiBadge,{color:"hollow"},Fe)))))),Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},((e,t,a)=>{const s=$t(t),r=Jt(t),n=Kt(s,!0),c=Object(aa.jsx)(ua.EuiFlexGroup,{gutterSize:"s",responsive:!1},Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(ja.a,{to:r,"data-test-subj":"UpdateButton"},Ee))),o=a?Object(aa.jsx)(ja.a,{to:n,"data-test-subj":"ConfigureButton"},Ce):Object(aa.jsx)(ua.EuiButtonEmpty,{"data-test-subj":"ConfigureButton",disabled:!0},Ce);return e?c:o})(a,e,r))),s&&!r&&Object(aa.jsx)(ua.EuiFlexGroup,{justifyContent:"flexStart",alignItems:"center",responsive:!1},Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiSpacer,{size:"s"}),n))))));return Object(aa.jsx)(la,{pageChrome:[E.SETTINGS,E.SETTINGS_SOURCE_PRIORITIZATION],pageHeader:{pageTitle:Be,description:Ve},isLoading:t},o)},ud=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.settings.logoText",{defaultMessage:"logo"}),pd=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.settings.iconText",{defaultMessage:"icon"}),dd=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.settings.resetImageTitle",{defaultMessage:"Reset to default branding"}),jd=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.settings.resetLogoDescription",{defaultMessage:"You're about to reset the logo to the default Workplace Search branding."}),gd=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.settings.resetIconDescription",{defaultMessage:"You're about to reset the icon to the default Workplace Search branding."}),xd=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.settings.resetImageConfirmationText",{defaultMessage:"Are you sure you want to do this?"}),bd=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.settings.organizationLabel",{defaultMessage:"Organization"}),Sd=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.settings.brandText",{defaultMessage:"Brand"}),hd=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.settings.logoDescription",{defaultMessage:"Used as the main visual branding element across prebuilt search applications"}),Od=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.settings.logoHelpText",{defaultMessage:"Maximum file size is 2MB. Only PNG files are supported."}),md=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.settings.iconDescription",{defaultMessage:"Used as the branding element for smaller screen sizes and browser icons"}),yd=k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.settings.iconHelpText",{defaultMessage:"Maximum file size is 2MB and recommended aspect ratio is 1:1. Only PNG files are supported."}),kd=({imageType:e,description:t,helpText:a,image:n,stagedImage:c,buttonLoading:o,stageImage:i,saveImage:l,resetImage:u})=>{const[p,d]=Object(s.useState)(!1),[j,g]=Object(s.useState)(1),x=()=>d(!1),b="logo"===e,S=b?ud:pd,h=b?"iVBORw0KGgoAAAANSUhEUgAAAMMAAAAeCAMAAACmAVppAAABp1BMVEUAAAAmLjf/xRPwTpglLjf/xhIlLjclLjclLjclLjclLjclLjclLjclLjclLjclLjclLjclLjclLjclLjclLjclLjclLjclLjclLjclLjcwMTslLjclLjclLjclLjclLjclLjclLjclLjclLjclLjclLjclLjclLjclLjclLjclLjclLjclLjclLjclLjclLjclLjclLjclLjclLjclLjclLjclLjclLjclLjclLjclLjclLjclLjf+xBMlLjclLjclLjclLjclLjf/xxBUOFP+wRclLjf+xxb/0w3wTpgkLkP+xRM6ME3wTphKPEnxU5PwT5f/yhDwTpj/xxD/yBJQLF/wTpjyWY7/zQw5I1z/0Aj3SKT/zg//zg38syyoOYfhTZL/0QT+xRP/Uqr/UqtBMFD+xBV6SllaOVY7J1VXM1v/yhH/1wYlLjf+xRPwTpgzN0HvTpc1OEH+xBMuNj7/UaX/UKEXMzQQMzH4TpvwS5swNkArNj4nNTv/UqflTZPdTJA6OEQiNDr/yQ7zT5q9SIB1P19nPlhMOkz/UqbUTIvSS4oFLTD1hLkfAAAAbXRSTlMADfLy4wwCKflGIPzzaF0k8BEFlMd/G9rNFAjosWJWNC8s1LZ4bey9q6SZclHewJxlQDkLoIqDfE09So4Y6MSniIaFy8G8h04Q/vb29ObitpyQiodmXlZUVDssJSQfHQj+7Ovi4caspKFzbGw11xUNcgAABZRJREFUWMPVmIeT0kAUh180IoQOJyAgvQt4dLD33nvvXX8ed/beu3+0bzcJtjiDjuMM38xluU12932b3U2ytGu+ZM8RGrFl0zzJqgU0GczoPHq0l3QWXH79+vYtyaQ4zJ8x2U+C0xtumcybPIeZw/zv8fO3Jtph2wmim7cn2mF29uIZoqO3J9lh5tnnjZxx4PbkOsw+e/H4wVXO2WTpoCgBIyUz/QnrPGopNhoTZWHaT2MTUAI/OczePTt3//Gd60Rb51k5OOyqKLLS56oS03at+zUEl8tCIuNaOKZBxQmgHKIx6bl6PzrM3pt9eX9ueGfuGNENKwc/0OTEAywjxo4q/YwfsHDwIT2eQgaYqgOxxTQea9H50eHhvfcP5obD4ZPdnLfKaj5kkeNjEKhxkoQ9Sj9iI8V0+GHwqBjvPuSQ8RKFwmjTeCzCItPBGElv798ZMo/vHCLaZ+WwFFk+huGE1/wnN6VmPZxGl63QSoUGSYdBOe6n9opWJxzp2UwHW66urs6RIFkJhyspYhZ3Mmq5QQZxTMvT5aV81ILhWrsp+4Mbqef5R7rsaa5WNSJ3US26pcN0qliL902HN3ffPRhKnm4k2mLlkIY9QF6sXga3aDBP/ghgB8pyELkAj3QYgLunBYTBTEV1B60G+CC9+5Bw6Joqy7tJJ4iplaO2fPJUlcyScaIqnAC8lIUgKxyKEFQNh4czH17pDk92RumklQPFMKAlyHtRInJxZW2++baBj2NXfCg0Qq0oQCFgKYkMV7PVLKCnOyxFRqOQCgf5nVgXjQYBogiCAY4MxiT2OuEMeuRkCKjYbOO2nArlENFIK6BJDqCe0riqWDOQ9CHHDugqoSKmDId7z18+HepsV2jrDiuHZRxdiSuDi7yIURTQiLilDNmcSMo5XUipQoEUOxycJKDqDooMrYQ8ublJplKyebkgs54zdZKyh0tp4nCLeoMeo2Qdbs4sEFNAn4+Nspt68iov7H/gkECJfIjSFAIJVGiAmhzUAJHemYrL7uRrxC/wdSQ0zTldDcZjwBJqs6OOG7VyPLsmgjVk4s2XAHuKowvzqXIYK0Ylpw0xDbCN5nRQz/iDseSHmhK9mENiPRJURUTOOenAccoRBKhe3UGeMx1SqpgcGXhoDf/p5MHKTsTUzfQdoSyH2tVPqWqekqJkJMb2DtT5fOo7B7nKLwTGn9NiABdFL7KICj8l4SPjXpoOdiwPIqw7LBYB6Q4aZdDWAtThSIKyb6nlt3kQp+8IrFtk0+vz0TSCZBDGMi5ZGjks1msmxf/NYey1VYrrsarAau5kn+zSCocSNRwAMfPbYlRhhb7UiKtDZIdNxjNNy1GIciQFZ0CB3c+Znm5KdwDkk38dIqQhJkfbIs0GEFMbOVBEPtk69hXfHMZ+xjFNQCUZNnpyNiPn4N9J8o8cFEqLsdtyOVFJBIHlQsrLUyg+6Ef4jIgh7EmEUReGsSWNtYCDJNNAyZ3PAgniEVfzNCqi1gjKzX5Gzge5GnCCYH89MKD1aP/oMHvv+Zz5rnHwd++tPlT0yY2kSLtgfFUZfNp0IDeQIhQWgVlkvGukVQC1Kbj5FqwGU/fLdYdxLSGDHgR2MecDcTCFPlEyBiBT5JLLESGB2wnAyTWtlatB2nSQo+nF8P7cq2tEC+b9ziGVWClv+3KHuY6s9YhgbI7lLZk4xJBpeNIBOGlhN7eQmEFfYT13x00rEyES57vdhlFfrrNkJY0ILel2+QEhSfbWehS57uU707Lk4mrSuMy9Oa+J1hOi41oczMhh5tmLuS9XLN69/wI/0KL/BzuYEh8/XfpH30ByVP0/2GFkceFffYvKL4n/gPWewPF/syeg/B8F672ZU+duTfD3tLlHtur1xDn8sld5Smz0TdZepcWe8cENk7Vn/BXafhbMBIo0xQAAAABJRU5ErkJggg==":"iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAA/1BMVEUAAADwTpj+xRT+xRTwTpjwTpj+xRTwTpj+wxT+xRT/yBMSHkn8yxL+wxX+xRT+xRT/1QwzN0E6OkH/xxPwTpjwTpjwTpj/xBQsMUPwTpj/UK3/yRMWHkvwTpj/zg7wTpj/0A3wTpjwTpgRIEf/0Qx/P2P/yBMuM0I1OEH+xRQuM0L+xRQuM0LntRr+xRT+xRT+xBQ1JlZjPVdaUDwtMEUbJkYbJEj+xRTwTpg0N0E2N0LuTZX/U6z/Uqf9UaFkPVYRMjD/UqnzTpgKMS0BMCn/UaL3T53gTJGwRn2jRHRdPFUtNj4qNjwmNToALyfKSojISoeJQWhtPlsFKTP/yxKq4k7GAAAAN3RSTlMA29vt7fPy6uPQdjYd/aSVBfHs49nPwq+nlIuEU084MichEAoK/vPXz6iempOSjn9kY1w0LBcVaxnnyQAAASFJREFUOMuVk3lbgkAQh6cIxQq0u6zM7vs+cHchRbE7O7//Z+nng60PDuDj+9/MvMCyM0O0YE4Ac35lkzTTp3M5A+QKCPK1HuY69bjY+3UjDERjNc1GVD9zNeNxIb+FeOfYZYJmEXHFzhBUGYnVdEHde1fILHFB1+uNG5zCYoKuh2L2jqhqJwnqwfsOpRQHyE0mCU3vqyOkEOIESYsLyv9svUoB5BRewYVm8NJCvcsymsGF9uP7m4iY2SYqMMF/aoh/8I1DLjz3hTWi4ogC/4Qz9JCj/6byP7IvCle925Fd4yj5qtGsoB7C2I83i7f7Fiew0wfm55qoZKWOXDu4zBo5UMbz50PGvop85uKUigMCXz0nJrDlja2OQcnrX3H0+v8BzVCfXpvPH1sAAAAASUVORK5CYII=",O=Object(aa.jsx)(ua.EuiConfirmModal,{title:dd,onCancel:x,onConfirm:()=>{u(),x()},cancelButtonText:f.e,confirmButtonText:f.y,buttonColor:"danger",defaultFocusedButton:"confirm"},Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)("p",null,b?jd:gd),Object(aa.jsx)("p",null,xd)));return Object(s.useEffect)((()=>{g(j+1)}),[n]),Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiFormRow,{label:`${bd} ${S}`,helpText:a,labelAppend:Object(aa.jsx)(ua.EuiText,{color:"subdued",size:"xs"},t)},Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiSpacer,{size:"m"}),Object(aa.jsx)("img",{src:`data:image/png;base64,${n||h}`,alt:`${Sd} ${e}`,height:32}),Object(aa.jsx)(ua.EuiSpacer,{size:"m"}),Object(aa.jsx)(ua.EuiFilePicker,{key:e+j,accept:"image/png",onChange:async e=>{if(!e||e.length<1)return i(null);const t=e[0],a=await(e=>{const t=new FileReader;return new Promise(((a,s)=>{t.onload=()=>{const e=t.result.split(",")[1];a(e)};try{t.readAsDataURL(e)}catch{t.abort(),s(new Error)}}))})(t);i(a)}}))),Object(aa.jsx)(ua.EuiFormRow,null,Object(aa.jsx)(ua.EuiFlexGroup,null,Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(ua.EuiButton,{isLoading:o,disabled:!c,color:"primary",onClick:l},f.z)),Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},n&&Object(aa.jsx)(ua.EuiButton,{color:"danger",onClick:()=>d(!0),"data-test-subj":"ResetImageButton"},f.y)))),p&&O)},fd=()=>{const{onOrgNameInputChange:e,updateOrgName:t,setStagedIcon:a,setStagedLogo:s,updateOrgLogo:r,updateOrgIcon:n,resetOrgLogo:o,resetOrgIcon:i}=Object(c.useActions)(id),{dataLoading:l,orgNameInputValue:u,icon:p,stagedIcon:d,logo:j,stagedLogo:g,iconButtonLoading:x,logoButtonLoading:b}=Object(c.useValues)(id);return Object(aa.jsx)(la,{pageChrome:[E.SETTINGS],pageHeader:{pageTitle:ye,description:ke},isLoading:l},Object(aa.jsx)("form",{onSubmit:e=>{e.preventDefault(),t()}},Object(aa.jsx)(ao,null,Object(aa.jsx)(ua.EuiFormRow,{label:fe,fullWidth:!0,isInvalid:!1},Object(aa.jsx)(ua.EuiFlexGroup,null,Object(aa.jsx)(ua.EuiFlexItem,null,Object(aa.jsx)(ua.EuiFieldText,{isInvalid:!1,required:!0,value:u,"aria-label":fe,"data-test-subj":"OrgNameInput",onChange:t=>e(t.target.value)})),Object(aa.jsx)(ua.EuiFlexItem,null))),Object(aa.jsx)(ua.EuiFormRow,null,Object(aa.jsx)(ua.EuiButton,{color:"primary","data-test-subj":"SaveOrgNameButton",type:"submit"},Me)))),Object(aa.jsx)(ua.EuiSpacer,{size:"s"}),Object(aa.jsx)(kd,{imageType:"logo",description:hd,helpText:Od,image:j,stagedImage:g,buttonLoading:b,stageImage:s,saveImage:r,resetImage:o}),Object(aa.jsx)(ua.EuiSpacer,{size:"xl"}),Object(aa.jsx)(kd,{imageType:"icon",description:md,helpText:yd,image:p,stagedImage:d,buttonLoading:x,stageImage:a,saveImage:n,resetImage:i}))},Md=()=>{const{setOauthApplication:e,updateOauthApplication:t}=Object(c.useActions)(id),{oauthApplication:a}=Object(c.useValues)(id),{hasPlatinumLicense:s}=Object(c.useValues)(hn.a);if(!a)return null;const n=!(!a.uid||!a.secret),o=n?de:pe,i=/(^|\s)http:/i.test(a.redirectUri),l=a.redirectUri.split("\n").map((e=>e.trim())),u=Array.from(new Set(l)),p=i||l.length!==u.length,d=Object(aa.jsx)("span",null,Object(aa.jsx)("strong",null,ge)," ",a.nativeRedirectUri&&Object(aa.jsx)("span",null,xe," ",Object(aa.jsx)(ua.EuiCode,null,a.nativeRedirectUri))),j=i?Se:be,g=Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(Jr,null),Object(aa.jsx)(ua.EuiSpacer,{size:"s"}),Object(aa.jsx)(ua.EuiTitle,{size:"l"},Object(aa.jsx)("h1",null,he))),x=Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiText,{color:"subdued"},Oe),Object(aa.jsx)(ua.EuiSpacer,null),Object(aa.jsx)(ua.EuiLink,{external:!0,target:"_blank",href:hr.a.licenseManagement},me));return Object(aa.jsx)(la,{pageChrome:[E.SETTINGS,E.SETTINGS_OAUTH],pageHeader:{pageTitle:s?E.SETTINGS_OAUTH:g,description:s?o:x}},Object(aa.jsx)(ua.EuiForm,{component:"form",onSubmit:e=>{e.preventDefault(),t()}},Object(aa.jsx)(ua.EuiSpacer,null),Object(aa.jsx)(ao,null,Object(aa.jsx)(ua.EuiFormRow,{label:ue},Object(aa.jsx)(ua.EuiFieldText,{value:a.name,"data-test-subj":"OAuthAppName",onChange:t=>e({...a,name:t.target.value}),required:!0,disabled:!s})),Object(aa.jsx)(ua.EuiSpacer,{size:"xl"}),Object(aa.jsx)(ua.EuiFormRow,{"data-test-subj":"RedirectURIsRow",label:je,helpText:d,isInvalid:p,error:j},Object(aa.jsx)(ua.EuiTextArea,{value:a.redirectUri,"data-test-subj":"RedirectURIsTextArea",onChange:t=>e({...a,redirectUri:t.target.value}),required:!0,disabled:!s})),Object(aa.jsx)(ua.EuiSpacer,{size:"xl"}),Object(aa.jsx)(ua.EuiFormRow,{helpText:ae},Object(aa.jsx)(ua.EuiSwitch,{label:te,checked:a.confidential,"data-test-subj":"ConfidentialToggle",onChange:t=>e({...a,confidential:t.target.checked}),disabled:!s})),Object(aa.jsx)(ua.EuiSpacer,{size:"xl"}),Object(aa.jsx)(ua.EuiButton,{fill:!0,color:"primary","data-test-subj":"SaveOAuthApp",type:"submit",disabled:!s},oe)),n&&Object(aa.jsx)(ao,{title:se,description:re},Object(aa.jsx)(ua.EuiFormRow,null,Object(aa.jsx)(rl,{label:X,value:a.uid,testSubj:"ClientID"})),a.confidential&&Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiSpacer,{size:"s"}),Object(aa.jsx)(ua.EuiFormRow,null,Object(aa.jsx)(rl,{label:ee,value:a.secret,testSubj:"ClientSecret"}))))))},Ed=()=>{const{serviceType:e}=Object(n.useParams)(),[t,a]=Object(s.useState)(!1),o=Fn({serviceType:e}),{deleteSourceConfig:i}=Object(c.useActions)(id),{saveSourceConfig:l,getSourceConfigData:u,resetSourceState:p}=Object(c.useActions)(o),{sourceConfigData:{name:d,categories:j},dataLoading:g}=Object(c.useValues)(o),x=sn(e);if(Object(s.useEffect)((()=>(u(),p)),[e]),!x)return null;const{configuration:b}=x,S=Object(aa.jsx)(On,{name:d,serviceType:e,categories:j});return Object(aa.jsx)(la,{pageChrome:[E.SETTINGS,E.SETTINGS_SOURCE_PRIORITIZATION,d||"..."],isLoading:g},Object(aa.jsx)(Zc,{name:d,configuration:b,advanceStep:()=>l(!0),onDeleteConfig:()=>a(!0),header:S}),t&&Object(aa.jsx)(ua.EuiConfirmModal,{onConfirm:()=>i(e,d),onCancel:()=>a(!1),buttonColor:"danger",title:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.settings.confirmRemoveConfigTitle",{defaultMessage:"Remove configuration"}),confirmButtonText:nt,cancelButtonText:ve},k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.settings.confirmRemoveConfig.message",{defaultMessage:"Are you sure you want to remove the configuration for {name}?",values:{name:d}})),"external"===e&&Object(aa.jsx)(r.a.Fragment,null,Object(aa.jsx)(ua.EuiSpacer,null),Object(aa.jsx)(ua.EuiFlexGroup,{justifyContent:"center"},Object(aa.jsx)(ua.EuiFlexItem,{grow:!1},Object(aa.jsx)(ua.EuiCallOut,{size:"s",color:"primary",iconType:"email",title:Object(aa.jsx)(ua.EuiLink,{href:"https://www.elastic.co/kibana/feedback",external:!0},k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.settings.feedbackCallOutText",{defaultMessage:"Have feedback about deploying a {name} Connector Package? Let us know.",values:{name:d}}))})))))},wd=()=>{const{initializeSettings:e}=Object(c.useActions)(id);return Object(s.useEffect)((()=>{e()}),[]),Object(aa.jsx)(o.c,null,Object(aa.jsx)(o.a,{exact:!0,path:Vt},Object(aa.jsx)(fd,null)),Object(aa.jsx)(o.a,{exact:!0,path:Ht},Object(aa.jsx)(ld,null)),Object(aa.jsx)(o.a,{exact:!0,path:Yt},Object(aa.jsx)(Md,null)),Object(aa.jsx)(o.a,{exact:!0,path:Jt(":serviceType")},Object(aa.jsx)(Ed,null)),Object(aa.jsx)(o.a,null,Object(aa.jsx)(n.Redirect,{to:Vt})))};var vd=a(140),Td=a(981),Cd=a.n(Td);const Id=hr.a.workplaceSearchGettingStarted,Nd=()=>Object(aa.jsx)(vd.b,{productName:h.B.NAME,productEuiIcon:"logoWorkplaceSearch"},Object(aa.jsx)(O.j,{trail:[vd.a]}),Object(aa.jsx)(y.c,{action:"viewed",metric:"setup_guide"}),Object(aa.jsx)("img",{className:"setupGuide__thumbnail",src:Cd.a,alt:k.i18n.translate("xpack.enterpriseSearch.workplaceSearch.setupGuide.imageAlt",{defaultMessage:"Getting started with Workplace Search - a guide to show you how to get Workplace Search up and running"}),width:"1280",height:"720"}),Object(aa.jsx)(ua.EuiTitle,{size:"s"},Object(aa.jsx)("p",null,Object(aa.jsx)(qr.FormattedMessage,{id:"xpack.enterpriseSearch.workplaceSearch.setupGuide.description",defaultMessage:"Unify your content platforms, such as Google Drive and Salesforce, into a personalized search experience."}))),Object(aa.jsx)(ua.EuiSpacer,{size:"l"}),Object(aa.jsx)(ua.EuiButton,{target:"_blank",fill:!0,href:Id,iconType:"popout"},Object(aa.jsx)(qr.FormattedMessage,{id:"xpack.enterpriseSearch.workplaceSearch.setupGuide.button",defaultMessage:"Get started with Workplace Search"})),Object(aa.jsx)(ua.EuiSpacer,{size:"l"}),Object(aa.jsx)(ua.EuiText,null,Object(aa.jsx)("p",null,Object(aa.jsx)(qr.FormattedMessage,{id:"xpack.enterpriseSearch.workplaceSearch.setupGuide.notConfigured",defaultMessage:"Workplace Search isn't configured in Kibana. Follow the instructions on this page."})))),Ld=e=>{const{config:t}=Object(c.useValues)(u.a),{errorConnectingMessage:a}=Object(c.useValues)(l.a),{enterpriseSearchVersion:s,kibanaVersion:r}=e,o=Object(i.a)(s,r),d=!!Object(n.useRouteMatch)(jt);return t.host?o?Object(aa.jsx)(p.a,{enterpriseSearchVersion:s,kibanaVersion:r}):a&&!d?Object(aa.jsx)(Rl,null):Object(aa.jsx)(zd,e):Object(aa.jsx)(Ad,null)},Fd=({isAdmin:e,kibanaUIsEnabled:t})=>e&&!t?Object(aa.jsx)(o.c,null,Object(aa.jsx)(o.a,{exact:!0,path:"/"},Object(aa.jsx)(vp,null)),Object(aa.jsx)(o.a,null,Object(aa.jsx)(Go,null))):Object(aa.jsx)(o.c,null,Object(aa.jsx)(o.a,{exact:!0,path:"/"},Object(aa.jsx)(vp,null)),Object(aa.jsx)(o.a,{path:jt},Object(aa.jsx)(Nd,null)),Object(aa.jsx)(o.a,{path:Et},Object(aa.jsx)(Al,null)),Object(aa.jsx)(o.a,{path:gt},Object(aa.jsx)(o.c,null,Object(aa.jsx)(n.Redirect,{exact:!0,from:gt,to:Mt}),Object(aa.jsx)(o.a,{path:Mt},Object(aa.jsx)(zl,null)),Object(aa.jsx)(o.a,{path:Tt},Object(aa.jsx)(Sr,null)),Object(aa.jsx)(o.a,{path:xt},Object(aa.jsx)(qu,null)),Object(aa.jsx)(o.a,{path:bt},Object(aa.jsx)(Zp,null)),Object(aa.jsx)(o.a,null,Object(aa.jsx)(Go,{isOrganization:!1})))),Object(aa.jsx)(o.a,{path:ft},Object(aa.jsx)(zl,null)),Object(aa.jsx)(o.a,{path:mt},Object(aa.jsx)(Du,null)),Object(aa.jsx)(o.a,{path:St},Object(aa.jsx)($p,null)),Object(aa.jsx)(o.a,{path:ht},Object(aa.jsx)(Qr,null)),Object(aa.jsx)(o.a,{path:Ot},Object(aa.jsx)(cd,null)),Object(aa.jsx)(o.a,{path:Bt},Object(aa.jsx)(wd,null)),Object(aa.jsx)(o.a,null,Object(aa.jsx)(Go,null))),zd=e=>{const{hasInitialized:t,organization:{kibanaUIsEnabled:a},account:{isAdmin:r}}=Object(c.useValues)(x),{initializeAppData:o,setContext:i}=Object(c.useActions)(x),{renderHeaderActions:l,setChromeIsVisible:p}=Object(c.useValues)(u.a),d=!Object(n.useRouteMatch)(gt);return i(d),Object(s.useEffect)((()=>{p(d)}),[d]),Object(s.useEffect)((()=>{t||(o(e),l(ga))}),[t]),Object(aa.jsx)(Fd,{isAdmin:r,kibanaUIsEnabled:a})},Ad=()=>Object(aa.jsx)(o.c,null,Object(aa.jsx)(o.a,{exact:!0,path:jt},Object(aa.jsx)(Nd,null)),Object(aa.jsx)(o.a,null,Object(aa.jsx)(n.Redirect,{to:jt})))}}]);