/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */!function(e){function t(t){for(var r,i,o=t[0],a=t[1],s=0,c=[];s<o.length;s++)i=o[s],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&c.push(n[i][0]),n[i]=0;for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r]);for(u&&u(t);c.length;)c.shift()()}var r={},n={6:0};function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],r=n[e];if(0!==r)if(r)t.push(r[2]);else{var o=new Promise((function(t,i){r=n[e]=[t,i]}));t.push(r[2]=o);var a,s=document.createElement("script");s.charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.src=function(e){return i.p+"infra.chunk."+e+".js"}(e);var u=new Error;a=function(t){s.onerror=s.onload=null,clearTimeout(c);var r=n[e];if(0!==r){if(r){var i=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+i+": "+o+")",u.name="ChunkLoadError",u.type=i,u.request=o,r[1](u)}n[e]=void 0}};var c=setTimeout((function(){a({type:"timeout",target:s})}),12e4);s.onerror=s.onload=a,document.head.appendChild(s)}return Promise.all(t)},i.m=e,i.c=r,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i.oe=function(e){throw console.error(e),e};var o=window.infra_bundle_jsonpfunction=window.infra_bundle_jsonpfunction||[],a=o.push.bind(o);o.push=t,o=o.slice();for(var s=0;s<o.length;s++)t(o[s]);var u=a;i(i.s=68)}([function(e,t){e.exports=__kbnSharedDeps__.IoTs},function(e,t){e.exports=__kbnSharedDeps__.KbnI18n},function(e,t){e.exports=__kbnSharedDeps__.React},function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return o})),r.d(t,"d",(function(){return a.a})),r.d(t,"c",(function(){return u}));var n=r(0);const i=n.intersection([n.type({statusCode:n.literal(400),error:n.literal("Bad Request"),message:n.string}),n.partial({attributes:n.unknown})]),o=n.intersection([n.type({statusCode:n.literal(403),error:n.literal("Forbidden"),message:n.string}),n.partial({attributes:n.unknown})]);n.intersection([n.type({statusCode:n.literal(409),error:n.literal("Conflict"),message:n.string}),n.partial({attributes:n.unknown})]),r(36),n.type({avg:n.union([n.number,n.null]),count:n.number,max:n.union([n.number,n.null]),min:n.union([n.number,n.null]),sum:n.number});var a=r(59);r(34);const s=n.type({duration:n.number,id:n.string,name:n.string,start:n.number}),u=n.type({spans:n.array(s)})},function(e,t,r){e.exports=r(66)(2)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.apS=t.apSW=t.bind=t.bindW=t.bindTo=t.exists=t.elem=t.toError=t.either=t.getValidationMonoid=t.MonadThrow=t.ChainRec=t.Extend=t.Alt=t.Bifunctor=t.Traversable=t.Foldable=t.Monad=t.Applicative=t.Functor=t.getValidationSemigroup=t.getValidation=t.getAltValidation=t.getApplicativeValidation=t.getWitherable=t.getFilterable=t.getApplyMonoid=t.getApplySemigroup=t.getSemigroup=t.getEq=t.getShow=t.URI=t.throwError=t.sequence=t.traverse=t.reduceRight=t.foldMap=t.reduce=t.duplicate=t.extend=t.alt=t.flatten=t.chainFirst=t.chainFirstW=t.chain=t.chainW=t.of=t.apSecond=t.apFirst=t.ap=t.apW=t.mapLeft=t.bimap=t.map=t.filterOrElse=t.orElse=t.swap=t.getOrElse=t.getOrElseW=t.fold=t.fromPredicate=t.fromOption=t.stringifyJSON=t.parseJSON=t.tryCatch=t.fromNullable=t.right=t.left=t.isRight=t.isLeft=void 0;var n=r(74),i=r(25);function o(e,r){try{return t.right(e())}catch(e){return t.left(r(e))}}t.isLeft=function(e){return"Left"===e._tag},t.isRight=function(e){return"Right"===e._tag},t.left=function(e){return{_tag:"Left",left:e}},t.right=function(e){return{_tag:"Right",right:e}},t.fromNullable=function(e){return function(r){return null==r?t.left(e):t.right(r)}},t.tryCatch=o,t.parseJSON=function(e,t){return o((function(){return JSON.parse(e)}),t)},t.stringifyJSON=function(e,t){return o((function(){return JSON.stringify(e)}),t)},t.fromOption=function(e){return function(r){return"None"===r._tag?t.left(e()):t.right(r.value)}},t.fromPredicate=function(e,r){return function(n){return e(n)?t.right(n):t.left(r(n))}},t.fold=function(e,r){return function(n){return t.isLeft(n)?e(n.left):r(n.right)}},t.getOrElseW=function(e){return function(r){return t.isLeft(r)?e(r.left):r.right}},t.getOrElse=t.getOrElseW,t.swap=function(e){return t.isLeft(e)?t.right(e.left):t.left(e.right)},t.orElse=function(e){return function(r){return t.isLeft(r)?e(r.left):r}},t.filterOrElse=function(e,r){return t.chain((function(n){return e(n)?t.right(n):t.left(r(n))}))};var a=function(e,r){return i.pipe(e,t.map(r))},s=function(e,r){return i.pipe(e,t.ap(r))},u=function(e,r){return i.pipe(e,t.chain(r))},c=function(e,r,n){return i.pipe(e,t.reduce(r,n))},l=function(e){return function(r,n){var o=t.foldMap(e);return i.pipe(r,o(n))}},d=function(e,r,n){return i.pipe(e,t.reduceRight(r,n))},p=function(e){var r=t.traverse(e);return function(e,t){return i.pipe(e,r(t))}},f=function(e,r,n){return i.pipe(e,t.bimap(r,n))},g=function(e,r){return i.pipe(e,t.mapLeft(r))},m=function(e,r){return i.pipe(e,t.alt(r))},h=function(e,r){return i.pipe(e,t.extend(r))},y=function(e,r){return n.tailRec(r(e),(function(e){return t.isLeft(e)?t.right(t.left(e.left)):t.isLeft(e.right)?t.left(r(e.right.left)):t.right(t.right(e.right.right))}))};function b(e){return{concat:function(r,n){return t.isLeft(r)?r:t.isLeft(n)?n:t.right(e.concat(r.right,n.right))}}}function v(e){var r=t.left(e.empty);return{URI:t.URI,_E:void 0,map:a,compact:function(e){return t.isLeft(e)?e:"None"===e.right._tag?r:t.right(e.right.value)},separate:function(e){return t.isLeft(e)?{left:e,right:e}:t.isLeft(e.right)?{left:t.right(e.right.left),right:r}:{left:r,right:t.right(e.right.right)}},filter:function(e,n){return t.isLeft(e)||n(e.right)?e:r},filterMap:function(e,n){if(t.isLeft(e))return e;var i=n(e.right);return"None"===i._tag?r:t.right(i.value)},partition:function(e,n){return t.isLeft(e)?{left:e,right:e}:n(e.right)?{left:r,right:t.right(e.right)}:{left:t.right(e.right),right:r}},partitionMap:function(e,n){if(t.isLeft(e))return{left:e,right:e};var i=n(e.right);return t.isLeft(i)?{left:t.right(i.left),right:r}:{left:r,right:t.right(i.right)}}}}function _(e){return{URI:t.URI,_E:void 0,map:a,ap:function(r,n){return t.isLeft(r)?t.isLeft(n)?t.left(e.concat(r.left,n.left)):r:t.isLeft(n)?n:t.right(r.right(n.right))},of:t.of}}function w(e){return{URI:t.URI,_E:void 0,map:a,alt:function(r,n){if(t.isRight(r))return r;var i=n();return t.isLeft(i)?t.left(e.concat(r.left,i.left)):i}}}function E(e,r){return{concat:function(n,i){return t.isLeft(n)?t.isLeft(i)?t.left(e.concat(n.left,i.left)):n:t.isLeft(i)?i:t.right(r.concat(n.right,i.right))}}}t.map=function(e){return function(r){return t.isLeft(r)?r:t.right(e(r.right))}},t.bimap=function(e,r){return function(n){return t.isLeft(n)?t.left(e(n.left)):t.right(r(n.right))}},t.mapLeft=function(e){return function(r){return t.isLeft(r)?t.left(e(r.left)):r}},t.apW=function(e){return function(r){return t.isLeft(r)?r:t.isLeft(e)?e:t.right(r.right(e.right))}},t.ap=t.apW,t.apFirst=function(e){return i.flow(t.map((function(e){return function(){return e}})),t.ap(e))},t.apSecond=function(e){return i.flow(t.map((function(){return function(e){return e}})),t.ap(e))},t.of=t.right,t.chainW=function(e){return function(r){return t.isLeft(r)?r:e(r.right)}},t.chain=t.chainW,t.chainFirstW=function(e){return function(r){return i.pipe(r,t.chainW((function(r){return i.pipe(e(r),t.map((function(){return r})))})))}},t.chainFirst=t.chainFirstW,t.flatten=t.chain(i.identity),t.alt=function(e){return function(r){return t.isLeft(r)?e():r}},t.extend=function(e){return function(r){return t.isLeft(r)?r:t.right(e(r))}},t.duplicate=t.extend(i.identity),t.reduce=function(e,r){return function(n){return t.isLeft(n)?e:r(e,n.right)}},t.foldMap=function(e){return function(r){return function(n){return t.isLeft(n)?e.empty:r(n.right)}}},t.reduceRight=function(e,r){return function(n){return t.isLeft(n)?e:r(n.right,e)}},t.traverse=function(e){return function(r){return function(n){return t.isLeft(n)?e.of(t.left(n.left)):e.map(r(n.right),t.right)}}},t.sequence=function(e){return function(r){return t.isLeft(r)?e.of(t.left(r.left)):e.map(r.right,t.right)}},t.throwError=t.left,t.URI="Either",t.getShow=function(e,r){return{show:function(n){return t.isLeft(n)?"left("+e.show(n.left)+")":"right("+r.show(n.right)+")"}}},t.getEq=function(e,r){return{equals:function(n,i){return n===i||(t.isLeft(n)?t.isLeft(i)&&e.equals(n.left,i.left):t.isRight(i)&&r.equals(n.right,i.right))}}},t.getSemigroup=function(e){return{concat:function(r,n){return t.isLeft(n)?r:t.isLeft(r)?n:t.right(e.concat(r.right,n.right))}}},t.getApplySemigroup=b,t.getApplyMonoid=function(e){return{concat:b(e).concat,empty:t.right(e.empty)}},t.getFilterable=v,t.getWitherable=function(e){var r=v(e);return{URI:t.URI,_E:void 0,map:a,compact:r.compact,separate:r.separate,filter:r.filter,filterMap:r.filterMap,partition:r.partition,partitionMap:r.partitionMap,traverse:p,sequence:t.sequence,reduce:c,foldMap:l,reduceRight:d,wither:function(e){var t=p(e);return function(n,i){return e.map(t(n,i),r.compact)}},wilt:function(e){var t=p(e);return function(n,i){return e.map(t(n,i),r.separate)}}}},t.getApplicativeValidation=_,t.getAltValidation=w,t.getValidation=function(e){var r=_(e),n=w(e);return{URI:t.URI,_E:void 0,map:a,of:t.of,chain:u,bimap:f,mapLeft:g,reduce:c,foldMap:l,reduceRight:d,extend:h,traverse:p,sequence:t.sequence,chainRec:y,throwError:t.throwError,ap:r.ap,alt:n.alt}},t.getValidationSemigroup=E,t.Functor={URI:t.URI,map:a},t.Applicative={URI:t.URI,map:a,ap:s,of:t.of},t.Monad={URI:t.URI,map:a,ap:s,of:t.of,chain:u},t.Foldable={URI:t.URI,reduce:c,foldMap:l,reduceRight:d},t.Traversable={URI:t.URI,map:a,reduce:c,foldMap:l,reduceRight:d,traverse:p,sequence:t.sequence},t.Bifunctor={URI:t.URI,bimap:f,mapLeft:g},t.Alt={URI:t.URI,map:a,alt:m},t.Extend={URI:t.URI,map:a,extend:h},t.ChainRec={URI:t.URI,map:a,ap:s,chain:u,chainRec:y},t.MonadThrow={URI:t.URI,map:a,ap:s,of:t.of,chain:u,throwError:t.throwError},t.getValidationMonoid=function(e,r){return{concat:E(e,r).concat,empty:t.right(r.empty)}},t.either={URI:t.URI,map:a,of:t.of,ap:s,chain:u,reduce:c,foldMap:l,reduceRight:d,traverse:p,sequence:t.sequence,bimap:f,mapLeft:g,alt:m,extend:h,chainRec:y,throwError:t.throwError},t.toError=function(e){return e instanceof Error?e:new Error(String(e))},t.elem=function(e){return function(r,n){return!t.isLeft(n)&&e.equals(r,n.right)}},t.exists=function(e){return function(r){return!t.isLeft(r)&&e(r.right)}},t.bindTo=function(e){return t.map(i.bindTo_(e))},t.bindW=function(e,r){return t.chainW((function(n){return i.pipe(r(n),t.map((function(t){return i.bind_(n,e,t)})))}))},t.bind=t.bindW,t.apSW=function(e,r){return i.flow(t.map((function(t){return function(r){return i.bind_(t,e,r)}})),t.apW(r))},t.apS=t.apSW},function(e,t,r){r.r(t);var n=__kbnBundles__.get("plugin/logsShared/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t,r){"use strict";var n=r(49);r.d(t,"l",(function(){return n.a})),r.d(t,"n",(function(){return n.b})),r.d(t,"p",(function(){return n.c})),r.d(t,"K",(function(){return n.d}));var i=r(52);r.d(t,"a",(function(){return i.a})),r.d(t,"s",(function(){return i.b})),r.d(t,"t",(function(){return i.c})),r.d(t,"u",(function(){return i.d}));var o=r(48);r.d(t,"c",(function(){return o.a})),r.d(t,"d",(function(){return o.b})),r.d(t,"e",(function(){return o.c})),r.d(t,"f",(function(){return o.d})),r.d(t,"g",(function(){return o.e})),r.d(t,"h",(function(){return o.f})),r.d(t,"i",(function(){return o.g})),r.d(t,"q",(function(){return o.h})),r.d(t,"r",(function(){return o.i})),r.d(t,"x",(function(){return o.j})),r.d(t,"y",(function(){return o.k})),r.d(t,"z",(function(){return o.l})),r.d(t,"A",(function(){return o.m})),r.d(t,"B",(function(){return o.n})),r.d(t,"C",(function(){return o.o})),r.d(t,"D",(function(){return o.p})),r.d(t,"E",(function(){return o.q})),r.d(t,"F",(function(){return o.r})),r.d(t,"G",(function(){return o.s})),r.d(t,"H",(function(){return o.t})),r.d(t,"I",(function(){return o.u}));var a=r(51);r.d(t,"j",(function(){return a.a})),r.d(t,"k",(function(){return a.b})),r.d(t,"M",(function(){return a.c})),r.d(t,"N",(function(){return a.d})),r.d(t,"O",(function(){return a.e})),r.d(t,"P",(function(){return a.f})),r.d(t,"Q",(function(){return a.g}));var s=r(50);r.d(t,"m",(function(){return s.a})),r.d(t,"o",(function(){return s.b})),r.d(t,"J",(function(){return s.c})),r.d(t,"L",(function(){return s.d}));var u=r(15);r.d(t,"b",(function(){return u.a})),r.d(t,"v",(function(){return u.b})),r.d(t,"w",(function(){return u.c}))},function(e,t){e.exports=__kbnSharedDeps__.Lodash},function(e,t,r){"use strict";r.d(t,"b",(function(){return FetchMetricsExplorerViewError})),r.d(t,"e",(function(){return UpsertMetricsExplorerViewError})),r.d(t,"a",(function(){return DeleteMetricsExplorerViewError})),r.d(t,"c",(function(){return o.a})),r.d(t,"d",(function(){return o.b})),r.d(t,"f",(function(){return o.c})),r.d(t,"h",(function(){return o.e})),r.d(t,"g",(function(){return o.d})),r.d(t,"i",(function(){return o.f})),r.d(t,"j",(function(){return o.g})),r.d(t,"k",(function(){return o.h}));var n=r(1),i=r(26),o=r(30);n.i18n.translate("xpack.infra.savedView.defaultViewNameHosts",{defaultMessage:"Default view"}),i.a.color0,i.a.color1,i.a.color2,o.a.line,o.b.fromZero;class FetchMetricsExplorerViewError extends Error{constructor(e,t){super(e),this.cause=t,Object.setPrototypeOf(this,new.target.prototype),this.name="FetchMetricsExplorerViewError"}}class UpsertMetricsExplorerViewError extends Error{constructor(e,t){super(e),this.cause=t,Object.setPrototypeOf(this,new.target.prototype),this.name="UpsertMetricsExplorerViewError"}}class DeleteMetricsExplorerViewError extends Error{constructor(e,t){super(e),this.cause=t,Object.setPrototypeOf(this,new.target.prototype),this.name="DeleteMetricsExplorerViewError"}}},function(e,t,r){"use strict";r.d(t,"b",(function(){return FetchInventoryViewError})),r.d(t,"c",(function(){return UpsertInventoryViewError})),r.d(t,"a",(function(){return DeleteInventoryViewError})),r.d(t,"d",(function(){return p})),r.d(t,"e",(function(){return f})),r.d(t,"f",(function(){return h})),r.d(t,"g",(function(){return b})),r.d(t,"h",(function(){return v})),r(1).i18n.translate("xpack.infra.savedView.defaultViewNameHosts",{defaultMessage:"Default view"});class FetchInventoryViewError extends Error{constructor(e,t){super(e),this.cause=t,Object.setPrototypeOf(this,new.target.prototype),this.name="FetchInventoryViewError"}}class UpsertInventoryViewError extends Error{constructor(e,t){super(e),this.cause=t,Object.setPrototypeOf(this,new.target.prototype),this.name="UpsertInventoryViewError"}}class DeleteInventoryViewError extends Error{constructor(e,t){super(e),this.cause=t,Object.setPrototypeOf(this,new.target.prototype),this.name="DeleteInventoryViewError"}}var n=r(13),i=r(0),o=r(20),a=r(33);const s=i.keyof({status:null,temperature:null,cool:null,warm:null,positive:null,negative:null}),u=i.type({palette:s,steps:Object(n.d)(2,18),reverseColors:i.boolean}),c=i.type({by:i.keyof({name:null,value:null}),direction:i.keyof({asc:null,desc:null})}),l=i.keyof({table:null,map:null}),d=i.type({min:Object(n.d)(0,1),max:Object(n.d)(0,1)}),p=i.type({kind:i.literal("kuery"),expression:i.string}),f=i.intersection([i.type({accountId:i.string,autoBounds:i.boolean,boundsOverride:d,customMetrics:i.array(a.d),customOptions:i.array(i.type({text:i.string,field:i.string})),groupBy:a.e,metric:a.f,nodeType:o.ItemTypeRT,region:i.string,sort:c,view:l}),i.partial({legend:u,source:i.string,timelineOpen:i.boolean})]),g=i.type({name:n.f}),m=i.partial({isDefault:i.boolean,isStatic:i.boolean}),h=i.intersection([f,g,m,i.type({autoReload:i.boolean,filterQuery:p}),i.partial({time:i.number})]),y=i.exact(i.intersection([g,m])),b=i.exact(i.intersection([i.type({id:i.string,attributes:h}),i.partial({updatedAt:n.e,version:i.string})])),v=i.exact(i.intersection([i.type({id:i.string,attributes:y}),i.partial({updatedAt:n.e,version:i.string})]))},function(e,t,r){"use strict";r.d(t,"p",(function(){return n})),r.d(t,"o",(function(){return o})),r.d(t,"a",(function(){return s})),r.d(t,"m",(function(){return u})),r.d(t,"h",(function(){return c})),r.d(t,"j",(function(){return l})),r.d(t,"B",(function(){return f})),r.d(t,"C",(function(){return h})),r.d(t,"z",(function(){return y})),r.d(t,"y",(function(){return b})),r.d(t,"A",(function(){return v})),r.d(t,"u",(function(){return _})),r.d(t,"v",(function(){return w})),r.d(t,"t",(function(){return E})),r.d(t,"w",(function(){return k})),r.d(t,"e",(function(){return S})),r.d(t,"c",(function(){return R.a})),r.d(t,"d",(function(){return R.b})),r.d(t,"D",(function(){return R.i})),r.d(t,"l",(function(){return R.g})),r.d(t,"k",(function(){return R.f})),r.d(t,"i",(function(){return R.e})),r.d(t,"q",(function(){return R.h})),r.d(t,"f",(function(){return R.c})),r.d(t,"g",(function(){return R.d})),r.d(t,"s",(function(){return A})),r.d(t,"r",(function(){return L})),r.d(t,"n",(function(){return F})),r.d(t,"b",(function(){return $})),r.d(t,"x",(function(){return V}));const n=e=>["started","starting","finished","stopped","failed"].includes(e),i=["kibana_sample_data_logs*"],o=e=>i.includes(e);var a=r(0);const s={critical:"rgb(228, 72, 72)",major:"rgb(229, 113, 0)",minor:"rgb(255, 221, 0)",warning:"rgb(125, 180, 226)"},u=e=>e>=75?"critical":e>=50?"major":e>=25?"minor":e>=3?"warning":void 0,c=e=>Math.round(10*e)/10,l=e=>""!==e?e:"unknown",d=a.keyof({asc:null,desc:null}),p=e=>a.type({field:e,direction:d}),f=a.tuple([a.union([a.string,a.number]),a.union([a.string,a.number])]),g=a.type({searchBefore:f}),m=a.type({searchAfter:f}),h=a.intersection([a.type({pageSize:a.number}),a.partial({cursor:a.union([g,m])})]),y=a.literal("log-entry-rate"),b="log-entry-rate",v=[b],_=a.literal("log-entry-categories-count"),w=["log-entry-categories-count"],E="log-entry-categories-count",x=a.type({name:a.string,maximumAnomalyScore:a.number}),O=a.type({startTime:a.number,bucketDuration:a.number,logEntryCount:a.number}),T=a.type({histogramId:a.string,buckets:a.array(O)}),k=a.type({categoryId:a.number,datasets:a.array(x),histograms:a.array(T),logEntryCount:a.number,maximumAnomalyScore:a.number,regularExpression:a.string}),S=p(a.keyof({maximumAnomalyScore:null,logEntryCount:null}));var R=r(58);const M=a.keyof({logRate:null,logCategory:null}),I=a.type({id:a.string,anomalyScore:a.number,dataset:a.string,typical:a.number,actual:a.number,type:M,duration:a.number,startTime:a.number,jobId:a.string}),j=I,D=a.intersection([I,a.type({categoryId:a.string,categoryRegex:a.string,categoryTerms:a.string})]),A=a.union([j,D]),L=a.array(a.string),F=e=>"logCategory"===e.type,$=p(a.keyof({anomalyScore:null,dataset:null,startTime:null})),V=a.type({id:a.string,dataset:a.string,message:a.string,timestamp:a.number,tiebreaker:a.number})},function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return l})),r.d(t,"d",(function(){return d})),r.d(t,"e",(function(){return p})),r.d(t,"i",(function(){return f})),r.d(t,"j",(function(){return g})),r.d(t,"p",(function(){return m})),r.d(t,"n",(function(){return h})),r.d(t,"o",(function(){return y})),r.d(t,"q",(function(){return b})),r.d(t,"t",(function(){return k})),r.d(t,"u",(function(){return S})),r.d(t,"z",(function(){return R})),r.d(t,"D",(function(){return M})),r.d(t,"F",(function(){return I})),r.d(t,"G",(function(){return j})),r.d(t,"I",(function(){return D})),r.d(t,"L",(function(){return A})),r.d(t,"O",(function(){return L})),r.d(t,"R",(function(){return $})),r.d(t,"U",(function(){return v})),r.d(t,"V",(function(){return _})),r.d(t,"fb",(function(){return w})),r.d(t,"gb",(function(){return F})),r.d(t,"hb",(function(){return E})),r.d(t,"ib",(function(){return T})),r.d(t,"kb",(function(){return x})),r.d(t,"mb",(function(){return O})),r.d(t,"tb",(function(){return s})),r.d(t,"vb",(function(){return n})),r.d(t,"wb",(function(){return u})),r.d(t,"r",(function(){return U})),r.d(t,"s",(function(){return q})),r.d(t,"v",(function(){return B})),r.d(t,"w",(function(){return H})),r.d(t,"x",(function(){return W})),r.d(t,"y",(function(){return Q})),r.d(t,"A",(function(){return z})),r.d(t,"B",(function(){return K})),r.d(t,"C",(function(){return G})),r.d(t,"E",(function(){return J})),r.d(t,"H",(function(){return Y})),r.d(t,"J",(function(){return Z})),r.d(t,"K",(function(){return X})),r.d(t,"M",(function(){return ee})),r.d(t,"N",(function(){return te})),r.d(t,"P",(function(){return re})),r.d(t,"Q",(function(){return ne})),r.d(t,"S",(function(){return ie})),r.d(t,"T",(function(){return oe})),r.d(t,"Z",(function(){return pe})),r.d(t,"ab",(function(){return de})),r.d(t,"bb",(function(){return ue})),r.d(t,"cb",(function(){return le})),r.d(t,"db",(function(){return ce})),r.d(t,"eb",(function(){return fe})),r.d(t,"jb",(function(){return ge})),r.d(t,"nb",(function(){return me})),r.d(t,"lb",(function(){return he})),r.d(t,"pb",(function(){return V})),r.d(t,"qb",(function(){return P})),r.d(t,"rb",(function(){return C})),r.d(t,"ub",(function(){return N})),r.d(t,"f",(function(){return ye})),r.d(t,"g",(function(){return be})),r.d(t,"c",(function(){return ve})),r.d(t,"h",(function(){return _e})),r.d(t,"k",(function(){return we})),r.d(t,"l",(function(){return Ee})),r.d(t,"m",(function(){return xe})),r.d(t,"ob",(function(){return Oe})),r.d(t,"W",(function(){return Te})),r.d(t,"X",(function(){return ke})),r.d(t,"Y",(function(){return Se})),r.d(t,"sb",(function(){return Re}));const n="@timestamp",i="kibana",o=`${i}.alert`,a=`${o}.rule`,s=`${i}.space_ids`,u=`${i}.version`,c=`${o}.action_group`,l=`${o}.case_ids`,d=`${o}.duration.us`,p=`${o}.end`,f=`${o}.flapping`,g=`${o}.flapping_history`,m=`${o}.maintenance_window_ids`,h=`${o}.instance.id`,y=`${o}.last_detected`,b=`${o}.reason`,v=`${o}.start`,_=`${o}.status`,w=`${o}.time_range`,E=`${o}.uuid`,x=`${o}.workflow_status`,O=`${o}.workflow_tags`,T=`${o}.workflow_assignee_ids`,k=`${a}.category`,S=`${a}.consumer`,R=`${a}.execution.uuid`,M=`${a}.name`,I=`${a}.parameters`,j=`${a}.producer`,D=`${a}.revision`,A=`${a}.tags`,L=`${a}.rule_type_id`,F=`${o}.url`,$=`${a}.uuid`,V="ecs.version",P="event.action",C="event.kind",N="tags",U=`${o}.risk_score`,q=`${a}.author`,B=`${a}.created_at`,H=`${a}.created_by`,W=`${a}.description`,Q=`${a}.enabled`,z=`${a}.from`,K=`${a}.interval`,G=`${a}.license`,J=`${a}.note`,Y=`${a}.references`,Z=`${a}.rule_id`,X=`${a}.rule_name_override`,ee=`${a}.to`,te=`${a}.type`,re=`${a}.updated_at`,ne=`${a}.updated_by`,ie=`${a}.version`,oe=`${o}.severity`,ae=`${o}.suppression`,se=`${ae}.terms`,ue=`${se}.field`,ce=`${se}.value`,le=`${ae}.start`,de=`${ae}.end`,pe=`${ae}.docs_count`,fe=`${o}.system_status`,ge=`${o}.workflow_reason`,me=`${o}.workflow_user`,he=`${o}.workflow_status_updated_at`,ye=`${o}.evaluation.threshold`,be=`${o}.evaluation.value`,ve=`${o}.context`,_e=`${o}.evaluation.values`,we=`${o}.group`,Ee=`${we}.field`,xe=`${we}.value`,Oe={APM:"apm",LOGS:"logs",INFRASTRUCTURE:"infrastructure",OBSERVABILITY:"observability",SLO:"slo",SIEM:"siem",UPTIME:"uptime",ML:"ml"},Te=(Object.values(Oe).map((e=>e)),"active"),ke="recovered",Se="untracked",Re="observability.rules.custom_threshold";let Me;!function(e){e.ErrorCount="apm.error_rate",e.TransactionErrorRate="apm.transaction_error_rate",e.TransactionDuration="apm.transaction_duration",e.Anomaly="apm.anomaly"}(Me||(Me={}))},function(e,t,r){"use strict";r.d(t,"e",(function(){return a})),r.d(t,"f",(function(){return s})),r.d(t,"b",(function(){return u})),r.d(t,"d",(function(){return l})),r.d(t,"c",(function(){return f})),r.d(t,"a",(function(){return y}));var n=r(0),i=(r(8),r(5));const o=e=>""===e;n.brand(n.string,(e=>{return!o(t=e)&&!t.includes(" ")&&!t.split(",").some(o);var t}),"IndexPattern"),new n.Type("JSON",n.any.is,((e,t)=>i.either.chain(n.string.validate(e,t),(r=>{try{return n.success(JSON.parse(r))}catch(r){return n.failure(e,t)}}))),(e=>JSON.stringify(e)));const a=new n.Type("isoToEpochRt",n.number.is,((e,t)=>i.either.chain(n.string.validate(e,t),(r=>{const i=new Date(r).getTime();return isNaN(i)?n.failure(e,t):n.success(i)}))),(e=>new Date(e).toISOString())),s=(new n.Type("ToNumber",n.number.is,((e,t)=>{const r=Number(e);return isNaN(r)?n.failure(e,t):n.success(r)}),n.identity),new n.Type("ToBoolean",n.boolean.is,(e=>{let t;return t="string"==typeof e?"true"===e:!!e,n.success(t)}),n.identity),n.brand(n.string,(e=>e.length>0),"NonEmptyString")),u=e=>n[void 0].pipe(new n.Type("BooleanFromString",n.literal(e).is,((t,r)=>n.success(e)),(()=>{})));var c=r(16);const l=(e,t)=>new n.Type("InRange",(r=>"number"==typeof r&&r>=e&&r<=t),((r,i)=>"number"==typeof r&&r>=e&&r<=t?n.success(r):n.failure(r,i)),n.identity);var d=r(32),p=r.n(d);const f=n.brand(n.string,(e=>p()(e,!0).isValid()),"Date");var g=r(18),m=r.n(g);new n.Type("datemath",n.string.is,((e,t)=>Object(c.pipe)(n.string.validate(e,t),Object(i.chain)((e=>(e=>{const t=m.a.parse(e);return!(!t||!t.isValid())})(e)?n.success(e):n.failure(e,t))))),String),r(25);const h=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3,9}Z$/,y=new n.Type("DateFromStringOrNumber",(e=>"string"==typeof e),((e,t)=>"string"==typeof e?h.test(e)?n.success(e):n.failure(e,t):Object(c.pipe)(n.number.validate(e,t),Object(i.chain)((e=>{const r=p()(e);return r.isValid()?n.success(r.toISOString()):n.failure(e,t)})))),String),b=n.type({time:y,tiebreaker:n.number});n.intersection([b,n.partial({gid:n.string,fromAutoReload:n.boolean})])},function(e,t,r){"use strict";r.d(t,"d",(function(){return s})),r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return l})),r.d(t,"c",(function(){return d})),r.d(t,"e",(function(){return f})),r.d(t,"f",(function(){return h})),r.d(t,"o",(function(){return _})),r.d(t,"n",(function(){return w})),r.d(t,"i",(function(){return E})),r.d(t,"m",(function(){return M})),r.d(t,"k",(function(){return I})),r.d(t,"l",(function(){return j})),r.d(t,"h",(function(){return D})),r.d(t,"g",(function(){return A})),r.d(t,"j",(function(){return B}));var n=r(1),i=r(0),o=r(6);const a=i.type({_shards:i.type({total:i.number,successful:i.number,skipped:i.number,failed:i.number}),timed_out:i.boolean,took:i.number}),s="logs.alert.document.count";let u;i.keyof({count:null,ratio:null}),function(e){e.GT="more than",e.GT_OR_EQ="more than or equals",e.LT="less than",e.LT_OR_EQ="less than or equals",e.EQ="equals",e.NOT_EQ="does not equal",e.MATCH="matches",e.NOT_MATCH="does not match",e.MATCH_PHRASE="matches phrase",e.NOT_MATCH_PHRASE="does not match phrase"}(u||(u={}));const c=i.keyof({[u.GT]:null,[u.GT_OR_EQ]:null,[u.LT]:null,[u.LT_OR_EQ]:null,[u.EQ]:null,[u.NOT_EQ]:null,[u.MATCH]:null,[u.NOT_MATCH]:null,[u.MATCH_PHRASE]:null,[u.NOT_MATCH_PHRASE]:null}),l={[u.GT]:n.i18n.translate("xpack.infra.logs.alerting.comparator.gt",{defaultMessage:"more than"}),[u.GT_OR_EQ]:n.i18n.translate("xpack.infra.logs.alerting.comparator.gtOrEq",{defaultMessage:"more than or equals"}),[u.LT]:n.i18n.translate("xpack.infra.logs.alerting.comparator.lt",{defaultMessage:"less than"}),[u.LT_OR_EQ]:n.i18n.translate("xpack.infra.logs.alerting.comparator.ltOrEq",{defaultMessage:"less than or equals"}),[u.EQ]:n.i18n.translate("xpack.infra.logs.alerting.comparator.eq",{defaultMessage:"is"}),[u.NOT_EQ]:n.i18n.translate("xpack.infra.logs.alerting.comparator.notEq",{defaultMessage:"is not"}),[`${u.EQ}:number`]:n.i18n.translate("xpack.infra.logs.alerting.comparator.eqNumber",{defaultMessage:"equals"}),[`${u.NOT_EQ}:number`]:n.i18n.translate("xpack.infra.logs.alerting.comparator.notEqNumber",{defaultMessage:"does not equal"}),[u.MATCH]:n.i18n.translate("xpack.infra.logs.alerting.comparator.match",{defaultMessage:"matches"}),[u.NOT_MATCH]:n.i18n.translate("xpack.infra.logs.alerting.comparator.notMatch",{defaultMessage:"does not match"}),[u.MATCH_PHRASE]:n.i18n.translate("xpack.infra.logs.alerting.comparator.matchPhrase",{defaultMessage:"matches phrase"}),[u.NOT_MATCH_PHRASE]:n.i18n.translate("xpack.infra.logs.alerting.comparator.notMatchPhrase",{defaultMessage:"does not match phrase"})},d={[u.GT]:">",[u.GT_OR_EQ]:"≥",[u.LT]:"<",[u.LT_OR_EQ]:"≤",[u.EQ]:"=",[u.NOT_EQ]:"≠",[`${u.EQ}:number`]:"=",[`${u.NOT_EQ}:number`]:"≠",[u.MATCH]:n.i18n.translate("xpack.infra.logs.alerting.comparator.symbol.match",{defaultMessage:"matches"}),[u.NOT_MATCH]:n.i18n.translate("xpack.infra.logs.alerting.comparator.symbol.notMatch",{defaultMessage:"does not match"}),[u.MATCH_PHRASE]:n.i18n.translate("xpack.infra.logs.alerting.comparator.symbol.matchPhrase",{defaultMessage:"matches phrase"}),[u.NOT_MATCH_PHRASE]:n.i18n.translate("xpack.infra.logs.alerting.comparator.symbol.notMatchPhrase",{defaultMessage:"does not match phrase"})};let p;!function(e){e[e.OK=0]="OK",e[e.ALERT=1]="ALERT",e[e.NO_DATA=2]="NO_DATA",e[e.ERROR=3]="ERROR"}(p||(p={}));const f=i.type({comparator:c,value:i.number}),g=i.type({field:i.string,comparator:c,value:i.union([i.string,i.number])}),m=i.partial(g.props),h=i.array(g),y=i.array(m),b=i.tuple([h,h]),v=i.tuple([y,y]),_=(i.union([y,v]),i.union([i.literal("s"),i.literal("m"),i.literal("h"),i.literal("d")])),w=i.number,E=i.array(i.string),x=i.type({count:f,timeUnit:_,timeSize:w,logView:o.persistedLogViewReferenceRT}),O=(i.partial(x.props),i.partial({groupBy:E})),T=i.intersection([i.type({criteria:h,...x.props}),i.partial({...O.props})]),k=i.intersection([i.type({criteria:y,...x.props}),i.partial({...O.props})]),S=i.intersection([i.type({criteria:b,...x.props}),i.partial({...O.props})]),R=i.intersection([i.type({criteria:v,...x.props}),i.partial({...O.props})]),M=i.union([T,S]),I=(i.union([k,R]),e=>!!(e.length>0&&Array.isArray(e[0]))),j=e=>I(e.criteria),D=e=>e[0],A=e=>e[1],L=i.type({key:i.number,doc_count:i.number}),F=i.type({hits:i.type({hits:i.array(i.type({fields:i.record(i.string,i.array(i.unknown))}))})}),$=i.partial({histogramBuckets:i.type({buckets:i.array(L)})}),V=i.partial({additionalContext:F}),P=i.type({total:i.type({value:i.number})}),C=i.type({key:i.record(i.string,i.string),doc_count:i.number}),N=i.partial({after_key:i.record(i.string,i.string)}),U=(i.intersection([a,i.intersection([i.type({hits:P}),i.partial({aggregations:i.intersection([$,V])})])]),i.intersection([a,i.type({aggregations:i.type({groups:i.intersection([i.type({buckets:i.array(i.type({...C.props,filtered_results:i.intersection([i.type({doc_count:i.number}),$,V])}))}),N])}),hits:P})])),q=i.intersection([a,i.type({aggregations:i.type({groups:i.intersection([i.type({buckets:i.array(i.intersection([C,$,V]))}),N])}),hits:P})]),B=(i.union([U,q]),(e,t)=>e===u.GT||"number"==typeof t&&e===u.GT_OR_EQ&&t>0)},function(e,t,r){"use strict";r.d(t,"e",(function(){return o})),r.d(t,"d",(function(){return s})),r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return c})),r.d(t,"c",(function(){return l}));var n=r(0),i=r(11);const o=n.union([n.literal("legacy"),n.literal("hashed")]),a=n.union([i.z,i.u]),s=n.record(a,o),u="/api/infra/log_analysis/id_formats",c=n.type({data:n.type({logViewId:n.string,spaceId:n.string})}),l=n.type({data:n.record(n.union([i.z,i.u]),o)})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pipeable=t.pipe=void 0;var n=r(25);t.pipe=n.pipe;t.pipeable=function(e){var t={};return function(e){return"function"==typeof e.map}(e)&&(t.map=function(t){return function(r){return e.map(r,t)}}),function(e){return"function"==typeof e.contramap}(e)&&(t.contramap=function(t){return function(r){return e.contramap(r,t)}}),function(e){return"function"==typeof e.mapWithIndex}(e)&&(t.mapWithIndex=function(t){return function(r){return e.mapWithIndex(r,t)}}),function(e){return"function"==typeof e.ap}(e)&&(t.ap=function(t){return function(r){return e.ap(r,t)}},t.apFirst=function(t){return function(r){return e.ap(e.map(r,(function(e){return function(){return e}})),t)}},t.apSecond=function(t){return function(r){return e.ap(e.map(r,(function(){return function(e){return e}})),t)}}),function(e){return"function"==typeof e.chain}(e)&&(t.chain=function(t){return function(r){return e.chain(r,t)}},t.chainFirst=function(t){return function(r){return e.chain(r,(function(r){return e.map(t(r),(function(){return r}))}))}},t.flatten=function(t){return e.chain(t,n.identity)}),function(e){return"function"==typeof e.bimap}(e)&&(t.bimap=function(t,r){return function(n){return e.bimap(n,t,r)}},t.mapLeft=function(t){return function(r){return e.mapLeft(r,t)}}),function(e){return"function"==typeof e.extend}(e)&&(t.extend=function(t){return function(r){return e.extend(r,t)}},t.duplicate=function(t){return e.extend(t,n.identity)}),function(e){return"function"==typeof e.reduce}(e)&&(t.reduce=function(t,r){return function(n){return e.reduce(n,t,r)}},t.foldMap=function(t){var r=e.foldMap(t);return function(e){return function(t){return r(t,e)}}},t.reduceRight=function(t,r){return function(n){return e.reduceRight(n,t,r)}}),function(e){return"function"==typeof e.reduceWithIndex}(e)&&(t.reduceWithIndex=function(t,r){return function(n){return e.reduceWithIndex(n,t,r)}},t.foldMapWithIndex=function(t){var r=e.foldMapWithIndex(t);return function(e){return function(t){return r(t,e)}}},t.reduceRightWithIndex=function(t,r){return function(n){return e.reduceRightWithIndex(n,t,r)}}),function(e){return"function"==typeof e.alt}(e)&&(t.alt=function(t){return function(r){return e.alt(r,t)}}),function(e){return"function"==typeof e.compact}(e)&&(t.compact=e.compact,t.separate=e.separate),function(e){return"function"==typeof e.filter}(e)&&(t.filter=function(t){return function(r){return e.filter(r,t)}},t.filterMap=function(t){return function(r){return e.filterMap(r,t)}},t.partition=function(t){return function(r){return e.partition(r,t)}},t.partitionMap=function(t){return function(r){return e.partitionMap(r,t)}}),function(e){return"function"==typeof e.filterWithIndex}(e)&&(t.filterWithIndex=function(t){return function(r){return e.filterWithIndex(r,t)}},t.filterMapWithIndex=function(t){return function(r){return e.filterMapWithIndex(r,t)}},t.partitionWithIndex=function(t){return function(r){return e.partitionWithIndex(r,t)}},t.partitionMapWithIndex=function(t){return function(r){return e.partitionMapWithIndex(r,t)}}),function(e){return"function"==typeof e.promap}(e)&&(t.promap=function(t,r){return function(n){return e.promap(n,t,r)}}),function(e){return"function"==typeof e.compose}(e)&&(t.compose=function(t){return function(r){return e.compose(r,t)}}),function(e){return"function"==typeof e.throwError}(e)&&(t.fromOption=function(t){return function(r){return"None"===r._tag?e.throwError(t()):e.of(r.value)}},t.fromEither=function(t){return"Left"===t._tag?e.throwError(t.left):e.of(t.right)},t.fromPredicate=function(t,r){return function(n){return t(n)?e.of(n):e.throwError(r(n))}},t.filterOrElse=function(t,r){return function(n){return e.chain(n,(function(n){return t(n)?e.of(n):e.throwError(r(n))}))}}),t}},function(e,t,r){"use strict";r.d(t,"e",(function(){return i})),r.d(t,"d",(function(){return o})),r.d(t,"b",(function(){return s})),r.d(t,"a",(function(){return u})),r.d(t,"f",(function(){return l})),r.d(t,"c",(function(){return d}));var n=r(0);const i="metrics.alert.threshold",o="metrics.alert.inventory.threshold";let a,s,u,c;!function(e){e.MetricThreshold="metrics.alert.threshold",e.InventoryThreshold="metrics.alert.inventory.threshold"}(a||(a={})),function(e){e.GT=">",e.LT="<",e.GT_OR_EQ=">=",e.LT_OR_EQ="<=",e.BETWEEN="between",e.OUTSIDE_RANGE="outside"}(s||(s={})),function(e){e.COUNT="count",e.AVERAGE="avg",e.SUM="sum",e.MIN="min",e.MAX="max",e.RATE="rate",e.CARDINALITY="cardinality",e.P95="p95",e.P99="p99",e.CUSTOM="custom"}(u||(u={})),function(e){e[e.OK=0]="OK",e[e.ALERT=1]="ALERT",e[e.WARNING=2]="WARNING",e[e.NO_DATA=3]="NO_DATA",e[e.ERROR=4]="ERROR"}(c||(c={})),n.union([n.literal("hosts"),n.literal("k8s")]),n.union([n.literal("memory_usage"),n.literal("network_in"),n.literal("network_out")]),n.type({fieldName:n.string,fieldValue:n.string});const l=Symbol("QUERY_INVALID"),d="/app/metrics/explorer"},function(e,t){e.exports=__kbnSharedDeps__.KbnDatemath},function(e,t,r){"use strict";r.d(t,"c",(function(){return u})),r.d(t,"a",(function(){return c})),r.d(t,"d",(function(){return l})),r.d(t,"b",(function(){return d}));var n=r(5),i=r(25),o=r(16),a=r(0);const s=([e,...t])=>{if(void 0===e)return[];if(e.type instanceof a.IntersectionType){const[,...e]=t;return s(e)}if(e.type instanceof a.UnionType){const[,...r]=t;return[e.key,...s(r)]}return[e.key,...s(t)]},u=e=>`Failed to validate: \n${e.map((e=>`  ${(e=>{var t;return null!==(t=e.message)&&void 0!==t?t:`in ${s(e.context).join("/")}: ${JSON.stringify(e.value)} does not match expected type ${(({context:e})=>{var t,r,n;return null!==(t=null===(r=e[e.length-1])||void 0===r||null===(n=r.type)||void 0===n?void 0:n.name)&&void 0!==t?t:"unknown"})(e)}`})(e)}`)).join("\n")}`,c=e=>new Error(e),l=e=>t=>{throw e(u(t))},d=(e,t=c)=>r=>Object(o.pipe)(e.decode(r),Object(n.fold)(l(t),i.identity))},function(e,t,r){r.r(t);var n=__kbnBundles__.get("plugin/metricsDataAccess/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t){e.exports=__kbnSharedDeps__.Rxjs},function(e,t,r){"use strict";r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return u})),r.d(t,"a",(function(){return c}));var n=r(2),i=r.n(n),o=r(24);const a=(e,t,r)=>Object(o.createKibanaReactContext)({...e,...t,...r}),s=o.useKibana,u=(e,t,r)=>{const{Provider:i}=Object(n.useMemo)((()=>a(e,t,r)),[e,r,t]);return i},c=(e,t)=>i.a.lazy((()=>Promise.all([t(),e.getStartServices()]).then((([{default:e},[t,r,n]])=>{const{Provider:o}=a(t,r,n);return{default:t=>i.a.createElement(o,null,i.a.createElement(e,t))}}))))},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));const n=e=>Number(e).toLocaleString("en",{maximumFractionDigits:1})},function(e,t,r){r.r(t);var n=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t,r){"use strict";function n(e){return e}function i(e){throw new Error("Called `absurd` function which should be uncallable")}Object.defineProperty(t,"__esModule",{value:!0}),t.bindTo_=t.bind_=t.hole=t.pipe=t.untupled=t.tupled=t.absurd=t.decrement=t.increment=t.tuple=t.flow=t.flip=t.constVoid=t.constUndefined=t.constNull=t.constFalse=t.constTrue=t.constant=t.not=t.unsafeCoerce=t.identity=void 0,t.identity=n,t.unsafeCoerce=n,t.not=function(e){return function(t){return!e(t)}},t.constant=function(e){return function(){return e}},t.constTrue=function(){return!0},t.constFalse=function(){return!1},t.constNull=function(){return null},t.constUndefined=function(){},t.constVoid=function(){},t.flip=function(e){return function(t,r){return e(r,t)}},t.flow=function(e,t,r,n,i,o,a,s,u){switch(arguments.length){case 1:return e;case 2:return function(){return t(e.apply(this,arguments))};case 3:return function(){return r(t(e.apply(this,arguments)))};case 4:return function(){return n(r(t(e.apply(this,arguments))))};case 5:return function(){return i(n(r(t(e.apply(this,arguments)))))};case 6:return function(){return o(i(n(r(t(e.apply(this,arguments))))))};case 7:return function(){return a(o(i(n(r(t(e.apply(this,arguments)))))))};case 8:return function(){return s(a(o(i(n(r(t(e.apply(this,arguments))))))))};case 9:return function(){return u(s(a(o(i(n(r(t(e.apply(this,arguments)))))))))}}},t.tuple=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e},t.increment=function(e){return e+1},t.decrement=function(e){return e-1},t.absurd=i,t.tupled=function(e){return function(t){return e.apply(void 0,t)}},t.untupled=function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e(t)}},t.pipe=function(e,t,r,n,i,o,a,s,u,c,l,d,p,f,g,m,h,y,b,v){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return r(t(e));case 4:return n(r(t(e)));case 5:return i(n(r(t(e))));case 6:return o(i(n(r(t(e)))));case 7:return a(o(i(n(r(t(e))))));case 8:return s(a(o(i(n(r(t(e)))))));case 9:return u(s(a(o(i(n(r(t(e))))))));case 10:return c(u(s(a(o(i(n(r(t(e)))))))));case 11:return l(c(u(s(a(o(i(n(r(t(e))))))))));case 12:return d(l(c(u(s(a(o(i(n(r(t(e)))))))))));case 13:return p(d(l(c(u(s(a(o(i(n(r(t(e))))))))))));case 14:return f(p(d(l(c(u(s(a(o(i(n(r(t(e)))))))))))));case 15:return g(f(p(d(l(c(u(s(a(o(i(n(r(t(e))))))))))))));case 16:return m(g(f(p(d(l(c(u(s(a(o(i(n(r(t(e)))))))))))))));case 17:return h(m(g(f(p(d(l(c(u(s(a(o(i(n(r(t(e))))))))))))))));case 18:return y(h(m(g(f(p(d(l(c(u(s(a(o(i(n(r(t(e)))))))))))))))));case 19:return b(y(h(m(g(f(p(d(l(c(u(s(a(o(i(n(r(t(e))))))))))))))))));case 20:return v(b(y(h(m(g(f(p(d(l(c(u(s(a(o(i(n(r(t(e)))))))))))))))))))}},t.hole=i,t.bind_=function(e,t,r){var n;return Object.assign({},e,((n={})[t]=r,n))},t.bindTo_=function(e){return function(t){var r;return(r={})[e]=t,r}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return s})),r(8);var n=r(40);let i;!function(e){e.color0="color0",e.color1="color1",e.color2="color2",e.color3="color3",e.color4="color4",e.color5="color5",e.color6="color6",e.color7="color7",e.color8="color8",e.color9="color9"}(i||(i={}));const o=Object(n.euiPaletteColorBlind)(),a={[i.color0]:o[1],[i.color1]:o[2],[i.color2]:o[0],[i.color3]:o[3],[i.color4]:o[4],[i.color5]:o[5],[i.color6]:o[6],[i.color7]:o[7],[i.color8]:o[8],[i.color9]:o[9]},s=(u=a,e=>u[e]);var u},function(e,t){e.exports=__kbnSharedDeps__.KbnRison},function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return a})),r.d(t,"d",(function(){return u})),r.d(t,"e",(function(){return g})),r.d(t,"c",(function(){return b})),r.d(t,"f",(function(){return T}));var n=r(0),i=r(8);const o=["avg","max","min","cardinality","rate","count","sum","p95","p99","custom"],a=["custom","rate","p95","p99"],s=o.reduce(((e,t)=>({...e,[t]:null})),{}),u=n.keyof(s),c=Object(i.xor)(o,a).reduce(((e,t)=>({...e,[t]:null})),{}),l=n.keyof(c),d=n.type({aggregation:u}),p=n.intersection([n.type({name:n.string,aggregation:l}),n.partial({field:n.string,filter:n.string})]),f=n.partial({field:n.union([n.string,n[void 0]]),custom_metrics:n.array(p),equation:n.string}),g=n.intersection([d,f]),m=n.intersection([n.type({from:n.number,to:n.number,interval:n.string}),n.partial({timeFieldName:n.string})]),h=n.type({timerange:m,indexPattern:n.string,metrics:n.array(g)}),y=n.union([n.string,n.null,n[void 0]]),b=n.record(n.string,n.union([n.string,n.null])),v=n.partial({groupBy:n.union([y,n.array(y)]),afterKey:n.union([n.string,n.null,n[void 0],b]),limit:n.union([n.number,n.null,n[void 0]]),filterQuery:n.union([n.string,n.null,n[void 0]]),forceInterval:n.boolean,dropLastBucket:n.boolean}),_=(n.intersection([h,v]),n.type({total:n.number,afterKey:n.union([n.string,n.null,b])})),w=n.keyof({date:null,number:null,string:null}),E=n.type({name:n.string,type:w}),x=n.intersection([n.type({timestamp:n.number}),n.record(n.string,n.union([n.string,n.number,n.null,n[void 0],n.array(n.object)]))]),O=n.intersection([n.type({id:n.string,columns:n.array(E),rows:n.array(x)}),n.partial({keys:n.array(n.string)})]),T=n.type({series:n.array(O),pageInfo:_})},function(e,t,r){r.r(t);var n=__kbnBundles__.get("entry/core/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return u})),r.d(t,"c",(function(){return c})),r.d(t,"e",(function(){return l})),r.d(t,"d",(function(){return g})),r.d(t,"f",(function(){return b})),r.d(t,"g",(function(){return _})),r.d(t,"h",(function(){return w}));var n=r(13),i=r(0),o=r(26),a=r(28);let s,u;i.type({by:i.keyof({name:null,value:null}),direction:i.keyof({asc:null,desc:null})}),function(e){e.line="line",e.area="area",e.bar="bar"}(s||(s={})),function(e){e.fromZero="fromZero",e.auto="auto"}(u||(u={}));const c=i.type({yAxisMode:i.keyof(Object.fromEntries(Object.values(u).map((e=>[e,null])))),type:i.keyof(Object.fromEntries(Object.values(s).map((e=>[e,null])))),stack:i.boolean}),l=i.type({from:i.string,to:i.string,interval:i.string}),d=i.intersection([a.e,i.partial({rate:i.boolean,color:i.keyof(Object.fromEntries(Object.values(o.a).map((e=>[e,null])))),label:i.string})]),p=i.type({aggregation:a.d,metrics:i.array(d)}),f=i.partial({limit:i.number,groupBy:i.union([i.string,i.array(i.string)]),filterQuery:i.string,source:i.string,forceInterval:i.boolean,dropLastBucket:i.boolean}),g=i.intersection([p,f]),m=i.type({chartOptions:c,currentTimerange:l,options:g}),h=i.type({name:n.f}),y=i.partial({isDefault:i.boolean,isStatic:i.boolean}),b=i.intersection([m,h,y]),v=i.exact(i.intersection([h,y])),_=i.exact(i.intersection([i.type({id:i.string,attributes:b}),i.partial({updatedAt:n.e,version:i.string})])),w=i.exact(i.intersection([i.type({id:i.string,attributes:v}),i.partial({updatedAt:n.e,version:i.string})]))},function(e,t,r){r.r(t);var n=__kbnBundles__.get("plugin/kibanaReact/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t){e.exports=__kbnSharedDeps__.Moment},function(e,t,r){"use strict";r.d(t,"g",(function(){return p})),r.d(t,"a",(function(){return f})),r.d(t,"e",(function(){return g})),r.d(t,"b",(function(){return h})),r.d(t,"c",(function(){return b})),r.d(t,"d",(function(){return v})),r.d(t,"f",(function(){return _}));var n=r(13),i=r(0),o=r(20),a=r(44);const s=i.intersection([i.type({value:i.string,label:i.string}),i.partial({ip:i.union([i.string,i.null]),os:i.union([i.string,i.null]),cloudProvider:i.union([i.string,i.null])})]),u=i.partial({value:i.union([i.number,i.null]),avg:i.union([i.number,i.null]),max:i.union([i.number,i.null]),timeseries:a.a}),c=i.type({name:i.union([o.SnapshotMetricTypeRT,i.string])}),l=i.intersection([c,u]),d=i.type({metrics:i.array(l),path:i.array(s),name:i.string}),p=i.intersection([i.type({nodes:i.array(d)}),i.partial({interval:i.string})]),f=i.intersection([i.type({interval:i.string,to:i.number,from:i.number}),i.partial({lookbackSize:i.number,ignoreLookback:i.boolean,forceInterval:i.boolean})]),g=i.array(i.partial({label:i.union([i.string,i.null]),field:i.union([i.string,i.null])})),m=i.type({type:o.SnapshotMetricTypeRT}),h=["avg","max","min","rate"],y=h.reduce(((e,t)=>({...e,[t]:null})),{}),b=i.keyof(y),v=i.intersection([i.type({type:i.literal("custom"),field:i.string,aggregation:b,id:i.string}),i.partial({label:i.string})]),_=i.union([m,v]);i.intersection([i.type({timerange:f,metrics:i.array(_),groupBy:i.union([g,i.null]),nodeType:o.ItemTypeRT,sourceId:i.string,includeTimeseries:i.union([i.boolean,Object(n.b)(!0)])}),i.partial({accountId:i.string,region:i.string,filterQuery:i.union([i.string,i.null]),overrideCompositeSize:i.number,dropPartialBuckets:i.boolean})])},function(e,t){e.exports=__kbnSharedDeps__.Uuid},function(e,t){e.exports=__kbnSharedDeps__.ReactDom},function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(0);const i=n.partial({params:n.record(n.string,n.any)}),o=n.intersection([i,n.partial({lang:n.string,options:n.record(n.string,n.string)}),n.type({source:n.string})]),a=n.intersection([i,n.type({id:n.string})]),s=n.union([o,n.string,a]),u=n.keyof({boolean:null,date:null,double:null,geo_point:null,ip:null,keyword:null,long:null}),c=n.intersection([n.partial({format:n.string,script:s}),n.type({type:u})])},function(e,t,r){"use strict";r.d(t,"f",(function(){return n})),r.d(t,"e",(function(){return i})),r.d(t,"c",(function(){return o})),r.d(t,"h",(function(){return a})),r.d(t,"d",(function(){return s})),r.d(t,"b",(function(){return u})),r.d(t,"a",(function(){return c})),r.d(t,"g",(function(){return l}));const n="metrics-*,metricbeat-*",i="metrics",o="logs",a="@timestamp",s="message",u="host.name",c="container.id",l="kubernetes.pod.uid"},function(e,t,r){"use strict";r.d(t,"c",(function(){return u})),r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return l})),r.d(t,"d",(function(){return d}));var n=r(18),i=r.n(n),o=r(5),a=r(16),s=r(0);function u(e){const t=i.a.parse(e);return!(!t||!t.isValid())}const c=new s.Type("datemath",s.string.is,((e,t)=>Object(a.pipe)(s.string.validate(e,t),Object(o.chain)((e=>u(e)?s.success(e):s.failure(e,t))))),String);function l(e,t="down",r){const n=i.a.parse(e,{roundUp:"up"===t,forceNow:r});return n&&n.isValid()?n.valueOf():null}function d(e){var t,r;return{from:null===(t=i.a.parse(e.from))||void 0===t?void 0:t.toISOString(),to:null===(r=i.a.parse(e.to,{roundUp:!0}))||void 0===r?void 0:r.toISOString()}}},function(e,t,r){r.r(t);var n=__kbnBundles__.get("plugin/observability/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t){e.exports=__kbnSharedDeps__.ElasticEui},function(e,t,r){r.r(t);var n=__kbnBundles__.get("plugin/observabilityShared/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t,r){r.r(t);var n=__kbnBundles__.get("plugin/logsShared/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t,r){"use strict";r.d(t,"d",(function(){return a})),r.d(t,"e",(function(){return u})),r.d(t,"a",(function(){return l})),r.d(t,"f",(function(){return d})),r.d(t,"c",(function(){return p})),r.d(t,"b",(function(){return f}));var n=r(1),i=r(0);const o=i.keyof({gt:null,gte:null,lt:null,lte:null,eq:null}),a={status:n.i18n.translate("xpack.infra.legendControls.palettes.status",{defaultMessage:"Status"}),temperature:n.i18n.translate("xpack.infra.legendControls.palettes.temperature",{defaultMessage:"Temperature"}),cool:n.i18n.translate("xpack.infra.legendControls.palettes.cool",{defaultMessage:"Cool"}),warm:n.i18n.translate("xpack.infra.legendControls.palettes.warm",{defaultMessage:"Warm"}),positive:n.i18n.translate("xpack.infra.legendControls.palettes.positive",{defaultMessage:"Positive"}),negative:n.i18n.translate("xpack.infra.legendControls.palettes.negative",{defaultMessage:"Negative"})},s=i.intersection([i.type({value:i.number,operator:o,color:i.string}),i.partial({label:i.string})]),u=i.type({type:i.literal("step"),rules:i.array(s)}),c=i.type({value:i.number,color:i.string}),l=i.type({type:i.literal("gradient"),rules:i.array(c)}),d=i.type({type:i.literal("steppedGradient"),rules:i.array(c)});let p,f;i.union([u,l,d]),function(e){e.gt="gt",e.gte="gte",e.lt="lt",e.lte="lte",e.eq="eq"}(p||(p={})),function(e){e.number="number",e.abbreviatedNumber="abbreviatedNumber",e.bytes="bytes",e.bits="bits",e.percent="percent"}(f||(f={}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return g}));var n=r(13),i=r(0),o=r(20),a=r(28);const s=i.intersection([i.type({from:i.number,to:i.number,interval:i.string}),i.partial({timeFieldName:i.string})]),u=i.union([i.string,i.null,i[void 0]]),c=i.type({id:i.string,aggregations:o.MetricsUIAggregationRT}),l=(i.intersection([i.type({timerange:s,indexPattern:i.string,metrics:i.array(c),includeTimeseries:i.union([i.boolean,Object(n.b)(!0)])}),i.partial({groupBy:i.array(u),modules:i.array(i.string),afterKey:i.union([i.null,a.c]),limit:i.union([i.number,i.null]),filters:i.array(i.UnknownRecord),dropPartialBuckets:i.boolean,alignDataToEnd:i.boolean})]),i.intersection([i.type({afterKey:i.union([i.null,a.c,i[void 0]])}),i.partial({interval:i.number})])),d=i.keyof({date:null,number:null,string:null}),p=i.type({name:i.string,type:d}),f=i.intersection([i.type({timestamp:i.number}),i.record(i.string,i.union([i.string,i.number,i.null,i[void 0],i.array(i.object)]))]),g=i.intersection([i.type({id:i.string,columns:i.array(p),rows:i.array(f)}),i.partial({keys:i.array(i.string)})]),m=i.intersection([g,i.partial({metricsets:i.array(i.string)})]);i.type({series:i.array(m),info:l})},function(e,t){e.exports=__kbnSharedDeps__.KbnEsQuery},function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return c}));var n=r(23);let i;!function(e){e.bytesDecimal="bytesDecimal",e.bitsDecimal="bitsDecimal",e.abbreviatedNumber="abbreviatedNumber"}(i||(i={}));const o={[i.bytesDecimal]:["B","kB","MB","GB","TB","PB","EB","ZB","YB"],[i.bitsDecimal]:["bit","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],[i.abbreviatedNumber]:["","K","M","B","T"]},a={[i.bytesDecimal]:1e3,[i.bitsDecimal]:1e3,[i.abbreviatedNumber]:1e3},s=e=>t=>{const r=o[e],s=a[e],u=e===i.bitsDecimal?8*t:t,c=Math.min(Math.floor(Math.log(Math.abs(u))/Math.log(s)),r.length-1);return c<0?`${Object(n.a)(u)} ${r[0]}`:`${Object(n.a)(u/Math.pow(s,c))} ${r[c]}`},u={number:n.a,abbreviatedNumber:s(i.abbreviatedNumber),bytes:s(i.bytesDecimal),bits:s(i.bitsDecimal),percent:e=>`${Object(n.a)(100*e)}%`,highPrecision:e=>Number(e).toLocaleString("en",{maximumFractionDigits:5})},c=(e,t="{{value}}")=>r=>{if(null==r)return"";const n=(0,u[e])(Number(r));return t.replace(/{{value}}/g,n)}},function(e,t){e.exports=__kbnSharedDeps__.RxjsOperators},function(e,t,r){"use strict";r.d(t,"d",(function(){return u})),r.d(t,"n",(function(){return l})),r.d(t,"o",(function(){return d})),r.d(t,"e",(function(){return p})),r.d(t,"p",(function(){return f})),r.d(t,"q",(function(){return g})),r.d(t,"a",(function(){return m})),r.d(t,"h",(function(){return y})),r.d(t,"i",(function(){return v})),r.d(t,"f",(function(){return _})),r.d(t,"r",(function(){return w})),r.d(t,"s",(function(){return x})),r.d(t,"g",(function(){return O})),r.d(t,"t",(function(){return T})),r.d(t,"u",(function(){return k})),r.d(t,"c",(function(){return S})),r.d(t,"m",(function(){return R})),r.d(t,"l",(function(){return M})),r.d(t,"b",(function(){return I})),r.d(t,"j",(function(){return j})),r.d(t,"k",(function(){return D}));var n=r(0),i=r(6),o=r(15),a=r(3),s=r(11);const u="/api/infra/log_analysis/results/log_entry_categories",c=n.type({id:n.string,timeRange:a.d,bucketCount:n.number}),l=n.type({data:n.intersection([n.type({categoryCount:n.number,logView:i.persistedLogViewReferenceRT,idFormat:o.e,timeRange:a.d,histograms:n.array(c),sort:s.e}),n.partial({datasets:n.array(n.string)})])}),d=n.intersection([n.type({data:n.type({categories:n.array(s.w)})}),n.partial({timing:a.c})]),p=(n.union([d,a.a,a.b]),"/api/infra/log_analysis/results/log_entry_category_datasets"),f=n.type({data:n.type({logView:i.persistedLogViewReferenceRT,idFormat:o.e,timeRange:a.d})}),g=n.intersection([n.type({data:n.type({datasets:n.array(n.string)})}),n.partial({timing:a.c})]),m=(n.union([g,a.a,a.b]),"/api/infra/log_analysis/results/latest_log_entry_category_datasets_stats"),h=n.keyof({ok:null,warn:null}),y=n.type({data:n.type({jobIds:n.array(n.string),timeRange:a.d,includeCategorizerStatuses:n.array(h)})}),b=n.type({categorization_status:h,categorized_doc_count:n.number,dataset:n.string,dead_category_count:n.number,failed_category_count:n.number,frequent_category_count:n.number,job_id:n.string,log_time:n.number,rare_category_count:n.number,total_category_count:n.number}),v=n.intersection([n.type({data:n.type({datasetStats:n.array(b)})}),n.partial({timing:a.c})]),_="/api/infra/log_analysis/results/log_entry_category_examples",w=n.type({data:n.type({categoryId:n.number,exampleCount:n.number,logView:i.persistedLogViewReferenceRT,idFormat:o.e,timeRange:a.d})}),E=n.type({id:n.string,dataset:n.string,message:n.string,timestamp:n.number,tiebreaker:n.number,context:i.logEntryContextRT}),x=n.intersection([n.type({data:n.type({examples:n.array(E)})}),n.partial({timing:a.c})]),O=(n.union([x,a.a,a.b]),"/api/infra/log_analysis/results/log_entry_examples"),T=n.type({data:n.intersection([n.type({dataset:n.string,exampleCount:n.number,logView:i.persistedLogViewReferenceRT,idFormat:o.e,timeRange:a.d}),n.partial({categoryId:n.string})])}),k=n.intersection([n.type({data:n.type({examples:n.array(s.x)})}),n.partial({timing:a.c})]),S=(n.union([k,a.a,a.b]),"/api/infra/log_analysis/results/log_entry_anomalies"),R=n.intersection([n.type({data:n.intersection([n.type({anomalies:n.array(s.s),hasMoreEntries:n.boolean}),n.partial({paginationCursors:n.type({previousPageCursor:s.B,nextPageCursor:s.B})})])}),n.partial({timing:a.c})]),M=n.type({data:n.intersection([n.type({logView:i.persistedLogViewReferenceRT,idFormats:o.d,timeRange:a.d}),n.partial({pagination:s.C,sort:s.b,datasets:s.r})])}),I="/api/infra/log_analysis/results/log_entry_anomalies_datasets",j=n.type({data:n.type({logView:i.persistedLogViewReferenceRT,idFormats:o.d,timeRange:a.d})}),D=n.intersection([n.type({data:n.type({datasets:n.array(n.string)})}),n.partial({timing:a.c})]);n.union([D,a.a,a.b])},function(e,t,r){"use strict";r.d(t,"c",(function(){return s})),r.d(t,"d",(function(){return c})),r.d(t,"b",(function(){return l})),r.d(t,"a",(function(){return p}));var n=r(0),i=r(5),o=r(10);const a="/api/infra/inventory_views",s=e=>[a,e].filter(Boolean).join("/"),u=new n.Type("InventoryViewId",n.string.is,((e,t)=>i.either.chain(n.string.validate(e,t),(r=>"0"===r?n.failure(e,t,`The inventory view with id ${r} is not configurable.`):n.success(r)))),String),c=(n.type({inventoryViewId:u}),n.partial({sourceId:n.string}),n.type({data:o.g})),l=(n.type({inventoryViewId:n.string}),n.type({data:n.array(o.h)})),d=n.exact(n.intersection([o.f,n.partial({isDefault:n[void 0],isStatic:n[void 0]})])),p=n.type({attributes:d}),f=n.exact(n.intersection([o.f,n.partial({isDefault:n[void 0],isStatic:n[void 0]})]));n.type({attributes:f})},function(e,t,r){"use strict";r.d(t,"c",(function(){return s})),r.d(t,"d",(function(){return c})),r.d(t,"b",(function(){return l})),r.d(t,"a",(function(){return p}));var n=r(0),i=r(5),o=r(9);const a="/api/infra/metrics_explorer_views",s=e=>[a,e].filter(Boolean).join("/"),u=new n.Type("MetricsExplorerViewId",n.string.is,((e,t)=>i.either.chain(n.string.validate(e,t),(r=>"0"===r?n.failure(e,t,`The metrics explorer view with id ${r} is not configurable.`):n.success(r)))),String),c=(n.type({metricsExplorerViewId:u}),n.partial({sourceId:n.string}),n.type({data:o.j})),l=(n.type({metricsExplorerViewId:n.string}),n.type({data:n.array(o.k)})),d=n.intersection([o.i,n.partial({isDefault:n[void 0],isStatic:n[void 0]})]),p=n.type({attributes:d}),f=n.intersection([o.i,n.partial({isDefault:n[void 0],isStatic:n[void 0]})]);n.type({attributes:f})},function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return s})),r.d(t,"b",(function(){return c})),r.d(t,"f",(function(){return d})),r.d(t,"e",(function(){return p})),r.d(t,"g",(function(){return f}));var n=r(0);const i="/api/infra/log_analysis/validation/log_entry_datasets",o=n.type({data:n.type({indices:n.array(n.string),timestampField:n.string,startTime:n.number,endTime:n.number,runtimeMappings:n.UnknownRecord})}),a=n.strict({indexName:n.string,datasets:n.array(n.string)}),s=n.type({data:n.type({datasets:n.array(a)})});var u=r(36);const c="/api/infra/log_analysis/validation/log_entry_rate_indices",l=n.type({name:n.string,validTypes:n.array(n.string)}),d=n.type({data:n.type({fields:n.array(l),indices:n.array(n.string),runtimeMappings:n.record(n.string,u.a)})}),p=n.union([n.type({error:n.literal("INDEX_NOT_FOUND"),index:n.string}),n.type({error:n.literal("FIELD_NOT_FOUND"),index:n.string,field:n.string}),n.type({error:n.literal("FIELD_NOT_VALID"),index:n.string,field:n.string})]),f=n.type({data:n.type({errors:n.array(p)})})},function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"d",(function(){return l})),r.d(t,"b",(function(){return d})),r.d(t,"c",(function(){return p}));var n=r(0),i=r(6),o=r(14);const a="/api/infra/log_alerts/chart_preview_data",s=n.type({timestamp:n.number,value:n.number}),u=n.type({id:n.string,points:n.array(s)}),c=n.array(u),l=n.type({data:n.type({series:c})}),d=n.intersection([n.type({criteria:n.union([o.f,n.array(o.f)]),count:n.intersection([n.type({comparator:o.e.props.comparator}),n.partial({value:o.e.props.value})]),timeUnit:o.o,timeSize:o.n}),n.partial({groupBy:o.i})]),p=n.type({data:n.type({logView:i.persistedLogViewReferenceRT,alertParams:d,buckets:n.number,executionTimeRange:n.union([n[void 0],n.type({gte:n.number,lte:n.number})])})})},function(e,t,r){"use strict";const n=r(70),i=r(71),o=r(72);function a(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function s(e,t){return t.encode?t.strict?n(e):encodeURIComponent(e):e}function u(e,t){return t.decode?i(e):e}function c(e){return Array.isArray(e)?e.sort():"object"==typeof e?c(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function l(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function d(e){const t=(e=l(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function p(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function f(e,t){a((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const r=function(e){let t;switch(e.arrayFormat){case"index":return(e,r,n)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===n[e]&&(n[e]={}),n[e][t[1]]=r):n[e]=r};case"bracket":return(e,r,n)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],r):n[e]=[r]:n[e]=r};case"comma":case"separator":return(t,r,n)=>{const i="string"==typeof r&&r.split("").indexOf(e.arrayFormatSeparator)>-1?r.split(e.arrayFormatSeparator).map((t=>u(t,e))):null===r?r:u(r,e);n[t]=i};default:return(e,t,r)=>{void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=t}}}(t),n=Object.create(null);if("string"!=typeof e)return n;if(!(e=e.trim().replace(/^[?#&]/,"")))return n;for(const i of e.split("&")){let[e,a]=o(t.decode?i.replace(/\+/g," "):i,"=");a=void 0===a?null:["comma","separator"].includes(t.arrayFormat)?a:u(a,t),r(u(e,t),a,n)}for(const e of Object.keys(n)){const r=n[e];if("object"==typeof r&&null!==r)for(const e of Object.keys(r))r[e]=p(r[e],t);else n[e]=p(r,t)}return!1===t.sort?n:(!0===t.sort?Object.keys(n).sort():Object.keys(n).sort(t.sort)).reduce(((e,t)=>{const r=n[t];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?e[t]=c(r):e[t]=r,e}),Object.create(null))}t.extract=d,t.parse=f,t.stringify=(e,t)=>{if(!e)return"";a((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const r=r=>t.skipNull&&null==e[r]||t.skipEmptyString&&""===e[r],n=function(e){switch(e.arrayFormat){case"index":return t=>(r,n)=>{const i=r.length;return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[s(t,e),"[",i,"]"].join("")]:[...r,[s(t,e),"[",s(i,e),"]=",s(n,e)].join("")]};case"bracket":return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[s(t,e),"[]"].join("")]:[...r,[s(t,e),"[]=",s(n,e)].join("")];case"comma":case"separator":return t=>(r,n)=>null==n||0===n.length?r:0===r.length?[[s(t,e),"=",s(n,e)].join("")]:[[r,s(n,e)].join(e.arrayFormatSeparator)];default:return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,s(t,e)]:[...r,[s(t,e),"=",s(n,e)].join("")]}}(t),i={};for(const t of Object.keys(e))r(t)||(i[t]=e[t]);const o=Object.keys(i);return!1!==t.sort&&o.sort(t.sort),o.map((r=>{const i=e[r];return void 0===i?"":null===i?s(r,t):Array.isArray(i)?i.reduce(n(r),[]).join("&"):s(r,t)+"="+s(i,t)})).filter((e=>e.length>0)).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[r,n]=o(e,"#");return Object.assign({url:r.split("?")[0]||"",query:f(d(e),t)},t&&t.parseFragmentIdentifier&&n?{fragmentIdentifier:u(n,t)}:{})},t.stringifyUrl=(e,r)=>{r=Object.assign({encode:!0,strict:!0},r);const n=l(e.url).split("?")[0]||"",i=t.extract(e.url),o=t.parse(i,{sort:!1}),a=Object.assign(o,e.query);let u=t.stringify(a,r);u&&(u=`?${u}`);let c=function(e){let t="";const r=e.indexOf("#");return-1!==r&&(t=e.slice(r)),t}(e.url);return e.fragmentIdentifier&&(c=`#${s(e.fragmentIdentifier,r)}`),`${n}${u}${c}`}},function(e,t,r){"use strict";var n=r(14);r.d(t,"a",(function(){return n.a})),r.d(t,"b",(function(){return n.b})),r.d(t,"c",(function(){return n.c})),r.d(t,"d",(function(){return n.d})),r.d(t,"e",(function(){return n.k})),r.d(t,"f",(function(){return n.l})),r.d(t,"g",(function(){return n.m}))},function(e,t,r){r.r(t);var n=__kbnBundles__.get("plugin/embeddable/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return o}));var n=r(2);const i=n.createContext({triggersActionsUI:null}),o=e=>n.createElement(i.Provider,{value:{triggersActionsUI:e.triggersActionsUI}},e.children)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(67),i=r(2),o=n.__importDefault(r(73));t.default=function(e,t){var r=i.useState(t),n=r[0],a=r[1];return o.default((function(){var t=e.subscribe(a);return function(){return t.unsubscribe()}}),[e]),n}},function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return a})),r.d(t,"i",(function(){return s})),r.d(t,"g",(function(){return u})),r.d(t,"f",(function(){return c})),r.d(t,"e",(function(){return l})),r.d(t,"h",(function(){return f})),r.d(t,"c",(function(){return g})),r.d(t,"d",(function(){return m}));var n=r(0),i=r(34);const o=9e5,a="message",s="event.dataset",u=(e,t,r)=>"legacy"===r?`kibana-logs-ui-${e}-${t}-`:`logs-${Object(i.v5)(`${e}-${t}`,"f91b78c0-fdd3-425d-a4ba-4c028fe57e0f").replaceAll("-","")}-`,c=(e,t,r,n)=>`${u(e,t,r)}${n}`,l=(e,t,r,n)=>`datafeed-${c(e,t,r,n)}`,d=n.union([n.strict({type:n.literal("includeAll")}),n.strict({type:n.literal("includeSome"),datasets:n.array(n.string)})]),p=n.partial({indexPattern:n.string,timestampField:n.string,bucketSpan:n.number,datasetFilter:d}),f=n.partial({job_revision:n.number,logs_source_config:p}),g=(e,t)=>"includeAll"===e.type&&"includeAll"===t.type?{type:"includeAll"}:{type:"includeSome",datasets:[...new Set([..."includeSome"===e.type?e.datasets:[],..."includeSome"===t.type?t.datasets:[]])]},m=(e,t)=>{if("includeAll"===e.type)return e;{const r=e.datasets.filter(t);return r.length>0?{type:"includeSome",datasets:r}:{type:"includeAll"}}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(0);const i=n.type({startTime:n.number,endTime:n.number})},function(e,t,r){"use strict";r.d(t,"a",(function(){return p})),r.d(t,"b",(function(){return f}));var n=r(2),i=r.n(n),o=r(31),a=r(24),s=r(41),u=r(22),c=r(61),l=r(56),d=r(63);const p=({children:e,triggersActionsUI:t,observabilityAIAssistant:{service:r},setHeaderActionMenu:n,appName:a,storage:u,theme$:p})=>{const f=Object(d.a)();return i.a.createElement(l.b,{triggersActionsUI:t},i.a.createElement(o.EuiThemeProvider,{darkMode:f},i.a.createElement(g,{appName:a,storage:u},i.a.createElement(c.b,{setHeaderActionMenu:n,theme$:p},i.a.createElement(s.NavigationWarningPromptProvider,null,e)))))},f=({children:e,core:t,pluginStart:r,plugins:n,theme$:o})=>{const s=Object(u.c)(t,n,r);return i.a.createElement(s,{services:{...t,...n,...r}},i.a.createElement(t.i18n.Context,null,i.a.createElement(a.KibanaThemeProvider,{theme$:o},e)))},g=({appName:e,children:t,storage:r})=>i.a.createElement(a.KibanaContextProvider,{services:{appName:e,storage:r}},t)},function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return a}));var n=r(2),i=r.n(n);const o=i.a.createContext({}),a=({setHeaderActionMenu:e,theme$:t,children:r})=>i.a.createElement(o.Provider,{value:{setHeaderActionMenu:e,theme$:t}},r)},function(e,t,r){"use strict";r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return d}));var n=r(1),i=r(0),o=r(8),a=r(14);const s=i.type({field:i.array(i.string),comparator:i.array(i.string),value:i.array(i.string)}),u=i.record(i.string,s),c=i.recursion("AlertingError",(()=>i.record(i.string,i.union([i.string,i.array(i.string),c])))),l=i.type({threshold:i.type({value:i.array(i.string)}),criteria:i.record(i.string,u),timeWindowSize:i.array(i.string),timeSizeUnit:i.array(i.string)});function d({count:e,criteria:t,timeSize:r}){const i={errors:{}},s={threshold:{value:[]},criteria:{},timeSizeUnit:[],timeWindowSize:[]};if(i.errors=s,Object(o.isNumber)(null==e?void 0:e.value)||Object(o.isFinite)(null==e?void 0:e.value)||s.threshold.value.push(n.i18n.translate("xpack.infra.logs.alertFlyout.error.thresholdRequired",{defaultMessage:"Numeric threshold value is Required."})),r||s.timeWindowSize.push(n.i18n.translate("xpack.infra.logs.alertFlyout.error.timeSizeRequired",{defaultMessage:"Time size is Required."})),t&&t.length>0){const e=e=>{const t={};return e.forEach(((e,r)=>{t[r]={field:[],comparator:[],value:[]},e.field||t[r].field.push(n.i18n.translate("xpack.infra.logs.alertFlyout.error.criterionFieldRequired",{defaultMessage:"Field is required."})),e.comparator||t[r].comparator.push(n.i18n.translate("xpack.infra.logs.alertFlyout.error.criterionComparatorRequired",{defaultMessage:"Comparator is required."})),void 0!==e.value&&null!==e.value||t[r].value.push(n.i18n.translate("xpack.infra.logs.alertFlyout.error.criterionValueRequired",{defaultMessage:"Value is required."}))})),t};if(Object(a.k)(t)){const r=e(Object(a.h)(t));s.criteria[0]=r;const n=e(Object(a.g)(t));s.criteria[1]=n}else{const r=e(t);s.criteria[0]=r}}return i}},function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(57),i=r.n(n),o=r(21),a=r(22);const s={darkMode:!1},u=()=>{var e,t;const{services:r}=Object(a.b)(),{darkMode:n}=i()(null!==(e=null===(t=r.theme)||void 0===t?void 0:t.theme$)&&void 0!==e?e:Object(o.of)(s),s);return n}},function(e,t,r){"use strict";r.d(t,"b",(function(){return p})),r.d(t,"a",(function(){return h}));var n=r(1),i=r(54),o=r(22),a=r(12);const s=e=>({fields:t})=>{var r;const n=null!==(r=t[a.q])&&void 0!==r?r:"",i=t[a.U],o=null!=i?new Date(i).valueOf():void 0,s=e.getRedirectUrl({time:o});return{reason:n,link:u(s)}},u=e=>{const t=e.indexOf("/app/");return e.substring(t)};var c=r(62);const l=n.i18n.translate("xpack.infra.logs.alerting.threshold.defaultActionMessage",{defaultMessage:"\\{\\{context.reason\\}\\}\n\n\\{\\{rule.name\\}\\} is active.\n\n\\{\\{^context.isRatio\\}\\}\\{\\{#context.group\\}\\}\\{\\{context.group\\}\\} - \\{\\{/context.group\\}\\}\\{\\{context.matchingDocuments\\}\\} log entries have matched the following conditions: \\{\\{context.conditions\\}\\}\\{\\{/context.isRatio\\}\\}\n\\{\\{#context.isRatio\\}\\}\\{\\{#context.group\\}\\}\\{\\{context.group\\}\\} - \\{\\{/context.group\\}\\} Ratio of the count of log entries matching \\{\\{context.numeratorConditions\\}\\} to the count of log entries matching \\{\\{context.denominatorConditions\\}\\} was \\{\\{context.ratio\\}\\}\\{\\{/context.isRatio\\}\\}\n\n[View alert details](\\{\\{context.alertDetailsUrl\\}\\})\n"}),d=n.i18n.translate("xpack.infra.logs.alerting.threshold.defaultRecoveryMessage",{defaultMessage:"\\{\\{rule.name\\}\\} has recovered.\n\n[View alert details](\\{\\{context.alertDetailsUrl\\}\\})\n"});function p(e,t){const a=Object(o.a)(e,(()=>r.e(10).then(r.bind(null,530)))),u=Object(o.a)(e,(()=>r.e(15).then(r.bind(null,528))));return{id:i.d,description:n.i18n.translate("xpack.infra.logs.alertFlyout.alertDescription",{defaultMessage:"Alert when the log aggregation exceeds the threshold."}),iconClass:"bell",documentationUrl:e=>`${e.links.observability.logsThreshold}`,alertDetailsAppSection:u,ruleParamsExpression:a,validate:c.b,defaultActionMessage:l,defaultRecoveryMessage:d,requiresAppContext:!1,format:s(t),priority:30}}var f=r(2),g=r.n(f);const m=g.a.lazy((()=>r.e(16).then(r.bind(null,533)))),h=()=>g.a.createElement(g.a.Suspense,{fallback:g.a.createElement("div",null)},g.a.createElement(m,null))},function(e,t,r){r.r(t);var n=__kbnBundles__.get("plugin/observabilityShared/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t){e.exports=__kbnSharedDeps_npm__},function(e,t){e.exports=__kbnSharedDeps__.TsLib},function(e,t,r){r(69),__kbnBundles__.define("plugin/infra/public",r,75)},function(e,t,r){r.p=window.__kbnPublicPath__.infra},function(e,t,r){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))},function(e,t,r){"use strict";var n="%[a-f0-9]{2}",i=new RegExp("("+n+")|([^%]+?)","gi"),o=new RegExp("("+n+")+","gi");function a(e,t){try{return[decodeURIComponent(e.join(""))]}catch(e){}if(1===e.length)return e;t=t||1;var r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],a(r),a(n))}function s(e){try{return decodeURIComponent(e)}catch(n){for(var t=e.match(i)||[],r=1;r<t.length;r++)t=(e=a(t,r).join("")).match(i)||[];return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},r=o.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch(e){var n=s(r[0]);n!==r[0]&&(t[r[0]]=n)}r=o.exec(e)}t["%C2"]="�";for(var i=Object.keys(t),a=0;a<i.length;a++){var u=i[a];e=e.replace(new RegExp(u,"g"),t[u])}return e}(e)}}},function(e,t,r){"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const r=e.indexOf(t);return-1===r?[e]:[e.slice(0,r),e.slice(r+t.length)]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),i="undefined"!=typeof window?n.useLayoutEffect:n.useEffect;t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tailRec=void 0,t.tailRec=function(e,t){for(var r=t(e);"Left"===r._tag;)r=t(r.left);return r.right}},function(e,t,r){"use strict";r.r(t),r.d(t,"plugin",(function(){return le})),r.d(t,"FORMATTERS",(function(){return ue.a})),r.d(t,"InfraFormatterType",(function(){return ce.b}));var n=r(4),i=r.n(n),o=r(29),a=r(1),s=r(39),u=r(65),c=r(21),l=r(47),d=r(2),p=r.n(d),f=r(17);function g({criteria:e,filterQuery:t}){const r={errors:{}},n={};return r.errors=n,t===f.f&&(n.filterQuery=[a.i18n.translate("xpack.infra.metrics.alertFlyout.error.invalidFilterQuery",{defaultMessage:"Filter query is invalid."})]),e&&e.length?(e.forEach(((e,t)=>{var r;const i=t.toString();n[i]=n[i]||{timeSizeUnit:[],timeWindowSize:[],critical:{threshold0:[],threshold1:[]},warning:{threshold0:[],threshold1:[]},metric:[]},e.threshold&&e.threshold.length||n[i].critical.threshold0.push(a.i18n.translate("xpack.infra.metrics.alertFlyout.error.thresholdRequired",{defaultMessage:"Threshold is required."})),e.warningThreshold&&!e.warningThreshold.length&&n[i].warning.threshold0.push(a.i18n.translate("xpack.infra.metrics.alertFlyout.error.thresholdRequired",{defaultMessage:"Threshold is required."}));for(const t of[{comparator:e.comparator,threshold:e.threshold,type:"critical"},{comparator:e.warningComparator,threshold:e.warningThreshold,type:"warning"}]){const{comparator:e,threshold:r,type:o}=t;r&&r.length&&![...r].every(m)&&[...r].forEach(((e,t)=>{if(!m(e)){const e=0===t?"threshold0":"threshold1";n[i][o][e].push(a.i18n.translate("xpack.infra.metrics.alertFlyout.error.thresholdTypeRequired",{defaultMessage:"Thresholds must contain a valid number."}))}})),e===f.b.BETWEEN&&(!r||r.length<2)&&n[i][o].threshold1.push(a.i18n.translate("xpack.infra.metrics.alertFlyout.error.thresholdRequired",{defaultMessage:"Threshold is required."}))}e.timeSize||n[i].timeWindowSize.push(a.i18n.translate("xpack.infra.metrics.alertFlyout.error.timeRequred",{defaultMessage:"Time size is Required."})),e.metric||n[i].metric.push(a.i18n.translate("xpack.infra.metrics.alertFlyout.error.metricRequired",{defaultMessage:"Metric is required."})),"custom"!==e.metric||null!==(r=e.customMetric)&&void 0!==r&&r.field||n[i].metric.push(a.i18n.translate("xpack.infra.metrics.alertFlyout.error.customMetricFieldRequired",{defaultMessage:"Field is required."}))})),r):r}const m=e=>"number"==typeof e;var h=r(12),y=r(27),b=r(53);const v=(e,t="")=>Object.entries(e).reduce(((e,[r,n])=>{const i=t.length?`${t}.${r}`:r;return"object"==typeof n&&null!=n?Array.isArray(n)&&n.length>0?Object.assign(e,v(n[0],i)):Object.assign(e,v(n,i)):(e[i]=Array.isArray(n)?n:[n],e)}),{}),_=e=>{let t=e;e[h.F]&&(t={...e,...v(e[h.F],h.F)});const r=`${h.F}.nodeType`;let n="/app/metrics/link-to/inventory?";if(t[r]){const e={nodeType:t[r][0],timestamp:Date.parse(t[h.vb]),customMetric:""},i=t[`${h.F}.criteria.metric`][0];if("custom"===i){const r=t[`${h.F}.criteria.customMetric.id`][0],n=t[`${h.F}.criteria.customMetric.aggregation`][0],i=t[`${h.F}.criteria.customMetric.field`][0],o=Object(y.encode)({id:r,type:"custom",field:i,aggregation:n});e.customMetric=o,e.metric=o}else e.metric=Object(y.encode)({type:i});n+=Object(b.stringify)(e)}return n},w=({fields:e})=>{var t;return{reason:null!==(t=e[h.q])&&void 0!==t?t:"-",link:_(e)}},E=a.i18n.translate("xpack.infra.metrics.alerting.inventory.threshold.defaultActionMessage",{defaultMessage:"\\{\\{context.reason\\}\\}\n\n\\{\\{rule.name\\}\\} is active with the following conditions:\n\n- Affected: \\{\\{context.group\\}\\}\n- Metric: \\{\\{context.metric\\}\\}\n- Observed value: \\{\\{context.value\\}\\}\n- Threshold: \\{\\{context.threshold\\}\\}\n\n[View alert details](\\{\\{context.alertDetailsUrl\\}\\})\n"}),x=a.i18n.translate("xpack.infra.metrics.alerting.inventory.threshold.defaultRecoveryMessage",{defaultMessage:"\\{\\{rule.name\\}\\} has recovered.\n\n- Affected: \\{\\{context.group\\}\\}\n- Metric: \\{\\{context.metric\\}\\}\n- Threshold: \\{\\{context.threshold\\}\\}\n\n[View alert details](\\{\\{context.alertDetailsUrl\\}\\})\n"});var O=r(64),T=r(45),k=r(8);const S=/[^A-Z|+|\-|\s|\d+|\.|\(|\)|\/|\*|>|<|=|\?|\:|&|\!|\|]+/g,R=e=>e.aggType===f.a.CUSTOM;function M({criteria:e,filterQuery:t}){const r={errors:{}},n={};return r.errors=n,t===f.f&&(n.filterQuery=[a.i18n.translate("xpack.infra.metrics.alertFlyout.error.invalidFilterQuery",{defaultMessage:"Filter query is invalid."})]),e&&e.length?(e.forEach(((e,t)=>{const r=t.toString();n[r]=n[r]||{aggField:[],timeSizeUnit:[],timeWindowSize:[],critical:{threshold0:[],threshold1:[]},warning:{threshold0:[],threshold1:[]},metric:[],filterQuery:[],customMetrics:{}},e.aggType||n[r].aggField.push(a.i18n.translate("xpack.infra.metrics.alertFlyout.error.aggregationRequired",{defaultMessage:"Aggregation is required."})),e.threshold&&e.threshold.length||n[r].critical.threshold0.push(a.i18n.translate("xpack.infra.metrics.alertFlyout.error.thresholdRequired",{defaultMessage:"Threshold is required."})),e.warningThreshold&&!e.warningThreshold.length&&n[r].warning.threshold0.push(a.i18n.translate("xpack.infra.metrics.alertFlyout.error.thresholdRequired",{defaultMessage:"Threshold is required."}));for(const t of[{comparator:e.comparator,threshold:e.threshold,type:"critical"},{comparator:e.warningComparator,threshold:e.warningThreshold,type:"warning"}]){const{comparator:e,threshold:i,type:o}=t;i&&i.length&&![...i].every(I)&&[...i].forEach(((e,t)=>{if(!I(e)){const e=0===t?"threshold0":"threshold1";n[r][o][e].push(a.i18n.translate("xpack.infra.metrics.alertFlyout.error.thresholdTypeRequired",{defaultMessage:"Thresholds must contain a valid number."}))}})),e===f.b.BETWEEN&&(!i||i.length<2)&&n[r][o].threshold1.push(a.i18n.translate("xpack.infra.metrics.alertFlyout.error.thresholdRequired",{defaultMessage:"Threshold is required."}))}e.timeSize||n[r].timeWindowSize.push(a.i18n.translate("xpack.infra.metrics.alertFlyout.error.timeRequred",{defaultMessage:"Time size is Required."})),"count"===e.aggType||"custom"===e.aggType||e.metric||n[r].metric.push(a.i18n.translate("xpack.infra.metrics.alertFlyout.error.metricRequired",{defaultMessage:"Metric is required."})),R(e)&&(!e.customMetrics||e.customMetrics&&e.customMetrics.length<1?n[r].customMetricsError=a.i18n.translate("xpack.infra.metrics.alertFlyout.error.customMetricsError",{defaultMessage:"You must define at least 1 custom metric"}):e.customMetrics.forEach((e=>{const t={};if(e.aggType||(t.aggType=a.i18n.translate("xpack.infra.metrics.alertFlyout.error.customMetrics.aggTypeRequired",{defaultMessage:"Aggregation is required"})),"count"===e.aggType||e.field||(t.field=a.i18n.translate("xpack.infra.metrics.alertFlyout.error.customMetrics.fieldRequired",{defaultMessage:"Field is required"})),"count"===e.aggType&&e.filter)try{Object(T.fromKueryExpression)(e.filter)}catch(e){t.filter=e.message}Object(k.isEmpty)(t)||(n[r].customMetrics[e.name]=t)})),e.equation&&e.equation.match(S)&&(n[r].equation=a.i18n.translate("xpack.infra.metrics.alertFlyout.error.equation.invalidCharacters",{defaultMessage:"The equation field only supports the following characters: A-Z, +, -, /, *, (, ), ?, !, &, :, |, >, <, ="})))})),r):r}const I=e=>"number"==typeof e,j=({fields:e})=>{var t;return{reason:null!==(t=e[h.q])&&void 0!==t?t:"-",link:f.c}},D=a.i18n.translate("xpack.infra.metrics.alerting.metric.threshold.defaultActionMessage",{defaultMessage:"\\{\\{context.reason\\}\\}\n\n\\{\\{rule.name\\}\\} is active with the following conditions:\n\n- Affected: \\{\\{context.group\\}\\}\n- Metric: \\{\\{context.metric\\}\\}\n- Observed value: \\{\\{context.value\\}\\}\n- Threshold: \\{\\{context.threshold\\}\\}\n\n[View alert details](\\{\\{context.alertDetailsUrl\\}\\})\n"}),A=a.i18n.translate("xpack.infra.metrics.alerting.metric.threshold.defaultRecoveryMessage",{defaultMessage:"\\{\\{rule.name\\}\\} has recovered.\n\n- Affected: \\{\\{context.group\\}\\}\n- Metric: \\{\\{context.metric\\}\\}\n- Threshold: \\{\\{context.threshold\\}\\}\n\n[View alert details](\\{\\{context.alertDetailsUrl\\}\\})\n"});var L=r(35),F=r.n(L),$=r(55),V=r(31),P=r(42),C=r(60),N=r(38);const U="LOG_STREAM_EMBEDDABLE";class log_stream_embeddable_LogStreamEmbeddable extends $.Embeddable{constructor(e,t,r,n,o){var a;super(n,{},o),i()(this,"type",U),i()(this,"node",void 0),i()(this,"subscription",void 0),i()(this,"isDarkMode",!1),this.core=e,this.pluginDeps=t,this.pluginStart=r,this.subscription=new c.Subscription,this.subscription.add(null===(a=e.theme)||void 0===a?void 0:a.theme$.subscribe((e=>this.isDarkMode=e.darkMode))),this.subscription.add(this.getInput$().subscribe((()=>this.renderComponent())))}render(e){this.node&&F.a.unmountComponentAtNode(this.node),this.node=e,this.renderComponent()}destroy(){super.destroy(),this.subscription.unsubscribe(),this.node&&F.a.unmountComponentAtNode(this.node)}async reload(){}renderComponent(){if(!this.node)return;const e=Object(N.b)(this.input.timeRange.from),t=Object(N.b)(this.input.timeRange.to,"up");e&&t&&F.a.render(p.a.createElement(C.b,{core:this.core,plugins:this.pluginDeps,pluginStart:this.pluginStart,theme$:this.core.theme.theme$},p.a.createElement(V.EuiThemeProvider,{darkMode:this.isDarkMode},p.a.createElement("div",{style:{width:"100%"}},p.a.createElement(P.LogStream,{logView:{type:"log-view-reference",logViewId:"default"},startTimestamp:e,endTimestamp:t,height:"100%",query:this.input.query,filters:this.input.filters})))),this.node)}}class log_stream_embeddable_factory_LogStreamEmbeddableFactoryDefinition{constructor(e){i()(this,"type",U),this.getStartServices=e}async isEditable(){const[{application:e}]=await this.getStartServices();return e.capabilities.logs.save}async create(e,t){const[r,n,i]=await this.getStartServices();return new log_stream_embeddable_LogStreamEmbeddable(r,n,i,e,t)}getDisplayName(){return a.i18n.translate("xpack.infra.logStreamEmbeddable.displayName",{defaultMessage:"Log stream"})}getDescription(){return a.i18n.translate("xpack.infra.logStreamEmbeddable.description",{defaultMessage:"Add a table of live streaming logs."})}getIconType(){return"logsApp"}async getExplicitInput(){return{title:a.i18n.translate("xpack.infra.logStreamEmbeddable.title",{defaultMessage:"Log stream"})}}}var q=r(6);class logs_locator_LogsLocatorDefinition{constructor(e){i()(this,"id",q.LOGS_LOCATOR_ID),i()(this,"getLocation",(async e=>{const{createSearchString:t}=await r.e(5).then(r.bind(null,522));return{app:"logs",path:`/stream?${t(e)}`,state:{}}})),this.deps=e}}class node_logs_locator_NodeLogsLocatorDefinition{constructor(e){i()(this,"id",q.NODE_LOGS_LOCATOR_ID),i()(this,"getLocation",(async e=>{const{createNodeLogsQuery:t,createSearchString:n}=await r.e(5).then(r.bind(null,522)),i=t(e);return{app:"logs",path:`/stream?${n({...e,filter:i})}`,state:{}}})),this.deps=e}}const B=e=>async()=>{const[t]=await e(),{http:r}=t,n=await r.get("/api/metrics/source/default/hasData");return{hasData:n.hasData,indices:n.configuration.metricAlias}},H=e=>async({absoluteTime:t,intervalString:r})=>{const[n]=await e(),{http:i}=n,o=async(e={})=>{const{start:n,end:a}=t,s={sourceId:"default",bucketSize:r,size:5,timerange:{from:n,to:a},...e};return{appLink:`/app/metrics/inventory?waffleTime=(currentTime:${a},isAutoReloading:!f)`,series:(await i.post("/api/metrics/overview/top",{body:JSON.stringify(s)})).series,sort:async(e,t)=>o({sort:e,sortDirection:t})}};return await o()};var W=r(7),Q=r(10),z=r(19);class inventory_views_client_InventoryViewsClient{constructor(e){this.http=e}async findInventoryViews(){const e=await this.http.get(Object(W.p)()).catch((e=>{throw new Q.b(`Failed to fetch inventory views: ${e}`)})),{data:t}=Object(z.b)(W.n,(e=>new Q.b(`Failed to decode inventory views: ${e}"`)))(e);return t}async getInventoryView(e){const t=await this.http.get(Object(W.p)(e)).catch((t=>{throw new Q.b(`Failed to fetch inventory view "${e}": ${t}`)})),{data:r}=Object(z.b)(W.K,(t=>new Q.b(`Failed to decode inventory view "${e}": ${t}"`)))(t);return r}async createInventoryView(e){const t=await this.http.post(Object(W.p)(),{body:JSON.stringify(W.l.encode({attributes:e}))}).catch((e=>{var t,r;throw new Q.c(`Failed to create new inventory view: ${null!==(t=null===(r=e.body)||void 0===r?void 0:r.message)&&void 0!==t?t:e.message}`)})),{data:r}=Object(z.b)(W.K,(e=>new Q.c(`Failed to decode newly written inventory view: ${e}"`)))(t);return r}async updateInventoryView(e,t){const r=await this.http.put(Object(W.p)(e),{body:JSON.stringify(W.l.encode({attributes:t}))}).catch((t=>{var r,n;throw new Q.c(`Failed to update inventory view "${e}": ${null!==(r=null===(n=t.body)||void 0===n?void 0:n.message)&&void 0!==r?r:t.message}`)})),{data:n}=Object(z.b)(W.K,(t=>new Q.c(`Failed to decode updated inventory view "${e}": ${t}"`)))(r);return n}deleteInventoryView(e){return this.http.delete(Object(W.p)(e)).then((()=>null)).catch((t=>{throw new Q.a(`Failed to delete inventory view "${e}": ${t}`)}))}}class inventory_views_service_InventoryViewsService{setup(){}start({http:e}){return{client:new inventory_views_client_InventoryViewsClient(e)}}}var K=r(9);class metrics_explorer_views_client_MetricsExplorerViewsClient{constructor(e){this.http=e}async findMetricsExplorerViews(){const e=await this.http.get(Object(W.J)()).catch((e=>{throw new K.b(`Failed to fetch metrics explorer views: ${e}`)})),{data:t}=Object(z.b)(W.o,(e=>new K.b(`Failed to decode metrics explorer views: ${e}"`)))(e);return t}async getMetricsExplorerView(e){const t=await this.http.get(Object(W.J)(e)).catch((t=>{throw new K.b(`Failed to fetch metrics explorer view "${e}": ${t}`)})),{data:r}=Object(z.b)(W.L,(t=>new K.b(`Failed to decode metrics explorer view "${e}": ${t}"`)))(t);return r}async createMetricsExplorerView(e){const t=await this.http.post(Object(W.J)(),{body:JSON.stringify(W.m.encode({attributes:e}))}).catch((e=>{var t,r;throw new K.e(`Failed to create new metrics explorer view: ${null!==(t=null===(r=e.body)||void 0===r?void 0:r.message)&&void 0!==t?t:e.message}`)})),{data:r}=Object(z.b)(W.L,(e=>new K.e(`Failed to decode newly written metrics explorer view: ${e}"`)))(t);return r}async updateMetricsExplorerView(e,t){const r=await this.http.put(Object(W.J)(e),{body:JSON.stringify(W.m.encode({attributes:t}))}).catch((t=>{var r,n;throw new K.e(`Failed to update metrics explorer view "${e}": ${null!==(r=null===(n=t.body)||void 0===n?void 0:n.message)&&void 0!==r?r:t.message}`)})),{data:n}=Object(z.b)(W.L,(t=>new K.e(`Failed to decode updated metrics explorer view "${e}": ${t}"`)))(r);return n}deleteMetricsExplorerView(e){return this.http.delete(Object(W.J)(e)).then((()=>null)).catch((t=>{throw new K.a(`Failed to delete metrics explorer view "${e}": ${t}`)}))}}class metrics_explorer_views_service_MetricsExplorerViewsService{setup(){}start({http:e}){return{client:new metrics_explorer_views_client_MetricsExplorerViewsClient(e)}}}let G;!function(e){e.HOSTS_VIEW_QUERY_SUBMITTED="Hosts View Query Submitted",e.HOSTS_ENTRY_CLICKED="Host Entry Clicked",e.HOST_FLYOUT_FILTER_REMOVED="Host Flyout Filter Removed",e.HOST_FLYOUT_FILTER_ADDED="Host Flyout Filter Added",e.HOST_VIEW_TOTAL_HOST_COUNT_RETRIEVED="Host View Total Host Count Retrieved",e.ASSET_DETAILS_FLYOUT_VIEWED="Asset Details Flyout Viewed",e.ASSET_DETAILS_PAGE_VIEWED="Asset Details Page Viewed"}(G||(G={}));class telemetry_client_TelemetryClient{constructor(e){i()(this,"reportHostEntryClicked",(({hostname:e,cloud_provider:t})=>{this.analytics.reportEvent(G.HOSTS_ENTRY_CLICKED,{hostname:e,cloud_provider:null!=t?t:"unknown"})})),i()(this,"reportHostFlyoutFilterRemoved",(({field_name:e})=>{this.analytics.reportEvent(G.HOST_FLYOUT_FILTER_REMOVED,{field_name:e})})),i()(this,"reportHostFlyoutFilterAdded",(({field_name:e})=>{this.analytics.reportEvent(G.HOST_FLYOUT_FILTER_ADDED,{field_name:e})})),i()(this,"reportHostsViewQuerySubmitted",(e=>{this.analytics.reportEvent(G.HOSTS_VIEW_QUERY_SUBMITTED,e)})),i()(this,"reportAssetDetailsFlyoutViewed",(e=>{this.analytics.reportEvent(G.ASSET_DETAILS_FLYOUT_VIEWED,e)})),i()(this,"reportAssetDetailsPageViewed",(e=>{this.analytics.reportEvent(G.ASSET_DETAILS_PAGE_VIEWED,e)})),this.analytics=e}reportHostsViewTotalHostCountRetrieved(e){this.analytics.reportEvent(G.HOST_VIEW_TOTAL_HOST_COUNT_RETRIEVED,e)}}const J={eventType:G.HOSTS_VIEW_QUERY_SUBMITTED,schema:{control_filter_fields:{type:"array",items:{type:"text",_meta:{description:"Selected host control filter.",optional:!1}}},filter_fields:{type:"array",items:{type:"text",_meta:{description:"Applied host search filter.",optional:!1}}},interval:{type:"text",_meta:{description:"Time interval for the performed search.",optional:!1}},with_query:{type:"boolean",_meta:{description:"KQL query search for hosts",optional:!1}},limit:{type:"integer",_meta:{description:"Selected host limit",optional:!1}}}},Y={eventType:G.HOSTS_ENTRY_CLICKED,schema:{hostname:{type:"keyword",_meta:{description:"Hostname for the clicked host.",optional:!1}},cloud_provider:{type:"keyword",_meta:{description:"Cloud provider for the clicked host.",optional:!0}}}},Z={eventType:G.HOST_FLYOUT_FILTER_REMOVED,schema:{field_name:{type:"keyword",_meta:{description:"Removed filter field name for the selected host.",optional:!1}}}},X={eventType:G.HOST_FLYOUT_FILTER_ADDED,schema:{field_name:{type:"keyword",_meta:{description:"Added filter field name for the selected host.",optional:!1}}}},ee={eventType:G.HOST_VIEW_TOTAL_HOST_COUNT_RETRIEVED,schema:{total:{type:"integer",_meta:{description:"Total number of hosts retrieved.",optional:!1}},with_query:{type:"boolean",_meta:{description:"Has KQL query",optional:!1}},with_filters:{type:"boolean",_meta:{description:"Has filters",optional:!1}}}},te=[{eventType:G.ASSET_DETAILS_FLYOUT_VIEWED,schema:{componentName:{type:"keyword",_meta:{description:"Name of the parent react component for the clicked asset.",optional:!1}},assetType:{type:"keyword",_meta:{description:"Asset type for the clicked asset.",optional:!1}},tabId:{type:"keyword",_meta:{description:"Tab id for the clicked asset.",optional:!0}}}},{eventType:G.ASSET_DETAILS_PAGE_VIEWED,schema:{componentName:{type:"keyword",_meta:{description:"Name of the parent react component for the clicked asset.",optional:!1}},assetType:{type:"keyword",_meta:{description:"Asset type for the clicked asset.",optional:!1}},tabId:{type:"keyword",_meta:{description:"Tab id for the clicked asset.",optional:!0}},integrations:{type:"pass_through",_meta:{description:"Integrations enabled for the displayed asset.",optional:!0}}}},J,Y,Z,X,ee];class telemetry_service_TelemetryService{constructor(e=null){this.analytics=e}setup({analytics:e}){this.analytics=e,te.forEach((t=>e.registerEventType(t)))}start(){if(!this.analytics)throw new Error("The TelemetryService.setup() method has not been invoked, be sure to call it during the plugin setup.");return new telemetry_client_TelemetryClient(this.analytics)}}var re=r(37);function ne(e){return async t=>{const[,{data:r,logsShared:n}]=await e(),i=await n.logViews.client.getResolvedLogView(q.DEFAULT_LOG_VIEW),{stats:o,series:a}=await async function(e,t,r){return new Promise(((n,i)=>{let o;r.search.search({params:{index:e.index,body:{size:0,query:ie(0,t),aggs:oe(0,t)}}}).subscribe((e=>o=e.rawResponse),(e=>i(e)),(()=>{var e;null!==(e=o)&&void 0!==e&&e.aggregations?n(function(e){const t={},r={};return e.stats.buckets.forEach((e=>{const n=e.key;t[e.key]={type:"number",label:n,value:e.doc_count},e.series.buckets.forEach((e=>{r[n]=r[n]||{label:n,coordinates:[]},r[n].coordinates.push({x:e.key,y:e.doc_count})}))})),{stats:t,series:r}}(o.aggregations)):n({stats:{},series:{}})}))}))}({index:i.indices},t,r),s=(t.absoluteTime.end-t.absoluteTime.start)/6e4;return{appLink:`/app/logs/stream?logPosition=(end:${Object(y.encode)(t.relativeTime.end)},start:${Object(y.encode)(t.relativeTime.start)})`,stats:ae(o,s),series:se(a)}}}function ie(e,t){return{range:{[re.h]:{gt:new Date(t.absoluteTime.start).toISOString(),lte:new Date(t.absoluteTime.end).toISOString(),format:"strict_date_optional_time"}}}}function oe(e,t){return{stats:{terms:{field:"event.dataset",size:4,missing:"unknown"},aggs:{series:{date_histogram:{field:re.h,fixed_interval:t.intervalString}}}}}}function ae(e,t){return Object.keys(e).reduce(((r,n)=>(r[n]={...e[n],value:e[n].value/t},r)),{})}function se(e){const t=Object.keys(e),r=t.flatMap((t=>e[t].coordinates.map((e=>e.x)))),[n,i]=[...new Set(r)].sort(),o=(i-n)/6e4;return t.reduce(((t,r)=>(t[r]={...e[r],coordinates:e[r].coordinates.map((e=>e.y?{...e,y:e.y/o}:e))},t)),{})}class plugin_Plugin{constructor(e){i()(this,"config",void 0),i()(this,"inventoryViews",void 0),i()(this,"metricsExplorerViews",void 0),i()(this,"telemetry",void 0),i()(this,"locators",void 0),i()(this,"kibanaVersion",void 0),i()(this,"isServerlessEnv",void 0),i()(this,"appUpdater$",new c.BehaviorSubject((()=>({})))),this.config=e.config.get(),this.inventoryViews=new inventory_views_service_InventoryViewsService,this.metricsExplorerViews=this.config.featureFlags.metricsExplorerEnabled?new metrics_explorer_views_service_MetricsExplorerViewsService:void 0,this.telemetry=new telemetry_service_TelemetryService,this.kibanaVersion=e.env.packageInfo.version,this.isServerlessEnv="serverless"===e.env.packageInfo.buildFlavor}setup(e,t){var n,i,m,h,y;t.home&&((h=t.home).featureCatalogue.register({id:"metrics",title:a.i18n.translate("xpack.infra.registerFeatures.infraOpsTitle",{defaultMessage:"Metrics"}),description:a.i18n.translate("xpack.infra.registerFeatures.infraOpsDescription",{defaultMessage:"Explore infrastructure metrics and logs for common servers, containers, and services."}),icon:"metricsApp",path:"/app/metrics",showOnHomePage:!1,category:"data"}),h.featureCatalogue.register({id:"logs",title:a.i18n.translate("xpack.infra.registerFeatures.logsTitle",{defaultMessage:"Logs"}),description:a.i18n.translate("xpack.infra.registerFeatures.logsDescription",{defaultMessage:"Stream logs in real time or scroll through historical views in a console-like experience."}),icon:"logsApp",path:"/app/logs",showOnHomePage:!1,category:"data"})),t.uiActions.registerTrigger({id:u.ObservabilityTriggerId.LogEntryContextMenu}),t.observability.observabilityRuleTypeRegistry.register({id:f.d,description:a.i18n.translate("xpack.infra.metrics.inventory.alertFlyout.alertDescription",{defaultMessage:"Alert when the inventory exceeds a defined threshold."}),iconClass:"bell",documentationUrl:e=>`${e.links.observability.infrastructureThreshold}`,ruleParamsExpression:p.a.lazy((()=>Promise.all([r.e(0),r.e(1),r.e(11)]).then(r.bind(null,531)))),validate:g,defaultActionMessage:E,defaultRecoveryMessage:x,requiresAppContext:!1,format:w,priority:20}),t.observability.observabilityRuleTypeRegistry.register({id:f.e,description:a.i18n.translate("xpack.infra.metrics.alertFlyout.alertDescription",{defaultMessage:"Alert when the metrics aggregation exceeds the threshold."}),iconClass:"bell",documentationUrl:e=>`${e.links.observability.metricsThreshold}`,ruleParamsExpression:Object(d.lazy)((()=>Promise.all([r.e(0),r.e(1),r.e(12)]).then(r.bind(null,529)))),validate:M,defaultActionMessage:D,defaultRecoveryMessage:A,requiresAppContext:!1,format:j,alertDetailsAppSection:Object(d.lazy)((()=>Promise.all([r.e(2),r.e(4),r.e(9)]).then(r.bind(null,532)))),priority:10}),this.config.featureFlags.logsUIEnabled&&t.observability.dashboard.register({appName:"infra_logs",hasData:(y=e.getStartServices,async()=>{const[,{logsShared:e}]=await y(),t=await e.logViews.client.getResolvedLogView(q.DEFAULT_LOG_VIEW);return{hasData:"available"===(await e.logViews.client.getResolvedLogViewStatus(t)).index,indices:t.indices}}),fetchData:ne(e.getStartServices)}),t.observability.dashboard.register({appName:"infra_metrics",hasData:B(e.getStartServices),fetchData:H(e.getStartServices)}),t.logsShared.logViews.setLogViewsStaticConfig({messageFields:null===(n=this.config.sources)||void 0===n||null===(i=n.default)||void 0===i||null===(m=i.fields)||void 0===m?void 0:m.message});const b=Object(c.combineLatest)([Object(c.from)(e.getStartServices()),e.settings.client.get$(s.enableInfrastructureHostsView)]);t.observabilityShared.navigation.registerSections(b.pipe(Object(l.map)((([[{application:{capabilities:e}}],t])=>[...e.logs.show?[{label:"Logs",sortKey:200,entries:[{label:"Explorer",app:"observability-log-explorer",path:"/",isBetaFeature:!0},...this.config.featureFlags.logsUIEnabled?[{label:"Stream",app:"logs",path:"/stream"},{label:"Anomalies",app:"logs",path:"/anomalies"},{label:"Categories",app:"logs",path:"/log-categories"}]:[]]}]:[],...e.infrastructure.show?[{label:"Infrastructure",sortKey:300,entries:[{label:"Inventory",app:"metrics",path:"/inventory"},...this.config.featureFlags.metricsExplorerEnabled?[{label:"Metrics Explorer",app:"metrics",path:"/explorer"}]:[],...t?[{label:"Hosts",isBetaFeature:!0,app:"metrics",path:"/hosts"}]:[]]}]:[]])))),t.embeddable.registerEmbeddableFactory(U,new log_stream_embeddable_factory_LogStreamEmbeddableFactoryDefinition(e.getStartServices));const v=t.share.url.locators.create(new logs_locator_LogsLocatorDefinition({core:e})),_=t.share.url.locators.create(new node_logs_locator_NodeLogsLocatorDefinition({core:e}));t.observability.observabilityRuleTypeRegistry.register(Object(O.b)(e,v)),this.config.featureFlags.logsUIEnabled&&e.application.register({id:"logs",title:a.i18n.translate("xpack.infra.logs.pluginTitle",{defaultMessage:"Logs"}),euiIconType:"logoObservability",order:8100,appRoute:"/app/logs",deepLinks:[{id:"stream",title:a.i18n.translate("xpack.infra.logs.index.streamTabTitle",{defaultMessage:"Stream"}),path:"/stream"},{id:"anomalies",title:a.i18n.translate("xpack.infra.logs.index.anomaliesTabTitle",{defaultMessage:"Anomalies"}),path:"/anomalies"},{id:"log-categories",title:a.i18n.translate("xpack.infra.logs.index.logCategoriesBetaBadgeTitle",{defaultMessage:"Categories"}),path:"/log-categories"},{id:"settings",title:a.i18n.translate("xpack.infra.logs.index.settingsTabTitle",{defaultMessage:"Settings"}),path:"/settings"}],category:o.DEFAULT_APP_CATEGORIES.observability,mount:async t=>{const[n,i,o]=await e.getStartServices(),{renderApp:a}=await Promise.all([r.e(0),r.e(3),r.e(7)]).then(r.bind(null,527));return a(n,i,o,t)}});const T=({hostsEnabled:e,metricsExplorerEnabled:t})=>{const r=this.isServerlessEnv?o.AppNavLinkStatus.visible:o.AppNavLinkStatus.hidden;return[{id:"inventory",title:a.i18n.translate("xpack.infra.homePage.inventoryTabTitle",{defaultMessage:"Inventory"}),path:"/inventory",navLinkStatus:r},...e?[{id:"hosts",title:a.i18n.translate("xpack.infra.homePage.metricsHostsTabTitle",{defaultMessage:"Hosts"}),path:"/hosts",navLinkStatus:r}]:[],...t?[{id:"metrics-explorer",title:a.i18n.translate("xpack.infra.homePage.metricsExplorerTabTitle",{defaultMessage:"Metrics Explorer"}),path:"/explorer"}]:[],{id:"settings",title:a.i18n.translate("xpack.infra.homePage.settingsTabTitle",{defaultMessage:"Settings"}),path:"/settings"}]};return e.application.register({id:"metrics",title:a.i18n.translate("xpack.infra.metrics.pluginTitle",{defaultMessage:"Infrastructure"}),euiIconType:"logoObservability",order:8200,appRoute:"/app/metrics",category:o.DEFAULT_APP_CATEGORIES.observability,updater$:this.appUpdater$,deepLinks:T({hostsEnabled:e.settings.client.get(s.enableInfrastructureHostsView),metricsExplorerEnabled:this.config.featureFlags.metricsExplorerEnabled}),mount:async n=>{var i,o;const[a,s,u]=await e.getStartServices(),{renderApp:c}=await Promise.all([r.e(0),r.e(2),r.e(1),r.e(3),r.e(8)]).then(r.bind(null,526)),l=!(null===(i=t.cloud)||void 0===i||!i.isCloudEnabled),d=(null===(o=t.cloud)||void 0===o?void 0:o.isServerlessEnabled)||this.isServerlessEnv;return c(a,{...s,kibanaVersion:this.kibanaVersion,isCloudEnv:l,isServerlessEnv:d},u,this.config,n)}}),e.application.register({id:"infra",appRoute:"/app/infra",title:"infra",navLinkStatus:3,mount:async e=>{const{renderApp:t}=await r.e(13).then(r.bind(null,521));return t(e)}}),b.subscribe((([e,t])=>{this.appUpdater$.next((()=>({deepLinks:T({hostsEnabled:t,metricsExplorerEnabled:this.config.featureFlags.metricsExplorerEnabled})})))})),this.telemetry.setup({analytics:e.analytics}),this.locators={logsLocator:v,nodeLogsLocator:_},{locators:this.locators}}start(e,t){var r;return{inventoryViews:this.inventoryViews.start({http:e.http}),metricsExplorerViews:null===(r=this.metricsExplorerViews)||void 0===r?void 0:r.start({http:e.http}),telemetry:this.telemetry.start(),locators:this.locators}}stop(){}}var ue=r(46),ce=r(43);const le=e=>new plugin_Plugin(e)},function(e,t){e.exports=__kbnSharedDeps__.KbnI18nReact},function(e,t){e.exports=__kbnSharedDeps__.EmotionReact},function(e,t){e.exports=__kbnSharedDeps__.StyledComponents},function(e,t){e.exports=__kbnSharedDeps__.ElasticCharts},function(e,t){e.exports=__kbnSharedDeps__.ReactRouterDom},function(e,t,r){r.r(t);var n=__kbnBundles__.get("plugin/data/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t){e.exports=__kbnSharedDeps__.Classnames},function(e,t,r){r.r(t);var n=__kbnBundles__.get("plugin/kibanaUtils/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t,r){r.r(t);var n=__kbnBundles__.get("plugin/ml/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t){e.exports=__kbnSharedDeps__.ReactQuery},function(e,t,r){r.r(t);var n=__kbnBundles__.get("plugin/kibanaUtils/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t){e.exports=__kbnSharedDeps__.ElasticNumeral},function(e,t){e.exports=__kbnSharedDeps__.ReactRouterDomV5Compat},function(e,t,r){r.r(t);var n=__kbnBundles__.get("plugin/observability/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t,r){r.r(t);var n=__kbnBundles__.get("plugin/triggersActionsUi/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t){e.exports=__kbnSharedDeps__.MomentTimezone},function(e,t){e.exports=__kbnSharedDeps__.SaferLodashSet},function(e,t){e.exports=__kbnSharedDeps__.KbnUiTheme},function(e,t,r){r.r(t);var n=__kbnBundles__.get("plugin/charts/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t){e.exports=__kbnSharedDeps__.EmotionCache},function(e,t,r){r.r(t);var n=__kbnBundles__.get("plugin/observabilityAIAssistant/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t,r){r.r(t);var n=__kbnBundles__.get("plugin/data/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t){e.exports=__kbnSharedDeps__.LodashFp},function(e,t,r){r.r(t);var n=__kbnBundles__.get("plugin/licenseManagement/common/constants");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t){e.exports=__kbnSharedDeps__.ElasticEuiChartsTheme},function(e,t){e.exports=__kbnSharedDeps__.KbnSharedUxErrorBoundary},function(e,t,r){r.r(t);var n=__kbnBundles__.get("plugin/unifiedSearch/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t,r){r.r(t);var n=__kbnBundles__.get("plugin/advancedSettings/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t){e.exports=__kbnSharedDeps__.ReactQueryDevtools},function(e,t,r){r.r(t);var n=__kbnBundles__.get("plugin/controls/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t){e.exports=__kbnSharedDeps__.History},function(e,t,r){r.r(t);var n=__kbnBundles__.get("plugin/aiops/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))}]);