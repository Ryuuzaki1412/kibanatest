(window.presentationUtil_bundle_jsonpfunction=window.presentationUtil_bundle_jsonpfunction||[]).push([[4,7],{39:function(e,t,a){"use strict";a.d(t,"a",(function(){return h})),a(0);var s=a(9),o=a(1),i=a(12),n=a.n(i),r=a(5);const l=e=>({bold:e.font.weight.bold,normal:e.font.weight.regular}),d=e=>"iconButton"===e.as,b=(e,{type:t,isDisabled:a,groupPosition:s})=>{const o=(({euiTheme:e})=>({default:{borderStyle:"solid",border:e.border.thin,borderColor:e.border.color},emptyButton:{backgroundColor:e.colors.emptyShade,border:`${e.border.thin}`,color:`${e.colors.text}`},buttonPositions:{left:{borderTopRightRadius:0,borderBottomRightRadius:0},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,borderLeft:"none"},center:{borderRadius:0,borderLeft:"none"}}}))(e),i=s&&"none"!==s?o.buttonPositions[s]:{},n={...o.default,...i};return a?n:{...n,..."primary"===t?{}:o.emptyButton}},c=({hasArrow:e=!0,fontWeight:t="normal",type:a,label:i,iconSide:r,iconType:d,fullWidth:c,isDisabled:u,groupPosition:h,...p})=>{const j=Object(s.useEuiTheme)(),g={...b(j,{type:a,isDisabled:u,groupPosition:h}),fontWeight:l(j.euiTheme)[t]},O=u?{}:"primary"===a?{color:"primary",fill:!0}:{color:"text"},x=null!=d?d:e?"arrowDown":"";return Object(o.jsx)(s.EuiButton,n()({size:p.size,isDisabled:u,css:g,iconType:x,iconSide:d?r:"right",fullWidth:c,contentProps:c?{style:{justifyContent:"space-between"}}:{}},O,p),i)},u=({size:e,type:t,label:a,isDisabled:i,groupPosition:r,...l})=>{const d=Object(s.useEuiTheme)(),c=b(d,{type:t,isDisabled:i,groupPosition:r});return Object(o.jsx)(s.EuiButtonIcon,n()({},l,{disabled:i,"aria-label":null!=a?a:l["aria-label"],size:e,iconSize:e,css:c,display:"primary"===t?"fill":"base",color:"primary"===t?"primary":"text"}))};function h(e){const{type:t="empty",size:a="m"}=e;return d(e)?Object(o.jsx)(u,n()({},e,{size:a,type:t})):Object(o.jsx)(c,n()({},e,{size:a,type:t}))}r.i18n.translate("sharedUXPackages.buttonToolbar.toolbar.errorToolbarText",{defaultMessage:"There are over 120 extra buttons. Please consider limiting the number of buttons."})},46:function(e,t,a){"use strict";a.r(t),a.d(t,"DashboardPicker",(function(){return b}));var s=a(13),o=a(1),i=a(0),n=a(9),r=a(5),l=a(39),d=a(8);function b({isDisabled:e,onChange:t,idsToOmit:a}){var b;const{euiTheme:c}=Object(n.useEuiTheme)(),[u,h]=Object(i.useState)(!0),[p,j]=Object(i.useState)(!1),[g,O]=Object(i.useState)([]),[x,v]=Object(i.useState)([]),[m,f]=Object(i.useState)(""),[S,y]=Object(i.useState)(""),[D,T]=Object(i.useState)(null),{contentManagement:{client:E}}=d.a.getServices(),M=Object(i.useMemo)((()=>Object(s.debounce)((e=>y(e)),150)),[]);return Object(i.useEffect)((()=>{M(m)}),[M,m]),Object(i.useEffect)((()=>{let e=!1;return(async()=>{h(!0);const t=await E.mSearch({contentTypes:[{contentTypeId:"dashboard"}],query:{text:S?`${S}*`:void 0,limit:30}});e||(t&&t.hits&&O(t.hits),h(!1))})(),()=>{e=!0}}),[S,E]),Object(i.useEffect)((()=>{v(g.filter((e=>!e.managed&&!(null!=a?a:[]).includes(e.id))).map((e=>({value:e.id,label:e.attributes.title,checked:e.id===(null==D?void 0:D.value)?"on":void 0,"data-test-subj":`dashboard-picker-option-${e.attributes.title.replaceAll(" ","-")}`}))))}),[g,a,D]),Object(o.jsx)(n.EuiInputPopover,{panelPaddingSize:"none",input:Object(o.jsx)(l.a,{isDisabled:e,fullWidth:!0,isLoading:u,"data-test-subj":"open-dashboard-picker",onClick:()=>j(!p),label:Object(o.jsx)(n.EuiText,{size:"s",css:Object(o.css)("color:",D?c.colors.text:c.colors.disabledText,";","")},null!==(b=null==D?void 0:D.label)&&void 0!==b?b:r.i18n.translate("presentationUtil.dashboardPicker.noDashboardOptionLabel",{defaultMessage:"Select dashboard"}))}),isOpen:p,closePopover:()=>j(!1)},Object(o.jsx)(n.EuiPopoverTitle,{paddingSize:"s"},Object(o.jsx)(n.EuiFieldSearch,{compressed:!0,fullWidth:!0,onChange:e=>f(e.target.value),value:m,"data-test-subj":"dashboard-picker-search",placeholder:r.i18n.translate("presentationUtil.dashboardPicker.searchDashboardPlaceholder",{defaultMessage:"Search dashboards..."})})),Object(o.jsx)(n.EuiSelectable,{singleSelection:!0,options:x,onChange:(e,a,s)=>{j(!1),s&&s.value!==(null==D?void 0:D.value)&&(T(s),t({name:s.label,id:s.value}))},renderOption:e=>Object(o.jsx)(n.EuiHighlight,{search:m},e.label)},(e=>Object(o.jsx)("div",null,e))))}t.default=b},68:function(e,t,a){"use strict";a.r(t);var s=a(0),o=a.n(s),i=a(5),n=a(36),r=a(8),l=a(31),d=a(9),b=a(46),c=a(1);function u(e){const{documentId:t,onSelectDashboard:a,canSaveByReference:s,setAddToLibrary:n,isAddToLibrarySelected:r,dashboardOption:u,onChange:h,copyOnSave:p,hasAttemptedSubmit:j,hasSelectedDashboard:g}=e,O=!p&&!!t;return Object(c.jsx)(o.a.Fragment,null,Object(c.jsx)(d.EuiFormRow,{label:Object(c.jsx)(l.FormattedMessage,{id:"presentationUtil.saveModalDashboard.addToDashboardLabel",defaultMessage:"Add to dashboard"}),hasChildLabel:!1},Object(c.jsx)(o.a.Fragment,null,Object(c.jsx)(d.EuiPanel,{color:"subdued",hasShadow:!1,"data-test-subj":"add-to-dashboard-options"},Object(c.jsx)("div",null,Object(c.jsx)(o.a.Fragment,null,Object(c.jsx)(d.EuiRadio,{checked:"existing"===u,id:"existing-dashboard-option",name:"dashboard-option",label:i.i18n.translate("presentationUtil.saveModalDashboard.existingDashboardOptionLabel",{defaultMessage:"Existing"}),onChange:()=>h("existing"),disabled:O}),Object(c.jsx)("div",{className:"savAddDashboard__searchDashboards"},Object(c.jsx)(b.default,{isDisabled:"existing"!==u,onChange:a}),j&&"existing"===u&&!g?Object(c.jsx)("div",{className:"euiFormErrorText euiFormRow__text"},i.i18n.translate("presentationUtil.saveModalDashboard.existingDashboardRequiredMessage",{defaultMessage:"Dashboard is required"})):null),Object(c.jsx)(d.EuiSpacer,{size:"s"})),Object(c.jsx)(o.a.Fragment,null,Object(c.jsx)(d.EuiRadio,{checked:"new"===u,id:"new-dashboard-option",name:"dashboard-option",label:i.i18n.translate("presentationUtil.saveModalDashboard.newDashboardOptionLabel",{defaultMessage:"New"}),onChange:()=>h("new"),disabled:O}),Object(c.jsx)(d.EuiSpacer,{size:"s"})),Object(c.jsx)(d.EuiRadio,{checked:null===u,id:"add-to-library-option",name:"dashboard-option",label:i.i18n.translate("presentationUtil.saveModalDashboard.noDashboardOptionLabel",{defaultMessage:"None"}),onChange:()=>{n(!0),h(null)},disabled:O||!s}))),Object(c.jsx)(d.EuiSpacer,{size:"s"}),Object(c.jsx)(d.EuiFlexGroup,{alignItems:"center",gutterSize:"s",responsive:!1},Object(c.jsx)(d.EuiFlexItem,{grow:!1,"data-test-subj":"add-to-library-checkbox"},Object(c.jsx)(d.EuiCheckbox,{id:"add-to-library-checkbox",label:i.i18n.translate("presentationUtil.saveModalDashboard.libraryOptionLabel",{defaultMessage:"Add to library"}),checked:r,disabled:null===u||O||!s,onChange:e=>n(e.target.checked)})),Object(c.jsx)(d.EuiFlexItem,{grow:!1},Object(c.jsx)(d.EuiIconTip,{type:"iInCircle",content:Object(c.jsx)(l.FormattedMessage,{id:"presentationUtil.saveModalDashboard.dashboardInfoTooltip",defaultMessage:"items added to the Visualize Library are available to all dashboards. Edits to a library item appear everywhere it is used."})}))))))}t.default=function(e){const{documentInfo:t,tagOptions:a,objectType:o,onClose:l,canSaveByReference:d}=e,{id:b}=t,h=!Boolean(b),{capabilities:p}=r.a.getHooks(),{canAccessDashboards:j,canCreateNewDashboards:g}=p.useService(),O=!j()||!g(),[x,v]=Object(s.useState)(b||O?null:"existing"),[m,f]=Object(s.useState)(d&&(!h||O)),[S,y]=Object(s.useState)(null),[D,T]=Object(s.useState)(h),E=O?null:({hasAttemptedSubmit:e})=>Object(c.jsx)(u,{onSelectDashboard:e=>{y(e)},onChange:e=>{v(e)},canSaveByReference:d,copyOnSave:D,documentId:b,dashboardOption:x,setAddToLibrary:f,isAddToLibrarySelected:m,hasAttemptedSubmit:e,hasSelectedDashboard:Boolean(S)}),M=!D&&b?i.i18n.translate("presentationUtil.saveModalDashboard.saveLabel",{defaultMessage:"Save"}):i.i18n.translate("presentationUtil.saveModalDashboard.saveToLibraryLabel",{defaultMessage:"Save and add to library"}),w=i.i18n.translate("presentationUtil.saveModalDashboard.saveAndGoToDashboardLabel",{defaultMessage:"Save and go to Dashboard"}),C=null===x?M:w,L=!("existing"===x&&null===S);return Object(c.jsx)(n.SavedObjectSaveModal,{onSave:t=>{let a=null;!t.newCopyOnSave&&b||(a="existing"===x?(null==S?void 0:S.id)||null:x),e.onSave({...t,dashboardId:a,addToLibrary:m})},title:t.title,showCopyOnSave:!!b,options:m?a:void 0,description:t.description,showDescription:!0,confirmButtonLabel:C,initialCopyOnSave:h,isValid:L,objectType:o,onClose:l,onCopyOnSaveChange:e=>{d&&f(!0),v(null),T(e)},rightOptions:E})}}}]);