/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.securitySolution_bundle_jsonpfunction=window.securitySolution_bundle_jsonpfunction||[]).push([[0],{110:function(e,t,r){"use strict";var n=r(352);r.d(t,"c",(function(){return n.a})),r.d(t,"d",(function(){return n.b})),r.d(t,"e",(function(){return n.c})),r.d(t,"f",(function(){return n.d})),r.d(t,"g",(function(){return n.e})),r.d(t,"h",(function(){return n.f})),r.d(t,"j",(function(){return n.g})),r.d(t,"k",(function(){return n.h})),r.d(t,"l",(function(){return n.i})),r.d(t,"m",(function(){return n.j}));var o=r(212);r.d(t,"a",(function(){return o.a})),r.d(t,"i",(function(){return o.b})),r.d(t,"n",(function(){return o.c})),r.d(t,"o",(function(){return o.d}));var a=r(36);r.d(t,"b",(function(){return a.a}))},114:function(e,t,r){"use strict";r.d(t,"f",(function(){return n})),r.d(t,"a",(function(){return o})),r.d(t,"d",(function(){return a})),r.d(t,"c",(function(){return s})),r.d(t,"t",(function(){return u})),r.d(t,"v",(function(){return c})),r.d(t,"s",(function(){return l})),r.d(t,"u",(function(){return d})),r.d(t,"i",(function(){return h})),r.d(t,"h",(function(){return y})),r.d(t,"m",(function(){return O})),r.d(t,"l",(function(){return E})),r.d(t,"r",(function(){return v})),r.d(t,"q",(function(){return C})),r.d(t,"n",(function(){return T})),r.d(t,"g",(function(){return I})),r.d(t,"p",(function(){return w})),r.d(t,"o",(function(){return k})),r.d(t,"j",(function(){return x})),r.d(t,"w",(function(){return A})),r.d(t,"x",(function(){return P})),r.d(t,"k",(function(){return B})),r.d(t,"b",(function(){return N})),r.d(t,"e",(function(){return U}));const n=20,o="draggable-keyboard-wrapper",a="is-dragging",s="hover-actions-always-show";var i=r(45);const u=e=>Object(i.has)("message",e)&&Object(i.has)("body.message",e)&&Object(i.has)("body.statusCode",e),c=e=>Object(i.has)("message",e)&&Object(i.has)("body.message",e)&&Object(i.has)("body.status_code",e),l=e=>u(e)||c(e),d=e=>u(e)&&404===e.body.statusCode||c(e)&&404===e.body.status_code,b="draggableId",f="droppableId",g=`${b}.content.`,m=`${b}.timelineProviders.`,p=`${b}.field.`,j=`${f}.content.`,h=`${f}.timelineProviders.`,y=`${f}.timelineColumns.`,O=e=>`${g}${e}`,E=({contextId:e,fieldId:t})=>`${p}${S(e)}.${M(t)}`,v=({groupIndex:e,timelineId:t})=>`${h}${t}.group.${e}`,C=({dataProviderId:e,groupIndex:t,timelineId:r})=>`${m}${r}.group.${t}.${e}`,T=e=>`${j}${e}`,I=e=>e.draggableId.startsWith(p),$=e=>"DROP"===e.reason,w=e=>e.draggableId.substring(e.draggableId.lastIndexOf(".")+1),k=e=>_(e.draggableId.substring(e.draggableId.lastIndexOf(".")+1)),x=e=>e.replace(/\./g,"_"),S=e=>e.replace(/\./g,"_"),M=e=>e.replace(/\./g,"!!!DOT!!!"),_=e=>e.replace(/!!!DOT!!!/g,"."),A=e=>$(e)&&(e=>e.draggableId.startsWith(g))(e)&&(e=>e.source.droppableId.startsWith(j))(e)&&(e=>null!=e.destination&&e.destination.droppableId.startsWith(h))(e),P=e=>$(e)&&(e=>{const t=/^droppableId\.timelineProviders\.(\S+)\./,r=e.source.droppableId.match(t)||[],n=e.destination&&e.destination.droppableId.match(t)||[];return r.length>=2&&n.length>=2&&r[1]===n[1]})(e),B=e=>$(e)&&I(e)&&(e=>null!=e.destination&&e.destination.droppableId.startsWith(y))(e),N="drag-type-field",U="is-timeline-field-dragging"},212:function(e,t,r){"use strict";r.d(t,"b",(function(){return o}));var n=r(63);r.d(t,"a",(function(){return n.KibanaContextProvider})),r.d(t,"c",(function(){return n.useUiSetting})),r.d(t,"d",(function(){return n.useUiSetting$}));const o=()=>Object(n.useKibana)()},352:function(e,t,r){"use strict";r.d(t,"e",(function(){return f})),r.d(t,"i",(function(){return g})),r.d(t,"b",(function(){return m})),r.d(t,"j",(function(){return p})),r.d(t,"f",(function(){return j})),r.d(t,"d",(function(){return O})),r.d(t,"a",(function(){return E})),r.d(t,"c",(function(){return v}));var n=r(78),o=r.n(n),a=r(2),s=r(5),i=r(9),u=r(94),c=r(28);r.d(t,"g",(function(){return c.h})),r.d(t,"h",(function(){return c.i}));var l=r(4),d=r(480),b=r(212);const f=()=>Object(b.c)(l.E),g=()=>{const e=Object(b.c)(l.F);return"Browser"===e?o.a.tz.guess():e},m=()=>Object(b.b)().services.http.basePath.get(),p=()=>Object(b.b)().services.notifications.toasts,j=()=>Object(b.b)().services.http,h=e=>e.reduce(((e,t)=>Object(i.isArray)(t)?[...e,h(t)]:Object(i.isObject)(t)?[...e,y(t)]:[...e,t]),[]),y=e=>Object.entries(e).reduce(((e,[t,r])=>(Object(i.isArray)(r)?Object(u.set)(e,Object(i.camelCase)(t),h(r)):Object(i.isObject)(r)?Object(u.set)(e,Object(i.camelCase)(t),y(r)):Object(u.set)(e,Object(i.camelCase)(t),r),e)),{}),O=()=>{const e=Object(a.useRef)(!1),[t,r]=Object(a.useState)(null),[,n]=Object(d.f)(),{security:o}=Object(b.b)().services,i=Object(a.useCallback)((()=>{let t=!1;return(async()=>{try{if(null!=o){const n=await o.authc.getCurrentUser();if(!e.current)return;t||r(y(n))}else r({username:s.i18n.translate("xpack.securitySolution.getCurrentUser.unknownUser",{defaultMessage:"Unknown"}),email:"",fullName:"",roles:[],enabled:!1,authenticationRealm:{name:"",type:""},lookupRealm:{name:"",type:""},authenticationProvider:""})}catch(e){t||(Object(d.e)({title:s.i18n.translate("xpack.securitySolution.getCurrentUser.Error",{defaultMessage:"Error getting user"}),error:e.body&&e.body.message?new Error(e.body.message):e,dispatchToaster:n}),r(null))}})(),()=>{t=!0}}),[o]);return Object(a.useEffect)((()=>(e.current=!0,i(),()=>{e.current=!1})),[]),t},E=c.g,v=e=>{const{capabilities:t}=Object(b.b)().services.application;return e?t[e]:t}},480:function(e,t,r){"use strict";r.d(t,"d",(function(){return O})),r.d(t,"e",(function(){return E})),r.d(t,"c",(function(){return errors_ToasterError})),r.d(t,"f",(function(){return T})),r.d(t,"b",(function(){return I})),r.d(t,"a",(function(){return w}));var n=r(17),o=r(45),a=r(2),s=r.n(a),i=r(44),u=r.n(i),c=r(5);const l=c.i18n.translate("xpack.securitySolution.modalAllErrors.seeAllErrors.button",{defaultMessage:"See the full error(s)"}),d=c.i18n.translate("xpack.securitySolution.modalAllErrors.title",{defaultMessage:"Your visualization has error(s)"}),b=c.i18n.translate("xpack.securitySolution.modalAllErrors.close.button",{defaultMessage:"Close"}),f=({isShowing:e,toast:t,toggle:r})=>{const o=Object(a.useCallback)((()=>r(t)),[r,t]);return e&&null!=t?s.a.createElement(n.EuiModal,{onClose:o},s.a.createElement(n.EuiModalHeader,null,s.a.createElement(n.EuiModalHeaderTitle,null,d)),s.a.createElement(n.EuiModalBody,null,s.a.createElement(n.EuiCallOut,{title:t.title,color:"danger",size:"s",iconType:"warning"}),s.a.createElement(n.EuiSpacer,{size:"s"}),Array.isArray(t.errors)&&t.errors.map(((e,r)=>s.a.createElement(n.EuiAccordion,{key:`${t.id}-${r}`,id:"accordion1",initialIsOpen:0===r,buttonContent:e.length>100?`${e.substring(0,100)} ...`:e,"data-test-subj":"modal-all-errors-accordion"},s.a.createElement(m,null,e))))),s.a.createElement(n.EuiModalFooter,null,s.a.createElement(n.EuiButton,{onClick:o,fill:!0,"data-test-subj":"modal-all-errors-close"},b))):null},g=s.a.memo(f),m=u()(n.EuiCodeBlock).withConfig({displayName:"MyEuiCodeBlock",componentId:"sc-1ils255-0"})(["margin-top:4px;"]);m.displayName="MyEuiCodeBlock";var p=r(51),j=r(114),h=r(0),y=r.n(h);class errors_ToasterError extends Error{constructor(e){super(e[0]),y()(this,"messages",void 0),this.name="ToasterError",this.messages=e}}const O=(e,t,r=Object(p.v4)())=>{t({type:"addToaster",toast:{id:r,title:e,color:"success",iconType:"check"}})},E=({id:e=Object(p.v4)(),title:t,error:r,color:n="danger",iconType:a="error",dispatchToaster:s})=>{let i;i=(e=>e instanceof errors_ToasterError)(r)?{id:e,title:t,color:n,iconType:a,errors:r.messages}:Object(j.s)(r)?{id:e,title:t,color:n,iconType:a,errors:[r.body.message]}:Object(o.isError)(r)?{id:e,title:t,color:n,iconType:a,errors:[r.message]}:{id:e,title:t,color:n,iconType:a,errors:["Network Error"]},s({type:"addToaster",toast:i})},v={toasts:[]},C=Object(a.createContext)([v,()=>o.noop]),T=()=>Object(a.useContext)(C),I=({children:e})=>s.a.createElement(C.Provider,{value:Object(a.useReducer)(((e,t)=>{switch(t.type){case"addToaster":return{...e,toasts:[...e.toasts,t.toast]};case"deleteToaster":return{...e,toasts:e.toasts.filter((e=>e.id!==t.id))};default:return e}}),v)},e),$=u.a.div.withConfig({displayName:"GlobalToasterListContainer",componentId:"sc-1nee03s-0"})(["position:absolute;right:0;bottom:0;"]),w=({toastLifeTimeMs:e=5e3})=>{const[{toasts:t},r]=T(),[o,i]=Object(a.useState)(!1),[u,c]=Object(a.useState)(null),l=e=>{o?(r({type:"deleteToaster",id:e.id}),c(null)):c(e),i(!o)};return s.a.createElement(s.a.Fragment,null,t.length>0&&!o&&s.a.createElement($,null,s.a.createElement(n.EuiGlobalToastList,{toasts:[k(t[0],l)],dismissToast:({id:e})=>{r({type:"deleteToaster",id:e})},toastLifeTimeMs:e})),null!=u&&s.a.createElement(g,{isShowing:o,toast:u,toggle:l}))},k=(e,t)=>(null!=e&&null!=e.errors&&e.errors.length>0&&(e.text=s.a.createElement(x,null,s.a.createElement(n.EuiButton,{"data-test-subj":"toaster-show-all-error-modal",size:"s",color:"danger",onClick:()=>null!=e&&t(e)},l))),e),x=u.a.div.withConfig({displayName:"ErrorToastContainer",componentId:"sc-1nee03s-1"})(["text-align:right;"]);x.displayName="ErrorToastContainer"}}]);