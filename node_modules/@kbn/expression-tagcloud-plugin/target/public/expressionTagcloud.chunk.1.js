(window.expressionTagcloud_bundle_jsonpfunction=window.expressionTagcloud_bundle_jsonpfunction||[]).push([[1],Array(29).concat([function(e,t,n){e.exports=n(16)(70)},function(e,t,n){"use strict";var r,o=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),a=[];function i(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function s(e,t){for(var n={},r=[],o=0;o<e.length;o++){var s=e[o],c=t.base?s[0]+t.base:s[0],l=n[c]||0,u="".concat(c," ").concat(l);n[c]=l+1;var d=i(u),f={css:s[1],media:s[2],sourceMap:s[3]};-1!==d?(a[d].references++,a[d].updater(f)):a.push({identifier:u,updater:m(f,t),references:1}),r.push(u)}return r}function c(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var a=n.nc;a&&(r.nonce=a)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var i=o(e.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(t)}return t}var l,u=(l=[],function(e,t){return l[e]=t,l.filter(Boolean).join("\n")});function d(e,t,n,r){var o=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=u(t,o);else{var a=document.createTextNode(o),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(a,i[t]):e.appendChild(a)}}function f(e,t,n){var r=n.css,o=n.media,a=n.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var g=null,p=0;function m(e,t){var n,r,o;if(t.singleton){var a=p++;n=g||(g=c(t)),r=d.bind(null,n,a,!1),o=d.bind(null,n,a,!0)}else n=c(t),r=f.bind(null,n,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=s(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var o=i(n[r]);a[o].references--}for(var c=s(e,t),l=0;l<n.length;l++){var u=i(n[l]);0===a[u].references&&(a[u].updater(),a.splice(u,1))}n=c}}}},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,r,o,a=e[1]||"",i=e[3];if(!i)return a;if(t&&"function"==typeof btoa){var s=(n=i,r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),"/*# ".concat(o," */")),c=i.sources.map((function(e){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(e," */")}));return[a].concat(c).concat([s]).join("\n")}return[a].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(r)for(var a=0;a<this.length;a++){var i=this[a][0];null!=i&&(o[i]=!0)}for(var s=0;s<e.length;s++){var c=[].concat(e[s]);r&&o[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),t.push(c))}},t}},function(e,t,n){"use strict";e.exports=n(42)},function(e,t,n){"use strict";e.exports=n(49)},function(e,t,n){switch(window.__kbnThemeTag__){case"v8dark":return n(35);case"v8light":return n(37)}},function(e,t,n){var r=n(30),o=n(36);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);r(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},function(e,t,n){(t=n(31)(!1)).push([e.i,".tgcChart__wrapper{display:flex;flex:1 1 0;flex-direction:column;height:100%}.tgcChart__wrapper text{cursor:pointer}.tgcChart__label{font-weight:700;text-align:center;width:100%}.tgcChart__warning{width:16px}",""]),e.exports=t},function(e,t,n){var r=n(30),o=n(38);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);r(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},function(e,t,n){(t=n(31)(!1)).push([e.i,".tgcChart__wrapper{display:flex;flex:1 1 0;flex-direction:column;height:100%}.tgcChart__wrapper text{cursor:pointer}.tgcChart__label{font-weight:700;text-align:center;width:100%}.tgcChart__warning{width:16px}",""]),e.exports=t},function(e,t,n){"use strict";e.exports=n(40)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(41);n(23),n(32),n(33);var o=r.default({key:"css"}),a=o.flush,i=o.hydrate,s=o.cx,c=o.merge,l=o.getRegisteredStyles,u=o.injectGlobal,d=o.keyframes,f=o.css,g=o.sheet,p=o.cache;t.cache=p,t.css=f,t.cx=s,t.flush=a,t.getRegisteredStyles=l,t.hydrate=i,t.injectGlobal=u,t.keyframes=d,t.merge=c,t.sheet=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(23),o=n(32),a=n(33);function i(e){return e&&e.__esModule?e:{default:e}}var s=i(r);function c(e,t){if(void 0===e.inserted[t.name])return e.insert("",t,e.sheet,!0)}function l(e,t,n){var r=[],o=a.getRegisteredStyles(e,r,n);return r.length<2?n:o+t(r)}var u=function e(t){for(var n="",r=0;r<t.length;r++){var o=t[r];if(null!=o){var a=void 0;switch(typeof o){case"boolean":break;case"object":if(Array.isArray(o))a=e(o);else for(var i in a="",o)o[i]&&i&&(a&&(a+=" "),a+=i);break;default:a=o}a&&(n&&(n+=" "),n+=a)}}return n};t.default=function(e){var t=s.default(e);t.sheet.speedy=function(e){this.isSpeedy=e},t.compat=!0;var n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=o.serializeStyles(n,t.registered,void 0);return a.insertStyles(t,i,!1),t.key+"-"+i.name};return{css:n,cx:function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return l(t.registered,n,u(r))},injectGlobal:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=o.serializeStyles(n,t.registered);c(t,a)},keyframes:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=o.serializeStyles(n,t.registered),i="animation-"+a.name;return c(t,{name:a.name,styles:"@keyframes "+i+"{"+a.styles+"}"}),i},hydrate:function(e){e.forEach((function(e){t.inserted[e]=!0}))},flush:function(){t.registered={},t.inserted={},t.sheet.flush()},sheet:t.sheet,cache:t,getRegisteredStyles:a.getRegisteredStyles.bind(null,t.registered),merge:l.bind(null,t.registered,n)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(43),o=n(45),a=n(47);function i(e){return e&&e.__esModule?e:{default:e}}var s=i(r),c=i(o),l=/[A-Z]|^ms/g,u=/_EMO_([^_]+?)_([^]*?)_EMO_/g,d=function(e){return 45===e.charCodeAt(1)},f=function(e){return null!=e&&"boolean"!=typeof e},g=i(a).default((function(e){return d(e)?e:e.replace(l,"-$&").toLowerCase()})),p=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(u,(function(e,t,n){return h={name:t,styles:n,next:h},t}))}return 1===c.default[e]||d(e)||"number"!=typeof t||0===t?t:t+"px"};function m(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return h={name:n.name,styles:n.styles,next:h},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)h={name:r.name,styles:r.styles,next:h},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=m(e,t,n[o])+";";else for(var a in n){var i=n[a];if("object"!=typeof i)null!=t&&void 0!==t[i]?r+=a+"{"+t[i]+"}":f(i)&&(r+=g(a)+":"+p(a,i)+";");else if(!Array.isArray(i)||"string"!=typeof i[0]||null!=t&&void 0!==t[i[0]]){var s=m(e,t,i);switch(a){case"animation":case"animationName":r+=g(a)+":"+s+";";break;default:r+=a+"{"+s+"}"}}else for(var c=0;c<i.length;c++)f(i[c])&&(r+=g(a)+":"+p(a,i[c])+";")}return r}(e,t,n);case"function":if(void 0!==e){var o=h,a=n(e);return h=o,m(e,t,a)}}if(null==t)return n;var i=t[n];return void 0!==i?i:n}var h,y=/label:\s*([^\s;\n{]+)\s*(;|$)/g;t.serializeStyles=function(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,o="";h=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,o+=m(n,t,a)):o+=a[0];for(var i=1;i<e.length;i++)o+=m(n,t,e[i]),r&&(o+=a[i]);y.lastIndex=0;for(var c,l="";null!==(c=y.exec(o));)l+="-"+c[1];return{name:s.default(o)+l,styles:o,next:h}}},function(e,t,n){"use strict";e.exports=n(44)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t,n=0,r=0,o=e.length;o>=4;++r,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(o){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}},function(e,t,n){"use strict";e.exports=n(46)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},function(e,t,n){"use strict";e.exports=n(48)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="undefined"!=typeof document,o=function(e,t,n){var o=e.key+"-"+t.name;(!1===n||!1===r&&void 0!==e.compat)&&void 0===e.registered[o]&&(e.registered[o]=t.styles)};t.getRegisteredStyles=function(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r},t.insertStyles=function(e,t,n){o(e,t,n);var a=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i="",s=t;do{var c=e.insert(t===s?"."+a:"",s,e.sheet,!0);r||void 0===c||(i+=c),s=s.next}while(void 0!==s);if(!r&&0!==i.length)return i}},t.registerStyles=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(28),o=n(8),a=r.__importDefault(n(51));t.default=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=[]);var r=a.default(e,t),i=r[0],s=r[1],c=r[2];return o.useEffect(c,n),[i,s]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8);t.default=function(e,t){void 0===t&&(t=0);var n=r.useRef(!1),o=r.useRef(),a=r.useRef(e),i=r.useCallback((function(){return n.current}),[]),s=r.useCallback((function(){n.current=!1,o.current&&clearTimeout(o.current),o.current=setTimeout((function(){n.current=!0,a.current()}),t)}),[t]),c=r.useCallback((function(){n.current=null,o.current&&clearTimeout(o.current)}),[]);return r.useEffect((function(){a.current=e}),[e]),r.useEffect((function(){return s(),c}),[t]),[i,c,s]}},,,function(e,t,n){"use strict";n.r(t),n.d(t,"TagCloudChart",(function(){return fe})),n.d(t,"default",(function(){return fe}));var r=n(9),o=n.n(r),a=n(8),i=n(11),s=n(0),c=n(25),l=n(20),u=n(39),d=n(22);const f={subdued:Object(u.css)("fill:",d.euiThemeVars.euiTextSubduedColor,";",""),accent:Object(u.css)("fill:",d.euiThemeVars.euiColorVis0,";","")};var g=n(2);const p=({title:e,titleId:t,...n})=>Object(g.jsx)("svg",o()({xmlns:"http://www.w3.org/2000/svg",width:"30",height:"22",viewBox:"0 0 30 22"},n),e?Object(g.jsx)("title",{id:t}):null,Object(g.jsx)("path",{d:"M19 5a2 2 0 0 1 2-2h4a2 2 0 1 1 0 4h-4a2 2 0 0 1-2-2ZM2 11a2 2 0 0 1 2-2h8a2 2 0 1 1 0 4H4a2 2 0 0 1-2-2Zm15 4a2 2 0 1 0 0 4h6a2 2 0 1 0 0-4h-6Z",className:f.accent}),Object(g.jsx)("path",{d:"M6 4a1 1 0 0 0 0 2h4a1 1 0 1 0 0-2H6Zm8 0a1 1 0 1 0 0 2h2a1 1 0 1 0 0-2h-2Zm2 7a1 1 0 0 1 1-1h10a1 1 0 1 1 0 2H17a1 1 0 0 1-1-1Zm-8 5a1 1 0 1 0 0 2h4a1 1 0 1 0 0-2H8Z",className:f.subdued}));var m=n(26),h=n(27),y=n(29),v=n.n(y);function b(e){try{return v()(e)}catch{return v()("red")}}function x(e,t){const[n,r,o]=b(e).rgb();return`rgba(${n},${r},${o},${t})`}function C(e,t){const[n,r,o,a]=b(e).rgba(),[i,s,c,l]=b(t).rgba();if(1===a)return v.a.rgb(n,r,o).hex();const u=a+l*(1-a);return 0===u?"#00000000":`rgba(${Math.round((n*a+i*l*(1-a))/u)}, ${Math.round((r*a+s*l*(1-a))/u)}, ${Math.round((o*a+c*l*(1-a))/u)}, ${u})`}n(21);var M=n(24);const w=Object(M.createSlice)({name:"colorMapping",initialState:{assignmentMode:"auto",assignments:[],specialAssignments:[],paletteId:"eui",colorMode:{type:"categorical"}},reducers:{updateModel:(e,t)=>{e.assignmentMode=t.payload.assignmentMode,e.assignments=[...t.payload.assignments],e.specialAssignments=[...t.payload.specialAssignments],e.paletteId=t.payload.paletteId,e.colorMode={...t.payload.colorMode}},updatePalette:(e,t)=>{e.paletteId=t.payload.paletteId,e.assignments=[...t.payload.assignments],e.colorMode={...t.payload.colorMode}},assignStatically:(e,t)=>{e.assignmentMode="manual",e.assignments=[...t.payload]},assignAutomatically:e=>{e.assignmentMode="auto",e.assignments=[]},addNewAssignment:(e,t)=>{e.assignments.push({...t.payload})},updateAssignment:(e,t)=>{e.assignments[t.payload.assignmentIndex]={...t.payload.assignment,touched:!0}},updateAssignmentRule:(e,t)=>{e.assignments[t.payload.assignmentIndex]={...e.assignments[t.payload.assignmentIndex],rule:t.payload.rule}},updateAssignmentColor:(e,t)=>{e.assignments[t.payload.assignmentIndex]={...e.assignments[t.payload.assignmentIndex],color:t.payload.color,touched:!0}},updateSpecialAssignmentColor:(e,t)=>{e.specialAssignments[t.payload.assignmentIndex]={...e.specialAssignments[t.payload.assignmentIndex],color:t.payload.color,touched:!0}},removeAssignment:(e,t)=>{e.assignments.splice(t.payload,1)},changeColorMode:(e,t)=>{e.colorMode={...t.payload}},updateGradientColorStep:(e,t)=>{"gradient"===e.colorMode.type&&(e.colorMode={...e.colorMode,steps:e.colorMode.steps.map(((e,n)=>n===t.payload.index?{...t.payload.color,touched:!0}:{...e,touched:!1}))})},removeGradientColorStep:(e,t)=>{if("gradient"!==e.colorMode.type)return;const n=[...e.colorMode.steps];n.splice(t.payload,1);const r=2===e.colorMode.steps.length?"desc"===e.colorMode.sort?0===t.payload?"asc":"desc":0===t.payload?"desc":"asc":e.colorMode.sort;e.colorMode={...e.colorMode,steps:[...n],sort:r}},addGradientColorStep:(e,t)=>{"gradient"===e.colorMode.type&&(e.colorMode={...e.colorMode,steps:[...e.colorMode.steps.slice(0,t.payload.at),{...t.payload.color,touched:!1},...e.colorMode.steps.slice(t.payload.at)]})},changeGradientSortOrder:(e,t)=>{"gradient"===e.colorMode.type&&(e.colorMode={...e.colorMode,sort:t.payload})}}}),{updatePalette:j,assignStatically:_,assignAutomatically:O,addNewAssignment:A,updateAssignment:S,updateAssignmentColor:k,updateSpecialAssignmentColor:I,updateAssignmentRule:P,removeAssignment:R,changeColorMode:E,updateGradientColorStep:T,removeGradientColorStep:N,addGradientColorStep:G,changeGradientSortOrder:L,updateModel:z}=w.actions;w.reducer;var $=n(10);const D=["#f2f4fb","#d4d9e5","#98a2b3","#696f7d","#353642"],F=D.slice(),B=D.slice().reverse(),V={id:"neutral",name:"Neutral",colorCount:F.length,type:"categorical",getColor:(e,t)=>t?B[e]:F[e]};n(50);const U=Object(M.createSlice)({name:"colorMapping",initialState:{colorPicker:{index:0,visibile:!1,type:"assignment"}},reducers:{colorPickerVisibility:(e,t)=>{e.colorPicker.visibile=t.payload.visible,e.colorPicker.index=t.payload.index,e.colorPicker.type=t.payload.type},switchColorPickerVisibility:e=>{e.colorPicker.visibile=!e.colorPicker.visibile},showColorPickerVisibility:e=>{e.colorPicker.visibile=!0},hideColorPickerVisibility:e=>{e.colorPicker.visibile=!1}}}),{colorPickerVisibility:H,switchColorPickerVisibility:Z,showColorPickerVisibility:W,hideColorPickerVisibility:J}=U.actions;U.reducer;const q=["#20377d","#7de2d1","#ff957d","#f04e98","#0077cc","#fec514"],K={id:"elastic_brand_2023",name:"Elastic Brand",colorCount:q.length,type:"categorical",getColor:e=>q[e]},Q=["#54b399","#6092c0","#d36086","#9170b8","#ca8eae","#d6bf57","#b9a888","#da8b45","#aa6556","#e7664c"],X={id:"eui_amsterdam_color_blind",name:"Default",colorCount:Q.length,type:"categorical",getColor:e=>Q[e]},Y=["#00a69b","#57c17b","#6f87d8","#663db8","#bc52bc","#9e3533","#daa05d"],ee={id:"kibana_v7_legacy",name:"Kibana Legacy",colorCount:Y.length,type:"categorical",getColor:e=>Y[e]},te=new Map([[X.id,X],[K.id,K],[ee.id,ee],[V.id,V]]);const ne=10;function re(e,t){switch(e.type){case"matchExactly":return Array.isArray(t)?e.values.some((e=>Array.isArray(e)&&e.length===t.length&&e.every(((e,n)=>e===t[n])))):e.values.includes(`${t}`);case"matchExactlyCI":return e.values.some((e=>e.toLowerCase()===`${t}`));case"range":return"number"==typeof t&&function(e,t){return e.min===e.max&&e.min===t||(e.minInclusive?t>=e.min:t>e.min)&&(e.maxInclusive?t<=e.max:t<e.max)}(e,t);default:return!1}}function oe(e,t,n,r,o,a){switch(t.type){case"colorCode":case"categorical":return ae(t,n,r);case"gradient":{if("categorical"===e.type)return"red";const t=function(e,t,n){const r=1===e.steps.length?[ae(e.steps[0],t,n),C(x(ae(e.steps[0],t,n),.3),n?"black":"white")]:e.steps.map((e=>ae(e,t,n)));r.sort((()=>"asc"===e.sort?-1:1));const o=v.a.scale(r).mode("lab");return e=>o(e).hex()}(e,n,r);return 0===a?"red":t(1===a?0:o/(a-1))}}}function ae(e,t,n){return"colorCode"===e.type?e.colorCode:b(t(e.paletteId).getColor(e.colorIndex,n)).hex()}new Map([["__other__",s.i18n.translate("coloring.colorMapping.terms.otherBucketLabel",{defaultMessage:"Other"})],["",s.i18n.translate("coloring.colorMapping.terms.emptyLabel",{defaultMessage:"(empty)"})]]);var ie=n(6),se=n(5),ce=n(12),le=n(1);n(34);const ue=(e,t,n,r,o)=>{var a,i;return null==e||null===(a=e.get(null==t?void 0:t.name))||void 0===a?void 0:a.getCategoricalColor([{name:n,rankAtDepth:r.length?r.findIndex((e=>e===n)):0,totalSeriesAtDepth:r.length||1}],{maxDepth:1,totalSeries:r.length||1,behindText:!1,syncColors:o},null!==(i=null==t?void 0:t.params)&&void 0!==i?i:{colors:[]})},de={[le.b.SINGLE]:{endAngle:0,angleCount:360},[le.b.RIGHT_ANGLED]:{endAngle:90,angleCount:2},[le.b.MULTIPLE]:{endAngle:-90,angleCount:12}},fe=({visData:e,visParams:t,palettesRegistry:n,fireEvent:r,renderComplete:u,syncColors:d,overrides:f,isDarkMode:y})=>{const[v,b]=Object(a.useState)(!1),{bucket:x,metric:C,scale:M,palette:w,showLabel:j,orientation:_,colorMapping:O}=t,A=Object(a.useMemo)((()=>x?Object(ce.a)().deserialize(Object(se.getFormatByAccessor)(x,e.columns)):null),[x,e.columns]),S=Object(a.useMemo)((()=>{const t=x?Object(se.getColumnByAccessor)(x,e.columns):null,r=x?t.id:void 0,o=Object(se.getColumnByAccessor)(C,e.columns).id,a=e.rows.map((e=>e[o])),i=x&&void 0!==r?e.rows.map((e=>e[r])):[],s=Math.max(...a),c=Math.min(...a),l=function(e,t,n,r){var o,a;if(r)return function(e,t,n,r){const o=t(e.paletteId),a="auto"===e.assignmentMode?function(e,t,n){const r="categorical"===n.type,o="categories"===e.type?e.categories.length:e.bins,a=r?Math.min(t.colorCount,o):Math.min(ne,o);return("categories"===e.type?e.categories.map((e=>({type:"matchExactly",values:[e]}))):Array.from({length:e.bins},((t,n)=>{const r=(e.max-e.min)/e.bins;return{type:"range",min:e.max-n*r-r,max:e.max-n*r,minInclusive:!0,maxInclusive:!1}}))).slice(0,a).map(((e,n)=>r?{rule:e,color:{type:"categorical",paletteId:t.id,colorIndex:n},touched:!1}:{rule:e,color:{type:"gradient"},touched:!1}))}(r,o,e.colorMode):e.assignments,i="categories"===r.type?a.filter((e=>"auto"===e.rule.type||"matchExactly"===e.rule.type&&0===e.rule.values.length)):[],s="categories"===r.type?r.categories.filter((e=>!a.some((({rule:t})=>re(t,e))))):[];return r=>{if("string"==typeof r||Array.isArray(r)){const o=s.indexOf(r);if(o>-1){if(o<i.length){const r=a.findIndex((e=>e===i[o]));return oe(e.colorMode,i[o].color,t,n,r,a.length)}return ae(e.specialAssignments[0].color,t,n)}const c=a.findIndex((({rule:e})=>re(e,r)));if(c>-1){const r=a[c];return oe(e.colorMode,r.color,t,n,c,a.length)}return ae(e.specialAssignments[0].color,t,n)}{const o=a.findIndex((({rule:e})=>re(e,r)));if(o>-1){const r=a[o];return oe(e.colorMode,r.color,t,n,o,a.length)}return ae(e.specialAssignments[0].color,t,n)}}}(JSON.parse(r),(o=te,a=V,e=>{var t;return null!==(t=o.get(e))&&void 0!==t?t:a}),n,{type:"categories",categories:Object(ie.c)(t,e)})}(r,e.rows,y,O);return e.rows.map((t=>{const a=void 0===r?"all":t[r],u=Object($.isMultiFieldKey)(a)?a.keys.map(String):`${a}`;return{text:A?A.convert(a,"text"):a,weight:"all"===a||e.rows.length<=1?1:(f=t[o],g=c,p=s,0,1,1*(f-g)/(p-g)+0||0),color:l?l(u):ue(n,w,a,i,d)||"rgba(0,0,0,0)"};var f,g,p}))}),[x,A,C,w,n,d,e.columns,e.rows,O,y]);Object(a.useEffect)((()=>{v&&b(!1)}),[S]);const k=x?`${Object(se.getColumnByAccessor)(x,e.columns).name} - ${Object(se.getColumnByAccessor)(C,e.columns).name}`:"",I=Object(a.useCallback)((e=>{e&&u()}),[u]),P=Object(a.useMemo)((()=>Object(c.throttle)((()=>{b(!1)}),300)),[]),R=Object(a.useCallback)((t=>{if(!x)return;const n=Object(se.getColumnByAccessor)(x,e.columns).id,o=t[0][0].text,a=e.columns.findIndex((e=>e.id===n));if(a<0)return;const i=e.rows.findIndex((e=>(A?A.convert(e[n],"text"):e[n])===o));i<0||r({name:"filter",data:{data:[{table:e,column:a,row:i}]}})}),[x,A,r,e]);return 0===e.rows.length?Object(g.jsx)(h.EmptyPlaceholder,{icon:p,renderComplete:u}):Object(g.jsx)(l.EuiResizeObserver,{onResize:P},(e=>Object(g.jsx)("div",{className:"tgcChart__wrapper",ref:e,"data-test-subj":"tagCloudVisualization"},Object(g.jsx)(m.Chart,o()({size:"100%"},Object(ie.d)(f,"chart")),Object(g.jsx)(m.Settings,o()({onElementClick:R,onRenderChange:I,ariaLabel:t.ariaLabel,ariaUseDefaultSummary:!t.ariaLabel,locale:s.i18n.getLocale()},Object(ie.d)(f,"settings"))),Object(g.jsx)(m.Wordcloud,{id:"tagCloud",startAngle:0,endAngle:de[_].endAngle,angleCount:de[_].angleCount,padding:5,fontWeight:400,fontFamily:"Inter UI, sans-serif",fontStyle:"normal",minFontSize:t.minFontSize,maxFontSize:t.maxFontSize,spiral:"archimedean",data:S,weightFn:M===le.c.SQUARE_ROOT?"squareRoot":M,outOfRoomCallback:()=>{b(!0)}})),k&&j&&Object(g.jsx)("div",{className:"tgcChart__label","data-test-subj":"tagCloudLabel"},k),!t.isPreview&&v&&Object(g.jsx)("div",{className:"tgcChart__warning"},Object(g.jsx)(l.EuiIconTip,{type:"warning",color:"warning",content:Object(g.jsx)(i.FormattedMessage,{id:"expressionTagcloud.feedbackMessage.tooSmallContainerDescription",defaultMessage:"The container is too small to display the entire cloud. Tags might be cropped or omitted."})})),!t.isPreview&&S.length>200&&Object(g.jsx)("div",{className:"tgcChart__warning"},Object(g.jsx)(l.EuiIconTip,{type:"warning",color:"warning",content:Object(g.jsx)(i.FormattedMessage,{id:"expressionTagcloud.feedbackMessage.truncatedTagsDescription",defaultMessage:"The number of tags has been truncated to avoid long draw times."})})))))}}])]);