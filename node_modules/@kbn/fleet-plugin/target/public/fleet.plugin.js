/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */!function(e){function t(t){for(var n,i,a=t[0],o=t[1],u=0,c=[];u<a.length;u++)i=a[u],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&c.push(r[i][0]),r[i]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);for(s&&s(t);c.length;)c.shift()()}var n={},r={1:0};function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise((function(t,i){n=r[e]=[t,i]}));t.push(n[2]=a);var o,u=document.createElement("script");u.charset="utf-8",u.timeout=120,i.nc&&u.setAttribute("nonce",i.nc),u.src=function(e){return i.p+"fleet.chunk."+e+".js"}(e);var s=new Error;o=function(t){u.onerror=u.onload=null,clearTimeout(c);var n=r[e];if(0!==n){if(n){var i=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;s.message="Loading chunk "+e+" failed.\n("+i+": "+a+")",s.name="ChunkLoadError",s.type=i,s.request=a,n[1](s)}r[e]=void 0}};var c=setTimeout((function(){o({type:"timeout",target:u})}),12e4);u.onerror=u.onload=o,document.head.appendChild(u)}return Promise.all(t)},i.m=e,i.c=n,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i.oe=function(e){throw console.error(e),e};var a=window.fleet_bundle_jsonpfunction=window.fleet_bundle_jsonpfunction||[],o=a.push.bind(a);a.push=t,a=a.slice();for(var u=0;u<a.length;u++)t(a[u]);var s=o;i(i.s=80)}([function(e,t,n){"use strict";n.d(t,"cb",(function(){return r.a})),n.d(t,"rb",(function(){return r.b})),n.d(t,"bb",(function(){return i})),n.d(t,"B",(function(){return u})),n.d(t,"ob",(function(){return s})),n.d(t,"C",(function(){return g})),n.d(t,"s",(function(){return m})),n.d(t,"pb",(function(){return b})),n.d(t,"h",(function(){return _})),n.d(t,"db",(function(){return v})),n.d(t,"jb",(function(){return E})),n.d(t,"T",(function(){return h})),n.d(t,"R",(function(){return T})),n.d(t,"vb",(function(){return y})),n.d(t,"n",(function(){return P})),n.d(t,"f",(function(){return I})),n.d(t,"A",(function(){return O})),n.d(t,"zb",(function(){return A})),n.d(t,"c",(function(){return k})),n.d(t,"wb",(function(){return N})),n.d(t,"sb",(function(){return R})),n.d(t,"u",(function(){return S})),n.d(t,"m",(function(){return L})),n.d(t,"b",(function(){return j})),n.d(t,"l",(function(){return x})),n.d(t,"a",(function(){return w})),n.d(t,"d",(function(){return C})),n.d(t,"e",(function(){return $})),n.d(t,"Z",(function(){return D})),n.d(t,"k",(function(){return M})),n.d(t,"i",(function(){return U})),n.d(t,"Ab",(function(){return F})),n.d(t,"gb",(function(){return G})),n.d(t,"t",(function(){return B})),n.d(t,"qb",(function(){return q})),n.d(t,"mb",(function(){return V.p})),n.d(t,"o",(function(){return V.a})),n.d(t,"Y",(function(){return V.n})),n.d(t,"N",(function(){return V.i})),n.d(t,"V",(function(){return V.l})),n.d(t,"O",(function(){return V.j})),n.d(t,"H",(function(){return V.c})),n.d(t,"X",(function(){return V.m})),n.d(t,"Q",(function(){return V.k})),n.d(t,"M",(function(){return V.h})),n.d(t,"L",(function(){return V.g})),n.d(t,"K",(function(){return V.f})),n.d(t,"J",(function(){return V.e})),n.d(t,"I",(function(){return V.d})),n.d(t,"r",(function(){return V.b})),n.d(t,"ab",(function(){return V.o})),n.d(t,"Cb",(function(){return V.t})),n.d(t,"Db",(function(){return V.u})),n.d(t,"Bb",(function(){return V.q})),n.d(t,"kb",(function(){return K})),n.d(t,"Nb",(function(){return z})),n.d(t,"fb",(function(){return H})),n.d(t,"Gb",(function(){return Y})),n.d(t,"Fb",(function(){return X})),n.d(t,"Hb",(function(){return Q})),n.d(t,"Jb",(function(){return J})),n.d(t,"Ib",(function(){return W})),n.d(t,"Lb",(function(){return Z})),n.d(t,"Eb",(function(){return ee})),n.d(t,"Mb",(function(){return te})),n.d(t,"Kb",(function(){return ne})),n.d(t,"ub",(function(){return re})),n.d(t,"lb",(function(){return ie})),n.d(t,"y",(function(){return ae})),n.d(t,"tb",(function(){return ue})),n.d(t,"p",(function(){return le})),n.d(t,"eb",(function(){return pe})),n.d(t,"v",(function(){return fe})),n.d(t,"U",(function(){return ge})),n.d(t,"x",(function(){return Ee})),n.d(t,"w",(function(){return he})),n.d(t,"E",(function(){return Te})),n.d(t,"D",(function(){return ye})),n.d(t,"G",(function(){return Pe})),n.d(t,"F",(function(){return Ie})),n.d(t,"ib",(function(){return Oe})),n.d(t,"hb",(function(){return Ae})),n.d(t,"q",(function(){return ke})),n.d(t,"yb",(function(){return Ne})),n.d(t,"xb",(function(){return xe})),n.d(t,"S",(function(){return we})),n.d(t,"W",(function(){return Ce})),n.d(t,"P",(function(){return $e})),n.d(t,"j",(function(){return Re})),n.d(t,"nb",(function(){return Se})),n.d(t,"g",(function(){return Le})),n.d(t,"z",(function(){return je}));var r=n(31);const i=".kibana_ingest",a="/internal/fleet",o="/api/fleet",u=`${o}/epm`,s=`${o}/package_policies`,c=`${o}/agent_policies`,l=`${o}/kubernetes`,d=`${u}/packages`,p=`${d}/{pkgkey}`,f=`${d}/{pkgName}/{pkgVersion}`,g={BULK_INSTALL_PATTERN:`${d}/_bulk`,LIST_PATTERN:d,INSTALLED_LIST_PATTERN:`${u}/packages/installed`,LIMITED_LIST_PATTERN:`${d}/limited`,INFO_PATTERN:f,DATA_STREAMS_PATTERN:`${u}/data_streams`,INSTALL_FROM_REGISTRY_PATTERN:f,INSTALL_BY_UPLOAD_PATTERN:d,CUSTOM_INTEGRATIONS_PATTERN:`${u}/custom_integrations`,DELETE_PATTERN:f,FILEPATH_PATTERN:`${f}/{filePath*}`,CATEGORIES_PATTERN:`${u}/categories`,VERIFICATION_KEY_ID:`${u}/verification_key_id`,STATS_PATTERN:`${d}/{pkgName}/stats`,BULK_ASSETS_PATTERN:`${u}/bulk_assets`,INPUTS_PATTERN:`${u}/templates/{pkgName}/{pkgVersion}/inputs`,INFO_PATTERN_DEPRECATED:p,INSTALL_FROM_REGISTRY_PATTERN_DEPRECATED:p,DELETE_PATTERN_DEPRECATED:p,REAUTHORIZE_TRANSFORMS:`${f}/transforms/authorize`},m={LIST_PATTERN:`${o}/data_streams`},b={LIST_PATTERN:`${s}`,BULK_GET_PATTERN:`${s}/_bulk_get`,INFO_PATTERN:`${s}/{packagePolicyId}`,CREATE_PATTERN:`${s}`,UPDATE_PATTERN:`${s}/{packagePolicyId}`,DELETE_PATTERN:`${s}/delete`,UPGRADE_PATTERN:`${s}/upgrade`,DRYRUN_PATTERN:`${s}/upgrade/dryrun`,ORPHANED_INTEGRATION_POLICIES:`${a}/orphaned_integration_policies`},_={LIST_PATTERN:`${c}`,BULK_GET_PATTERN:`${c}/_bulk_get`,INFO_PATTERN:`${c}/{agentPolicyId}`,CREATE_PATTERN:`${c}`,UPDATE_PATTERN:`${c}/{agentPolicyId}`,COPY_PATTERN:`${c}/{agentPolicyId}/copy`,DELETE_PATTERN:`${c}/delete`,FULL_INFO_PATTERN:`${c}/{agentPolicyId}/full`,FULL_INFO_DOWNLOAD_PATTERN:`${c}/{agentPolicyId}/download`},v={K8S_DOWNLOAD_PATTERN:`${l}/download`,K8S_INFO_PATTERN:`${l}`},E={LIST_PATTERN:`${o}/outputs`,INFO_PATTERN:`${o}/outputs/{outputId}`,UPDATE_PATTERN:`${o}/outputs/{outputId}`,DELETE_PATTERN:`${o}/outputs/{outputId}`,CREATE_PATTERN:`${o}/outputs`,GET_OUTPUT_HEALTH_PATTERN:`${o}/outputs/{outputId}/health`,LOGSTASH_API_KEY_PATTERN:`${o}/logstash_api_keys`},h={LIST_PATTERN:`${o}/fleet_server_hosts`,CREATE_PATTERN:`${o}/fleet_server_hosts`,INFO_PATTERN:`${o}/fleet_server_hosts/{itemId}`,UPDATE_PATTERN:`${o}/fleet_server_hosts/{itemId}`,DELETE_PATTERN:`${o}/fleet_server_hosts/{itemId}`},T={LIST_PATTERN:`${o}/proxies`,CREATE_PATTERN:`${o}/proxies`,INFO_PATTERN:`${o}/proxies/{itemId}`,UPDATE_PATTERN:`${o}/proxies/{itemId}`,DELETE_PATTERN:`${o}/proxies/{itemId}`},y={INFO_PATTERN:`${o}/settings`,UPDATE_PATTERN:`${o}/settings`},P={HEALTH_CHECK_PATTERN:`${o}/health_check`,CHECK_PERMISSIONS_PATTERN:`${o}/check-permissions`,GENERATE_SERVICE_TOKEN_PATTERN:`${o}/service_tokens`,GENERATE_SERVICE_TOKEN_PATTERN_DEPRECATED:`${o}/service-tokens`},I={LIST_PATTERN:`${o}/agents`,INFO_PATTERN:`${o}/agents/{agentId}`,UPDATE_PATTERN:`${o}/agents/{agentId}`,BULK_UPDATE_AGENT_TAGS_PATTERN:`${o}/agents/bulk_update_agent_tags`,DELETE_PATTERN:`${o}/agents/{agentId}`,CHECKIN_PATTERN:`${o}/agents/{agentId}/checkin`,ACKS_PATTERN:`${o}/agents/{agentId}/acks`,ACTIONS_PATTERN:`${o}/agents/{agentId}/actions`,CANCEL_ACTIONS_PATTERN:`${o}/agents/actions/{actionId}/cancel`,UNENROLL_PATTERN:`${o}/agents/{agentId}/unenroll`,BULK_UNENROLL_PATTERN:`${o}/agents/bulk_unenroll`,REASSIGN_PATTERN:`${o}/agents/{agentId}/reassign`,BULK_REASSIGN_PATTERN:`${o}/agents/bulk_reassign`,REQUEST_DIAGNOSTICS_PATTERN:`${o}/agents/{agentId}/request_diagnostics`,BULK_REQUEST_DIAGNOSTICS_PATTERN:`${o}/agents/bulk_request_diagnostics`,AVAILABLE_VERSIONS_PATTERN:`${o}/agents/available_versions`,STATUS_PATTERN:`${o}/agent_status`,DATA_PATTERN:`${o}/agent_status/data`,STATUS_PATTERN_DEPRECATED:`${o}/agent-status`,UPGRADE_PATTERN:`${o}/agents/{agentId}/upgrade`,BULK_UPGRADE_PATTERN:`${o}/agents/bulk_upgrade`,ACTION_STATUS_PATTERN:`${o}/agents/action_status`,LIST_TAGS_PATTERN:`${o}/agents/tags`,LIST_UPLOADS_PATTERN:`${o}/agents/{agentId}/uploads`,GET_UPLOAD_FILE_PATTERN:`${o}/agents/files/{fileId}/{fileName}`},O={CREATE_PATTERN:`${o}/enrollment_api_keys`,LIST_PATTERN:`${o}/enrollment_api_keys`,INFO_PATTERN:`${o}/enrollment_api_keys/{keyId}`,DELETE_PATTERN:`${o}/enrollment_api_keys/{keyId}`,CREATE_PATTERN_DEPRECATED:`${o}/enrollment-api-keys`,LIST_PATTERN_DEPRECATED:`${o}/enrollment-api-keys`,INFO_PATTERN_DEPRECATED:`${o}/enrollment-api-keys/{keyId}`,DELETE_PATTERN_DEPRECATED:`${o}/enrollment-api-keys/{keyId}`},A={LIST_PATTERN:`${o}/uninstall_tokens`,INFO_PATTERN:`${o}/uninstall_tokens/{uninstallTokenId}`},k={INFO_PATTERN:`${o}/agents/setup`,CREATE_PATTERN:`${o}/agents/setup`},N=`${o}/setup`,R={RESET_PATTERN:`${a}/reset_preconfigured_agent_policies`,RESET_ONE_PATTERN:`${a}/reset_preconfigured_agent_policies/{agentPolicyId}`},S={LIST_PATTERN:`${o}/agent_download_sources`,INFO_PATTERN:`${o}/agent_download_sources/{sourceId}`,CREATE_PATTERN:`${o}/agent_download_sources`,UPDATE_PATTERN:`${o}/agent_download_sources/{sourceId}`,DELETE_PATTERN:`${o}/agent_download_sources/{sourceId}`},L={public:{v1:"2023-10-31"},internal:{v1:"1"}},j="fleet-agents",x=3e4,w=".fleet-agents",C=".fleet-actions",$=".fleet-actions-results",D=["STARTING","CONFIGURING","HEALTHY","DEGRADED","FAILED","STOPPING","STOPPED"],M="ingest-agent-policies",U=".fleet-policies",F={Active:"active",Inactive:"inactive"},G="platinum",B=750,q="ingest-package-policies";var V=n(34);const K="ingest-outputs",z={Elasticsearch:"elasticsearch",Logstash:"logstash",Kafka:"kafka",RemoteElasticsearch:"remote_elasticsearch"},H=(z.Elasticsearch,"platinum"),Y={None:"none",Snappy:"snappy",Lz4:"lz4",Gzip:"gzip"},X={Userpass:"user_pass",Ssl:"ssl",Kerberos:"kerberos",None:"none"},Q={Plaintext:"plaintext",Encryption:"encryption"},J={Plain:"PLAIN",ScramSha256:"SCRAM-SHA-256",ScramSha512:"SCRAM-SHA-512"},W={Random:"random",RoundRobin:"round_robin",Hash:"hash"},Z={Equals:"equals",Contains:"contains",Regexp:"regexp"},ee={Commit:1,Replica:-1,DoNotWait:0},te={Full:"full",None:"none",Strict:"strict",Certificate:"certificate"},ne=["0.8.2.0","0.8.2.1","0.8.2.2","0.9.0.0","0.9.0.1","0.10.0.0","0.10.0.1","0.10.1.0","0.10.1.1","0.10.2.0","0.10.2.1","0.10.2.2","0.11.0.0","0.11.0.1","0.11.0.2","0.11.0.3","1.0.0","1.0.1","1.0.2","1.1.0","1.1.1","2.0.0","2.0.1","2.1.0","2.1.1","2.2.0","2.2.1","2.2.2","2.3.0","2.3.1","2.4.0","2.4.1","2.5.0","2.5.1","2.6.0"],re=["bulk_max_size","compression_level","connection_idle_timeout","queue.mem.events","queue.mem.flush.min_events","queue.mem.flush.timeout","workers"],ie=[z.Elasticsearch,z.RemoteElasticsearch],ae=".fleet-enrollment-api-keys";var oe=n(14);const ue="fleet-preconfiguration-deletion-record",se="latest",ce=V.r.map((e=>({name:e,version:se}))),le=V.s.map((e=>({name:e,version:se}))),de=[V.n,V.i,V.l].map((e=>({name:e,version:se}))),pe=Object(oe.uniqBy)([...le,...de,...ce],(({name:e})=>e)),fe="ingest-download-sources",ge="fleet-fleet-server-host";var me=n(21),be=n(4);const _e=Object.freeze({kibana:{id:"kibana",label:be.i18n.translate("core.ui.kibanaNavList.label",{defaultMessage:"Analytics"}),euiIconType:"logoKibana",order:1e3},enterpriseSearch:{id:"enterpriseSearch",label:be.i18n.translate("core.ui.searchNavList.label",{defaultMessage:"Search"}),order:2e3,euiIconType:"logoEnterpriseSearch"},observability:{id:"observability",label:be.i18n.translate("core.ui.observabilityNavList.label",{defaultMessage:"Observability"}),euiIconType:"logoObservability",order:3e3},security:{id:"securitySolution",label:be.i18n.translate("core.ui.securityNavList.label",{defaultMessage:"Security"}),order:4e3,euiIconType:"logoSecurity"},management:{id:"management",label:be.i18n.translate("core.ui.managementNavList.label",{defaultMessage:"Management"}),order:5e3,euiIconType:"managementApp"}}),ve="siem",Ee=Object(me.deepFreeze)({readSecuritySolution:{appId:ve,privilegeSplit:"/",privilegeType:"ui",privilegeName:"show"},writeSecuritySolution:{appId:ve,privilegeSplit:"/",privilegeType:"ui",privilegeName:"crud"},writeEndpointList:{appId:_e.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"writeEndpointList"},readEndpointList:{appId:_e.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"readEndpointList"},writeTrustedApplications:{appId:_e.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"writeTrustedApplications"},readTrustedApplications:{appId:_e.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"readTrustedApplications"},writeHostIsolationExceptions:{appId:_e.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"writeHostIsolationExceptions"},readHostIsolationExceptions:{appId:_e.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"readHostIsolationExceptions"},accessHostIsolationExceptions:{appId:_e.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"accessHostIsolationExceptions"},deleteHostIsolationExceptions:{appId:_e.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"deleteHostIsolationExceptions"},writeBlocklist:{appId:_e.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"writeBlocklist"},readBlocklist:{appId:_e.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"readBlocklist"},writeEventFilters:{appId:_e.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"writeEventFilters"},readEventFilters:{appId:_e.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"readEventFilters"},writePolicyManagement:{appId:_e.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"writePolicyManagement"},readPolicyManagement:{appId:_e.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"readPolicyManagement"},writeActionsLogManagement:{appId:_e.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"writeActionsLogManagement"},readActionsLogManagement:{appId:_e.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"readActionsLogManagement"},writeHostIsolation:{appId:_e.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"writeHostIsolation"},writeHostIsolationRelease:{appId:_e.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"writeHostIsolationRelease"},writeProcessOperations:{appId:_e.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"writeProcessOperations"},writeFileOperations:{appId:_e.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"writeFileOperations"},writeExecuteOperations:{appId:_e.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"writeExecuteOperations"}}),he=Object(me.deepFreeze)({showEndpointExceptions:{appId:_e.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"showEndpointExceptions"},crudEndpointExceptions:{appId:_e.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"crudEndpointExceptions"}}),Te=".fleet-fileds-fromhost-meta-*",ye=".fleet-fileds-fromhost-data-*",Pe=".fleet-fileds-tohost-meta-*",Ie=".fleet-fileds-tohost-data-*",Oe=(Object.keys({elastic_agent:{name:"agent",fromHost:!0,toHost:!1},endpoint:{name:"endpoint",fromHost:!0,toHost:!0}}),"fleet-message-signing-keys"),Ae={APM_LOCATOR:"APM_LOCATOR",DASHBOARD_APP:"DASHBOARD_APP_LOCATOR"},ke={ELASTIC_AGENT_OVERVIEW:"elastic_agent-a148dc70-6b3c-11ed-98de-67bdecd21824",ELASTIC_AGENT_AGENT_INFO:"elastic_agent-0600ffa0-6b5e-11ed-98de-67bdecd21824",ELASTIC_AGENT_AGENT_METRICS:"elastic_agent-f47f18cc-9c7d-4278-b2ea-a6dee816d395",ELASTIC_AGENT_INTEGRATIONS:"elastic_agent-1a4e7280-6b5e-11ed-98de-67bdecd21824"},Ne="fleet-uninstall-tokens",Re={properties:{agent_features:{properties:{name:{type:"keyword"},enabled:{type:"boolean"}}},data_output_id:{type:"keyword"},description:{type:"text"},download_source_id:{type:"keyword"},fleet_server_host_id:{type:"keyword"},inactivity_timeout:{type:"integer"},is_default:{type:"boolean"},is_default_fleet_server:{type:"boolean"},is_managed:{type:"boolean"},is_preconfigured:{type:"keyword"},is_protected:{type:"boolean"},monitoring_enabled:{type:"keyword",index:!1},monitoring_output_id:{type:"keyword"},name:{type:"keyword"},namespace:{type:"keyword"},revision:{type:"integer"},schema_version:{type:"version"},status:{type:"keyword"},unenroll_timeout:{type:"integer"},updated_at:{type:"date"},updated_by:{type:"keyword"}}},Se={properties:{name:{type:"keyword"},description:{type:"text"},namespace:{type:"keyword"},enabled:{type:"boolean"},is_managed:{type:"boolean"},policy_id:{type:"keyword"},package:{properties:{name:{type:"keyword"},title:{type:"keyword"},version:{type:"keyword"}}},elasticsearch:{dynamic:!1,properties:{}},vars:{type:"flattened"},inputs:{dynamic:!1,properties:{}},secret_references:{properties:{id:{type:"keyword"}}},revision:{type:"integer"},updated_at:{type:"date"},updated_by:{type:"keyword"},created_at:{type:"date"},created_by:{type:"keyword"}}},Le={properties:{access_api_key_id:{type:"keyword"},action_seq_no:{type:"integer"},active:{type:"boolean"},agent:{properties:{id:{type:"keyword"},version:{type:"keyword"}}},default_api_key:{type:"keyword"},default_api_key_id:{type:"keyword"},enrollment_id:{type:"keyword"},enrolled_at:{type:"date"},last_checkin:{type:"date"},last_checkin_message:{type:"text",properties:{keyword:{type:"keyword"}}},last_checkin_status:{type:"keyword"},last_updated:{type:"date"},local_metadata:{properties:{elastic:{properties:{agent:{properties:{build:{properties:{original:{type:"text",properties:{keyword:{type:"keyword"}}}}},id:{type:"keyword"},log_level:{type:"keyword"},snapshot:{type:"boolean"},upgradeable:{type:"boolean"},version:{type:"text",properties:{keyword:{type:"keyword"}}}}}}},host:{properties:{architecture:{type:"keyword"},hostname:{type:"text",properties:{keyword:{type:"keyword"}}},id:{type:"keyword"},ip:{type:"text",properties:{keyword:{type:"keyword"}}},mac:{type:"text",properties:{keyword:{type:"keyword"}}},name:{type:"text",properties:{keyword:{type:"keyword"}}}}},os:{properties:{family:{type:"keyword"},full:{type:"text",properties:{keyword:{type:"keyword"}}},kernel:{type:"text",properties:{keyword:{type:"keyword"}}},name:{type:"text",properties:{keyword:{type:"keyword"}}},platform:{type:"keyword"},version:{type:"text",properties:{keyword:{type:"keyword"}}}}}}},packages:{type:"keyword"},policy_output_permissions_hash:{type:"keyword"},policy_coordinator_idx:{type:"integer"},policy_id:{type:"keyword"},policy_revision_idx:{type:"integer"},type:{type:"keyword"},tags:{type:"keyword"},unenrolled_at:{type:"date"},unenrollment_started_at:{type:"date"},unenrolled_reason:{type:"keyword"},updated_at:{type:"date"},upgrade_started_at:{type:"date"},upgraded_at:{type:"date"},upgrade_status:{type:"keyword"},upgrade_details:{properties:{target_version:{type:"text",fields:{keyword:{type:"keyword"}}},action_id:{type:"keyword"},state:{type:"keyword"},metadata:{properties:{scheduled_at:{type:"date"},download_percent:{type:"double"},failed_state:{type:"keyword"},error_msg:{type:"text",fields:{keyword:{type:"keyword"}}}}}}},status:{type:"keyword"}}},je={properties:{active:{type:"boolean"},api_key:{type:"keyword"},api_key_id:{type:"keyword"},created_at:{type:"date"},expire_at:{type:"date"},name:{type:"keyword"},policy_id:{type:"keyword"},updated_at:{type:"date"}}},xe=1e4,we=".fleet-artifacts",Ce=".fleet-servers",$e="fleet-enrollment-api-keys"},function(e,t){e.exports=__kbnSharedDeps__.React},function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return l}));var r=n(1),i=n(46);let a;const o=e=>{a=e},u=e=>{if(!a)throw new Error("sendRequest has no http client set");return Object(i.sendRequest)(a,e)},s=async e=>{if(!a)throw new Error("sendRequest has no http client set");const t=await Object(i.sendRequest)(a,e);if(t.error)throw t.error;return t.data},c=e=>{if(!a)throw new Error("sendRequest has no http client set");return Object(i.useRequest)(a,e)},l=e=>{const[t,n]=Object(r.useState)({error:null,data:null,isLoading:!1}),{path:i,method:a,shouldSendRequest:o,query:s,body:c}=e;async function l(){if(e.shouldSendRequest)try{n({data:null,isLoading:!0,error:null});const t=await u({method:e.method,path:e.path,query:e.query,body:e.body,version:e.version});if(t.error)throw t.error;return n({data:t.data,isLoading:!1,error:null}),t}catch(e){n({data:null,isLoading:!1,error:e})}else n({data:null,isLoading:!1,error:null})}return Object(r.useEffect)((()=>{l()}),[i,a,o,JSON.stringify(s),JSON.stringify(c)]),{...t,sendRequest:l}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return r.a})),n.d(t,"a",(function(){return i.b})),n.d(t,"c",(function(){return i.f})),n.d(t,"D",(function(){return i.T})),n.d(t,"g",(function(){return i.k})),n.d(t,"m",(function(){return i.t})),n.d(t,"d",(function(){return i.g})),n.d(t,"k",(function(){return i.p})),n.d(t,"l",(function(){return i.q})),n.d(t,"I",(function(){return i.Z})),n.d(t,"C",(function(){return i.S})),n.d(t,"H",(function(){return i.Y})),n.d(t,"e",(function(){return i.i})),n.d(t,"E",(function(){return i.U})),n.d(t,"n",(function(){return i.u})),n.d(t,"x",(function(){return i.N})),n.d(t,"h",(function(){return i.m})),n.d(t,"A",(function(){return i.Q})),n.d(t,"w",(function(){return i.J})),n.d(t,"i",(function(){return i.n})),n.d(t,"J",(function(){return i.cb})),n.d(t,"K",(function(){return i.db})),n.d(t,"L",(function(){return i.eb})),n.d(t,"f",(function(){return i.j})),n.d(t,"j",(function(){return i.o})),n.d(t,"G",(function(){return i.W})),n.d(t,"y",(function(){return a})),n.d(t,"B",(function(){return o})),n.d(t,"z",(function(){return c})),n.d(t,"F",(function(){return l})),n.d(t,"v",(function(){return d})),n.d(t,"o",(function(){return p})),n.d(t,"t",(function(){return f.b})),n.d(t,"u",(function(){return g.b})),n.d(t,"q",(function(){return m})),n.d(t,"p",(function(){return b})),n.d(t,"s",(function(){return _})),n.d(t,"r",(function(){return v})),n(21);var r=n(41),i=n(5);function a(e,t){if(!("installationInfo"in e)||!e.installationInfo)return!1;const{verification_status:n,verification_key_id:i}=null==e?void 0:e.installationInfo,{packageVerification:a}=r.a.get();return a&&("unverified"===n||"verified"===n&&!!i&&i!==t)}const o=e=>{var t;return e&&"attributes"in e&&"verification_failed"===(null===(t=e.attributes)||void 0===t?void 0:t.type)};var u=n(23),s=n.n(u);const c=e=>{var t,n;return!(!("installationInfo"in e)||null===(t=e.installationInfo)||void 0===t||!t.version)&&s()(null===(n=e.installationInfo)||void 0===n?void 0:n.version,e.version)},l=e=>`${e.name}-${e.version}`;function d(e,t){const n=e.map((e=>e.name)).map((e=>{const n=e.match(t?/Fleet Server policy (\d+)/:/Agent policy (\d+)/);return n?parseInt(n[1],10):0}));return`${t?"Fleet Server":"Agent"} policy ${Math.max(...n,0)+1}`}n(42);const p=e=>{var t,n,r,i,a,o,u;const s=null==e||null===(t=e.inputs)||void 0===t?void 0:t.reduce(((e,t)=>{var n;return""!==e?e:null!=t&&t.enabled&&null!=t&&null!==(n=t.config)&&void 0!==n&&n.cloud_formation_template_url?t.config.cloud_formation_template_url.value:e}),"");return{templateUrl:""!==s?s:void 0,awsAccountType:null==e||null===(n=e.inputs)||void 0===n||null===(r=n.find((e=>e.enabled)))||void 0===r||null===(i=r.streams)||void 0===i||null===(a=i[0])||void 0===a||null===(o=a.vars)||void 0===o||null===(u=o["aws.account_type"])||void 0===u?void 0:u.value}};var f=n(67),g=n(68);const m=e=>{var t;const n=null==e||null===(t=e.inputs)||void 0===t?void 0:t.reduce(((e,t)=>{var n;return""!==e?e:null!=t&&t.enabled&&null!=t&&null!==(n=t.config)&&void 0!==n&&n.cloud_shell_url?t.config.cloud_shell_url.value:e}),"");return""!==n?n:void 0},b=e=>{var t;const n=null==e||null===(t=e.package_policies)||void 0===t?void 0:t.reduce(((e,t)=>{var n;return(null===(n=t.inputs)||void 0===n?void 0:n.reduce(((e,t)=>{var n;return""!==e?e:null!=t&&t.enabled&&null!=t&&null!==(n=t.config)&&void 0!==n&&n.cloud_shell_url?t.config.cloud_shell_url.value:e}),""))||e}),"");return""!==n?n:void 0},_=e=>{var t,n,r;let i=null==e||null===(t=e.inputs)||void 0===t?void 0:t.reduce(((e,t)=>{var n,r,i,a,o,u;return""!==e?e:null!=t&&t.enabled&&null!=t&&null!==(n=t.streams[0])&&void 0!==n&&null!==(r=n.vars)&&void 0!==r&&null!==(i=r["gcp.project_id"])&&void 0!==i&&i.value?null==t||null===(a=t.streams[0])||void 0===a||null===(o=a.vars)||void 0===o||null===(u=o["gcp.project_id"])||void 0===u?void 0:u.value:e}),""),a=null==e||null===(n=e.inputs)||void 0===n?void 0:n.reduce(((e,t)=>{var n,r,i,a,o,u;return""!==e?e:null!=t&&t.enabled&&null!=t&&null!==(n=t.streams[0])&&void 0!==n&&null!==(r=n.vars)&&void 0!==r&&null!==(i=r["gcp.organization_id"])&&void 0!==i&&i.value?null==t||null===(a=t.streams[0])||void 0===a||null===(o=a.vars)||void 0===o||null===(u=o["gcp.organization_id"])||void 0===u?void 0:u.value:e}),""),o=null==e||null===(r=e.inputs)||void 0===r?void 0:r.reduce(((e,t)=>{var n,r,i,a,o,u;return""!==e?e:null!=t&&t.enabled&&null!=t&&null!==(n=t.streams[0])&&void 0!==n&&null!==(r=n.vars)&&void 0!==r&&null!==(i=r["gcp.account_type"])&&void 0!==i&&i.value?null==t||null===(a=t.streams[0])||void 0===a||null===(o=a.vars)||void 0===o||null===(u=o["gcp.account_type"])||void 0===u?void 0:u.value:e}),"");return i=""!==i?i:void 0,a=""!==a?a:void 0,o=""!==o?o:void 0,{gcpProjectId:i,gcpOrganizationId:a,gcpAccountType:o}},v=e=>{var t,n,r;let i=null==e||null===(t=e.package_policies)||void 0===t?void 0:t.reduce(((e,t)=>{var n;return(null===(n=t.inputs)||void 0===n?void 0:n.reduce(((e,t)=>{var n,r,i,a,o,u;return""!==e?e:null!=t&&t.enabled&&null!=t&&null!==(n=t.streams[0])&&void 0!==n&&null!==(r=n.vars)&&void 0!==r&&null!==(i=r["gcp.project_id"])&&void 0!==i&&i.value?null==t||null===(a=t.streams[0])||void 0===a||null===(o=a.vars)||void 0===o||null===(u=o["gcp.project_id"])||void 0===u?void 0:u.value:e}),""))||e}),""),a=null==e||null===(n=e.package_policies)||void 0===n?void 0:n.reduce(((e,t)=>{var n;return(null===(n=t.inputs)||void 0===n?void 0:n.reduce(((e,t)=>{var n,r,i,a,o,u;return""!==e?e:null!=t&&t.enabled&&null!=t&&null!==(n=t.streams[0])&&void 0!==n&&null!==(r=n.vars)&&void 0!==r&&null!==(i=r["gcp.organization_id"])&&void 0!==i&&i.value?null==t||null===(a=t.streams[0])||void 0===a||null===(o=a.vars)||void 0===o||null===(u=o["gcp.organization_id"])||void 0===u?void 0:u.value:e}),""))||e}),""),o=null==e||null===(r=e.package_policies)||void 0===r?void 0:r.reduce(((e,t)=>{var n;return(null===(n=t.inputs)||void 0===n?void 0:n.reduce(((e,t)=>{var n,r,i,a,o,u;return""!==e?e:null!=t&&t.enabled&&null!=t&&null!==(n=t.streams[0])&&void 0!==n&&null!==(r=n.vars)&&void 0!==r&&null!==(i=r["gcp.account_type"])&&void 0!==i&&i.value?null==t||null===(a=t.streams[0])||void 0===a||null===(o=a.vars)||void 0===o||null===(u=o["gcp.account_type"])||void 0===u?void 0:u.value:e}),""))||e}),"");return i=""!==i?i:void 0,a=""!==a?a:void 0,o=""!==o?o:void 0,{gcpProjectId:i,gcpOrganizationId:a,gcpAccountType:o}}},function(e,t){e.exports=__kbnSharedDeps__.KbnI18n},function(e,t,n){"use strict";n.d(t,"q",(function(){return i})),n.d(t,"T",(function(){return a})),n.d(t,"f",(function(){return o})),n.d(t,"k",(function(){return u})),n.d(t,"t",(function(){return s})),n.d(t,"g",(function(){return c})),n.d(t,"S",(function(){return l})),n.d(t,"r",(function(){return d})),n.d(t,"s",(function(){return p})),n.d(t,"Y",(function(){return f})),n.d(t,"i",(function(){return g})),n.d(t,"p",(function(){return m})),n.d(t,"bb",(function(){return b})),n.d(t,"Z",(function(){return _})),n.d(t,"o",(function(){return v})),n.d(t,"b",(function(){return E})),n.d(t,"P",(function(){return h})),n.d(t,"U",(function(){return j})),n.d(t,"H",(function(){return N})),n.d(t,"G",(function(){return R})),n.d(t,"u",(function(){return w})),n.d(t,"N",(function(){return $})),n.d(t,"m",(function(){return D})),n.d(t,"Q",(function(){return M.b})),n.d(t,"c",(function(){return M.a})),n.d(t,"K",(function(){return U})),n.d(t,"d",(function(){return license_LicenseService})),n.d(t,"a",(function(){return Y})),n.d(t,"J",(function(){return X})),n.d(t,"l",(function(){return W})),n.d(t,"I",(function(){return ne})),n.d(t,"e",(function(){return te})),n.d(t,"L",(function(){return y})),n.d(t,"M",(function(){return P})),n.d(t,"C",(function(){return I})),n.d(t,"B",(function(){return O})),n.d(t,"n",(function(){return re})),n.d(t,"cb",(function(){return ue})),n.d(t,"db",(function(){return se})),n.d(t,"eb",(function(){return le})),n.d(t,"j",(function(){return ce})),n.d(t,"ab",(function(){return fe})),n.d(t,"A",(function(){return ge})),n.d(t,"E",(function(){return _e})),n.d(t,"x",(function(){return ve})),n.d(t,"F",(function(){return me})),n.d(t,"w",(function(){return be})),n.d(t,"z",(function(){return Ee})),n.d(t,"y",(function(){return he})),n.d(t,"D",(function(){return ye})),n.d(t,"O",(function(){return Te})),n.d(t,"R",(function(){return Pe})),n.d(t,"v",(function(){return Ie.a})),n.d(t,"h",(function(){return Oe})),n.d(t,"W",(function(){return Ae})),n.d(t,"V",(function(){return Ne})),n.d(t,"X",(function(){return ke}));var r=n(0);const i={getVerificationKeyIdPath:()=>r.C.VERIFICATION_KEY_ID,getCategoriesPath:()=>r.C.CATEGORIES_PATTERN,getListPath:()=>r.C.LIST_PATTERN,getListLimitedPath:()=>r.C.LIMITED_LIST_PATTERN,getInfoPath:(e,t)=>t?r.C.INFO_PATTERN.replace("{pkgName}",e).replace("{pkgVersion}",t):r.C.INFO_PATTERN.replace("{pkgName}",e).replace("/{pkgVersion}",""),getStatsPath:e=>r.C.STATS_PATTERN.replace("{pkgName}",e),getFilePath:e=>`${r.B}${e.replace("/package","/packages")}`,getInstallPath:(e,t)=>r.C.INSTALL_FROM_REGISTRY_PATTERN.replace("{pkgName}",e).replace("{pkgVersion}",t).replace(/\/$/,""),getBulkInstallPath:()=>r.C.BULK_INSTALL_PATTERN,getRemovePath:(e,t)=>r.C.DELETE_PATTERN.replace("{pkgName}",e).replace("{pkgVersion}",t).replace(/\/$/,""),getUpdatePath:(e,t)=>r.C.INFO_PATTERN.replace("{pkgName}",e).replace("{pkgVersion}",t),getReauthorizeTransformsPath:(e,t)=>r.C.REAUTHORIZE_TRANSFORMS.replace("{pkgName}",e).replace("{pkgVersion}",t).replace(/\/$/,""),getBulkAssetsPath:()=>r.C.BULK_ASSETS_PATTERN,getInputsTemplatesPath:(e,t)=>r.C.INPUTS_PATTERN.replace("{pkgName}",e).replace("{pkgVersion}",t)},a={getListPath:()=>r.pb.LIST_PATTERN,getInfoPath:e=>r.pb.INFO_PATTERN.replace("{packagePolicyId}",e),getCreatePath:()=>r.pb.CREATE_PATTERN,getUpdatePath:e=>r.pb.UPDATE_PATTERN.replace("{packagePolicyId}",e),getDeletePath:()=>r.pb.DELETE_PATTERN,getUpgradePath:()=>r.pb.UPGRADE_PATTERN,getDryRunPath:()=>r.pb.DRYRUN_PATTERN,getOrphanedIntegrationPoliciesPath:()=>r.pb.ORPHANED_INTEGRATION_POLICIES},o={getListPath:()=>r.h.LIST_PATTERN,getBulkGetPath:()=>r.h.BULK_GET_PATTERN,getInfoPath:e=>r.h.INFO_PATTERN.replace("{agentPolicyId}",e),getCreatePath:()=>r.h.CREATE_PATTERN,getUpdatePath:e=>r.h.UPDATE_PATTERN.replace("{agentPolicyId}",e),getCopyPath:e=>r.h.COPY_PATTERN.replace("{agentPolicyId}",e),getDeletePath:()=>r.h.DELETE_PATTERN,getInfoFullPath:e=>r.h.FULL_INFO_PATTERN.replace("{agentPolicyId}",e),getInfoFullDownloadPath:e=>r.h.FULL_INFO_DOWNLOAD_PATTERN.replace("{agentPolicyId}",e),getK8sInfoPath:()=>r.db.K8S_INFO_PATTERN,getK8sFullDownloadPath:()=>r.db.K8S_DOWNLOAD_PATTERN,getResetOnePreconfiguredAgentPolicyPath:e=>r.sb.RESET_ONE_PATTERN.replace("{agentPolicyId}",e),getResetAllPreconfiguredAgentPolicyPath:()=>r.sb.RESET_PATTERN},u={getListPath:()=>r.s.LIST_PATTERN},s={getFleetSetupPath:()=>r.c.INFO_PATTERN,postFleetSetupPath:()=>r.c.CREATE_PATTERN},c={getInfoPath:e=>r.f.INFO_PATTERN.replace("{agentId}",e),getUpdatePath:e=>r.f.UPDATE_PATTERN.replace("{agentId}",e),getBulkUpdateTagsPath:()=>r.f.BULK_UPDATE_AGENT_TAGS_PATTERN,getUnenrollPath:e=>r.f.UNENROLL_PATTERN.replace("{agentId}",e),getBulkUnenrollPath:()=>r.f.BULK_UNENROLL_PATTERN,getReassignPath:e=>r.f.REASSIGN_PATTERN.replace("{agentId}",e),getBulkReassignPath:()=>r.f.BULK_REASSIGN_PATTERN,getUpgradePath:e=>r.f.UPGRADE_PATTERN.replace("{agentId}",e),getBulkUpgradePath:()=>r.f.BULK_UPGRADE_PATTERN,getActionStatusPath:()=>r.f.ACTION_STATUS_PATTERN,getCancelActionPath:e=>r.f.CANCEL_ACTIONS_PATTERN.replace("{actionId}",e),getListPath:()=>r.f.LIST_PATTERN,getStatusPath:()=>r.f.STATUS_PATTERN,getIncomingDataPath:()=>r.f.DATA_PATTERN,getCreateActionPath:e=>r.f.ACTIONS_PATTERN.replace("{agentId}",e),getListTagsPath:()=>r.f.LIST_TAGS_PATTERN,getAvailableVersionsPath:()=>r.f.AVAILABLE_VERSIONS_PATTERN,getRequestDiagnosticsPath:e=>r.f.REQUEST_DIAGNOSTICS_PATTERN.replace("{agentId}",e),getBulkRequestDiagnosticsPath:()=>r.f.BULK_REQUEST_DIAGNOSTICS_PATTERN,getListAgentUploads:e=>r.f.LIST_UPLOADS_PATTERN.replace("{agentId}",e),getAgentFileDownloadLink:(e,t)=>r.f.GET_UPLOAD_FILE_PATTERN.replace("{fileId}",e).replace("{fileName}",t),getAgentsByActionsPath:()=>r.f.LIST_PATTERN},l={getInfoPath:e=>r.jb.INFO_PATTERN.replace("{outputId}",e),getUpdatePath:e=>r.jb.UPDATE_PATTERN.replace("{outputId}",e),getListPath:()=>r.jb.LIST_PATTERN,getDeletePath:e=>r.jb.DELETE_PATTERN.replace("{outputId}",e),getCreatePath:()=>r.jb.CREATE_PATTERN,getCreateLogstashApiKeyPath:()=>r.jb.LOGSTASH_API_KEY_PATTERN,getOutputHealthPath:e=>r.jb.GET_OUTPUT_HEALTH_PATTERN.replace("{outputId}",e)},d={getInfoPath:e=>r.R.INFO_PATTERN.replace("{itemId}",e),getUpdatePath:e=>r.R.UPDATE_PATTERN.replace("{itemId}",e),getListPath:()=>r.R.LIST_PATTERN,getDeletePath:e=>r.R.DELETE_PATTERN.replace("{itemId}",e),getCreatePath:()=>r.R.CREATE_PATTERN},p={getInfoPath:e=>r.T.INFO_PATTERN.replace("{itemId}",e),getUpdatePath:e=>r.T.UPDATE_PATTERN.replace("{itemId}",e),getListPath:()=>r.T.LIST_PATTERN,getDeletePath:e=>r.T.DELETE_PATTERN.replace("{itemId}",e),getCreatePath:()=>r.T.CREATE_PATTERN},f={getInfoPath:()=>r.vb.INFO_PATTERN,getUpdatePath:()=>r.vb.UPDATE_PATTERN},g={getCheckPermissionsPath:()=>r.n.CHECK_PERMISSIONS_PATTERN,getRegenerateServiceTokenPath:()=>r.n.GENERATE_SERVICE_TOKEN_PATTERN,postHealthCheckPath:()=>r.n.HEALTH_CHECK_PATTERN},m={getListPath:()=>r.A.LIST_PATTERN,getCreatePath:()=>r.A.CREATE_PATTERN,getInfoPath:e=>r.A.INFO_PATTERN.replace("{keyId}",e),getDeletePath:e=>r.A.DELETE_PATTERN.replace("{keyId}",e)},b={getListPath:()=>r.zb.LIST_PATTERN,getInfoPath:e=>r.zb.INFO_PATTERN.replace("{uninstallTokenId}",e)},_={getSetupPath:()=>r.wb},v={getInfoPath:e=>r.u.INFO_PATTERN.replace("{sourceId}",e),getUpdatePath:e=>r.u.UPDATE_PATTERN.replace("{sourceId}",e),getListPath:()=>r.u.LIST_PATTERN,getDeletePath:e=>r.u.DELETE_PATTERN.replace("{sourceId}",e),getCreatePath:()=>r.u.CREATE_PATTERN};var E=n(56);function h(e){var t,n,r;return(null===(t=e.agent)||void 0===t||null===(n=t.privileges)||void 0===n?void 0:n.root)||(null===(r=e.data_streams)||void 0===r?void 0:r.some((e=>{var t,n;return null===(t=e.agent)||void 0===t||null===(n=t.privileges)||void 0===n?void 0:n.root})))}const T={name:r.r,type:"text",title:"Dataset name",description:"Set the name for your dataset. Once selected a dataset cannot be changed without creating a new integration policy. You can't use `-` in the name of a dataset and only valid characters for [Elasticsearch index names](https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-index_.html) are permitted.\n",multi:!1,required:!0,show_user:!0};function y(e){return"input"in e}function P(e){return!y(e)}const I=e=>P(e)?e.inputs||[]:[{type:e.input,title:e.title,description:e.description}],O=(e,t)=>{if("input"!==e.type)return e.data_streams||[];const n=e.policy_templates;return n&&0!==n.length?n.map((n=>{const r={type:n.type,dataset:t||k(e,n),title:n.title+" Dataset",release:e.release||"ga",package:e.name,path:e.name,elasticsearch:e.elasticsearch||{},streams:[{input:n.input,vars:A(n.vars,n.name),template_path:n.template_path,title:n.title,description:n.title,enabled:!0}]};return"input"===e.type&&(r.elasticsearch={...r.elasticsearch,dynamic_dataset:!0,dynamic_namespace:!0}),r})):[]},A=(e,t)=>{const n=null!=e?e:[];return n.find((e=>e.name===T.name))?n:[...n,{...T,...t&&{default:t}}]},k=(e,t)=>e.name+"."+t.name,N=(e,t,n=[])=>{const r=[],i=O(t);return(n.length?i.filter((e=>n.includes(e.path))):i).forEach((t=>{(t.streams||[]).forEach((n=>{n.input===e&&r.push({...n,data_stream:{type:t.type,dataset:t.dataset}})}))})),r},R=(e,t,n=[])=>{const r=[],i=O(t);return(n.length?i.filter((e=>n.includes(e.path))):i).forEach((t=>{(t.streams||[]).forEach((n=>{n.input===e&&r.push({...n,data_stream:{...t}})}))})),r},S=(e,t)=>{const n={value:!t.default&&t.multi?[]:t.default};return t.type&&(n.type=t.type),e[t.name]=n,e},L=(e,t)=>{var n;const r=re(e),i=[],a={};return null===(n=e.policy_templates)||void 0===n||n.forEach((e=>{const t=I(e);null==t||t.forEach((t=>{const n=`${e.name}-${t.type}`,r={...t,...P(e)&&e.data_streams?{data_streams:e.data_streams}:{},policy_template:e.name};a[n]=r}))})),Object.values(a).forEach((n=>{var a;const o=[];let u={};const s=N(n.type,e,n.data_streams).map((e=>{const t={enabled:!1!==e.enabled,data_stream:e.data_stream};return e.vars&&e.vars.length&&(t.vars=e.vars.reduce(S,{})),t}));null!==(a=n.vars)&&void 0!==a&&a.length&&!r&&(u=n.vars.reduce(S,{})),o.push(...s);let c=!o.length||!!o.find((e=>e.enabled));c&&r&&t&&t!==n.policy_template&&(c=!1);const l={type:n.type,policy_template:n.policy_template,enabled:c,streams:o};Object.keys(u).length&&(l.vars=u),i.push(l)})),i},j=(e,t,n="",r,i,a)=>{var o,u;const s="installationInfo"in e?null===(o=e.installationInfo)||void 0===o?void 0:o.experimental_data_stream_features:void 0,c={name:r||`${e.name}-1`,namespace:n,description:i,package:{name:e.name,title:e.title,version:e.version,...s?{experimental_data_stream_features:s}:void 0},enabled:!0,policy_id:t,inputs:L(e,a),vars:void 0};return null!==(u=e.vars)&&void 0!==u&&u.length&&(c.vars=e.vars.reduce(S,{})),c},x=["id","name","revision","dataset","type","outputs","fleet","output_permissions","agent","inputs","enabled","use_output","meta","input","download","signed"],w=(e,t)=>{var n;const r=t(e,{skipInvalid:!0,sortKeys:C});return null!=e&&null!==(n=e.secret_references)&&void 0!==n&&n.length?function(e,t){let n=t;return e.map((e=>e.id)).forEach(((e,t)=>{const r=new RegExp(`\\$co\\.elastic\\.secret\\{${e}\\}`,"g");n=n.replace(r,`\${SECRET_${t}}`)})),n}(e.secret_references,r):r};function C(e,t){const n=x.indexOf(e),r=x.indexOf(t);return n>=0&&r<0?-1:n<0&&r>=0?1:n-r}const $=e=>(e.policy_templates||[]).some((e=>!1===e.multiple)),D=(e,t)=>{if(!e.package_policies)throw new Error("Unable to read full package policy information");return e.package_policies.map((e=>{var t;return(null===(t=e.package)||void 0===t?void 0:t.name)||""})).includes(t)};var M=n(51);function U(e){const t=new URL(e[0]),n=t.protocol,r=t.pathname;return e.some((e=>{const t=new URL(e),i=t.protocol,a=t.pathname;return n!==i||r!==a}))}var F=n(16),G=n.n(F);class license_LicenseService{constructor(){G()(this,"observable",null),G()(this,"subscription",null),G()(this,"licenseInformation",null)}updateInformation(e){this.licenseInformation=e}start(e){this.observable=e,this.subscription=this.observable.subscribe(this.updateInformation.bind(this))}stop(){this.subscription&&this.subscription.unsubscribe()}getLicenseInformation(){return this.licenseInformation}getLicenseInformation$(){return this.observable}isGoldPlus(){return this.hasAtLeast("gold")}isPlatinum(){return this.hasAtLeast("platinum")}isEnterprise(){return this.hasAtLeast("enterprise")}hasAtLeast(e){var t,n,r;return(null===(t=this.licenseInformation)||void 0===t?void 0:t.isAvailable)&&(null===(n=this.licenseInformation)||void 0===n?void 0:n.isActive)&&(null===(r=this.licenseInformation)||void 0===r?void 0:r.hasAtLeast(e))}}var B=n(27),q=n.n(B),V=n(23),K=n.n(V),z=n(39),H=n.n(z);const Y=10;function X(e,t,n){var r,i,a;let o;return"string"==typeof(null==e||null===(r=e.local_metadata)||void 0===r||null===(i=r.elastic)||void 0===i||null===(a=i.agent)||void 0===a?void 0:a.version)&&(o=e.local_metadata.elastic.agent.version,!e.unenrollment_started_at&&!e.unenrolled_at&&!!e.local_metadata.elastic.agent.upgradeable&&!function(e){return e.upgrade_details?"UPG_FAILED"!==e.upgrade_details.state:e.upgrade_started_at&&!e.upgraded_at}(e)&&!function(e){if(!e.upgraded_at)return{hasBeenUpgradedRecently:!1,timeToWaitMs:0};const t=Date.now()-Date.parse(e.upgraded_at);return{hasBeenUpgradedRecently:t/6e4<Y,timeToWaitMs:6e4*Y-t}}(e).hasBeenUpgradedRecently&&(void 0!==n?J(o,n):Q(o,t)))}const Q=(e,t)=>{const n=q()(e);if(!n)throw new Error("agent version is not valid");const r=q()(t);if(!r)throw new Error("latest version is not valid");return K()(n,r)},J=(e,t)=>{const n=q()(e);if(!n)throw new Error("agent version is not valid");const r=q()(t);if(!r)throw new Error("target version is not valid");return H()(r,n)},W=(e,t,n=!0)=>{const[r,i,a]=e.split("."),[o,u,s]=t.split(".");return r===o&&i===u&&(n?a>=s:a>s)};var Z=n(65),ee=n.n(Z);const te="8.7.0";function ne(e){var t,n,r;if(!e.active)return!1;if("string"!=typeof(null==e||null===(t=e.local_metadata)||void 0===t||null===(n=t.elastic)||void 0===n||null===(r=n.agent)||void 0===r?void 0:r.version))return!1;const i=e.local_metadata.elastic.agent.version;return ee()(i,te)}const re=e=>(e.policy_templates||[]).length>1;var ie=n(21),ae=n(4),oe=n(14);const ue=(e,t,n)=>{var r;const i=re(t),a={name:null,description:null,namespace:null,inputs:{},vars:{}},o=Object(M.b)(e.namespace);e.name.trim()||(a.name=[ae.i18n.translate("xpack.fleet.packagePolicyValidation.nameRequiredErrorMessage",{defaultMessage:"Name is required"})]),!o.valid&&o.error&&(a.namespace=[o.error]);const u=Object(oe.keyBy)(t.vars||[],"name"),s=Object.entries(e.vars||{});if(s.length&&(a.vars=s.reduce(((e,[t,r])=>(e[t]=se(r,u[t],t,n),e)),{})),null==t||null===(r=t.policy_templates)||void 0===r||!r.length||function(e){return!e.policy_templates||0===e.policy_templates.length||!e.policy_templates.find((e=>y(e)||e.inputs&&e.inputs.length>0))}(t))return a.inputs={},a;const c=t.policy_templates.reduce(((e,t)=>(I(t).forEach((n=>{const r=i?`${t.name}-${n.type}`:n.type;(n.vars||[]).length&&(e[r]=Object(oe.keyBy)(n.vars||[],"name"))})),e)),{}),l=O(t).reduce(((e,t)=>{var n;return null===(n=t.streams)||void 0===n||n.forEach((n=>{e[`${t.dataset}-${n.input}`]=n})),e}),{}),d=Object.entries(l).reduce(((e,[t,n])=>(e[t]=Object(oe.keyBy)(n.vars||[],"name"),e)),{});return e.inputs.forEach((e=>{if(!e.vars&&!e.streams)return;const t=i?`${e.policy_template}-${e.type}`:e.type,r={vars:void 0,streams:{}},o=Object.entries(e.vars||{});o.length?r.vars=o.reduce(((r,[i,a])=>{var o;return r[i]=e.enabled?se(a,(null!==(o=c[t])&&void 0!==o?o:{})[i],i,n):null,r}),{}):delete r.vars,e.streams.length?e.streams.forEach((t=>{const i={},a=d[`${t.data_stream.dataset}-${e.type}`];a&&Object.keys(a).length&&(i.vars=Object.keys(a).reduce(((r,i)=>{var o;const u=null==t||null===(o=t.vars)||void 0===o?void 0:o[i];return r[i]=e.enabled&&t.enabled?se(u,a[i],i,n):null,r}),{})),r.streams[t.data_stream.dataset]=i})):delete r.streams,(r.vars||r.streams)&&(a.inputs[t]=r)})),0===Object.entries(a.inputs).length&&(a.inputs={}),a},se=(e,t,n,r)=>{const i=[],a=null==e?void 0:e.value;let o=a;if("string"==typeof a&&(o=a.trim()),void 0===t)return console.debug(`No variable definition for ${n} found`),null;if(t.required&&(void 0===o||"yaml"===t.type&&""===o)&&i.push(ae.i18n.translate("xpack.fleet.packagePolicyValidation.requiredErrorMessage",{defaultMessage:"{fieldName} is required",values:{fieldName:t.title||t.name}})),!0===t.secret&&o&&!0===o.isSecretRef)return void 0===o.id||""===o.id||"string"!=typeof o.id?(i.push(ae.i18n.translate("xpack.fleet.packagePolicyValidation.invalidSecretReference",{defaultMessage:"Secret reference is invalid, id must be a string"})),i):null;if("yaml"===t.type)try{o=r(a)}catch(e){i.push(ae.i18n.translate("xpack.fleet.packagePolicyValidation.invalidYamlFormatErrorMessage",{defaultMessage:"Invalid YAML format"}))}return t.multi?o&&!Array.isArray(o)?(i.push(ae.i18n.translate("xpack.fleet.packagePolicyValidation.invalidArrayErrorMessage",{defaultMessage:"Invalid format for {fieldName}: expected array",values:{fieldName:t.title||t.name}})),i):(t.required&&Array.isArray(o)&&0===o.length&&i.push(ae.i18n.translate("xpack.fleet.packagePolicyValidation.requiredErrorMessage",{defaultMessage:"{fieldName} is required",values:{fieldName:t.title||t.name}})),"text"===t.type&&o&&o.filter((e=>/^[*&]/.test(e))).length>0&&i.push(ae.i18n.translate("xpack.fleet.packagePolicyValidation.quoteStringErrorMessage",{defaultMessage:"Strings starting with special YAML characters like * or & need to be enclosed in double quotes."})),"integer"===t.type&&o&&o.filter((e=>!Number.isInteger(Number(e)))).length>0&&i.push(ae.i18n.translate("xpack.fleet.packagePolicyValidation.invalidIntegerMultiErrorMessage",{defaultMessage:"Invalid integer"})),i.length?i:null):("text"===t.type&&o&&!Array.isArray(o)&&/^[*&]/.test(o)&&i.push(ae.i18n.translate("xpack.fleet.packagePolicyValidation.quoteStringErrorMessage",{defaultMessage:"Strings starting with special YAML characters like * or & need to be enclosed in double quotes."})),"bool"===t.type&&o&&!["true","false"].includes(o.toString())&&i.push(ae.i18n.translate("xpack.fleet.packagePolicyValidation.boolValueError",{defaultMessage:"Boolean values must be either true or false"})),"integer"===t.type&&o&&!Array.isArray(o)&&(Number.isInteger(Number(o))||i.push(ae.i18n.translate("xpack.fleet.packagePolicyValidation.invalidIntegerErrorMessage",{defaultMessage:"Invalid integer"}))),"select"===t.type&&void 0!==o&&(null!==(u=t.options)&&void 0!==u&&u.map((e=>e.value)).includes(o)||i.push(ae.i18n.translate("xpack.fleet.packagePolicyValidation.invalidSelectValueErrorMessage",{defaultMessage:"Invalid value for select type"}))),i.length?i:null);var u},ce=e=>{const t=Object(ie.getFlattenedObject)(e);return(Object.values(t).filter((e=>Boolean(e)))||[]).length},le=e=>ce(e)>0;var de=n(75),pe=n.n(de);function fe(e){if(!e.includes("-"))return{pkgName:e,pkgVersion:""};const t=e.includes("-")?e.substr(0,e.indexOf("-")):e;if(""===t)throw new Error("Package key parsing failed: package name was empty");const n=e.substr(e.indexOf("-")+1);if(!pe()(n))throw new Error("Package key parsing failed: package version was not a valid semver");return{pkgName:t,pkgVersion:n}}function ge(e,t){const n=new RegExp(`${e}-(\\d+)`);return`${e}-${Math.max(...(null!=t?t:[]).filter((e=>Boolean(e.name.match(n)))).map((e=>parseInt(e.name.match(n)[1],10))),0)+1}`}function me(e){const t=`${e.type}-${e.dataset}`;return e.hidden?`.${t}`:t}function be(e,t){return`${me(e)}${null!=t?t:""}`}n(50);const _e=({dataStream:e,packageVersion:t})=>`${e.type}-${e.dataset}-${t}`,ve=e=>`${e.type}-${e.dataset}@custom`,Ee=(e,t=!1)=>{const n=t?r.G:r.E;if(-1!==n.indexOf("*"))return n.replace("*",e);throw new Error(`Unable to define integration file data index. No '*' in index pattern: ${n}`)},he=(e,t=!1)=>{const n=t?r.F:r.D;if(-1!==n.indexOf("*"))return n.replace("*",e);throw new Error(`Unable to define integration file data index. No '*' in index pattern: ${n}`)};function Te(e){return e.startsWith("0")||e.includes("-")}function ye(e){return e.startsWith("0")||e.includes("-preview")?"preview":e.includes("-rc")?"rc":e.includes("-")?"beta":"ga"}function Pe(e){return"experimental"===e?"preview":e}var Ie=n(61);function Oe(e){return{healthy:e.online,unhealthy:e.error+e.degraded,inactive:e.inactive,offline:e.offline,updating:e.updating+e.enrolling+e.unenrolling,unenrolled:e.unenrolled}}function Ae(e){var t;return!!e.package_policies&&((null===(t=e.package_policies)||void 0===t?void 0:t.some((e=>{var t;return(null===(t=e.package)||void 0===t?void 0:t.name)===r.V})))||!!e.has_fleet_server)}function ke(e){return Re(e,r.X)}function Ne(e){return Re(e,r.O)}function Re(e,t){var n;return!!e.package_policies&&(null===(n=e.package_policies)||void 0===n?void 0:n.some((e=>{var n;return(null===(n=e.package)||void 0===n?void 0:n.name)===t})))}n(30)},function(e,t){e.exports=__kbnSharedDeps__.ElasticEui},function(e,t){e.exports=__kbnSharedDeps__.ReactQuery},function(e,t){e.exports=__kbnSharedDeps__.EmotionReact},function(e,t,n){"use strict";n.d(t,"l",(function(){return a})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return u}));var r=n(0);n.d(t,"t",(function(){return r.rb})),n.d(t,"n",(function(){return r.cb})),n.d(t,"u",(function(){return r.xb})),n.d(t,"c",(function(){return r.k})),n.d(t,"b",(function(){return r.b})),n.d(t,"s",(function(){return r.qb})),n.d(t,"k",(function(){return r.V})),n.d(t,"a",(function(){return r.a})),n.d(t,"g",(function(){return r.y})),n.d(t,"q",(function(){return r.eb})),n.d(t,"d",(function(){return r.p})),n.d(t,"r",(function(){return r.hb})),n.d(t,"i",(function(){return r.P}));var i=n(22);n.d(t,"h",(function(){return i.a})),n.d(t,"j",(function(){return i.b})),n.d(t,"m",(function(){return i.c})),n.d(t,"o",(function(){return i.d})),n.d(t,"p",(function(){return i.e})),n.d(t,"v",(function(){return i.f}));const a=r.bb,o="log",u={IDLE_TIMEOUT:"idle_timeout",READ_TIMEOUT:"read_timeout",SHUTDOWN_TIMEOUT:"shutdown_timeout",TAIL_SAMPLING_INTERVAL:"tail_sampling_interval",WRITE_TIMEOUT:"write_timeout"}},function(e,t){e.exports=__kbnSharedDeps__.KbnI18nReact},function(e,t,n){"use strict";n.d(t,"Fb",(function(){return i})),n.d(t,"Rc",(function(){return r.a})),n.d(t,"b",(function(){return u})),n.d(t,"Jb",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"Cc",(function(){return l})),n.d(t,"j",(function(){return p})),n.d(t,"Dc",(function(){return f})),n.d(t,"Ec",(function(){return b})),n.d(t,"i",(function(){return v})),n.d(t,"Gc",(function(){return y})),n.d(t,"Hc",(function(){return I})),n.d(t,"Yc",(function(){return N})),n.d(t,"Qc",(function(){return S})),n.d(t,"tb",(function(){return L.kb})),n.d(t,"ub",(function(){return L.lb})),n.d(t,"Nc",(function(){return L.fc})),n.d(t,"Ib",(function(){return L.vb})),n.d(t,"Sb",(function(){return L.xb})),n.d(t,"Tb",(function(){return L.yb})),n.d(t,"Gb",(function(){return L.ub})),n.d(t,"z",(function(){return L.p})),n.d(t,"gc",(function(){return L.Lb})),n.d(t,"hc",(function(){return L.Mb})),n.d(t,"K",(function(){return L.B})),n.d(t,"J",(function(){return L.A})),n.d(t,"m",(function(){return L.c})),n.d(t,"zb",(function(){return L.qb})),n.d(t,"l",(function(){return L.b})),n.d(t,"p",(function(){return L.f})),n.d(t,"xb",(function(){return L.ob})),n.d(t,"wb",(function(){return L.nb})),n.d(t,"o",(function(){return L.e})),n.d(t,"Ab",(function(){return L.rb})),n.d(t,"v",(function(){return L.l})),n.d(t,"oc",(function(){return L.Tb})),n.d(t,"nc",(function(){return L.Sb})),n.d(t,"Q",(function(){return L.H})),n.d(t,"kc",(function(){return L.Pb})),n.d(t,"jc",(function(){return L.Ob})),n.d(t,"M",(function(){return L.D})),n.d(t,"Xc",(function(){return L.ic})),n.d(t,"Bb",(function(){return L.sb})),n.d(t,"Wc",(function(){return L.hc})),n.d(t,"N",(function(){return L.E})),n.d(t,"Yb",(function(){return L.Db})),n.d(t,"G",(function(){return L.w})),n.d(t,"fc",(function(){return L.Kb})),n.d(t,"Ub",(function(){return L.zb})),n.d(t,"Vb",(function(){return L.Ab})),n.d(t,"D",(function(){return L.t})),n.d(t,"y",(function(){return L.o})),n.d(t,"A",(function(){return L.q})),n.d(t,"B",(function(){return L.r})),n.d(t,"W",(function(){return L.N})),n.d(t,"Z",(function(){return L.Q})),n.d(t,"X",(function(){return L.O})),n.d(t,"bb",(function(){return L.S})),n.d(t,"Y",(function(){return L.P})),n.d(t,"lb",(function(){return L.cb})),n.d(t,"db",(function(){return L.U})),n.d(t,"C",(function(){return L.s})),n.d(t,"V",(function(){return L.M})),n.d(t,"cb",(function(){return L.T})),n.d(t,"x",(function(){return L.n})),n.d(t,"eb",(function(){return L.V})),n.d(t,"mb",(function(){return L.db})),n.d(t,"nb",(function(){return L.eb})),n.d(t,"ab",(function(){return L.R})),n.d(t,"E",(function(){return L.u})),n.d(t,"ic",(function(){return L.Nb})),n.d(t,"L",(function(){return L.C})),n.d(t,"t",(function(){return L.j})),n.d(t,"H",(function(){return L.x})),n.d(t,"ac",(function(){return L.Fb})),n.d(t,"n",(function(){return L.d})),n.d(t,"Wb",(function(){return L.Bb})),n.d(t,"uc",(function(){return L.Zb})),n.d(t,"Xb",(function(){return L.Cb})),n.d(t,"rc",(function(){return L.Wb})),n.d(t,"sc",(function(){return L.Xb})),n.d(t,"R",(function(){return L.I})),n.d(t,"mc",(function(){return L.Rb})),n.d(t,"pc",(function(){return L.Ub})),n.d(t,"qc",(function(){return L.Vb})),n.d(t,"P",(function(){return L.G})),n.d(t,"bc",(function(){return L.Gb})),n.d(t,"I",(function(){return L.y})),n.d(t,"U",(function(){return L.L})),n.d(t,"k",(function(){return L.a})),n.d(t,"sb",(function(){return L.jb})),n.d(t,"vb",(function(){return L.mb})),n.d(t,"Vc",(function(){return L.gc})),n.d(t,"F",(function(){return L.v})),n.d(t,"ec",(function(){return L.Jb})),n.d(t,"lc",(function(){return L.Qb})),n.d(t,"Nb",(function(){return L.wb})),n.d(t,"rb",(function(){return L.ib})),n.d(t,"jb",(function(){return L.ab})),n.d(t,"kb",(function(){return L.bb})),n.d(t,"u",(function(){return L.k})),n.d(t,"O",(function(){return L.F})),n.d(t,"wc",(function(){return L.bc})),n.d(t,"vc",(function(){return L.ac})),n.d(t,"T",(function(){return L.K})),n.d(t,"Lc",(function(){return L.ec})),n.d(t,"yb",(function(){return L.pb})),n.d(t,"S",(function(){return L.J})),n.d(t,"w",(function(){return L.m})),n.d(t,"Jc",(function(){return L.dc})),n.d(t,"Ic",(function(){return L.cc})),n.d(t,"tc",(function(){return L.Yb})),n.d(t,"Zb",(function(){return L.Eb})),n.d(t,"ob",(function(){return L.fb})),n.d(t,"fb",(function(){return L.W})),n.d(t,"q",(function(){return L.g})),n.d(t,"dc",(function(){return L.Ib})),n.d(t,"s",(function(){return L.i})),n.d(t,"qb",(function(){return L.hb})),n.d(t,"hb",(function(){return L.Y})),n.d(t,"cc",(function(){return L.Hb})),n.d(t,"r",(function(){return L.h})),n.d(t,"gb",(function(){return L.X})),n.d(t,"pb",(function(){return L.gb})),n.d(t,"ib",(function(){return L.Z})),n.d(t,"ad",(function(){return j})),n.d(t,"xc",(function(){return x})),n.d(t,"Oc",(function(){return w})),n.d(t,"Mc",(function(){return C})),n.d(t,"Sc",(function(){return $})),n.d(t,"Hb",(function(){return M})),n.d(t,"Bc",(function(){return U})),n.d(t,"Tc",(function(){return F})),n.d(t,"Fc",(function(){return G})),n.d(t,"Pc",(function(){return B})),n.d(t,"Zc",(function(){return k})),n.d(t,"c",(function(){return V})),n.d(t,"Qb",(function(){return K})),n.d(t,"h",(function(){return z})),n.d(t,"Uc",(function(){return H})),n.d(t,"yc",(function(){return Y})),n.d(t,"g",(function(){return Q})),n.d(t,"f",(function(){return J})),n.d(t,"Kc",(function(){return W})),n.d(t,"a",(function(){return Z})),n.d(t,"Db",(function(){return ee})),n.d(t,"Ac",(function(){return ae})),n.d(t,"Cb",(function(){return ue})),n.d(t,"d",(function(){return ce})),n.d(t,"Rb",(function(){return le})),n.d(t,"zc",(function(){return ge})),n.d(t,"Ob",(function(){return me})),n.d(t,"Pb",(function(){return be})),n.d(t,"Mb",(function(){return _e.a})),n.d(t,"Kb",(function(){return Te})),n.d(t,"Lb",(function(){return Ie})),n.d(t,"Eb",(function(){return he}));var r=n(19);function i(){return Object(r.a)().authz}var a=n(1),o=n.n(a);const u=o.a.createContext(null);function s(){const e=Object(a.useContext)(u);if(null===e)throw new Error("ConfigContext not initialized");return e}const c=o.a.createContext(null);function l(){const e=Object(a.useContext)(c);if(null===e)throw new Error("KibanaVersionContext is not initialized");return e}var d=n(5);const p=new d.d;function f(){return p}var g=n(9);const m=(e,t={})=>t?g.v[e](t):g.v[e](),b=()=>{const e=Object(r.a)();return{getPath:(e,t={})=>m(e,t)[1],getAbsolutePath:t=>e.http.basePath.prepend(`${t}`),getAssetsPath:t=>e.http.basePath.prepend(`/plugins/${g.t}/assets/${t}`),getHref:(t,n)=>{const[r,i]=m(t,n);return e.http.basePath.prepend(`${r}${i}`)}}};var _=n(32);const v=({type:e,id:t,http:n})=>{let r;switch(e){case _.c.dashboard:r=`/dashboard/${t}`;break;case _.c.search:r=`/discover/${t}`;break;case _.c.visualization:r=`/visualize/edit/${t}`;break;default:return}return((e,t)=>e.basePath.prepend(`/app/kibana#${t}`))(n,r)};var E=n(6),h=n(66);const T=new Map,y=({packageName:e,integrationName:t,version:n,icons:r,tryApi:i=!1})=>{var o;const{toPackageImage:u}=Object(h.a)(),[s,c]=Object(a.useState)(),[l,d]=Object(a.useState)(""),p=`${e}-${n}${t?`-${t}`:""}`;return Object(a.useEffect)((()=>{var t;if(T.has(p))return void d(T.get(p)||"");const a=null===(t=r&&r.length?r:s)||void 0===t?void 0:t.filter((e=>"image/svg+xml"===e.type)),o=Array.isArray(a)&&u(a[0],e,n);if(o)return T.set(p,o),void d(T.get(p)||"");const l=E.ICON_TYPES.find((t=>t.toLowerCase()===`logo${e}`));if(l)return T.set(p,l),void d(l);!i||r||s||Object(L.G)(e,n).catch((e=>{})).then((e=>{var t,n;T.delete(p),c(null==e||null===(t=e.data)||void 0===t||null===(n=t.item)||void 0===n?void 0:n.icons)})),T.set(p,"package"),d("package")}),[r,p,u,s,e,l,i,n]),""!==l?l:null!==(o=T.get(p))&&void 0!==o?o:l},P=[5,20,50];function I(e={currentPage:1,pageSize:20}){const[t,n]=Object(a.useState)(e);return{pagination:t,setPagination:n,pageSizeOptions:Object(a.useMemo)((()=>[...P]),[])}}var O=n(20),A=n(26);function k(){const{search:e}=Object(O.useLocation)(),[t,n]=Object(a.useState)((()=>Object(A.parse)(e))),r=Object(a.useCallback)(((e=t)=>Object(A.stringify)(e)),[t]);return Object(a.useEffect)((()=>{n(Object(A.parse)(e))}),[e]),{urlParams:t,toUrlParams:r}}const N=()=>{const e=Object(O.useLocation)(),t=Object(O.useHistory)(),{urlParams:n,toUrlParams:r}=k(),i=Object(a.useMemo)((()=>R(n)),[n]),{pagination:o,pageSizeOptions:u,setPagination:s}=I(i),c=Object(a.useCallback)((({pageSize:i,currentPage:a})=>{t.push({...e,search:r({...n,currentPage:a,pageSize:i})})}),[t,e,r,n]);return Object(a.useEffect)((()=>{s((e=>({...e,...R(n)})))}),[s,n]),{pagination:o,setPagination:c,pageSizeOptions:u}},R=e=>{var t,n,r;const i={pageSize:20,currentPage:1};return i.currentPage=Number(null!==(t=Array.isArray(e.currentPage)?e.currentPage.pop():e.currentPage)&&void 0!==t?t:i.currentPage),i.pageSize=null!==(n=Number(null!==(r=Array.isArray(e.pageSize)?e.pageSize.pop():e.pageSize)&&void 0!==r?r:i.pageSize))&&void 0!==n?n:i.pageSize,(!Number.isFinite(i.currentPage)||i.currentPage<1)&&(i.currentPage=1),P.includes(i.pageSize)||(i.pageSize=20),i};function S(e){const[t,n]=Object(a.useState)(e);return{sorting:t,setSorting:n}}var L=n(12);function j(e){return Object.values(e).reduce(((e,t)=>{const n=t.validate();return!1===e?e:n}),!0)}function x(e="",t,n=!1){const[r,i]=Object(a.useState)(e),[o,u]=Object(a.useState)(),[s,c]=Object(a.useState)(!1),l=Object(a.useCallback)((e=>{const n=e.target.value;i(n),o&&t&&void 0===t(n)&&u(void 0)}),[o,t]);Object(a.useEffect)((()=>{s||r!==e&&c(!0)}),[s,r,e]);const d=void 0!==o;return{value:r,errors:o,props:{onChange:l,value:r,isInvalid:d,disabled:n},formRowProps:{error:o,isInvalid:d},clear:()=>{i("")},validate:()=>{if(t){const e=t(r);return u(e),void 0===e}return!0},setValue:i,hasChanged:s}}function w(e,t,n=!1){const[r,i]=Object(a.useState)(e),[o,u]=Object(a.useState)(),[s,c]=Object(a.useState)(!1),l=Object(a.useCallback)((e=>{const n=e.target.value;i(n),o&&t&&void 0===t(n)&&u(void 0)}),[o,t]);Object(a.useEffect)((()=>{s||r!==e&&c(!0)}),[s,r,e]);const d=void 0!==o;return{value:r,errors:o,props:{onChange:l,value:"string"==typeof r?r:"",isInvalid:d,disabled:n},formRowProps:{error:o,isInvalid:d,initialValue:e,clear:()=>{i("")}},cancelEdit:()=>{i(e||"")},validate:()=>{if(t){const e=t(r);return u(e),void 0===e}return!0},setValue:i,hasChanged:s}}function C(e,t=!1){const[n,r]=Object(a.useState)(e),[i,o]=Object(a.useState)(!1);Object(a.useEffect)((()=>{i||n!==e&&o(!0)}),[i,n,e]);const u=Object(a.useCallback)(r,[r]);return{props:{idSelected:n,onChange:u,disabled:t},setValue:r,value:n,hasChanged:i}}function $(e=!1,t=!1){const[n,r]=Object(a.useState)(e),[i,o]=Object(a.useState)(!1);Object(a.useEffect)((()=>{i||n!==e&&o(!0)}),[i,n,e]);const u=Object(a.useCallback)((()=>!0),[]);return{value:n,props:{onChange:e=>{const t=e.target.checked;r(t)},checked:n,disabled:t},validate:u,formRowProps:{},setValue:r,hasChanged:i}}function D(e,t,n,r=!1){const[i,o]=Object(a.useState)(t),[u,s]=Object(a.useState)(),[c,l]=Object(a.useState)(!1);Object(a.useEffect)((()=>{c||JSON.stringify(i)!==JSON.stringify(t)&&l(!0)}),[c,i,t]);const d=void 0!==u,p=Object(a.useCallback)((()=>{if(n){const e=n(i);return s(e),void 0===e}return!0}),[n,i]),f=Object(a.useCallback)((e=>{o(e),u&&n&&s(n(e))}),[n,u]);return{props:{id:e,value:i,onChange:f,errors:u,isInvalid:d,disabled:r},formRowProps:{error:u,isInvalid:d},value:i,clear:()=>{o(t)},setValue:o,validate:p,hasChanged:c}}function M(e,t=[],n,r=!1){return D(e,t,n,r)}function U(e,t=[],n,r=!1){return D(e,t,n,r)}function F(e,t=[],n,r=!1){return D(e,t,n,r)}function G(e,t,n=!1){const[r,i]=Object(a.useState)(e),[o,u]=Object(a.useState)(),[s,c]=Object(a.useState)(!1),l=Object(a.useCallback)((e=>{const n=e.target.value?Number(e.target.value):void 0;i(n),n&&o&&t&&void 0===t(n)&&u(void 0)}),[o,t]);Object(a.useEffect)((()=>{s||r!==e&&c(!0)}),[s,r,e]);const d=void 0!==o;return{value:r,errors:o,props:{onChange:l,value:r,isInvalid:d,disabled:n},formRowProps:{error:o,isInvalid:d},clear:()=>{i(void 0)},validate:()=>{if(t&&r){const e=t(r);return u(e),void 0===e}return!0},setValue:i,hasChanged:s}}function B(e,t="",n=!1){const[r,i]=Object(a.useState)(t);return{props:{options:e,value:r,onChange:Object(a.useCallback)((e=>{i(e.target.value)}),[]),disabled:n},value:r,clear:()=>{i("")},setValue:i}}const q=o.a.createContext(void 0),V=({defaultFleetStatus:e,children:t})=>{const n=s(),[r,i]=Object(a.useState)(!1),[u,c]=Object(a.useState)(null!=e?e:{enabled:n.agents.enabled,isLoading:!1,isReady:!1}),l=Object(a.useCallback)((async function(){try{c((e=>({...e,isLoading:!0})));const e=await Object(L.z)();if(e.error)throw e.error;c((t=>{var n,r,i,a;return{...t,isLoading:!1,isReady:null!==(n=null===(r=e.data)||void 0===r?void 0:r.isReady)&&void 0!==n&&n,missingRequirements:null===(i=e.data)||void 0===i?void 0:i.missing_requirements,missingOptionalFeatures:null===(a=e.data)||void 0===a?void 0:a.missing_optional_features}}))}catch(e){c((t=>({...t,isLoading:!1,error:e})))}}),[c]);Object(a.useEffect)((()=>{e||l()}),[l,e]);const d=Object(a.useCallback)((()=>l()),[l]);return o.a.createElement(q.Provider,{value:{...u,refresh:d,forceDisplayInstructions:r,setForceDisplayInstructions:i}},t)};function K(){const e=Object(a.useContext)(q);if(!e)throw new Error("FleetStatusContext not set");return e}const z=o.a.createContext({}),H=(e,t)=>{var n;const r=Object(a.useContext)(z);if(!r)throw new Error("useUIExtension called outside of UIExtensionsContext");const i=null==r||null===(n=r[e])||void 0===n?void 0:n[t];if(i)return i};function Y(){return Object(O.useLocation)().state}var X=n(4);const Q=[{id:"linux",label:X.i18n.translate("xpack.fleet.enrollmentInstructions.platformButtons.linux",{defaultMessage:"Linux Tar"}),"data-test-subj":"platformTypeLinux"},{id:"mac",label:X.i18n.translate("xpack.fleet.enrollmentInstructions.platformButtons.mac",{defaultMessage:"Mac"}),"data-test-subj":"platformTypeMac"},{id:"windows",label:X.i18n.translate("xpack.fleet.enrollmentInstructions.platformButtons.windows",{defaultMessage:"Windows"}),"data-test-subj":"platformTypeWindows"},{id:"rpm",label:X.i18n.translate("xpack.fleet.enrollmentInstructions.platformButtons.linux.rpm",{defaultMessage:"RPM"}),"data-test-subj":"platformTypeLinuxRpm"},{id:"deb",label:X.i18n.translate("xpack.fleet.enrollmentInstructions.platformButtons.linux.deb",{defaultMessage:"DEB"}),"data-test-subj":"platformTypeLinuxDeb"}],J=[...Q,{id:"kubernetes",label:X.i18n.translate("xpack.fleet.enrollmentInstructions.platformButtons.kubernetes",{defaultMessage:"Kubernetes"}),"data-test-subj":"platformTypeKubernetes"}];function W(e="linux"){const[t,n]=Object(a.useState)(e);return{platform:t,setPlatform:n}}X.i18n.translate("xpack.fleet.enrollmentInstructions.platformButtons.googleCloudShell",{defaultMessage:"Google Cloud Shell Script"});const Z=o.a.createContext({refresh:()=>{}});function ee(){return o.a.useContext(Z).refresh}var te=n(23),ne=n.n(te),re=n(0),ie=n(43);const ae=()=>{const{data:e,isLoading:t}=Object(ie.p)({prerelease:!0}),n=Object(a.useMemo)((()=>((null==e?void 0:e.items)||[]).filter((e=>e.status===re.Db.Installed))),[null==e?void 0:e.items]);return{isPackagePolicyUpgradable:Object(a.useCallback)((e=>{var t;if(!e.package)return!1;const{name:r,version:i}=e.package,a=n.find((e=>{var t;return"installationInfo"in e&&(null===(t=e.installationInfo)||void 0===t?void 0:t.name)===r}));return!(null==a||null===(t=a.installationInfo)||void 0===t||!t.version||!ne()(i,a.installationInfo.version))}),[n]),isLoadingPackages:t}};var oe=n(3);function ue(){const{data:e,isInitialRequest:t,isLoading:n,resendRequest:r}=Object(L.xb)({page:1,perPage:g.u,full:!0});return{agentPolicies:Object(a.useMemo)((()=>{var t;return n?[]:(null!==(t=null==e?void 0:e.items)&&void 0!==t?t:[]).filter((e=>!Object(oe.G)(e)))}),[n,null==e?void 0:e.items]),refreshAgentPolicies:r,isLoadingInitialAgentPolicies:t&&n,isLoadingAgentPolicies:n}}const se=Object(a.createContext)(void 0),ce=({children:e})=>{const[t,n]=Object(a.useState)(!1),[r,i]=Object(a.useState)(!1);return o.a.createElement(se.Provider,{value:{isEnrollmentFlyoutOpen:t,openEnrollmentFlyout:()=>{n(!0)},closeEnrollmentFlyout:()=>n(!1),isFleetServerFlyoutOpen:r,openFleetServerFlyout:()=>i(!0),closeFleetServerFlyout:()=>i(!1)}},e)},le=()=>{const e=Object(a.useContext)(se);if(!e)throw new Error("useFlyoutContext must be used within a FlyoutContextProvider");return e};var de=n(40),pe=n.n(de),fe=n(24);const ge=e=>{const[t,n]=Object(a.useState)(!1),{guidedOnboarding:i}=Object(r.a)(),o=pe()(null!=i&&i.guidedOnboardingApi?i.guidedOnboardingApi.isGuidedOnboardingActiveForIntegration$(e):Object(fe.of)(!1));return Object(a.useEffect)((()=>{n(!!o)}),[o]),t};function me(e){const t=Object(L.Ib)(),n=Object(L.Hb)(),r=Object(a.useMemo)((()=>{var e,n;return null!==(e=null===(n=t.data)||void 0===n?void 0:n.items)&&void 0!==e?e:[]}),[t]),i=Object(a.useMemo)((()=>{var e,t;return null!==(e=null===(t=n.data)||void 0===t?void 0:t.items)&&void 0!==e?e:[]}),[n]),[o,u]=Object(a.useMemo)((()=>{var t;const n=r.find((t=>null!=e&&e.fleet_server_host_id?t.id===(null==e?void 0:e.fleet_server_host_id):t.is_default)),a=null!=n&&n.proxy_id?i.find((e=>e.id===n.proxy_id)):void 0;return[null!==(t=null==n?void 0:n.host_urls)&&void 0!==t?t:[],a]}),[e,i,r]),s=t.isLoading&&t.isInitialRequest||n.isLoading&&n.isInitialRequest;return Object(a.useMemo)((()=>({isLoadingInitialRequest:s,fleetServerHosts:o,fleetProxy:u,allFleetServerHosts:r})),[o,u,r,s])}function be(){var e,t;return{isFleetServerStandalone:null!==(e=null===(t=s().internal)||void 0===t?void 0:t.fleetServerStandalone)&&void 0!==e&&e}}var _e=n(44),ve=n(76),Ee=n.n(ve);const he=()=>{const e=l(),[t,n]=Object(a.useState)(void 0);return Object(a.useEffect)((()=>{(async()=>{try{var t;const r=await Object(L.u)(),i=null==r||null===(t=r.data)||void 0===t?void 0:t.items;let a;null==i||i.sort(Ee.a),a=i&&i.length>0&&0!==i.indexOf(e)?i.find((t=>ne()(t,e)||Object(d.l)(t,e)))||i[0]:e,n(a)}catch(t){n(e)}})()}),[e]),t},Te=({enrollmentAPIKey:e,cloudFormationProps:t,fleetServerHost:n})=>{const r=he();let i,a=!1;return n||(a=!0,i=X.i18n.translate("xpack.fleet.agentEnrollment.cloudFormation.noFleetServerHost",{defaultMessage:"No Fleet Server host found"})),e||(a=!0,i=X.i18n.translate("xpack.fleet.agentEnrollment.cloudFormation.noApiKey",{defaultMessage:"No enrollment token found"})),{cloudFormationUrl:e&&n&&null!=t&&t.templateUrl&&r?ye(null==t?void 0:t.templateUrl,e,n,r,null==t?void 0:t.awsAccountType):void 0,isError:a,error:i}},ye=(e,t,n,r,i)=>{let a;return a=e.replace("FLEET_ENROLLMENT_TOKEN",t).replace("FLEET_URL",n).replace("KIBANA_VERSION",r),a.includes("ACCOUNT_TYPE")&&(a=a.replace("ACCOUNT_TYPE",Pe(i))),new URL(a).toString()},Pe=e=>e||"single-account",Ie=({enrollmentAPIKey:e,packagePolicy:t})=>{var n;const{data:r,isLoading:i}=Object(L.ac)();let a,o=!1;return(null==r||null===(n=r.item.fleet_server_hosts)||void 0===n?void 0:n[0])||i||(o=!0,a=X.i18n.translate("xpack.fleet.agentEnrollment.cloudShell.noFleetServerHost",{defaultMessage:"No Fleet Server host found"})),e||i||(o=!0,a=X.i18n.translate("xpack.fleet.agentEnrollment.cloudShell.noApiKey",{defaultMessage:"No enrollment token found"})),{isLoading:i,cloudShellUrl:Object(oe.q)(t)||"",isError:o,error:a}}},function(e,t,n){"use strict";n.d(t,"tb",(function(){return r.c})),n.d(t,"kb",(function(){return r.a})),n.d(t,"lb",(function(){return r.b})),n.d(t,"fc",(function(){return r.e})),n.d(t,"vb",(function(){return r.d})),n.d(t,"xb",(function(){return u})),n.d(t,"yb",(function(){return s})),n.d(t,"ub",(function(){return c})),n.d(t,"p",(function(){return l})),n.d(t,"Lb",(function(){return d})),n.d(t,"Mb",(function(){return p})),n.d(t,"B",(function(){return f})),n.d(t,"A",(function(){return g})),n.d(t,"c",(function(){return m})),n.d(t,"qb",(function(){return b})),n.d(t,"b",(function(){return _})),n.d(t,"f",(function(){return v})),n.d(t,"ob",(function(){return E})),n.d(t,"nb",(function(){return h})),n.d(t,"e",(function(){return T})),n.d(t,"rb",(function(){return y})),n.d(t,"l",(function(){return P})),n.d(t,"Tb",(function(){return I})),n.d(t,"Sb",(function(){return O})),n.d(t,"H",(function(){return A})),n.d(t,"Pb",(function(){return k})),n.d(t,"Ob",(function(){return N})),n.d(t,"D",(function(){return R})),n.d(t,"ic",(function(){return S})),n.d(t,"sb",(function(){return L})),n.d(t,"hc",(function(){return j})),n.d(t,"E",(function(){return x})),n.d(t,"Db",(function(){return w})),n.d(t,"w",(function(){return C})),n.d(t,"Kb",(function(){return $})),n.d(t,"zb",(function(){return D})),n.d(t,"Ab",(function(){return M})),n.d(t,"t",(function(){return U})),n.d(t,"o",(function(){return F})),n.d(t,"q",(function(){return G})),n.d(t,"r",(function(){return B})),n.d(t,"N",(function(){return q})),n.d(t,"Q",(function(){return V})),n.d(t,"O",(function(){return K})),n.d(t,"S",(function(){return z})),n.d(t,"P",(function(){return H})),n.d(t,"cb",(function(){return Y})),n.d(t,"U",(function(){return X})),n.d(t,"s",(function(){return Q})),n.d(t,"M",(function(){return J})),n.d(t,"T",(function(){return W})),n.d(t,"n",(function(){return Z})),n.d(t,"V",(function(){return ee})),n.d(t,"db",(function(){return te})),n.d(t,"eb",(function(){return ne})),n.d(t,"R",(function(){return re})),n.d(t,"u",(function(){return ie})),n.d(t,"Nb",(function(){return ae})),n.d(t,"C",(function(){return oe})),n.d(t,"j",(function(){return ue})),n.d(t,"x",(function(){return se})),n.d(t,"Fb",(function(){return ce})),n.d(t,"d",(function(){return le})),n.d(t,"Bb",(function(){return de.i})),n.d(t,"Zb",(function(){return de.r})),n.d(t,"Cb",(function(){return de.j})),n.d(t,"Wb",(function(){return de.p})),n.d(t,"Xb",(function(){return de.q})),n.d(t,"I",(function(){return de.e})),n.d(t,"Rb",(function(){return de.m})),n.d(t,"Ub",(function(){return de.n})),n.d(t,"Vb",(function(){return de.o})),n.d(t,"G",(function(){return de.d})),n.d(t,"Gb",(function(){return de.k})),n.d(t,"y",(function(){return de.c})),n.d(t,"L",(function(){return de.f})),n.d(t,"a",(function(){return de.a})),n.d(t,"jb",(function(){return de.g})),n.d(t,"mb",(function(){return de.h})),n.d(t,"gc",(function(){return de.s})),n.d(t,"v",(function(){return de.b})),n.d(t,"Jb",(function(){return de.l})),n.d(t,"Qb",(function(){return pe})),n.d(t,"wb",(function(){return fe})),n.d(t,"ib",(function(){return ge})),n.d(t,"ab",(function(){return me})),n.d(t,"bb",(function(){return be})),n.d(t,"k",(function(){return _e})),n.d(t,"F",(function(){return ve})),n.d(t,"bc",(function(){return Ee})),n.d(t,"ac",(function(){return he})),n.d(t,"K",(function(){return Te})),n.d(t,"ec",(function(){return ye})),n.d(t,"pb",(function(){return Ie})),n.d(t,"z",(function(){return Oe})),n.d(t,"J",(function(){return Ae})),n.d(t,"m",(function(){return ke})),n.d(t,"dc",(function(){return Ne})),n.d(t,"cc",(function(){return Re})),n.d(t,"Yb",(function(){return Se})),n.d(t,"Eb",(function(){return Le})),n.d(t,"fb",(function(){return je})),n.d(t,"W",(function(){return xe})),n.d(t,"g",(function(){return we})),n.d(t,"Ib",(function(){return $e})),n.d(t,"i",(function(){return De})),n.d(t,"hb",(function(){return Me})),n.d(t,"Y",(function(){return Ue})),n.d(t,"Hb",(function(){return Fe})),n.d(t,"h",(function(){return Ge})),n.d(t,"X",(function(){return Be})),n.d(t,"gb",(function(){return qe})),n.d(t,"Z",(function(){return Ve}));var r=n(2),i=n(7),a=n(3),o=n(0);const u=e=>Object(r.e)({path:a.c.getListPath(),method:"get",query:e,version:o.m.public.v1}),s=e=>Object(i.useQuery)(["agentPolicies",e],(()=>Object(r.b)({path:a.c.getListPath(),method:"get",query:e,version:o.m.public.v1}))),c=(e,t)=>Object(i.useQuery)(["agentPolicies",e],(()=>Object(r.b)({path:a.c.getBulkGetPath(),method:"post",body:JSON.stringify({ids:e,full:null==t?void 0:t.full}),version:o.m.public.v1}))),l=e=>Object(r.a)({path:a.c.getListPath(),method:"get",query:e,version:o.m.public.v1}),d=e=>Object(r.d)({path:e?a.c.getInfoPath(e):void 0,method:"get",shouldSendRequest:!!e,version:o.m.public.v1}),p=e=>Object(r.e)({path:a.c.getInfoFullPath(e),method:"get",version:o.m.public.v1}),f=(e,t={})=>Object(r.a)({path:a.c.getInfoFullPath(e),method:"get",query:t,version:o.m.public.v1}),g=e=>Object(r.a)({path:a.c.getInfoPath(e),method:"get",version:o.m.public.v1}),m=(e,{withSysMonitoring:t}={withSysMonitoring:!1})=>Object(r.a)({path:a.c.getCreatePath(),method:"post",body:JSON.stringify(e),query:t?{sys_monitoring:!0}:{},version:o.m.public.v1}),b=(e,t)=>Object(r.a)({path:a.c.getUpdatePath(e),method:"put",body:JSON.stringify(t),version:o.m.public.v1}),_=(e,t)=>Object(r.a)({path:a.c.getCopyPath(e),method:"post",body:JSON.stringify(t)}),v=e=>Object(r.a)({path:a.c.getDeletePath(),method:"post",body:JSON.stringify(e),version:o.m.public.v1}),E=e=>Object(r.a)({path:a.c.getResetOnePreconfiguredAgentPolicyPath(e),method:"post",body:JSON.stringify({}),version:o.m.internal.v1}),h=()=>Object(r.a)({path:a.c.getResetAllPreconfiguredAgentPolicyPath(),method:"post",body:JSON.stringify({}),version:o.m.internal.v1}),T=e=>Object(r.a)({path:a.D.getCreatePath(),method:"post",version:o.m.public.v1,body:JSON.stringify(e)}),y=(e,t)=>Object(r.a)({path:a.D.getUpdatePath(e),method:"put",version:o.m.public.v1,body:JSON.stringify(t)}),P=e=>Object(r.a)({path:a.D.getDeletePath(),method:"post",version:o.m.public.v1,body:JSON.stringify(e)});function I(e){return Object(i.useQuery)(["packagePolicies"],(()=>Object(r.b)({method:"get",version:o.m.public.v1,path:a.D.getListPath(),query:e})))}function O(e){return Object(r.e)({method:"get",version:o.m.public.v1,path:a.D.getListPath(),query:e})}const A=e=>Object(r.a)({method:"get",version:o.m.public.v1,path:a.D.getListPath(),query:e}),k=e=>Object(i.useQuery)(["packagePolicy",e],(()=>Object(r.b)({method:"get",version:o.m.public.v1,path:a.D.getInfoPath(e)}))),N=e=>Object(r.e)({path:a.D.getInfoPath(e),method:"get",version:o.m.public.v1}),R=e=>Object(r.a)({path:a.D.getInfoPath(e),method:"get",version:o.m.public.v1});function S(e,t,{enabled:n}={}){const u={packagePolicyIds:e};return t&&(u.packageVersion=t),Object(i.useQuery)(["upgradePackagePolicyDryRun",e,t],(()=>Object(r.b)({path:a.D.getDryRunPath(),method:"post",version:o.m.public.v1,body:JSON.stringify(u)})),{enabled:n})}function L(e,t){const n={packagePolicyIds:e};return t&&(n.packageVersion=t),Object(r.a)({path:a.D.getDryRunPath(),method:"post",version:o.m.public.v1,body:JSON.stringify(n)})}function j(){return Object(i.useMutation)((({packagePolicyIds:e})=>Object(r.b)({path:a.D.getUpgradePath(),method:"post",version:o.m.public.v1,body:JSON.stringify({packagePolicyIds:e})})))}function x(){return Object(r.a)({path:a.D.getOrphanedIntegrationPoliciesPath(),method:"get",version:o.m.public.v1})}const w=()=>Object(r.e)({path:a.g.getListPath(),method:"get",version:o.m.public.v1}),C=async()=>{const e=await Object(r.a)({path:a.g.getListPath(),method:"get"});if(e.error)throw e.error;return e.data};function $(e,t){return Object(r.e)({path:a.d.getInfoPath(e),method:"get",version:o.m.public.v1,...t})}function D(e,t){return Object(r.e)({method:"get",path:a.d.getListPath(),version:o.m.public.v1,query:e,...t})}function M(e,t={}){return Object(i.useQuery)(["agents",e],(()=>U(e)),{enabled:t.enabled})}function U(e,t){return Object(r.a)({method:"get",path:a.d.getListPath(),version:o.m.public.v1,query:e,...t})}function F(e){return Object(r.a)({method:"get",path:a.d.getIncomingDataPath(),query:e,version:o.m.public.v1})}function G(e,t){return Object(r.a)({method:"get",path:a.d.getStatusPath(),query:e,version:o.m.public.v1,...t})}function B(e,t){return Object(r.a)({method:"get",path:a.d.getListTagsPath(),query:e,version:o.m.public.v1,...t})}function q(e,t,n){return Object(r.a)({method:"post",path:a.d.getReassignPath(e),body:t,version:o.m.public.v1,...n})}function V(e,t){return Object(r.a)({method:"post",path:a.d.getBulkReassignPath(),body:e,version:o.m.public.v1,...t})}function K(e,t,n){return Object(r.a)({path:a.d.getUnenrollPath(e),method:"post",body:t,version:o.m.public.v1,...n})}function z(e,t){return Object(r.a)({path:a.d.getBulkUnenrollPath(),method:"post",body:e,version:o.m.public.v1,...t})}function H(e,t,n){return Object(r.a)({path:a.d.getUpgradePath(e),method:"post",body:t,version:o.m.public.v1,...n})}function Y(e,t){return Object(r.a)({path:a.d.getRequestDiagnosticsPath(e),method:"post",version:o.m.public.v1,...t})}function X(e,t){return Object(r.a)({path:a.d.getBulkRequestDiagnosticsPath(),method:"post",body:e,version:o.m.public.v1,...t})}function Q(e,t){return Object(r.a)({path:a.d.getListAgentUploads(e),method:"get",version:o.m.public.v1,...t})}function J(e,t,n){return Object(r.a)({path:a.d.getCreateActionPath(e),method:"post",body:t,version:o.m.public.v1,...n})}function W(e,t){return Object(r.a)({path:a.d.getBulkUpgradePath(),method:"post",body:e,version:o.m.public.v1,...t})}function Z(){return Object(r.a)({path:a.d.getActionStatusPath(),method:"get",version:o.m.public.v1})}function ee(e){return Object(r.a)({path:a.d.getCancelActionPath(e),method:"post",version:o.m.public.v1})}function te(e){return Object(r.a)({path:a.d.getAgentsByActionsPath(),method:"post",version:o.m.public.v1,body:e})}function ne(e,t,n){return Object(r.a)({method:"put",path:a.d.getUpdatePath(e),body:t,version:o.m.public.v1,...n})}function re(e,t){return Object(r.a)({method:"post",path:a.d.getBulkUpdateTagsPath(),body:e,version:o.m.public.v1,...t})}function ie(){return Object(r.a)({method:"get",path:a.d.getAvailableVersionsPath(),version:o.m.public.v1})}function ae(e){return Object(r.d)({method:"get",path:e?a.k.getInfoPath(e):void 0,shouldSendRequest:!!e,version:o.m.public.v1})}function oe(e,t){return Object(r.a)({method:"get",path:a.k.getInfoPath(e),version:o.m.public.v1,...t})}function ue(e,t){return Object(r.a)({method:"delete",path:a.k.getDeletePath(e),version:o.m.public.v1,...t})}function se(e,t){return Object(r.a)({method:"get",path:a.k.getListPath(),version:o.m.public.v1,query:e,...t})}function ce(e,t){return Object(r.e)({method:"get",path:a.k.getListPath(),version:o.m.public.v1,query:e,...t})}function le(e){return Object(r.a)({method:"post",path:a.k.getCreatePath(),version:o.m.public.v1,body:e})}var de=n(43);function pe(){return Object(r.e)({method:"get",path:a.C.getListPath(),version:o.m.public.v1})}function fe(){var e;const t=pe();return{output:null===(e=t.data)||void 0===e?void 0:e.items.find((e=>e.is_default)),refresh:t.resendRequest}}function ge(e,t){return Object(r.a)({method:"put",path:a.C.getUpdatePath(e),version:o.m.public.v1,body:t})}function me(){return Object(r.a)({method:"post",path:a.C.getCreateLogstashApiKeyPath(),version:o.m.public.v1})}function be(e){return Object(r.a)({method:"post",path:a.C.getCreatePath(),version:o.m.public.v1,body:e})}function _e(e){return Object(r.a)({method:"delete",path:a.C.getDeletePath(e),version:o.m.public.v1})}function ve(e){return Object(r.a)({method:"get",path:a.C.getOutputHealthPath(e),version:o.m.public.v1})}function Ee(e){return Object(i.useQuery)({queryKey:["settings"],enabled:null==e?void 0:e.enabled,queryFn:()=>Object(r.b)({method:"get",path:a.H.getInfoPath(),version:o.m.public.v1})})}function he(){return Object(r.e)({method:"get",path:a.H.getInfoPath(),version:o.m.public.v1})}function Te(){return Object(r.a)({method:"get",path:a.H.getInfoPath(),version:o.m.public.v1})}function ye(){const e=Object(i.useQueryClient)();return Object(i.useMutation)({mutationFn:Pe,onSuccess:()=>{e.invalidateQueries(["settings"])}})}function Pe(e){return Object(r.a)({method:"put",path:a.H.getUpdatePath(),version:o.m.public.v1,body:e})}const Ie=()=>Object(r.a)({path:a.I.getSetupPath(),method:"post",version:o.m.public.v1}),Oe=()=>Object(r.a)({path:a.m.getFleetSetupPath(),method:"get",version:o.m.public.v1}),Ae=e=>Object(r.a)({path:a.e.getCheckPermissionsPath(),method:"get",query:{fleetServerSetup:e},version:o.m.public.v1}),ke=e=>Object(r.a)({path:a.e.getRegenerateServiceTokenPath(),method:"post",query:{remote:e},version:o.m.public.v1}),Ne=()=>Object(i.useQuery)(["permissionsCheck"],(()=>Object(r.b)({path:a.e.getCheckPermissionsPath(),method:"get",version:o.m.public.v1}))),Re=()=>Object(r.e)({path:a.e.getCheckPermissionsPath(),method:"get",version:o.m.public.v1}),Se=e=>Object(r.e)({path:`/api/ingest_pipelines/${e}`,method:"get"});function Le(){return Object(r.e)({method:"get",path:a.j.getListPath(),version:o.m.public.v1})}function je(e,t){return Object(r.a)({method:"put",path:a.j.getUpdatePath(e),version:o.m.public.v1,body:t})}function xe(e){return Object(r.a)({method:"post",path:a.j.getCreatePath(),version:o.m.public.v1,body:e})}function we(e){return Object(r.a)({method:"delete",path:a.j.getDeletePath(e),version:o.m.public.v1})}var Ce=n(5);function $e(){return Object(r.e)({method:"get",path:Ce.s.getListPath(),version:o.m.public.v1})}function De(e){return Object(r.a)({method:"delete",path:Ce.s.getDeletePath(e),version:o.m.public.v1})}function Me(e,t){return Object(r.a)({method:"put",path:Ce.s.getUpdatePath(e),version:o.m.public.v1,body:t})}function Ue(e){return Object(r.a)({method:"post",path:Ce.s.getCreatePath(),version:o.m.public.v1,body:e})}function Fe(){return Object(r.e)({method:"get",path:Ce.r.getListPath(),version:o.m.public.v1})}function Ge(e){return Object(r.a)({method:"delete",path:Ce.r.getDeletePath(e),version:o.m.public.v1})}function Be(e){return Object(r.a)({method:"post",path:Ce.r.getCreatePath(),body:e,version:o.m.public.v1})}function qe(e,t){return Object(r.a)({method:"put",path:Ce.r.getUpdatePath(e),version:o.m.public.v1,body:t})}function Ve(e){return Object(r.a)({method:"post",path:a.e.postHealthCheckPath(),version:o.m.public.v1,body:e})}},function(e,t,n){"use strict";var r=n(9);n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return r.b})),n.d(t,"c",(function(){return r.c})),n.d(t,"d",(function(){return r.f})),n.d(t,"e",(function(){return r.g})),n.d(t,"f",(function(){return r.h})),n.d(t,"g",(function(){return r.i})),n.d(t,"h",(function(){return r.j})),n.d(t,"i",(function(){return r.k})),n.d(t,"j",(function(){return r.l})),n.d(t,"k",(function(){return r.m})),n.d(t,"l",(function(){return r.n})),n.d(t,"m",(function(){return r.r})),n.d(t,"n",(function(){return r.s})),n.d(t,"o",(function(){return r.t})),n.d(t,"p",(function(){return r.u})),n.d(t,"q",(function(){return r.v}))},function(e,t){e.exports=__kbnSharedDeps__.Lodash},function(e,t,n){"use strict";n.d(t,"vb",(function(){return r.Fb})),n.d(t,"lc",(function(){return r.Rc})),n.d(t,"b",(function(){return r.b})),n.d(t,"zb",(function(){return r.Jb})),n.d(t,"e",(function(){return r.e})),n.d(t,"ac",(function(){return r.Cc})),n.d(t,"g",(function(){return r.j})),n.d(t,"bc",(function(){return r.Dc})),n.d(t,"cc",(function(){return r.Ec})),n.d(t,"ec",(function(){return r.Hc})),n.d(t,"kc",(function(){return r.Qc})),n.d(t,"lb",(function(){return r.tb})),n.d(t,"mb",(function(){return r.ub})),n.d(t,"hc",(function(){return r.Nc})),n.d(t,"Ib",(function(){return r.Sb})),n.d(t,"v",(function(){return r.z})),n.d(t,"Pb",(function(){return r.gc})),n.d(t,"Qb",(function(){return r.hc})),n.d(t,"C",(function(){return r.J})),n.d(t,"j",(function(){return r.m})),n.d(t,"qb",(function(){return r.zb})),n.d(t,"i",(function(){return r.l})),n.d(t,"m",(function(){return r.p})),n.d(t,"ob",(function(){return r.xb})),n.d(t,"nb",(function(){return r.wb})),n.d(t,"l",(function(){return r.o})),n.d(t,"rb",(function(){return r.Ab})),n.d(t,"s",(function(){return r.v})),n.d(t,"Tb",(function(){return r.nc})),n.d(t,"I",(function(){return r.Q})),n.d(t,"E",(function(){return r.M})),n.d(t,"sb",(function(){return r.Bb})),n.d(t,"F",(function(){return r.N})),n.d(t,"Jb",(function(){return r.Yb})),n.d(t,"Ob",(function(){return r.fc})),n.d(t,"z",(function(){return r.D})),n.d(t,"w",(function(){return r.A})),n.d(t,"x",(function(){return r.B})),n.d(t,"O",(function(){return r.W})),n.d(t,"R",(function(){return r.Z})),n.d(t,"P",(function(){return r.X})),n.d(t,"T",(function(){return r.bb})),n.d(t,"Q",(function(){return r.Y})),n.d(t,"db",(function(){return r.lb})),n.d(t,"V",(function(){return r.db})),n.d(t,"y",(function(){return r.C})),n.d(t,"N",(function(){return r.V})),n.d(t,"U",(function(){return r.cb})),n.d(t,"u",(function(){return r.x})),n.d(t,"W",(function(){return r.eb})),n.d(t,"eb",(function(){return r.mb})),n.d(t,"fb",(function(){return r.nb})),n.d(t,"S",(function(){return r.ab})),n.d(t,"A",(function(){return r.E})),n.d(t,"D",(function(){return r.L})),n.d(t,"q",(function(){return r.t})),n.d(t,"B",(function(){return r.H})),n.d(t,"Lb",(function(){return r.ac})),n.d(t,"k",(function(){return r.n})),n.d(t,"J",(function(){return r.R})),n.d(t,"Sb",(function(){return r.mc})),n.d(t,"H",(function(){return r.P})),n.d(t,"M",(function(){return r.U})),n.d(t,"h",(function(){return r.k})),n.d(t,"kb",(function(){return r.sb})),n.d(t,"Rb",(function(){return r.lc})),n.d(t,"Db",(function(){return r.Nb})),n.d(t,"jb",(function(){return r.rb})),n.d(t,"bb",(function(){return r.jb})),n.d(t,"cb",(function(){return r.kb})),n.d(t,"r",(function(){return r.u})),n.d(t,"G",(function(){return r.O})),n.d(t,"Vb",(function(){return r.vc})),n.d(t,"L",(function(){return r.T})),n.d(t,"pb",(function(){return r.yb})),n.d(t,"K",(function(){return r.S})),n.d(t,"t",(function(){return r.w})),n.d(t,"fc",(function(){return r.Ic})),n.d(t,"Ub",(function(){return r.tc})),n.d(t,"Kb",(function(){return r.Zb})),n.d(t,"gb",(function(){return r.ob})),n.d(t,"X",(function(){return r.fb})),n.d(t,"n",(function(){return r.q})),n.d(t,"Nb",(function(){return r.dc})),n.d(t,"p",(function(){return r.s})),n.d(t,"ib",(function(){return r.qb})),n.d(t,"Z",(function(){return r.hb})),n.d(t,"Mb",(function(){return r.cc})),n.d(t,"o",(function(){return r.r})),n.d(t,"Y",(function(){return r.gb})),n.d(t,"hb",(function(){return r.pb})),n.d(t,"ab",(function(){return r.ib})),n.d(t,"qc",(function(){return r.ad})),n.d(t,"Wb",(function(){return r.xc})),n.d(t,"ic",(function(){return r.Oc})),n.d(t,"gc",(function(){return r.Mc})),n.d(t,"mc",(function(){return r.Sc})),n.d(t,"yb",(function(){return r.Hb})),n.d(t,"Zb",(function(){return r.Bc})),n.d(t,"nc",(function(){return r.Tc})),n.d(t,"dc",(function(){return r.Fc})),n.d(t,"jc",(function(){return r.Pc})),n.d(t,"pc",(function(){return r.Zc})),n.d(t,"c",(function(){return r.c})),n.d(t,"Gb",(function(){return r.Qb})),n.d(t,"f",(function(){return r.h})),n.d(t,"oc",(function(){return r.Uc})),n.d(t,"Xb",(function(){return r.yc})),n.d(t,"a",(function(){return r.a})),n.d(t,"tb",(function(){return r.Db})),n.d(t,"Yb",(function(){return r.Ac})),n.d(t,"d",(function(){return r.d})),n.d(t,"Hb",(function(){return r.Rb})),n.d(t,"Eb",(function(){return r.Ob})),n.d(t,"Fb",(function(){return r.Pb})),n.d(t,"Cb",(function(){return r.Mb})),n.d(t,"Ab",(function(){return r.Kb})),n.d(t,"Bb",(function(){return r.Lb})),n.d(t,"ub",(function(){return r.Eb})),n.d(t,"wb",(function(){return c})),n.d(t,"xb",(function(){return p}));var r=n(11),i=n(4),a=n(13);const o={href:a.q.base()[1],text:i.i18n.translate("xpack.fleet.breadcrumbs.appTitle",{defaultMessage:"Fleet"}),deepLinkId:"fleet"},u={href:a.q.integrations()[1],text:i.i18n.translate("xpack.fleet.breadcrumbs.integrationsAppTitle",{defaultMessage:"Integrations"}),useIntegrationsBasePath:!0,deepLinkId:"integrations"},s={base:()=>[o],policies:()=>[o,{text:i.i18n.translate("xpack.fleet.breadcrumbs.policiesPageTitle",{defaultMessage:"Agent policies"})}],policies_list:()=>[o,{text:i.i18n.translate("xpack.fleet.breadcrumbs.policiesPageTitle",{defaultMessage:"Agent policies"})}],policy_details:({policyName:e})=>[o,{href:a.q.policies()[1],text:i.i18n.translate("xpack.fleet.breadcrumbs.policiesPageTitle",{defaultMessage:"Agent policies"})},{text:e}],add_integration_to_policy:({pkgTitle:e,pkgkey:t,integration:n})=>[u,{href:a.q.integration_details_overview({pkgkey:t,integration:n})[1],text:e,useIntegrationsBasePath:!0},{text:i.i18n.translate("xpack.fleet.breadcrumbs.addPackagePolicyPageTitle",{defaultMessage:"Add integration"})}],edit_integration:({policyName:e,policyId:t})=>[o,{href:a.q.policies()[1],text:i.i18n.translate("xpack.fleet.breadcrumbs.policiesPageTitle",{defaultMessage:"Agent policies"})},{href:a.q.policy_details({policyId:t})[1],text:e},{text:i.i18n.translate("xpack.fleet.breadcrumbs.editPackagePolicyPageTitle",{defaultMessage:"Edit integration"})}],upgrade_package_policy:({policyName:e,policyId:t})=>[o,{href:a.q.policies()[1],text:i.i18n.translate("xpack.fleet.breadcrumbs.policiesPageTitle",{defaultMessage:"Agent policies"})},{href:a.q.policy_details({policyId:t})[1],text:e},{text:i.i18n.translate("xpack.fleet.breadcrumbs.upgradePackagePolicyPageTitle",{defaultMessage:"Upgrade integration "})}],agent_list:()=>[o,{text:i.i18n.translate("xpack.fleet.breadcrumbs.agentsPageTitle",{defaultMessage:"Agents"})}],agent_details:({agentHost:e})=>[o,{href:a.q.agent_list({})[1],text:i.i18n.translate("xpack.fleet.breadcrumbs.agentsPageTitle",{defaultMessage:"Agents"})},{text:e}],enrollment_tokens:()=>[o,{text:i.i18n.translate("xpack.fleet.breadcrumbs.enrollmentTokensPageTitle",{defaultMessage:"Enrollment tokens"})}],uninstall_tokens:()=>[o,{text:i.i18n.translate("xpack.fleet.breadcrumbs.uninstallTokensPageTitle",{defaultMessage:"Uninstall tokens"})}],data_streams:()=>[o,{text:i.i18n.translate("xpack.fleet.breadcrumbs.datastreamsPageTitle",{defaultMessage:"Data streams"})}],settings:()=>[o,{text:i.i18n.translate("xpack.fleet.breadcrumbs.settingsPageTitle",{defaultMessage:"Settings"})}]};function c(e,t={}){var n;const{chrome:i,http:o,application:u}=Object(r.Rc)(),c=(null===(n=s[e])||void 0===n?void 0:n.call(s,t).map((e=>{const t=e.href?o.basePath.prepend(`${e.useIntegrationsBasePath?a.k:a.f}${e.href}`):void 0;return{...e,href:t,onClick:t?e=>{e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||(e.preventDefault(),u.navigateToUrl(t))}:void 0}})))||[],l=[...c].reverse().map((e=>e.text));i.docTitle.change(l),i.setBreadcrumbs(c)}n(69),n(63);var l=n(7);async function d(){let e;try{var t;const i=await Object(r.S)(!0);var n;null!==(t=i.data)&&void 0!==t&&t.success||(e=(null===(n=i.data)||void 0===n?void 0:n.error)||"REQUEST_ERROR")}catch(t){e="REQUEST_ERROR"}return e}const p=()=>{const{data:e,status:t}=Object(l.useQuery)(["fetch-check-permissions"],d);return{isPermissionsLoading:"loading"===t,permissionsError:e}}},function(e,t,n){e.exports=n(36)(2)},function(e,t,n){"use strict";n.r(t);var r=n(0);n.d(t,"PLUGIN_ID",(function(){return r.rb})),n.d(t,"INTEGRATIONS_PLUGIN_ID",(function(){return r.cb})),n.d(t,"FLEET_APM_PACKAGE",(function(){return r.H})),n.d(t,"FLEET_SERVER_PACKAGE",(function(){return r.V})),n.d(t,"FLEET_SYSTEM_PACKAGE",(function(){return r.Y})),n.d(t,"FLEET_SYNTHETICS_PACKAGE",(function(){return r.X})),n.d(t,"FLEET_ELASTIC_AGENT_PACKAGE",(function(){return r.N})),n.d(t,"FLEET_KUBERNETES_PACKAGE",(function(){return r.Q})),n.d(t,"FLEET_CLOUD_SECURITY_POSTURE_PACKAGE",(function(){return r.M})),n.d(t,"FLEET_CLOUD_SECURITY_POSTURE_KSPM_POLICY_TEMPLATE",(function(){return r.L})),n.d(t,"FLEET_CLOUD_SECURITY_POSTURE_CSPM_POLICY_TEMPLATE",(function(){return r.K})),n.d(t,"FLEET_CLOUD_SECURITY_POSTURE_CNVM_POLICY_TEMPLATE",(function(){return r.J})),n.d(t,"FLEET_CLOUD_DEFEND_PACKAGE",(function(){return r.I})),n.d(t,"FLEET_ENDPOINT_PACKAGE",(function(){return r.O})),n.d(t,"AGENT_POLICY_SAVED_OBJECT_TYPE",(function(){return r.k})),n.d(t,"PACKAGES_SAVED_OBJECT_TYPE",(function(){return r.mb})),n.d(t,"PACKAGE_POLICY_SAVED_OBJECT_TYPE",(function(){return r.qb})),n.d(t,"OUTPUT_SAVED_OBJECT_TYPE",(function(){return r.kb})),n.d(t,"PRECONFIGURATION_DELETION_RECORD_SAVED_OBJECT_TYPE",(function(){return r.tb})),n.d(t,"ASSETS_SAVED_OBJECT_TYPE",(function(){return r.o})),n.d(t,"MESSAGE_SIGNING_KEYS_SAVED_OBJECT_TYPE",(function(){return r.ib})),n.d(t,"UNINSTALL_TOKENS_SAVED_OBJECT_TYPE",(function(){return r.yb})),n.d(t,"FLEET_SERVER_SERVERS_INDEX",(function(){return r.W})),n.d(t,"FLEET_SERVER_ARTIFACTS_INDEX",(function(){return r.S})),n.d(t,"AGENTS_INDEX",(function(){return r.a})),n.d(t,"AGENT_POLICY_INDEX",(function(){return r.i})),n.d(t,"AGENT_ACTIONS_INDEX",(function(){return r.d})),n.d(t,"AGENT_ACTIONS_RESULTS_INDEX",(function(){return r.e})),n.d(t,"AGENTS_PREFIX",(function(){return r.b})),n.d(t,"AGENT_UPDATE_LAST_CHECKIN_INTERVAL_MS",(function(){return r.l})),n.d(t,"agentPolicyStatuses",(function(){return r.Ab})),n.d(t,"FleetServerAgentComponentStatuses",(function(){return r.Z})),n.d(t,"PACKAGE_POLICY_API_ROOT",(function(){return r.ob})),n.d(t,"AGENT_API_ROUTES",(function(){return r.f})),n.d(t,"AGENT_POLICY_API_ROUTES",(function(){return r.h})),n.d(t,"AGENTS_SETUP_API_ROUTES",(function(){return r.c})),n.d(t,"PACKAGE_POLICY_API_ROUTES",(function(){return r.pb})),n.d(t,"EPM_API_ROUTES",(function(){return r.C})),n.d(t,"SETUP_API_ROUTE",(function(){return r.wb})),n.d(t,"SO_SEARCH_LIMIT",(function(){return r.xb})),n.d(t,"ENDPOINT_PRIVILEGES",(function(){return r.x})),n.d(t,"DASHBOARD_LOCATORS_IDS",(function(){return r.q})),n.d(t,"FLEET_ENROLLMENT_API_PREFIX",(function(){return r.P})),n.d(t,"API_VERSIONS",(function(){return r.m})),n.d(t,"APP_API_ROUTES",(function(){return r.n}));var i=n(5);n.d(t,"epmRouteService",(function(){return i.q})),n.d(t,"agentRouteService",(function(){return i.g})),n.d(t,"agentPolicyRouteService",(function(){return i.f})),n.d(t,"setupRouteService",(function(){return i.Z})),n.d(t,"appRoutesService",(function(){return i.i})),n.d(t,"packagePolicyRouteService",(function(){return i.T})),n.d(t,"fleetSetupRouteService",(function(){return i.t})),n.d(t,"isValidNamespace",(function(){return i.Q})),n.d(t,"INVALID_NAMESPACE_CHARACTERS",(function(){return i.c})),n.d(t,"getFileMetadataIndexName",(function(){return i.z})),n.d(t,"getFileDataIndexName",(function(){return i.y}));var a=n(25);n.d(t,"ElasticsearchAssetType",(function(){return a.a}))},function(e,t,n){e.exports=n(36)(3)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(37);function i(){const{services:e}=Object(r.useKibana)();if(null===e)throw new Error("KibanaContextProvider not initialized");return e}},function(e,t){e.exports=__kbnSharedDeps__.ReactRouterDom},function(e,t){e.exports=__kbnSharedDeps__.KbnStd},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return s})),n.d(t,"f",(function(){return c}));var r=n(26);const i="/app/fleet",a="/app/integrations",o={fleet:"/:tabId",agents:"/agents",agent_details:"/agents/:agentId/:tabId?",agent_details_logs:"/agents/:agentId/logs",agent_details_diagnostics:"/agents/:agentId/diagnostics",policies:"/policies",policies_list:"/policies",policy_details:"/policies/:policyId/:tabId?",policy_details_settings:"/policies/:policyId/settings",edit_integration:"/policies/:policyId/edit-integration/:packagePolicyId",upgrade_package_policy:"/policies/:policyId/upgrade-package-policy/:packagePolicyId",enrollment_tokens:"/enrollment-tokens",uninstall_tokens:"/uninstall-tokens",data_streams:"/data-streams",settings:"/settings",settings_create_fleet_server_hosts:"/settings/create-fleet-server-hosts",settings_edit_fleet_server_hosts:"/settings/fleet-server-hosts/:itemId",settings_create_outputs:"/settings/create-outputs",settings_edit_outputs:"/settings/outputs/:outputId",settings_create_download_sources:"/settings/create-download-sources",settings_create_fleet_proxy:"/settings/create-fleet-proxy",settings_edit_fleet_proxy:"/settings/fleet-proxies/:itemId",settings_edit_download_sources:"/settings/downloadSources/:downloadSourceId",debug:"/_debug",add_integration_to_policy:"/integrations/:pkgkey/add-integration/:integration?"},u="q",s={integrations:"/:tabId",integrations_all:"/browse/:category?/:subcategory?",integrations_installed:"/installed/:category?",integrations_installed_updates_available:"/installed/updates_available/:category?",integration_details:"/detail/:pkgkey/:panel?",integration_details_overview:"/detail/:pkgkey/overview",integration_details_policies:"/detail/:pkgkey/policies",integration_details_assets:"/detail/:pkgkey/assets",integration_details_settings:"/detail/:pkgkey/settings",integration_details_configs:"/detail/:pkgkey/configs",integration_details_custom:"/detail/:pkgkey/custom",integration_details_api_reference:"/detail/:pkgkey/api-reference",integration_details_language_clients:"/language_clients/:pkgkey/overview",integration_policy_edit:"/edit-integration/:packagePolicyId",integration_policy_upgrade:"/edit-integration/:packagePolicyId"},c={base:()=>[i,"/"],overview:()=>[i,"/"],integrations:()=>[a,"/"],integrations_all:({searchTerm:e,category:t,subCategory:n})=>[a,`/browse${t&&n?`/${t}/${n} `:t&&!n?`/${t}`:""}${e?`?${u}=${e}`:""}`],integrations_installed:({query:e,category:t})=>[a,`/installed${t?`/${t}`:""}${e?`?${u}=${e}`:""}`],integrations_installed_updates_available:({query:e,category:t})=>[a,`/installed/updates_available${t?`/${t}`:""}${e?`?${u}=${e}`:""}`],integration_details_overview:({pkgkey:e,integration:t})=>[a,`/detail/${e}/overview${t?`?integration=${t}`:""}`],integration_details_policies:({pkgkey:e,integration:t,addAgentToPolicyId:n})=>{const i=Object(r.stringify)({integration:t,addAgentToPolicyId:n});return[a,`/detail/${e}/policies${i?`?${i}`:""}`]},integration_details_assets:({pkgkey:e,integration:t})=>[a,`/detail/${e}/assets${t?`?integration=${t}`:""}`],integration_details_settings:({pkgkey:e,integration:t})=>[a,`/detail/${e}/settings${t?`?integration=${t}`:""}`],integration_details_configs:({pkgkey:e,integration:t})=>[a,`/detail/${e}/configs${t?`?integration=${t}`:""}`],integration_details_custom:({pkgkey:e,integration:t})=>[a,`/detail/${e}/custom${t?`?integration=${t}`:""}`],integration_details_api_reference:({pkgkey:e,integration:t})=>[a,`/detail/${e}/api-reference${t?`?integration=${t}`:""}`],integration_policy_edit:({packagePolicyId:e})=>[a,`/edit-integration/${e}`],integration_policy_upgrade:({packagePolicyId:e})=>[a,`/edit-integration/${e}`],integration_details_language_clients:({pkgkey:e})=>[a,`/language_clients/${e}/overview`],policies:()=>[i,"/policies"],policies_list:()=>[i,"/policies"],policy_details:({policyId:e,tabId:t})=>[i,`/policies/${e}${t?`/${t}`:""}`],add_integration_to_policy:({pkgkey:e,integration:t,agentPolicyId:n,useMultiPageLayout:a})=>{const o=Object(r.stringify)({...n?{policyId:n}:{},...a?{useMultiPageLayout:null}:{}});return[i,`/integrations/${e}/add-integration${t?`/${t}`:""}${o?`?${o}`:""}`]},edit_integration:({policyId:e,packagePolicyId:t})=>[i,`/policies/${e}/edit-integration/${t}`],upgrade_package_policy:({policyId:e,packagePolicyId:t})=>[i,`/policies/${e}/upgrade-package-policy/${t}`],agent_list:({kuery:e})=>[i,"/agents"+(e?`?kuery=${e}`:"")],agent_details:({agentId:e,tabId:t,logQuery:n})=>[i,`/agents/${e}${t?`/${t}`:""}${n?`?_q=${n}`:""}`],agent_details_logs:({agentId:e})=>[i,`/agents/${e}/logs`],agent_details_diagnostics:({agentId:e})=>[i,`/agents/${e}/diagnostics`],enrollment_tokens:()=>[i,"/enrollment-tokens"],uninstall_tokens:()=>[i,o.uninstall_tokens],data_streams:()=>[i,"/data-streams"],settings:()=>[i,o.settings],settings_edit_fleet_server_hosts:({itemId:e})=>[i,o.settings_edit_fleet_server_hosts.replace(":itemId",e.toString())],settings_create_fleet_server_hosts:()=>[i,o.settings_create_fleet_server_hosts],settings_create_fleet_proxy:()=>[i,o.settings_create_fleet_proxy],settings_edit_fleet_proxy:({itemId:e})=>[i,o.settings_edit_fleet_proxy.replace(":itemId",e.toString())],settings_edit_outputs:({outputId:e})=>[i,o.settings_edit_outputs.replace(":outputId",e)],settings_edit_download_sources:({downloadSourceId:e})=>[i,o.settings_edit_download_sources.replace(":downloadSourceId",e)],settings_create_outputs:()=>[i,o.settings_create_outputs],settings_create_download_sources:()=>[i,o.settings_create_download_sources],debug:()=>[i,o.debug]}},function(e,t,n){const r=n(38);e.exports=(e,t,n)=>r(e,t,n)<0},function(e,t){e.exports=__kbnSharedDeps__.Rxjs},function(e,t,n){"use strict";n.d(t,"b",(function(){return r.b})),n.d(t,"c",(function(){return r.c})),n.d(t,"a",(function(){return r.a})),n.d(t,"d",(function(){return i}));var r=n(28);const i=Object.entries},function(e,t,n){"use strict";const r=n(85),i=n(86),a=n(87);function o(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function u(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function s(e,t){return t.decode?i(e):e}function c(e){return Array.isArray(e)?e.sort():"object"==typeof e?c(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function l(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function d(e){const t=(e=l(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function p(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function f(e,t){o((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const n=function(e){let t;switch(e.arrayFormat){case"index":return(e,n,r)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return(e,n,r)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"comma":case"separator":return(t,n,r)=>{const i="string"==typeof n&&n.split("").indexOf(e.arrayFormatSeparator)>-1?n.split(e.arrayFormatSeparator).map((t=>s(t,e))):null===n?n:s(n,e);r[t]=i};default:return(e,t,n)=>{void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t),r=Object.create(null);if("string"!=typeof e)return r;if(!(e=e.trim().replace(/^[?#&]/,"")))return r;for(const i of e.split("&")){let[e,o]=a(t.decode?i.replace(/\+/g," "):i,"=");o=void 0===o?null:["comma","separator"].includes(t.arrayFormat)?o:s(o,t),n(s(e,t),o,r)}for(const e of Object.keys(r)){const n=r[e];if("object"==typeof n&&null!==n)for(const e of Object.keys(n))n[e]=p(n[e],t);else r[e]=p(n,t)}return!1===t.sort?r:(!0===t.sort?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce(((e,t)=>{const n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=c(n):e[t]=n,e}),Object.create(null))}t.extract=d,t.parse=f,t.stringify=(e,t)=>{if(!e)return"";o((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const n=n=>t.skipNull&&null==e[n]||t.skipEmptyString&&""===e[n],r=function(e){switch(e.arrayFormat){case"index":return t=>(n,r)=>{const i=n.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[u(t,e),"[",i,"]"].join("")]:[...n,[u(t,e),"[",u(i,e),"]=",u(r,e)].join("")]};case"bracket":return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[u(t,e),"[]"].join("")]:[...n,[u(t,e),"[]=",u(r,e)].join("")];case"comma":case"separator":return t=>(n,r)=>null==r||0===r.length?n:0===n.length?[[u(t,e),"=",u(r,e)].join("")]:[[n,u(r,e)].join(e.arrayFormatSeparator)];default:return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,u(t,e)]:[...n,[u(t,e),"=",u(r,e)].join("")]}}(t),i={};for(const t of Object.keys(e))n(t)||(i[t]=e[t]);const a=Object.keys(i);return!1!==t.sort&&a.sort(t.sort),a.map((n=>{const i=e[n];return void 0===i?"":null===i?u(n,t):Array.isArray(i)?i.reduce(r(n),[]).join("&"):u(n,t)+"="+u(i,t)})).filter((e=>e.length>0)).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[n,r]=a(e,"#");return Object.assign({url:n.split("?")[0]||"",query:f(d(e),t)},t&&t.parseFragmentIdentifier&&r?{fragmentIdentifier:s(r,t)}:{})},t.stringifyUrl=(e,n)=>{n=Object.assign({encode:!0,strict:!0},n);const r=l(e.url).split("?")[0]||"",i=t.extract(e.url),a=t.parse(i,{sort:!1}),o=Object.assign(a,e.query);let s=t.stringify(o,n);s&&(s=`?${s}`);let c=function(e){let t="";const n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}(e.url);return e.fragmentIdentifier&&(c=`#${u(e.fragmentIdentifier,n)}`),`${r}${s}${c}`}},function(e,t,n){const r=n(48),i=n(74),{safeRe:a,t:o}=n(73);e.exports=(e,t)=>{if(e instanceof r)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let n=null;if((t=t||{}).rtl){let t;for(;(t=a[o.COERCERTL].exec(e))&&(!n||n.index+n[0].length!==e.length);)n&&t.index+t[0].length===n.index+n[0].length||(n=t),a[o.COERCERTL].lastIndex=t.index+t[1].length+t[2].length;a[o.COERCERTL].lastIndex=-1}else n=e.match(a[o.COERCE]);return null===n?null:i(`${n[2]}.${n[3]||"0"}.${n[4]||"0"}`,t)}},function(e,t,n){"use strict";let r,i,a,o,u,s,c,l,d;n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o})),function(e){e.installed="installed",e.notInstalled="not_installed",e.installing="installing",e.reinstalling="reinstalling",e.uninstalling="uninstalling"}(r||(r={})),function(e){e.dashboard="dashboard",e.visualization="visualization",e.search="search",e.indexPattern="index_pattern",e.map="map",e.lens="lens",e.securityRule="security_rule",e.cloudSecurityPostureRuleTemplate="csp_rule_template",e.mlModule="ml_module",e.tag="tag",e.osqueryPackAsset="osquery_pack_asset",e.osquerySavedQuery="osquery_saved_query"}(i||(i={})),function(e){e.dashboard="dashboard",e.visualization="visualization",e.search="search",e.indexPattern="index-pattern",e.map="map",e.lens="lens",e.mlModule="ml-module",e.securityRule="security-rule",e.cloudSecurityPostureRuleTemplate="csp-rule-template",e.tag="tag",e.osqueryPackAsset="osquery-pack-asset",e.osquerySavedQuery="osquery-saved-query"}(a||(a={})),function(e){e.index="index",e.componentTemplate="component_template",e.ingestPipeline="ingest_pipeline",e.indexTemplate="index_template",e.ilmPolicy="ilm_policy",e.transform="transform",e.dataStreamIlmPolicy="data_stream_ilm_policy",e.mlModel="ml_model"}(o||(o={})),function(e){e.categories="categories",e.data_streams="data_streams",e.inputs="inputs",e.readme="readme",e.multiple="multiple",e.type="type",e.vars="vars",e.input="input",e.template_path="template_path",e.name="name",e.title="title",e.description="description",e.icons="icons",e.screenshots="screenshots"}(u||(u={})),function(e){e.type="type",e.title="title",e.description="description",e.template_path="template_path",e.condition="condition",e.input_group="input_group",e.vars="vars"}(s||(s={})),function(e){e.input="input",e.title="title",e.description="description",e.enabled="enabled",e.vars="vars",e.template_path="template_path"}(c||(c={})),function(e){e.type="type",e.ilm_policy="ilm_policy",e.hidden="hidden",e.dataset="dataset",e.title="title",e.release="release",e.streams="streams",e.package="package",e.path="path",e.ingest_pipeline="ingest_pipeline",e.elasticsearch="elasticsearch",e.dataset_is_prefix="dataset_is_prefix",e.routing_rules="routing_rules",e.lifecycle="lifecycle",e.agent="agent"}(l||(l={})),function(e){e.name="name",e.title="title",e.description="description",e.type="type",e.required="required",e.show_user="show_user",e.multi="multi",e.options="options",e.default="default",e.os="os",e.secret="secret"}(d||(d={}))},function(e,t){e.exports=__kbnSharedDeps__.RxjsOperators},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var r=n(0);const i=1209600;function a(e={}){return{name:"",description:"",namespace:"default",monitoring_enabled:Object.values(r.Cb),inactivity_timeout:i,is_protected:!1,...e}}function o(e){return{...e,is_protected:!1}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return a}));const r="fleet",i="integrations",a="transform"},function(e,t,n){"use strict";n.d(t,"d",(function(){return r.d})),n.d(t,"a",(function(){return r.a})),n.d(t,"c",(function(){return r.c})),n.d(t,"b",(function(){return r.b}));var r=n(25)},function(e,t,n){"use strict";let r,i;function a(e){r=e}function o(){return r}function u(e){i=e}function s(){return i}n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return s}))},function(e,t,n){"use strict";n.d(t,"p",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"n",(function(){return o})),n.d(t,"i",(function(){return u})),n.d(t,"l",(function(){return s})),n.d(t,"j",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"m",(function(){return d})),n.d(t,"k",(function(){return p})),n.d(t,"h",(function(){return f})),n.d(t,"g",(function(){return g})),n.d(t,"f",(function(){return m})),n.d(t,"e",(function(){return b})),n.d(t,"d",(function(){return _})),n.d(t,"b",(function(){return v})),n.d(t,"r",(function(){return E})),n.d(t,"o",(function(){return h})),n.d(t,"s",(function(){return T})),n.d(t,"t",(function(){return y})),n.d(t,"u",(function(){return P})),n.d(t,"q",(function(){return I}));var r=n(28);const i="epm-packages",a="epm-packages-assets",o="system",u="elastic_agent",s="fleet_server",c="endpoint",l="apm",d="synthetics",p="kubernetes",f="cloud_security_posture",g="kspm",m="cspm",b="vuln_mgmt",_="cloud_defend",v="data_stream.dataset",E=[c,l,d,f],h=[c,l,d],T=[l,d,f],y={Logs:"logs",Metrics:"metrics"},P=(Object.values(y),{Installed:"installed",Installing:"installing",InstallFailed:"install_failed",NotInstalled:"not_installed"}),I=[r.c.dashboard,r.c.search,r.c.visualization,r.a.transform];new Set(I)},function(e,t,n){n.r(t);var r=__kbnBundles__.get("entry/core/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps_npm__},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){const r=n(48);e.exports=(e,t,n)=>new r(e,n).compare(new r(t,n))},function(e,t,n){const r=n(38);e.exports=(e,t,n)=>r(e,t,n)>0},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(49),i=n(1),a=r.__importDefault(n(79));t.default=function(e,t){var n=i.useState(t),r=n[0],o=n[1];return a.default((function(){var t=e.subscribe(o);return function(){return t.unsubscribe()}}),[e]),r}},function(e,t,n){"use strict";n.d(t,"a",(function(){return ExperimentalFeaturesService}));var r=n(16),i=n.n(r);class ExperimentalFeaturesService{static init(e){this.experimentalFeatures=e}static get(){return this.experimentalFeatures||this.throwUninitializedError(),this.experimentalFeatures}static throwUninitializedError(){throw new Error("Experimental features services not initialized")}}i()(ExperimentalFeaturesService,"experimentalFeatures",void 0)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=e=>t=>{var n;const{package:r,view:i}=t;if(e[r]||(e[r]={}),null!==(n=e[r])&&void 0!==n&&n[i])throw new Error(`Extension point has already been registered: [${r}][${i}]`);e[r][i]=t}},function(e,t,n){"use strict";n.d(t,"i",(function(){return l})),n.d(t,"r",(function(){return d})),n.d(t,"j",(function(){return p})),n.d(t,"p",(function(){return f})),n.d(t,"q",(function(){return g})),n.d(t,"e",(function(){return m})),n.d(t,"m",(function(){return b})),n.d(t,"n",(function(){return _})),n.d(t,"o",(function(){return v})),n.d(t,"d",(function(){return E})),n.d(t,"k",(function(){return h})),n.d(t,"c",(function(){return T})),n.d(t,"f",(function(){return y})),n.d(t,"a",(function(){return P})),n.d(t,"g",(function(){return I})),n.d(t,"h",(function(){return O})),n.d(t,"s",(function(){return A})),n.d(t,"b",(function(){return k})),n.d(t,"l",(function(){return N}));var r=n(7),i=n(1),a=n(3),o=n(0),u=n(33),s=n(70),c=n(2);function l(){return Object(r.useQuery)(["get-append-custom-integrations"],(()=>Object(u.a)().getAppendCustomIntegrations()))}function d(){return Object(r.useQuery)(["get-replacemenet-custom-integrations"],(()=>Object(u.a)().getReplacementCustomIntegrations()))}function p(e={}){return Object(r.useQuery)(["categories",e],(()=>Object(c.b)({path:a.l.getCategoriesPath(),method:"get",query:e,version:o.m.public.v1})))}const f=(e={})=>Object(c.e)({path:a.l.getListPath(),method:"get",version:o.m.public.v1,query:e}),g=(e,t)=>Object(r.useQuery)({queryKey:["get-packages",e],queryFn:()=>Object(c.b)({path:a.l.getListPath(),method:"get",version:o.m.public.v1,query:e}),enabled:null==t?void 0:t.enabled}),m=(e={})=>Object(c.a)({path:a.l.getListPath(),method:"get",version:o.m.public.v1,query:e}),b=(e,t,n,u={enabled:!0})=>{const l=Object(s.a)(),[d,p]=Object(i.useState)(null==n?void 0:n.ignoreUnverified),f=Object(r.useQuery)([e,t,n],(()=>Object(c.b)({path:a.l.getInfoPath(e,t),method:"get",version:o.m.public.v1,query:{...n,...d&&{ignoreUnverified:d}}})),{enabled:u.enabled,refetchOnMount:u.refetchOnMount});return null!=f&&f.error&&Object(a.B)(null==f?void 0:f.error)&&(async()=>{await l(e)&&p(!0)})(),f},_=e=>Object(c.e)({path:a.l.getStatsPath(e),method:"get",version:o.m.public.v1}),v=()=>{const{data:e,...t}=Object(r.useQuery)(["verification_key_id"],(()=>Object(c.b)({path:a.l.getVerificationKeyIdPath(),method:"get",version:o.m.public.v1})));return{packageVerificationKeyId:(null==e?void 0:e.id)||void 0,...t}},E=(e,t,n)=>Object(c.a)({path:a.l.getInfoPath(e,t),method:"get",version:o.m.public.v1,query:n}),h=e=>Object(r.useQuery)(["get-file",e],(()=>Object(c.a)({path:a.l.getFilePath(e),method:"get",version:o.m.public.v1}))),T=e=>Object(c.a)({path:a.l.getFilePath(e),method:"get",version:o.m.public.v1}),y=(e,t,n=!1)=>{const r=n?{force:n}:void 0;return Object(c.a)({path:a.l.getInstallPath(e,t),method:"post",version:o.m.public.v1,body:r})},P=e=>Object(c.a)({path:a.l.getBulkInstallPath(),method:"post",version:o.m.public.v1,body:{packages:e}}),I=(e,t,n=!1)=>Object(c.a)({path:a.l.getRemovePath(e,t),method:"delete",version:o.m.public.v1,body:{force:n}}),O=(e,t,n)=>Object(c.a)({path:a.l.getReauthorizeTransformsPath(e,t),method:"post",version:o.m.public.v1,body:{transforms:n}}),A=()=>Object(r.useMutation)((({pkgName:e,pkgVersion:t,body:n})=>Object(c.b)({path:a.l.getUpdatePath(e,t),method:"put",version:o.m.public.v1,body:n}))),k=e=>Object(c.a)({path:a.l.getBulkAssetsPath(),method:"post",version:o.m.public.v1,body:e});function N({pkgName:e,pkgVersion:t},n){return Object(r.useQuery)(["inputsTemplates",e,t,n],(()=>Object(c.b)({path:a.l.getInputsTemplatesPath(e,t),method:"get",query:n,version:o.m.public.v1})))}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var r=n(9),i=n(19);function a(e){return Object(i.a)().share.url.locators.get(e)}function o(){return a(r.r.DASHBOARD_APP)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return u}));var r=n(20),i=n(7),a=n(15);function o(e){const{params:{packagePolicyId:t,policyId:n}}=Object(r.useRouteMatch)(),{getHref:i}=Object(a.cc)();return`${t&&n?i("edit_integration",{policyId:n,packagePolicyId:t}):i("integration_policy_edit",{packagePolicyId:t})}${e?`?datastreamId=${encodeURIComponent(e)}`:""}`}function u(e,t=!0){const{data:n,isLoading:r}=Object(i.useQuery)(["indexTemplateExists",e],(()=>Object(a.mb)({path:`/api/index_management/index_templates/${e}`,method:"get"})),{enabled:t});return r?{isLoading:!0}:{exists:!!n,isLoading:!1}}},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/esUiShared/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){"use strict";var r=n(32);n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return r.b})),n.d(t,"c",(function(){return r.c})),n.d(t,"d",(function(){return r.d}))},function(e,t,n){const r=n(71),{MAX_LENGTH:i,MAX_SAFE_INTEGER:a}=n(72),{safeRe:o,t:u}=n(73),s=n(83),{compareIdentifiers:c}=n(84);class SemVer{constructor(e,t){if(t=s(t),e instanceof SemVer){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>i)throw new TypeError(`version is longer than ${i} characters`);r("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const n=e.trim().match(t.loose?o[u.LOOSE]:o[u.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>a||this.major<0)throw new TypeError("Invalid major version");if(this.minor>a||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>a||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<a)return t}return e})):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(r("SemVer.compare",this.version,this.options,e),!(e instanceof SemVer)){if("string"==typeof e&&e===this.version)return 0;e=new SemVer(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof SemVer||(e=new SemVer(e,this.options)),c(this.major,e.major)||c(this.minor,e.minor)||c(this.patch,e.patch)}comparePre(e){if(e instanceof SemVer||(e=new SemVer(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const n=this.prerelease[t],i=e.prerelease[t];if(r("prerelease compare",t,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return c(n,i)}while(++t)}compareBuild(e){e instanceof SemVer||(e=new SemVer(e,this.options));let t=0;do{const n=this.build[t],i=e.build[t];if(r("prerelease compare",t,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return c(n,i)}while(++t)}inc(e,t,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(n)?1:0;if(!t&&!1===n)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let r=this.prerelease.length;for(;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);if(-1===r){if(t===this.prerelease.join(".")&&!1===n)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let r=[t,e];!1===n&&(r=[t]),0===c(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=r):this.prerelease=r}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=SemVer},function(e,t){e.exports=__kbnSharedDeps__.TsLib},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(14),i=n(39),a=n.n(i),o=n(27),u=n.n(o);function s(e){const t=function(e){const t=Object(r.uniq)(e).filter((e=>{var t;return void 0!==(null===(t=u()(e))||void 0===t?void 0:t.version)}));return t.length>1?t.sort(((e,t)=>a()(e,t)?1:-1)):t}(e);return t.length>=1?t[0]:""}},function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var r=n(4);function i(t){return t.trim()?t!==t.toLowerCase()?{valid:!1,error:r.i18n.translate("xpack.fleet.namespaceValidation.lowercaseErrorMessage",{defaultMessage:"Namespace must be lowercase"})}:a.test(t)?{valid:!1,error:r.i18n.translate("xpack.fleet.namespaceValidation.invalidCharactersErrorMessage",{defaultMessage:"Namespace contains invalid characters"})}:"function"==typeof Blob&&new Blob([t]).size>100||"function"==typeof e&&e.from(t).length>100?{valid:!1,error:r.i18n.translate("xpack.fleet.namespaceValidation.tooLongErrorMessage",{defaultMessage:"Namespace cannot be more than 100 bytes"})}:{valid:!0}:{valid:!1,error:r.i18n.translate("xpack.fleet.namespaceValidation.requiredErrorMessage",{defaultMessage:"Namespace is required"})}}const a=/[\*\\/\?"<>|\s,#:-]+/}).call(this,n(78).Buffer)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(6),i=n(55);const a=(e,t,n)=>{var a;const o=null===(a=(n||e).icons)||void 0===a?void 0:a.find((e=>"image/svg+xml"===e.type));return o?t.prepend(i.h.getFilePath(`/package/${e.name}/${e.version}${o.src}`)):r.ICON_TYPES.find((t=>t.toLowerCase()===`logo${e.name}`))}},function(e,t){e.exports=__kbnSharedDeps__.KbnSharedUxErrorBoundary},function(e,t){e.exports=__kbnSharedDeps__.StyledComponents},function(e,t,n){"use strict";var r=n(3);n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return r.b})),n.d(t,"c",(function(){return r.c})),n.d(t,"d",(function(){return r.d})),n.d(t,"e",(function(){return r.f})),n.d(t,"f",(function(){return r.h})),n.d(t,"g",(function(){return r.i})),n.d(t,"h",(function(){return r.l})),n.d(t,"i",(function(){return r.n})),n.d(t,"j",(function(){return r.o})),n.d(t,"k",(function(){return r.q})),n.d(t,"l",(function(){return r.v})),n.d(t,"m",(function(){return r.w})),n.d(t,"n",(function(){return r.x})),n.d(t,"o",(function(){return r.A})),n.d(t,"p",(function(){return r.B})),n.d(t,"q",(function(){return r.D})),n.d(t,"r",(function(){return r.E})),n.d(t,"s",(function(){return r.F})),n.d(t,"t",(function(){return r.G})),n.d(t,"u",(function(){return r.J})),n.d(t,"v",(function(){return r.K})),n.d(t,"w",(function(){return r.L}))},function(e,t,n){"use strict";function r(e){var t,n;return e.unenrollment_started_at&&!e.unenrolled_at?"unenrolling":"error"===(null===(t=e.last_checkin_status)||void 0===t?void 0:t.toLowerCase())?"error":"degraded"===(null===(n=e.last_checkin_status)||void 0===n?void 0:n.toLowerCase())?"degraded":!("policy_revision"in e?e.policy_revision:"policy_revision_idx"in e?e.policy_revision_idx:void 0)||e.upgrade_started_at&&!e.upgraded_at?"updating":void 0}function i(){return"status:unenrolled"}function a(){return"status:online"}function o(){return"(status:error or status:degraded)"}function u(){return"status:offline"}function s(){return"(status:updating or status:unenrolling or status:enrolling)"}function c(){return"status:inactive"}n.r(t),n.d(t,"getPreviousAgentStatusForOfflineAgents",(function(){return r})),n.d(t,"buildKueryForUnenrolledAgents",(function(){return i})),n.d(t,"buildKueryForOnlineAgents",(function(){return a})),n.d(t,"buildKueryForErrorAgents",(function(){return o})),n.d(t,"buildKueryForOfflineAgents",(function(){return u})),n.d(t,"buildKueryForUpdatingAgents",(function(){return s})),n.d(t,"buildKueryForInactiveAgents",(function(){return c})),n.d(t,"AGENT_UPDATING_TIMEOUT_HOURS",(function(){return l})),n.d(t,"isStuckInUpdating",(function(){return d})),n.d(t,"isAgentInFailedUpgradeState",(function(){return p}));const l=2;function d(e){return"offline"!==e.status&&e.active&&p(e)||"updating"===e.status&&!!e.upgrade_started_at&&!e.upgraded_at&&Date.now()-Date.parse(e.upgrade_started_at)>60*l*60*1e3}function p(e){var t;return"UPG_FAILED"===(null===(t=e.upgrade_details)||void 0===t?void 0:t.state)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(18),i=n.n(r),a=n(1),o=n.n(a),u=n(40),s=n.n(u),c=n(8);const l=o.a.createContext(null),d=({children:e,...t})=>{const{navigateToUrl:n,currentAppId:r}=t;return Object(c.jsx)(l.Provider,{value:{navigateToUrl:n,currentAppId:r}},e)},p=({children:e,coreStart:t})=>{const{navigateToUrl:n,currentAppId$:r}=t.application,i=s()(r,void 0);return Object(c.jsx)(l.Provider,{value:{navigateToUrl:n,currentAppId:i}},e)};n(6),n(53);const f={name:"h42ud6",styles:"display:inherit;height:inherit;width:inherit;flex:1;flex-flow:column nowrap"},g=({children:e,navigateToUrl:t,currentAppId:n,...r})=>{const o=Object(a.useRef)(null),u=Object(a.useCallback)((e=>(({event:e,container:t,navigateToUrl:n,currentAppId:r})=>{if(!t||!r)return;const i=((e,t)=>{let n=e;do{var r,i;if("a"===(null===(r=n)||void 0===r?void 0:r.tagName.toLowerCase()))return n;const e=null===(i=n)||void 0===i?void 0:i.parentElement;if(!e||e===document.body||e===t)break;n=e}while(parent||parent!==document.body||parent!==t)})(e.target,t);if(!i)return;const a=i.href,o=""===i.target||"_self"===i.target,u=0===e.button;a&&o&&u&&!e.defaultPrevented&&!(e=>e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)(e)&&(e.preventDefault(),n(i.href))})({event:e,currentAppId:n,navigateToUrl:t,container:o.current})),[n,t]);return Object(c.jsx)("div",i()({onClick:u,ref:o,css:f,"data-test-subj":"kbnRedirectAppLink"},r),e)},m=({children:e,...t})=>Object(c.jsx)(g,i()({},function(){const e=Object(a.useContext)(l);if(!e)throw new Error("RedirectAppLinksContext is missing.  Ensure your component or React root is wrapped with RedirectAppLinksProvider.");return e}(),t),e),b=({children:e,...t})=>{if(void 0!==t.coreStart){const{coreStart:n,...r}=t,i=Object(c.jsx)(m,r,e);return Object(c.jsx)(p,{coreStart:n},i)}const{navigateToUrl:n,currentAppId:r,...i}=t,a=Object(c.jsx)(m,i,e);return Object(c.jsx)(d,{currentAppId:r,navigateToUrl:n},a)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return f}));var r=n(18),i=n.n(r),a=n(1),o=n.n(a),u=n(54),s=n.n(u),c=n(6),l=n(11);const d=s()(c.EuiIcon).withConfig({displayName:"Icon",componentId:"sc-9cx4pr-0"})(["width:'16px';margin-block-end:unset !important;"]),p=({packageName:e,integrationName:t,version:n,icons:r,tryApi:a,...u})=>{const s=Object(l.Gc)({packageName:e,integrationName:t,version:n,icons:r,tryApi:a});return o.a.createElement(d,i()({size:"s",type:s},u,{loading:"lazy"}))},f=e=>{const{icons:t}=e;return t&&1===t.length&&"eui"===t[0].type?o.a.createElement(c.EuiIcon,i()({size:"xl",type:t[0].src},e)):t&&1===t.length&&"svg"===t[0].type?o.a.createElement(c.EuiIcon,i()({size:"xl",type:t[0].src},e,{loading:"lazy"})):o.a.createElement(p,e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(1),i=n.n(r),a=n(4),o=n(6),u=n(10),s=n(15),c=n(5),l=n(45);function d(e,t=!1){return{pipelineName:e,canEdit:t}}const p=({packageInputStream:e,packageInfo:t,customDataset:n})=>{const p=n?{...e.data_stream,dataset:n}:e.data_stream,{application:f,share:g,docLinks:m}=Object(s.lc)(),b=g.url.locators.get("INGEST_PIPELINES_APP_LOCATOR"),_=Object(l.b)(e.id),{pipelines:v,addPipelineUrl:E,hasCustom:h,isLoading:T}=function(e,t,n){var i;const[a,o]=Object(r.useState)(""),{share:u}=Object(s.lc)(),l=u.url.locators.get("INGEST_PIPELINES_APP_LOCATOR"),p=Object(c.E)({dataStream:t,packageVersion:e.version}),f=Object(c.x)(t),g=Object(s.Ub)(f),m=Object(r.useMemo)((()=>g.data?[d(p),d(f,!0)]:[d(p)]),[p,f,g.data]);return Object(r.useEffect)((()=>{!async function(){if(!l)return;const e=await l.getUrl({page:"pipeline_create"});o(`${e}?name=${f}&redirect_path=${n}`)}()}),[f,n,l]),{isLoading:g.isLoading,hasCustom:!g.isLoading&&404!==(null===(i=g.error)||void 0===i?void 0:i.statusCode),pipelines:m,addPipelineUrl:a}}(t,p,_);return p?i.a.createElement(o.EuiFlexGroup,{direction:"column",gutterSize:"xs",alignItems:"flexStart"},i.a.createElement(o.EuiFlexItem,{grow:!1},i.a.createElement(o.EuiTitle,{size:"xxxs"},i.a.createElement("h5",null,i.a.createElement(u.FormattedMessage,{id:"xpack.fleet.packagePolicyEditor.datastreamIngestPipelinesTitle",defaultMessage:"Ingest pipelines"})))),i.a.createElement(o.EuiFlexItem,{grow:!1},i.a.createElement(o.EuiText,{color:"subdued",size:"xs"},i.a.createElement(u.FormattedMessage,{id:"xpack.fleet.packagePolicyEditor.datastreamIngestPipelinesLabel",defaultMessage:"Ingest pipelines perform common transformations on the ingested data. We recommend modifying only the custom ingest pipeline. These pipelines are shared between integration policies of the same integration type. Hence, any modifications to the ingest pipelines would affect all the integration policies. {learnMoreLink}",values:{learnMoreLink:i.a.createElement(o.EuiLink,{href:m.links.fleet.datastreams,external:!0},i.a.createElement(u.FormattedMessage,{id:"xpack.fleet.packagePolicyEdotpr.datastreamIngestPipelines.learnMoreLink",defaultMessage:"Learn more"}))}}))),i.a.createElement(o.EuiFlexItem,{grow:!1},i.a.createElement(o.EuiBasicTable,{loading:T,items:v,columns:[{field:"pipelineName",name:""},{width:"60px",actions:[{icon:"pencil",type:"icon",description:a.i18n.translate("xpack.fleet.packagePolicyEditor.datastreamIngestPipelines.editBtn",{defaultMessage:"Edit pipeline"}),"data-test-subj":"datastreamEditPipelineBtn",name:"edit",isPrimary:!0,onClick:async e=>{if(!b)return;const t=await b.getUrl({page:"pipeline_edit",pipelineId:e.pipelineName});f.navigateToUrl(`${t}?redirect_path=${_}`)},available:({canEdit:e})=>e},{icon:"inspect",type:"icon",description:a.i18n.translate("xpack.fleet.packagePolicyEditor.datastreamIngestPipelines.inspectBtn",{defaultMessage:"Inspect pipeline"}),name:"inspect","data-test-subj":"datastreamInspectPipelineBtn",isPrimary:!0,onClick:async e=>{if(!b)return;const t=await b.getUrl({page:"pipeline_list"});f.navigateToUrl(`${t}?pipeline=${e.pipelineName}&redirect_path=${_}`)}}]}]})),!T&&!h&&i.a.createElement(o.EuiFlexItem,{grow:!1},i.a.createElement(o.EuiSpacer,{size:"xs"}),i.a.createElement(o.EuiButtonEmpty,{size:"xs",flush:"left",iconType:"plusInCircle","data-test-subj":"datastreamAddCustomIngestPipelineBtn",href:E},i.a.createElement(u.FormattedMessage,{id:"xpack.fleet.packagePolicyEditor.datastreamIngestPipelines.addCustomButn",defaultMessage:"Add custom pipeline"})))):null}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(1),i=n.n(r),a=n(6),o=n(10),u=n(4),s=n(5),c=n(15),l=n(45);const d=({packageInputStream:e,packageInfo:t,customDataset:n})=>{const r=n?{...e.data_stream,dataset:n}:e.data_stream,d=Object(l.b)(e.id),{application:p,docLinks:f}=Object(c.lc)(),g=function(e){return[{templateName:Object(s.w)(e,"@package")},{templateName:Object(s.w)(e,"@custom"),canEdit:!0}]}(r);return i.a.createElement(a.EuiFlexGroup,{direction:"column",gutterSize:"xs",alignItems:"flexStart"},i.a.createElement(a.EuiFlexItem,{grow:!1},i.a.createElement(a.EuiTitle,{size:"xxxs"},i.a.createElement("h5",null,i.a.createElement(o.FormattedMessage,{id:"xpack.fleet.packagePolicyEditor.datastreamMappings.title",defaultMessage:"Mappings"})))),i.a.createElement(a.EuiFlexItem,{grow:!1},i.a.createElement(a.EuiText,{color:"subdued",size:"xs"},i.a.createElement(o.FormattedMessage,{id:"xpack.fleet.packagePolicyEditor.datastreamMappings.description",defaultMessage:"Mapping is the process of defining how a document, and the fields it contains, are stored and indexed. If you are adding new fields through custom ingest pipeline, we recommend addition of a mapping for those in the component template. {learnMoreLink}",values:{learnMoreLink:i.a.createElement(a.EuiLink,{href:f.links.fleet.datastreams,external:!0},i.a.createElement(o.FormattedMessage,{id:"xpack.fleet.packagePolicyEditor.datastreamMappings.learnMoreLink",defaultMessage:"Learn more"}))}}))),i.a.createElement(a.EuiFlexItem,{grow:!1},i.a.createElement(a.EuiBasicTable,{items:g,columns:[{field:"templateName",name:""},{width:"60px",actions:[{icon:"pencil",type:"icon",description:u.i18n.translate("xpack.fleet.packagePolicyEditor.datastreamMappings.editBtn",{defaultMessage:"Edit mappings"}),"data-test-subj":"datastreamEditMappingsBtn",name:"edit",isPrimary:!0,onClick:async e=>{const t=p.getUrlForApp("management",{path:`/data/index_management/edit_component_template/${e.templateName}`});p.navigateToUrl(`${t}?step=mappings&redirect_path=${d}`)},available:({canEdit:e})=>!!e},{icon:"inspect",type:"icon",description:u.i18n.translate("xpack.fleet.packagePolicyEditor.datastreamMappings.inspectBtn",{defaultMessage:"Inspect mappings"}),name:"inspect","data-test-subj":"datastreamInspectMappingsBtn",isPrimary:!0,onClick:async e=>{const t=p.getUrlForApp("management",{path:`/data/index_management/component_templates/${e.templateName}`});p.navigateToUrl(`${t}?redirect_path=${d}`)}}]}]})))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return c}));var r=n(14),i=n(21),a=n(0);function o(e){return e.package_policies&&e.package_policies.some((e=>{var t,n,r;return(null===(t=e.package)||void 0===t?void 0:t.name)===a.V||(null===(n=e.package)||void 0===n?void 0:n.name)===a.X||(null===(r=e.package)||void 0===r?void 0:r.name)===a.H}))?[a.Nb.Elasticsearch]:Object.values(a.Nb)}function u(e,t){if(!e||""===e)return!1;const n=t(e);if(!Object(r.isObject)(n))return"string"==typeof n&&a.ub.some((e=>n.includes(e)));const o=Object(r.isObject)(n)?Object(i.getFlattenedObject)(n):{};return a.ub.some((e=>Object.keys(o).includes(e)))}function s(e,t){return u(e,t)?"custom":"balanced"}function c(e){return a.lb.includes(e)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return u}));var r=n(4),i=n(47);const a={kibana:Object.values(i.c),elasticsearch:Object.values(i.a)},o={dashboard:r.i18n.translate("xpack.fleet.epm.assetTitles.dashboards",{defaultMessage:"Dashboards"}),ilm_policy:r.i18n.translate("xpack.fleet.epm.assetTitles.ilmPolicies",{defaultMessage:"ILM policies"}),ingest_pipeline:r.i18n.translate("xpack.fleet.epm.assetTitles.ingestPipelines",{defaultMessage:"Ingest pipelines"}),transform:r.i18n.translate("xpack.fleet.epm.assetTitles.transforms",{defaultMessage:"Transforms"}),index:r.i18n.translate("xpack.fleet.epm.assetTitles.indices",{defaultMessage:"Indices"}),index_pattern:r.i18n.translate("xpack.fleet.epm.assetTitles.indexPatterns",{defaultMessage:"Index patterns"}),index_template:r.i18n.translate("xpack.fleet.epm.assetTitles.indexTemplates",{defaultMessage:"Index templates"}),component_template:r.i18n.translate("xpack.fleet.epm.assetTitles.componentTemplates",{defaultMessage:"Component templates"}),search:r.i18n.translate("xpack.fleet.epm.assetTitles.savedSearches",{defaultMessage:"Saved searches"}),visualization:r.i18n.translate("xpack.fleet.epm.assetTitles.visualizations",{defaultMessage:"Visualizations"}),map:r.i18n.translate("xpack.fleet.epm.assetTitles.maps",{defaultMessage:"Maps"}),data_stream_ilm_policy:r.i18n.translate("xpack.fleet.epm.assetTitles.dataStreamILM",{defaultMessage:"Data stream ILM policies"}),lens:r.i18n.translate("xpack.fleet.epm.assetTitles.lens",{defaultMessage:"Lens"}),security_rule:r.i18n.translate("xpack.fleet.epm.assetTitles.securityRules",{defaultMessage:"Security rules"}),osquery_pack_asset:r.i18n.translate("xpack.fleet.epm.assetTitles.osqueryPackAssets",{defaultMessage:"Osquery packs"}),osquery_saved_query:r.i18n.translate("xpack.fleet.epm.assetTitles.osquerySavedQuery",{defaultMessage:"Osquery saved queries"}),ml_module:r.i18n.translate("xpack.fleet.epm.assetTitles.mlModules",{defaultMessage:"ML modules"}),ml_model:r.i18n.translate("xpack.fleet.epm.assetTitles.mlModels",{defaultMessage:"ML models"}),view:r.i18n.translate("xpack.fleet.epm.assetTitles.views",{defaultMessage:"Views"}),tag:r.i18n.translate("xpack.fleet.epm.assetTitles.tag",{defaultMessage:"Tag"}),csp_rule_template:r.i18n.translate("xpack.fleet.epm.assetTitles.cloudSecurityPostureRuleTemplate",{defaultMessage:"Benchmark rules"})},u={kibana:"Kibana",elasticsearch:"Elasticsearch"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(1),i=n(4),a=n(15);const o=()=>{const{notifications:e}=Object(a.lc)(),[t,n]=Object(r.useState)(),[o,u]=Object(r.useState)(!1);return{serviceToken:t,isLoadingServiceToken:o,generateServiceToken:Object(r.useCallback)((async t=>{u(!0);try{const{data:e}=await Object(a.t)(t);null!=e&&e.value&&n(null==e?void 0:e.value)}catch(t){e.toasts.addError(t,{title:i.i18n.translate("xpack.fleet.errorGeneratingTokenTitleText",{defaultMessage:"Error generating token"})})}finally{u(!1)}}),[e.toasts])}}},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/kibanaUtils/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){const r=n(38);e.exports=(e,t,n)=>r(e,t,n)>=0},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(19),i=n(3);const a=e=>new URL(e,"http://example.com").pathname;function o(){const{http:e}=Object(r.a)();return{toSharedAssets:t=>e.basePath.prepend(`/plugins/kibanaReact/assets/${t}`),toPackageImage:(t,n,r)=>{const a=t.src?`/package/${n}/${r}${t.src}`:"path"in t&&t.path;if(a){const t=i.l.getFilePath(a);return e.basePath.prepend(t)}},toRelativeImage:({path:t,packageName:n,version:r})=>{const o=a(t),u=`${i.l.getInfoPath(n,r)}/${o}`;return e.basePath.prepend(u)}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));const r={CLOUD_FORMATION:"cloud_formation_template_url",ARM_TEMPLATE:"arm_template_url"},i=(e,t)=>{var n;const r=null==t||null===(n=t.package_policies)||void 0===n?void 0:n.reduce(((t,n)=>{var r;return(null===(r=n.inputs)||void 0===r?void 0:r.reduce(((t,n)=>{var r;return""!==t?t:null!=n&&n.enabled&&null!=n&&null!==(r=n.config)&&void 0!==r&&r[e]?n.config[e].value:t}),""))||t}),"");return""!==r?r:void 0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));const r={CLOUD_FORMATION:"cloud_formation_template",ARM_TEMPLATE:"arm_template_url"},i=(e,t,n)=>{if(null==e||!e.policy_templates)return;const r=e.policy_templates.find((e=>e.name===t));if(r&&"inputs"in r){var i;const e=null===(i=r.inputs)||void 0===i?void 0:i.reduce(((e,t)=>{var r;if(!t.vars)return e;const i=null===(r=t.vars.find((e=>e.name===n)))||void 0===r?void 0:r.default;return i?String(i):e}),"");return""!==e?e:void 0}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(77),i=n.n(r),a=n(44),o=n(13);const u=e=>{const t=Object(a.b)(o.m.APM_LOCATOR),{error:n,loading:r,value:u}=i()((()=>{if(!(e=>Boolean("apm"===e.package))(e)||!t)return Promise.resolve();if(e.serviceDetails){const{serviceName:n,environment:r}=e.serviceDetails;return t.getUrl({serviceName:n,serviceOverviewTab:"logs"===e.type?"errors":e.type,query:{environment:r}})}return t.getUrl({serviceName:void 0})}));return{isSuccessful:!n&&!r,href:u}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(37),i=n(1),a=n.n(i),o=n(19),u=n(6),s=n(4),c=n(10);const l=({onCancel:e,onConfirm:t,pkgName:n,docLinks:r})=>a.a.createElement(u.EuiConfirmModal,{title:a.a.createElement("span",{className:"eui-textBreakWord"},a.a.createElement(c.FormattedMessage,{id:"xpack.fleet.ConfirmOpenUnverifiedModal.title",defaultMessage:"View unverified integration?"})),onCancel:e,onConfirm:t,cancelButtonText:a.a.createElement(c.FormattedMessage,{id:"xpack.fleet.ConfirmOpenUnverifiedModal.cancelButtonLabel",defaultMessage:"Cancel"}),confirmButtonText:a.a.createElement(c.FormattedMessage,{id:"xpack.fleet.ConfirmOpenUnverifiedModal.confirmButtonLabel",defaultMessage:"View anyway"}),buttonColor:"danger","data-test-subj":"ConfirmOpenUnverifiedModal"},a.a.createElement(u.EuiCallOut,{title:s.i18n.translate("xpack.fleet.ConfirmOpenUnverifiedModal.calloutTitleWithPkg",{defaultMessage:"Integration {pkgName} has failed verification",values:{pkgName:n}}),color:"warning",iconType:"warning",children:a.a.createElement(c.FormattedMessage,{id:"xpack.fleet.ConfirmOpenUnverifiedModal.calloutBody",defaultMessage:"This integration contains an unsigned package of unknown authenticity and could contain malicious files. Learn more about {learnMoreLink}.",values:{learnMoreLink:a.a.createElement(u.EuiLink,{target:"_blank",external:!0,href:r.links.fleet.packageSignatures},a.a.createElement(c.FormattedMessage,{id:"xpack.fleet.ConfirmOpenUnverifiedModal.learnMoreLink",defaultMessage:"package signatures"}))}})})),d=()=>{const{overlays:e,docLinks:t}=Object(o.a)();return Object(i.useCallback)((n=>(({pkgName:e,overlays:t,docLinks:n})=>new Promise((i=>{const o=t.openModal(Object(r.toMountPoint)(a.a.createElement(l,{pkgName:e,onConfirm:()=>{o.close(),i(!0)},onCancel:()=>{o.close(),i(!1)},docLinks:n})))})))({pkgName:n,overlays:e,docLinks:t})),[t,e])}},function(e,t,n){(function(t){const n="object"==typeof t&&Object({IS_KIBANA_DISTRIBUTABLE:"true"})&&Object({IS_KIBANA_DISTRIBUTABLE:"true"}).NODE_DEBUG&&/\bsemver\b/i.test(Object({IS_KIBANA_DISTRIBUTABLE:"true"}).NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=n}).call(this,n(82))},function(e,t){const n=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:n,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},function(e,t,n){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:i,MAX_LENGTH:a}=n(72),o=n(71),u=(t=e.exports={}).re=[],s=t.safeRe=[],c=t.src=[],l=t.t={};let d=0;const p="[a-zA-Z0-9-]",f=[["\\s",1],["\\d",a],[p,i]],g=(e,t,n)=>{const r=(e=>{for(const[t,n]of f)e=e.split(`${t}*`).join(`${t}{0,${n}}`).split(`${t}+`).join(`${t}{1,${n}}`);return e})(t),i=d++;o(e,i,t),l[e]=i,c[i]=t,u[i]=new RegExp(t,n?"g":void 0),s[i]=new RegExp(r,n?"g":void 0)};g("NUMERICIDENTIFIER","0|[1-9]\\d*"),g("NUMERICIDENTIFIERLOOSE","\\d+"),g("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${p}*`),g("MAINVERSION",`(${c[l.NUMERICIDENTIFIER]})\\.(${c[l.NUMERICIDENTIFIER]})\\.(${c[l.NUMERICIDENTIFIER]})`),g("MAINVERSIONLOOSE",`(${c[l.NUMERICIDENTIFIERLOOSE]})\\.(${c[l.NUMERICIDENTIFIERLOOSE]})\\.(${c[l.NUMERICIDENTIFIERLOOSE]})`),g("PRERELEASEIDENTIFIER",`(?:${c[l.NUMERICIDENTIFIER]}|${c[l.NONNUMERICIDENTIFIER]})`),g("PRERELEASEIDENTIFIERLOOSE",`(?:${c[l.NUMERICIDENTIFIERLOOSE]}|${c[l.NONNUMERICIDENTIFIER]})`),g("PRERELEASE",`(?:-(${c[l.PRERELEASEIDENTIFIER]}(?:\\.${c[l.PRERELEASEIDENTIFIER]})*))`),g("PRERELEASELOOSE",`(?:-?(${c[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[l.PRERELEASEIDENTIFIERLOOSE]})*))`),g("BUILDIDENTIFIER",`${p}+`),g("BUILD",`(?:\\+(${c[l.BUILDIDENTIFIER]}(?:\\.${c[l.BUILDIDENTIFIER]})*))`),g("FULLPLAIN",`v?${c[l.MAINVERSION]}${c[l.PRERELEASE]}?${c[l.BUILD]}?`),g("FULL",`^${c[l.FULLPLAIN]}$`),g("LOOSEPLAIN",`[v=\\s]*${c[l.MAINVERSIONLOOSE]}${c[l.PRERELEASELOOSE]}?${c[l.BUILD]}?`),g("LOOSE",`^${c[l.LOOSEPLAIN]}$`),g("GTLT","((?:<|>)?=?)"),g("XRANGEIDENTIFIERLOOSE",`${c[l.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),g("XRANGEIDENTIFIER",`${c[l.NUMERICIDENTIFIER]}|x|X|\\*`),g("XRANGEPLAIN",`[v=\\s]*(${c[l.XRANGEIDENTIFIER]})(?:\\.(${c[l.XRANGEIDENTIFIER]})(?:\\.(${c[l.XRANGEIDENTIFIER]})(?:${c[l.PRERELEASE]})?${c[l.BUILD]}?)?)?`),g("XRANGEPLAINLOOSE",`[v=\\s]*(${c[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[l.XRANGEIDENTIFIERLOOSE]})(?:${c[l.PRERELEASELOOSE]})?${c[l.BUILD]}?)?)?`),g("XRANGE",`^${c[l.GTLT]}\\s*${c[l.XRANGEPLAIN]}$`),g("XRANGELOOSE",`^${c[l.GTLT]}\\s*${c[l.XRANGEPLAINLOOSE]}$`),g("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),g("COERCERTL",c[l.COERCE],!0),g("LONETILDE","(?:~>?)"),g("TILDETRIM",`(\\s*)${c[l.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",g("TILDE",`^${c[l.LONETILDE]}${c[l.XRANGEPLAIN]}$`),g("TILDELOOSE",`^${c[l.LONETILDE]}${c[l.XRANGEPLAINLOOSE]}$`),g("LONECARET","(?:\\^)"),g("CARETTRIM",`(\\s*)${c[l.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",g("CARET",`^${c[l.LONECARET]}${c[l.XRANGEPLAIN]}$`),g("CARETLOOSE",`^${c[l.LONECARET]}${c[l.XRANGEPLAINLOOSE]}$`),g("COMPARATORLOOSE",`^${c[l.GTLT]}\\s*(${c[l.LOOSEPLAIN]})$|^$`),g("COMPARATOR",`^${c[l.GTLT]}\\s*(${c[l.FULLPLAIN]})$|^$`),g("COMPARATORTRIM",`(\\s*)${c[l.GTLT]}\\s*(${c[l.LOOSEPLAIN]}|${c[l.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",g("HYPHENRANGE",`^\\s*(${c[l.XRANGEPLAIN]})\\s+-\\s+(${c[l.XRANGEPLAIN]})\\s*$`),g("HYPHENRANGELOOSE",`^\\s*(${c[l.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[l.XRANGEPLAINLOOSE]})\\s*$`),g("STAR","(<|>)?=?\\s*\\*"),g("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),g("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},function(e,t,n){const r=n(48);e.exports=(e,t,n=!1)=>{if(e instanceof r)return e;try{return new r(e,t)}catch(e){if(!n)return null;throw e}}},function(e,t,n){const r=n(74);e.exports=(e,t)=>{const n=r(e,t);return n?n.version:null}},function(e,t,n){const r=n(38);e.exports=(e,t,n)=>r(t,e,n)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(49),i=n(1),a=r.__importDefault(n(88));t.default=function(e,t){void 0===t&&(t=[]);var n=a.default(e,t,{loading:!0}),r=n[0],o=n[1];return i.useEffect((function(){o()}),[o]),r}},function(e,t,n){e.exports=n(36)(2967)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i="undefined"!=typeof window?r.useLayoutEffect:r.useEffect;t.default=i},function(e,t,n){n(81),__kbnBundles__.define("plugin/fleet/public",n,90),__kbnBundles__.define("plugin/fleet/common",n,17)},function(e,t,n){n.p=window.__kbnPublicPath__.fleet},function(e,t,n){e.exports=n(36)(652)},function(e,t){const n=Object.freeze({loose:!0}),r=Object.freeze({});e.exports=e=>e?"object"!=typeof e?n:e:r},function(e,t){const n=/^[0-9]+$/,r=(e,t)=>{const r=n.test(e),i=n.test(t);return r&&i&&(e=+e,t=+t),e===t?0:r&&!i?-1:i&&!r?1:e<t?-1:1};e.exports={compareIdentifiers:r,rcompareIdentifiers:(e,t)=>r(t,e)}},function(e,t,n){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))},function(e,t,n){"use strict";var r="%[a-f0-9]{2}",i=new RegExp("("+r+")|([^%]+?)","gi"),a=new RegExp("("+r+")+","gi");function o(e,t){try{return[decodeURIComponent(e.join(""))]}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],o(n),o(r))}function u(e){try{return decodeURIComponent(e)}catch(r){for(var t=e.match(i)||[],n=1;n<t.length;n++)t=(e=o(t,n).join("")).match(i)||[];return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},n=a.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var r=u(n[0]);r!==n[0]&&(t[n[0]]=r)}n=a.exec(e)}t["%C2"]="�";for(var i=Object.keys(t),o=0;o<i.length;o++){var s=i[o];e=e.replace(new RegExp(s,"g"),t[s])}return e}(e)}}},function(e,t,n){"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(49),i=n(1),a=r.__importDefault(n(89));t.default=function(e,t,n){void 0===t&&(t=[]),void 0===n&&(n={loading:!1});var o=i.useRef(0),u=a.default(),s=i.useState(n),c=s[0],l=s[1],d=i.useCallback((function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=++o.current;return l((function(e){return r.__assign(r.__assign({},e),{loading:!0})})),e.apply(void 0,t).then((function(e){return u()&&i===o.current&&l({value:e,loading:!1}),e}),(function(e){return u()&&i===o.current&&l({error:e,loading:!1}),e}))}),t);return[c,d]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);t.default=function(){var e=r.useRef(!1),t=r.useCallback((function(){return e.current}),[]);return r.useEffect((function(){return e.current=!0,function(){e.current=!1}})),t}},function(e,t,n){"use strict";n.r(t),n.d(t,"plugin",(function(){return z})),n.d(t,"pagePathGetters",(function(){return E.v})),n.d(t,"pkgKeyFromPackageInfo",(function(){return B.F})),n.d(t,"CustomAssetsAccordion",(function(){return $})),n.d(t,"PackageIcon",(function(){return q.b})),n.d(t,"PackagePolicyEditorDatastreamPipelines",(function(){return V.a})),n.d(t,"PackagePolicyEditorDatastreamMappings",(function(){return K.a}));var r=n(16),i=n.n(r),a=n(1),o=n.n(a),u=n(35),s=n(4),c=n(14),l=n(64),d=n(17),p=(n(31),n(0));const f=({fleet:e,integrations:t,isSuperuser:n})=>({fleet:{all:e.all&&(t.all||t.read),setup:e.all||e.setup,readEnrollmentTokens:e.all||e.setup,readAgentPolicies:e.all||e.setup},integrations:{readPackageInfo:e.all||e.setup||t.all||t.read,readInstalledPackages:t.all||t.read,installPackages:e.all&&t.all,upgradePackages:e.all&&t.all,removePackages:e.all&&t.all,uploadPackages:n,readPackageSettings:e.all&&t.all,writePackageSettings:e.all&&t.all,readIntegrationPolicies:e.all&&(t.all||t.read),writeIntegrationPolicies:e.all&&t.all}});function g(e){return e?{endpoint:{actions:Object.entries(p.x).reduce(((t,[n,{privilegeName:r}])=>(t[n]={executePackageAction:e.siem&&e.siem[r]||!1},t)),{})},transform:{actions:Object.keys(e.transform).reduce(((t,n)=>(t[n]={executePackageAction:e.transform[n]||!1},t)),{})}}:{}}function m(e){if(e&&e.siem)return{actions:Object.keys(p.w).reduce(((t,n)=>(t[n]=e.siem[n]||!1,t)),{})}}const b=Object.freeze({createPackagePolicyMultiPageLayout:!0,packageVerification:!0,showDevtoolsRequest:!0,diagnosticFileUploadEnabled:!0,displayAgentMetrics:!0,showIntegrationsSubcategories:!0,agentFqdnMode:!0,showExperimentalShipperOptions:!1,agentTamperProtectionEnabled:!0,secretsStorage:!0,kafkaOutput:!0,outputSecretsStorage:!0,remoteESOutput:!0}),_=Object.keys(b),v=e=>_.includes(e);var E=n(9),h=n(11),T=n(12),y=n(24),P=n(29),I=n(52);const O="integration",A=(e,t,n)=>{var r;const i={id:e.name,type:O,title:e.title,score:80,icon:Object(I.a)(e,n),url:{path:`${t.getUrlForApp(d.INTEGRATIONS_PLUGIN_ID)}${E.v.integration_details_overview({pkgkey:e.name})[1]}`,prependBasePath:!1}},a=null===(r=e.policy_templates)||void 0===r?void 0:r.map((r=>({id:r.name,type:O,title:r.title,score:80,icon:Object(I.a)(e,n,r),url:{path:`${t.getUrlForApp(d.INTEGRATIONS_PLUGIN_ID)}${E.v.integration_details_overview({pkgkey:e.name,integration:r.name})[1]}`,prependBasePath:!1}})));return[i,...a&&a.length>1?a:[]]};var k=n(6);const N=o.a.lazy((()=>n.e(4).then(n.bind(null,481)))),R=()=>o.a.createElement(o.a.Suspense,{fallback:o.a.createElement(k.EuiLoadingSpinner,null)},o.a.createElement(N,null)),S=o.a.lazy((()=>n.e(5).then(n.bind(null,482)))),L=({moduleName:e})=>o.a.createElement(o.a.Suspense,{fallback:o.a.createElement(k.EuiLoadingSpinner,null)},o.a.createElement(S,{moduleName:e}));var j=n(42),x=n(41),w=n(57),C=n(62);const $=({views:e,initialIsOpen:t=!1,title:n})=>{const{application:r}=Object(h.Rc)();return o.a.createElement(k.EuiAccordion,{initialIsOpen:t,buttonContent:o.a.createElement(k.EuiFlexGroup,{justifyContent:"center",alignItems:"center",gutterSize:"s",responsive:!1},o.a.createElement(k.EuiFlexItem,{grow:!1},o.a.createElement(k.EuiText,{size:"m"},o.a.createElement("h3",null,null!=n?n:C.a.view))),o.a.createElement(k.EuiFlexItem,{grow:!1},o.a.createElement(k.EuiNotificationBadge,{color:"subdued",size:"m"},o.a.createElement("h3",null,e.length)))),id:"custom-assets"},o.a.createElement(o.a.Fragment,null,o.a.createElement(k.EuiSpacer,{size:"m"}),o.a.createElement(k.EuiSplitPanel.Outer,{hasBorder:!0,hasShadow:!1},e.map(((t,n)=>o.a.createElement(a.Fragment,{key:n},o.a.createElement(k.EuiSplitPanel.Inner,{grow:!1,key:n},o.a.createElement(k.EuiText,{size:"m"},o.a.createElement("p",null,o.a.createElement(w.a,{coreStart:{application:r}},o.a.createElement(k.EuiLink,{href:t.url},t.name)))),o.a.createElement(k.EuiSpacer,{size:"s"}),o.a.createElement(k.EuiText,{size:"s",color:"subdued"},o.a.createElement("p",null,t.description))),n+1<e.length&&o.a.createElement(k.EuiHorizontalRule,{margin:"none"})))))))},D=()=>{const{http:e,cloud:t}=Object(h.Rc)(),n=null!=t&&t.isServerlessEnabled?e.basePath.prepend("/app/discover"):e.basePath.prepend("/app/logs/stream"),r=[{name:s.i18n.translate("xpack.fleet.assets.customLogs.name",{defaultMessage:"Logs"}),url:n,description:s.i18n.translate("xpack.fleet.assets.customLogs.description",{defaultMessage:"View Custom logs data in Logs app"})}];return o.a.createElement($,{views:r,initialIsOpen:!0})},M=Object(a.lazy)((async()=>({default:D})));var U=n(33),F=n(22);let G;!function(e){e.agents="agents",e.policies="policies",e.enrollmentTokens="enrollment_tokens",e.uninstallTokens="uninstall_tokens",e.dataStreams="data_streams",e.settings="settings"}(G||(G={}));class plugin_FleetPlugin{constructor(e){i()(this,"config",void 0),i()(this,"kibanaVersion",void 0),i()(this,"extensions",{}),i()(this,"experimentalFeatures",void 0),i()(this,"storage",new l.Storage(localStorage)),this.initializerContext=e,this.config=this.initializerContext.config.get(),this.experimentalFeatures=(e=>{const t={};for(const n of e)v(n)&&(t[n]=!0);return{...b,...t}})(this.config.enableExperimental||[]),this.kibanaVersion=e.env.packageInfo.version}setup(e,t){const r=this.config,i=this.kibanaVersion,a=this.extensions;var c;return Object(U.c)(t.customIntegrations),Object(T.tb)(e.http),e.application.register({id:d.INTEGRATIONS_PLUGIN_ID,category:u.DEFAULT_APP_CATEGORIES.management,appRoute:"/app/integrations",title:s.i18n.translate("xpack.fleet.integrationsAppTitle",{defaultMessage:"Integrations"}),order:9019,euiIconType:"logoElastic",mount:async u=>{var s,c;const[l,d,p]=await e.getStartServices(),f=t.cloud&&d.cloud?{...t.cloud,...d.cloud}:void 0,g={...l,...d,storage:this.storage,cloud:f,authz:await p.authz},{renderApp:m,teardownIntegrations:b}=await Promise.all([n.e(0),n.e(2)]).then(n.bind(null,484)),_=null!==(s=null===(c=t.usageCollection)||void 0===c?void 0:c.components.ApplicationUsageTrackingProvider)&&void 0!==s?s:o.a.Fragment,v=m(g,u,r,i,a,_);return()=>{v(),b(g)}}}),e.application.register({id:d.PLUGIN_ID,category:u.DEFAULT_APP_CATEGORIES.management,title:s.i18n.translate("xpack.fleet.appTitle",{defaultMessage:"Fleet"}),order:9020,euiIconType:"logoElastic",appRoute:"/app/fleet",deepLinks:(c=this.experimentalFeatures,[{id:G.agents,title:s.i18n.translate("xpack.fleet.deepLinks.agents.title",{defaultMessage:"Agents"}),path:F.b.agents},{id:G.policies,title:s.i18n.translate("xpack.fleet.deepLinks.policies.title",{defaultMessage:"Agent policies"}),path:F.b.policies},{id:G.enrollmentTokens,title:s.i18n.translate("xpack.fleet.deepLinks.enrollmentTokens.title",{defaultMessage:"Enrollment tokens"}),path:F.b.enrollment_tokens},...c.agentTamperProtectionEnabled?[{id:G.uninstallTokens,title:s.i18n.translate("xpack.fleet.deepLinks.uninstallTokens.title",{defaultMessage:"Uninstall tokens"}),path:F.b.uninstall_tokens}]:[],{id:G.dataStreams,title:s.i18n.translate("xpack.fleet.deepLinks.dataStreams.title",{defaultMessage:"Data streams"}),path:F.b.data_streams},{id:G.settings,title:s.i18n.translate("xpack.fleet.deepLinks.settings.title",{defaultMessage:"Settings"}),path:F.b.settings}]),mount:async o=>{const[u,s,c]=await e.getStartServices(),l=t.cloud&&s.cloud?{...t.cloud,...s.cloud}:void 0,d={...u,...s,storage:this.storage,cloud:l,authz:await c.authz},{renderApp:p,teardownFleet:f}=await Promise.all([n.e(0),n.e(3)]).then(n.bind(null,483)),g=p(d,o,r,i,a);return()=>{g(),f(d)}}}),e.application.register({id:"ingestManager",category:u.DEFAULT_APP_CATEGORIES.management,navLinkStatus:u.AppNavLinkStatus.hidden,title:s.i18n.translate("xpack.fleet.oldAppTitle",{defaultMessage:"Ingest Manager"}),async mount(t){const[n]=await e.getStartServices();return n.application.navigateToApp("fleet",{path:t.history.location.hash}),()=>{}}}),t.home&&(t.home.tutorials.registerDirectoryHeaderLink(d.PLUGIN_ID,R),t.home.tutorials.registerModuleNotice(d.PLUGIN_ID,L),t.home.featureCatalogue.register({id:"fleet",title:s.i18n.translate("xpack.fleet.featureCatalogueTitle",{defaultMessage:"Add Elastic Agent integrations"}),description:s.i18n.translate("xpack.fleet.featureCatalogueDescription",{defaultMessage:"Add and manage integrations with Elastic Agent"}),icon:"indexManagementApp",showOnHomePage:!0,path:E.m,category:"data",order:510})),t.globalSearch&&t.globalSearch.registerResultProvider((e=>{const t=Object(y.from)(e.getStartServices()).pipe(Object(P.map)((([e])=>e)),Object(P.shareReplay)(1));let n;return{id:"integrations",getSearchableTypes:()=>[O],find:({term:e,types:r},{maxResults:i,aborted$:a})=>{if(!1===(null==r?void 0:r.includes(O)))return Object(y.of)([]);const o=Boolean(r)&&r.includes(O),u=!e,s=o&&u;return!s&&u?Object(y.of)([]):(e&&(e=e.toLowerCase()),Object(y.combineLatest)([t,(n||(n=Object(y.from)(Object(h.R)()).pipe(Object(P.map)((({error:e,data:t})=>{var n;if(e)throw e;return null!==(n=null==t?void 0:t.response)&&void 0!==n?n:[]})),Object(P.shareReplay)(1))),n)]).pipe(Object(P.takeUntil)(a),Object(P.map)((([t,n])=>n?((t,n)=>n.flatMap(s?e=>A(e,t.application,t.http.basePath):n=>e?A(n,t.application,t.http.basePath).filter((t=>e&&t.title.toLowerCase().includes(e))):[]).slice(0,i))(t,n):[]))))}}})(e)),{}}start(e,t){x.a.init(this.experimentalFeatures);const n=Object(j.a)(this.extensions),r=Object(c.once)((()=>e.http.fetch(d.appRoutesService.getCheckPermissionsPath(),{headers:{"elastic-api-version":p.m.public.v1},version:p.m.public.v1})));h.j.start(t.licensing.license$),n({package:E.e,view:"package-detail-assets",Component:M});const{capabilities:i}=e.application;return Object(U.d)(t.customIntegrations),{authz:{...f({fleet:{all:i.fleetv2.all,setup:!1},integrations:{all:i.fleet.all,read:i.fleet.read},isSuperuser:!1}),packagePrivileges:g(i),endpointExceptionsPrivileges:m(i)},isInitialized:Object(c.once)((async()=>{const t=await r();if(null!=t&&t.success){const{isInitialized:t}=await e.http.post(d.setupRouteService.getSetupPath(),{version:p.m.public.v1});if(!t)throw new Error("Unknown setup error");return!0}throw new Error((null==t?void 0:t.error)||"Unknown permissions error")})),registerExtension:n,hooks:{epm:{getBulkAssets:h.F}}}}stop(){}}var B=n(3),q=n(58),V=n(59),K=n(60);const z=e=>new plugin_FleetPlugin(e)},function(e,t){e.exports=__kbnSharedDeps__.ReactDom},function(e,t){e.exports=__kbnSharedDeps__.ReactQueryDevtools},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/kibanaReact/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.ReactRouterDomV5Compat},function(e,t){e.exports=__kbnSharedDeps__.KbnUiTheme},function(e,t){e.exports=__kbnSharedDeps__.Moment},function(e,t){e.exports=__kbnSharedDeps__.KbnEsQuery},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/unifiedSearch/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/customIntegrations/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/customIntegrations/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/usageCollection/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.KbnRison},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/logsShared/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))}]);