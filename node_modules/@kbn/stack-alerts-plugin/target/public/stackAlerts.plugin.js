/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */!function(e){function r(r){for(var t,i,n=r[0],s=r[1],o=0,l=[];o<n.length;o++)i=n[o],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&l.push(a[i][0]),a[i]=0;for(t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t]);for(u&&u(r);l.length;)l.shift()()}var t={},a={0:0};function i(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.e=function(e){var r=[],t=a[e];if(0!==t)if(t)r.push(t[2]);else{var n=new Promise((function(r,i){t=a[e]=[r,i]}));r.push(t[2]=n);var s,o=document.createElement("script");o.charset="utf-8",o.timeout=120,i.nc&&o.setAttribute("nonce",i.nc),o.src=function(e){return i.p+"stackAlerts.chunk."+e+".js"}(e);var u=new Error;s=function(r){o.onerror=o.onload=null,clearTimeout(l);var t=a[e];if(0!==t){if(t){var i=r&&("load"===r.type?"missing":r.type),n=r&&r.target&&r.target.src;u.message="Loading chunk "+e+" failed.\n("+i+": "+n+")",u.name="ChunkLoadError",u.type=i,u.request=n,t[1](u)}a[e]=void 0}};var l=setTimeout((function(){s({type:"timeout",target:o})}),12e4);o.onerror=o.onload=s,document.head.appendChild(o)}return Promise.all(r)},i.m=e,i.c=t,i.d=function(e,r,t){i.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:t})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,r){if(1&r&&(e=i(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var a in e)i.d(t,a,function(r){return e[r]}.bind(null,a));return t},i.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(r,"a",r),r},i.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},i.p="",i.oe=function(e){throw console.error(e),e};var n=window.stackAlerts_bundle_jsonpfunction=window.stackAlerts_bundle_jsonpfunction||[],s=n.push.bind(n);n.push=r,n=n.slice();for(var o=0;o<n.length;o++)r(n[o]);var u=s;i(i.s=16)}([function(e,r){e.exports=__kbnSharedDeps__.KbnI18n},function(e,r,t){t.r(r);var a=__kbnBundles__.get("plugin/triggersActionsUi/public");Object.defineProperties(r,Object.getOwnPropertyDescriptors(a))},function(e,r){e.exports=__kbnSharedDeps__.React},function(e,r){e.exports=__kbnSharedDeps__.EmotionReact},function(e,r){e.exports=__kbnSharedDeps__.ElasticEui},function(e,r,t){"use strict";t.d(r,"d",(function(){return n})),t.d(r,"c",(function(){return s})),t.d(r,"a",(function(){return o})),t.d(r,"b",(function(){return u})),t.d(r,"e",(function(){return l}));var a=t(1),i=t(11);const n=e=>"searchSource"===e.searchType,s=e=>"esqlQuery"===e.searchType,o=e=>(null!=e?e:[]).filter((e=>e.isMapped||e.runtimeField)).map((e=>{const r={name:e.name,searchable:e.searchable,aggregatable:e.aggregatable,type:e.type,normalizedType:e.type};if("string"===e.type){const t=e.esTypes&&e.esTypes.length>0?e.esTypes[0]:e.type;r.type=t,r.normalizedType=t}else if("number"===e.type){const t=e.esTypes&&e.esTypes.length>0?e.esTypes[0]:e.type;r.type=t}return r})),u=e=>{const r=[];let t;try{t=Object.keys(e)}catch(e){return r}for(const a of t){const t=e[a].type,n=i.NORMALIZED_FIELD_TYPES[t]||t,s="lookup"!==t,o=s,u=s;t&&r.push({name:a,type:t,normalizedType:n,aggregatable:o,searchable:u})}return r},l=()=>Object(a.useKibana)().services},function(e,r,t){"use strict";t.d(r,"b",(function(){return a})),t.d(r,"a",(function(){return i})),Object.values({APM:"apm",LOGS:"logs",INFRASTRUCTURE:"infrastructure",OBSERVABILITY:"observability",SLO:"slo",SIEM:"siem",UPTIME:"uptime",ML:"ml"}).map((e=>e));const a="stackAlerts",i=".es-query";let n;!function(e){e.ErrorCount="apm.error_rate",e.TransactionErrorRate="apm.transaction_error_rate",e.TransactionDuration="apm.transaction_duration",e.Anomaly="apm.anomaly"}(n||(n={}))},function(e,r){e.exports=__kbnSharedDeps__.Lodash},function(e,r,t){"use strict";t.d(r,"c",(function(){return a})),t.d(r,"b",(function(){return i})),t.d(r,"f",(function(){return n})),t.d(r,"e",(function(){return s})),t.d(r,"d",(function(){return o})),t.d(r,"a",(function(){return l}));const a={THRESHOLD_COMPARATOR:t(1).COMPARATORS.GREATER_THAN,QUERY:'{\n    "query":{\n      "match_all" : {}\n    }\n  }',SIZE:100,TIME_WINDOW_SIZE:5,TIME_WINDOW_UNIT:"m",THRESHOLD:[1e3],AGGREGATION_TYPE:"count",TERM_SIZE:5,GROUP_BY:"all",EXCLUDE_PREVIOUS_HITS:!0,CAN_SELECT_MULTI_TERMS:!0},i={searchType:new Array,threshold0:new Array,threshold1:new Array,timeWindowSize:new Array,size:new Array,aggField:new Array,aggType:new Array,groupBy:new Array,termSize:new Array,termField:new Array},n={searchConfiguration:new Array,timeField:new Array},s={index:new Array,esQuery:new Array,timeField:new Array},o={esqlQuery:new Array,timeField:new Array,thresholdComparator:new Array,threshold0:new Array},u={...i,...n,...s},l=Object.keys(u)},function(e,r){e.exports=__kbnSharedDeps__.KbnEsQuery},function(e,r){e.exports=__kbnSharedDeps__.KbnI18nReact},function(e,r,t){t.r(r);var a=__kbnBundles__.get("plugin/triggersActionsUi/public/common");Object.defineProperties(r,Object.getOwnPropertyDescriptors(a))},function(e,r,t){"use strict";t.d(r,"b",(function(){return d})),t.d(r,"a",(function(){return c}));var a=t(7),i=t(0),n=t(1),s=t(5),o=t(8);const u=e=>{const r=Object(a.defaultsDeep)({},o.f);return e.searchConfiguration?e.searchConfiguration.index?(e.timeField||r.timeField.push(i.i18n.translate("xpack.stackAlerts.esQuery.ui.validation.error.requiredDataViewTimeFieldText",{defaultMessage:"Data view should have a time field."})),r):(r.searchConfiguration.push(i.i18n.translate("xpack.stackAlerts.esQuery.ui.validation.error.requiredDataViewText",{defaultMessage:"Data view is required."})),r):(r.searchConfiguration.push(i.i18n.translate("xpack.stackAlerts.esQuery.ui.validation.error.requiredSearchConfiguration",{defaultMessage:"Search source configuration is required."})),r)},l=e=>{const r=Object(a.defaultsDeep)({},o.d);return e.esqlQuery||r.esqlQuery.push(i.i18n.translate("xpack.stackAlerts.esqlQuery.ui.validation.error.requiredQueryText",{defaultMessage:"ES|QL query is required."})),e.timeField||r.timeField.push(i.i18n.translate("xpack.stackAlerts.esqlQuery.ui.validation.error.requiredTimeFieldText",{defaultMessage:"Time field is required."})),e.thresholdComparator!==n.COMPARATORS.GREATER_THAN&&r.thresholdComparator.push(i.i18n.translate("xpack.stackAlerts.esqlQuery.ui.validation.error.requiredThresholdComparatorText",{defaultMessage:"Threshold comparator is required to be greater than."})),e.threshold&&0!==e.threshold[0]&&r.threshold0.push(i.i18n.translate("xpack.stackAlerts.esqlQuery.ui.validation.error.requiredThreshold0Text",{defaultMessage:"Threshold is required to be 0."})),r},d=e=>{const r={errors:{}},t=(e=>{const{size:r,threshold:t,timeWindowSize:s,thresholdComparator:u,aggType:l,aggField:d,groupBy:c,termSize:p,termField:h}=e,g=Object(a.defaultsDeep)({},o.b);return"index"in e||e.searchType?(l&&n.builtInAggregationTypes[l].fieldRequired&&!d&&g.aggField.push(i.i18n.translate("xpack.stackAlerts.esQuery.ui.validation.error.requiredAggFieldText",{defaultMessage:"Aggregation field is required."})),c&&n.builtInGroupByTypes[c]&&n.builtInGroupByTypes[c].sizeRequired&&!p&&g.termSize.push(i.i18n.translate("xpack.stackAlerts.esQuery.ui.validation.error.requiredTermSizedText",{defaultMessage:"Term size is required."})),c&&n.builtInGroupByTypes[c].validNormalizedTypes&&n.builtInGroupByTypes[c].validNormalizedTypes.length>0&&(!h||h.length<=0)&&g.termField.push(i.i18n.translate("xpack.stackAlerts.esQuery.ui.validation.error.requiredTermFieldText",{defaultMessage:"Term field is required."})),c&&n.builtInGroupByTypes[c].validNormalizedTypes&&n.builtInGroupByTypes[c].validNormalizedTypes.length>0&&h&&Array.isArray(h)&&h.length>4&&g.termField.push(i.i18n.translate("xpack.stackAlerts.esQuery.ui.validation.error.overNumberedTermFieldText",{defaultMessage:"Cannot select more than {max} terms",values:{max:4}})),t&&0!==t.length&&void 0!==t[0]||g.threshold0.push(i.i18n.translate("xpack.stackAlerts.esQuery.ui.validation.error.requiredThreshold0Text",{defaultMessage:"Threshold 0 is required."})),u&&n.builtInComparators[u].requiredValues>1&&(!t||void 0===t[1]||t&&t.length<n.builtInComparators[u].requiredValues)&&g.threshold1.push(i.i18n.translate("xpack.stackAlerts.esQuery.ui.validation.error.requiredThreshold1Text",{defaultMessage:"Threshold 1 is required."})),t&&2===t.length&&t[0]>t[1]&&g.threshold1.push(i.i18n.translate("xpack.stackAlerts.esQuery.ui.validation.error.greaterThenThreshold0Text",{defaultMessage:"Threshold 1 must be > Threshold 0."})),s||g.timeWindowSize.push(i.i18n.translate("xpack.stackAlerts.esQuery.ui.validation.error.requiredTimeWindowSizeText",{defaultMessage:"Time window size is required."})),Object(a.isNil)(r)&&g.size.push(i.i18n.translate("xpack.stackAlerts.esQuery.ui.validation.error.requiredSizeText",{defaultMessage:"Size is required."})),(r&&r<0||r>1e4)&&g.size.push(i.i18n.translate("xpack.stackAlerts.esQuery.ui.validation.error.invalidSizeRangeText",{defaultMessage:"Size must be between 0 and {max, number}.",values:{max:1e4}})),g):(g.searchType.push(i.i18n.translate("xpack.stackAlerts.esQuery.ui.validation.error.requiredSearchType",{defaultMessage:"Query type is required."})),g)})(e);if(r.errors=t,Object(s.d)(e))return r.errors={...r.errors,...u(e)},r;if(Object(s.c)(e))return r.errors={...r.errors,...l(e)},r;const d=(e=>{const r=Object(a.defaultsDeep)({},o.e);if(e.index&&0!==e.index.length||r.index.push(i.i18n.translate("xpack.stackAlerts.esQuery.ui.validation.error.requiredIndexText",{defaultMessage:"Index is required."})),e.timeField||r.timeField.push(i.i18n.translate("xpack.stackAlerts.esQuery.ui.validation.error.requiredTimeFieldText",{defaultMessage:"Time field is required."})),e.esQuery)try{JSON.parse(e.esQuery).query||r.esQuery.push(i.i18n.translate("xpack.stackAlerts.esQuery.ui.validation.error.requiredEsQueryText",{defaultMessage:"Query field is required."}))}catch(e){r.esQuery.push(i.i18n.translate("xpack.stackAlerts.esQuery.ui.validation.error.jsonQueryText",{defaultMessage:"Query must be valid JSON."}))}else r.esQuery.push(i.i18n.translate("xpack.stackAlerts.esQuery.ui.validation.error.requiredQueryText",{defaultMessage:"Elasticsearch query is required."}));return r})(e);return r.errors={...r.errors,...d},r},c=e=>{const{errors:r}=d(e);return Object.keys(r).some((e=>r[e]&&r[e].length))}},function(e,r,t){"use strict";t.d(r,"a",(function(){return d}));var a=t(2),i=t(0),n=t(10),s=t(4),o=t(14),u=t(3);const l=e=>({id:e.id,title:e.title,name:e.name,isAdhoc:!e.isPersisted()}),d=({dependencies:{dataViews:e,dataViewEditor:r},metadata:t={adHocDataViewList:[],isManagementPage:!0},dataView:d,onSelectDataView:c,onChangeMetaData:p})=>{var h;const[g,y]=Object(a.useState)([]),[f,m]=Object(a.useState)(!1),b=Object(a.useRef)(),T=Object(a.useMemo)((()=>[...g,...t.adHocDataViewList.map(l)]),[g,t.adHocDataViewList]),x=Object(a.useCallback)((()=>m(!1)),[]),_=Object(a.useCallback)((async r=>{const t=await e.get(r);c(t),x()}),[x,e,c]),v=Object(a.useCallback)((async()=>{const r=await e.getIds(),t=await Promise.all(r.map((r=>e.get(r))));y(t.map(l))}),[e]),k=Object(a.useCallback)((e=>{p({...t,adHocDataViewList:[...t.adHocDataViewList,e]})}),[t,p]),w=Object(a.useMemo)((()=>r.userPermissions.editDataView()?()=>{b.current=r.openEditor({onSave:async e=>{e.id&&(e.isPersisted()||k(e),await v(),await _(e.id))},allowAdHocDataView:!0})}:void 0),[r,v,_,k]);Object(a.useEffect)((()=>()=>{b.current&&b.current()}),[]),Object(a.useEffect)((()=>{v()}),[v]);const A=Object(s.useEuiPaddingCSS)("left"),O=Object(a.useCallback)((async r=>{var t;const a=await e.create(r);"date"===(null===(t=a.fields.getByName("@timestamp"))||void 0===t?void 0:t.type)&&(a.timeFieldName="@timestamp"),k(a),_(a.id)}),[e,k,_]);return T?Object(u.jsx)(s.EuiPopover,{id:"dataViewPopover",button:Object(u.jsx)(s.EuiExpression,{display:"columns","data-test-subj":"selectDataViewExpression",description:i.i18n.translate("xpack.stackAlerts.components.ui.alertParams.dataViewLabel",{defaultMessage:"data view"}),value:null!==(h=null==d?void 0:d.getName())&&void 0!==h?h:i.i18n.translate("xpack.stackAlerts.components.ui.alertParams.dataViewPlaceholder",{defaultMessage:"Select a data view"}),isActive:f,onClick:()=>{m(!0)},isInvalid:!(null!=d&&d.id)}),isOpen:f,closePopover:x,ownFocus:!0,anchorPosition:"downLeft",display:"block"},Object(u.jsx)("div",{style:{width:"450px"},"data-test-subj":"chooseDataViewPopoverContent"},Object(u.jsx)(s.EuiPopoverTitle,null,Object(u.jsx)(s.EuiFlexGroup,{alignItems:"center",gutterSize:"s"},Object(u.jsx)(s.EuiFlexItem,null,i.i18n.translate("xpack.stackAlerts.components.ui.alertParams.dataViewPopoverTitle",{defaultMessage:"Data view"})),Object(u.jsx)(s.EuiFlexItem,{grow:!1},Object(u.jsx)(s.EuiButtonIcon,{"data-test-subj":"closeDataViewPopover",iconType:"cross",color:"danger","aria-label":i.i18n.translate("xpack.stackAlerts.components.ui.alertParams.closeDataViewPopoverLabel",{defaultMessage:"Close"}),onClick:x})))),Object(u.jsx)(o.DataViewSelector,{currentDataViewId:null==d?void 0:d.id,dataViewsList:T,setPopoverIsOpen:m,onChangeDataView:_,onCreateDefaultAdHocDataView:O,isTextBasedLangSelected:!1}),w?Object(u.jsx)(s.EuiPopoverFooter,{paddingSize:"none"},Object(u.jsx)(s.EuiButtonEmpty,{css:A.s,iconType:"plusInCircleFilled","data-test-subj":"chooseDataViewPopover.createDataViewButton",onClick:()=>{x(),w()}},i.i18n.translate("xpack.stackAlerts.components.ui.alertParams.dataViewPopover.createDataViewButton",{defaultMessage:"Create a data view"}))):Object(u.jsx)(s.EuiPopoverFooter,null,Object(u.jsx)(s.EuiText,{color:"subdued",size:"xs"},Object(u.jsx)(n.FormattedMessage,{id:"xpack.stackAlerts.components.ui.alertParams.dataViewPopover.createDataViewButton.noPermissionDescription",defaultMessage:"You need additional privileges to create data views. Contact your administrator."}))))):null}},function(e,r,t){t.r(r);var a=__kbnBundles__.get("plugin/unifiedSearch/public");Object.defineProperties(r,Object.getOwnPropertyDescriptors(a))},function(e,r,t){"use strict";let a;t.r(r),t.d(r,"ComparatorFns",(function(){return n})),t.d(r,"getComparatorScript",(function(){return s})),t.d(r,"ComparatorFnNames",(function(){return o})),t.d(r,"getHumanReadableComparator",(function(){return u})),t.d(r,"rowToDocument",(function(){return l})),t.d(r,"transformDatatableToEsqlTable",(function(){return c})),t.d(r,"toEsQueryHits",(function(){return d})),function(e){e.GT=">",e.LT="<",e.GT_OR_EQ=">=",e.LT_OR_EQ="<=",e.BETWEEN="between",e.NOT_BETWEEN="notBetween"}(a||(a={}));const i=new Map([[a.LT,"less than"],[a.LT_OR_EQ,"less than or equal to"],[a.GT_OR_EQ,"greater than or equal to"],[a.GT,"greater than"],[a.BETWEEN,"between"],[a.NOT_BETWEEN,"not between"]]),n=new Map([[a.LT,(e,r)=>e<r[0]],[a.LT_OR_EQ,(e,r)=>e<=r[0]],[a.GT_OR_EQ,(e,r)=>e>=r[0]],[a.GT,(e,r)=>e>r[0]],[a.BETWEEN,(e,r)=>e>=r[0]&&e<=r[1]],[a.NOT_BETWEEN,(e,r)=>e<r[0]||e>r[1]]]),s=(e,r,t)=>{if(0===r.length)throw new Error("Threshold value required");function i(e){return Number.isInteger(e)?`${e}L`:`${e}`}switch(e){case a.LT:return`${t} < ${i(r[0])}`;case a.LT_OR_EQ:return`${t} <= ${i(r[0])}`;case a.GT:return`${t} > ${i(r[0])}`;case a.GT_OR_EQ:return`${t} >= ${i(r[0])}`;case a.BETWEEN:if(r.length<2)throw new Error("Threshold values required");return`${t} >= ${i(r[0])} && ${t} <= ${i(r[1])}`;case a.NOT_BETWEEN:if(r.length<2)throw new Error("Threshold values required");return`${t} < ${i(r[0])} || ${t} > ${i(r[1])}`}},o=new Set(n.keys());function u(e){return i.has(e)?i.get(e):e}const l=(e,r)=>e.reduce(((e,t,a)=>(e[t.name]=r[a],e)),{}),d=e=>{const r=e.values.map((r=>({_id:"esql_query_document",_index:"",_source:l(e.columns,r)})));return{hits:r,total:r.length}},c=e=>({columns:e.columns.map((e=>({name:e.id,type:e.meta.type}))),values:e.rows.map((e=>Object.values(e)))})},function(e,r,t){t(17),__kbnBundles__.define("plugin/stackAlerts/public",t,18),__kbnBundles__.define("plugin/stackAlerts/common",t,15)},function(e,r,t){t.p=window.__kbnPublicPath__.stackAlerts},function(e,r,t){"use strict";t.r(r),t.d(r,"DataViewSelectPopover",(function(){return g.a})),t.d(r,"plugin",(function(){return y}));var a=t(2),i=t(0);const n=e=>{const{index:r,geoField:t,entity:a,dateField:n,boundaryType:s,boundaryIndexTitle:o,boundaryGeoField:u}=e,l={errors:{}},d={index:new Array,indexId:new Array,geoField:new Array,entity:new Array,dateField:new Array,boundaryType:new Array,boundaryIndexTitle:new Array,boundaryIndexId:new Array,boundaryGeoField:new Array};return l.errors=d,r||d.index.push(i.i18n.translate("xpack.stackAlerts.geoContainment.error.requiredIndexTitleText",{defaultMessage:"Data view is required."})),t||d.geoField.push(i.i18n.translate("xpack.stackAlerts.geoContainment.error.requiredGeoFieldText",{defaultMessage:"Geo field is required."})),a||d.entity.push(i.i18n.translate("xpack.stackAlerts.geoContainment.error.requiredEntityText",{defaultMessage:"Entity is required."})),n||d.dateField.push(i.i18n.translate("xpack.stackAlerts.geoContainment.error.requiredDateFieldText",{defaultMessage:"Date field is required."})),s||d.boundaryType.push(i.i18n.translate("xpack.stackAlerts.geoContainment.error.requiredBoundaryTypeText",{defaultMessage:"Boundary type is required."})),o||d.boundaryIndexTitle.push(i.i18n.translate("xpack.stackAlerts.geoContainment.error.requiredBoundaryIndexTitleText",{defaultMessage:"Boundary data view is required."})),u||d.boundaryGeoField.push(i.i18n.translate("xpack.stackAlerts.geoContainment.error.requiredBoundaryGeoFieldText",{defaultMessage:"Boundary geo field is required."})),l};var s=t(9),o=t(1);const u=e=>{const{index:r,timeField:t,aggType:a,aggField:n,groupBy:u,termSize:l,termField:d,threshold:c,timeWindowSize:p,thresholdComparator:h,filterKuery:g}=e,y={errors:{}},f={aggField:new Array,termSize:new Array,termField:new Array,timeWindowSize:new Array,threshold0:new Array,threshold1:new Array,index:new Array,timeField:new Array,filterKuery:new Array};if(y.errors=f,g)try{Object(s.toElasticsearchQuery)(Object(s.fromKueryExpression)(g))}catch(e){f.filterKuery.push(i.i18n.translate("xpack.stackAlerts.threshold.ui.validation.error.invalidKql",{defaultMessage:"Filter query is invalid."}))}return r&&0!==r.length||f.index.push(i.i18n.translate("xpack.stackAlerts.threshold.ui.validation.error.requiredIndexText",{defaultMessage:"Index is required."})),t||f.timeField.push(i.i18n.translate("xpack.stackAlerts.threshold.ui.validation.error.requiredTimeFieldText",{defaultMessage:"Time field is required."})),a&&o.builtInAggregationTypes[a].fieldRequired&&!n&&f.aggField.push(i.i18n.translate("xpack.stackAlerts.threshold.ui.validation.error.requiredAggFieldText",{defaultMessage:"Aggregation field is required."})),u&&o.builtInGroupByTypes[u]&&o.builtInGroupByTypes[u].sizeRequired&&!l&&f.termSize.push(i.i18n.translate("xpack.stackAlerts.threshold.ui.validation.error.requiredTermSizedText",{defaultMessage:"Term size is required."})),u&&o.builtInGroupByTypes[u].validNormalizedTypes&&o.builtInGroupByTypes[u].validNormalizedTypes.length>0&&!d&&f.termField.push(i.i18n.translate("xpack.stackAlerts.threshold.ui.validation.error.requiredTermFieldText",{defaultMessage:"Term field is required."})),p||f.timeWindowSize.push(i.i18n.translate("xpack.stackAlerts.threshold.ui.validation.error.requiredTimeWindowSizeText",{defaultMessage:"Time window size is required."})),c&&0!==c.length&&void 0!==c[0]||f.threshold0.push(i.i18n.translate("xpack.stackAlerts.threshold.ui.validation.error.requiredThreshold0Text",{defaultMessage:"Threshold0 is required."})),h&&o.builtInComparators[h].requiredValues>1&&(!c||void 0===c[1]||c&&c.length<o.builtInComparators[h].requiredValues)&&f.threshold1.push(i.i18n.translate("xpack.stackAlerts.threshold.ui.validation.error.requiredThreshold1Text",{defaultMessage:"Threshold1 is required."})),c&&2===c.length&&c[0]>c[1]&&f.threshold1.push(i.i18n.translate("xpack.stackAlerts.threshold.ui.validation.error.greaterThenThreshold0Text",{defaultMessage:"Threshold1 should be > Threshold0."})),y};var l=t(6),d=t(12),c=t(5);const p="discover";function h({ruleTypeRegistry:e,alerting:r}){e.register({id:".geo-containment",description:i.i18n.translate("xpack.stackAlerts.geoContainment.descriptionText",{defaultMessage:"Alert when an entity is contained or no longer contained within a boundary."}),iconClass:"globe",documentationUrl:null,ruleParamsExpression:Object(a.lazy)((()=>t.e(2).then(t.bind(null,57)))),validate:n,requiresAppContext:!1}),e.register({id:".index-threshold",description:i.i18n.translate("xpack.stackAlerts.threshold.ui.alertType.descriptionText",{defaultMessage:"Alert when an aggregated query meets the threshold."}),iconClass:"alert",documentationUrl:e=>e.links.alerting.indexThreshold,ruleParamsExpression:Object(a.lazy)((()=>t.e(3).then(t.bind(null,58)))),validate:u,defaultActionMessage:i.i18n.translate("xpack.stackAlerts.threshold.ui.alertType.defaultActionMessage",{defaultMessage:"Rule '\\{\\{rule.name\\}\\}' is active for group '\\{\\{context.group\\}\\}':\n\n- Value: \\{\\{context.value\\}\\}\n- Conditions Met: \\{\\{context.conditions\\}\\} over \\{\\{rule.params.timeWindowSize\\}\\}\\{\\{rule.params.timeWindowUnit\\}\\}\n- Timestamp: \\{\\{context.date\\}\\}"}),requiresAppContext:!1}),e.register(function(e){return function(e){e.registerNavigation(p,l.a,(e=>`/app/discover#/viewAlert/${e.id}`)),e.registerNavigation(l.b,l.a,(e=>{if(Object(c.d)(e.params))return`/app/discover#/viewAlert/${e.id}`})),e.registerNavigation("logs",l.a,(e=>{if(Object(c.d)(e.params))return`/app/discover#/viewAlert/${e.id}`})),e.registerNavigation("infrastructure",l.a,(e=>{if(Object(c.d)(e.params))return`/app/discover#/viewAlert/${e.id}`})),e.registerNavigation("observability",l.a,(e=>{if(Object(c.d)(e.params))return`/app/discover#/viewAlert/${e.id}`}))}(e),{id:l.a,description:i.i18n.translate("xpack.stackAlerts.esQuery.ui.alertType.descriptionText",{defaultMessage:"Alert when matches are found during the latest query run."}),iconClass:"logoElastic",documentationUrl:e=>e.links.alerting.esQuery,ruleParamsExpression:Object(a.lazy)((()=>t.e(1).then(t.bind(null,56)))),validate:d.b,defaultActionMessage:i.i18n.translate("xpack.stackAlerts.esQuery.ui.alertType.defaultActionMessage",{defaultMessage:"Elasticsearch query rule '\\{\\{rule.name\\}\\}' is active:\n\n- Value: \\{\\{context.value\\}\\}\n- Conditions Met: \\{\\{context.conditions\\}\\} over \\{\\{rule.params.timeWindowSize\\}\\}\\{\\{rule.params.timeWindowUnit\\}\\}\n- Timestamp: \\{\\{context.date\\}\\}\n- Link: \\{\\{context.link\\}\\}"}),requiresAppContext:!1}}(r))}class plugin_StackAlertsPublicPlugin{constructor(){}setup(e,{triggersActionsUi:r,alerting:t}){h({ruleTypeRegistry:r.ruleTypeRegistry,alerting:t})}start(){}stop(){}}var g=t(13);const y=()=>new plugin_StackAlertsPublicPlugin},function(e,r,t){t.r(r);var a=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(r,Object.getOwnPropertyDescriptors(a))},function(e,r){e.exports=__kbnSharedDeps__.Rxjs},function(e,r){e.exports=__kbnSharedDeps_npm__},function(e,r){e.exports=__kbnSharedDeps__.Classnames},function(e,r,t){t.r(r);var a=__kbnBundles__.get("plugin/alerting/common");Object.defineProperties(r,Object.getOwnPropertyDescriptors(a))},function(e,r){e.exports=__kbnSharedDeps__.ElasticCharts},function(e,r){e.exports=__kbnSharedDeps__.MomentTimezone},function(e,r,t){t.r(r);var a=__kbnBundles__.get("plugin/alerting/common/parse_duration");Object.defineProperties(r,Object.getOwnPropertyDescriptors(a))},function(e,r,t){t.r(r);var a=__kbnBundles__.get("plugin/data/public");Object.defineProperties(r,Object.getOwnPropertyDescriptors(a))},function(e,r,t){t.r(r);var a=__kbnBundles__.get("plugin/esUiShared/public");Object.defineProperties(r,Object.getOwnPropertyDescriptors(a))},function(e,r,t){t.r(r);var a=__kbnBundles__.get("plugin/textBasedLanguages/public");Object.defineProperties(r,Object.getOwnPropertyDescriptors(a))},function(e,r){e.exports=__kbnSharedDeps__.RxjsOperators},function(e,r,t){t.r(r);var a=__kbnBundles__.get("plugin/data/common");Object.defineProperties(r,Object.getOwnPropertyDescriptors(a))}]);