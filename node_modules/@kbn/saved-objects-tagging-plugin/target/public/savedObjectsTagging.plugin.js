/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */!function(e){function t(t){for(var n,s,i=t[0],r=t[1],o=0,l=[];o<i.length;o++)s=i[o],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&l.push(a[s][0]),a[s]=0;for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);for(c&&c(t);l.length;)l.shift()()}var n={},a={0:0};function s(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.e=function(e){var t=[],n=a[e];if(0!==n)if(n)t.push(n[2]);else{var i=new Promise((function(t,s){n=a[e]=[t,s]}));t.push(n[2]=i);var r,o=document.createElement("script");o.charset="utf-8",o.timeout=120,s.nc&&o.setAttribute("nonce",s.nc),o.src=function(e){return s.p+"savedObjectsTagging.chunk."+e+".js"}(e);var c=new Error;r=function(t){o.onerror=o.onload=null,clearTimeout(l);var n=a[e];if(0!==n){if(n){var s=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+s+": "+i+")",c.name="ChunkLoadError",c.type=s,c.request=i,n[1](c)}a[e]=void 0}};var l=setTimeout((function(){r({type:"timeout",target:o})}),12e4);o.onerror=o.onload=r,document.head.appendChild(o)}return Promise.all(t)},s.m=e,s.c=n,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s.oe=function(e){throw console.error(e),e};var i=window.savedObjectsTagging_bundle_jsonpfunction=window.savedObjectsTagging_bundle_jsonpfunction||[],r=i.push.bind(i);i.push=t,i=i.slice();for(var o=0;o<i.length;o++)t(i[o]);var c=r;s(s.s=23)}([function(e,t){e.exports=__kbnSharedDeps__.EmotionReact},function(e,t){e.exports=__kbnSharedDeps__.React},function(e,t){e.exports=__kbnSharedDeps__.ElasticEui},function(e,t,n){e.exports=n(20)(2)},function(e,t,n){"use strict";n.d(t,"h",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"f",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return g})),n.d(t,"g",(function(){return d})),n.d(t,"e",(function(){return h}));var a=n(15),s=(n(17),n(6));const i=e=>({type:s.c,id:e,name:`tag-ref-${e}`}),r=(e,t)=>[...e.filter((({type:e})=>e!==s.c)),...t.map(i)],o=(e,t)=>c(e.references,t),c=(e,t)=>{const n=e.filter((e=>e.type===a.d)),s=[],i=[];return n.forEach((e=>{const n=t.find((t=>t.id===e.id));n?s.push(n):i.push(e)})),{tags:s,missingRefs:i}},l=(e,t)=>{const n=t.find((t=>t.name===e));return null==n?void 0:n.id},u=(e,t)=>e.name.localeCompare(t.name),g=(e,t)=>t.find((({id:t})=>t===e)),d=e=>e.replace(" ","_"),h=e=>e.filter((e=>e.type===a.d)).map((({id:e})=>e))},function(e,t){e.exports=__kbnSharedDeps__.KbnI18n},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return i}));const a="savedObjectsTagging",s="tag",i="tags"},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return v})),n.d(t,"c",(function(){return m}));var a=n(8),s=n.n(a),i=n(1),r=n(2),o=n(5),c=n(0);const l=({tag:e,onClick:t})=>{const n=t?{onClick:()=>{t(e)},onClickAriaLabel:o.i18n.translate("xpack.savedObjectsTagging.tagList.tagBadge.buttonLabel",{defaultMessage:"{tagName} tag button.",values:{tagName:e.name}}),iconOnClick:()=>{},iconOnClickAriaLabel:""}:{};return Object(c.jsx)(r.EuiBadge,s()({color:e.color,title:e.description},n),e.name)},u=({tags:e,onClick:t,tagRender:n})=>Object(c.jsx)(r.EuiBadgeGroup,null,e.map((e=>n?Object(c.jsx)("span",{key:e.name},n(e)):Object(c.jsx)(l,{key:e.name,tag:e,onClick:t}))));var g=n(12),d=n(4);const h={type:"__create_option__"};function p(e){const t=e.value;return void 0!==t.name&&void 0!==t.color&&void 0!==t.id}function f(e){return"__create_option__"===e.value.type}const b=(e,t,n)=>f(e)?Object(c.jsx)(r.EuiFlexGroup,{"data-test-subj":"tagSelectorOption-action__create",gutterSize:"xs",alignItems:"center",responsive:!1},Object(c.jsx)(r.EuiFlexItem,{grow:!1},Object(c.jsx)(r.EuiIcon,{type:"tag"})),Object(c.jsx)(r.EuiFlexItem,{grow:!1},Object(c.jsx)("span",null,Object(c.jsx)(g.FormattedMessage,{id:"xpack.savedObjectsTagging.components.tagSelector.createTagOptionLabel",defaultMessage:"Create tag"})))):p(e)?((e,t,n)=>{var a;const{name:s,color:i}=null!==(a=e.value)&&void 0!==a?a:{name:""};return Object(c.jsx)(r.EuiHealth,{color:i,"data-test-subj":`tagSelectorOption-${Object(d.g)(s)}`},Object(c.jsx)("span",{className:n},Object(c.jsx)(r.EuiHighlight,{search:t},s)))})(e,t,n):void 0,v=({tags:e,selected:t,onTagsSelected:n,allowCreate:a,openCreateModal:o,fullWidth:l=!0,...u})=>{const[g,d]=Object(i.useState)(""),v=Object(i.useMemo)((()=>({label:`${g} `,color:"#FFFFFF",value:h})),[g]),m=Object(i.useMemo)((()=>[...e.map((e=>({label:e.name,color:e.color,value:e}))),...a?[v]:[]]),[a,e,v]),j=Object(i.useMemo)((()=>m.filter((e=>p(e)&&t.includes(e.value.id)))),[t,m]),_=Object(i.useCallback)((e=>{const a=e.filter(p).map((e=>e.value.id));n(a),e.find(f)&&o({defaultValues:{name:g},onCreate:e=>{n([...t,e.id])}})}),[t,n,o,g]);return Object(c.jsx)(r.EuiComboBox,s()({placeholder:"",options:m,selectedOptions:j,onSearchChange:d,onChange:_,renderOption:b,fullWidth:l},u))},m=({tag:e})=>{const{name:t,color:n}=e;return Object(c.jsx)(r.EuiHealth,{color:n,"data-test-subj":`tag-searchbar-option-${Object(d.g)(t)}`},Object(c.jsx)("span",null,Object(c.jsx)(r.EuiText,null,t)))}},function(e,t,n){e.exports=n(20)(3)},function(e,t){e.exports=__kbnSharedDeps__.Rxjs},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(22),s=n(1),i=a.__importDefault(n(25));t.default=function(e,t){var n=s.useState(t),a=n[0],r=n[1];return i.default((function(){var t=e.subscribe(r);return function(){return t.unsubscribe()}}),[e]),a}},function(e,t){e.exports=__kbnSharedDeps__.RxjsOperators},function(e,t){e.exports=__kbnSharedDeps__.KbnI18nReact},function(e,t,n){"use strict";n.d(t,"b",(function(){return tags_client_TagsClient})),n.d(t,"a",(function(){return tags_cache_TagsCache})),n.d(t,"c",(function(){return u}));var a=n(3),s=n.n(a);const i="performance_metric";function r(e,t){e.reportEvent(i,t)}const o=e=>{try{e()}catch(e){}};class tags_client_TagsClient{constructor({analytics:e,http:t,changeListener:n}){s()(this,"analytics",void 0),s()(this,"http",void 0),s()(this,"changeListener",void 0),this.analytics=e,this.http=t,this.changeListener=n}async create(e){const t=window.performance.now(),{tag:n}=await this.http.post("/api/saved_objects_tagging/tags/create",{body:JSON.stringify(e)}),a=window.performance.now()-t;return r(this.analytics,{eventName:"createTag",duration:a}),o((()=>{this.changeListener&&this.changeListener.onCreate(n)})),n}async update(e,t){const n=window.performance.now(),{tag:a}=await this.http.post(`/api/saved_objects_tagging/tags/${e}`,{body:JSON.stringify(t)}),s=window.performance.now()-n;return r(this.analytics,{eventName:"updateTag",duration:s}),o((()=>{if(this.changeListener){const{id:e,...t}=a;this.changeListener.onUpdate(e,t)}})),a}async get(e){const{tag:t}=await this.http.get(`/api/saved_objects_tagging/tags/${e}`);return t}async getAll({asSystemRequest:e}={}){const t=window.performance.now(),n={asSystemRequest:e},{tags:a}=await this.http.get("/api/saved_objects_tagging/tags",n),s=window.performance.now()-t;return r(this.analytics,{eventName:"getAllTag",duration:s}),o((()=>{this.changeListener&&this.changeListener.onGetAll(a)})),a}async delete(e){const t=window.performance.now();await this.http.delete(`/api/saved_objects_tagging/tags/${e}`);const n=window.performance.now()-t;r(this.analytics,{eventName:"deleteTag",duration:n}),o((()=>{this.changeListener&&this.changeListener.onDelete(e)}))}async find({page:e,perPage:t,search:n}){const a=window.performance.now(),s=await this.http.get("/internal/saved_objects_tagging/tags/_find",{query:{page:e,perPage:t,search:n}}),i=window.performance.now()-a;return r(this.analytics,{eventName:"findTag",duration:i}),s}async findByName(e,{exact:t}={exact:!1}){const{tags:n=[]}=await this.find({page:1,perPage:1e4,search:e});if(t){const t=n.find((t=>t.name.toLocaleLowerCase()===e.toLocaleLowerCase()));return null!=t?t:null}return n.length>0?n[0]:null}async bulkDelete(e){const t=window.performance.now();await this.http.post("/internal/saved_objects_tagging/tags/_bulk_delete",{body:JSON.stringify({ids:e})});const n=window.performance.now()-t;r(this.analytics,{eventName:"bulkDeleteTag",duration:n}),o((()=>{this.changeListener&&e.forEach((e=>{this.changeListener.onDelete(e)}))}))}}var c=n(9),l=n(11);class tags_cache_TagsCache{constructor({refreshHandler:e,refreshInterval:t}){s()(this,"refreshInterval",void 0),s()(this,"refreshHandler",void 0),s()(this,"intervalId",void 0),s()(this,"internal$",void 0),s()(this,"public$",void 0),s()(this,"stop$",void 0),s()(this,"isInitialized$",void 0),this.refreshHandler=e,this.refreshInterval=t,this.stop$=new c.Subject,this.internal$=new c.BehaviorSubject([]),this.public$=this.internal$.pipe(Object(l.takeUntil)(this.stop$)),this.isInitialized$=new c.BehaviorSubject(!1)}async initialize(){await this.refresh(),this.isInitialized$.next(!0),this.refreshInterval&&(this.intervalId=window.setInterval((()=>{this.refresh()}),this.refreshInterval.asMilliseconds()))}async refresh(){try{const e=await this.refreshHandler();this.internal$.next(e)}catch(e){}}getState(){return this.internal$.getValue()}getState$({waitForInitialization:e=!1}={}){return e?this.isInitialized$.pipe(Object(l.first)((e=>e)),Object(l.mergeMap)((()=>this.public$))):this.public$}onDelete(e){this.internal$.next(this.internal$.value.filter((t=>t.id!==e)))}onCreate(e){this.internal$.next([...this.internal$.value.filter((t=>t.id!==e.id)),e])}onUpdate(e,t){this.internal$.next(this.internal$.value.map((n=>n.id===e?{...n,...t}:n)))}onGetAll(e){this.internal$.next(e)}stop(){this.intervalId&&window.clearInterval(this.intervalId),this.stop$.next()}}const u=e=>{var t;return e&&400===e.statusCode&&"boolean"==typeof(null===(t=e.attributes)||void 0===t?void 0:t.valid)&&"object"==typeof e.attributes.errors}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(6);const s=e=>{var t,n,s,i,r,o,c;const l=e[a.a];return{view:null!==(t=null==l?void 0:l.view)&&void 0!==t&&t,create:null!==(n=null==l?void 0:l.create)&&void 0!==n&&n,edit:null!==(s=null==l?void 0:l.edit)&&void 0!==s&&s,delete:null!==(i=null==l?void 0:l.delete)&&void 0!==i&&i,assign:null!==(r=null==l?void 0:l.assign)&&void 0!==r&&r,viewConnections:null!==(o=null===(c=e.savedObjectsManagement)||void 0===c?void 0:c.read)&&void 0!==o&&o}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a.a})),n.d(t,"d",(function(){return s.c})),n.d(t,"e",(function(){return l})),n.d(t,"g",(function(){return u})),n.d(t,"f",(function(){return g})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o}));var a=n(14),s=n(6),i=n(5);const r=50,o=100,c=/^#[0-9A-F]{6}$/i,l=e=>{if(!(e=>c.test(e))(e))return i.i18n.translate("xpack.savedObjectsTagging.validation.color.errorInvalid",{defaultMessage:"Tag color must be a valid hex color"})},u=e=>e.length<2?i.i18n.translate("xpack.savedObjectsTagging.validation.name.errorTooShort",{defaultMessage:"Tag name must be at least {length} characters",values:{length:2}}):e.length>r?i.i18n.translate("xpack.savedObjectsTagging.validation.name.errorTooLong",{defaultMessage:"Tag name may not exceed {length} characters",values:{length:r}}):void 0,g=e=>{if(e.length>o)return i.i18n.translate("xpack.savedObjectsTagging.validation.description.errorTooLong",{defaultMessage:"Tag description may not exceed {length} characters",values:{length:o}})}},function(e,t,n){n.r(t);var a=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(a))},function(e,t){e.exports=__kbnSharedDeps__.Lodash},function(e,t,n){"use strict";var a=n(7);n.d(t,"a",(function(){return a.a})),n.d(t,"b",(function(){return a.c}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return d}));var a=n(1),s=n.n(a),i=n(2),r=n(16),o=n(0);const c=()=>Object(o.jsx)(i.EuiDelayRender,null,Object(o.jsx)(i.EuiLoadingSpinner,null)),l=s.a.lazy((()=>n.e(3).then(n.bind(null,47)).then((({CreateTagModal:e})=>({default:e}))))),u=s.a.lazy((()=>n.e(4).then(n.bind(null,48)).then((({EditTagModal:e})=>({default:e}))))),g=({overlays:e,theme:t,tagClient:n,notifications:a})=>async({onCreate:i,defaultValues:u})=>{const g=e.openModal(Object(r.toMountPoint)(Object(o.jsx)(s.a.Suspense,{fallback:Object(o.jsx)(c,null)},Object(o.jsx)(l,{defaultValues:u,onClose:()=>{g.close()},onSave:e=>{g.close(),i(e)},tagClient:n,notifications:a})),{theme$:t.theme$}));return g},d=({overlays:e,theme:t,tagClient:n,notifications:a})=>async({tagId:i,onUpdate:l})=>{const g=await n.get(i),d=e.openModal(Object(r.toMountPoint)(Object(o.jsx)(s.a.Suspense,{fallback:Object(o.jsx)(c,null)},Object(o.jsx)(u,{tag:g,onClose:()=>{d.close()},onSave:e=>{d.close(),l(e)},tagClient:n,notifications:a})),{theme$:t.theme$}));return d}},function(e,t){e.exports=__kbnSharedDeps_npm__},function(e,t){e.exports=__kbnSharedDeps__.Moment},function(e,t){e.exports=__kbnSharedDeps__.TsLib},function(e,t,n){n(24),__kbnBundles__.define("plugin/savedObjectsTagging/public",n,26)},function(e,t,n){n.p=window.__kbnPublicPath__.savedObjectsTagging},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s="undefined"!=typeof window?a.useLayoutEffect:a.useEffect;t.default=s},function(e,t,n){"use strict";n.r(t),n.d(t,"plugin",(function(){return P}));var a=n(3),s=n.n(a),i=n(5),r=n(6),o=n(14),c=n(13);class assignment_service_TagAssignmentService{constructor({http:e}){s()(this,"http",void 0),this.http=e}async findAssignableObjects({search:e,types:t,maxResults:n}){const{objects:a}=await this.http.get("/internal/saved_objects_tagging/assignments/_find_assignable_objects",{query:{search:e,types:t,max_results:n}});return a}async updateTagAssignments({tags:e,assign:t,unassign:n}){await this.http.post("/api/saved_objects_tagging/assignments/update_by_tags",{body:JSON.stringify({tags:e,assign:t,unassign:n})})}async getAssignableTypes(){const{types:e}=await this.http.get("/internal/saved_objects_tagging/assignments/_assignable_types");return e}}var l=n(4),u=n(8),g=n.n(u),d=n(1),h=n(10),p=n.n(h),f=n(7),b=n(0);const v=({object:e,tags:t,onClick:n,tagRender:a})=>{const s=Object(d.useMemo)((()=>{const{tags:n}=Object(l.c)(e,t);return n.sort(l.a),n}),[e,t]);return Object(b.jsx)(f.b,{tags:s,onClick:n,tagRender:a})},m=({cache:e})=>t=>{const n=p()(e.getState$(),e.getState());return Object(b.jsx)(v,g()({},t,{tags:n}))},j=({cache:e,capabilities:t,openCreateModal:n})=>a=>{const s=p()(e.getState$(),e.getState());return Object(b.jsx)(f.d,g()({},a,{tags:s,allowCreate:t.create,openCreateModal:n}))};var _=n(2),O=n(12);const y=({cache:e,capabilities:t,openCreateModal:n})=>({initialSelection:a,onTagsSelected:s,markOptional:i,...r})=>{const o=p()(e.getState$(),e.getState()),[c,l]=Object(d.useState)(a),u=Object(d.useCallback)((e=>{l(e),s(e)}),[s]);return Object(b.jsx)(_.EuiFormRow,{fullWidth:!0,label:Object(b.jsx)(O.FormattedMessage,{id:"xpack.savedObjectsTagging.uiApi.saveModal.label",defaultMessage:"Tags"}),labelAppend:i&&Object(b.jsx)(_.EuiText,{color:"subdued",size:"xs"},Object(b.jsx)(O.FormattedMessage,{id:"xpack.savedObjectsTagging.uiApi.saveModal.optional",defaultMessage:"Optional"}))},Object(b.jsx)(f.d,g()({selected:c,onTagsSelected:u,tags:o,"data-test-subj":"savedObjectTagSelector",allowCreate:t.create,openCreateModal:n},r)))};var T=n(19);const w=({components:e,cache:t})=>({serverPaging:n=!1}={})=>({field:"references",name:i.i18n.translate("xpack.savedObjectsTagging.uiApi.table.columnTagsName",{defaultMessage:"Tags"}),description:i.i18n.translate("xpack.savedObjectsTagging.uiApi.table.columnTagsDescription",{defaultMessage:"Tags associated with this saved object"}),sortable:!n&&(e=>{const{tags:n}=Object(l.f)(e.references,t.getState());return n.sort(l.a),n.length?n[0].name:void 0}),render:(t,n)=>Object(b.jsx)(e.TagList,{object:n}),"data-test-subj":"listingTableRowTags"});var x=n(18);const S=({getTagList:e})=>({useName:t=!0,tagField:n="tag"}={})=>({type:"field_value_selection",field:n,name:i.i18n.translate("xpack.savedObjectsTagging.uiApi.searchBar.filterButtonLabel",{defaultMessage:"Tags"}),multiSelect:"or",options:()=>Promise.resolve(e().map((e=>({value:t?e.name:e.id,name:e.name,view:Object(b.jsx)(x.b,{tag:e})}))))});var C=n(9),k=n(11);const M=({cache:e})=>async(t,{tagField:n="tag",useName:a=!0}={})=>{let s;try{s=_.Query.parse(t)}catch(e){return{searchTerm:t,tagReferences:[],tagReferencesToExclude:[],valid:!1}}if(!t)return{searchTerm:"",tagReferences:[],tagReferencesToExclude:[],valid:!0};let i="";s.ast.getTermClauses().length&&(i=s.ast.getTermClauses().map((e=>e.value)).join(" "));let r=[],o=[];if(s.ast.getFieldClauses(n)){const{selectedTags:t,excludedTags:i}=s.ast.getFieldClauses(n).reduce(((e,t)=>("must"===t.match?e.selectedTags=t.value:"must_not"===t.match&&(e.excludedTags=t.value),e)),{selectedTags:[],excludedTags:[]}),c=await Object(C.lastValueFrom)(e.getState$({waitForInitialization:!0}).pipe(Object(k.first)())),l=e=>{if(a){const t=[];return e.forEach((e=>{const n=c.find((t=>t.name===e));n&&t.push({type:"tag",id:n.id})})),t}return e.map((e=>({type:"tag",id:e})))};r=l(t),o=l(i)}return{searchTerm:i,tagReferences:r,tagReferencesToExclude:o,valid:!0}},$=({cache:e})=>t=>{const n=Object(l.b)(t,e.getState());return n?{type:"tag",id:n}:void 0},L=e=>"getTags"in e&&"setTags"in e,E=({cache:e,capabilities:t,client:n,overlays:a,theme:s,notifications:i})=>{const r=(({capabilities:e,cache:t,overlays:n,theme:a,tagClient:s,notifications:i})=>{const r=Object(T.a)({overlays:n,theme:a,tagClient:s,notifications:i});return{TagList:m({cache:t}),TagSelector:j({cache:t,capabilities:e,openCreateModal:r}),SavedObjectSaveModalTagSelector:y({cache:t,capabilities:e,openCreateModal:r})}})({cache:e,capabilities:t,overlays:a,theme:s,tagClient:n,notifications:i}),o=(e=>()=>e.getState().sort(l.a))(e);return{components:r,getTableColumnDefinition:w({components:r,cache:e}),getSearchBarFilter:S({getTagList:o}),parseSearchQuery:M({cache:e}),convertNameToReference:$({cache:e}),hasTagDecoration:L,getTagIdsFromReferences:l.e,getTagIdFromName:t=>Object(l.b)(t,e.getState()),updateTagsReferences:l.h,getTag:t=>Object(l.d)(t,e.getState()),getTagList:o}};var I=n(21),R=n.n(I);class config_SavedObjectsTaggingClientConfig{constructor(e){s()(this,"cacheRefreshInterval",void 0),this.cacheRefreshInterval=R.a.duration(e.cache_refresh_interval)}}class plugin_SavedObjectTaggingPlugin{constructor(e){s()(this,"tagClient",void 0),s()(this,"tagCache",void 0),s()(this,"assignmentService",void 0),s()(this,"config",void 0),this.config=new config_SavedObjectsTaggingClientConfig(e.config.get())}setup(e,{management:t,savedObjectsTaggingOss:a}){const s=t.sections.section.kibana,o=i.i18n.translate("xpack.savedObjectsTagging.management.sectionLabel",{defaultMessage:"Tags"});return s.registerApp({id:r.b,title:o,order:1.5,mount:async t=>{const{mountSection:a}=await n.e(1).then(n.bind(null,49));return a({tagClient:this.tagClient,tagCache:this.tagCache,assignmentService:this.assignmentService,core:e,mountParams:t,title:o})}}),a.registerTaggingApi(e.getStartServices().then((([e,t,n])=>n))),{}}start({http:e,application:t,overlays:n,theme:a,analytics:s,notifications:i}){return this.tagCache=new c.a({refreshHandler:()=>this.tagClient.getAll({asSystemRequest:!0}),refreshInterval:this.config.cacheRefreshInterval}),this.tagClient=new c.b({analytics:s,http:e,changeListener:this.tagCache}),this.assignmentService=new assignment_service_TagAssignmentService({http:e}),e.anonymousPaths.isAnonymous(window.location.pathname)||this.tagCache.initialize().catch((()=>{})),{client:this.tagClient,cache:this.tagCache,ui:E({cache:this.tagCache,client:this.tagClient,capabilities:Object(o.a)(t.capabilities),overlays:n,theme:a,notifications:i})}}stop(){this.tagCache&&this.tagCache.stop()}}const P=e=>new plugin_SavedObjectTaggingPlugin(e)},function(e,t){e.exports=__kbnSharedDeps__.ReactDom}]);