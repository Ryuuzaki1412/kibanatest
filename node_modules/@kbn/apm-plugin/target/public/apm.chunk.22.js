/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.apm_bundle_jsonpfunction=window.apm_bundle_jsonpfunction||[]).push([[22],{1057:function(e,t,a){"use strict";a.r(t),a.d(t,"registerAssistantFunctions",(function(){return g}));var n=a(13),r=a(18),i=a(8),s=a(1),c=a.n(s),u=a(100),o=a(11),l=a(482),_=a(87),m=a(128),p=a(145),b=a(113),E=a(92),d=a(75);async function g({registerRenderFunction:e}){!function({registerRenderFunction:e}){e("get_apm_timeseries",(e=>{const{response:t}=e,a=Object(i.groupBy)(t.data,(e=>e.group)),{services:{uiSettings:s}}=Object(r.useKibana)(),g=Object(m.a)(s);return c.a.createElement(E.b,null,c.a.createElement(l.b,null,c.a.createElement(n.EuiFlexGroup,{direction:"column"},Object.values(a).map((e=>{const t=e[0].group,a=Object(b.a)(e),r=Object(o.n)(a,10,1e3);let i;switch(e[0].stat.timeseries.name){case"transaction_throughput":case"exit_span_throughput":case"error_event_rate":i=o.k;break;case"transaction_latency":case"exit_span_latency":i=Object(b.b)(r);break;case"transaction_failure_rate":case"exit_span_failure_rate":i=e=>Object(o.i)(e||0,100)}const s=e.map((e=>{let t;const a=e.data;switch(e.stat.timeseries.name){case"transaction_throughput":case"exit_span_throughput":t=_.a.THROUGHPUT;break;case"transaction_failure_rate":case"exit_span_failure_rate":t=_.a.FAILED_TRANSACTION_RATE;break;case"transaction_latency":t=e.stat.timeseries.function===u.a.p99?_.a.LATENCY_P99:e.stat.timeseries.function===u.a.p95?_.a.LATENCY_P95:_.a.LATENCY_AVG;break;case"exit_span_latency":t=_.a.LATENCY_AVG;break;case"error_event_rate":t=_.a.ERROR_OCCURRENCES}return{title:e.id,type:"line",color:Object(_.b)(t).currentPeriodColor,data:a}}));return c.a.createElement(n.EuiFlexItem,{grow:!1,key:t},c.a.createElement(n.EuiFlexGroup,{direction:"column",gutterSize:"s"},c.a.createElement(n.EuiFlexItem,null,c.a.createElement(n.EuiText,{size:"m"},t),c.a.createElement(p.a,{comparisonEnabled:!1,fetchStatus:d.a.SUCCESS,id:t,timeZone:g,timeseries:s,yLabelFormat:i}))))})))))}))}({registerRenderFunction:e})}}}]);