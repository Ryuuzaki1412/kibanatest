/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.ux_bundle_jsonpfunction=window.ux_bundle_jsonpfunction||[]).push([[2],{35:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.apS=t.apSW=t.bind=t.bindW=t.bindTo=t.exists=t.elem=t.toError=t.either=t.getValidationMonoid=t.MonadThrow=t.ChainRec=t.Extend=t.Alt=t.Bifunctor=t.Traversable=t.Foldable=t.Monad=t.Applicative=t.Functor=t.getValidationSemigroup=t.getValidation=t.getAltValidation=t.getApplicativeValidation=t.getWitherable=t.getFilterable=t.getApplyMonoid=t.getApplySemigroup=t.getSemigroup=t.getEq=t.getShow=t.URI=t.throwError=t.sequence=t.traverse=t.reduceRight=t.foldMap=t.reduce=t.duplicate=t.extend=t.alt=t.flatten=t.chainFirst=t.chainFirstW=t.chain=t.chainW=t.of=t.apSecond=t.apFirst=t.ap=t.apW=t.mapLeft=t.bimap=t.map=t.filterOrElse=t.orElse=t.swap=t.getOrElse=t.getOrElseW=t.fold=t.fromPredicate=t.fromOption=t.stringifyJSON=t.parseJSON=t.tryCatch=t.fromNullable=t.right=t.left=t.isRight=t.isLeft=void 0;var r=n(61),a=n(45);function i(e,n){try{return t.right(e())}catch(e){return t.left(n(e))}}t.isLeft=function(e){return"Left"===e._tag},t.isRight=function(e){return"Right"===e._tag},t.left=function(e){return{_tag:"Left",left:e}},t.right=function(e){return{_tag:"Right",right:e}},t.fromNullable=function(e){return function(n){return null==n?t.left(e):t.right(n)}},t.tryCatch=i,t.parseJSON=function(e,t){return i((function(){return JSON.parse(e)}),t)},t.stringifyJSON=function(e,t){return i((function(){return JSON.stringify(e)}),t)},t.fromOption=function(e){return function(n){return"None"===n._tag?t.left(e()):t.right(n.value)}},t.fromPredicate=function(e,n){return function(r){return e(r)?t.right(r):t.left(n(r))}},t.fold=function(e,n){return function(r){return t.isLeft(r)?e(r.left):n(r.right)}},t.getOrElseW=function(e){return function(n){return t.isLeft(n)?e(n.left):n.right}},t.getOrElse=t.getOrElseW,t.swap=function(e){return t.isLeft(e)?t.right(e.left):t.left(e.right)},t.orElse=function(e){return function(n){return t.isLeft(n)?e(n.left):n}},t.filterOrElse=function(e,n){return t.chain((function(r){return e(r)?t.right(r):t.left(n(r))}))};var o=function(e,n){return a.pipe(e,t.map(n))},u=function(e,n){return a.pipe(e,t.ap(n))},l=function(e,n){return a.pipe(e,t.chain(n))},c=function(e,n,r){return a.pipe(e,t.reduce(n,r))},s=function(e){return function(n,r){var i=t.foldMap(e);return a.pipe(n,i(r))}},d=function(e,n,r){return a.pipe(e,t.reduceRight(n,r))},f=function(e){var n=t.traverse(e);return function(e,t){return a.pipe(e,n(t))}},p=function(e,n,r){return a.pipe(e,t.bimap(n,r))},m=function(e,n){return a.pipe(e,t.mapLeft(n))},g=function(e,n){return a.pipe(e,t.alt(n))},h=function(e,n){return a.pipe(e,t.extend(n))},v=function(e,n){return r.tailRec(n(e),(function(e){return t.isLeft(e)?t.right(t.left(e.left)):t.isLeft(e.right)?t.left(n(e.right.left)):t.right(t.right(e.right.right))}))};function y(e){return{concat:function(n,r){return t.isLeft(n)?n:t.isLeft(r)?r:t.right(e.concat(n.right,r.right))}}}function b(e){var n=t.left(e.empty);return{URI:t.URI,_E:void 0,map:o,compact:function(e){return t.isLeft(e)?e:"None"===e.right._tag?n:t.right(e.right.value)},separate:function(e){return t.isLeft(e)?{left:e,right:e}:t.isLeft(e.right)?{left:t.right(e.right.left),right:n}:{left:n,right:t.right(e.right.right)}},filter:function(e,r){return t.isLeft(e)||r(e.right)?e:n},filterMap:function(e,r){if(t.isLeft(e))return e;var a=r(e.right);return"None"===a._tag?n:t.right(a.value)},partition:function(e,r){return t.isLeft(e)?{left:e,right:e}:r(e.right)?{left:n,right:t.right(e.right)}:{left:t.right(e.right),right:n}},partitionMap:function(e,r){if(t.isLeft(e))return{left:e,right:e};var a=r(e.right);return t.isLeft(a)?{left:t.right(a.left),right:n}:{left:n,right:t.right(a.right)}}}}function E(e){return{URI:t.URI,_E:void 0,map:o,ap:function(n,r){return t.isLeft(n)?t.isLeft(r)?t.left(e.concat(n.left,r.left)):n:t.isLeft(r)?r:t.right(n.right(r.right))},of:t.of}}function x(e){return{URI:t.URI,_E:void 0,map:o,alt:function(n,r){if(t.isRight(n))return n;var a=r();return t.isLeft(a)?t.left(e.concat(n.left,a.left)):a}}}function T(e,n){return{concat:function(r,a){return t.isLeft(r)?t.isLeft(a)?t.left(e.concat(r.left,a.left)):r:t.isLeft(a)?a:t.right(n.concat(r.right,a.right))}}}t.map=function(e){return function(n){return t.isLeft(n)?n:t.right(e(n.right))}},t.bimap=function(e,n){return function(r){return t.isLeft(r)?t.left(e(r.left)):t.right(n(r.right))}},t.mapLeft=function(e){return function(n){return t.isLeft(n)?t.left(e(n.left)):n}},t.apW=function(e){return function(n){return t.isLeft(n)?n:t.isLeft(e)?e:t.right(n.right(e.right))}},t.ap=t.apW,t.apFirst=function(e){return a.flow(t.map((function(e){return function(){return e}})),t.ap(e))},t.apSecond=function(e){return a.flow(t.map((function(){return function(e){return e}})),t.ap(e))},t.of=t.right,t.chainW=function(e){return function(n){return t.isLeft(n)?n:e(n.right)}},t.chain=t.chainW,t.chainFirstW=function(e){return function(n){return a.pipe(n,t.chainW((function(n){return a.pipe(e(n),t.map((function(){return n})))})))}},t.chainFirst=t.chainFirstW,t.flatten=t.chain(a.identity),t.alt=function(e){return function(n){return t.isLeft(n)?e():n}},t.extend=function(e){return function(n){return t.isLeft(n)?n:t.right(e(n))}},t.duplicate=t.extend(a.identity),t.reduce=function(e,n){return function(r){return t.isLeft(r)?e:n(e,r.right)}},t.foldMap=function(e){return function(n){return function(r){return t.isLeft(r)?e.empty:n(r.right)}}},t.reduceRight=function(e,n){return function(r){return t.isLeft(r)?e:n(r.right,e)}},t.traverse=function(e){return function(n){return function(r){return t.isLeft(r)?e.of(t.left(r.left)):e.map(n(r.right),t.right)}}},t.sequence=function(e){return function(n){return t.isLeft(n)?e.of(t.left(n.left)):e.map(n.right,t.right)}},t.throwError=t.left,t.URI="Either",t.getShow=function(e,n){return{show:function(r){return t.isLeft(r)?"left("+e.show(r.left)+")":"right("+n.show(r.right)+")"}}},t.getEq=function(e,n){return{equals:function(r,a){return r===a||(t.isLeft(r)?t.isLeft(a)&&e.equals(r.left,a.left):t.isRight(a)&&n.equals(r.right,a.right))}}},t.getSemigroup=function(e){return{concat:function(n,r){return t.isLeft(r)?n:t.isLeft(n)?r:t.right(e.concat(n.right,r.right))}}},t.getApplySemigroup=y,t.getApplyMonoid=function(e){return{concat:y(e).concat,empty:t.right(e.empty)}},t.getFilterable=b,t.getWitherable=function(e){var n=b(e);return{URI:t.URI,_E:void 0,map:o,compact:n.compact,separate:n.separate,filter:n.filter,filterMap:n.filterMap,partition:n.partition,partitionMap:n.partitionMap,traverse:f,sequence:t.sequence,reduce:c,foldMap:s,reduceRight:d,wither:function(e){var t=f(e);return function(r,a){return e.map(t(r,a),n.compact)}},wilt:function(e){var t=f(e);return function(r,a){return e.map(t(r,a),n.separate)}}}},t.getApplicativeValidation=E,t.getAltValidation=x,t.getValidation=function(e){var n=E(e),r=x(e);return{URI:t.URI,_E:void 0,map:o,of:t.of,chain:l,bimap:p,mapLeft:m,reduce:c,foldMap:s,reduceRight:d,extend:h,traverse:f,sequence:t.sequence,chainRec:v,throwError:t.throwError,ap:n.ap,alt:r.alt}},t.getValidationSemigroup=T,t.Functor={URI:t.URI,map:o},t.Applicative={URI:t.URI,map:o,ap:u,of:t.of},t.Monad={URI:t.URI,map:o,ap:u,of:t.of,chain:l},t.Foldable={URI:t.URI,reduce:c,foldMap:s,reduceRight:d},t.Traversable={URI:t.URI,map:o,reduce:c,foldMap:s,reduceRight:d,traverse:f,sequence:t.sequence},t.Bifunctor={URI:t.URI,bimap:p,mapLeft:m},t.Alt={URI:t.URI,map:o,alt:g},t.Extend={URI:t.URI,map:o,extend:h},t.ChainRec={URI:t.URI,map:o,ap:u,chain:l,chainRec:v},t.MonadThrow={URI:t.URI,map:o,ap:u,of:t.of,chain:l,throwError:t.throwError},t.getValidationMonoid=function(e,n){return{concat:T(e,n).concat,empty:t.right(n.empty)}},t.either={URI:t.URI,map:o,of:t.of,ap:u,chain:l,reduce:c,foldMap:s,reduceRight:d,traverse:f,sequence:t.sequence,bimap:p,mapLeft:m,alt:g,extend:h,chainRec:v,throwError:t.throwError},t.toError=function(e){return e instanceof Error?e:new Error(String(e))},t.elem=function(e){return function(n,r){return!t.isLeft(r)&&e.equals(n,r.right)}},t.exists=function(e){return function(n){return!t.isLeft(n)&&e(n.right)}},t.bindTo=function(e){return t.map(a.bindTo_(e))},t.bindW=function(e,n){return t.chainW((function(r){return a.pipe(n(r),t.map((function(t){return a.bind_(r,e,t)})))}))},t.bind=t.bindW,t.apSW=function(e,n){return a.flow(t.map((function(t){return function(n){return a.bind_(t,e,n)}})),t.apW(n))},t.apS=t.apSW},43:function(e,t,n){e.exports=n(24)(3)},44:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pipeable=t.pipe=void 0;var r=n(45);t.pipe=r.pipe;t.pipeable=function(e){var t={};return function(e){return"function"==typeof e.map}(e)&&(t.map=function(t){return function(n){return e.map(n,t)}}),function(e){return"function"==typeof e.contramap}(e)&&(t.contramap=function(t){return function(n){return e.contramap(n,t)}}),function(e){return"function"==typeof e.mapWithIndex}(e)&&(t.mapWithIndex=function(t){return function(n){return e.mapWithIndex(n,t)}}),function(e){return"function"==typeof e.ap}(e)&&(t.ap=function(t){return function(n){return e.ap(n,t)}},t.apFirst=function(t){return function(n){return e.ap(e.map(n,(function(e){return function(){return e}})),t)}},t.apSecond=function(t){return function(n){return e.ap(e.map(n,(function(){return function(e){return e}})),t)}}),function(e){return"function"==typeof e.chain}(e)&&(t.chain=function(t){return function(n){return e.chain(n,t)}},t.chainFirst=function(t){return function(n){return e.chain(n,(function(n){return e.map(t(n),(function(){return n}))}))}},t.flatten=function(t){return e.chain(t,r.identity)}),function(e){return"function"==typeof e.bimap}(e)&&(t.bimap=function(t,n){return function(r){return e.bimap(r,t,n)}},t.mapLeft=function(t){return function(n){return e.mapLeft(n,t)}}),function(e){return"function"==typeof e.extend}(e)&&(t.extend=function(t){return function(n){return e.extend(n,t)}},t.duplicate=function(t){return e.extend(t,r.identity)}),function(e){return"function"==typeof e.reduce}(e)&&(t.reduce=function(t,n){return function(r){return e.reduce(r,t,n)}},t.foldMap=function(t){var n=e.foldMap(t);return function(e){return function(t){return n(t,e)}}},t.reduceRight=function(t,n){return function(r){return e.reduceRight(r,t,n)}}),function(e){return"function"==typeof e.reduceWithIndex}(e)&&(t.reduceWithIndex=function(t,n){return function(r){return e.reduceWithIndex(r,t,n)}},t.foldMapWithIndex=function(t){var n=e.foldMapWithIndex(t);return function(e){return function(t){return n(t,e)}}},t.reduceRightWithIndex=function(t,n){return function(r){return e.reduceRightWithIndex(r,t,n)}}),function(e){return"function"==typeof e.alt}(e)&&(t.alt=function(t){return function(n){return e.alt(n,t)}}),function(e){return"function"==typeof e.compact}(e)&&(t.compact=e.compact,t.separate=e.separate),function(e){return"function"==typeof e.filter}(e)&&(t.filter=function(t){return function(n){return e.filter(n,t)}},t.filterMap=function(t){return function(n){return e.filterMap(n,t)}},t.partition=function(t){return function(n){return e.partition(n,t)}},t.partitionMap=function(t){return function(n){return e.partitionMap(n,t)}}),function(e){return"function"==typeof e.filterWithIndex}(e)&&(t.filterWithIndex=function(t){return function(n){return e.filterWithIndex(n,t)}},t.filterMapWithIndex=function(t){return function(n){return e.filterMapWithIndex(n,t)}},t.partitionWithIndex=function(t){return function(n){return e.partitionWithIndex(n,t)}},t.partitionMapWithIndex=function(t){return function(n){return e.partitionMapWithIndex(n,t)}}),function(e){return"function"==typeof e.promap}(e)&&(t.promap=function(t,n){return function(r){return e.promap(r,t,n)}}),function(e){return"function"==typeof e.compose}(e)&&(t.compose=function(t){return function(n){return e.compose(n,t)}}),function(e){return"function"==typeof e.throwError}(e)&&(t.fromOption=function(t){return function(n){return"None"===n._tag?e.throwError(t()):e.of(n.value)}},t.fromEither=function(t){return"Left"===t._tag?e.throwError(t.left):e.of(t.right)},t.fromPredicate=function(t,n){return function(r){return t(r)?e.of(r):e.throwError(n(r))}},t.filterOrElse=function(t,n){return function(r){return e.chain(r,(function(r){return t(r)?e.of(r):e.throwError(n(r))}))}}),t}},45:function(e,t,n){"use strict";function r(e){return e}function a(e){throw new Error("Called `absurd` function which should be uncallable")}Object.defineProperty(t,"__esModule",{value:!0}),t.bindTo_=t.bind_=t.hole=t.pipe=t.untupled=t.tupled=t.absurd=t.decrement=t.increment=t.tuple=t.flow=t.flip=t.constVoid=t.constUndefined=t.constNull=t.constFalse=t.constTrue=t.constant=t.not=t.unsafeCoerce=t.identity=void 0,t.identity=r,t.unsafeCoerce=r,t.not=function(e){return function(t){return!e(t)}},t.constant=function(e){return function(){return e}},t.constTrue=function(){return!0},t.constFalse=function(){return!1},t.constNull=function(){return null},t.constUndefined=function(){},t.constVoid=function(){},t.flip=function(e){return function(t,n){return e(n,t)}},t.flow=function(e,t,n,r,a,i,o,u,l){switch(arguments.length){case 1:return e;case 2:return function(){return t(e.apply(this,arguments))};case 3:return function(){return n(t(e.apply(this,arguments)))};case 4:return function(){return r(n(t(e.apply(this,arguments))))};case 5:return function(){return a(r(n(t(e.apply(this,arguments)))))};case 6:return function(){return i(a(r(n(t(e.apply(this,arguments))))))};case 7:return function(){return o(i(a(r(n(t(e.apply(this,arguments)))))))};case 8:return function(){return u(o(i(a(r(n(t(e.apply(this,arguments))))))))};case 9:return function(){return l(u(o(i(a(r(n(t(e.apply(this,arguments)))))))))}}},t.tuple=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e},t.increment=function(e){return e+1},t.decrement=function(e){return e-1},t.absurd=a,t.tupled=function(e){return function(t){return e.apply(void 0,t)}},t.untupled=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e(t)}},t.pipe=function(e,t,n,r,a,i,o,u,l,c,s,d,f,p,m,g,h,v,y,b){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return n(t(e));case 4:return r(n(t(e)));case 5:return a(r(n(t(e))));case 6:return i(a(r(n(t(e)))));case 7:return o(i(a(r(n(t(e))))));case 8:return u(o(i(a(r(n(t(e)))))));case 9:return l(u(o(i(a(r(n(t(e))))))));case 10:return c(l(u(o(i(a(r(n(t(e)))))))));case 11:return s(c(l(u(o(i(a(r(n(t(e))))))))));case 12:return d(s(c(l(u(o(i(a(r(n(t(e)))))))))));case 13:return f(d(s(c(l(u(o(i(a(r(n(t(e))))))))))));case 14:return p(f(d(s(c(l(u(o(i(a(r(n(t(e)))))))))))));case 15:return m(p(f(d(s(c(l(u(o(i(a(r(n(t(e))))))))))))));case 16:return g(m(p(f(d(s(c(l(u(o(i(a(r(n(t(e)))))))))))))));case 17:return h(g(m(p(f(d(s(c(l(u(o(i(a(r(n(t(e))))))))))))))));case 18:return v(h(g(m(p(f(d(s(c(l(u(o(i(a(r(n(t(e)))))))))))))))));case 19:return y(v(h(g(m(p(f(d(s(c(l(u(o(i(a(r(n(t(e))))))))))))))))));case 20:return b(y(v(h(g(m(p(f(d(s(c(l(u(o(i(a(r(n(t(e)))))))))))))))))))}},t.hole=a,t.bind_=function(e,t,n){var r;return Object.assign({},e,((r={})[t]=n,r))},t.bindTo_=function(e){return function(t){var n;return(n={})[e]=t,n}}},52:function(e,t,n){"use strict";const r=n(62),a=n(63),i=n(64);function o(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function u(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function l(e,t){return t.decode?a(e):e}function c(e){return Array.isArray(e)?e.sort():"object"==typeof e?c(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function s(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function d(e){const t=(e=s(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function f(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function p(e,t){o((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const n=function(e){let t;switch(e.arrayFormat){case"index":return(e,n,r)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return(e,n,r)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"comma":case"separator":return(t,n,r)=>{const a="string"==typeof n&&n.split("").indexOf(e.arrayFormatSeparator)>-1?n.split(e.arrayFormatSeparator).map((t=>l(t,e))):null===n?n:l(n,e);r[t]=a};default:return(e,t,n)=>{void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t),r=Object.create(null);if("string"!=typeof e)return r;if(!(e=e.trim().replace(/^[?#&]/,"")))return r;for(const a of e.split("&")){let[e,o]=i(t.decode?a.replace(/\+/g," "):a,"=");o=void 0===o?null:["comma","separator"].includes(t.arrayFormat)?o:l(o,t),n(l(e,t),o,r)}for(const e of Object.keys(r)){const n=r[e];if("object"==typeof n&&null!==n)for(const e of Object.keys(n))n[e]=f(n[e],t);else r[e]=f(n,t)}return!1===t.sort?r:(!0===t.sort?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce(((e,t)=>{const n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=c(n):e[t]=n,e}),Object.create(null))}t.extract=d,t.parse=p,t.stringify=(e,t)=>{if(!e)return"";o((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const n=n=>t.skipNull&&null==e[n]||t.skipEmptyString&&""===e[n],r=function(e){switch(e.arrayFormat){case"index":return t=>(n,r)=>{const a=n.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[u(t,e),"[",a,"]"].join("")]:[...n,[u(t,e),"[",u(a,e),"]=",u(r,e)].join("")]};case"bracket":return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[u(t,e),"[]"].join("")]:[...n,[u(t,e),"[]=",u(r,e)].join("")];case"comma":case"separator":return t=>(n,r)=>null==r||0===r.length?n:0===n.length?[[u(t,e),"=",u(r,e)].join("")]:[[n,u(r,e)].join(e.arrayFormatSeparator)];default:return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,u(t,e)]:[...n,[u(t,e),"=",u(r,e)].join("")]}}(t),a={};for(const t of Object.keys(e))n(t)||(a[t]=e[t]);const i=Object.keys(a);return!1!==t.sort&&i.sort(t.sort),i.map((n=>{const a=e[n];return void 0===a?"":null===a?u(n,t):Array.isArray(a)?a.reduce(r(n),[]).join("&"):u(n,t)+"="+u(a,t)})).filter((e=>e.length>0)).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[n,r]=i(e,"#");return Object.assign({url:n.split("?")[0]||"",query:p(d(e),t)},t&&t.parseFragmentIdentifier&&r?{fragmentIdentifier:l(r,t)}:{})},t.stringifyUrl=(e,n)=>{n=Object.assign({encode:!0,strict:!0},n);const r=s(e.url).split("?")[0]||"",a=t.extract(e.url),i=t.parse(a,{sort:!1}),o=Object.assign(i,e.query);let l=t.stringify(o,n);l&&(l=`?${l}`);let c=function(e){let t="";const n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}(e.url);return e.fragmentIdentifier&&(c=`#${u(e.fragmentIdentifier,n)}`),`${r}${l}${c}`}},53:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDeepEqual=t.off=t.on=t.isClient=void 0;var r=n(19).__importDefault(n(70));t.isClient="object"==typeof window,t.on=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return e.addEventListener.apply(e,t)},t.off=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return e.removeEventListener.apply(e,t)},t.isDeepEqual=r.default},54:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),a=n(53),i=function(){};t.default=function(e,t,n){if(!a.isClient)return[t,i,i];if(!e)throw new Error("useLocalStorage key may not be falsy");var o=n?n.raw?function(e){return e}:n.deserializer:JSON.parse,u=r.useState((function(){try{var r=n?n.raw?String:n.serializer:JSON.stringify,a=localStorage.getItem(e);return null!==a?o(a):(t&&localStorage.setItem(e,r(t)),t)}catch(e){return t}})),l=u[0],c=u[1],s=r.useCallback((function(t){try{var r="function"==typeof t?t(l):t;if(void 0===r)return;var a;a=n?n.raw?"string"==typeof r?r:JSON.stringify(r):n.serializer?n.serializer(r):JSON.stringify(r):JSON.stringify(r),localStorage.setItem(e,a),c(o(a))}catch(e){}}),[e,c]),d=r.useCallback((function(){try{localStorage.removeItem(e),c(void 0)}catch(e){}}),[e,c]);return[l,s,d]}},61:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tailRec=void 0,t.tailRec=function(e,t){for(var n=t(e);"Left"===n._tag;)n=t(n.left);return n.right}},62:function(e,t,n){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))},63:function(e,t,n){"use strict";var r="%[a-f0-9]{2}",a=new RegExp("("+r+")|([^%]+?)","gi"),i=new RegExp("("+r+")+","gi");function o(e,t){try{return[decodeURIComponent(e.join(""))]}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],o(n),o(r))}function u(e){try{return decodeURIComponent(e)}catch(r){for(var t=e.match(a)||[],n=1;n<t.length;n++)t=(e=o(t,n).join("")).match(a)||[];return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},n=i.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var r=u(n[0]);r!==n[0]&&(t[n[0]]=r)}n=i.exec(e)}t["%C2"]="�";for(var a=Object.keys(t),o=0;o<a.length;o++){var l=a[o];e=e.replace(new RegExp(l,"g"),t[l])}return e}(e)}}},64:function(e,t,n){"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]}},65:function(e,t,n){"use strict";e.exports=n(66)},66:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(31),i=(r=n(7))&&"object"==typeof r&&"default"in r?r.default:r;function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.matchRoutes=function e(t,n,r){return void 0===r&&(r=[]),t.some((function(t){var i=t.path?a.matchPath(n,t):r.length?r[r.length-1].match:a.Router.computeRootMatch(n);return i&&(r.push({route:t,match:i}),t.routes&&e(t.routes,n,r)),i})),r},t.renderRoutes=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),e?i.createElement(a.Switch,n,e.map((function(e,n){return i.createElement(a.Route,{key:e.key||n,path:e.path,exact:e.exact,strict:e.strict,render:function(n){return e.render?e.render(o({},n,{},t,{route:e})):i.createElement(e.component,o({},n,t,{route:e}))}})}))):null}},67:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(68),a=n(35);function i(e){return void 0!==e.message?e.message:"Invalid value "+("function"==typeof(t=e.value)?r.getFunctionName(t):"number"!=typeof t||isFinite(t)?JSON.stringify(t):isNaN(t)?"NaN":t>0?"Infinity":"-Infinity")+" supplied to "+e.context.map((function(e){return e.key+": "+e.type.name})).join("/");var t}function o(e){return e.map(i)}function u(){return["No errors!"]}t.failure=o,t.success=u,t.PathReporter={report:a.fold(o,u)}},68:function(e,t,n){"use strict";var r,a=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(35),u=o.either.map,l=o.either.chain,c=function(){function e(e,t,n,r){this.name=e,this.is=t,this.validate=n,this.encode=r,this.decode=this.decode.bind(this)}return e.prototype.pipe=function(n,r){var a=this;return void 0===r&&(r="pipe("+this.name+", "+n.name+")"),new e(r,n.is,(function(e,t){return l(a.validate(e,t),(function(e){return n.validate(e,t)}))}),this.encode===t.identity&&n.encode===t.identity?t.identity:function(e){return a.encode(n.encode(e))})},e.prototype.asDecoder=function(){return this},e.prototype.asEncoder=function(){return this},e.prototype.decode=function(e){return this.validate(e,[{key:"",type:this,actual:e}])},e}();t.Type=c,t.identity=function(e){return e},t.getFunctionName=function(e){return e.displayName||e.name||"<function"+e.length+">"},t.getContextEntry=function(e,t){return{key:e,type:t}},t.appendContext=function(e,t,n,r){for(var a=e.length,i=Array(a+1),o=0;o<a;o++)i[o]=e[o];return i[a]={key:t,type:n,actual:r},i},t.failures=o.left,t.failure=function(e,n,r){return t.failures([{value:e,context:n,message:r}])},t.success=o.right;var s=function(e,t){for(var n=t.length,r=0;r<n;r++)e.push(t[r])},d=function(e){return function(t){return t._tag===e}},f=d("AnyType"),p=d("InterfaceType"),m=d("PartialType"),g=function(e){function n(){var n=e.call(this,"null",(function(e){return null===e}),(function(e,r){return n.is(e)?t.success(e):t.failure(e,r)}),t.identity)||this;return n._tag="NullType",n}return a(n,e),n}(c);t.NullType=g,t.nullType=new g,t.null=t.nullType;var h=function(e){function n(){var n=e.call(this,"undefined",(function(e){return void 0===e}),(function(e,r){return n.is(e)?t.success(e):t.failure(e,r)}),t.identity)||this;return n._tag="UndefinedType",n}return a(n,e),n}(c);t.UndefinedType=h;var v=new h;t.undefined=v;var y=function(e){function n(){var n=e.call(this,"void",v.is,v.validate,t.identity)||this;return n._tag="VoidType",n}return a(n,e),n}(c);t.VoidType=y,t.voidType=new y,t.void=t.voidType;var b=function(e){function n(){var n=e.call(this,"unknown",(function(e){return!0}),t.success,t.identity)||this;return n._tag="UnknownType",n}return a(n,e),n}(c);t.UnknownType=b,t.unknown=new b;var E=function(e){function n(){var n=e.call(this,"string",(function(e){return"string"==typeof e}),(function(e,r){return n.is(e)?t.success(e):t.failure(e,r)}),t.identity)||this;return n._tag="StringType",n}return a(n,e),n}(c);t.StringType=E,t.string=new E;var x=function(e){function n(){var n=e.call(this,"number",(function(e){return"number"==typeof e}),(function(e,r){return n.is(e)?t.success(e):t.failure(e,r)}),t.identity)||this;return n._tag="NumberType",n}return a(n,e),n}(c);t.NumberType=x,t.number=new x;var T=function(e){function n(){var n=e.call(this,"boolean",(function(e){return"boolean"==typeof e}),(function(e,r){return n.is(e)?t.success(e):t.failure(e,r)}),t.identity)||this;return n._tag="BooleanType",n}return a(n,e),n}(c);t.BooleanType=T,t.boolean=new T;var O=function(e){function n(){var n=e.call(this,"UnknownArray",Array.isArray,(function(e,r){return n.is(e)?t.success(e):t.failure(e,r)}),t.identity)||this;return n._tag="AnyArrayType",n}return a(n,e),n}(c);t.AnyArrayType=O,t.UnknownArray=new O,t.Array=t.UnknownArray;var w=function(e){function n(){var n=e.call(this,"UnknownRecord",(function(e){return"[object Object]"===Object.prototype.toString.call(e)}),(function(e,r){return n.is(e)?t.success(e):t.failure(e,r)}),t.identity)||this;return n._tag="AnyDictionaryType",n}return a(n,e),n}(c);t.AnyDictionaryType=w,t.UnknownRecord=new w;var j=function(e){function n(){var n=e.call(this,"Function",(function(e){return"function"==typeof e}),(function(e,r){return n.is(e)?t.success(e):t.failure(e,r)}),t.identity)||this;return n._tag="FunctionType",n}return a(n,e),n}(c);t.FunctionType=j,t.Function=new j;var k=function(e){function t(t,n,r,a,i,o){var u=e.call(this,t,n,r,a)||this;return u.type=i,u.predicate=o,u._tag="RefinementType",u}return a(t,e),t}(c);t.RefinementType=k,t.brand=function(e,t,n){return X(e,t,n)},t.Int=t.brand(t.number,(function(e){return Number.isInteger(e)}),"Int");var S=function(e){function t(t,n,r,a,i){var o=e.call(this,t,n,r,a)||this;return o.value=i,o._tag="LiteralType",o}return a(t,e),t}(c);t.LiteralType=S,t.literal=function(e,n){void 0===n&&(n=JSON.stringify(e));var r=function(t){return t===e};return new S(n,r,(function(n,a){return r(n)?t.success(e):t.failure(n,a)}),t.identity,e)};var I=function(e){function t(t,n,r,a,i){var o=e.call(this,t,n,r,a)||this;return o.keys=i,o._tag="KeyofType",o}return a(t,e),t}(c);t.KeyofType=I;var F=Object.prototype.hasOwnProperty;t.keyof=function(e,n){void 0===n&&(n=Object.keys(e).map((function(e){return JSON.stringify(e)})).join(" | "));var r=function(n){return t.string.is(n)&&F.call(e,n)};return new I(n,r,(function(e,n){return r(e)?t.success(e):t.failure(e,n)}),t.identity,e)};var _=function(e){function t(t,n,r,a,i){var o=e.call(this,t,n,r,a)||this;return o.runDefinition=i,o._tag="RecursiveType",o}return a(t,e),t}(c);t.RecursiveType=_,Object.defineProperty(_.prototype,"type",{get:function(){return this.runDefinition()},enumerable:!0,configurable:!0}),t.recursion=function(e,t){var n,r=function(){return n||((n=t(a)).name=e),n},a=new _(e,(function(e){return r().is(e)}),(function(e,t){return r().validate(e,t)}),(function(e){return r().encode(e)}),r);return a};var L=function(e){function t(t,n,r,a,i){var o=e.call(this,t,n,r,a)||this;return o.type=i,o._tag="ArrayType",o}return a(t,e),t}(c);t.ArrayType=L,t.array=function(e,n){return void 0===n&&(n="Array<"+e.name+">"),new L(n,(function(n){return t.UnknownArray.is(n)&&n.every(e.is)}),(function(n,r){return l(t.UnknownArray.validate(n,r),(function(n){for(var a=n.length,i=n,u=[],l=0;l<a;l++){var c=n[l],d=e.validate(c,t.appendContext(r,String(l),e,c));if(o.isLeft(d))s(u,d.left);else{var f=d.right;f!==c&&(i===n&&(i=n.slice()),i[l]=f)}}return u.length>0?t.failures(u):t.success(i)}))}),e.encode===t.identity?t.identity:function(t){return t.map(e.encode)},e)};var M=function(e){function t(t,n,r,a,i){var o=e.call(this,t,n,r,a)||this;return o.props=i,o._tag="InterfaceType",o}return a(t,e),t}(c);t.InterfaceType=M;var P=function(e){return Object.keys(e).map((function(t){return t+": "+e[t].name})).join(", ")},R=function(e){for(var n=0;n<e.length;n++)if(e[n].encode!==t.identity)return!1;return!0},C=function(e){return"{ "+P(e)+" }"};t.type=function(e,n){void 0===n&&(n=C(e));var r=Object.keys(e),a=r.map((function(t){return e[t]})),u=r.length;return new M(n,(function(e){if(t.UnknownRecord.is(e)){for(var n=0;n<u;n++){var i=r[n];if(!F.call(e,i)||!a[n].is(e[i]))return!1}return!0}return!1}),(function(e,n){return l(t.UnknownRecord.validate(e,n),(function(e){for(var l=e,c=[],d=0;d<u;d++){var f=r[d];F.call(l,f)||(l===e&&(l=i({},e)),l[f]=l[f]);var p=l[f],m=a[d],g=m.validate(p,t.appendContext(n,f,m,p));if(o.isLeft(g))s(c,g.left);else{var h=g.right;h!==p&&(l===e&&(l=i({},e)),l[f]=h)}}return c.length>0?t.failures(c):t.success(l)}))}),R(a)?t.identity:function(e){for(var n=i({},e),o=0;o<u;o++){var l=r[o],c=a[o].encode;c!==t.identity&&(n[l]=c(e[l]))}return n},e)},t.interface=t.type;var N=function(e){function t(t,n,r,a,i){var o=e.call(this,t,n,r,a)||this;return o.props=i,o._tag="PartialType",o}return a(t,e),t}(c);t.PartialType=N;var U=function(e){return"Partial<"+e+">"};t.partial=function(e,n){void 0===n&&(n=U(C(e)));var r=Object.keys(e),a=r.map((function(t){return e[t]})),u=r.length;return new N(n,(function(n){if(t.UnknownRecord.is(n)){for(var a=0;a<u;a++){var i=r[a],o=n[i];if(void 0!==o&&!e[i].is(o))return!1}return!0}return!1}),(function(n,a){return l(t.UnknownRecord.validate(n,a),(function(n){for(var l=n,c=[],d=0;d<u;d++){var f=r[d],p=l[f],m=e[f],g=m.validate(p,t.appendContext(a,f,m,p));if(o.isLeft(g))void 0!==p&&s(c,g.left);else{var h=g.right;h!==p&&(l===n&&(l=i({},n)),l[f]=h)}}return c.length>0?t.failures(c):t.success(l)}))}),R(a)?t.identity:function(e){for(var t=i({},e),n=0;n<u;n++){var o=r[n],l=e[o];void 0!==l&&(t[o]=a[n].encode(l))}return t},e)};var A=function(e){function t(t,n,r,a,i,o){var u=e.call(this,t,n,r,a)||this;return u.domain=i,u.codomain=o,u._tag="DictionaryType",u}return a(t,e),t}(c);t.DictionaryType=A,t.record=function(e,n,r){return void 0===r&&(r="{ [K in "+e.name+"]: "+n.name+" }"),new A(r,(function(r){return t.UnknownRecord.is(r)?Object.keys(r).every((function(t){return e.is(t)&&n.is(r[t])})):f(n)&&Array.isArray(r)}),(function(r,a){if(t.UnknownRecord.is(r)){for(var i={},u=[],l=Object.keys(r),c=l.length,d=!1,p=0;p<c;p++){var m=l[p],g=r[m],h=e.validate(m,t.appendContext(a,m,e,m));if(o.isLeft(h))s(u,h.left);else{var v=h.right;d=d||v!==m,m=v;var y=n.validate(g,t.appendContext(a,m,n,g));if(o.isLeft(y))s(u,y.left);else{var b=y.right;d=d||b!==g,i[m]=b}}}return u.length>0?t.failures(u):t.success(d?i:r)}return f(n)&&Array.isArray(r)?t.success(r):t.failure(r,a)}),e.encode===t.identity&&n.encode===t.identity?t.identity:function(t){for(var r={},a=Object.keys(t),i=a.length,o=0;o<i;o++){var u=a[o];r[String(e.encode(u))]=n.encode(t[u])}return r},e,n)};var D=function(e){function t(t,n,r,a,i){var o=e.call(this,t,n,r,a)||this;return o.types=i,o._tag="UnionType",o}return a(t,e),t}(c);t.UnionType=D;var V=function(e){return"("+e.map((function(e){return e.name})).join(" | ")+")"};t.union=function(e,n){void 0===n&&(n=V(e));var r=oe(e);if(void 0!==r&&e.length>0){var a=r[0],i=r[1],u=i.length,c=function(e){for(var t=0;t<u;t++)if(-1!==i[t].indexOf(e))return t};return new $(n,(function(n){if(t.UnknownRecord.is(n)){var r=c(n[a]);return void 0!==r&&e[r].is(n)}return!1}),(function(n,r){return l(t.UnknownRecord.validate(n,r),(function(i){var o=c(i[a]);if(void 0===o)return t.failure(n,r);var u=e[o];return u.validate(i,t.appendContext(r,String(o),u,i))}))}),R(e)?t.identity:function(t){var r=c(t[a]);if(void 0===r)throw new Error("no codec found to encode value in union codec "+n);return e[r].encode(t)},e,a)}return new D(n,(function(t){return e.some((function(e){return e.is(t)}))}),(function(n,r){for(var a=[],i=0;i<e.length;i++){var u=e[i],l=u.validate(n,t.appendContext(r,String(i),u,n));if(!o.isLeft(l))return t.success(l.right);s(a,l.left)}return t.failures(a)}),R(e)?t.identity:function(t){for(var r=0,a=e;r<a.length;r++){var i=a[r];if(i.is(t))return i.encode(t)}throw new Error("no codec found to encode value in union type "+n)},e)};var B=function(e){function t(t,n,r,a,i){var o=e.call(this,t,n,r,a)||this;return o.types=i,o._tag="IntersectionType",o}return a(t,e),t}(c);t.IntersectionType=B;var z=function(e,n){for(var r=!0,a=!0,i=0,o=n;i<o.length;i++)(s=o[i])!==e&&(r=!1),t.UnknownRecord.is(s)&&(a=!1);if(r)return e;if(a)return n[n.length-1];for(var u={},l=0,c=n;l<c.length;l++){var s=c[l];for(var d in s)s[d]===e[d]&&u.hasOwnProperty(d)||(u[d]=s[d])}return u};t.intersection=function(e,n){void 0===n&&(n="("+e.map((function(e){return e.name})).join(" & ")+")");var r=e.length;return new B(n,(function(t){return e.every((function(e){return e.is(t)}))}),0===e.length?t.success:function(n,a){for(var i=[],u=[],l=0;l<r;l++){var c=e[l],d=c.validate(n,t.appendContext(a,String(l),c,n));o.isLeft(d)?s(u,d.left):i.push(d.right)}return u.length>0?t.failures(u):t.success(z(n,i))},0===e.length?t.identity:function(t){return z(t,e.map((function(e){return e.encode(t)})))},e)};var W=function(e){function t(t,n,r,a,i){var o=e.call(this,t,n,r,a)||this;return o.types=i,o._tag="TupleType",o}return a(t,e),t}(c);t.TupleType=W,t.tuple=function(e,n){void 0===n&&(n="["+e.map((function(e){return e.name})).join(", ")+"]");var r=e.length;return new W(n,(function(n){return t.UnknownArray.is(n)&&n.length===r&&e.every((function(e,t){return e.is(n[t])}))}),(function(n,a){return l(t.UnknownArray.validate(n,a),(function(n){for(var i=n.length>r?n.slice(0,r):n,u=[],l=0;l<r;l++){var c=n[l],d=e[l],f=d.validate(c,t.appendContext(a,String(l),d,c));if(o.isLeft(f))s(u,f.left);else{var p=f.right;p!==c&&(i===n&&(i=n.slice()),i[l]=p)}}return u.length>0?t.failures(u):t.success(i)}))}),R(e)?t.identity:function(t){return e.map((function(e,n){return e.encode(t[n])}))},e)};var q=function(e){function t(t,n,r,a,i){var o=e.call(this,t,n,r,a)||this;return o.type=i,o._tag="ReadonlyType",o}return a(t,e),t}(c);t.ReadonlyType=q,t.readonly=function(e,n){return void 0===n&&(n="Readonly<"+e.name+">"),new q(n,e.is,(function(t,n){return u(e.validate(t,n),(function(e){return e}))}),e.encode===t.identity?t.identity:e.encode,e)};var G=function(e){function t(t,n,r,a,i){var o=e.call(this,t,n,r,a)||this;return o.type=i,o._tag="ReadonlyArrayType",o}return a(t,e),t}(c);t.ReadonlyArrayType=G,t.readonlyArray=function(e,n){void 0===n&&(n="ReadonlyArray<"+e.name+">");var r=t.array(e);return new G(n,r.is,(function(e,t){return u(r.validate(e,t),(function(e){return e}))}),r.encode,e)},t.strict=function(e,n){return t.exact(t.type(e),n)};var $=function(e){function t(t,n,r,a,i,o){var u=e.call(this,t,n,r,a,i)||this;return u.tag=o,u}return a(t,e),t}(D);t.TaggedUnionType=$,t.taggedUnion=function(e,n,r){void 0===r&&(r=V(n));var a=t.union(n,r);return a instanceof $?a:(console.warn("[io-ts] Cannot build a tagged union for "+r+", returning a de-optimized union"),new $(r,a.is,a.validate,a.encode,n,e))};var Q=function(e){function t(t,n,r,a,i){var o=e.call(this,t,n,r,a)||this;return o.type=i,o._tag="ExactType",o}return a(t,e),t}(c);t.ExactType=Q;var H=function(e){switch(e._tag){case"RefinementType":case"ReadonlyType":return H(e.type);case"InterfaceType":case"StrictType":case"PartialType":return e.props;case"IntersectionType":return e.types.reduce((function(e,t){return Object.assign(e,H(t))}),{})}},Y=function(e,t){for(var n=Object.getOwnPropertyNames(e),r=!1,a={},i=0;i<n.length;i++){var o=n[i];F.call(t,o)?a[o]=e[o]:r=!0}return r?a:e};t.exact=function(e,n){void 0===n&&(n=function(e){return p(e)?"{| "+P(e.props)+" |}":m(e)?U("{| "+P(e.props)+" |}"):"Exact<"+e.name+">"}(e));var r=H(e);return new Q(n,e.is,(function(n,a){return l(t.UnknownRecord.validate(n,a),(function(){return u(e.validate(n,a),(function(e){return Y(e,r)}))}))}),(function(t){return e.encode(Y(t,r))}),e)},t.getValidationError=function(e,t){return{value:e,context:t}},t.getDefaultContext=function(e){return[{key:"",type:e}]};var J=function(e){function n(){var n=e.call(this,"never",(function(e){return!1}),(function(e,n){return t.failure(e,n)}),(function(){throw new Error("cannot encode never")}))||this;return n._tag="NeverType",n}return a(n,e),n}(c);t.NeverType=J,t.never=new J;var K=function(e){function n(){var n=e.call(this,"any",(function(e){return!0}),t.success,t.identity)||this;return n._tag="AnyType",n}return a(n,e),n}(c);t.AnyType=K,t.any=new K,t.Dictionary=t.UnknownRecord;var Z=function(e){function n(){var n=e.call(this,"object",(function(e){return null!==e&&"object"==typeof e}),(function(e,r){return n.is(e)?t.success(e):t.failure(e,r)}),t.identity)||this;return n._tag="ObjectType",n}return a(n,e),n}(c);function X(e,n,r){return void 0===r&&(r="("+e.name+" | "+t.getFunctionName(n)+")"),new k(r,(function(t){return e.is(t)&&n(t)}),(function(r,a){return l(e.validate(r,a),(function(e){return n(e)?t.success(e):t.failure(e,a)}))}),e.encode,e,n)}t.ObjectType=Z,t.object=new Z,t.refinement=X,t.Integer=X(t.number,Number.isInteger,"Integer"),t.dictionary=t.record;var ee=function(e){function t(t,n,r,a,i){var o=e.call(this,t,n,r,a)||this;return o.props=i,o._tag="StrictType",o}return a(t,e),t}(c);t.StrictType=ee,t.clean=function(e){return e},t.alias=function(e){return function(){return e}};var te=function(e){return e.length>0};function ne(e,t){for(var n=[],r=0,a=e;r<a.length;r++){var i=a[r];-1!==t.indexOf(i)&&n.push(i)}return n}function re(e){return"LiteralType"===e._tag}t.emptyTags={};var ae=[];function ie(e){if(-1!==ae.indexOf(e))return t.emptyTags;if(function(e){return"InterfaceType"===e._tag}(e)||function(e){return"StrictType"===e._tag}(e)){var n=t.emptyTags;for(var r in e.props){var a=e.props[r];re(a)&&(n===t.emptyTags&&(n={}),n[r]=[a.value])}return n}if(function(e){return"ExactType"===e._tag}(e)||function(e){return"RefinementType"===e._tag}(e))return ie(e.type);if(function(e){return"IntersectionType"===e._tag}(e))return e.types.reduce((function(e,n){return function(e,n){if(e===t.emptyTags)return n;if(n===t.emptyTags)return e;var r=Object.assign({},e);for(var a in n)if(e.hasOwnProperty(a)){var i=ne(e[a],n[a]);if(!te(i)){r=t.emptyTags;break}r[a]=i}else r[a]=n[a];return r}(e,ie(n))}),t.emptyTags);if(function(e){return"UnionType"===e._tag}(e))return e.types.slice(1).reduce((function(e,n){return function(e,n){if(e===t.emptyTags||n===t.emptyTags)return t.emptyTags;var r=t.emptyTags;for(var a in e)n.hasOwnProperty(a)&&0===ne(e[a],n[a]).length&&(r===t.emptyTags&&(r={}),r[a]=e[a].concat(n[a]));return r}(e,ie(n))}),ie(e.types[0]));if(function(e){return"RecursiveType"===e._tag}(e)){ae.push(e);var i=ie(e.type);return ae.pop(),i}return t.emptyTags}function oe(e){for(var t=ie(e[0]),n=Object.keys(t),r=e.length,a=function(n){for(var a=t[n].slice(),i=[t[n]],o=1;o<r;o++){var u=ie(e[o])[n];if(void 0===u)return"continue-keys";if(u.some((function(e){return-1!==a.indexOf(e)})))return"continue-keys";a.push.apply(a,u),i.push(u)}return{value:[n,i]}},i=0,o=n;i<o.length;i++){var u=a(o[i]);if("object"==typeof u)return u.value}}t.getTags=ie,t.getIndex=oe},69:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(19),a=n(53),i=r.__importDefault(n(71));t.default=function(e,t){i.default(e,t,a.isDeepEqual)}},70:function(e,t,n){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,a,i;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(a=r;0!=a--;)if(!e(t[a],n[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(i=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(a=r;0!=a--;)if(!Object.prototype.hasOwnProperty.call(n,i[a]))return!1;for(a=r;0!=a--;){var o=i[a];if(!("_owner"===o&&t.$$typeof||e(t[o],n[o])))return!1}return!0}return t!=t&&n!=n}},71:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7);t.default=function(e,t,n){var a=r.useRef(void 0);a.current&&n(t,a.current)||(a.current=t),r.useEffect(e,a.current)}},72:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(19),a=n(7),i=r.__importDefault(n(73));t.default=function(e,t){var n=a.useState(t),r=n[0],o=n[1];return i.default((function(){var t=e.subscribe(o);return function(){return t.unsubscribe()}}),[e]),r}},73:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),a="undefined"!=typeof window?r.useLayoutEffect:r.useEffect;t.default=a},74:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(19),a=n(7),i=r.__importDefault(n(75));t.default=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=[]);var r=i.default(e,t),o=r[0],u=r[1],l=r[2];return a.useEffect(l,n),[o,u]}},75:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7);t.default=function(e,t){void 0===t&&(t=0);var n=r.useRef(!1),a=r.useRef(),i=r.useRef(e),o=r.useCallback((function(){return n.current}),[]),u=r.useCallback((function(){n.current=!1,a.current&&clearTimeout(a.current),a.current=setTimeout((function(){n.current=!0,i.current()}),t)}),[t]),l=r.useCallback((function(){n.current=null,a.current&&clearTimeout(a.current)}),[]);return r.useEffect((function(){i.current=e}),[e]),r.useEffect((function(){return u(),l}),[t]),[o,l,u]}},77:function(e,t,n){"use strict";n.r(t),n.d(t,"uxRoutes",(function(){return Xn})),n.d(t,"uxRouter",(function(){return tr})),n.d(t,"UXAppRoot",(function(){return nr})),n.d(t,"renderApp",(function(){return rr}));var r=n(25),a=n(8),i=n(7),o=n.n(i),u=n(30),l=n.n(u),c=n(13),s=n(15),d=n.n(s),f=n(10),p=n(9),m=n(35);function g(...e){return{...new f.Type("merge",(t=>e.every((e=>e.is(t)))),((t,n)=>{const r=[],a=[];e.map(((e,r)=>e.validate(t,n.concat({key:String(r),type:e,actual:t})))).forEach((e=>{Object(m.isLeft)(e)?r.push(...e.left):a.push(e.right)}));const i=Object(p.merge)({},...a);return r.length>0?f.failures(r):f.success(i)}),(t=>e.reduce(((e,t)=>t.encode(e)),t))),_tag:"MergeType",types:e}}const h=["StringType","NumberType","BooleanType","ArrayType","DictionaryType","InterfaceType","PartialType","UnionType","IntersectionType","MergeType"],v=e=>"_tag"in e&&h.includes(e._tag);function y(e){if(!v(e))return e;switch(e._tag){case"ArrayType":return f.array(y(e.type));case"DictionaryType":return f.dictionary(e.domain,y(e.codomain));case"InterfaceType":return f.exact(f.interface(Object(p.mapValues)(e.props,y)));case"PartialType":return f.exact(f.partial(Object(p.mapValues)(e.props,y)));case"IntersectionType":return f.intersection(e.types.map(y));case"UnionType":return f.union(e.types.map(y));case"MergeType":return g(y(e.types[0]),y(e.types[1]));default:return e}}const b=e=>""===e;f.brand(f.string,(e=>{return!b(t=e)&&!t.includes(" ")&&!t.split(",").some(b);var t}),"IndexPattern"),new f.Type("JSON",f.any.is,((e,t)=>m.either.chain(f.string.validate(e,t),(n=>{try{return f.success(JSON.parse(n))}catch(n){return f.failure(e,t)}}))),(e=>JSON.stringify(e))),new f.Type("isoToEpochRt",f.number.is,((e,t)=>m.either.chain(f.string.validate(e,t),(n=>{const r=new Date(n).getTime();return isNaN(r)?f.failure(e,t):f.success(r)}))),(e=>new Date(e).toISOString())),new f.Type("ToNumber",f.number.is,((e,t)=>{const n=Number(e);return isNaN(n)?f.failure(e,t):f.success(n)}),f.identity),new f.Type("ToBoolean",f.boolean.is,(e=>{let t;return t="string"==typeof e?"true"===e:!!e,f.success(t)}),f.identity),f.brand(f.string,(e=>e.length>0),"NonEmptyString");var E=n(44),x=n(17),T=n.n(x);f.brand(f.string,(e=>T()(e,!0).isValid()),"Date");var O=n(18),w=n.n(O);new f.Type("datemath",f.string.is,((e,t)=>Object(E.pipe)(f.string.validate(e,t),Object(m.chain)((e=>(e=>{const t=w.a.parse(e);return!(!t||!t.isValid())})(e)?f.success(e):f.failure(e,t))))),String),n(45);const j=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3,9}Z$/,k=new f.Type("DateFromStringOrNumber",(e=>"string"==typeof e),((e,t)=>"string"==typeof e?j.test(e)?f.success(e):f.failure(e,t):Object(E.pipe)(f.number.validate(e,t),Object(m.chain)((e=>{const n=T()(e);return n.isValid()?f.success(n.toISOString()):f.failure(e,t)})))),String),S=f.type({time:k,tiebreaker:f.number});f.intersection([S,f.partial({gid:f.string,fromAutoReload:f.boolean})]);var I=n(67),F=n(52),_=n.n(F),L=n(65);function M(e){return e.replace(/(?:{([^\/]+)})/g,":$1")}class NotFoundRouteException extends Error{constructor(e){super(e)}}var P=n(11);const R=Object(i.createContext)(void 0),C=({router:e,children:t})=>Object(P.jsx)(R.Provider,{value:e},t);var N=n(43),U=n.n(N);n(69);var A=n(26);const D=({children:e,...t})=>Object(P.jsx)(c.Router,t,Object(P.jsx)(A.CompatRouter,null,e));function V({children:e,router:t,history:n}){return Object(P.jsx)(D,{history:n},Object(P.jsx)(C,{router:t},e))}var B=n(0),z=n(1),W=n(20),q=n(72),G=n.n(q);const $=o.a.createContext(null),Q=({children:e,...t})=>{const{navigateToUrl:n,currentAppId:r}=t;return Object(P.jsx)($.Provider,{value:{navigateToUrl:n,currentAppId:r}},e)},H=({children:e,coreStart:t})=>{const{navigateToUrl:n,currentAppId$:r}=t.application,a=G()(r,void 0);return Object(P.jsx)($.Provider,{value:{navigateToUrl:n,currentAppId:a}},e)};n(32);const Y={name:"h42ud6",styles:"display:inherit;height:inherit;width:inherit;flex:1;flex-flow:column nowrap"},J=({children:e,navigateToUrl:t,currentAppId:n,...r})=>{const a=Object(i.useRef)(null),o=Object(i.useCallback)((e=>(({event:e,container:t,navigateToUrl:n,currentAppId:r})=>{if(!t||!r)return;const a=((e,t)=>{let n=e;do{var r,a;if("a"===(null===(r=n)||void 0===r?void 0:r.tagName.toLowerCase()))return n;const e=null===(a=n)||void 0===a?void 0:a.parentElement;if(!e||e===document.body||e===t)break;n=e}while(parent||parent!==document.body||parent!==t)})(e.target,t);if(!a)return;const i=a.href,o=""===a.target||"_self"===a.target,u=0===e.button;i&&o&&u&&!e.defaultPrevented&&!(e=>e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)(e)&&(e.preventDefault(),n(a.href))})({event:e,currentAppId:n,navigateToUrl:t,container:a.current})),[n,t]);return Object(P.jsx)("div",U()({onClick:o,ref:a,css:Y,"data-test-subj":"kbnRedirectAppLink"},r),e)},K=({children:e,...t})=>Object(P.jsx)(J,U()({},function(){const e=Object(i.useContext)($);if(!e)throw new Error("RedirectAppLinksContext is missing.  Ensure your component or React root is wrapped with RedirectAppLinksProvider.");return e}(),t),e),Z=({children:e,...t})=>{if(void 0!==t.coreStart){const{coreStart:n,...r}=t,a=Object(P.jsx)(K,r,e);return Object(P.jsx)(H,{coreStart:n},a)}const{navigateToUrl:n,currentAppId:r,...a}=t,i=Object(P.jsx)(K,a,e);return Object(P.jsx)(Q,{currentAppId:r,navigateToUrl:n},i)};var X=n(14),ee=n(12),te=n(41);const ne=e=>(t,n)=>Object(te.a)(t,{...n,signal:e});function re(e,t,n={}){const{notifications:r}=Object(W.useKibana)(),{preservePreviousData:a=!0,showToastOnError:u=!0}=n,[l,c]=Object(i.useState)({data:void 0,status:ee.FETCH_STATUS.NOT_INITIATED}),[s,d]=Object(i.useState)(0),{addInspectorRequest:f}=Object(ee.useInspectorContext)();return Object(i.useEffect)((()=>{let t=new AbortController;return async function(){t.abort(),t=new AbortController;const n=t.signal,i=e(ne(n));if(i){c((e=>({data:a?e.data:void 0,status:ee.FETCH_STATUS.LOADING,error:void 0})));try{const e=await i;n.aborted||c({data:e,status:ee.FETCH_STATUS.SUCCESS,error:void 0})}catch(e){const t=e;if(!n.aborted){const n="response"in t?function(e){var t,n,r,a,i;const u=null!==(t=null===(n=e.body)||void 0===n?void 0:n.message)&&void 0!==t?t:null===(r=e.response)||void 0===r?void 0:r.statusText;return o.a.createElement(o.a.Fragment,null,u," (",null===(a=e.response)||void 0===a?void 0:a.status,")",o.a.createElement("h5",null,B.i18n.translate("xpack.ux.fetcher.error.url",{defaultMessage:"URL"})),null===(i=e.response)||void 0===i?void 0:i.url)}(t):t.message;u&&r.toasts.danger({title:B.i18n.translate("xpack.ux.fetcher.error.title",{defaultMessage:"Error while fetching resource"}),body:o.a.createElement("div",null,o.a.createElement("h5",null,B.i18n.translate("xpack.ux.fetcher.error.status",{defaultMessage:"Error"})),n)}),c({data:void 0,status:ee.FETCH_STATUS.FAILURE,error:e})}}}}(),()=>{t.abort()}}),[s,a,u,...t]),Object(i.useEffect)((()=>{var e;l.error?f({...l,data:null===(e=l.error.body)||void 0===e?void 0:e.attributes}):f(l)}),[f,l]),Object(i.useMemo)((()=>({...l,refetch:()=>{d((e=>e+1))}})),[l])}const ae={sharedData:{totalPageViews:0},setSharedData:e=>{throw new Error("setSharedData was not initialized, set it when you invoke the context")}},ie=Object(i.createContext)(ae);function oe({children:e}){const[t,n]=Object(i.useState)({totalPageViews:0}),[r,a]=Object(i.useState)(),u=o.a.useCallback((e=>{n(e)}),[]),{services:{dataViews:l}}=Object(W.useKibana)(),{dataViewTitle:c}=function(){const{data:e,status:t}=re((e=>e("GET /internal/apm/data_view/index_pattern",{isCachable:!0})),[]);return{dataViewTitle:null==e?void 0:e.apmDataViewIndexPattern,status:t}}(),{data:s}=re((async()=>{if(c)return l.create({title:c,timeFieldName:"@timestamp"})}),[c,l]);Object(i.useEffect)((()=>{a(s)}),[s]);const d=Object(i.useMemo)((()=>({sharedData:t,setSharedData:u,dataView:r})),[t,u,r]);return o.a.createElement(ie.Provider,{value:d,children:e})}var ue=n(34),le=n(37),ce=n(38);function se(e,t,n){const r={uiFilters:n||{}},a=Object(ce.c)({setup:r,start:e,end:t});return Object(le.a)(a,{body:{size:0,query:{bool:a.body.query.bool},aggs:{services:{terms:{field:ue.l,size:1e3}}}}})}var de=n(40);function fe(e,...t){return Object(p.pick)(e,t)}function pe(e,t={}){if(e){const n=w.a.parse(e,t);if(n&&n.isValid())return n.toDate()}}function me(e){return e.startsWith("now")?pe(e.replace(/\/([smhdw])$/,"")):pe(e)}function ge({state:e={},rangeFrom:t,rangeTo:n}){if(e.rangeFrom===t&&e.rangeTo===n)return{start:e.start,end:e.end,exactStart:e.exactStart,exactEnd:e.exactEnd};const r=pe(t),a=pe(n,{roundUp:!0}),i=t?me(t):void 0,o=n?me(n):void 0;return r&&a?{start:T()(r).startOf("minute").toISOString(),end:a.toISOString(),exactStart:null==i?void 0:i.toISOString(),exactEnd:null==o?void 0:o.toISOString()}:{start:e.start,end:e.end,exactStart:e.exactStart,exactEnd:e.exactEnd}}function he(e){if(void 0!==e)return parseInt(e,10)}function ve(e){if(""!==e&&"null"!==e&&"undefined"!==e)return e}function ye(e){return Object(p.pickBy)(e,(e=>void 0!==e))}var be=n(36);function Ee(e,t){const n=Object(X.toQuery)(e.search),{page:r,pageSize:a,sortDirection:i,sortField:o,refreshPaused:u,refreshInterval:l,rangeFrom:c,rangeTo:s,environment:d,searchTerm:f,percentile:p}=n,m=fe(n,...de.b);return ye({...ge({state:t,rangeFrom:c,rangeTo:s}),rangeFrom:c,rangeTo:s,refreshPaused:u?(g=u,"true"===g):void 0,refreshInterval:l?he(l):void 0,environment:ve(d)||be.a.value,sortDirection:i,sortField:o,page:he(r)||0,pageSize:a?he(a):void 0,searchTerm:ve(f),percentile:he(p),...m});var g}const xe=Object(i.createContext)({rangeId:0,refreshTimeRange:e=>{},uxUiFilters:{},urlParams:{}}),Te=Object(c.withRouter)((({location:e,children:t})=>{const n=Object(i.useRef)(Ee(e,{})),{start:r,end:a,rangeFrom:u,rangeTo:l,exactStart:c,exactEnd:s}=n.current,[d,f]=Object(i.useState)(0),m=Object(i.useMemo)((()=>Ee(e,{start:r,end:a,rangeFrom:u,rangeTo:l,exactStart:c,exactEnd:s})),[e,r,a,u,l,c,s]);n.current=m;const g=Object(i.useCallback)((e=>{n.current={...n.current,...ge({state:{},...e})},f((e=>e+1))}),[]),h=function(e){const t=Object(p.mapValues)(fe(e,...de.b),(e=>e?e.split(","):[]));return function(e){const t=Object(i.useRef)(e);return Object(p.isEqual)(t.current,e)||(t.current=e),t.current}({environment:e.environment,...t})}(m),v=Object(i.useMemo)((()=>({rangeId:d,refreshTimeRange:g,urlParams:m,uxUiFilters:h})),[d,g,h,m]);return o.a.createElement(xe.Provider,{children:t,value:v})}));function Oe(){const e=Object(i.useContext)(xe);return Object(i.useMemo)((()=>({...e,urlParams:Object(p.omit)(e.urlParams,["environment","kuery"])})),[e])}function we({loading:e,serviceNames:t}){const n=Object(c.useHistory)(),{urlParams:{serviceName:r}}=Oe(),u=(null!=t?t:[]).map((e=>({text:e,value:e}))),l=Object(i.useCallback)(((e,t)=>{const r={...n.location,search:Object(X.fromQuery)({...Object(X.toQuery)(n.location.search),serviceName:e})};t?n.replace(r):n.push(r)}),[n]);return Object(i.useEffect)((()=>{t&&(null==t?void 0:t.length)>0&&(r||l(t[0],!0),r&&!t.includes(r)&&l(t[0],!0)),r&&0===(null==t?void 0:t.length)&&!e&&l("")}),[t,r,l,e]),o.a.createElement(a.EuiSelect,{"data-test-subj":"uxServiceNameFilterSelect",fullWidth:!0,prepend:B.i18n.translate("xpack.ux.localFilters.titles.webApplication",{defaultMessage:"Web application"}),isLoading:e,"data-cy":"serviceNameFilter",options:u,value:r,onChange:e=>{l(e.target.value)}})}var je=n(54),ke=n.n(je);function Se(){const{dataView:e}=Object(i.useContext)(ie),[t,n]=ke()("uxAppDataViewTitle",""),r=null==e?void 0:e.title;return Object(i.useEffect)((()=>{n(r)}),[n,r]),{dataViewTitle:t,dataView:e}}function Ie(e){var t,n;return"string"==typeof e&&null!==(t=null===(n=w.a.parse(e))||void 0===n?void 0:n.valueOf())&&void 0!==t?t:0}function Fe(){var e,t,n;const{rangeId:r,urlParams:{start:a,end:i}}=Oe(),{dataViewTitle:u}=Se(),{data:l,loading:c}=Object(ee.useEsSearch)({index:u,...se(Ie(a),Ie(i))},[a,i,r,u],{name:"UxApplicationServices"}),s=null!==(e=null==l||null===(t=l.aggregations)||void 0===t||null===(n=t.services)||void 0===n?void 0:n.buckets.map((({key:e})=>e)))&&void 0!==e?e:[];return o.a.createElement(we,{loading:null==c||c,serviceNames:s})}const _e={dataMissing:B.i18n.translate("xpack.ux.dashboard.dataMissing",{defaultMessage:"N/A"}),totalPageLoad:B.i18n.translate("xpack.ux.dashboard.totalPageLoad",{defaultMessage:"Total"}),backEnd:B.i18n.translate("xpack.ux.dashboard.backend",{defaultMessage:"Backend"}),frontEnd:B.i18n.translate("xpack.ux.dashboard.frontend",{defaultMessage:"Frontend"}),pageViews:B.i18n.translate("xpack.ux.dashboard.pageViews",{defaultMessage:"Total page views"}),percPageLoaded:B.i18n.translate("xpack.ux.dashboard.pagesLoaded.label",{defaultMessage:"Pages loaded"}),pageLoadTime:B.i18n.translate("xpack.ux.dashboard.pageLoadTime.label",{defaultMessage:"Page load time (seconds)"}),pageLoadTimes:B.i18n.translate("xpack.ux.dashboard.pageLoadTimes.label",{defaultMessage:"Page load times"}),pageLoadDuration:B.i18n.translate("xpack.ux.dashboard.pageLoadDuration.label",{defaultMessage:"Page load duration"}),pageLoad:B.i18n.translate("xpack.ux.dashboard.pageLoad.label",{defaultMessage:"Page load"}),pageLoadDistribution:B.i18n.translate("xpack.ux.dashboard.pageLoadDistribution.label",{defaultMessage:"Page load distribution"}),jsErrors:B.i18n.translate("xpack.ux.dashboard.impactfulMetrics.jsErrors",{defaultMessage:"JavaScript errors"}),highTrafficPages:B.i18n.translate("xpack.ux.dashboard.impactfulMetrics.highTrafficPages",{defaultMessage:"High traffic pages"}),resetZoom:B.i18n.translate("xpack.ux.dashboard.resetZoom.label",{defaultMessage:"Reset zoom"}),overall:B.i18n.translate("xpack.ux.dashboard.overall.label",{defaultMessage:"Overall"}),selectBreakdown:B.i18n.translate("xpack.ux.filterGroup.selectBreakdown",{defaultMessage:"Select breakdown"}),breakdown:B.i18n.translate("xpack.ux.filterGroup.breakdown",{defaultMessage:"Breakdown"}),seconds:B.i18n.translate("xpack.ux.filterGroup.seconds",{defaultMessage:"seconds"}),coreWebVitals:B.i18n.translate("xpack.ux.filterGroup.coreWebVitals",{defaultMessage:"Core web vitals"}),browser:B.i18n.translate("xpack.ux.visitorBreakdown.browser",{defaultMessage:"Browser"}),operatingSystem:B.i18n.translate("xpack.ux.visitorBreakdown.operatingSystem",{defaultMessage:"Operating system"}),metrics:B.i18n.translate("xpack.ux.metrics",{defaultMessage:"Metrics"}),median:B.i18n.translate("xpack.ux.median",{defaultMessage:"median"}),avgPageLoadDuration:B.i18n.translate("xpack.ux.visitorBreakdownMap.avgPageLoadDuration",{defaultMessage:"Average page load duration"}),pageLoadDurationByRegion:B.i18n.translate("xpack.ux.visitorBreakdownMap.pageLoadDurationByRegion",{defaultMessage:"Page load duration by region (avg.)"}),filterByUrl:B.i18n.translate("xpack.ux.filters.filterByUrl",{defaultMessage:"Filter by URL"}),getSearchResultsLabel:e=>B.i18n.translate("xpack.ux.filters.searchResults",{defaultMessage:"{total} Search results",values:{total:e}}),topPages:B.i18n.translate("xpack.ux.filters.topPages",{defaultMessage:"Top pages"}),select:B.i18n.translate("xpack.ux.filters.select",{defaultMessage:"Select"}),url:B.i18n.translate("xpack.ux.filters.url",{defaultMessage:"Url"}),loadingResults:B.i18n.translate("xpack.ux.filters.url.loadingResults",{defaultMessage:"Loading results"}),noResults:B.i18n.translate("xpack.ux.filters.url.noResults",{defaultMessage:"No results available"}),totalErrors:B.i18n.translate("xpack.ux.jsErrors.totalErrors",{defaultMessage:"Total errors"}),errorRate:B.i18n.translate("xpack.ux.jsErrors.errorRate",{defaultMessage:"Error rate"}),errorMessage:B.i18n.translate("xpack.ux.jsErrors.errorMessage",{defaultMessage:"Error message"}),impactedPageLoads:B.i18n.translate("xpack.ux.jsErrors.impactedPageLoads",{defaultMessage:"Impacted page loads"}),percentile:B.i18n.translate("xpack.ux.percentile.label",{defaultMessage:"Percentile"}),percentile50thMedian:B.i18n.translate("xpack.ux.percentile.50thMedian",{defaultMessage:"50th (Median)"}),percentile75th:B.i18n.translate("xpack.ux.percentile.75th",{defaultMessage:"75th"}),percentile90th:B.i18n.translate("xpack.ux.percentile.90th",{defaultMessage:"90th"}),percentile95th:B.i18n.translate("xpack.ux.percentile.95th",{defaultMessage:"95th"}),percentile99th:B.i18n.translate("xpack.ux.percentile.99th",{defaultMessage:"99th"}),noData:B.i18n.translate("xpack.ux.visitorBreakdown.noData",{defaultMessage:"No data."}),totalPageLoadTooltip:B.i18n.translate("xpack.ux.dashboard.tooltips.totalPageLoad",{defaultMessage:"Total represents the full page load duration"}),frontEndTooltip:B.i18n.translate("xpack.ux.dashboard.tooltips.frontEnd",{defaultMessage:"Frontend time represents the total page load duration minus the backend time"}),backEndTooltip:B.i18n.translate("xpack.ux.dashboard.tooltips.backEnd",{defaultMessage:"Backend time represents time to first byte (TTFB), which is when the first response packet is received after the request has been made"})},Le=B.i18n.translate("xpack.ux.visitorBreakdown",{defaultMessage:"Visitor breakdown"}),Me=50;function Pe(){const e=Object(c.useHistory)(),{urlParams:{percentile:t}}=Oe(),n=Object(i.useCallback)(((t,n)=>{const r={...e.location,search:Object(X.fromQuery)({...Object(X.toQuery)(e.location.search),percentile:t})};n?e.replace(r):e.push(r)}),[e]);Object(i.useEffect)((()=>{t||n(Me,!0)}));const r=[{value:"50",text:_e.percentile50thMedian,"data-test-subj":"p50Percentile"},{value:"75",text:_e.percentile75th,"data-test-subj":"p75Percentile"},{value:"90",text:_e.percentile90th,"data-test-subj":"p90Percentile"},{value:"95",text:_e.percentile95th,"data-test-subj":"p95Percentile"},{value:"99",text:_e.percentile99th,"data-test-subj":"p99Percentile"}];return o.a.createElement(a.EuiSelect,{fullWidth:!0,prepend:_e.percentile,"data-test-subj":"uxPercentileSelect",options:r,onChange:e=>{return t=e.target.value,void n(Number(t));var t}})}function Re(){return{isXSmall:Object(a.useIsWithinMaxBreakpoint)("xs"),isSmall:Object(a.useIsWithinMaxBreakpoint)("s"),isMedium:Object(a.useIsWithinMaxBreakpoint)("m"),isLarge:Object(a.useIsWithinMaxBreakpoint)("l"),isXl:Object(a.useIsWithinMaxBreakpoint)("xl"),isXXL:Object(a.useIsWithinMaxBreakpoint)("xxl"),isXXXL:Object(a.useIsWithinMinBreakpoint)("xxxl")}}var Ce=n(51);function Ne(){return Object(i.useContext)(xe)}var Ue=n(22);function Ae(){return Object(W.useKibana)().services}var De=n(50);function Ve(){const{urlParams:{rangeFrom:e,rangeTo:t,refreshPaused:n,refreshInterval:r},refreshTimeRange:a}=Ne(),{redirect:i,isDateRangeSet:u}=function(){const e=Object(c.useHistory)(),t=Object(c.useLocation)(),n=_.a.parse(t.search),{data:r,uiSettings:a}=Ae(),i=a.get(Ue.UI_SETTINGS.TIMEPICKER_TIME_DEFAULTS),o=r.query.timefilter.timefilter.getTime();return{isDateRangeSet:"rangeFrom"in n&&"rangeTo"in n,redirect:()=>{var r,a;const u={rangeFrom:null!==(r=o.from)&&void 0!==r?r:i.from,rangeTo:null!==(a=o.to)&&void 0!==a?a:i.to,...n};e.replace({...t,search:_.a.stringify(u)})}}}();return u||i(),o.a.createElement(X.DatePicker,{rangeFrom:e,rangeTo:t,refreshPaused:n,refreshInterval:r,onTimeRangeRefresh:({start:e,end:t})=>{Object(De.b)(),a({rangeFrom:e,rangeTo:t})}})}function Be(){return o.a.createElement(a.EuiEmptyPrompt,{body:o.a.createElement(i.Fragment,null,o.a.createElement(a.EuiLoadingSpinner,{size:"xl"}),o.a.createElement(a.EuiSpacer,null),o.a.createElement(a.EuiTitle,{size:"l"},o.a.createElement("h2",null,B.i18n.translate("xpack.ux.emptyState.loadingMessage",{defaultMessage:"Loading…"}))))})}var ze=n(39);function We({serviceName:e,size:t,start:n,end:r}){return{body:{size:0,query:{bool:{filter:[{range:{"@timestamp":{gte:n,lte:r,format:"epoch_millis"}}},{term:{[ue.q]:ze.b}},{term:{[ue.j]:"transaction"}},...null==e?[]:[{term:{[ue.l]:e}}]]}},aggs:{environments:{terms:{field:ue.k,missing:be.b.value,size:t}}}}}}const qe={text:`- ${B.i18n.translate("xpack.ux.filter.environment.selectEnvironmentLabel",{defaultMessage:"Select environment"})} -`,disabled:!0};function Ge({start:e,end:t,environment:n,serviceName:r}){const u=Object(c.useHistory)(),l=Object(c.useLocation)(),{environments:s,loading:d}=function({serviceName:e,start:t,end:n}){var r,a,o,u;const{dataViewTitle:l}=Se(),c=null!==(r=null===(a=Ae().uiSettings)||void 0===a||null===(o=a.defaults)||void 0===o||null===(u=o["observability:maxSuggestions"])||void 0===u?void 0:u.value)&&void 0!==r?r:100,{data:s,loading:d}=Object(ee.useEsSearch)({index:l,...We({serviceName:e,start:Ie(t),end:Ie(n),size:c})},[l,e,t,n,c],{name:"UxEnvironments"}),f=Object(i.useMemo)((()=>{var e;return null!==(e=function(e){if(!e)return e;const t=e.aggregations;return((null==t?void 0:t.environments.buckets)||[]).map((e=>e.key))}(s))&&void 0!==e?e:[]}),[s]),p=Object(i.useMemo)((()=>function(e){const t=e.filter((e=>e!==be.b.value)).map((e=>({value:e,text:e})));return[be.a,...t]}(f)),[f]);return{environments:f,loading:d,environmentOptions:p}}({serviceName:r,start:e,end:t}),f=function(e){const t=e.filter((e=>e!==be.b.value)).map((e=>({value:e,text:e})));return[be.a,...e.includes(be.b.value)?[be.b]:[],...t.length>0?[qe]:[],...t]}(s);return o.a.createElement(a.EuiSelect,{"data-test-subj":"uxEnvironmentFilterSelect",fullWidth:!0,prepend:B.i18n.translate("xpack.ux.filter.environment.label",{defaultMessage:"Environment"}),options:f,value:n,onChange:e=>{!function(e,t,n){e.push({...t,search:Object(X.fromQuery)({...Object(X.toQuery)(t.search),environment:n})})}(u,l,e.target.value)},isLoading:d,style:{minWidth:200}})}function $e(){const{urlParams:{start:e,end:t,environment:n,serviceName:r}}=Ne();return o.a.createElement(Ge,{start:e,end:t,environment:n,serviceName:r})}var Qe=n(16);function He({filterNames:e}){const t=Object(c.useHistory)(),{uxUiFilters:n}=Oe(),r=Object(i.useCallback)(((e,n)=>{const r=Object(p.omit)(Object(X.toQuery)(t.location.search),e);t.push({...t.location,search:Object(X.fromQuery)(ye({...r,[e]:n.length?n.join(","):void 0}))})}),[t]),a=Object(i.useCallback)(((e,t,a)=>{if(a){var i;const a=e.split("Excluded")[0];r(e,(null==n?void 0:n[e]).filter((e=>e!==t))),r(a,[...null!==(i=null==n?void 0:n[a])&&void 0!==i?i:[],t])}else{var o;r(e,(null==n?void 0:n[e]).filter((e=>e!==t)));const a=Ut(e);r(a,[...null!==(o=null==n?void 0:n[a])&&void 0!==o?o:[],t])}}),[r,n]),o=Object(i.useCallback)((()=>{const n=Object(p.omit)(Object(X.toQuery)(t.location.search),[...e,"searchTerm","transactionUrl"]);t.push({...t.location,search:Object(X.fromQuery)(n)})}),[e,t]);return{filters:Object(i.useMemo)((()=>e.map((e=>{var t;return{value:null!==(t=n[e])&&void 0!==t?t:[],...de.a[e],name:e}}))),[e,n]),setFilterValue:r,clearValues:o,invertFilter:a}}var Ye=n(21),Je=n.n(Ye),Ke=n(42);const Ze="transaction.experience.longtask.sum",Xe="transaction.experience.longtask.count",et="transaction.experience.longtask.max";function tt(e,t,n=Ke.b,r,a){const i={uiFilters:a||{}},o=Object(ce.c)({setup:i,urlQuery:r,start:e,end:t});return Object(le.a)(o,{body:{size:0,aggs:{longTaskSum:{percentiles:{field:Ze,percents:[n],hdr:{number_of_significant_value_digits:3}}},longTaskCount:{percentiles:{field:Xe,percents:[n],hdr:{number_of_significant_value_digits:3}}},longTaskMax:{percentiles:{field:et,percents:[n],hdr:{number_of_significant_value_digits:3}}}}}})}const nt=B.i18n.translate("xpack.ux.coreVitals.dataUndefined",{defaultMessage:"N/A"}),rt=B.i18n.translate("xpack.ux.coreVitals.fcp",{defaultMessage:"First contentful paint"}),at=B.i18n.translate("xpack.ux.coreVitals.fcpTooltip",{defaultMessage:"First contentful paint (FCP) focusses on the initial rendering and measures the time from when the page starts loading to when any part of the page’s content is displayed on the screen."}),it=B.i18n.translate("xpack.ux.coreVitals.tbt",{defaultMessage:"Total blocking time"}),ot=B.i18n.translate("xpack.ux.coreVitals.tbtTooltip",{defaultMessage:"Total blocking time (TBT) is the sum of the blocking time (duration above 50 ms) for each long task that occurs between the First contentful paint and the time when the transaction is completed."}),ut=B.i18n.translate("xpack.ux.uxMetrics.noOfLongTasks",{defaultMessage:"No. of long tasks"}),lt=B.i18n.translate("xpack.ux.uxMetrics.noOfLongTasksTooltip",{defaultMessage:"The number of long tasks, a long task is defined as any user activity or browser task that monopolizes the UI thread for extended periods (greater than 50 milliseconds) and blocks other critical tasks (frame rate or input latency) from being executed."}),ct=B.i18n.translate("xpack.ux.uxMetrics.longestLongTasks",{defaultMessage:"Longest long task duration"}),st=B.i18n.translate("xpack.ux.uxMetrics.longestLongTasksTooltip",{defaultMessage:"The duration of the longest long task, a long task is defined as any user activity or browser task that monopolizes the UI thread for extended periods (greater than 50 milliseconds) and blocks other critical tasks (frame rate or input latency) from being executed."}),dt=B.i18n.translate("xpack.ux.uxMetrics.sumLongTasks",{defaultMessage:"Total long tasks duration"}),ft=B.i18n.translate("xpack.ux.uxMetrics.sumLongTasksTooltip",{defaultMessage:"The total duration of long tasks, a long task is defined as any user activity or browser task that monopolizes the UI thread for extended periods (greater than 50 milliseconds) and blocks other critical tasks (frame rate or input latency) from being executed."}),pt=e=>50===e?_e.median:B.i18n.translate("xpack.ux.percentiles.label",{defaultMessage:"{value}th Perc.",values:{value:e}});function mt(e,t="MicroSec"){const n=Number(null!=e?e:0)/("MicroSec"===t?1e3:1);return n<1e3?n.toFixed(0)+" ms":(n/1e3).toFixed(2)+" s"}const gt={width:"200px"};function ht(e,t){return null==t?nt:mt(t,e)}function vt({data:e,loading:t}){const{data:n,loading:r}=function(){const{rangeId:e,urlParams:{start:t,end:n,searchTerm:r,percentile:a},uxUiFilters:o}=Oe(),{dataViewTitle:u}=Se(),{data:l,loading:c}=Object(ee.useEsSearch)({index:u,...tt(Ie(t),Ie(n),a,r,o)},[t,n,a,r,o,e,u],{name:"UxLongTaskMetrics"});return{data:Object(i.useMemo)((()=>{var e,t,n,r;if(!l)return{};const i=Number(a).toFixed(1),{longTaskSum:o,longTaskCount:u,longTaskMax:c}=null!==(e=l.aggregations)&&void 0!==e?e:{};return{noOfLongTasks:null!==(t=null==u?void 0:u.values[i])&&void 0!==t?t:0,sumOfLongTasks:null!==(n=null==o?void 0:o.values[i])&&void 0!==n?n:0,longestLongTask:null!==(r=null==c?void 0:c.values[i])&&void 0!==r?r:0}}),[l,a]),loading:c}}();return o.a.createElement(a.EuiFlexGroup,{wrap:!0,responsive:!1},o.a.createElement(a.EuiFlexItem,{grow:!1,style:gt},o.a.createElement(a.EuiStat,{titleSize:"s",title:ht("ms",null==e?void 0:e.fcp),description:o.a.createElement(o.a.Fragment,null,rt,o.a.createElement(a.EuiIconTip,{content:at,type:"questionInCircle"})),isLoading:t})),o.a.createElement(a.EuiFlexItem,{grow:!1,style:gt},o.a.createElement(a.EuiStat,{titleSize:"s",title:ht("ms",null==e?void 0:e.tbt),description:o.a.createElement(o.a.Fragment,null,it,o.a.createElement(a.EuiIconTip,{content:ot,type:"questionInCircle"})),isLoading:t})),o.a.createElement(a.EuiFlexItem,{grow:!1,style:gt},o.a.createElement(a.EuiStat,{"data-test-subj":"uxLongTaskCount",titleSize:"s",title:void 0!==(null==n?void 0:n.noOfLongTasks)?Je()(null==n?void 0:n.noOfLongTasks).format("0,0"):nt,description:o.a.createElement(o.a.Fragment,null,ut,o.a.createElement(a.EuiIconTip,{content:lt,type:"questionInCircle"})),isLoading:!!r})),o.a.createElement(a.EuiFlexItem,{grow:!1,style:gt},o.a.createElement(a.EuiStat,{"data-test-subj":"uxLongestTask",titleSize:"s",title:ht("ms",null==n?void 0:n.longestLongTask),description:o.a.createElement(o.a.Fragment,null,ct,o.a.createElement(a.EuiIconTip,{content:st,type:"questionInCircle"})),isLoading:!!r})),o.a.createElement(a.EuiFlexItem,{grow:!1,style:gt},o.a.createElement(a.EuiStat,{"data-test-subj":"uxSumLongTask",titleSize:"s",title:ht("ms",null==n?void 0:n.sumOfLongTasks),description:o.a.createElement(o.a.Fragment,null,dt,o.a.createElement(a.EuiIconTip,{content:ft,type:"questionInCircle"})),isLoading:!!r})))}const yt=d.a.span.withConfig({displayName:"StyledSpan",componentId:"sc-102tzdt-0"})(["color:",";font-weight:500;:not(:last-of-type)::after{content:'•';margin:0 4px;}"],r.euiLightVars.euiColorSuccessText),bt=d.a.span.withConfig({displayName:"StyledListSpan",componentId:"sc-102tzdt-1"})(["display:block;margin-top:4px;font-size:12px;"]);function Et(e,t){return o.a.createElement(o.a.Fragment,null,o.a.createElement(a.EuiHighlight,{className:"euiSelectableTemplateSitewide__listItemTitle",search:t},e.label),function(e){if(e&&!(e.length<1))return o.a.createElement(bt,null,e.map((e=>o.a.createElement(yt,{key:e},e))))}(e.meta))}var xt=n(74),Tt=n.n(xt);function Ot(){const{rangeId:e,urlParams:t,uxUiFilters:n}=Oe(),{start:r,end:a,searchTerm:o,percentile:u}=t;return Object(i.useMemo)((()=>{const{serviceName:e}=n;return r&&a&&e&&u?{start:r,end:a,percentile:String(u),urlQuery:o||void 0,uiFilters:JSON.stringify(n)}:null}),[r,a,o,u,n,e])}function wt(e,t,n){const r={uiFilters:e||{}},a=Object(ce.c)({setup:r,urlQuery:n,...t,start:Ie(null==t?void 0:t.start),end:Ie(null==t?void 0:t.end)});return Object(le.a)(a,{body:{size:0,aggs:{totalUrls:{cardinality:{field:ue.r}},urls:{terms:{field:ue.r,size:10},aggs:{medianPLD:{percentiles:{field:ue.n,percents:[Number(null==t?void 0:t.percentile)]}}}}}}})}const jt=({popoverIsOpen:e,query:t})=>{const n=Ot(),{uxUiFilters:r}=Oe(),{transactionUrl:a,transactionUrlExcluded:o,...u}=r,[l,c]=Object(i.useState)(null!=t?t:"");Tt()((()=>{c(t)}),250,[t]);const{dataViewTitle:s}=Se(),{data:d,loading:f}=Object(ee.useEsSearch)({index:n&&e?s:void 0,...wt(u,n,l)},[s,e,n,l],{name:"UX_URL_SEARCH"});return{data:Object(i.useMemo)((()=>{var e,t,r;if(!d)return d;const{urls:a,totalUrls:i}=null!==(e=d.aggregations)&&void 0!==e?e:{},o=Number(null!==(t=null==n?void 0:n.percentile)&&void 0!==t?t:0).toFixed(1);return{total:(null==i?void 0:i.value)||0,items:(null!==(r=null==a?void 0:a.buckets)&&void 0!==r?r:[]).map((e=>{var t;return{url:e.key,count:e.doc_count,pld:null!==(t=e.medianPLD.values[o])&&void 0!==t?t:0}}))}}),[d,null==n?void 0:n.percentile]),loading:f}},kt=(e,t,n,r)=>{const a=pt(r);return e.map((e=>({label:e.url,title:e.url,key:e.url,meta:[_e.pageViews+": "+e.count,_e.pageLoadDuration+": "+mt(e.pld)+` (${a})`],url:e.url,checked:null!=t&&t.includes(e.url)?"on":null!=n&&n.includes(e.url)?"off":void 0})))},St=e=>({includedItems:Object(p.map)(e.filter((({checked:e,isWildcard:t})=>"on"===e&&!t)),"label"),excludedItems:Object(p.map)(e.filter((({checked:e,isWildcard:t})=>"off"===e&&!t)),"label"),includedWildcards:Object(p.map)(e.filter((({checked:e,isWildcard:t})=>"on"===e&&t)),"title"),excludedWildcards:Object(p.map)(e.filter((({checked:e,isWildcard:t})=>"off"===e&&t)),"title")}),It=e=>B.i18n.translate("xpack.ux.urlFilter.wildcard",{defaultMessage:"Use wildcard *{wildcard}*",values:{wildcard:e}});function Ft({onChange:e,updateSearchTerm:t}){var n;const{uxUiFilters:{transactionUrl:r,transactionUrlExcluded:a},urlParams:u}=Oe(),{searchTerm:l,percentile:c}=u,[s,d]=Object(i.useState)(!1),[f,m]=Object(i.useState)(""),[g,h]=Object(i.useState)([]),{data:v,loading:y}=jt({query:f,popoverIsOpen:s});return Object(i.useEffect)((()=>{var e;const t=kt(null!==(e=null==v?void 0:v.items)&&void 0!==e?e:[],r,a,c),n=f||l;n&&t.unshift({label:It(n),title:n,isWildcard:!0,checked:l?"on":void 0}),h(t)}),[v,c,l,f,r,a]),o.a.createElement(Qe.SelectableUrlList,{loading:null==y||y,onInputChange:e=>{m(e)},data:{items:g,total:null!==(n=null==v?void 0:v.total)&&void 0!==n?n:0},onSelectionChange:e=>{h(e.map((e=>{const{isWildcard:t,checked:n}=e;return t&&"off"===n?{...e,checked:void 0}:e})))},searchValue:f,popoverIsOpen:Boolean(s),setPopoverIsOpen:d,onSelectionApply:()=>{const{includedItems:n,excludedItems:r}=St(g);e(n,r),t(f),m("")},renderOption:Et,rowHeight:64,hasChanged:()=>Boolean((()=>{const{includedItems:e,excludedItems:t,includedWildcards:n}=St(g);let i=n.length>0&&!l||0===n.length&&l;return n.length>0&&(i=n[0]!==l),i||!Object(p.isEqual)(e.sort(),(null!=r?r:[]).sort())||!Object(p.isEqual)(t.sort(),(null!=a?a:[]).sort())})())})}function _t(){const e=Object(c.useHistory)(),t=Object(i.useCallback)(((t,n)=>{const r="transactionUrl",a=Object(p.omit)(Object(X.toQuery)(e.location.search),r);e.push({...e.location,search:Object(X.fromQuery)(ye({...a,[r]:null!=t&&t.length?t.join(","):void 0,transactionUrlExcluded:null!=n&&n.length?n.join(","):void 0}))})}),[e]),n=Object(i.useCallback)((t=>{const n={...Object(X.toQuery)(e.location.search),searchTerm:t||void 0};t||delete n.searchTerm;const r={...e.location,search:Object(X.fromQuery)(n)};e.push(r)}),[e]);return o.a.createElement("span",{"data-cy":"csmUrlFilter"},o.a.createElement(Ft,{onChange:t,updateSearchTerm:n}))}function Lt({indexPattern:e}){const t=Object(c.useHistory)(),{urlParams:{searchTerm:n}}=Oe(),r=Object(i.useCallback)((e=>{const n={...Object(X.toQuery)(t.location.search),searchTerm:e||void 0};e||delete n.searchTerm;const r={...t.location,search:Object(X.fromQuery)(n)};t.push(r)}),[t]);return n?i.createElement(Qe.FilterValueLabel,{dataView:e,removeFilter:()=>{r("")},invertFilter:({negate:e})=>{},field:ue.r,value:n,negate:!1,label:"URL wildcard"}):null}const Mt=d()(a.EuiFlexItem).withConfig({displayName:"FilterItem",componentId:"sc-5dxp2a-0"})(["max-width:300px;"]);function Pt({indexPattern:e,onChange:t,filters:n,invertFilter:r,clearValues:u}){const{uxUiFilters:l,urlParams:{searchTerm:c}}=Oe(),{transactionUrl:s}=l,d=null!=s?s:[],f=n.some((e=>{var t;return(null===(t=e.value)||void 0===t?void 0:t.length)>0}));return e&&(f||d.length>0||c)?o.a.createElement(a.EuiFlexGroup,{alignItems:"center",gutterSize:"s",wrap:!0},o.a.createElement(Lt,{indexPattern:e}),(null!=n?n:[]).map((({name:n,title:a,fieldName:u,excluded:c})=>{var s;return o.a.createElement(i.Fragment,{key:n},(null!==(s=null==l?void 0:l[n])&&void 0!==s?s:[]).map((i=>o.a.createElement(Mt,{key:n+i,grow:!1},o.a.createElement(Qe.FilterValueLabel,{dataView:e,removeFilter:()=>{t(n,(null==l?void 0:l[n]).filter((e=>e!==i)))},invertFilter:({negate:e})=>{r(n,i,e)},field:u,value:"transactionUrl"===n?Rt(i):i,negate:!!c,label:a})))))})),o.a.createElement(a.EuiFlexItem,{grow:!1},o.a.createElement(a.EuiButtonEmpty,{"data-test-subj":"uxSelectedFiltersClearFiltersButton",size:"xs",iconType:"cross",onClick:u,"data-cy":"clearFilters"},B.i18n.translate("xpack.ux.clearFilters",{defaultMessage:"Clear filters"})))):null}function Rt(e){const t=e.length;if(t<30)return e;const n=new URL(e);if("/"===n.pathname)return e;const r=n.hostname,a=t-30,i=r.substring(0,a);return n.pathname.length+7>30?e.replace(r,".."):e.replace(i,"..")}var Ct=n(48);const Nt=["location","device","os","browser"],Ut=e=>`${e}Excluded`,At=[{term:{[ue.q]:ze.b}}];function Dt(){const{dataViewTitle:e,dataView:t}=Se(),{filters:n=[],setFilterValue:r,invertFilter:u,clearValues:l}=He({filterNames:de.b.filter((e=>!["serviceName"].includes(e)))}),{urlParams:{start:c,end:s,serviceName:d,environment:f}}=Ne(),p=Object(i.useMemo)((()=>{const e=[...At,...Object(Ct.a)(f||be.a.value)];return d&&e.push({term:{[ue.l]:d}}),e}),[f,d]),{isSmall:m}=Re(),g=o.a.createElement(a.EuiTitle,{size:"s"},o.a.createElement("h3",null,B.i18n.translate("xpack.ux.localFiltersTitle",{defaultMessage:"Filters"}))),h=o.a.createElement(o.a.Fragment,null,o.a.createElement(a.EuiFlexGroup,{wrap:!0},o.a.createElement(a.EuiFlexItem,null,o.a.createElement(_t,null)),o.a.createElement(a.EuiFlexItem,null,o.a.createElement(a.EuiFilterGroup,{fullWidth:!0},Nt.map((t=>{var a,i;return o.a.createElement(Qe.FieldValueSuggestions,{key:t,sourceField:de.a[t].fieldName,dataViewTitle:e,label:de.a[t].title,asCombobox:!1,selectedValue:null===(a=n.find((e=>e.name===t&&!e.excluded)))||void 0===a?void 0:a.value,excludedValue:null===(i=n.find((e=>e.name===Ut(t)&&e.excluded)))||void 0===i?void 0:i.value,asFilterButton:!0,onChange:(e,n)=>{r(t,e||[]),r(Ut(t),n||[])},filters:p,time:{from:c,to:s}})}))))),o.a.createElement(a.EuiSpacer,{size:"s"}),o.a.createElement(Pt,{filters:n,onChange:(e,t)=>{r(e,t)},clearValues:l,invertFilter:u,indexPattern:t}));return m?o.a.createElement(a.EuiAccordion,{id:"uxFilterAccordion",buttonContent:g},h):o.a.createElement(o.a.Fragment,null,h)}var Vt=n(46);function Bt(){const{urlParams:{percentile:e}}=Oe(),t=Ot(),{data:n,loading:r}=function(e){const{dataViewTitle:t}=Se(),{data:n,loading:r}=Object(ee.useEsSearch)({index:e?t:void 0,...Object(Ke.c)(Ie(null==e?void 0:e.start),Ie(null==e?void 0:e.end),null==e?void 0:e.urlQuery,null!=e&&e.uiFilters?JSON.parse(e.uiFilters):{},null!=e&&e.percentile?Number(e.percentile):void 0)},[e,t],{name:"UxCoreWebVitals"});return{data:Object(i.useMemo)((()=>Object(Ke.e)(n,null!=e&&e.percentile?Number(null==e?void 0:e.percentile):Ke.b)),[n,null==e?void 0:e.percentile]),loading:r}}(t),{data:u,loading:l}=function(e){const{dataViewTitle:t}=Se(),{data:n,loading:r}=Object(ee.useEsSearch)({index:e?t:void 0,...Object(Vt.a)(Ie(null==e?void 0:e.start),Ie(null==e?void 0:e.end),null==e?void 0:e.urlQuery,null!=e&&e.uiFilters?JSON.parse(e.uiFilters):{},null!=e&&e.percentile?Number(e.percentile):void 0)},[e,t],{name:"UxINPMetrics"});return{data:Object(i.useMemo)((()=>Object(Vt.b)(n,null!=e&&e.percentile?Number(null==e?void 0:e.percentile):Ke.b)),[n,null==e?void 0:e.percentile]),loading:r}}(t),c=null==r||r||l,{sharedData:{totalPageViews:s}}=Object(i.useContext)(ie),d=Object(i.useMemo)((()=>Object(X.getCoreVitalsComponent)({data:{...n,inp:null==u?void 0:u.inp,inpRanks:null==u?void 0:u.inpRanks,hasINP:null==u?void 0:u.hasINP},totalPageViews:s,loading:c,displayTrafficMetric:!0})),[c,l]);return o.a.createElement(a.EuiPanel,{hasBorder:!0},o.a.createElement(a.EuiFlexGroup,{justifyContent:"spaceBetween",wrap:!0,responsive:!1},o.a.createElement(a.EuiFlexItem,{grow:1,"data-cy":"client-metrics"},o.a.createElement(a.EuiTitle,{size:"xs"},o.a.createElement("h3",null,_e.metrics," (",pt(e),")")),o.a.createElement(a.EuiSpacer,{size:"s"}),o.a.createElement(vt,{data:n,loading:c}))),o.a.createElement(a.EuiSpacer,{size:"xs"}),o.a.createElement(a.EuiHorizontalRule,{margin:"xs"}),o.a.createElement(a.EuiFlexGroup,{justifyContent:"spaceBetween",wrap:!0},o.a.createElement(a.EuiFlexItem,{grow:1,"data-cy":"client-metrics",style:{minHeight:150}},o.a.createElement(a.EuiSpacer,{size:"s"}),d)))}var zt=n(33);function Wt(e,t,n,r,a,i){const o={uiFilters:i||{}},u=Object(ce.a)({setup:o,urlQuery:a,start:e,end:t});return Object(le.a)(u,{body:{size:0,track_total_hits:!0,aggs:{totalErrorGroups:{cardinality:{field:ue.f}},totalErrorPages:{cardinality:{field:ue.o}},errors:{terms:{field:ue.f,size:500},aggs:{bucket_truncate:{bucket_sort:{size:n,from:r*n}},impactedPages:{filter:{term:{[ue.q]:ze.b}},aggs:{pageCount:{cardinality:{field:ue.o}}}},sample:{top_hits:{_source:[ue.d,ue.e,ue.f,"@timestamp"],sort:[{"@timestamp":"desc"}],size:1}}}}}}})}function qt(e){var t,n;return"string"==typeof e&&null!==(t=null===(n=w.a.parse(e))||void 0===n?void 0:n.valueOf())&&void 0!==t?t:0}function Gt(){var e,t,n;const{http:r}=Ae(),u=r.basePath.get(),{urlParams:{serviceName:l}}=Oe(),[c,s]=Object(i.useState)({pageIndex:0,pageSize:5}),{data:d,loading:f}=function(e){const{rangeId:t,urlParams:{start:n,end:r,searchTerm:a},uxUiFilters:o}=Oe(),{dataViewTitle:u}=Se(),{data:l,loading:c}=Object(ee.useEsSearch)({index:u,...Wt(qt(n),qt(r),e.pageSize,e.pageIndex,a,o)},[n,r,a,o,u,e.pageSize,e.pageIndex,t],{name:"UxJsErrors"});return{data:Object(i.useMemo)((()=>{var e,t,n,r;if(!l)return{};const{totalErrorGroups:a,totalErrorPages:i,errors:o}=null!==(e=null==l?void 0:l.aggregations)&&void 0!==e?e:{};return{totalErrorPages:null!==(t=null==i?void 0:i.value)&&void 0!==t?t:0,totalErrors:null!==(n=l.hits.total.value)&&void 0!==n?n:0,totalErrorGroups:null!==(r=null==a?void 0:a.value)&&void 0!==r?r:0,items:null==o?void 0:o.buckets.map((({sample:e,key:t,impactedPages:n})=>{var r;return{count:n.pageCount.value,errorGroupId:t,errorMessage:null===(r=e.hits.hits[0]._source.error.exception)||void 0===r?void 0:r[0].message}}))}}),[l]),loading:c}}(c),{sharedData:{totalPageViews:p}}=Object(i.useContext)(ie),m=[{field:"errorMessage",name:_e.errorMessage,render:(e,t)=>o.a.createElement(a.EuiLink,{"data-test-subj":"uxColsLink",href:`${u}/app/apm/services/${l}/errors/${t.errorGroupId}`},e)},{name:_e.impactedPageLoads,field:"count",align:"right",render:e=>o.a.createElement(zt.FormattedMessage,{id:"xpack.ux.jsErrors.percent",defaultMessage:"{pageLoadPercent} %",values:{pageLoadPercent:(e/p*100).toFixed(1)}})}],g=null!==(e=null==d?void 0:d.totalErrors)&&void 0!==e?e:0;return o.a.createElement(o.a.Fragment,null,o.a.createElement(a.EuiTitle,{size:"xs"},o.a.createElement("h3",null,_e.jsErrors)),o.a.createElement(a.EuiSpacer,{size:"s"}),o.a.createElement(a.EuiFlexGroup,null,o.a.createElement(a.EuiFlexItem,{grow:!1},o.a.createElement(a.EuiStat,{"data-test-subj":"uxJsErrorsTotal",titleSize:"s",title:g<1e3?g:o.a.createElement(a.EuiToolTip,{content:g},o.a.createElement(o.a.Fragment,null,Je()(g).format("0 a"))),description:_e.totalErrors,isLoading:!!f}))),o.a.createElement(a.EuiSpacer,{size:"s"}),o.a.createElement(a.EuiBasicTable,{"data-test-subj":"uxJsErrorTable",loading:!!f,error:f||d?"":B.i18n.translate("xpack.ux.jsErrorsTable.errorMessage",{defaultMessage:"Failed to fetch"}),responsive:!1,compressed:!0,columns:m,items:null!==(t=null==d?void 0:d.items)&&void 0!==t?t:[],onChange:({page:e})=>{s({pageIndex:e.index,pageSize:e.size})},pagination:{...c,totalItemCount:null!==(n=null==d?void 0:d.totalErrorGroups)&&void 0!==n?n:0}}))}function $t(){return o.a.createElement(a.EuiPanel,{hasBorder:!0},o.a.createElement(a.EuiSpacer,{size:"xs"}),o.a.createElement(a.EuiFlexGroup,{wrap:!0},o.a.createElement(a.EuiFlexItem,{style:{flexBasis:650}},o.a.createElement(Gt,null))))}function Qt({selectedBreakdown:e,onBreakdownChange:t,dataTestSubj:n}){var r;const i="noBreakdown",u=[{name:B.i18n.translate("xpack.ux.breakDownFilter.noBreakdown",{defaultMessage:"No breakdown"}),fieldName:i,type:"category"},{name:B.i18n.translate("xpack.ux.breakdownFilter.browser",{defaultMessage:"Browser"}),fieldName:ue.t,type:"category"},{name:B.i18n.translate("xpack.ux.breakdownFilter.os",{defaultMessage:"OS"}),fieldName:ue.u,type:"category"},{name:B.i18n.translate("xpack.ux.breakdownFilter.device",{defaultMessage:"Device"}),fieldName:ue.s,type:"category"},{name:B.i18n.translate("xpack.ux.breakdownFilter.location",{defaultMessage:"Location"}),fieldName:ue.b,type:"category"}],l=u.map((({name:e,fieldName:t})=>({inputDisplay:t===i?e:o.a.createElement("strong",null,e),value:t,dropdownDisplay:e})));return o.a.createElement(a.EuiSuperSelect,{compressed:!0,options:l,valueOfSelected:null!==(r=null==e?void 0:e.fieldName)&&void 0!==r?r:i,onChange:e=>(e=>{t(e===i?null:u.find((({fieldName:t})=>t===e)))})(e),"data-test-subj":n})}function Ht(e,t){const{searchTerm:n}=t,r=de.b.filter((t=>t in e&&"serviceName"!==t)),a={};if(r.forEach((t=>{var n;const r=de.c[t],i=e[t];let o=null!==(n=a[r.fieldName])&&void 0!==n?n:{field:r.fieldName};o=t.includes("Excluded")?{...o,notValues:i?[...i]:i}:{...o,values:i?[...i]:i},a[r.fieldName]=o})),n){const e={field:ue.r};n&&(e.wildcards=[n]),a[ue.r]={...e,...a[ue.r]}}return Object.values(a)}const Yt=()=>{var e;const{urlParams:t,uxUiFilters:n}=Oe(),{start:r,end:a}=t;return{reportDefinitions:{[ue.k]:null!=n&&n.environment&&n.environment!==be.a.value?[n.environment]:[Qe.ALL_VALUES_SELECTED],[ue.l]:null!==(e=null==n?void 0:n.serviceName)&&void 0!==e?e:[Qe.ALL_VALUES_SELECTED]},time:{from:null!=r?r:"",to:null!=a?a:""}}};function Jt({onPercentileChange:e,breakdown:t}){const{dataViewTitle:n}=Se(),{uxUiFilters:r,urlParams:a}=Oe(),u=Ae(),{ExploratoryViewEmbeddable:l}=u.exploratoryView,c=Object(i.useCallback)((({range:t})=>{if(!t)return;const[n,r]=t;e(n,r)}),[e]),{reportDefinitions:s,time:d}=Yt(),f=[{time:d,reportDefinitions:s,dataType:"ux",name:"page-load-distribution",selectedMetricField:ue.n,breakdown:null==t?void 0:t.fieldName,filters:Ht(r,a)}];return n?o.a.createElement(l,{customHeight:"300px",attributes:f,onBrushEnd:c,reportType:"data-distribution",dataTypesIndexPatterns:{ux:n},legendIsVisible:Boolean(t),axisTitlesVisibility:{x:!0,yLeft:!0,yRight:!1}}):null}function Kt({percentileRange:e,setPercentileRange:t}){const n=()=>{t({min:null,max:null})};return null===e.min&&null===e.max?null:o.a.createElement(a.EuiFlexItem,{grow:!1},o.a.createElement(a.EuiShowFor,{sizes:["xs"]},o.a.createElement(a.EuiButtonIcon,{"data-test-subj":"uxResetPercentileZoomButton",iconType:"inspect",size:"s","aria-label":_e.resetZoom,onClick:n})),o.a.createElement(a.EuiHideFor,{sizes:["xs"]},o.a.createElement(a.EuiButtonEmpty,{"data-test-subj":"uxResetPercentileZoomButton",iconType:"inspect",size:"s",onClick:n},_e.resetZoom)))}function Zt(){const[e,t]=Object(i.useState)({min:null,max:null}),[n,r]=Object(i.useState)(null),u=Object(i.useCallback)(((e,n)=>{t({min:e,max:n})}),[]);return o.a.createElement("div",{"data-cy":"pageLoadDist"},o.a.createElement(a.EuiFlexGroup,{responsive:!1},o.a.createElement(a.EuiFlexItem,null,o.a.createElement(a.EuiTitle,{size:"xs"},o.a.createElement("h3",null,_e.pageLoadDistribution))),o.a.createElement(Kt,{percentileRange:e,setPercentileRange:t}),o.a.createElement(a.EuiFlexItem,{grow:!1,style:{width:170}},o.a.createElement(Qt,{selectedBreakdown:n,onBreakdownChange:r,dataTestSubj:"pldBreakdownFilter"}))),o.a.createElement(Jt,{onPercentileChange:u,breakdown:n}))}function Xt({breakdown:e}){const{dataViewTitle:t}=Se(),n=Object(c.useHistory)(),r=Ae(),{ExploratoryViewEmbeddable:a}=r.exploratoryView,{uxUiFilters:u,urlParams:l}=Oe(),s=Object(ee.useTheme)(),{reportDefinitions:d,time:f}=Yt(),p=[{time:f,reportDefinitions:d,dataType:"ux",name:"ux-series-1",selectedMetricField:Qe.RECORDS_FIELD,breakdown:null==e?void 0:e.fieldName,color:s.eui.euiColorVis1,filters:Ht(u,l)}],m=Object(i.useCallback)((({range:e})=>{if(!e)return;const[t,r]=e,a=T()(t).toISOString(),i=T()(r).toISOString();n.push({...n.location,search:Object(X.fromQuery)({...Object(X.toQuery)(n.location.search),rangeFrom:a,rangeTo:i})})}),[n]);return t?o.a.createElement(a,{customHeight:"300px",attributes:p,onBrushEnd:m,reportType:"kpi-over-time",isSingleMetric:!0,axisTitlesVisibility:{x:!1,yRight:!0,yLeft:!0},legendIsVisible:Boolean(e)}):null}function en(){const[e,t]=Object(i.useState)(null);return o.a.createElement("div",{className:"pageViewsChart"},o.a.createElement(a.EuiFlexGroup,{responsive:!1},o.a.createElement(a.EuiFlexItem,null,o.a.createElement(a.EuiTitle,{size:"xs"},o.a.createElement("h3",null,_e.pageViews))),o.a.createElement(a.EuiFlexItem,{grow:!1,style:{width:170}},o.a.createElement(Qt,{selectedBreakdown:e,onBreakdownChange:t,dataTestSubj:"pvBreakdownFilter"}))),o.a.createElement(Xt,{breakdown:e}))}function tn(){return o.a.createElement(a.EuiFlexGroup,{gutterSize:"s",wrap:!0},o.a.createElement(a.EuiFlexItem,{style:{flexBasis:650}},o.a.createElement(a.EuiPanel,{hasBorder:!0,style:{paddingBottom:0}},o.a.createElement(Zt,null))),o.a.createElement(a.EuiFlexItem,{style:{flexBasis:650}},o.a.createElement(a.EuiPanel,{hasBorder:!0,style:{paddingBottom:0}},o.a.createElement(en,null))))}var nn=n(27),rn=n(23),an=n(28),on=n(47);const un=9;let ln;function cn({start:e,end:t,onFilter:n,uiFilters:r,urlQuery:u,metric:l,dataView:c}){const s=Ae().lens.EmbeddableComponent,[d]=Object(i.useState)(Object(an.v4)()),f=Object(i.useMemo)((()=>function({uiFilters:e,urlQuery:t,metric:n,dataView:r,localDataViewId:a}){const i=r.toSpec(!1);i.id=a;const o={incompleteColumns:{},columnOrder:["col1","col2"],columns:{col1:{label:`Top ${un} values of ${n}`,dataType:"string",operationType:"terms",scale:"ordinal",sourceField:n,isBucketed:!0,params:{size:un,orderBy:{type:"column",columnId:"col2"},orderDirection:"desc",otherBucket:!0,parentFormat:{id:"terms"}}},col2:{label:"Count of records",dataType:"number",operationType:"count",isBucketed:!1,scale:"ratio",sourceField:"___records___",params:{emptyAsNull:!0}}}};return{visualizationType:"lnsPie",title:`ux-visitor-breakdown-${n}`,references:[],state:{internalReferences:[{id:i.id,name:"indexpattern-datasource-current-indexpattern",type:"index-pattern"},{id:i.id,name:"indexpattern-datasource-layer-layer1",type:"index-pattern"}],adHocDataViews:{[i.id]:i},datasourceStates:{formBased:{layers:{layer1:o}}},filters:[{meta:{},query:{bool:{filter:[{term:{[ue.q]:ze.b}},{terms:{[ue.j]:[rn.ProcessorEvent.transaction]}},{exists:{field:"transaction.marks.navigationTiming.fetchStart"}},...Object(on.a)(e),...t?[{wildcard:{"url.full":`*${t}*`}}]:[]],must_not:[...Object(on.a)(e,!0)]}}}],query:{language:"kuery",query:""},visualization:sn}}}({uiFilters:r,urlQuery:u,metric:l,dataView:c,localDataViewId:d})),[r,u,l,c,d]),p=Object(i.useCallback)((e=>{n(l,e)}),[n,l]);return s?o.a.createElement(s,{id:`ux-visitor-breakdown-${l.replaceAll(".","-")}`,hidePanelTitles:!0,withDefaultActions:!0,style:{minHeight:"250px",height:"100%"},attributes:f,timeRange:{from:null!=e?e:"",to:null!=t?t:""},viewMode:nn.ViewMode.VIEW,onFilter:p}):o.a.createElement(a.EuiText,null,"No lens component")}!function(e){e.OS_BREAKDOWN="user_agent.os.name",e.UA_BREAKDOWN="user_agent.name"}(ln||(ln={}));const sn={layers:[{layerId:"layer1",primaryGroups:["col1"],metrics:["col2"],categoryDisplay:"default",legendDisplay:"hide",numberDisplay:"percent",showValuesInLegend:!0,nestedLegend:!1,layerType:"data"}],shape:"pie"},dn={[ln.OS_BREAKDOWN]:"os",[ln.UA_BREAKDOWN]:"browser"},fn=d()(a.EuiFlexGroup).withConfig({displayName:"EuiLoadingEmbeddable",componentId:"sc-lqgxjn-0"})(["&{min-height:100%;min-width:100%;}"]),pn={filterNames:de.b.filter((e=>["browser","browserExcluded","os","osExcluded"].includes(e)))},mn=(e,t)=>t?e:Ut(e);function gn(){const{urlParams:e,uxUiFilters:t}=Oe(),{start:n,end:r,searchTerm:u}=e,{dataView:l}=Se(),{filters:c,setFilterValue:s}=He(pn),d=Object(i.useCallback)(((e,t)=>{var n,r,a,i;if(!dn[e])return;const o=null==t||null===(n=t.data)||void 0===n?void 0:n.map((e=>e.value)),u=mn(dn[e],null!==(r=null==t?void 0:t.negate)&&void 0!==r&&r),l=null!==(a=null==c||null===(i=c.find((e=>e.name===u)))||void 0===i?void 0:i.value)&&void 0!==a?a:[];s(u,l.filter((e=>!o.includes(e)))),s(null!=t&&t.negate?Ut(dn[e]):dn[e],o)}),[c,s]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(a.EuiTitle,{size:"s"},o.a.createElement("h3",null,Le)),o.a.createElement(a.EuiSpacer,{size:"s"}),o.a.createElement(a.EuiFlexGroup,{style:{height:"calc(100% - 32px)"}},o.a.createElement(a.EuiFlexItem,null,o.a.createElement(a.EuiTitle,{size:"xs"},o.a.createElement("h4",null,_e.browser)),o.a.createElement(a.EuiSpacer,{size:"s"}),null!=l&&l.id?o.a.createElement(cn,{dataView:l,start:null!=n?n:"",end:null!=r?r:"",uiFilters:t,urlQuery:u,metric:ln.UA_BREAKDOWN,onFilter:d}):o.a.createElement(fn,{justifyContent:"spaceAround",alignItems:"center"},o.a.createElement(a.EuiFlexItem,{grow:!1},o.a.createElement(a.EuiLoadingChart,{size:"l",mono:!0})))),o.a.createElement(a.EuiFlexItem,null,o.a.createElement(a.EuiTitle,{size:"xs"},o.a.createElement("h4",null,_e.operatingSystem)),o.a.createElement(a.EuiSpacer,{size:"s"}),null!=l&&l.id?o.a.createElement(cn,{dataView:l,start:null!=n?n:"",end:null!=r?r:"",uiFilters:t,urlQuery:u,metric:ln.OS_BREAKDOWN,onFilter:d}):o.a.createElement(fn,{justifyContent:"spaceAround",alignItems:"center"},o.a.createElement(a.EuiFlexItem,{grow:!1},o.a.createElement(a.EuiLoadingChart,{size:"l",mono:!0}))))))}var hn=n(29);const vn="apm_static_index_pattern_id",yn={type:hn.SOURCE_TYPES.ES_TERM_SOURCE,id:"3657625d-17b0-41ef-99ba-3a2b2938655c",term:"client.geo.country_iso_code",metrics:[{type:hn.AGG_TYPE.AVG,field:"transaction.duration.us",label:"Page load duration"}],indexPatternId:vn,applyGlobalQuery:!0,applyGlobalTime:!0,applyForceRefresh:!0},bn={type:hn.SOURCE_TYPES.ES_TERM_SOURCE,id:"e62a1b9c-d7ff-4fd4-a0f6-0fdc44bb9e41",term:"client.geo.region_iso_code",metrics:[{type:hn.AGG_TYPE.AVG,field:"transaction.duration.us"}],whereQuery:{query:'transaction.type : "page-load"',language:"kuery"},indexPatternId:vn,applyGlobalQuery:!0,applyGlobalTime:!0,applyForceRefresh:!0},En=e=>({query:`${ue.q} : "${ze.b}" and ${ue.l} : "${e}"`,language:"kuery"}),xn="region_name",Tn="name",On="__kbnjoin__avg_of_transaction.duration.us__e62a1b9c-d7ff-4fd4-a0f6-0fdc44bb9e41",wn="__kbnjoin__avg_of_transaction.duration.us__3657625d-17b0-41ef-99ba-3a2b2938655c",jn=d()(a.EuiDescriptionListDescription).withConfig({displayName:"DescriptionItem",componentId:"sc-xxbqdx-0"})(["&&&{width:25%;}"]),kn=d()(a.EuiDescriptionListTitle).withConfig({displayName:"TitleItem",componentId:"sc-xxbqdx-1"})(["&&&{width:75%;}"]);function Sn({closeTooltip:e,features:t=[],loadFeatureProperties:n}){var r;const{id:u,layerId:l,mbProperties:c}=null!==(r=t[0])&&void 0!==r?r:{},[s,d]=Object(i.useState)(u),[f,p]=Object(i.useState)("");return Object(i.useEffect)((()=>{(async()=>{n&&(await n({layerId:l,properties:c})).forEach((e=>{e.getPropertyKey()!==Tn&&e.getPropertyKey()!==xn||d(e.getRawValue()),e.getPropertyKey()!==On&&e.getPropertyKey()!==wn||p((e=>{const t=e/1e3;return t>1e3?(t/1e3).toFixed(2)+" sec":(t/1e3).toFixed(0)+" ms"})(+e.getRawValue()))}))})()})),o.a.createElement(a.EuiOutsideClickDetector,{onOutsideClick:()=>{null!=e&&e()}},o.a.createElement(o.a.Fragment,null,o.a.createElement(a.EuiPopoverTitle,null,s),o.a.createElement(a.EuiDescriptionList,{type:"column",textStyle:"reverse",compressed:!0,style:{width:300}},o.a.createElement(kn,{className:"eui-textNoWrap"},_e.avgPageLoadDuration),o.a.createElement(jn,null,f))))}const In=o.a.memo(Sn),Fn=(e,t,n=!1)=>({meta:{index:vn,type:"phrases",key:e,value:t.join(", "),params:t,alias:null,negate:n,disabled:!1},query:{bool:{should:t.map((t=>({match_phrase:{[e]:t}}))),minimum_should_match:1}}}),_n={meta:{index:vn,alias:null,negate:!1,disabled:!1,type:"exists",key:"transaction.marks.navigationTiming.fetchStart",value:"exists"},query:{exists:{field:"transaction.marks.navigationTiming.fetchStart"}}},Ln=()=>{const{urlParams:e,uxUiFilters:t}=Oe(),{serviceName:n,searchTerm:r}=e,{browser:a,device:o,os:u,location:l,transactionUrl:c,browserExcluded:s,deviceExcluded:d,osExcluded:f,locationExcluded:p,transactionUrlExcluded:m}=t;return Object(i.useMemo)((()=>{const e=[_n];var t,i;return n&&e.push((t=ue.l,{meta:{index:vn,alias:null,negate:!1,disabled:!1,type:"phrase",key:t,params:{query:i=n}},query:{term:{[t]:i}}})),a&&e.push(Fn(ue.t,a)),o&&e.push(Fn(ue.s,o)),u&&e.push(Fn(ue.u,u)),l&&e.push(Fn(ue.b,l)),c&&e.push(Fn(ue.r,c)),s&&e.push(Fn(ue.t,s,!0)),d&&e.push(Fn(ue.s,d,!0)),f&&e.push(Fn(ue.u,f,!0)),p&&e.push(Fn(ue.b,p,!0)),m&&e.push(Fn(ue.r,m,!0)),r&&e.push(((e,t)=>({meta:{index:vn,alias:null,negate:!1,disabled:!1,type:"term",key:e,params:{query:t}},query:{wildcard:{[e]:{value:`*${t}*`}}}}))(ue.r,r)),e}),[n,a,o,u,l,c,s,d,f,p,m,r])},Mn=d.a.div.withConfig({displayName:"EmbeddedPanel",componentId:"sc-xloqc8-0"})(["z-index:auto;flex:1;display:flex;flex-direction:column;height:100%;position:relative;.embPanel__content{display:flex;flex:1 1 100%;z-index:1;min-height:0;}&&& .maplibregl-canvas{animation:none !important;}"]);function Pn(){const{rangeId:e,urlParams:t}=Oe(),{start:n,end:r,serviceName:a}=t,u=Ln(),l=function(){const{urlParams:e}=Oe(),{serviceName:t}=e;yn.whereQuery=En(t);const n=e=>({type:"VECTOR",properties:{icon:{type:hn.STYLE_TYPE.STATIC,options:{value:"marker"}},fillColor:{type:hn.STYLE_TYPE.DYNAMIC,options:{color:"Blue to Red",colorCategory:"palette_0",fieldMetaOptions:{isEnabled:!0,sigma:3},type:hn.COLOR_MAP_TYPE.ORDINAL,field:{name:e,origin:hn.FIELD_ORIGIN.JOIN},useCustomColorRamp:!1}},lineColor:{type:hn.STYLE_TYPE.DYNAMIC,options:{color:"#3d3d3d",fieldMetaOptions:{isEnabled:!0}}},lineWidth:{type:hn.STYLE_TYPE.STATIC,options:{size:1}},iconSize:{type:hn.STYLE_TYPE.STATIC,options:{size:6}},iconOrientation:{type:hn.STYLE_TYPE.STATIC,options:{orientation:0}},labelText:{type:hn.STYLE_TYPE.STATIC,options:{value:""}},labelPosition:{options:{position:hn.LABEL_POSITIONS.CENTER}},labelZoomRange:{options:{useLayerZoomRange:!0,minZoom:0,maxZoom:24}},labelColor:{type:hn.STYLE_TYPE.STATIC,options:{color:"#000000"}},labelSize:{type:hn.STYLE_TYPE.STATIC,options:{size:14}},labelBorderColor:{type:hn.STYLE_TYPE.STATIC,options:{color:"#FFFFFF"}},symbolizeAs:{options:{value:hn.SYMBOLIZE_AS_TYPES.CIRCLE}},labelBorderSize:{options:{size:hn.LABEL_BORDER_SIZES.SMALL}}},isTimeAware:!0}),r={joins:[{leftField:"iso2",right:yn}],sourceDescriptor:{type:"EMS_FILE",id:"world_countries",tooltipProperties:[Tn]},style:n(wn),id:"e8d1d974-eed8-462f-be2c-f0004b7619b2",label:null,minZoom:0,maxZoom:24,alpha:.75,visible:!0,type:hn.LAYER_TYPE.GEOJSON_VECTOR};return bn.whereQuery=En(t),[r,{joins:[{leftField:"region_iso_code",right:bn}],sourceDescriptor:{type:"EMS_FILE",id:"administrative_regions_lvl2",tooltipProperties:["region_iso_code",xn]},style:n(On),id:"0e936d41-8765-41c9-97f0-05e166391366",label:null,minZoom:3,maxZoom:24,alpha:.75,visible:!0,type:hn.LAYER_TYPE.GEOJSON_VECTOR}]}(),[c,s]=Object(i.useState)(),d=Object(i.useRef)(null),{embeddable:f,maps:p}=Ae();if(!f)throw new Error("Embeddable start plugin not found");const m=f.getEmbeddableFactory(hn.MAP_SAVED_OBJECT_TYPE),g={attributes:{title:""},id:Object(an.v4)(),filters:u,viewMode:nn.ViewMode.VIEW,isLayerTOCOpen:!1,query:{query:'transaction.type : "page-load"',language:"kuery"},...n&&{timeRange:{from:new Date(n).toISOString(),to:new Date(r).toISOString()}},hideFilterActions:!0};function h({addFilters:e,closeTooltip:t,features:n,isLocked:r,getLayerName:a,loadFeatureProperties:i}){const u={addFilters:e,closeTooltip:t,isLocked:r,getLayerName:a,loadFeatureProperties:i};return o.a.createElement(In,U()({},u,{features:n}))}return Object(i.useEffect)((()=>{null!=c&&a&&(c.updateInput({filters:u}),c.reload())}),[u]),Object(i.useEffect)((()=>{if(null!=c&&null!=n&&null!=r){const e={from:new Date(n).toISOString(),to:new Date(r).toISOString()};c.updateInput({timeRange:e}),c.reload()}}),[n,r,e]),Object(i.useEffect)((()=>{!async function(){if(!m)throw new Error("Map embeddable not found.");const e=await m.create({...g,title:"Visitors by region"});if(e&&!Object(nn.isErrorEmbeddable)(e)){e.setRenderTooltipContent(h);const t=p?await p.createLayerDescriptors.createBasemapLayerDescriptor():null;t&&l.unshift(t),await e.setLayerList(l)}s(e)}()}),[]),Object(i.useEffect)((()=>{d.current&&c&&a&&c.render(d.current)}),[c,d,a]),o.a.createElement(Mn,null,o.a.createElement("div",{"data-test-subj":"xpack.ux.regionMap.embeddedPanel",className:"embPanel__content",ref:d}))}Pn.displayName="EmbeddedMap";const Rn=o.a.memo(Pn);function Cn(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(a.EuiTitle,{size:"xs"},o.a.createElement("h3",null,_e.pageLoadDurationByRegion)),o.a.createElement(a.EuiSpacer,{size:"s"}),o.a.createElement("div",{style:{height:400}},o.a.createElement(Rn,null)))}function Nn(){return o.a.createElement(a.EuiFlexGroup,{gutterSize:"s",wrap:!0},o.a.createElement(a.EuiFlexItem,{style:{flexBasis:650}},o.a.createElement(a.EuiPanel,{hasBorder:!0},o.a.createElement(Cn,null))),o.a.createElement(a.EuiFlexItem,{style:{flexBasis:650}},o.a.createElement(a.EuiPanel,{hasBorder:!0},o.a.createElement(gn,null))))}function Un(e,t,n=50,r,a){const i={uiFilters:a||{}},o=Object(ce.c)({setup:i,urlQuery:r,checkFetchStartFieldExists:!1,start:e,end:t});return Object(le.a)(o,{body:{size:0,track_total_hits:!0,aggs:{hasFetchStartField:{filter:{exists:{field:"transaction.marks.navigationTiming.fetchStart"}},aggs:{totalPageLoadDuration:{percentiles:{field:ue.n,percents:[n],hdr:{number_of_significant_value_digits:3}}},backEnd:{percentiles:{field:ue.p,percents:[n],hdr:{number_of_significant_value_digits:3}}}}}}}})}const An=d()(a.EuiFlexGroup).withConfig({displayName:"ClFlexGroup",componentId:"sc-mq621j-0"})(["flex-direction:row;@media only screen and (max-width:768px){flex-direction:row;justify-content:space-between;}"]);function Dn(e,t){return void 0===t?_e.dataMissing:mt(t,e)}function Vn({pageViews:e}){return void 0===e?i.createElement(i.Fragment,null,_e.dataMissing):e<1e4?i.createElement(i.Fragment,null,Je()(e).format("0,0")):i.createElement(a.EuiToolTip,{content:Je()(e).format("0,0")},i.createElement(i.Fragment,null,Je()(e).format("0 a")))}function Bn(){var e,t,n,r;const{data:o,loading:u}=function(){const{rangeId:e,urlParams:{start:t,end:n,percentile:r=50,searchTerm:a},uxUiFilters:o}=Oe(),{dataViewTitle:u}=Se(),{data:l,loading:c}=Object(ee.useEsSearch)({index:u,...Un(Ie(t),Ie(n),r,a,o)},[t,n,r,a,o,u,e],{name:"UxClientMetrics"});return{data:Object(i.useMemo)((()=>{var e,t,n;if(null==l||!l.aggregations)return{};const{hasFetchStartField:{backEnd:a,totalPageLoadDuration:i}}=l.aggregations,o=r.toFixed(1),u=(null!==(e=i.values[o])&&void 0!==e?e:0)/1e3,c=null!==(t=a.values[o])&&void 0!==t?t:0;return{pageViews:{value:null!==(n=l.hits.total.value)&&void 0!==n?n:0},totalPageLoadDuration:{value:u},backEnd:{value:c},frontEnd:{value:u-c}}}),[l,r]),loading:c}}(),{setSharedData:l}=Object(i.useContext)(ie);Object(i.useEffect)((()=>{var e,t;l({totalPageViews:null!==(e=null==o||null===(t=o.pageViews)||void 0===t?void 0:t.value)&&void 0!==e?e:0})}),[o,l]);const c={minWidth:"150px",maxWidth:"250px"};return i.createElement(An,{wrap:!0,responsive:!1},i.createElement(a.EuiFlexItem,{style:c},i.createElement(a.EuiStat,{"data-test-subj":"uxClientMetrics-totalPageLoad",titleSize:"l",title:Dn("ms",null==o||null===(e=o.totalPageLoadDuration)||void 0===e?void 0:e.value),description:i.createElement(i.Fragment,null,_e.totalPageLoad,i.createElement(a.EuiIconTip,{content:_e.totalPageLoadTooltip,type:"questionInCircle"})),isLoading:!!u})),i.createElement(a.EuiFlexItem,{style:c},i.createElement(a.EuiStat,{"data-test-subj":"uxClientMetrics-backend",titleSize:"l",title:Dn("ms",null==o||null===(t=o.backEnd)||void 0===t?void 0:t.value),description:i.createElement(i.Fragment,null,_e.backEnd,i.createElement(a.EuiIconTip,{content:_e.backEndTooltip,type:"questionInCircle"})),isLoading:!!u})),i.createElement(a.EuiFlexItem,{style:c},i.createElement(a.EuiStat,{"data-test-subj":"uxClientMetrics-frontend",titleSize:"l",title:Dn("ms",null==o||null===(n=o.frontEnd)||void 0===n?void 0:n.value),description:i.createElement(i.Fragment,null,_e.frontEnd,i.createElement(a.EuiIconTip,{content:_e.frontEndTooltip,type:"questionInCircle"})),isLoading:!!u})),i.createElement(a.EuiFlexItem,{style:c},i.createElement(a.EuiStat,{"data-test-subj":"uxClientMetrics-pageViews",titleSize:"l",title:i.createElement(Vn,{pageViews:null==o||null===(r=o.pageViews)||void 0===r?void 0:r.value}),description:_e.pageViews,isLoading:!!u})))}function zn(){const{urlParams:{percentile:e}}=Oe();return i.createElement(a.EuiPanel,{hasBorder:!0},i.createElement(a.EuiFlexGroup,{justifyContent:"spaceBetween"},i.createElement(a.EuiFlexItem,{grow:1,"data-cy":"client-metrics"},i.createElement(a.EuiTitle,{size:"xs"},i.createElement("h3",null,_e.pageLoad," (",pt(e),")")),i.createElement(a.EuiSpacer,{size:"s"}),i.createElement(Bn,null))))}function Wn(){const{isSmall:e}=Re();return o.a.createElement(a.EuiFlexGroup,{direction:e?"row":"column",gutterSize:"s"},o.a.createElement(a.EuiFlexItem,null,o.a.createElement(zn,null)),o.a.createElement(a.EuiFlexItem,null,o.a.createElement(Bt,null)),o.a.createElement(a.EuiFlexItem,null,o.a.createElement(tn,null)),o.a.createElement(a.EuiFlexItem,null,o.a.createElement(ee.LoadWhenInView,{initialHeight:300,placeholderTitle:_e.pageLoadDurationByRegion},o.a.createElement(Nn,null))),o.a.createElement(a.EuiFlexItem,null,o.a.createElement(ee.LoadWhenInView,{initialHeight:300,placeholderTitle:_e.jsErrors},o.a.createElement($t,null))))}function qn(){return Object(ee.useTrackPageview)({app:"ux",path:"home"}),Object(ee.useTrackPageview)({app:"ux",path:"home",delay:15e3}),o.a.createElement(o.a.Fragment,null,o.a.createElement(Dt,null),o.a.createElement(a.EuiSpacer,{size:"m"}),o.a.createElement(Wn,null))}const Gn=B.i18n.translate("xpack.ux.title",{defaultMessage:"Dashboard"});function $n(){const{docLinks:e,http:t,observabilityShared:n}=Ae(),r=n.navigation.PageTemplate,{hasData:a,loading:u}=function(){const[e,t]=ke()("uxAppHasDataBoolean",!1),{dataViewTitle:n}=Se(),{data:r,loading:a}=Object(ee.useEsSearch)({index:n,...Object(Ce.b)({})},[n],{name:"UXHasRumData"});return Object(i.useEffect)((()=>{if(r){const{hasData:e}=Object(Ce.a)(r,n);t(e)}}),[n,r,t]),r?{hasData:Object(Ce.a)(r,n).hasData,loading:a}:{loading:a,hasData:e}}(),l=a?void 0:{solution:B.i18n.translate("xpack.ux.overview.solutionName",{defaultMessage:"Observability"}),action:{elasticAgent:{title:B.i18n.translate("xpack.ux.overview.beatsCard.title",{defaultMessage:"Add RUM data"}),description:B.i18n.translate("xpack.ux.overview.beatsCard.description",{defaultMessage:"Enable RUM with the APM agent to collect user experience data."}),href:t.basePath.prepend("/app/apm/tutorial")}},docsLink:e.links.observability.guide};return o.a.createElement(r,{noDataConfig:u?void 0:l,pageHeader:{children:o.a.createElement(Qn,null)},isPageDataLoaded:!1===u,isEmptyState:u},u&&o.a.createElement(Be,null),o.a.createElement("div",{style:{visibility:u?"hidden":"initial"}},o.a.createElement(qn,null)))}function Qn(){const e=Re().isMedium?{}:{maxWidth:"70%"};return o.a.createElement("div",{style:{width:"100%"}},o.a.createElement(a.EuiFlexGroup,{wrap:!0},o.a.createElement(a.EuiFlexItem,null,o.a.createElement(a.EuiTitle,null,o.a.createElement("h1",{className:"eui-textNoWrap"},Gn))),o.a.createElement(a.EuiFlexItem,{style:{alignItems:"flex-end",...e}},o.a.createElement(Ve,null))),o.a.createElement(a.EuiSpacer,{size:"m"}),o.a.createElement(a.EuiFlexGroup,{wrap:!0},o.a.createElement(a.EuiFlexItem,null,o.a.createElement(Fe,null)),o.a.createElement(a.EuiFlexItem,null,o.a.createElement(Pe,null)),o.a.createElement(a.EuiFlexItem,null,o.a.createElement($e,null))))}function Hn({isDev:e}){const{inspectorAdapters:t}=Object(ee.useInspectorContext)(),{uiSettings:n,inspector:r}=Ae();return n.get(X.enableInspectEsQueries)||e?o.a.createElement(a.EuiHeaderLink,{color:"primary",onClick:()=>{r.open(t)}},B.i18n.translate("xpack.ux.inspectButtonText",{defaultMessage:"Inspect"})):null}const Yn=B.i18n.translate("xpack.ux.analyzeDataButtonLabel",{defaultMessage:"Explore data"}),Jn=B.i18n.translate("xpack.ux.analyzeDataButtonLabel.message",{defaultMessage:"Go to Explore Data, where you can select and filter result data in any dimension and look for the cause or impact of performance problems."});function Kn({appMountParameters:e,isDev:t}){const{http:n,application:r,observabilityAIAssistant:{ObservabilityAIAssistantActionMenuItem:i}}=Ae(),{urlParams:u}=Oe(),{rangeTo:l,rangeFrom:c,serviceName:s}=u,d=Object(Qe.createExploratoryViewUrl)({reportType:"kpi-over-time",allSeries:[{dataType:"ux",name:`${s}-page-views`,time:{from:c,to:l},reportDefinitions:{[ue.l]:s?[s]:[]},selectedMetricField:Qe.RECORDS_FIELD}]},n.basePath.get());return o.a.createElement(ee.HeaderMenuPortal,{setHeaderActionMenu:e.setHeaderActionMenu,theme$:e.theme$},o.a.createElement(a.EuiHeaderLinks,{gutterSize:"xs"},o.a.createElement(a.EuiToolTip,{position:"top",content:o.a.createElement("p",null,Jn)},o.a.createElement(a.EuiHeaderLink,{"data-test-subj":"uxAnalyzeBtn",color:"text",href:d,iconType:"visBarVerticalStacked"},Yn)),o.a.createElement(a.EuiHeaderLink,{color:"primary",iconType:"indexOpen",iconSide:"left",href:r.getUrlForApp("/apm/tutorial")},B.i18n.translate("xpack.ux.addDataButtonLabel",{defaultMessage:"Add data"})),o.a.createElement(Hn,{isDev:t}),i?o.a.createElement(i,null):null))}const Zn=Object(i.createContext)({}),Xn=[{exact:!0,path:"/",render:()=>o.a.createElement(c.Redirect,{to:"/ux"}),breadcrumb:Gn}];function er(){const[e]=Object(W.useUiSetting$)("theme:darkMode"),{http:t}=Ae(),n=t.basePath.get();return Object(ee.useBreadcrumbs)([{text:B.i18n.translate("xpack.ux.breadcrumbs.root",{defaultMessage:"User Experience"}),href:n+"/app/ux"},{text:B.i18n.translate("xpack.ux.breadcrumbs.dashboard",{defaultMessage:"Dashboard"})}]),o.a.createElement(s.ThemeProvider,{theme:t=>({...t,eui:e?r.euiDarkVars:r.euiLightVars,darkMode:e})},o.a.createElement("div",{className:z.APP_WRAPPER_CLASS,"data-test-subj":"csmMainContainer"},o.a.createElement($n,null)))}const tr=function(e){const t=new Map,n=new Map,r=Object.entries({}).map((([e,t])=>a({...t,path:e})));function a(e){var r,i,o;const u={component:()=>e.element,routes:null!==(r=null===(i=Object.entries(null!==(o=e.children)&&void 0!==o?o:{}))||void 0===i?void 0:i.map((([e,t])=>a({...t,path:e}))))&&void 0!==r?r:[],exact:!e.children||0===Object.values(e.children).length,path:M(e.path)};return t.set(u,e),n.set(e,u),u}function i(e){const n=Object(L.matchRoutes)(r,M(e));if(!n.length)throw new Error(`No matching route found for ${e}`);return n.map((e=>t.get(e.route)))}const o=(...e)=>{let n=!1;"boolean"==typeof e[e.length-1]&&(n=e[e.length-1],e.pop());const a=e[e.length-1];e.pop();let i=e;0===i.length&&(i=[a.pathname||"/"]);let o=[],u=-1;const l=i.map((t=>{const n=t.endsWith("/*")||0===e.length?1:0;return{length:t.length,greedy:n,path:t}})),c=Object(p.orderBy)(l,["greedy","length"],["desc","desc"]);for(const{path:e,greedy:t}of c){if(o=Object(L.matchRoutes)(r,M(a.pathname)),u=t?o.length-1:Object(p.findLastIndex)(o,(t=>t.route.path===M(e))),-1!==u)break;u=-1}if(-1===u){if(n)return[];let e;throw e=1===i.length?`${i[0]} does not match current path ${a.pathname}`:`None of ${i.join(", ")} match current path ${a.pathname}`,new Error(e)}if(!o.some((e=>e.match.isExact)))throw new NotFoundRouteException("No route was matched");return o.slice(0,u+1).map((e=>{const n=t.get(e.route);if(null!=n&&n.params){var r;const t=y(n.params).decode(Object(p.merge)({},null!==(r=n.defaults)&&void 0!==r?r:{},{path:e.match.params,query:_.a.parse(a.search,{decode:!0})}));if(Object(m.isLeft)(t))throw new Error(I.PathReporter.report(t).join("\n"));return{match:{...e.match,params:t.right},route:n}}return{match:{...e.match,params:{path:{},query:{}}},route:n}}))};return{link:(e,...t)=>((e,...t)=>{const n=t[0],r=Object(p.merge)({path:{},query:{}},n),a=i(e=e.split("/").map((e=>{const t=e.match(/(?:{([a-zA-Z]+)})/);return t?r.path[t[1]]:e})).join("/")),o=g(...Object(p.compact)(a.map((e=>e.params)))),u=Object(p.merge)({},...a.map((e=>{var t;return null!==(t=e.defaults)&&void 0!==t?t:{}})),r),l=o.decode(u);if(Object(m.isLeft)(l))throw new Error(I.PathReporter.report(l).join("\n"));return _.a.stringifyUrl({url:e,query:u.query},{encode:!0})})(e,...t),getParams:(...e)=>{const t=o(...e);return t.length?Object(p.merge)({path:{},query:{}},...t.map((e=>{var t,n;return Object(p.merge)({},null!==(t=null===(n=e.route)||void 0===n?void 0:n.defaults)&&void 0!==t?t:{},e.match.params)}))):void 0},matchRoutes:(...e)=>o(...e),getRoutePath:e=>e.path,getRoutesToMatch:e=>i(e)}}();function nr({appMountParameters:e,core:t,deps:n,corePlugins:{embeddable:r,inspector:i,maps:u,observability:l,observabilityShared:c,observabilityAIAssistant:s,exploratoryView:d,data:f,dataViews:p,lens:m},isDev:g}){const{history:h}=e,v=t.i18n,y={...n,maps:u};return Object(te.b)(t),o.a.createElement("div",{className:z.APP_WRAPPER_CLASS},o.a.createElement(Z,{coreStart:{application:t.application}},o.a.createElement(W.KibanaContextProvider,{services:{...t,...y,inspector:i,observability:l,observabilityShared:c,observabilityAIAssistant:s,embeddable:r,exploratoryView:d,data:f,dataViews:p,lens:m}},o.a.createElement(W.KibanaThemeProvider,{theme$:e.theme$,modify:{breakpoint:{xxl:1600,xxxl:2e3}}},o.a.createElement(Zn.Provider,{value:{appMountParameters:e,exploratoryView:d,observabilityShared:c}},o.a.createElement(v.Context,null,o.a.createElement(V,{history:h,router:tr},o.a.createElement(X.DatePickerContextProvider,null,o.a.createElement(ee.InspectorContextProvider,null,o.a.createElement(Te,null,o.a.createElement(a.EuiErrorBoundary,null,o.a.createElement(oe,null,o.a.createElement(er,null))),o.a.createElement(Kn,{appMountParameters:e,isDev:g})))))))))))}const rr=({core:e,deps:t,appMountParameters:n,corePlugins:r,isDev:a})=>{const{element:i}=n;return Object(te.b)(e),(async()=>await Object(te.a)("POST /internal/apm/data_view/static",{signal:null}))().catch((e=>{console.log("Error creating static data view",e)})),l.a.render(o.a.createElement(nr,{appMountParameters:n,core:e,deps:t,corePlugins:r,isDev:a}),i),()=>{r.data.search.session.clear(),l.a.unmountComponentAtNode(i)}}}}]);