/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.alerting_bundle_jsonpfunction=window.alerting_bundle_jsonpfunction||[]).push([[5],{39:function(e,n,t){"use strict";t.d(n,"a",(function(){return u}));var a=t(15),i=t.n(a),r=t(32),c=t(6),o=t(31),s=t(35);const u=e=>{const n=e.rRule.dtstart,t=i()(n).add(e.duration),a=Object(c.has)(e,"rRule.interval"),u={title:e.title,startDate:n,endDate:t.toISOString(),timezone:[e.rRule.tzid],recurring:a,categoryIds:e.categoryIds||[],scopedQuery:e.scopedQuery};if(!a)return u;const l=e.rRule,y=d(l),b=l.freq,w=l.until?o.d.ON_DATE:l.count?o.d.AFTER_X:o.d.NEVER,j={frequency:y?"CUSTOM":b,interval:l.interval,ends:w};return y&&(j.customFrequency=b),l.until&&(j.until=l.until),l.count&&(j.count=l.count),b!==r.a.MONTHLY&&l.byweekday&&(j.byweekday=Object(s.a)(l.byweekday,i()(n))),b===r.a.MONTHLY&&(l.byweekday?j.bymonth="weekday":l.bymonthday&&(j.bymonth="day")),u.recurringSchedule=j,u},d=e=>{const n=e.freq;return!(!(e.interval&&e.interval>1)&&(!n||n!==r.a.DAILY||e.byweekday)&&!(n&&n===r.a.WEEKLY&&e.byweekday&&e.byweekday.length>1)&&(!n||n!==r.a.MONTHLY||!e.bymonthday))}},40:function(e,n,t){"use strict";t.d(n,"a",(function(){return r})),t(11);var a=t(13),i=t(12);const r=({size:e})=>Object(i.jsx)(a.EuiFlexGroup,{"data-test-subj":"center-justified-spinner",justifyContent:"center"},Object(i.jsx)(a.EuiFlexItem,{grow:!1},Object(i.jsx)(a.EuiLoadingSpinner,{size:e||"xl"})))},65:function(e,n,t){"use strict";t.r(n),t.d(n,"MaintenanceWindowsEditPage",(function(){return f})),t.d(n,"default",(function(){return f}));var a=t(11),i=t.n(a),r=t(17),c=t(13),o=t(36),s=t(33),u=t(29),d=t(41),l=t(50),y=t(1),b=t(0),w=t(14),j=t(30);var g=t(39);var E=t(40),O=t(31),m=t(12);const f=i.a.memo((()=>{const{navigateToMaintenanceWindows:e}=Object(s.c)();Object(o.a)(y.MAINTENANCE_WINDOW_DEEP_LINK_IDS.maintenanceWindowsEdit);const{maintenanceWindowId:n}=Object(r.useParams)(),{maintenanceWindow:t,isLoading:a,isError:i}=(e=>{const{http:n,notifications:{toasts:t}}=Object(j.a)().services,{isInitialLoading:a,isLoading:i,data:r,isError:c}=Object(w.useQuery)({queryKey:["getMaintenanceWindow",e],queryFn:async()=>{const t=await async function({http:e,maintenanceWindowId:n}){return(({r_rule:e,category_ids:n,scoped_query:t,...a})=>({...a,scopedQuery:t,categoryIds:n,rRule:e}))(await e.get(`${y.INTERNAL_BASE_ALERTING_API_PATH}/rules/maintenance_window/${encodeURIComponent(n)}`))}({http:n,maintenanceWindowId:e});return Object(g.a)(t)},onError:()=>{t.addDanger(b.i18n.translate("xpack.alerting.getMaintenanceWindowFailure",{defaultMessage:"Unable to get maintenance window."}))},refetchOnWindowFocus:!1,retry:!1,cacheTime:0});return{maintenanceWindow:r,isLoading:i||a,isError:c}})(n);return i&&e(),!t||a?Object(m.jsx)(E.a,null):Object(m.jsx)(c.EuiPageSection,{restrictWidth:!0},Object(m.jsx)(d.b,{showBackButton:!0,title:u.mb}),Object(m.jsx)(c.EuiSpacer,{size:"xl"}),Object(m.jsx)(l.a,{initialValue:t,maintenanceWindowId:n,onCancel:e,onSuccess:e,scopedQueryFeatureFlag:O.f}))}));f.displayName="MaintenanceWindowsEditPage"}}]);