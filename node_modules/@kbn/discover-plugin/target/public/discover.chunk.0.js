(window.discover_bundle_jsonpfunction=window.discover_bundle_jsonpfunction||[]).push([[0],{107:function(e,t,r){"use strict";r.d(t,"d",(function(){return i})),r.d(t,"c",(function(){return a})),r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return s})),r.d(t,"e",(function(){return u}));var n=r(32);function i({sortDir:e,timeFieldName:t,tieBreakerFieldName:r,isTimeNanosBased:n}){return[a({sortDir:e,timeFieldName:t,isTimeNanosBased:n}),o({sortDir:e,tieBreakerFieldName:r})]}function a({sortDir:e,timeFieldName:t,isTimeNanosBased:r}){return{[t]:{order:e,...r?{format:"strict_date_optional_time_nanos",numeric_type:"date_nanos"}:{format:"strict_date_optional_time"}}}}function o({sortDir:e,tieBreakerFieldName:t}){return{[t]:e}}const s="_doc",c=["_seq_no","_doc","_uid"];function u(e,t){return(t.get(n.c)||[]).filter((t=>c.includes(t)||(e.fields.getByName(t)||{sortable:!1}).sortable))[0]}},115:function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"g",(function(){return a})),r.d(t,"f",(function(){return o})),r.d(t,"e",(function(){return s})),r.d(t,"c",(function(){return c})),r.d(t,"h",(function(){return u})),r.d(t,"d",(function(){return d})),r.d(t,"a",(function(){return l}));var n=r(77);function i(e,t=!0){if(e.getValue().fetchStatus===n.a.COMPLETE)return;const r=e.getValue().recordRawType;e.next({fetchStatus:n.a.COMPLETE,foundDocuments:t,error:void 0,recordRawType:r})}function a(e,t){e.getValue().fetchStatus!==n.a.LOADING&&e.next({...t,fetchStatus:n.a.LOADING})}function o(e){e.getValue().fetchStatus!==n.a.LOADING_MORE&&e.next({...e.getValue(),fetchStatus:n.a.LOADING_MORE})}function s(e,{moreRecords:t,interceptedWarnings:r}){const i=e.getValue();i.fetchStatus===n.a.LOADING_MORE&&e.next({...i,fetchStatus:n.a.COMPLETE,result:null!=t&&t.length?[...i.result||[],...t]:i.result,interceptedWarnings:r})}function c(e,t){const r=e.getValue().recordRawType;e.next({fetchStatus:n.a.ERROR,error:t,recordRawType:r})}function u(e,t,r){e.main$.next({fetchStatus:t,foundDocuments:void 0,recordRawType:r}),e.documents$.next({fetchStatus:t,result:[],recordRawType:r}),e.totalHits$.next({fetchStatus:t,result:void 0,recordRawType:r})}const d=(...e)=>t=>{t instanceof Error&&"AbortError"===t.name||e.forEach((e=>c(e,t)))},l=(e,t)=>{t>0?function(e){if(e.getValue().fetchStatus===n.a.LOADING){const t=e.getValue().recordRawType;e.next({fetchStatus:n.a.PARTIAL,recordRawType:t})}}(e):function(e){i(e,!1)}(e)}},116:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(55);const i=({viewMode:e,isTextBasedQueryMode:t})=>e===n.VIEW_MODE.AGGREGATED_LEVEL&&t?n.VIEW_MODE.DOCUMENT_LEVEL:e},141:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(22);async function i(e,t,r){let i="";if("sql"in e&&(i=Object(n.getIndexPatternFromSQLQuery)(e.sql)),"esql"in e&&(i=Object(n.getIndexPatternFromESQLQuery)(e.esql)),!i&&t)return t;if(null!=t&&t.isPersisted()||i!==(null==t?void 0:t.getIndexPattern())){var a;const e=await r.dataViews.create({title:i});return"date"===(null===(a=e.fields.getByName("@timestamp"))||void 0===a?void 0:a.type)&&(e.timeFieldName="@timestamp"),e}return t}},142:function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return o}));var n=r(60),i=r.n(n);function a(e){if(null==e||!e.from||null==e||!e.to)return!1;const t=i.a.parse(e.from),r=i.a.parse(e.to);return Boolean(t&&r&&t.isValid()&&r.isValid())}function o(e){return!!e&&"number"==typeof(null==e?void 0:e.value)&&(null==e?void 0:e.value)>=0&&"boolean"==typeof(null==e?void 0:e.pause)}},143:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(16),i=r(4),a=r(57);function o(e,t,r,o,s,c,u,d){const l=r.query.timefilter.timefilter.getTime();return Object(a.textBasedQueryStateToAstWithValidation)({filters:u,query:e,time:l,dataView:t,inputQuery:d}).then((e=>{if(e){const t=o.execute(e,null,{inspectorAdapters:s});null==c||c.addEventListener("abort",t.cancel);const r=t.getData();let a,u,d,l=[];return r.pipe(Object(n.pluck)("result")).subscribe((e=>{const t=e;if("error"===t.type)u=t.error.message;else{var r,n,i;const e=t,o=null!==(r=null==e?void 0:e.rows)&&void 0!==r?r:[];a=null!==(n=null==e?void 0:e.columns)&&void 0!==n?n:void 0,d=null!==(i=e.warning)&&void 0!==i?i:void 0,l=o.map(((e,t)=>({id:String(t),raw:e,flattened:e})))}})),Object(i.lastValueFrom)(r).then((()=>{if(u)throw new Error(u);return{records:l||[],textBasedQueryColumns:a,textBasedHeaderWarning:d}}))}return{records:[],textBasedQueryColumns:[],textBasedHeaderWarning:void 0}})).catch((e=>{throw new Error(e.message)}))}},144:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(12),i=r(61),a=r(32),o=r(85),s=r(79),c=r(116);function u({savedSearch:e,services:t}){var r;const{searchSource:u}=e,{data:d,uiSettings:l,storage:f}=t,g=u.getField("index"),p=u.getField("query")||d.query.queryString.getDefaultQuery(),m=Object(o.b)(null!==(r=e.sort)&&void 0!==r?r:[],g),v=function(e,t){return e.columns&&e.columns.length>0?[...e.columns]:t.get(a.p)&&Object(n.isEqual)(t.get(a.d),[])?["_source"]:[...t.get(a.d)]}(e,l),h=Object(i.getChartHidden)(f,"discover"),b={query:p,sort:m.length?m:Object(o.a)(g,l.get(a.t,"desc"),l.get(a.e,!1)),columns:v,index:null==g?void 0:g.id,interval:"auto",filters:Object(n.cloneDeep)(u.getOwnField("filter")),hideChart:"boolean"==typeof h?h:void 0,viewMode:void 0,hideAggregatedPreview:void 0,savedQuery:void 0,rowHeight:void 0,rowsPerPage:void 0,sampleSize:void 0,grid:void 0,breakdownField:void 0};return e.grid&&(b.grid=e.grid),void 0!==e.hideChart&&(b.hideChart=e.hideChart),void 0!==e.rowHeight&&(b.rowHeight=e.rowHeight),e.viewMode&&(b.viewMode=Object(c.a)({viewMode:e.viewMode,isTextBasedQueryMode:Object(s.a)(p)})),e.hideAggregatedPreview&&(b.hideAggregatedPreview=e.hideAggregatedPreview),e.rowsPerPage&&(b.rowsPerPage=e.rowsPerPage),e.sampleSize&&(b.sampleSize=e.sampleSize),e.breakdownField&&(b.breakdownField=e.breakdownField),b}},156:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(22),i=r(12),a=r(88);function o(e,t){var r,o,s;return e&&e.query&&!Object(n.isOfAggregateQueryType)(e.query)&&!e.query.language&&(e.query=(o=e.query,Object(i.has)(o,"language")?o:{query:o,language:"lucene"})),"string"==typeof(null==e||null===(r=e.sort)||void 0===r?void 0:r[0])&&("asc"===(null==e||null===(s=e.sort)||void 0===s?void 0:s[1])||"desc"===e.sort[1]?e.sort=[[e.sort[0],e.sort[1]]]:delete e.sort),null!=e&&e.sort&&!e.sort.length&&delete e.sort,null==e||!e.rowsPerPage||"number"==typeof e.rowsPerPage&&e.rowsPerPage>0||delete e.rowsPerPage,null==e||!e.sampleSize||!Object(n.isOfAggregateQueryType)(e.query)&&"number"==typeof e.sampleSize&&e.sampleSize>0&&e.sampleSize<=Object(a.b)(t)||delete e.sampleSize,e}},298:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(12);const i=["_type","_source"];function a(e,t,r){var a;const o={};function s(e,i=""){for(const[a,c]of Object.entries(e)){const e=i+a,u=null==t?void 0:t.fields.getByName(e);if(!1===(null==r?void 0:r.shallow)){const t="nested"===(null==u?void 0:u.type);if(Array.isArray(c)&&!t){c.forEach((t=>Object(n.isPlainObject)(t)&&s(t,e+".")));continue}}else if(void 0!==o[e])continue;const d=u&&"conflict"!==u.type,l=!Object(n.isPlainObject)(c);d||l?o[e]?Array.isArray(o[e])?o[e].push(c):o[e]=[o[e],c]:o[e]=c:s(c,e+".")}}return s(e.fields||{}),!1!==(null==r?void 0:r.source)&&e._source?s(e._source):null!=r&&r.includeIgnoredValues&&e.ignored_field_values&&Object.entries(e.ignored_field_values).forEach((([e,t])=>{o[e]?Array.isArray(o[e])?o[e]=[...o[e],...t]:o[e]=[o[e],...t]:o[e]=t})),null==t||null===(a=t.metaFields)||void 0===a||a.forEach((t=>{i.includes(t)||"_"!==t.charAt(0)||(o[t]=e[t])})),new Proxy(o,{ownKeys:e=>Reflect.ownKeys(e).sort(((e,r)=>{var n,i;const a=null==t||null===(n=t.metaFields)||void 0===n?void 0:n.includes(String(e)),o=null==t||null===(i=t.metaFields)||void 0===i?void 0:i.includes(String(r));return a&&o?String(e).localeCompare(String(r)):a?1:o?-1:String(e).localeCompare(String(r))}))})}},302:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(53),i=r(22);function a(e,t){const r=new RegExp(Object(n.escapeRegExp)(e)+"(\\.|$)");return!t.fields.getByName(e)&&!!t.fields.getAll().find((e=>{var t;const n=Object(i.getDataViewFieldSubtypeNested)(e);return!!n&&r.test(null!==(t=null==n?void 0:n.nested.path)&&void 0!==t?t:"")}))}},316:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return o}));var n=r(298);const i=e=>{const t=e._routing?e._routing:"";return[e._index,e._id,t].join("::")};function a(e,t,r){return{id:i(e),raw:e,flattened:Object(n.a)(e,t,{includeIgnoredValues:!0}),isAnchor:r}}function o(e,t){return e.map((e=>a(e,t)))}},77:function(e,t,r){"use strict";let n;r.d(t,"a",(function(){return n})),function(e){e.UNINITIALIZED="uninitialized",e.LOADING="loading",e.LOADING_MORE="loading_more",e.PARTIAL="partial",e.COMPLETE="complete",e.ERROR="error"}(n||(n={}))},78:function(e,t,r){"use strict";r.d(t,"a",(function(){return g})),r.d(t,"f",(function(){return p})),r.d(t,"b",(function(){return m})),r.d(t,"c",(function(){return v})),r.d(t,"d",(function(){return b})),r.d(t,"e",(function(){return S}));var n=r(27),i=r(22),a=r(1),o=r(12),s=r(46),c=r(80),u=r(156),d=r(144),l=r(95);const f="_a",{Provider:g,useSelector:p}=Object(n.createStateContainerReactHelpers)(),m=({stateStorage:e,savedSearch:t,services:r})=>{let o=v(e,t,r),u=o;const l=Object(n.createStateContainer)(o),g={...l,set:e=>{e&&(u=l.getState(),l.set(e))}},p=async(t={},r=!0)=>{Object(c.a)("[appState] replaceUrlState",{newPartial:t,merge:r});const n=r?{...l.getState(),...t}:t;await e.set(f,n,{replace:!0})},m=()=>(Object(c.a)("[appState] start syncing state with URL"),Object(a.syncState)({storageKey:f,stateContainer:g,stateStorage:e}));return{...g,isEmptyURL:()=>null==e.get(f),getPrevious:()=>u,hasChanged:()=>!S(o,l.getState()),initAndSync:t=>{Object(c.a)("[appState] initialize state and sync with URL",t);const{data:n}=r,a=t.searchSource.getField("index");l.getState().index!==(null==a?void 0:a.id)&&h(l,{index:null==a?void 0:a.id});const o=Object(s.connectToQueryState)(n.query,l,{filters:i.FilterStateStore.APP_STATE,query:!0}),{stop:u}=Object(s.syncGlobalQueryStateWithUrl)(n.query,e),{start:d,stop:f}=m();return p({}).then((()=>d())),()=>{o(),u(),f()}},resetToState:e=>{Object(c.a)("[appState] reset state to",e),u=e,l.set(e)},resetInitialState:()=>{Object(c.a)("[appState] reset initial state to the current state"),o=l.getState()},replaceUrlState:p,syncState:m,update:(e,t=!1)=>{if(Object(c.a)("[appState] update",{newPartial:e,replace:t}),t)return p(e);u={...l.getState()},h(l,e)},getAppStateFromSavedSearch:e=>Object(d.a)({savedSearch:e,services:r})}};function v(e,t,r){const n=null==e?void 0:e.get(f),i=Object(d.a)({savedSearch:t,services:r});return Object(l.a)(null===n?i:{...i,...Object(u.a)(n,r.uiSettings)},r.uiSettings)}function h(e,t){Object(c.a)("[appstate] setState",{newState:t});const r=e.getState(),n={...r,...t};S(r,n)||e.set(n)}function b(e,t,r=i.COMPARE_ALL_OPTIONS){return!e&&!t||!(!e||!t)&&Object(i.compareFilters)(e,t,r)}function S(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;const{filters:r=[],...n}=e,{filters:i=[],...a}=t;return Object(o.isEqual)(n,a)&&b(r,i)}},79:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(91),i=r(92);function a(e){return Object(i.a)(e)===n.a.PLAIN}},80:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));const n=(e,t)=>{var r;const n=null===(r=window)||void 0===r?void 0:r.ELASTIC_DISCOVER_LOGGER;n&&("debug"===n?console.log(`[Discover] ${e}`,t):console.log(`[Discover] ${e}`))}},85:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return o})),r.d(t,"d",(function(){return u})),r.d(t,"c",(function(){return l}));var n=r(12);function i(e,t){const r=t.getFieldByName(e);return!(!r||!r.sortable)}function a(e,t){return Array.isArray(e)?function(e){return 2===e.length&&"string"==typeof e[0]&&("desc"===e[1]||"asc"===e[1])}(e)?[{[e[0]]:e[1]}]:e.map((e=>function(e,t){if(Array.isArray(e)&&2===e.length&&i(String(e[0]),t)){const[t,r]=e;return{[t]:r}}if(Object(n.isPlainObject)(e)&&i(Object.keys(e)[0],t))return e}(e,t))).filter((e=>"object"==typeof e)):[]}function o(e,t){return a(e,t).reduce(((e,t)=>{const r=Object.entries(t);return r&&r[0]&&e.push(r[0]),e}),[])}function s(e,t="desc",r=!1){return null!=e&&e.timeFieldName&&i(e.timeFieldName,e)&&!r?[[e.timeFieldName,t]]:[]}var c=r(107);function u({sort:e,dataView:t,defaultSortDir:r,includeTieBreaker:n=!1}){const i=r||"desc";if(!e||!t||Array.isArray(e)&&0===e.length)return null!=t&&t.timeFieldName?[{_doc:i}]:[{_score:i}];const{timeFieldName:o}=t,s=a(e,t),u=s.map((e=>o&&e[o]?Object(c.c)({sortDir:e[o],timeFieldName:o,isTimeNanosBased:t.isTimeNanosBased()}):e));if(n&&o&&s.length){const e=s[0],t=Array.isArray(e)?e[1]:Object.values(e)[0];u.push(Object(c.b)({sortDir:t,tieBreakerFieldName:c.a}))}return u}var d=r(32);function l(e,t,r){return e&&e.length&&t?o(e,t):r?s(t,r.get(d.t,"desc"),r.get(d.e,!1)):[]}},88:function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return o}));var n=r(32),i=r(67);const a=e=>Math.min(e.get(n.n)||500,i.MAX_SAVED_SEARCH_SAMPLE_SIZE),o=(e,t)=>!e||e<0?t.get(n.n):Math.max(Math.min(e,a(t)),i.MIN_SAVED_SEARCH_SAMPLE_SIZE)},91:function(e,t,r){"use strict";r.d(t,"a",(function(){return R})),r.d(t,"b",(function(){return E}));var n=r(4),i=r(56),a=r(94),o=r(32),s=r(141),c=r(79),u=r(92),d=r(77),l=r(3),f=r(142),g=r(12),p=r(52),m=r(85);function v(e,{dataView:t,services:r,sort:n,customFilters:i}){const{uiSettings:a,data:s}=r,c=!a.get(o.p),u=Object(m.d)({sort:n,dataView:t,defaultSortDir:a.get(o.t),includeTieBreaker:!0});e.setField("sort",u),e.setField("trackTotalHits",!0);let d=[...i];if(t.type!==p.DataViewType.ROLLUP){const e=s.query.timefilter.timefilter.createFilter(t);d=e?[...d,e]:d}if(e.setField("filter",d),c){e.removeField("fieldsFromSource");const t={field:"*",include_unmapped:"true"};e.setField("fields",[t])}else e.removeField("fields")}var h=r(115),b=r(16),S=r(46),O=r(316),y=r(88);const w=(e,{abortController:t,inspectorAdapters:r,searchSessionId:i,services:a,getAppState:o})=>{var s;const c=o().sampleSize;e.setField("size",Object(y.a)(c,a.uiSettings)),e.setField("trackTotalHits",!1),e.setField("highlightAll",!0),e.setField("version",!0),"rollup"===(null===(s=e.getField("index"))||void 0===s?void 0:s.type)&&e.setOverwriteDataViewType(void 0);const u=e.getField("index"),d=Boolean(e.getField("searchAfter")),f={description:d?"fetch more documents":"fetch documents"},g=e.fetch$({abortSignal:t.signal,sessionId:d?void 0:i,inspector:{adapter:r.requests,title:d?l.i18n.translate("discover.inspectorRequestDataTitleMoreDocuments",{defaultMessage:"More documents"}):l.i18n.translate("discover.inspectorRequestDataTitleDocuments",{defaultMessage:"Documents"}),description:l.i18n.translate("discover.inspectorRequestDescriptionDocument",{defaultMessage:"This request queries Elasticsearch to fetch the documents."})},executionContext:f,disableWarningToasts:!0}).pipe(Object(b.filter)((e=>!Object(S.isRunningResponse)(e))),Object(b.map)((e=>Object(O.b)(e.rawResponse.hits.hits,u))));return Object(n.lastValueFrom)(g).then((e=>{const t=r.requests,n=[];return t&&a.data.search.showWarnings(t,(e=>(n.push(e),!0))),{records:e,interceptedWarnings:n}}))};var j=r(143);const A=(e,t)=>e.pipe(Object(n.map)((({fetchStatus:e})=>({type:t,fetchStatus:e})))),F=(e,{type:t,fetchStatus:r})=>({...e,[t]:[d.a.COMPLETE,d.a.ERROR].includes(r)}),T=e=>Object.values(e).every((e=>e));let R;function E({services:e,searchSessionManager:t,getAppState:r,getInternalState:p,getSavedSearch:m,setDataView:S}){const{data:O,uiSettings:y,toastNotifications:E}=e,{timefilter:_}=O.query.timefilter,I={requests:new i.RequestAdapter},N=r(),P=Object(u.a)(N.query),D=new n.Subject,x=()=>y.get(o.q)||void 0!==m().id||!_.getRefreshInterval().pause||t.hasSearchSessionIdInURL()?d.a.LOADING:d.a.UNINITIALIZED,q={fetchStatus:x(),recordRawType:P},L={main$:new n.BehaviorSubject(q),documents$:new n.BehaviorSubject(q),totalHits$:new n.BehaviorSubject(q),availableFields$:new n.BehaviorSubject(q)};let M;const $=function({setAutoRefreshDone:e,data:t,main$:r,refetch$:i,searchSessionManager:a}){const{timefilter:o}=t.query.timefilter;return Object(n.merge)(i,o.getFetch$(),o.getAutoRefreshFetch$().pipe(Object(b.tap)((t=>{e(t)})),Object(b.filter)((()=>{const e=r.getValue().fetchStatus;return e!==d.a.LOADING&&e!==d.a.PARTIAL}))),a.newSearchSessionIdFromURL$.pipe(Object(b.filter)((e=>!!e)))).pipe(Object(b.debounceTime)(100))}({setAutoRefreshDone:e=>{M=e},data:O,main$:L.main$,refetch$:D,searchSource:m().searchSource,searchSessionManager:t}).pipe(Object(n.filter)((()=>function({from:e,to:t},r){return!!Object(f.b)({from:e,to:t})||(r.addDanger({title:l.i18n.translate("discover.notifications.invalidTimeRangeTitle",{defaultMessage:"Invalid time range"}),text:l.i18n.translate("discover.notifications.invalidTimeRangeText",{defaultMessage:"The provided time range is invalid. (from: '{from}', to: '{to}')",values:{from:e,to:t}})}),!1)}(_.getTime(),E))),Object(n.tap)((()=>I.requests.reset())),Object(n.map)((e=>({options:{reset:"reset"===e,fetchMore:"fetch_more"===e},searchSessionId:"fetch_more"===e&&t.getCurrentSearchSessionId()||t.getNextSearchSessionId()}))),Object(n.share)());let C,V;return{fetch:async t=>{const n=r().query,i=m().searchSource.getField("index");if(Object(c.a)(n)){const t=await Object(s.a)(n,i,e);t!==i&&S(t)}return t?D.next("reset"):D.next(void 0),D},fetchMore:()=>(D.next("fetch_more"),D),fetch$:$,data$:L,refetch$:D,subscribe:function(){const t=$.pipe(Object(n.mergeMap)((async({options:t,searchSessionId:i})=>{var s,c;const l={initialFetchStatus:x(),inspectorAdapters:I,searchSessionId:i,services:e,getAppState:r,getInternalState:p,savedSearch:m(),useNewFieldsApi:!y.get(o.p)};if(null===(s=C)||void 0===s||s.abort(),null===(c=V)||void 0===c||c.abort(),t.fetchMore){V=new AbortController;const t=window.performance.now();await async function(e,t){try{var r,n;const{getAppState:i,getInternalState:a,services:o,savedSearch:s}=t,c=s.searchSource.createChild(),d=c.getField("index"),l=i().query;if(Object(u.a)(l)===R.PLAIN)return;const f=e.documents$.getValue().result||[],g=null===(r=f[f.length-1])||void 0===r||null===(n=r.raw)||void 0===n?void 0:n.sort;if(!g)return;c.setField("searchAfter",g),Object(h.f)(e.documents$),v(c,{dataView:d,services:o,sort:i().sort,customFilters:a().customFilters});const{records:p,interceptedWarnings:m}=await w(c,t);Object(h.e)(e.documents$,{moreRecords:p,interceptedWarnings:m})}catch(t){Object(h.e)(e.documents$,{moreRecords:[],interceptedWarnings:void 0}),Object(h.d)(e.main$)(t)}}(L,{abortController:V,...l});const r=window.performance.now()-t;return void Object(a.a)(e.analytics,{eventName:"discoverFetchMore",duration:r})}C=new AbortController;const f=M,b=window.performance.now();await function(e,t=!1,r){const{initialFetchStatus:i,getAppState:o,getInternalState:s,services:c,inspectorAdapters:l,savedSearch:f,abortController:p}=r,{data:m}=c,b=f.searchSource.createChild();try{const f=b.getField("index"),S=o().query,O=e.documents$.getValue().query,y=Object(u.a)(S),E=y===R.PLAIN;t&&Object(h.h)(e,i,y),y===R.DOCUMENT&&v(b,{dataView:f,services:c,sort:o().sort,customFilters:s().customFilters}),Object(h.g)(e.main$,{recordRawType:y}),Object(h.g)(e.documents$,{recordRawType:y,query:S}),Object(h.g)(e.totalHits$,{recordRawType:y});const _=E&&S?Object(j.a)(S,f,m,c.expressions,l,p.signal):w(b,r),I=E&&S?"fetchTextBased":"fetchDocuments",N=window.performance.now();return _.then((({records:t,textBasedQueryColumns:r,interceptedWarnings:n,textBasedHeaderWarning:i})=>{if(c.analytics){const e=window.performance.now()-N;Object(a.a)(c.analytics,{eventName:"discoverFetchAllRequestsOnly",duration:e,meta:{fetchType:I}})}e.totalHits$.getValue().fetchStatus===d.a.LOADING&&e.totalHits$.next({fetchStatus:d.a.PARTIAL,result:t.length,recordRawType:y});const o=!E||O&&Object(g.isEqual)(S,O)?d.a.COMPLETE:d.a.PARTIAL;e.documents$.next({fetchStatus:o,result:t,textBasedQueryColumns:r,textBasedHeaderWarning:i,interceptedWarnings:n,recordRawType:y,query:S}),Object(h.a)(e.main$,t.length)})).catch((e=>{if(!p.signal.aborted)throw e})).catch(Object(h.d)(e.documents$,e.main$)),Object(n.firstValueFrom)(Object(n.merge)(A(e.documents$,"documents"),A(e.totalHits$,"totalHits")).pipe(Object(n.scan)(F,{}),Object(n.filter)(T))).then((()=>{e.main$.getValue().fetchStatus!==d.a.ERROR&&Object(h.b)(e.main$)}))}catch(t){return Object(h.c)(e.main$,t),Promise.resolve()}}(L,t.reset,{abortController:C,...l});const S=window.performance.now()-b;var O;Object(a.a)(e.analytics,{eventName:"discoverFetchAll",duration:S}),M===f&&(null===(O=M)||void 0===O||O(),M=void 0)}))).subscribe();return()=>{var e,r;null===(e=C)||void 0===e||e.abort(),null===(r=V)||void 0===r||r.abort(),t.unsubscribe()}},reset:e=>{const t=Object(u.a)(e.searchSource.getField("query"));Object(h.h)(L,x(),t)},inspectorAdapters:I,getInitialFetchStatus:x}}!function(e){e.DOCUMENT="document",e.PLAIN="plain"}(R||(R={}))},92:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(22),i=r(91);function a(e){return e&&Object(n.isOfAggregateQueryType)(e)&&("sql"===Object(n.getAggregateQueryMode)(e)||"esql"===Object(n.getAggregateQueryMode)(e))?i.a.PLAIN:i.a.DOCUMENT}},94:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));const n="performance_metric";function i(e,t){e.reportEvent(n,t)}},95:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(12),i=r(32);function a(e,t){if(!e.columns)return e;const r=!t.get(i.p),a=t.get(i.d);if(r){let t=e.columns.filter((e=>"_source"!==e));return 0!==t.length||Object(n.isEqual)(a,["_source"])||(t=a,t=t.filter((e=>"_source"!==e))),{...e,columns:t}}if(0===e.columns.length){const t=a;return 0===t.length&&t.push("_source"),{...e,columns:[...t]}}return e}}}]);