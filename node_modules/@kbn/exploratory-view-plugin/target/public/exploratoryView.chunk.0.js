/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.exploratoryView_bundle_jsonpfunction=window.exploratoryView_bundle_jsonpfunction||[]).push([[0,4,6,8,9],Array(57).concat([function(e,t,a){"use strict";a.d(t,"d",(function(){return u})),a.d(t,"c",(function(){return c})),a.d(t,"e",(function(){return d})),a.d(t,"b",(function(){return p})),a.d(t,"f",(function(){return f})),a.d(t,"a",(function(){return m}));var r=a(1),i=a.n(r),n=a(8),l=a(11),o=(a(5),a(74));const s=Object(r.createContext)({});function u(e){return(null!=e?e:[]).map((e=>function(e){const{dt:t,op:a,st:r,bd:i,ft:n,time:l,rdf:o,mt:s,h:u,n:c,c:d,spa:p,...f}=e;return{operationType:a,seriesType:r,breakdown:i,filters:n,time:l,reportDefinitions:o,dataType:t,selectedMetricField:s,hidden:u,name:c,color:d,showPercentileAnnotations:p,...f}}(e)))}const c="sr",d="reportType";function p({children:e,storage:t}){const[a,p]=Object(r.useState)((()=>{var e;return u(null!==(e=t.get(c))&&void 0!==e?e:[])})),[f,m]=Object(r.useState)((()=>Date.now())),[b,g]=Object(r.useState)(),[y,h]=Object(r.useState)((()=>{var e;return null!==(e=t.get(d))&&void 0!==e?e:""})),[v,w]=Object(r.useState)(),x=Object(n.useUiTracker)();Object(r.useEffect)((()=>{const e=null==a?void 0:a[0];w(e)}),[a,t]);const E=Object(r.useCallback)(((e,t)=>{p((a=>{const r=a.findIndex((e=>e.breakdown)),i=a.map(((a,i)=>i===e?{...t,breakdown:r===e||-1===r?t.breakdown:void 0}:a));return a.length===e?[...i,t]:[...i]}))}),[]),C=Object(r.useCallback)((e=>{p((t=>t.filter(((t,a)=>a!==e))))}),[]),S=Object(r.useCallback)((e=>a[e]),[a]),k={applyChanges:Object(r.useCallback)((e=>{const r=a.map((e=>Object(l.a)(e)));t.set(d,y),t.set(c,r),m(Date.now()),Object(o.a)(x,a,y),e&&e()}),[a,t,x,y]),storage:t,getSeries:S,setSeries:E,removeSeries:C,allSeries:a,lastRefresh:f,setLastRefresh:m,setReportType:h,reportType:y,chartTimeRangeContext:b,setChartTimeRangeContext:g,firstSeries:v};return i.a.createElement(s.Provider,{value:k},e)}function f(){return Object(r.useContext)(s)}const m="new-series"},function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return c}));var r=a(1),i=a.n(r),n=a(18),l=a(16),o=a(25);const s=Object(r.createContext)({});function u({children:e}){const[t,a]=Object(r.useState)({}),[u,c]=Object(r.useState)({}),[d,p]=Object(r.useState)({}),[f,m]=Object(r.useState)({}),{services:{dataViews:b}}=Object(n.useKibana)(),g=Object(r.useCallback)((async({dataType:e})=>{if(void 0===f[e]&&!t[e]){a((t=>({...t,[e]:!0})));try{const{indices:t,hasData:r}=await Object(o.b)(e);if(m((t=>({...t,[e]:r}))),r&&t){const a=new o.a(b,!0),r=await a.getDataView(e,t);c((t=>({...t,[e]:r})))}a((t=>({...t,[e]:!1})))}catch(t){(t instanceof l.DataViewInsufficientAccessError||"Forbidden"===t.body)&&p((a=>({...a,[e]:t}))),a((t=>({...t,[e]:!1})))}}}),[b,f,t]);return i.a.createElement(s.Provider,{value:{hasAppData:f,dataViews:u,loadDataView:g,dataViewErrors:d,loading:!!Object.values(t).find((e=>e))}},e)}const c=e=>{const{loading:t,hasAppData:a,loadDataView:i,dataViews:n,dataViewErrors:l}=Object(r.useContext)(s);return!e||null!=n&&n[e]||t||i({dataType:e}),Object(r.useMemo)((()=>({hasAppData:a,loading:t,dataViews:n,dataViewErrors:l,dataView:e?null==n?void 0:n[e]:void 0,hasData:e?null==a?void 0:a[e]:void 0,loadDataView:i})),[e,a,l,n,i,t])}},function(e,t,a){"use strict";a.d(t,"d",(function(){return o})),a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return c})),a.d(t,"a",(function(){return d})),a.d(t,"e",(function(){return p}));var r=a(26),i=a.n(r),n=a(42),l=a(11);function o({reportType:e,allSeries:t}){const a=t.map((e=>Object(l.a)(e)));return`#?reportType=${e}&sr=${Object(l.c)(i.a.encode(a))}`}function s(e,t,a){const r=null==a?void 0:a.fields.find((t=>t.name===e));return r&&a?[Object(n.buildPhraseFilter)(r,t,a)]:[]}function u(e,t,a){return(null==a?void 0:a.fields.find((t=>t.name===e)))&&a?t.map((t=>Object(n.buildQueryFilter)({query_string:{fields:[e],query:`*${t}*`}},a.id,""))):[]}function c(e,t,a){const r=null==a?void 0:a.fields.find((t=>t.name===e));return r&&a?1===t.length?[Object(n.buildPhraseFilter)(r,t[0],a)]:[Object(n.buildPhrasesFilter)(r,t,a)]:[]}function d(e,t){const a=null==t?void 0:t.fields.find((t=>t.name===e));return a&&t?[Object(n.buildExistsFilter)(a,t)]:[]}function p({urlFilters:e,initFilters:t,dataView:a}){const r=t?[...t]:[];return e.forEach((({field:e,values:t=[],notValues:i=[],wildcards:n=[],notWildcards:l=([]=[])})=>{if(t.length>0){const i=c(e,t,a);r.push(...i)}if(i.length>0){const t=c(e,i,a)[0];t.meta.negate=!0,r.push(t)}if(n.length>0){const t=u(e,n,a);r.push(...t)}if(l.length>0){const t=u(e,l,a)[0];t.meta.negate=!0,r.push(t)}})),r}},function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return s}));var r=a(1),i=a.n(r),n=a(0);const l=Object(r.createContext)({});function o({children:e,reportTypes:t,dataTypes:a,reportConfigMap:n,setHeaderActionMenu:o,asPanel:s=!0,theme$:u}){const[c,d]=Object(r.useState)(!1),p={asPanel:s,reportTypes:t,dataTypes:a,reportConfigMap:n,setHeaderActionMenu:o,theme$:u,isEditMode:c,setIsEditMode:d};return i.a.createElement(l.Provider,{value:p},e)}function s(){const e=Object(r.useContext)(l);if(void 0===e)throw new Error("useExploratoryView must be used within a ExploratoryViewContextProvider");return e}n.i18n.translate("xpack.exploratoryView.expView.seriesBuilder.selectReportType",{defaultMessage:"No report type selected"})},function(e,t,a){"use strict";a.d(t,"b",(function(){return p})),a.d(t,"a",(function(){return f}));var r=a(1),i=a.n(r),n=a(7),l=a(46),o=a.n(l),s=a(0),u=a(18),c=a(57),d=a(6);const p=(e,t={})=>o.a.parse(e,t);function f({seriesId:e,series:t}){var a,r;const{firstSeries:l,setSeries:o,reportType:f}=Object(c.f)(),m=Object(u.useUiSetting)("dateFormat"),b=null===(a=t.time)||void 0===a?void 0:a.from,g=null===(r=t.time)||void 0===r?void 0:r.to,{from:y,to:h}=l.time,v=p(null!=b?b:y),w=p(null!=g?g:h,{roundUp:!0}),x=()=>{const e=p(y);return p(h,{roundUp:!0}).diff(e,"millisecond")};return i.a.createElement(n.EuiDatePickerRange,{fullWidth:!0,isCustom:!0,startDateControl:i.a.createElement(n.EuiDatePicker,{fullWidth:!0,selected:v,onChange:a=>{if(f===d.o.KPI){const r=x(),i=a.toISOString(),n=a.add(r,"millisecond").toISOString();o(e,{...t,time:{from:i,to:n}})}else{const r=a.toISOString();o(e,{...t,time:{from:r,to:g}})}},startDate:v,endDate:w,isInvalid:v>w,"aria-label":s.i18n.translate("xpack.exploratoryView.expView.dateRanger.startDate",{defaultMessage:"Start date"}),dateFormat:m.replace("ss.SSS","ss"),showTimeSelect:!0,popoverPlacement:"rightCenter"}),endDateControl:i.a.createElement(n.EuiDatePicker,{fullWidth:!0,showIcon:!1,selected:w,onChange:a=>{if(f===d.o.KPI){const r=x(),i=a.toISOString(),n=a.subtract(r,"millisecond").toISOString();o(e,{...t,time:{from:n,to:i}})}else{const r=a.toISOString();o(e,{...t,time:{from:b,to:r}})}},startDate:v,endDate:w,isInvalid:v>w,"aria-label":s.i18n.translate("xpack.exploratoryView.expView.dateRanger.endDate",{defaultMessage:"End date"}),dateFormat:m.replace("ss.SSS","ss"),showTimeSelect:!0,popoverPlacement:"rightCenter"})})}},function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var r=a(19),i=a(1),n=a(67),l=a.n(n),o=a(8),s=a(4);const u=({sourceField:e,dataViewTitle:t,query:a="",filters:n,time:u,label:c,keepHistory:d,cardinalityField:p})=>{const[f,m]=Object(i.useState)(a),[b,g]=Object(i.useState)([]),{from:y,to:h}=null!=u?u:{};l()((()=>{m(a)}),350,[a]),Object(i.useEffect)((()=>{a||m(a)}),[a]);const v=((e,t)=>{if(!t)return"";let a="";return a=e===s.p?`*.${t.toLowerCase()}.*`:t[0].toLowerCase()===t[0]?`(${t}|${Object(r.capitalize)(t)}).*`:`(${t}|${t.toLowerCase()}).*`,a})(e,a),{data:w,loading:x}=Object(o.useEsSearch)(Object(o.createEsParams)({index:t,body:{query:{bool:{filter:[...null!=n?n:[],...y&&h?[{range:{"@timestamp":{gte:y,lte:h}}}]:[]]}},size:0,aggs:{values:{terms:{field:e,size:50,...a?{include:v}:{}},...p?{aggs:{count:{cardinality:{field:p}}}}:{}}}}}),[f,y,h,JSON.stringify(n),t,e],{name:`get${c.replace(/\s/g,"")}ValuesList`});return Object(i.useEffect)((()=>{var e,t;const a=null==w||null===(e=w.aggregations)||void 0===e?void 0:e.values.buckets,i=null!==(t=null==a?void 0:a.map((({key:e,doc_count:t,count:a})=>a?{count:a.value,label:String(e)}:{count:t,label:String(e)})))&&void 0!==t?t:[];g(d?e=>((e,t)=>Object(r.uniqBy)([...e,...t],"label"))(i,e):i)}),[w,d,x,a]),{values:b,loading:x}}},function(e,t,a){"use strict";a.r(t),a.d(t,"FieldValueSelection",(function(){return p}));var r=a(14),i=a.n(r),n=a(1),l=a.n(n),o=a(7),s=a(0),u=a(19);const c=a(21).euiStyled.div`
  border-radius: ${({theme:e})=>e.eui.euiBorderRadius};
  background: ${({theme:e})=>e.eui.euiColorLightShade};
  padding: 0 ${({theme:e})=>e.eui.euiSizeXS};
`,d=(e,t,a,r)=>{const i={};return null==e||e.forEach((({label:e,count:t})=>{i[e]=t})),Object.entries(i).map((([e,i])=>({label:e,append:r?l.a.createElement(c,null,l.a.createElement(o.EuiText,{size:"xs"},i)):null,...null!=t&&t.includes(e)?{checked:"on"}:{},...null!=a&&a.includes(e)?{checked:"off"}:{}})))};function p({fullWidth:e,label:t,loading:a,query:r,setQuery:i,button:c,width:p,forceOpen:g,setForceOpen:y,anchorPosition:h,singleSelection:v,asFilterButton:w,showCount:x=!0,values:E=[],selectedValue:C,excludedValue:S,allowExclusions:k=!0,compressed:T=!0,useLogicalAND:F,showLogicalConditionSwitch:O=!1,onChange:j}){const{euiTheme:V}=Object(o.useEuiTheme)(),[I,M]=Object(n.useState)((()=>d(E,C,S,x))),[A,L]=Object(n.useState)(!1),[D,_]=Object(n.useState)(F);Object(n.useEffect)((()=>{_(F)}),[F]),Object(n.useEffect)((()=>{M(d(E,C,S,x))}),[JSON.stringify(E),JSON.stringify(C),x,S]);const P=()=>{L(!A)},z=l.a.createElement(o.EuiButton,{style:p?{width:p}:{},size:"m",color:"text",iconType:"arrowDown",iconSide:"right",onClick:P,"data-test-subj":"fieldValueSelectionBtn",fullWidth:e},t),R=(C||[]).length+(S||[]).length,B=l.a.createElement(o.EuiFilterButton,{"aria-label":s.i18n.translate("xpack.exploratoryView.filterButton.label",{defaultMessage:"expands filter group for {label} filter",values:{label:t}}),hasActiveFilters:R>0,iconType:"arrowDown",numActiveFilters:R,numFilters:I.length,onClick:P},t),$=()=>{const e=(null!=I?I:[]).filter((e=>"on"===(null==e?void 0:e.checked))).map((({label:e})=>e)),t=(null!=I?I:[]).filter((e=>"off"===(null==e?void 0:e.checked))).map((({label:e})=>e)),a=(null!=C?C:[]).length>0||(null!=S?S:[]).length>0;return Object(u.isEqual)(null!=C?C:[],e)&&Object(u.isEqual)(null!=S?S:[],t)&&!(D!==F&&a)};return l.a.createElement(f,null,l.a.createElement(o.EuiPopover,{id:"popover",panelPaddingSize:"none",button:c||(w?B:z),isOpen:A||g,closePopover:()=>{L(!1),null==y||y(!1)},anchorPosition:h,style:{width:"100%"}},l.a.createElement(o.EuiSelectable,{searchable:!0,singleSelection:v,searchProps:{placeholder:s.i18n.translate("xpack.exploratoryView.fieldValueSelection.placeholder",{defaultMessage:"Filter {label}",values:{label:t}}),compressed:T,onInput:e=>{i(e.target.value)},"data-test-subj":"suggestionInputField"},listProps:{onFocusBadge:!1},options:I,onChange:e=>{M(e)},allowExclusions:k,isLoading:a&&!r&&0===I.length},((e,i)=>l.a.createElement("div",{style:{width:240}},l.a.createElement(o.EuiPopoverTitle,{paddingSize:"s"},i),e,a&&r&&l.a.createElement(o.EuiText,{className:"eui-textCenter",color:"subdued"},s.i18n.translate("xpack.exploratoryView.fieldValueSelection.loading",{defaultMessage:"Loading"})," ",l.a.createElement(o.EuiLoadingSpinner,{size:"m"})),l.a.createElement(o.EuiPopoverFooter,{paddingSize:"s"},O&&l.a.createElement(l.a.Fragment,null,l.a.createElement(o.EuiSpacer,{size:"xs"}),l.a.createElement(m,null,l.a.createElement(b,{label:s.i18n.translate("xpack.exploratoryView.fieldValueSelection.logicalAnd",{defaultMessage:"Use logical AND"}),"data-test-subj":"tagsLogicalOperatorSwitch",checked:Boolean(D),compressed:!0,onChange:e=>{_(e.target.checked)},$_css:V.size.s,$_css2:V.colors.subduedText})),l.a.createElement(o.EuiSpacer,{size:"m"})),l.a.createElement(o.EuiButton,{"data-test-subj":"o11yFieldValueSelectionApplyButton","aria-label":s.i18n.translate("xpack.exploratoryView.fieldValueSelection.apply.label",{defaultMessage:"Apply the selected filters for {label}",values:{label:t}}),fill:!0,fullWidth:!0,size:"s",isDisabled:$(),onClick:()=>{const e=I.filter((e=>"on"===(null==e?void 0:e.checked))),t=I.filter((e=>"off"===(null==e?void 0:e.checked)));O?j(Object(u.map)(e,"label"),Object(u.map)(t,"label"),D):j(Object(u.map)(e,"label"),Object(u.map)(t,"label")),L(!1),null==y||y(!1)}},s.i18n.translate("xpack.exploratoryView.fieldValueSelection.apply",{defaultMessage:"Apply"}))))))))}t.default=p;const f=i.a.div.withConfig({displayName:"Wrapper",componentId:"sc-1tl88yj-0"})(["&&&{div.euiPopover__anchor{width:100%;.euiButton{width:100%;}}}"]);var m=i()("div").withConfig({displayName:"_StyledDiv",componentId:"sc-1tl88yj-1"})({display:"flex",justifyContent:"flex-end"}),b=i()(o.EuiSwitch).withConfig({displayName:"_StyledEuiSwitch",componentId:"sc-1tl88yj-2"})((e=>({flexDirection:"row-reverse",gap:e.$_css,color:e.$_css2})))},function(e,t,a){"use strict";a.d(t,"b",(function(){return b})),a.d(t,"c",(function(){return g})),a.d(t,"a",(function(){return lens_attributes_LensAttributes}));var r=a(9),i=a.n(r),n=a(0),l=a(19),o=a(42),s=a(54);const u=e=>1===e.length?`${e.join(" or ")}`:`(${e.join(" or ")})`;function c(e){return(e+"").replace(/[\\"']/g,"\\$&").replace(/\u0000/g,"\\0")}var d=a(6),p=a(61);function f({label:e,layerId:t,dataView:a,columnFilter:r,lensFormulaHelper:i,formula:n,format:l}){var o;const s=`y-axis-column-${t}`;let u=null!=n?n:"count() / overall_sum(count())";r&&(u=null!=n?n:`count(kql='${r}') / overall_sum(count(kql='${r}'))`);const{columns:c}=null!==(o=null==i?void 0:i.insertOrReplaceFormulaColumn(s,{formula:u,label:e,format:"percent"!==l&&l?void 0:{id:"percent",params:{decimals:0}}},{columns:{},columnOrder:[]},a))&&void 0!==o?o:{columns:{}},{[s]:d,...p}=c;return{main:c[s],supportingColumns:p}}function m(e){return`indexpattern-datasource-layer-${e}`}function b(e){return{sourceField:e,dataType:"number",isBucketed:!1,scale:"ratio"}}const g=(e,t)=>{var a;const r=null!==(a=e.metricOptions)&&void 0!==a?a:[];if(t&&r){var i;const e=r.find((e=>"items"in e?e.id===t:e.field===t||e.id===t));if(e&&"items"in e){const a=e.items.find((e=>e.id===t||e.field===t));return a?{...null!=a?a:{},fieldName:t,columnLabel:null==a?void 0:a.label,columnField:null==a?void 0:a.field}:e.items}return{...null!=e?e:{},fieldName:null!==(i=null==e?void 0:e.field)&&void 0!==i?i:t,columnLabel:null==e?void 0:e.label,columnField:null==e?void 0:e.field}}return{fieldName:t}};class lens_attributes_LensAttributes{constructor(e,t,a){i()(this,"layers",void 0),i()(this,"visualization",void 0),i()(this,"layerConfigs",[]),i()(this,"isMultiSeries",void 0),i()(this,"seriesReferenceLines",void 0),i()(this,"globalFilter",void 0),i()(this,"reportType",void 0),i()(this,"lensFormulaHelper",void 0),this.layers={},this.seriesReferenceLines={},this.reportType=t,this.lensFormulaHelper=a,this.isMultiSeries=e.length>1,e.forEach((({seriesConfig:e,operationType:a})=>{a&&t!==d.o.SINGLE_METRIC&&e.yAxisColumns.forEach((e=>{void 0!==typeof e.operationType&&(e.operationType=a)}))})),this.layerConfigs=e,this.globalFilter=this.getGlobalFilter(this.isMultiSeries),t!==d.o.SINGLE_METRIC&&(this.layers=this.getLayers(),this.visualization=this.getXyState())}getGlobalFilter(e){if(e)return;const t=this.layerConfigs[0].seriesConfig.query?` and ${this.layerConfigs[0].seriesConfig.query.query}`:"";return{query:`${this.getLayerFilters(this.layerConfigs[0],this.layerConfigs.length)}${t}`,language:"kuery"}}getBreakdownColumn({sourceField:e,layerId:t,layerConfig:a,alphabeticOrder:r,size:i=10}){var n,l;const{dataView:o,seriesConfig:s,selectedMetricField:u}=a,c=o.getFieldByName(e),{metricOptions:p}=s,{sourceField:f}=s.yAxisColumns[0],m=null!==(n=s.labels)&&void 0!==n?n:{},b=Boolean(p&&(null===(l=p.find((e=>e.id===u)))||void 0===l?void 0:l.formula))||f===d.l;let g={type:"column",columnId:`y-axis-column-${t}-0`};return b?g={type:"custom"}:r&&(g={type:"alphabetical",fallback:!0}),{sourceField:e,label:m[e],dataType:null==c?void 0:c.type,operationType:"terms",scale:"ordinal",isBucketed:!0,params:{orderBy:g,size:i,orderDirection:"desc",otherBucket:!0,missingBucket:!1,...b?{orderAgg:{label:"Count of records",dataType:"number",operationType:"count",isBucketed:!1,scale:"ratio",sourceField:"___records___"}}:{}}}}getNumberRangeColumn(e,t,a){var r;return{sourceField:e,label:null!==(r=t.labels[e])&&void 0!==r?r:a,dataType:"number",operationType:"range",isBucketed:!0,scale:"interval",params:{type:"histogram",ranges:[{from:0,to:1e3,label:""}],maxBars:"auto"}}}getFiltersColumn({label:e,paramFilters:t}){return{label:null!=e?e:"Filters",dataType:"string",operationType:"filters",scale:"ordinal",isBucketed:!0,params:{filters:t}}}getNumberColumn({seriesConfig:e,label:t,sourceField:a,columnType:r,columnFilter:i,operationType:n}){if("operation"===r||n){if(n&&["median","average","sum","min","max","unique_count"].includes(n))return this.getNumberOperationColumn({sourceField:a,operationType:n,label:t,seriesConfig:e,columnFilter:i});if("last_value"===n)return this.getLastValueOperationColumn({sourceField:a,operationType:n,label:t,seriesConfig:e,columnFilter:i});if(null!=n&&n.includes("th"))return this.getPercentileNumberColumn(a,n,e,t)}return this.getNumberRangeColumn(a,e,t)}getLastValueOperationColumn({sourceField:e,label:t,seriesConfig:a,operationType:r,columnFilter:i}){return{...b(e),operationType:r,label:t||a.labels[e],filter:i,params:{sortField:"@timestamp",showArrayValues:!1}}}getNumberOperationColumn({sourceField:e,label:t,seriesConfig:a,operationType:r,columnFilter:i}){return{...b(e),label:null!=t?t:n.i18n.translate("xpack.exploratoryView.expView.columns.operation.label",{defaultMessage:"{operationType} of {sourceField}",values:{sourceField:a.labels[e],operationType:Object(l.capitalize)(r)}}),customLabel:!0,filter:i,operationType:r,params:"unique_count"===r?{emptyAsNull:!0}:{}}}getPercentileBreakdowns(e,t,a){const r=e.seriesConfig.yAxisColumns,{sourceField:i,label:n}=r[0],l={};for(let r=1;r<d.j.length;r++)l[`y-axis-column-${r}`]={...this.getColumnBasedOnType({sourceField:i,operationType:d.j[r],label:n,layerConfig:e,layerId:t,colIndex:r}),filter:{query:a||"",language:"kuery"}};return l}getPercentileNumberColumn(e,t,a,r){var i,l;return{...b(e),label:null!=r?r:n.i18n.translate("xpack.exploratoryView.expView.columns.label",{defaultMessage:"{percentileValue} percentile of {sourceField}",values:{sourceField:null===(i=a.labels[e])||void 0===i?void 0:i.toLowerCase(),percentileValue:t}}),operationType:"percentile",params:(l=t,{percentile:Number(l.split("th")[0])}),customLabel:!0}}getDateHistogramColumn(e){return{sourceField:e,dataType:"date",isBucketed:!0,label:"@timestamp",operationType:"date_histogram",params:{interval:"auto",includeEmptyRows:!0},scale:"interval"}}getTermsColumn(e,t){return{operationType:"terms",sourceField:e,label:"Top values of "+t||!1,dataType:"string",isBucketed:!0,scale:"ordinal",params:{size:10,orderBy:{type:"alphabetical",fallback:!1},orderDirection:"desc"}}}getXAxis(e,t){const{xAxisColumn:a}=e.seriesConfig;let r=null==a?void 0:a.sourceField;if(!r)return[a];if(r===d.q)return this.getBreakdownColumn({layerId:t,layerConfig:e,sourceField:e.breakdown||e.seriesConfig.breakdownFields[0]});if(r===d.m){const{paramFilters:t}=this.getFieldMeta(r,e);if(t)return this.getFiltersColumn({paramFilters:t})}if(r===d.n){const t=g(e.seriesConfig,e.selectedMetricField);if(!Array.isArray(t)){const{timestampField:e="@timestamp"}=t;r=e}}return this.getColumnBasedOnType({layerConfig:e,layerId:t,label:a.label,sourceField:r})}getColumnBasedOnType({sourceField:e,label:t,layerConfig:a,operationType:r,colIndex:i,layerId:n,metricOption:l}){const{breakdown:o,seriesConfig:s}=a,u=this.getFieldMeta(e,a,l),{format:c,formula:p,fieldMeta:m,columnType:b,fieldName:g,columnLabel:y,timeScale:h,columnFilters:v,showPercentileAnnotations:w}=u;if(b===d.d)return f({layerId:n,formula:p,format:c,label:null!=y?y:t,dataView:a.dataView,lensFormulaHelper:this.lensFormulaHelper}).main;w&&this.addThresholdLayer(g,n,a);const{type:x}=null!=m?m:{};return b===d.p?this.getTermsColumn(g,t||y):g===d.k||b===d.c?this.getRecordsColumn(t||y,void 0!==i?null==v?void 0:v[i]:void 0,h):"date"===x?this.getDateHistogramColumn(g):"number"===x&&o===d.i?{...this.getPercentileNumberColumn(g,r||d.j[0],s,t||y),filter:void 0!==i?null==v?void 0:v[i]:void 0}:"number"===x?this.getNumberColumn({sourceField:g,columnType:b,columnFilter:null==v?void 0:v[0],operationType:r,label:t||y,seriesConfig:a.seriesConfig}):"unique_count"===r||"string"===x?this.getNumberOperationColumn({sourceField:g,operationType:"unique_count",label:t||y,seriesConfig:a.seriesConfig,columnFilter:null==v?void 0:v[0]}):this.getDateHistogramColumn(g)}getCustomFieldName({sourceField:e,layerConfig:t}){return g(t.seriesConfig,e)}getFieldMeta(e,t,a){if(e===d.m){var r;const i=a?{...a,columnLabel:a.label,columnField:a.field,fieldName:a.field}:g(t.seriesConfig,t.selectedMetricField);if(Array.isArray(i))return{fieldName:e,items:i};const{palette:n,fieldName:l,columnType:o,columnLabel:s,columnFilters:u,timeScale:c,paramFilters:d,showPercentileAnnotations:p,formula:f,format:m}=i;return{format:m,formula:f,palette:n,fieldMeta:t.dataView.getFieldByName(l),fieldName:l,columnType:o,columnLabel:s,columnFilters:u,timeScale:c,paramFilters:d,showPercentileAnnotations:null!==(r=t.showPercentileAnnotations)&&void 0!==r?r:p}}return{fieldMeta:t.dataView.getFieldByName(e),fieldName:e}}getMainYAxis(e,t,a){const{breakdown:r}=e,{sourceField:i,operationType:n,label:l,timeScale:o}=e.seriesConfig.yAxisColumns[0];let s=e.name||l;if(e.seriesConfig.reportType===d.o.CORE_WEB_VITAL&&(s=l),i===d.l)return[f({label:s,layerId:t,columnFilter:a,dataView:e.dataView,lensFormulaHelper:this.lensFormulaHelper}).main];if(i===d.k||!i)return[this.getRecordsColumn(s,void 0,o)];const u=this.getFieldMeta(i,e);var c;if(!u.fieldMeta&&u.fieldName===d.k)return[this.getRecordsColumn(s,null===(c=u.columnFilters)||void 0===c?void 0:c[0],o)];if("items"in u){const{items:a}=u;return null==a?void 0:a.map(((a,r)=>this.getColumnBasedOnType({layerConfig:e,layerId:t,label:a.label,sourceField:d.m,metricOption:a,operationType:n})))}return[this.getColumnBasedOnType({sourceField:i,label:s,layerConfig:e,colIndex:0,operationType:r===d.i?d.j[0]:n,layerId:t})]}getChildYAxises(e,t,a,r){const{breakdown:i}=e,n={},l=e.seriesConfig.yAxisColumns,{sourceField:o,label:s}=l[0];if(o===d.l&&t&&!r)return f({label:s,layerId:t,columnFilter:a,dataView:e.dataView,lensFormulaHelper:this.lensFormulaHelper}).supportingColumns;if(o&&!r){const{columnLabel:a,formula:r,columnType:i}=this.getFieldMeta(o,e);if(i===d.d)return f({label:a,layerId:t,formula:r,dataView:e.dataView,lensFormulaHelper:this.lensFormulaHelper}).supportingColumns}if(1===l.length&&i===d.i)return this.getPercentileBreakdowns(e,t,a);if(1===l.length)return n;for(let a=1;a<l.length;a++){const{sourceField:r,operationType:i,label:o}=l[a];n[`y-axis-column-${a}`]=this.getColumnBasedOnType({sourceField:r,operationType:i,label:o,layerConfig:e,colIndex:a,layerId:t})}return n}getRecordsColumn(e,t,a){return{dataType:"number",isBucketed:!1,label:e||"Count of records",customLabel:!0,operationType:"count",scale:"ratio",sourceField:d.k,filter:t,...a?{timeScale:a}:{}}}getLayerFilters(e,t){const{filters:a,time:r,seriesConfig:{baseFilters:i,reportType:n}}=e;let l="";n!==d.o.KPI&&t>1&&r&&(l+=`@timestamp >= ${r.from} and @timestamp <= ${r.to}`),null==i||i.forEach((e=>{var t,a,r;const i=e;if(null!==(t=i.query)&&void 0!==t&&t.match_phrase){const e=Object.keys(i.query.match_phrase)[0],t=`${e}: ${i.query.match_phrase[e]}`;l.length>0?l+=` and ${t}`:l+=t}if(null!==(a=i.query)&&void 0!==a&&null!==(r=a.bool)&&void 0!==r&&r.should){var n;const e=[];let t="";null===(n=i.query)||void 0===n||n.bool.should.forEach((a=>{a.match_phrase&&(t=Object.keys(a.match_phrase)[0],e.push(a.match_phrase[t]))}));const a=`${t}: (${e.join(" or ")})`;l.length>0?l+=` and ${a}`:l+=a}const s=e;if(Object(o.isExistsFilter)(s)){var u;const e=`${null===(u=s.query.exists)||void 0===u?void 0:u.field} : *`;l.length>0?l+=` and ${e}`:l+=e}}));const s=(e=>{let t="";return e.forEach((({field:e,values:a,notValues:r,wildcards:i,notWildcards:n})=>{const l=null==a?void 0:a.map((e=>`"${c(e)}"`)),o=null==r?void 0:r.map((e=>`"${c(e)}"`)),s=null==i?void 0:i.map((e=>`*${e}*`)),d=null==n?void 0:n.map((e=>`*${e}*`));l&&(null==l?void 0:l.length)>0&&(t.length>0&&(t+=" and "),t+=`${e}: ${u(l)}`),o&&(null==o?void 0:o.length)>0&&(t.length>0&&(t+=" and "),t+=`not (${e}: ${u(o)})`),s&&(null==s?void 0:s.length)>0&&(t.length>0&&(t+=" and "),t+=`(${e}: ${u(s)})`),d&&(null==d?void 0:d.length)>0&&(t.length>0&&(t+=" and "),t+=`(${e}: ${u(d)})`)})),t})(null!=a?a:[]);return l?s?`${s} and ${l}`:l:s}getTimeShift(e,t,a){if(0===a||e.seriesConfig.reportType!==d.o.KPI||!t.time)return null;const{time:{from:r}}=e,{time:{from:i}}=t,n=Object(p.b)(r),l=Object(p.b)(i),o=n&&l?Math.abs(n.diff(l,"days")):0;if(o>1)return o+"d";const s=n&&l?Math.abs(null==n?void 0:n.diff(l,"hours")):0;return 0===s?null:s+"h"}getLayers(){const e={},t=this.layerConfigs;return t.forEach(((a,r)=>{const{breakdown:i,seriesConfig:n}=a,l=`layer${r}`,o=this.getLayerFilters(a,t.length),s=this.getTimeShift(this.layerConfigs[0],a,r),u=this.getMainYAxis(a,l,o),{sourceField:c}=n.xAxisColumn,p=Boolean(i&&c!==d.q&&i!==d.i);e[l]=this.getDataLayer({layerId:l,layerConfig:a,mainYAxises:u,columnFilter:o,timeShift:s,hasBreakdownColumn:p})})),Object.entries(this.seriesReferenceLines).forEach((([t,{layerData:a}])=>{e[t]=a})),e}getDataLayer({hasBreakdownColumn:e,layerId:t,layerConfig:a,columnFilter:r,mainYAxises:i,timeShift:n}){const l={};null==i||i.forEach(((e,a)=>{var i,o,s;let u=r||(null===(i=e.filter)||void 0===i?void 0:i.query);r&&null!==(o=e.filter)&&void 0!==o&&o.query&&(u=`${r} and ${e.filter.query}`);const c=n?`${e.label}(${n})`:e.label;l[`y-axis-column-${t}-${a}`]={...e,label:c,filter:{query:null!==(s=u)&&void 0!==s?s:"",language:"kuery"},...n?{timeShift:n}:{}}}));const{breakdown:o}=a,s=e?this.getBreakdownColumn({layerId:t,sourceField:o,layerConfig:a}):null,u={[`x-axis-column-${t}`]:this.getXAxis(a,t)};return{columnOrder:[...e?[`breakdown-column-${t}`]:[],...Object.keys(u),...Object.keys(l),...Object.keys(this.getChildYAxises(a,t,r))],columns:{...u,...l,...e?{[`breakdown-column-${t}`]:s}:{},...this.getChildYAxises(a,t,r)},incompleteColumns:{}}}getXyState(){return{legend:{isVisible:!0,showSingleSeries:!0,position:"right",legendSize:s.LegendSize.AUTO,shouldTruncate:!1},valueLabels:"hide",fittingFunction:"Linear",curveType:"CURVE_MONOTONE_X",axisTitlesVisibilitySettings:{x:!1,yLeft:!this.isMultiSeries,yRight:!this.isMultiSeries},tickLabelsVisibilitySettings:{x:!0,yLeft:!0,yRight:!0},gridlinesVisibilitySettings:{x:!1,yLeft:!0,yRight:!0},preferredSeriesType:"line",layers:this.getDataLayers(),...this.layerConfigs[0].seriesConfig.yTitle?{yTitle:this.layerConfigs[0].seriesConfig.yTitle}:{}}}getDataLayers(){const e=this.layerConfigs.map(((e,t)=>{var a,r,i,n;const{sourceField:l}=e.seriesConfig.yAxisColumns[0];let o=e.seriesConfig.palette;if(l){const t=this.getFieldMeta(l,e);t.palette&&(o=t.palette)}const s=`layer${t}`,u=this.getLayerFilters(e,this.layerConfigs.length);return{accessors:[...(null!==(a=this.getMainYAxis(e,s,u))&&void 0!==a?a:[]).map(((e,t)=>`y-axis-column-${s}-${t}`)),...Object.keys(this.getChildYAxises(e,`layer${t}`,void 0,!0))],layerId:`layer${t}`,layerType:"data",seriesType:e.seriesType||e.seriesConfig.defaultSeriesType,palette:null!==(r=o)&&void 0!==r?r:e.seriesConfig.palette,yConfig:e.seriesConfig.yConfig||[{forAccessor:`y-axis-column-layer${t}-0`,color:e.color,axisMode:(null===(i=e.dataView.fieldFormatMap[e.selectedMetricField])||void 0===i?void 0:i.id)===(null===(n=this.layerConfigs[0].dataView.fieldFormatMap[this.layerConfigs[0].selectedMetricField])||void 0===n?void 0:n.id)?"left":"right"}],xAccessor:`x-axis-column-layer${t}`,...e.breakdown&&e.breakdown!==d.i&&e.seriesConfig.xAxisColumn.sourceField!==d.q?{splitAccessor:`breakdown-column-layer${t}`}:{},...this.layerConfigs[0].seriesConfig.yTitle?{yTitle:this.layerConfigs[0].seriesConfig.yTitle}:{}}})),t=[];return Object.entries(this.seriesReferenceLines).forEach((([e,{layerState:a}])=>{t.push(a[0])})),[...e,...t]}addThresholdLayer(e,t,{seriesConfig:a,dataView:r}){const i=`${t}-reference-lines`,n=this.getThresholdColumns(e,i,a),l={columnOrder:Object.keys(n),columns:n,incompleteColumns:{}},o=this.getThresholdLayer(e,i,a);this.seriesReferenceLines[i]={layerData:l,layerState:o,dataView:r}}getThresholdLayer(e,t,a){const r=this.getThresholdColumns(e,t,a);return[{layerId:t,accessors:Object.keys(r),layerType:"referenceLine",yConfig:Object.keys(r).map((e=>({axisMode:"bottom",color:"#6092C0",forAccessor:e,lineStyle:"solid",lineWidth:2,textVisibility:!0})))}]}getThresholdColumns(e,t,a){const r={};return["50th","75th","90th","95th","99th"].forEach((i=>{r[`${i}-percentile-reference-line-${t}`]={...this.getPercentileNumberColumn(e,i,a),label:i}})),r}getReferences(){const e=Array.from(new Set([...this.layerConfigs.map((({dataView:e})=>e.id))])),t={},a=Object.entries(this.seriesReferenceLines).map((([e,{dataView:a}])=>(t[a.id]=a.toSpec(!1),{id:a.id,name:m(e),type:"index-pattern"}))),r=[...e.map((e=>({id:e,name:"indexpattern-datasource-current-indexpattern",type:"index-pattern"}))),...this.layerConfigs.map((({dataView:e},a)=>(t[e.id]=e.toSpec(!1),{id:e.id,name:m(`layer${a}`),type:"index-pattern"}))),...a];return Object.entries(this.seriesReferenceLines).map((([e,{dataView:t}])=>({id:t.id,name:m(e),type:"index-pattern"}))),{internalReferences:r,adHocDataViews:t}}getJSON(e="lnsXY",t){const a=this.globalFilter||this.layerConfigs[0].seriesConfig.query,{internalReferences:r,adHocDataViews:i}=this.getReferences();return{title:"Prefilled from exploratory view app",description:t?`Last refreshed at ${new Date(t).toISOString()}`:"",visualizationType:e,references:[],state:{internalReferences:r,adHocDataViews:i,datasourceStates:{formBased:{layers:this.layers}},visualization:this.visualization,query:a||{query:"",language:"kuery"},filters:[]}}}}},function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"c",(function(){return u})),a.d(t,"b",(function(){return c}));var r=a(0),i=a(7),n=a(3),l=a(6),o=a(59);const s="summary: * and (summary.final_attempt: true or not summary.final_attempt: *)";function u({dataView:e}){return{defaultSeriesType:"line",xAxisColumn:{},yAxisColumns:[{operationType:"median"}],breakdownFields:[],filterFields:[],seriesTypes:[],hasOperationType:!0,definitionFields:[{field:"monitor.name",nested:n.o,singleSelection:!0},{field:"url.full",filters:Object(o.a)("summary.up",e)}],reportType:"single-metric",baseFilters:[],metricOptions:[{id:"monitor_availability",columnType:l.d,label:"Availability",formula:"1- (count(kql='summary.down > 0') / count())",metricStateOptions:{colorMode:"Labels",palette:{name:"custom",type:"palette",params:{steps:3,name:"custom",reverse:!1,rangeType:"number",rangeMin:0,rangeMax:1,progression:"fixed",stops:[{color:"#cc5642",stop:.9},{color:"#d6bf57",stop:.95},{color:"#209280",stop:1.9903347477604902}],colorStops:[{color:"#cc5642",stop:.8},{color:"#d6bf57",stop:.9},{color:"#209280",stop:.95}],continuity:"above",maxSteps:5}},titlePosition:"bottom"},columnFilter:{language:"kuery",query:s}},{id:"monitor_duration",field:"monitor.duration.us",label:r.i18n.translate("xpack.exploratoryView.expView.avgDuration",{defaultMessage:"Avg. Duration"}),metricStateOptions:{titlePosition:"bottom"},columnFilter:{language:"kuery",query:"summary.up: *"}},{id:"step_duration",field:n.n,label:r.i18n.translate("xpack.exploratoryView.expView.stepDuration",{defaultMessage:"Total step duration"}),metricStateOptions:{titlePosition:"bottom",textAlign:"center"}},{id:"monitor_total_runs",label:r.i18n.translate("xpack.exploratoryView.expView.totalRuns",{defaultMessage:"Total Runs"}),metricStateOptions:{titlePosition:"bottom"},columnType:l.d,format:"number",field:l.k,columnFilter:{language:"kuery",query:"summary: *"}},{id:"monitor_successful",label:r.i18n.translate("xpack.exploratoryView.expView.successful",{defaultMessage:"Successful count"}),metricStateOptions:{titlePosition:"bottom"},format:"number",field:l.k,columnFilter:{language:"kuery",query:"summary.down: 0"}},{id:"monitor_errors",label:r.i18n.translate("xpack.exploratoryView.expView.errors",{defaultMessage:"Errors"}),metricStateOptions:{titlePosition:"bottom",colorMode:"Labels",palette:c("danger")},columnType:l.d,formula:`unique_count(state.id, kql='${s} and monitor.status: "down"')`,format:"number"},{id:"monitor_failed_tests",label:r.i18n.translate("xpack.exploratoryView.expView.failedTests",{defaultMessage:"Failed tests"}),metricStateOptions:{titlePosition:"bottom"},field:l.k,format:"number",columnFilter:{language:"kuery",query:"summary.status: down and summary.final_attempt: true"}}],labels:l.e}}const c=e=>{const t=Object(i.euiPaletteForStatus)(5);let a=null!=e?e:t[3];return"danger"===e&&(a=t[3]),{name:"custom",type:"palette",params:{steps:3,name:"custom",reverse:!1,rangeType:"number",rangeMin:0,progression:"fixed",stops:[{color:a,stop:100}],colorStops:[{color:a,stop:0}],continuity:"above",maxSteps:5}}}},function(e,t,a){"use strict";a.d(t,"a",(function(){return SingleMetricLensAttributes}));var r=a(9),i=a.n(r),n=a(65),l=a(6),o=a(64);class SingleMetricLensAttributes extends o.a{constructor(e,t,a){super(e,t,a),i()(this,"columnId",void 0),i()(this,"metricStateOptions",void 0),this.layers={},this.reportType=t,this.layerConfigs=e,this.isMultiSeries=e.length>1,this.columnId="layer-0-column-1",this.globalFilter=this.getGlobalFilter(this.isMultiSeries);const r=this.getSingleMetricLayer();this.layers={layer0:r},this.visualization=this.getMetricState()}getSingleMetricLayer(){const{seriesConfig:e,selectedMetricField:t,operationType:a,dataView:r,name:i}=this.layerConfigs[0],n=Object(o.c)(e,t);if(!Array.isArray(n)){const{columnFilter:s,columnField:u,columnLabel:c,columnType:d,formula:p,metricStateOptions:f,format:m,emptyAsNull:b=!0}=n;if(this.metricStateOptions=f,d===l.d&&p)return this.getFormulaLayer({formula:p,label:null!=i?i:c,dataView:r,format:m,filter:s});const g=t.startsWith("Records")||t.startsWith("records")?"Records":u||t;return(null==a?void 0:a.includes("th"))?this.getPercentileLayer({sourceField:g,operationType:a,seriesConfig:e,columnLabel:c,columnFilter:s}):{columns:{[this.columnId]:{...Object(o.b)(g),customLabel:!0,label:null!=i?i:c,operationType:g===l.k?"count":a||"median",filter:s,params:{emptyAsNull:b}}},columnOrder:[this.columnId],incompleteColumns:{}}}}getFormulaLayer({formula:e,label:t,dataView:a,format:r,filter:i}){var n;return null===(n=this.lensFormulaHelper)||void 0===n?void 0:n.insertOrReplaceFormulaColumn(this.columnId,{formula:e,label:t,filter:i,format:"percent"!==r&&r?void 0:{id:"percent",params:{decimals:1}}},{columns:{},columnOrder:[]},a)}getPercentileLayer({sourceField:e,operationType:t,seriesConfig:a,columnLabel:r,columnFilter:i}){return{columns:{[this.columnId]:{...this.getPercentileNumberColumn(e,t,a),label:null!=r?r:"",filter:i,customLabel:!0}},columnOrder:[this.columnId],incompleteColumns:{}}}getMetricState(){var e;const{color:t}=this.layerConfigs[0],a={...null!==(e=this.metricStateOptions)&&void 0!==e?e:{},...t?{colorMode:"Labels",palette:Object(n.b)(t)}:{}};return{accessor:this.columnId,layerId:"layer0",layerType:"data",...a,size:"s"}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(30),i=a(1),n=r.__importDefault(a(68));t.default=function(e,t,a){void 0===t&&(t=0),void 0===a&&(a=[]);var r=n.default(e,t),l=r[0],o=r[1],s=r[2];return i.useEffect(s,a),[l,o]}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(1);t.default=function(e,t){void 0===t&&(t=0);var a=r.useRef(!1),i=r.useRef(),n=r.useRef(e),l=r.useCallback((function(){return a.current}),[]),o=r.useCallback((function(){a.current=!1,i.current&&clearTimeout(i.current),i.current=setTimeout((function(){a.current=!0,n.current()}),t)}),[t]),s=r.useCallback((function(){a.current=null,i.current&&clearTimeout(i.current)}),[]);return r.useEffect((function(){n.current=e}),[e]),r.useEffect((function(){return o(),s}),[t]),[l,s,o]}},function(e,t,a){"use strict";a.d(t,"b",(function(){return d})),a.d(t,"a",(function(){return p}));var r=a(0),i=a(65),n=a(6),l=a(2),o=a(3),s=a(59);const u="summary.up",c="summary.down",d=e=>!!e&&[o.j,o.i,o.d,o.f,o.n,o.h].includes(e);function p({dataView:e}){return{reportType:n.o.KPI,defaultSeriesType:"bar_stacked",seriesTypes:[],xAxisColumn:{sourceField:"@timestamp"},yAxisColumns:[{sourceField:n.m,operationType:"median"}],hasOperationType:!0,filterFields:["observer.geo.name","monitor.type","tags","url.full"],breakdownFields:["observer.geo.name","monitor.type","monitor.name",o.o,n.i],baseFilters:[],definitionFields:[{field:"monitor.name",nested:o.o,singleSelection:!0},{field:"url.full",filters:Object(s.a)("summary.up",e)}],metricOptions:[{label:l.I,field:o.a,id:o.a,columnType:n.h},{label:"Monitor availability",id:"monitor_availability",columnType:n.d,formula:`1- (count(kql='${i.a} and summary.down > 0') / count(kql='summary: *'))`,columnFilter:{language:"kuery",query:i.a}},{label:"Monitor Errors",id:"monitor_errors",columnType:n.h,field:"monitor.check_group",columnFilters:[{language:"kuery",query:`${i.a} and summary.down > 0`}]},{label:r.i18n.translate("xpack.exploratoryView.expView.successful",{defaultMessage:"Successful count"}),id:"monitor_successful",field:"monitor.check_group",columnType:n.h,columnFilters:[{language:"kuery",query:'summary: * and summary.down: 0 and monitor.status: "up"'}]},{label:"Total runs",id:"total_test_runs",field:n.k,columnType:n.h,columnFilters:[{language:"kuery",query:"summary: *"}]},{field:u,id:u,label:l.kb,columnType:n.h,palette:{type:"palette",name:"status"}},{field:c,id:c,label:l.q,columnType:n.h,palette:{type:"palette",name:"status"}},{label:l.eb,field:o.n,id:o.n,columnType:n.h,columnFilters:[m]},{label:l.C,field:o.j,id:o.j,columnType:n.h,columnFilters:f(o.j)},{label:l.t,field:o.i,id:o.i,columnType:n.h,columnFilters:f(o.i)},{label:l.l,field:o.f,id:o.f,columnType:n.h,columnFilters:f(o.f)},{label:l.T,field:o.h,id:o.h,columnType:n.h,columnFilters:f(o.h)},{label:l.h,field:o.d,id:o.d,columnType:n.h,columnFilters:f(o.d)},{label:l.N,id:"network_timings",columnType:n.h,items:o.b.map((e=>{var t;return{label:null!==(t=n.e[e])&&void 0!==t?t:e,field:e,id:e,columnType:n.h,columnFilters:f(e,"journey/network_info")}}))}],labels:{...n.e,[u]:l.kb,[c]:l.q}}}const f=(e,t="step/metrics")=>[{language:"kuery",query:`synthetics.type: ${t} and ${e}: * and ${e} > 0`}],m={language:"kuery",query:"synthetics.type: step/end"}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(1),i=a(31).isClient?window:null,n=function(e){return!!e.addEventListener},l=function(e){return!!e.on};t.default=function(e,t,a,o){void 0===a&&(a=i),r.useEffect((function(){if(t&&a)return n(a)?a.addEventListener(e,t,o):l(a)&&a.on(e,t,o),function(){n(a)?a.removeEventListener(e,t,o):l(a)&&a.off(e,t,o)}}),[e,t,a,JSON.stringify(o)])}},function(e,t,a){"use strict";a.r(t),a.d(t,"FieldValueSuggestions",(function(){return m}));var r=a(1),i=a.n(r),n=a(62),l=a(63),o=a(19),s=a(7),u=a(0),c=a(14);const d=(e,t)=>{const a=Array.from(new Set(t&&(null!=e?e:[]).length>0?["ALL_VALUES",...null!=e?e:[]]:e));return(null!=a?a:[]).map((e=>({label:e})))};function p({label:e,selectedValue:t,loading:a,values:n,setQuery:l,usePrependLabel:c=!0,compressed:p=!0,required:m=!0,singleSelection:b=!1,allowAllValuesSelection:g,onChange:y}){const[h,v]=Object(r.useState)((()=>{var e;return d(Object(o.union)(null!==(e=null==n?void 0:n.map((({label:e})=>e)))&&void 0!==e?e:[],null!=t?t:[]),g)}));Object(r.useEffect)((()=>{var e;v(d(Object(o.union)(null!==(e=null==n?void 0:n.map((({label:e})=>e)))&&void 0!==e?e:[],null!=t?t:[]),g))}),[g,t,n]);const w=i.a.createElement(s.EuiComboBox,{fullWidth:!0,singleSelection:!!b&&{asPlainText:!0},compressed:p,placeholder:u.i18n.translate("xpack.exploratoryView.fieldValueSelection.placeholder.search",{defaultMessage:"Search {label}",values:{label:e}}),isLoading:a,onSearchChange:e=>{l(e)},options:h,selectedOptions:h.filter((e=>null==t?void 0:t.includes(e.label))),onChange:e=>{y(e.map((({label:e})=>e)))},isInvalid:m&&Object(o.isEmpty)(t)});return c?i.a.createElement(f,null,i.a.createElement(s.EuiFormControlLayout,{fullWidth:!0,prepend:e,compressed:!0},w)):i.a.createElement(s.EuiFormRow,{label:e,display:"center",fullWidth:!0},w)}const f=a.n(c).a.div.withConfig({displayName:"ComboWrapper",componentId:"sc-1byw5y3-0"})(["&&&{.euiFormControlLayout{height:auto;.euiFormControlLayout__prepend{margin:auto;}.euiComboBoxPill{max-width:250px;}.euiComboBox__inputWrap{border-radius:0;}}}"]);function m({fullWidth:e,sourceField:t,label:a,dataViewTitle:o,selectedValue:s,excludedValue:u,filters:c,button:d,time:f,width:m,forceOpen:b,setForceOpen:g,anchorPosition:y,singleSelection:h,compressed:v,asFilterButton:w,usePrependLabel:x,allowAllValuesSelection:E,required:C,allowExclusions:S=!0,cardinalityField:k,inspector:T,asCombobox:F=!0,keepHistory:O=!0,showLogicalConditionSwitch:j,useLogicalAND:V,onChange:I}){const[M,A]=Object(r.useState)(""),{values:L,loading:D}=Object(n.a)({dataViewTitle:o,query:M,sourceField:t,filters:c,time:f,inspector:T,cardinalityField:k,keepHistory:O,label:a}),_=F?p:l.FieldValueSelection;return i.a.createElement(_,{fullWidth:e,singleSelection:h,values:L,label:a,onChange:I,query:M,setQuery:A,loading:D,selectedValue:s,excludedValue:u,button:d,forceOpen:b,setForceOpen:g,anchorPosition:y,width:m,compressed:v,asFilterButton:w,usePrependLabel:x,allowExclusions:S,allowAllValuesSelection:!h&&E,required:C,showLogicalConditionSwitch:j,useLogicalAND:V})}t.default=m},function(e,t,a){"use strict";a.d(t,"a",(function(){return g})),a.d(t,"b",(function(){return y})),a.d(t,"c",(function(){return h}));var r=a(1),i=a(19),n=a(8),l=a(75),o=a(18),s=a(5),u=a(64),c=a(57),d=a(76),p=a(58),f=a(6),m=a(60),b=a(66);const g=e=>Object.entries(null!=e?e:{}).map((([e,t])=>({field:e,values:Array.isArray(t)?t:[t]}))).filter((({values:e})=>!e.includes(s.a)));function y(e,t,a,r,n,l){const o=[];return e.forEach(((e,s)=>{const u=null==r?void 0:r[null==e?void 0:e.dataType];if(u&&!Object(i.isEmpty)(e.reportDefinitions)&&!e.hidden&&e.selectedMetricField){var c,p,m;const r=Object(d.a)({reportType:t,dataView:u,dataType:e.dataType,reportConfigMap:n,spaceId:l}),i=(null!==(c=e.filters)&&void 0!==c?c:[]).concat(g(e.reportDefinitions),g(e.textReportDefinitions)),y=null===(p=a.eui)||void 0===p?void 0:p[`euiColorVis${s}`];let h=e.color;var b;"single-metric"!==t&&(h=null!==(b=e.color)&&void 0!==b?b:y),o.push({filters:i,dataView:u,seriesConfig:r,time:e.time,name:e.name,color:h,breakdown:e.breakdown===f.f?void 0:e.breakdown,seriesType:e.seriesType,operationType:e.operationType,reportDefinitions:null!==(m=e.reportDefinitions)&&void 0!==m?m:{},selectedMetricField:e.selectedMetricField,showPercentileAnnotations:e.showPercentileAnnotations})}})),o}const h=()=>{const{storage:e,allSeries:t,lastRefresh:a,reportType:s}=Object(c.f)(),{dataViews:d}=Object(p.b)(),f=Object(n.useKibanaSpace)(),{reportConfigMap:g}=Object(m.b)(),h=Object(n.useTheme)(),v=(()=>{const{services:{lens:e}}=Object(o.useKibana)(),{data:t}=Object(n.useFetcher)((async()=>e.stateHelperApi()),[e]);return Object(r.useMemo)((()=>{if(t)return t.formula}),[t])})();return Object(r.useMemo)((()=>{var t,r;const n=Object(c.d)(null!==(t=e.get(c.c))&&void 0!==t?t:[]),o=e.get(c.e);if(Object(i.isEmpty)(d)||Object(i.isEmpty)(n)||!o||!v)return null;const s=y(n,o,h,d,g,null===(r=f.space)||void 0===r?void 0:r.id);return s.length<1?null:"single-metric"===o?new b.a(s,o,v).getJSON("lnsLegacyMetric",a):"heatmap"===o?new l.a(s,o,v).getJSON("lnsHeatmap",a):new u.a(s,o,v).getJSON("lnsXY",a)}),[d,s,e,h,a,t,v])}},,function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return n}));var r=a(8);const i=(e,t,a)=>{l(e,t,a),s(e,t,a),o(e)},n=(e,t,a)=>{u(e,t,a)},l=(e,t,a)=>{const i=(e=>{const t=new Map;return e.forEach((e=>{const a=t.get(e.dataType),r=(e.filters||[]).map((e=>e.field));a?a.push(...r):t.set(e.dataType,[...r])})),t})(t);[...i.keys()].forEach((t=>{(i.get(t)||[]).forEach((i=>{e({app:"observability-overview",metricType:r.METRIC_TYPE.COUNT,metric:`exploratory_view__filters__filter_${i}`}),e({app:"observability-overview",metricType:r.METRIC_TYPE.COUNT,metric:`exploratory_view__filters__report_type_${a}__data_type_${t}__filter_${i}`})}))}))},o=e=>{e({app:"observability-overview",metricType:r.METRIC_TYPE.COUNT,metric:"exploratory_view_apply_changes"})},s=(e,t,a)=>{t.map((e=>({dataType:e.dataType,metricType:e.selectedMetricField}))).forEach((({dataType:t,metricType:i})=>{a&&t&&i&&e({app:"observability-overview",metricType:r.METRIC_TYPE.COUNT,metric:`exploratory_view__report_type_${a}__data_type_${t}__metric_type_${i}`})}))},u=(e,t,a)=>{const r=(i=(a-t)/1e3)<0||isNaN(i)?null:i>=60?"60+":i>=30?"30-60":i>=20?"20-30":i>=10?"10-20":i>=5?"5-10":"0-5";var i;r&&c(e,r)},c=(e,t)=>{e({app:"observability-overview",metricType:r.METRIC_TYPE.COUNT,metric:`exploratory_view__chart_loading_in_seconds_${t}`})}},function(e,t,a){"use strict";a.d(t,"a",(function(){return HeatMapLensAttributes}));var r=a(9),i=a.n(r),n=a(7),l=a(66);class HeatMapLensAttributes extends l.a{constructor(e,t,a){super(e,t,a),i()(this,"xColumnId",void 0),i()(this,"layerId",void 0),i()(this,"breakDownColumnId",void 0),this.xColumnId="layer-0-column-x-1",this.breakDownColumnId="layer-0-breakdown-column",this.layerId="layer0";const r=this.getSingleMetricLayer();r.columns[this.xColumnId]=this.getDateHistogramColumn("@timestamp");let n=[this.xColumnId];const l=e[0];l.breakdown&&(n=[this.breakDownColumnId,...n],r.columns[this.breakDownColumnId]=this.getBreakdownColumn({layerConfig:l,sourceField:l.breakdown,layerId:this.layerId,alphabeticOrder:!0})),r.columnOrder=[...n,...r.columnOrder],this.layers={layer0:r},this.visualization=this.getHeatmapState()}getHeatmapState(){const e=Object(n.euiPaletteNegative)(5),t=this.layerConfigs[0];return{shape:"heatmap",layerId:this.layerId,layerType:"data",legend:{isVisible:!0,position:"right",type:"heatmap_legend"},gridConfig:{type:"heatmap_grid",isCellLabelVisible:!1,isYAxisLabelVisible:!0,isXAxisLabelVisible:!0,isYAxisTitleVisible:!1,isXAxisTitleVisible:!1,xTitle:""},valueAccessor:this.columnId,xAccessor:this.xColumnId,yAccessor:t.breakdown?this.breakDownColumnId:void 0,palette:{type:"palette",name:"negative",params:{name:"negative",continuity:"above",reverse:!1,stops:e.map(((e,t)=>({color:e,stop:0===t?1:20*t}))),rangeMin:0},accessor:this.columnId}}}}},function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));const r=({reportType:e,dataType:t,spaceId:a,dataView:r,reportConfigMap:i})=>{var n;let l;if(null===(n=i[t])||void 0===n||n.some((t=>{const i=t({dataView:r,spaceId:a});return i.reportType===e&&(l=i),i.reportType===e})),!l)throw new Error(`No report config provided for dataType: ${t} and reportType: ${e}`);return l}},function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return u}));var r=a(1),i=a.n(r),n=a(0),l=a(7),o=a(57);function s({seriesId:e,series:t,defaultOperationType:a}){const{setSeries:r}=Object(o.f)(),n=null==t?void 0:t.operationType;return i.a.createElement(u,{onChange:a=>{r(e,{...t,operationType:a})},operationType:n||a})}function u({operationType:e,onChange:t}){const a=[{value:"min",inputDisplay:n.i18n.translate("xpack.exploratoryView.expView.operationType.min",{defaultMessage:"Min"})},{value:"max",inputDisplay:n.i18n.translate("xpack.exploratoryView.expView.operationType.max",{defaultMessage:"Max"})},{value:"average",inputDisplay:n.i18n.translate("xpack.exploratoryView.expView.operationType.average",{defaultMessage:"Average"})},{value:"median",inputDisplay:n.i18n.translate("xpack.exploratoryView.expView.operationType.median",{defaultMessage:"Median"})},{value:"sum",inputDisplay:n.i18n.translate("xpack.exploratoryView.expView.operationType.sum",{defaultMessage:"Sum"})},{value:"last_value",inputDisplay:n.i18n.translate("xpack.exploratoryView.expView.operationType.lastValue",{defaultMessage:"Last value"})},{value:"unique_count",inputDisplay:n.i18n.translate("xpack.exploratoryView.expView.operationType.uniqueCount",{defaultMessage:"Unique count"})},{value:"25th",inputDisplay:n.i18n.translate("xpack.exploratoryView.expView.operationType.25thPercentile",{defaultMessage:"25th Percentile"})},{value:"75th",inputDisplay:n.i18n.translate("xpack.exploratoryView.expView.operationType.75thPercentile",{defaultMessage:"75th Percentile"})},{value:"90th",inputDisplay:n.i18n.translate("xpack.exploratoryView.expView.operationType.90thPercentile",{defaultMessage:"90th Percentile"})},{value:"95th",inputDisplay:n.i18n.translate("xpack.exploratoryView.expView.operationType.95thPercentile",{defaultMessage:"95th Percentile"})},{value:"99th",inputDisplay:n.i18n.translate("xpack.exploratoryView.expView.operationType.99thPercentile",{defaultMessage:"99th Percentile"})}];return i.a.createElement(l.EuiSuperSelect,{fullWidth:!0,"data-test-subj":"operationTypeSelect",valueOfSelected:e,options:a,onChange:t})}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(20),i=a(90),n=a(91),l=a(92),o=a(93);function s(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var u=s(r),c=s(i),d=s(n),p=s(l),f=s(o);function m(){var e;return(e=arguments.length-1)<0||arguments.length<=e?void 0:arguments[e]}var b={symbols:{"!":{postfix:{symbol:"!",f:function e(t){return t%1||!(+t>=0)?NaN:t>170?1/0:0===t?1:t*e(t-1)},notation:"postfix",precedence:6,rightToLeft:0,argCount:1},symbol:"!",regSymbol:"!"},"^":{infix:{symbol:"^",f:function(e,t){return Math.pow(e,t)},notation:"infix",precedence:5,rightToLeft:1,argCount:2},symbol:"^",regSymbol:"\\^"},"*":{infix:{symbol:"*",f:function(e,t){return e*t},notation:"infix",precedence:4,rightToLeft:0,argCount:2},symbol:"*",regSymbol:"\\*"},"/":{infix:{symbol:"/",f:function(e,t){return e/t},notation:"infix",precedence:4,rightToLeft:0,argCount:2},symbol:"/",regSymbol:"/"},"+":{infix:{symbol:"+",f:function(e,t){return e+t},notation:"infix",precedence:2,rightToLeft:0,argCount:2},prefix:{symbol:"+",f:m,notation:"prefix",precedence:3,rightToLeft:0,argCount:1},symbol:"+",regSymbol:"\\+"},"-":{infix:{symbol:"-",f:function(e,t){return e-t},notation:"infix",precedence:2,rightToLeft:0,argCount:2},prefix:{symbol:"-",f:function(e){return-e},notation:"prefix",precedence:3,rightToLeft:0,argCount:1},symbol:"-",regSymbol:"-"},",":{infix:{symbol:",",f:function(){return Array.of.apply(Array,arguments)},notation:"infix",precedence:1,rightToLeft:0,argCount:2},symbol:",",regSymbol:","},"(":{prefix:{symbol:"(",f:m,notation:"prefix",precedence:0,rightToLeft:0,argCount:1},symbol:"(",regSymbol:"\\("},")":{postfix:{symbol:")",f:void 0,notation:"postfix",precedence:0,rightToLeft:0,argCount:1},symbol:")",regSymbol:"\\)"},min:{func:{symbol:"min",f:function(){return Math.min.apply(Math,arguments)},notation:"func",precedence:0,rightToLeft:0,argCount:1},symbol:"min",regSymbol:"min\\b"},max:{func:{symbol:"max",f:function(){return Math.max.apply(Math,arguments)},notation:"func",precedence:0,rightToLeft:0,argCount:1},symbol:"max",regSymbol:"max\\b"},sqrt:{func:{symbol:"sqrt",f:function(e){return Math.sqrt(e)},notation:"func",precedence:0,rightToLeft:0,argCount:1},symbol:"sqrt",regSymbol:"sqrt\\b"}}},g=function(e){function t(t){var a;return a=e.call(this,"An error occurred. See https://github.com/styled-components/polished/blob/main/src/internalHelpers/errors.md#"+t+" for more information.")||this,c.default(a)}return d.default(t,e),t}(p.default(Error)),y=/((?!\w)a|na|hc|mc|dg|me[r]?|xe|ni(?![a-zA-Z])|mm|cp|tp|xp|q(?!s)|hv|xamv|nimv|wv|sm|s(?!\D|$)|ged|darg?|nrut)/g;function h(e,t){var a,r=e.pop();return t.push(r.f.apply(r,(a=[]).concat.apply(a,t.splice(-r.argCount)))),r.precedence}function v(e){return e.split("").reverse().join("")}var w=/--[\S]*/g;function x(e){return e.charAt(0).toUpperCase()+e.slice(1)}var E=["Top","Right","Bottom","Left"];function C(e,t){if(!e)return t.toLowerCase();var a=e.split("-");if(a.length>1)return a.splice(1,0,t),a.reduce((function(e,t){return""+e+x(t)}));var r=e.replace(/([a-z])([A-Z])/g,"$1"+t+"$2");return e===r?""+e+t:r}function S(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),r=1;r<t;r++)a[r-1]=arguments[r];var i=a[0],n=a[1],l=void 0===n?i:n,o=a[2],s=void 0===o?i:o,u=a[3];return function(e,t){for(var a={},r=0;r<t.length;r+=1)(t[r]||0===t[r])&&(a[C(e,E[r])]=t[r]);return a}(e,[i,l,s,void 0===u?l:u])}function k(e,t){return e.substr(-t.length)===t}var T=/^([+-]?(?:\d+|\d*\.\d+))([a-z]*|%)$/;function F(e,t){if("string"!=typeof e)return t?[e,void 0]:e;var a=e.match(T);return t?(console.warn("stripUnit's unitReturn functionality has been marked for deprecation in polished 4.0. It's functionality has been been moved to getValueAndUnit."),a?[parseFloat(e),a[2]]:[e,void 0]):a?parseFloat(e):e}var O=function(e){return function(t,a){void 0===a&&(a="16px");var r=t,i=a;if("string"==typeof t){if(!k(t,"px"))throw new g(69,e,t);r=F(t)}if("string"==typeof a){if(!k(a,"px"))throw new g(70,e,a);i=F(a)}if("string"==typeof r)throw new g(71,t,e);if("string"==typeof i)throw new g(72,a,e);return""+r/i+e}},j=O("em"),V=/^([+-]?(?:\d+|\d*\.\d+))([a-z]*|%)$/;function I(e){if("string"!=typeof e)return[e,""];var t=e.match(V);return t?[parseFloat(e),t[2]]:[e,void 0]}var M={minorSecond:1.067,majorSecond:1.125,minorThird:1.2,majorThird:1.25,perfectFourth:1.333,augFourth:1.414,perfectFifth:1.5,minorSixth:1.6,goldenSection:1.618,majorSixth:1.667,minorSeventh:1.778,majorSeventh:1.875,octave:2,majorTenth:2.5,majorEleventh:2.667,majorTwelfth:3,doubleOctave:4},A=O("rem");function L(e,t,a,r){void 0===a&&(a="320px"),void 0===r&&(r="1200px");var i=I(e),n=i[0],l=i[1],o=I(t),s=o[0],u=o[1],c=I(a),d=c[0],p=c[1],f=I(r),m=f[0],b=f[1];if("number"!=typeof d||"number"!=typeof m||!p||!b||p!==b)throw new g(47);if("number"!=typeof n||"number"!=typeof s||l!==u)throw new g(48);if(l!==p||u!==b)throw new g(75);var y=(n-s)/(d-m);return"calc("+(s-y*m).toFixed(2)+(l||"")+" + "+(100*y).toFixed(2)+"vw)"}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var _,P,z=/^\s*data:([a-z]+\/[a-z-]+(;[a-z-]+=[a-z-]+)?)?(;charset=[a-z0-9-]+)?(;base64)?,[a-z0-9!$&',()*+,;=\-._~:@/?%\s]*\s*$/i,R={woff:"woff",woff2:"woff2",ttf:"truetype",otf:"opentype",eot:"embedded-opentype",svg:"svg",svgz:"svg"};function B(e,t){return t?' format("'+R[e]+'")':""}function $(e,t,a,r){var i=[];return t&&i.push(function(e){return e.map((function(e){return'local("'+e+'")'})).join(", ")}(t)),e&&i.push(function(e,t,a){return function(e){return!!e.replace(/\s+/g," ").match(z)}(e)?'url("'+e+'")'+B(t[0],a):t.map((function(t){return'url("'+e+"."+t+'")'+B(t,a)})).join(", ")}(e,a,r)),i.join(", ")}function N(e){return void 0===e&&(e=1.3),"\n    @media only screen and (-webkit-min-device-pixel-ratio: "+e+"),\n    only screen and (min--moz-device-pixel-ratio: "+e+"),\n    only screen and (-o-min-device-pixel-ratio: "+e+"/1),\n    only screen and (min-resolution: "+Math.round(96*e)+"dpi),\n    only screen and (min-resolution: "+e+"dppx)\n  "}function W(e){for(var t="",a=arguments.length,r=new Array(a>1?a-1:0),i=1;i<a;i++)r[i-1]=arguments[i];for(var n=0;n<e.length;n+=1)if(t+=e[n],n===r.length-1&&r[n]){var l=r.filter((function(e){return!!e}));l.length>1?(t=t.slice(0,-1),t+=", "+r[n]):1===l.length&&(t+=""+r[n])}else r[n]&&(t+=r[n]+" ");return t.trim()}var q={easeInBack:"cubic-bezier(0.600, -0.280, 0.735, 0.045)",easeInCirc:"cubic-bezier(0.600,  0.040, 0.980, 0.335)",easeInCubic:"cubic-bezier(0.550,  0.055, 0.675, 0.190)",easeInExpo:"cubic-bezier(0.950,  0.050, 0.795, 0.035)",easeInQuad:"cubic-bezier(0.550,  0.085, 0.680, 0.530)",easeInQuart:"cubic-bezier(0.895,  0.030, 0.685, 0.220)",easeInQuint:"cubic-bezier(0.755,  0.050, 0.855, 0.060)",easeInSine:"cubic-bezier(0.470,  0.000, 0.745, 0.715)",easeOutBack:"cubic-bezier(0.175,  0.885, 0.320, 1.275)",easeOutCubic:"cubic-bezier(0.215,  0.610, 0.355, 1.000)",easeOutCirc:"cubic-bezier(0.075,  0.820, 0.165, 1.000)",easeOutExpo:"cubic-bezier(0.190,  1.000, 0.220, 1.000)",easeOutQuad:"cubic-bezier(0.250,  0.460, 0.450, 0.940)",easeOutQuart:"cubic-bezier(0.165,  0.840, 0.440, 1.000)",easeOutQuint:"cubic-bezier(0.230,  1.000, 0.320, 1.000)",easeOutSine:"cubic-bezier(0.390,  0.575, 0.565, 1.000)",easeInOutBack:"cubic-bezier(0.680, -0.550, 0.265, 1.550)",easeInOutCirc:"cubic-bezier(0.785,  0.135, 0.150, 0.860)",easeInOutCubic:"cubic-bezier(0.645,  0.045, 0.355, 1.000)",easeInOutExpo:"cubic-bezier(1.000,  0.000, 0.000, 1.000)",easeInOutQuad:"cubic-bezier(0.455,  0.030, 0.515, 0.955)",easeInOutQuart:"cubic-bezier(0.770,  0.000, 0.175, 1.000)",easeInOutQuint:"cubic-bezier(0.860,  0.000, 0.070, 1.000)",easeInOutSine:"cubic-bezier(0.445,  0.050, 0.550, 0.950)"},U=function(e,t,a){var r=""+a[0]+(a[1]||""),i=""+a[0]/2+(a[1]||""),n=""+t[0]+(t[1]||""),l=""+t[0]/2+(t[1]||"");switch(e){case"top":return"0 "+i+" "+n+" "+i;case"topLeft":return r+" "+n+" 0 0";case"left":return l+" "+r+" "+l+" 0";case"bottomLeft":return r+" 0 0 "+n;case"bottom":return n+" "+i+" 0 "+i;case"bottomRight":return"0 0 "+r+" "+n;case"right":return l+" 0 "+l+" "+r;default:return"0 "+r+" "+n+" 0"}};function H(e){return Math.round(255*e)}function G(e,t,a){return H(e)+","+H(t)+","+H(a)}function K(e,t,a,r){if(void 0===r&&(r=G),0===t)return r(a,a,a);var i=(e%360+360)%360/60,n=(1-Math.abs(2*a-1))*t,l=n*(1-Math.abs(i%2-1)),o=0,s=0,u=0;i>=0&&i<1?(o=n,s=l):i>=1&&i<2?(o=l,s=n):i>=2&&i<3?(s=n,u=l):i>=3&&i<4?(s=l,u=n):i>=4&&i<5?(o=l,u=n):i>=5&&i<6&&(o=n,u=l);var c=a-n/2;return r(o+c,s+c,u+c)}var Y={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Q=/^#[a-fA-F0-9]{6}$/,J=/^#[a-fA-F0-9]{8}$/,X=/^#[a-fA-F0-9]{3}$/,Z=/^#[a-fA-F0-9]{4}$/,ee=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i,te=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i,ae=/^hsl\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*\)$/i,re=/^hsla\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i;function ie(e){if("string"!=typeof e)throw new g(3);var t=function(e){if("string"!=typeof e)return e;var t=e.toLowerCase();return Y[t]?"#"+Y[t]:e}(e);if(t.match(Q))return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16)};if(t.match(J)){var a=parseFloat((parseInt(""+t[7]+t[8],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16),alpha:a}}if(t.match(X))return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16)};if(t.match(Z)){var r=parseFloat((parseInt(""+t[4]+t[4],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16),alpha:r}}var i=ee.exec(t);if(i)return{red:parseInt(""+i[1],10),green:parseInt(""+i[2],10),blue:parseInt(""+i[3],10)};var n=te.exec(t.substring(0,50));if(n)return{red:parseInt(""+n[1],10),green:parseInt(""+n[2],10),blue:parseInt(""+n[3],10),alpha:parseFloat(""+n[4])};var l=ae.exec(t);if(l){var o="rgb("+K(parseInt(""+l[1],10),parseInt(""+l[2],10)/100,parseInt(""+l[3],10)/100)+")",s=ee.exec(o);if(!s)throw new g(4,t,o);return{red:parseInt(""+s[1],10),green:parseInt(""+s[2],10),blue:parseInt(""+s[3],10)}}var u=re.exec(t.substring(0,50));if(u){var c="rgb("+K(parseInt(""+u[1],10),parseInt(""+u[2],10)/100,parseInt(""+u[3],10)/100)+")",d=ee.exec(c);if(!d)throw new g(4,t,c);return{red:parseInt(""+d[1],10),green:parseInt(""+d[2],10),blue:parseInt(""+d[3],10),alpha:parseFloat(""+u[4])}}throw new g(5)}function ne(e){return function(e){var t,a=e.red/255,r=e.green/255,i=e.blue/255,n=Math.max(a,r,i),l=Math.min(a,r,i),o=(n+l)/2;if(n===l)return void 0!==e.alpha?{hue:0,saturation:0,lightness:o,alpha:e.alpha}:{hue:0,saturation:0,lightness:o};var s=n-l,u=o>.5?s/(2-n-l):s/(n+l);switch(n){case a:t=(r-i)/s+(r<i?6:0);break;case r:t=(i-a)/s+2;break;default:t=(a-r)/s+4}return t*=60,void 0!==e.alpha?{hue:t,saturation:u,lightness:o,alpha:e.alpha}:{hue:t,saturation:u,lightness:o}}(ie(e))}var le=function(e){return 7===e.length&&e[1]===e[2]&&e[3]===e[4]&&e[5]===e[6]?"#"+e[1]+e[3]+e[5]:e};function oe(e){var t=e.toString(16);return 1===t.length?"0"+t:t}function se(e){return oe(Math.round(255*e))}function ue(e,t,a){return le("#"+se(e)+se(t)+se(a))}function ce(e,t,a){return K(e,t,a,ue)}function de(e,t,a){if("number"==typeof e&&"number"==typeof t&&"number"==typeof a)return ce(e,t,a);if("object"==typeof e&&void 0===t&&void 0===a)return ce(e.hue,e.saturation,e.lightness);throw new g(1)}function pe(e,t,a,r){if("number"==typeof e&&"number"==typeof t&&"number"==typeof a&&"number"==typeof r)return r>=1?ce(e,t,a):"rgba("+K(e,t,a)+","+r+")";if("object"==typeof e&&void 0===t&&void 0===a&&void 0===r)return e.alpha>=1?ce(e.hue,e.saturation,e.lightness):"rgba("+K(e.hue,e.saturation,e.lightness)+","+e.alpha+")";throw new g(2)}function fe(e,t,a){if("number"==typeof e&&"number"==typeof t&&"number"==typeof a)return le("#"+oe(e)+oe(t)+oe(a));if("object"==typeof e&&void 0===t&&void 0===a)return le("#"+oe(e.red)+oe(e.green)+oe(e.blue));throw new g(6)}function me(e,t,a,r){if("string"==typeof e&&"number"==typeof t){var i=ie(e);return"rgba("+i.red+","+i.green+","+i.blue+","+t+")"}if("number"==typeof e&&"number"==typeof t&&"number"==typeof a&&"number"==typeof r)return r>=1?fe(e,t,a):"rgba("+e+","+t+","+a+","+r+")";if("object"==typeof e&&void 0===t&&void 0===a&&void 0===r)return e.alpha>=1?fe(e.red,e.green,e.blue):"rgba("+e.red+","+e.green+","+e.blue+","+e.alpha+")";throw new g(7)}var be=function(e){return"number"==typeof e.red&&"number"==typeof e.green&&"number"==typeof e.blue&&("number"!=typeof e.alpha||void 0===e.alpha)},ge=function(e){return"number"==typeof e.red&&"number"==typeof e.green&&"number"==typeof e.blue&&"number"==typeof e.alpha},ye=function(e){return"number"==typeof e.hue&&"number"==typeof e.saturation&&"number"==typeof e.lightness&&("number"!=typeof e.alpha||void 0===e.alpha)},he=function(e){return"number"==typeof e.hue&&"number"==typeof e.saturation&&"number"==typeof e.lightness&&"number"==typeof e.alpha};function ve(e){if("object"!=typeof e)throw new g(8);if(ge(e))return me(e);if(be(e))return fe(e);if(he(e))return pe(e);if(ye(e))return de(e);throw new g(8)}function we(e,t,a){return function(){var r=a.concat(Array.prototype.slice.call(arguments));return r.length>=t?e.apply(this,r):we(e,t,r)}}function xe(e){return we(e,e.length,[])}function Ee(e,t){if("transparent"===t)return t;var a=ne(t);return ve(u.default({},a,{hue:a.hue+parseFloat(e)}))}var Ce=xe(Ee);function Se(e,t,a){return Math.max(e,Math.min(t,a))}function ke(e,t){if("transparent"===t)return t;var a=ne(t);return ve(u.default({},a,{lightness:Se(0,1,a.lightness-parseFloat(e))}))}var Te=xe(ke);function Fe(e,t){if("transparent"===t)return t;var a=ne(t);return ve(u.default({},a,{saturation:Se(0,1,a.saturation-parseFloat(e))}))}var Oe=xe(Fe);function je(e){if("transparent"===e)return 0;var t=ie(e),a=Object.keys(t).map((function(e){var a=t[e]/255;return a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4)})),r=a[0],i=a[1],n=a[2];return parseFloat((.2126*r+.7152*i+.0722*n).toFixed(3))}function Ve(e,t){var a=je(e),r=je(t);return parseFloat((a>r?(a+.05)/(r+.05):(r+.05)/(a+.05)).toFixed(2))}function Ie(e,t){if("transparent"===t)return t;var a=ne(t);return ve(u.default({},a,{lightness:Se(0,1,a.lightness+parseFloat(e))}))}var Me=xe(Ie);function Ae(e,t,a){if("transparent"===t)return a;if("transparent"===a)return t;if(0===e)return a;var r=ie(t),i=u.default({},r,{alpha:"number"==typeof r.alpha?r.alpha:1}),n=ie(a),l=u.default({},n,{alpha:"number"==typeof n.alpha?n.alpha:1}),o=i.alpha-l.alpha,s=2*parseFloat(e)-1,c=((s*o==-1?s:s+o)/(1+s*o)+1)/2,d=1-c;return me({red:Math.floor(i.red*c+l.red*d),green:Math.floor(i.green*c+l.green*d),blue:Math.floor(i.blue*c+l.blue*d),alpha:i.alpha*(parseFloat(e)/1)+l.alpha*(1-parseFloat(e)/1)})}var Le=xe(Ae);function De(e,t){if("transparent"===t)return t;var a=ie(t),r="number"==typeof a.alpha?a.alpha:1;return me(u.default({},a,{alpha:Se(0,1,(100*r+100*parseFloat(e))/100)}))}var _e=xe(De),Pe="#000",ze="#fff";function Re(e,t){if("transparent"===t)return t;var a=ne(t);return ve(u.default({},a,{saturation:Se(0,1,a.saturation+parseFloat(e))}))}var Be=xe(Re);function $e(e,t){return"transparent"===t?t:ve(u.default({},ne(t),{hue:parseFloat(e)}))}var Ne=xe($e);function We(e,t){return"transparent"===t?t:ve(u.default({},ne(t),{lightness:parseFloat(e)}))}var qe=xe(We);function Ue(e,t){return"transparent"===t?t:ve(u.default({},ne(t),{saturation:parseFloat(e)}))}var He=xe(Ue);function Ge(e,t){return"transparent"===t?t:Le(parseFloat(e),"rgb(0, 0, 0)",t)}var Ke=xe(Ge);function Ye(e,t){return"transparent"===t?t:Le(parseFloat(e),"rgb(255, 255, 255)",t)}var Qe=xe(Ye);function Je(e,t){if("transparent"===t)return t;var a=ie(t),r="number"==typeof a.alpha?a.alpha:1;return me(u.default({},a,{alpha:Se(0,1,+(100*r-100*parseFloat(e)).toFixed(2)/100)}))}var Xe=xe(Je),Ze=["top","right","bottom","left"];function et(e,t){return e(t?":"+t:"")}function tt(e,t,a){if(!t)throw new g(67);if(0===e.length)return et(t,null);for(var r=[],i=0;i<e.length;i+=1){if(a&&a.indexOf(e[i])<0)throw new g(68);r.push(et(t,e[i]))}return r.join(",")}var at=[void 0,null,"active","focus","hover"];function rt(e){return"button"+e+',\n  input[type="button"]'+e+',\n  input[type="reset"]'+e+',\n  input[type="submit"]'+e}var it=["absolute","fixed","relative","static","sticky"],nt=[void 0,null,"active","focus","hover"];function lt(e){return'input[type="color"]'+e+',\n    input[type="date"]'+e+',\n    input[type="datetime"]'+e+',\n    input[type="datetime-local"]'+e+',\n    input[type="email"]'+e+',\n    input[type="month"]'+e+',\n    input[type="number"]'+e+',\n    input[type="password"]'+e+',\n    input[type="search"]'+e+',\n    input[type="tel"]'+e+',\n    input[type="text"]'+e+',\n    input[type="time"]'+e+',\n    input[type="url"]'+e+',\n    input[type="week"]'+e+",\n    input:not([type])"+e+",\n    textarea"+e}t.adjustHue=Ce,t.animation=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var r=Array.isArray(t[0]);if(!r&&t.length>8)throw new g(64);return{animation:t.map((function(e){if(r&&!Array.isArray(e)||!r&&Array.isArray(e))throw new g(65);if(Array.isArray(e)&&e.length>8)throw new g(66);return Array.isArray(e)?e.join(" "):e})).join(", ")}},t.backgroundImages=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return{backgroundImage:t.join(", ")}},t.backgrounds=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return{background:t.join(", ")}},t.between=L,t.border=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),r=1;r<t;r++)a[r-1]=arguments[r];var i;return"string"==typeof e&&Ze.indexOf(e)>=0?((i={})["border"+x(e)+"Width"]=a[0],i["border"+x(e)+"Style"]=a[1],i["border"+x(e)+"Color"]=a[2],i):(a.unshift(e),{borderWidth:a[0],borderStyle:a[1],borderColor:a[2]})},t.borderColor=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return S.apply(void 0,["borderColor"].concat(t))},t.borderRadius=function(e,t){var a,r,i=x(e);if(!t&&0!==t)throw new g(62);if("Top"===i||"Bottom"===i)return(a={})["border"+i+"RightRadius"]=t,a["border"+i+"LeftRadius"]=t,a;if("Left"===i||"Right"===i)return(r={})["borderTop"+i+"Radius"]=t,r["borderBottom"+i+"Radius"]=t,r;throw new g(63)},t.borderStyle=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return S.apply(void 0,["borderStyle"].concat(t))},t.borderWidth=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return S.apply(void 0,["borderWidth"].concat(t))},t.buttons=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return tt(t,rt,at)},t.clearFix=function(e){var t;return void 0===e&&(e="&"),(t={})[e+"::after"]={clear:"both",content:'""',display:"table"},t},t.complement=function(e){if("transparent"===e)return e;var t=ne(e);return ve(u.default({},t,{hue:(t.hue+180)%360}))},t.cover=function(e){return void 0===e&&(e=0),{position:"absolute",top:e,right:e,bottom:e,left:e}},t.cssVar=function(e,t){if(!e||!e.match(w)){if(t)return e;throw new g(73)}var a;if("undefined"!=typeof document&&null!==document.documentElement&&(a=getComputedStyle(document.documentElement).getPropertyValue(e)),a)return a.trim();throw new g(74)},t.darken=Te,t.desaturate=Oe,t.directionalProperty=S,t.ellipsis=function(e){return void 0===e&&(e="100%"),{display:"inline-block",maxWidth:e,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",wordWrap:"normal"}},t.em=j,t.fluidRange=function(e,t,a){if(void 0===t&&(t="320px"),void 0===a&&(a="1200px"),!Array.isArray(e)&&"object"!=typeof e||null===e)throw new g(49);if(Array.isArray(e)){for(var r,i={},n={},l=function(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(a)return(a=a.call(e)).next.bind(a);if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return D(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?D(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e);!(r=l()).done;){var o,s,c=r.value;if(!c.prop||!c.fromSize||!c.toSize)throw new g(50);n[c.prop]=c.fromSize,i["@media (min-width: "+t+")"]=u.default({},i["@media (min-width: "+t+")"],((o={})[c.prop]=L(c.fromSize,c.toSize,t,a),o)),i["@media (min-width: "+a+")"]=u.default({},i["@media (min-width: "+a+")"],((s={})[c.prop]=c.toSize,s))}return u.default({},n,i)}var d,p,f;if(!e.prop||!e.fromSize||!e.toSize)throw new g(51);return(f={})[e.prop]=e.fromSize,f["@media (min-width: "+t+")"]=((d={})[e.prop]=L(e.fromSize,e.toSize,t,a),d),f["@media (min-width: "+a+")"]=((p={})[e.prop]=e.toSize,p),f},t.fontFace=function(e){var t=e.fontFamily,a=e.fontFilePath,r=e.fontStretch,i=e.fontStyle,n=e.fontVariant,l=e.fontWeight,o=e.fileFormats,s=void 0===o?["eot","woff2","woff","ttf","svg"]:o,u=e.formatHint,c=void 0!==u&&u,d=e.localFonts,p=e.unicodeRange,f=e.fontDisplay,m=e.fontVariationSettings,b=e.fontFeatureSettings;if(!t)throw new g(55);if(!a&&!d)throw new g(52);if(d&&!Array.isArray(d))throw new g(53);if(!Array.isArray(s))throw new g(54);var y={"@font-face":{fontFamily:t,src:$(a,d,s,c),unicodeRange:p,fontStretch:r,fontStyle:i,fontVariant:n,fontWeight:l,fontDisplay:f,fontVariationSettings:m,fontFeatureSettings:b}};return JSON.parse(JSON.stringify(y))},t.getContrast=Ve,t.getLuminance=je,t.getValueAndUnit=I,t.grayscale=function(e){return"transparent"===e?e:ve(u.default({},ne(e),{saturation:0}))},t.hiDPI=N,t.hideText=function(){return{textIndent:"101%",overflow:"hidden",whiteSpace:"nowrap"}},t.hideVisually=function(){return{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",whiteSpace:"nowrap",width:"1px"}},t.hsl=de,t.hslToColorString=function(e){if("object"==typeof e&&"number"==typeof e.hue&&"number"==typeof e.saturation&&"number"==typeof e.lightness)return e.alpha&&"number"==typeof e.alpha?pe({hue:e.hue,saturation:e.saturation,lightness:e.lightness,alpha:e.alpha}):de({hue:e.hue,saturation:e.saturation,lightness:e.lightness});throw new g(45)},t.hsla=pe,t.invert=function(e){if("transparent"===e)return e;var t=ie(e);return ve(u.default({},t,{red:255-t.red,green:255-t.green,blue:255-t.blue}))},t.lighten=Me,t.linearGradient=function(e){var t=e.colorStops,a=e.fallback,r=e.toDirection,i=void 0===r?"":r;if(!t||t.length<2)throw new g(56);return{backgroundColor:a||t[0].replace(/,\s+/g,",").split(" ")[0].replace(/,(?=\S)/g,", "),backgroundImage:W(_||(_=f.default(["linear-gradient(","",")"])),i,t.join(", ").replace(/,(?=\S)/g,", "))}},t.margin=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return S.apply(void 0,["margin"].concat(t))},t.math=function(e,t){var a=v(e),r=a.match(y);if(r&&!r.every((function(e){return e===r[0]})))throw new g(41);return""+function(e,t){var a,r=function(e){var t={};return t.symbols=e?u.default({},b.symbols,e.symbols):u.default({},b.symbols),t}(t),i=[r.symbols["("].prefix],n=[],l=new RegExp("\\d+(?:\\.\\d+)?|"+Object.keys(r.symbols).map((function(e){return r.symbols[e]})).sort((function(e,t){return t.symbol.length-e.symbol.length})).map((function(e){return e.regSymbol})).join("|")+"|(\\S)","g");l.lastIndex=0;var o=!1;do{var s=(a=l.exec(e))||[")",void 0],c=s[0],d=s[1],p=r.symbols[c],f=p&&!p.prefix&&!p.func,m=!p||!p.postfix&&!p.infix;if(d||(o?m:f))throw new g(37,a?a.index:e.length,e);if(o){var y=p.postfix||p.infix;do{var v=i[i.length-1];if((y.precedence-v.precedence||v.rightToLeft)>0)break}while(h(i,n));o="postfix"===y.notation,")"!==y.symbol&&(i.push(y),o&&h(i,n))}else if(p){if(i.push(p.prefix||p.func),p.func&&(!(a=l.exec(e))||"("!==a[0]))throw new g(38,a?a.index:e.length,e)}else n.push(+c),o=!0}while(a&&i.length);if(i.length)throw new g(39,a?a.index:e.length,e);if(a)throw new g(40,a?a.index:e.length,e);return n.pop()}(v(a.replace(y,"")),t)+(r?v(r[0]):"")},t.meetsContrastGuidelines=function(e,t){var a=Ve(e,t);return{AA:a>=4.5,AALarge:a>=3,AAA:a>=7,AAALarge:a>=4.5}},t.mix=Le,t.modularScale=function(e,t,a){if(void 0===t&&(t="1em"),void 0===a&&(a=1.333),"number"!=typeof e)throw new g(42);if("string"==typeof a&&!M[a])throw new g(43);var r="string"==typeof t?I(t):[t,""],i=r[0],n=r[1],l="string"==typeof a?M[a]:a;if("string"==typeof i)throw new g(44,t);return""+i*Math.pow(l,e)+(n||"")},t.normalize=function(){var e;return[(e={html:{lineHeight:"1.15",textSizeAdjust:"100%"},body:{margin:"0"},main:{display:"block"},h1:{fontSize:"2em",margin:"0.67em 0"},hr:{boxSizing:"content-box",height:"0",overflow:"visible"},pre:{fontFamily:"monospace, monospace",fontSize:"1em"},a:{backgroundColor:"transparent"},"abbr[title]":{borderBottom:"none",textDecoration:"underline"}},e["b,\n    strong"]={fontWeight:"bolder"},e["code,\n    kbd,\n    samp"]={fontFamily:"monospace, monospace",fontSize:"1em"},e.small={fontSize:"80%"},e["sub,\n    sup"]={fontSize:"75%",lineHeight:"0",position:"relative",verticalAlign:"baseline"},e.sub={bottom:"-0.25em"},e.sup={top:"-0.5em"},e.img={borderStyle:"none"},e["button,\n    input,\n    optgroup,\n    select,\n    textarea"]={fontFamily:"inherit",fontSize:"100%",lineHeight:"1.15",margin:"0"},e["button,\n    input"]={overflow:"visible"},e["button,\n    select"]={textTransform:"none"},e['button,\n    html [type="button"],\n    [type="reset"],\n    [type="submit"]']={WebkitAppearance:"button"},e['button::-moz-focus-inner,\n    [type="button"]::-moz-focus-inner,\n    [type="reset"]::-moz-focus-inner,\n    [type="submit"]::-moz-focus-inner']={borderStyle:"none",padding:"0"},e['button:-moz-focusring,\n    [type="button"]:-moz-focusring,\n    [type="reset"]:-moz-focusring,\n    [type="submit"]:-moz-focusring']={outline:"1px dotted ButtonText"},e.fieldset={padding:"0.35em 0.625em 0.75em"},e.legend={boxSizing:"border-box",color:"inherit",display:"table",maxWidth:"100%",padding:"0",whiteSpace:"normal"},e.progress={verticalAlign:"baseline"},e.textarea={overflow:"auto"},e['[type="checkbox"],\n    [type="radio"]']={boxSizing:"border-box",padding:"0"},e['[type="number"]::-webkit-inner-spin-button,\n    [type="number"]::-webkit-outer-spin-button']={height:"auto"},e['[type="search"]']={WebkitAppearance:"textfield",outlineOffset:"-2px"},e['[type="search"]::-webkit-search-decoration']={WebkitAppearance:"none"},e["::-webkit-file-upload-button"]={WebkitAppearance:"button",font:"inherit"},e.details={display:"block"},e.summary={display:"list-item"},e.template={display:"none"},e["[hidden]"]={display:"none"},e),{"abbr[title]":{textDecoration:"underline dotted"}}]},t.opacify=_e,t.padding=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return S.apply(void 0,["padding"].concat(t))},t.parseToHsl=ne,t.parseToRgb=ie,t.position=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),r=1;r<t;r++)a[r-1]=arguments[r];return it.indexOf(e)>=0&&e?u.default({},S.apply(void 0,[""].concat(a)),{position:e}):S.apply(void 0,["",e].concat(a))},t.radialGradient=function(e){var t=e.colorStops,a=e.extent,r=void 0===a?"":a,i=e.fallback,n=e.position,l=void 0===n?"":n,o=e.shape,s=void 0===o?"":o;if(!t||t.length<2)throw new g(57);return{backgroundColor:i||t[0].split(" ")[0],backgroundImage:W(P||(P=f.default(["radial-gradient(","","","",")"])),l,s,r,t.join(", "))}},t.readableColor=function(e,t,a,r){void 0===t&&(t=Pe),void 0===a&&(a=ze),void 0===r&&(r=!0);var i=je(e)>.179,n=i?t:a;return!r||Ve(e,n)>=4.5?n:i?Pe:ze},t.rem=A,t.retinaImage=function(e,t,a,r,i){var n;if(void 0===a&&(a="png"),void 0===i&&(i="_2x"),!e)throw new g(58);var l=a.replace(/^\./,""),o=r?r+"."+l:""+e+i+"."+l;return(n={backgroundImage:"url("+e+"."+l+")"})[N()]=u.default({backgroundImage:"url("+o+")"},t?{backgroundSize:t}:{}),n},t.rgb=fe,t.rgbToColorString=function(e){if("object"==typeof e&&"number"==typeof e.red&&"number"==typeof e.green&&"number"==typeof e.blue)return"number"==typeof e.alpha?me({red:e.red,green:e.green,blue:e.blue,alpha:e.alpha}):fe({red:e.red,green:e.green,blue:e.blue});throw new g(46)},t.rgba=me,t.saturate=Be,t.setHue=Ne,t.setLightness=qe,t.setSaturation=He,t.shade=Ke,t.size=function(e,t){return void 0===t&&(t=e),{height:e,width:t}},t.stripUnit=F,t.textInputs=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return tt(t,lt,nt)},t.timingFunctions=function(e){return q[e]},t.tint=Qe,t.toColorString=ve,t.transitions=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];if(Array.isArray(t[0])&&2===t.length){var r=t[1];if("string"!=typeof r)throw new g(61);return{transition:t[0].map((function(e){return e+" "+r})).join(", ")}}return{transition:t.join(", ")}},t.transparentize=Xe,t.triangle=function(e){var t=e.pointingDirection,a=e.height,r=e.width,i=e.foregroundColor,n=e.backgroundColor,l=void 0===n?"transparent":n,o=I(r),s=I(a);if(isNaN(s[0])||isNaN(o[0]))throw new g(60);return u.default({width:"0",height:"0",borderColor:l},function(e,t){switch(e){case"top":case"bottomRight":return{borderBottomColor:t};case"right":case"bottomLeft":return{borderLeftColor:t};case"bottom":case"topLeft":return{borderTopColor:t};case"left":case"topRight":return{borderRightColor:t};default:throw new g(59)}}(t,i),{borderStyle:"solid",borderWidth:U(t,s,o)})},t.wordWrap=function(e){return void 0===e&&(e="break-word"),{overflowWrap:e,wordWrap:e,wordBreak:"break-word"===e?"break-all":e}}},function(e,t,a){"use strict";a.r(t),a.d(t,"buildFilterLabel",(function(){return u})),a.d(t,"FilterValueLabel",(function(){return c}));var r=a(1),i=a.n(r),n=a(43),l=a(42),o=a(47),s=a(18);function u({field:e,value:t,label:a,dataView:r,negate:i}){const n=r.getFieldByName(e),o=Array.isArray(t)&&t.length>1,s=o?Object(l.buildPhrasesFilter)(n,t,r):Object(l.buildPhraseFilter)(n,Array.isArray(t)?t[0]:t,r);return s.meta.type=o?"phrases":"phrase",s.meta.value=Array.isArray(t)?o?void 0:`${t[0]}`:t,s.meta.key=a,s.meta.alias=null,s.meta.negate=i,s.meta.disabled=!1,s}function c({label:e,field:t,value:a,negate:r,dataView:l,invertFilter:c,removeFilter:d,allowExclusion:p=!0}){const f=Object(n.injectI18n)(o.FilterItem),m=u({field:t,value:a,label:e,dataView:l,negate:r}),{services:{uiSettings:b,docLinks:g}}=Object(s.useKibana)();return l?i.a.createElement(f,{indexPatterns:[l],id:`${t}-${a}-${r}`,filter:m,onRemove:()=>{d(t,a,!1)},onUpdate:e=>{e.meta.negate!==r&&c({field:t,value:a,negate:r})},uiSettings:b,docLinks:g,hiddenPanelOptions:[...p?[]:["negateFilter"],"pinFilter","editFilter","disableFilter"]}):null}t.default=c},,function(e,t,a){"use strict";a.r(t),a.d(t,"formatOptions",(function(){return p})),a.d(t,"SelectableUrlList",(function(){return f}));var r=a(1),i=a.n(r),n=a(7),l=a(0),o=a(70),s=a.n(o),u=a(48),c=a.n(u);const d={filterByUrl:l.i18n.translate("xpack.exploratoryView.filters.filterByUrl",{defaultMessage:"Filter by URL"}),getSearchResultsLabel:e=>l.i18n.translate("xpack.exploratoryView.filters.searchResults",{defaultMessage:"{total} Search results",values:{total:e}}),topPages:l.i18n.translate("xpack.exploratoryView.filters.topPages",{defaultMessage:"Top pages"}),select:l.i18n.translate("xpack.exploratoryView.filters.select",{defaultMessage:"Select"}),url:l.i18n.translate("xpack.exploratoryView.filters.url",{defaultMessage:"Url"}),loadingResults:l.i18n.translate("xpack.exploratoryView.filters.url.loadingResults",{defaultMessage:"Loading results"}),noResults:l.i18n.translate("xpack.exploratoryView.filters.url.noResults",{defaultMessage:"No results available"})},p=e=>e.map((e=>({title:e.label,...e,className:c()("euiSelectableTemplateSitewide__listItem",e.className)})));function f({data:e,loading:t,onInputChange:a,onSelectionChange:o,onSelectionApply:u,searchValue:c,popoverIsOpen:f,setPopoverIsOpen:m,initialValue:b,renderOption:g,rowHeight:y,hasChanged:h}){var v,w;const[x,E]=Object(r.useState)(null),C=Object(r.useRef)(null),S=p(null!==(v=e.items)&&void 0!==v?v:[]),k=()=>{m(!1)};s()("keydown",(e=>{"enter"===e.key.toLowerCase()&&(u(),m(!1))}),x),s()("escape",(()=>m(!1)),x);const T=i.a.createElement(n.EuiSelectableMessage,{style:{minHeight:300}},i.a.createElement(n.EuiLoadingSpinner,{size:"l"}),i.a.createElement("br",null),i.a.createElement("p",null,d.loadingResults)),F=i.a.createElement(n.EuiSelectableMessage,{style:{minHeight:300}},i.a.createElement("p",null,d.noResults)),O=c?d.getSearchResultsLabel(null!==(w=null==e?void 0:e.total)&&void 0!==w?w:0):d.topPages;function j(){return i.a.createElement(n.EuiPopoverTitle,{paddingSize:"s"},i.a.createElement(n.EuiFlexGroup,{ref:C,gutterSize:"xs"},i.a.createElement(n.EuiFlexItem,{style:{justifyContent:"center"}},t?i.a.createElement(n.EuiLoadingSpinner,null):O),i.a.createElement(n.EuiFlexItem,{grow:!1},i.a.createElement(n.EuiButtonIcon,{"data-test-subj":"exploratoryViewPopOverTitleButton",color:"text",onClick:()=>k(),"aria-label":l.i18n.translate("xpack.exploratoryView.search.url.close",{defaultMessage:"Close"}),iconType:"cross"}))))}return i.a.createElement(n.EuiSelectable,{searchable:!0,onChange:o,options:c!==(null==x?void 0:x.value)?[]:S,renderOption:g,singleSelection:!1,searchProps:{value:c,isClearable:!0,onClick:e=>{m(!0),x&&x.focus()},onInput:e=>{a(e.target.value),m(!0)},inputRef:E,placeholder:d.filterByUrl,"aria-label":d.filterByUrl},listProps:{rowHeight:y,showIcons:!0,onFocusBadge:!1},loadingMessage:T,emptyMessage:F,noMatchesMessage:F,allowExclusions:!0,isPreFiltered:c!==(null==x?void 0:x.value)},((e,t)=>{var a;return i.a.createElement(n.EuiPopover,{panelPaddingSize:"none",isOpen:f,display:"block",button:t,closePopover:k,style:{minWidth:400},anchorPosition:"downLeft",ownFocus:!1},i.a.createElement("div",{style:{width:null!==(a=null==x?void 0:x.getBoundingClientRect().width)&&void 0!==a?a:600,maxWidth:"100%"}},i.a.createElement(j,null),e,i.a.createElement(n.EuiPopoverFooter,{paddingSize:"s"},i.a.createElement(n.EuiFlexGroup,{style:{justifyContent:"flex-end"}},i.a.createElement(n.EuiFlexItem,{grow:!1},i.a.createElement(n.EuiButton,{"data-test-subj":"o11ySelectableUrlListApplyButton",fill:!0,size:"s",onClick:()=>{u(),k()},isDisabled:!h()},l.i18n.translate("xpack.exploratoryView.apply.label",{defaultMessage:"Apply"})))))))}))}t.default=f},function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var r=a(7),i=a(0),n=a(1),l=a.n(n),o=a(18),s=a(49),u=a(8),c=a(50);const d=({lensAttributes:e,getToastText:t,timeRange:a,appId:r,owner:l=u.observabilityFeatureId})=>{const[d,p]=Object(n.useState)(!1),[f,m]=Object(n.useState)(!1),{http:b,application:{navigateToApp:g},notifications:{toasts:y},storage:h}=Object(o.useKibana)().services,v=Object(n.useCallback)((n=>{n&&e?(m(!1),p(!0),async function(e,t,a,r,i){const n=`/api/cases/${null==t?void 0:t.id}/comments`,l={persistableStateAttachmentState:{attributes:a,timeRange:r},persistableStateAttachmentTypeId:c.LENS_ATTACHMENT_TYPE,type:c.AttachmentType.persistableState,owner:null!=i?i:u.observabilityFeatureId};return e.post(n,{body:JSON.stringify(l)})}(b,n,e,a,l).then((()=>{p(!1),y.addSuccess({title:i.i18n.translate("xpack.exploratoryView.expView.heading.addToCase.notification",{defaultMessage:"Successfully added visualization to the case: {caseTitle}",values:{caseTitle:n.title}}),text:t(n)},{toastLifeTimeMs:1e4})}),(e=>{y.addError(e,{title:i.i18n.translate("xpack.exploratoryView.expView.heading.addToCase.notification.error",{defaultMessage:"Failed to add visualization to the selected case."})})}))):(null==h||h.set(s.DRAFT_COMMENT_STORAGE_ID,{commentId:"description",comment:`!{lens${JSON.stringify({timeRange:a,attributes:e})}}`,position:"",caseTitle:"",caseTags:""}),g(null!=r?r:u.observabilityFeatureId,{deepLinkId:s.CasesDeepLinkId.casesCreate,openInNewTab:!0}))}),[r,t,b,e,g,l,h,a,y]);return{onCaseClicked:v,isSaving:d,isCasesOpen:f,setIsCasesOpen:m}};var p=a(61);function f({autoOpen:e,lensAttributes:t,owner:a=u.observabilityFeatureId,setAutoOpen:c,timeRange:f}){var b,g;const y=Object(o.useKibana)().services,h=y.cases.helpers.canUseCases([u.observabilityFeatureId]),{cases:v,application:{getUrlForApp:w},theme:x}=y,E=Object(n.useCallback)((e=>Object(o.toMountPoint)(l.a.createElement(m,{linkUrl:w(u.observabilityFeatureId,{deepLinkId:s.CasesDeepLinkId.cases,path:Object(s.generateCaseViewPath)({detailName:e.id})})}),{theme$:null==x?void 0:x.theme$})),[w,null==x?void 0:x.theme$]),C=Object(p.b)(f.from),S=Object(p.b)(f.to,{roundUp:!0}),{onCaseClicked:k,isCasesOpen:T,setIsCasesOpen:F,isSaving:O}=d({lensAttributes:t,getToastText:E,timeRange:{from:null!==(b=null==C?void 0:C.toISOString())&&void 0!==b?b:"",to:null!==(g=null==S?void 0:S.toISOString())&&void 0!==g?g:""},appId:u.observabilityFeatureId,owner:a}),j={permissions:h,onRowClick:k,owner:[a],onClose:()=>{F(!1)}};return Object(n.useEffect)((()=>{e&&F(!0)}),[e,F]),Object(n.useEffect)((()=>{T||null==c||c(!1)}),[T,c]),l.a.createElement(l.a.Fragment,null,void 0===e&&l.a.createElement(r.EuiButtonEmpty,{"data-test-subj":"o11yAddToCaseActionAddToCaseButton",size:"s",isLoading:O,isDisabled:null===t,onClick:()=>{t&&F(!0)}},i.i18n.translate("xpack.exploratoryView.expView.heading.addToCase",{defaultMessage:"Add to case"})),T&&t&&v.ui.getAllCasesSelectorModal(j))}function m({linkUrl:e}){return l.a.createElement(r.EuiFlexGroup,{justifyContent:"center"},l.a.createElement(r.EuiFlexItem,null,l.a.createElement(r.EuiLink,{"data-test-subj":"o11yCaseToastTextViewCaseLink",href:e,target:"_blank"},i.i18n.translate("xpack.exploratoryView.expView.heading.addToCase.notification.viewCase",{defaultMessage:"View case"}))))}},,,,,,,,function(e,t,a){e.exports=a(22)(5)},function(e,t,a){e.exports=a(22)(2982)},function(e,t,a){e.exports=a(22)(2993)},function(e,t,a){e.exports=a(22)(2989)},,,function(e,t,a){"use strict";a.r(t),a.d(t,"ExploratoryViewPage",(function(){return pa})),a.d(t,"DataTypes",(function(){return ca.a}));var r=a(1),i=a.n(r),n=a(0),l=a(41),o=a(12),s=a(8),u=a(20),c=a.n(u),d=a(14),p=a.n(d),f=a(7),m=a(18);const b=()=>Object(m.useKibana)();var g=a(57),y=a(72),h=a(58),v=a(78),w=a(21),x=a(76),E=a(60);const C="SELECT_REPORT_TYPE",S={reportType:C,label:n.i18n.translate("xpack.exploratoryView.expView.reportType.selectLabel",{defaultMessage:"Select report type"})};function k({prepend:e}){const{setReportType:t,reportType:a,allSeries:r}=Object(g.f)(),{reportTypes:n}=Object(E.b)(),l=[S,...n].filter((({reportType:e})=>!a||e!==C)).map((({reportType:e,label:t})=>({value:e,inputDisplay:e===C?t:i.a.createElement("strong",null,t),dropdownDisplay:t})));return i.a.createElement(f.EuiSuperSelect,{"aria-labelledby":"report-type-label",options:l,valueOfSelected:null!=a?a:C,onChange:e=>{t(e)},style:{minWidth:200},isInvalid:!a&&r.length>0,disabled:r.length>0,prepend:e})}var T=a(19);function F(e){const t=(a=e,Object(T.pickBy)(a,(e=>void 0!==e)));var a;return Object.entries(t).forEach((([e,a])=>{"object"==typeof a&&(t[e]=F(a))})),t}function O({onApply:e}){var t,a;const{allSeries:r,storage:l,applyChanges:o,reportType:s}=Object(g.f)(),u=Object(g.d)(null!==(t=l.get(g.c))&&void 0!==t?t:[]),c=null!==(a=l.get(g.e))&&void 0!==a?a:"";let d=r.length===u.length&&s===c;return d&&(d=!r.some(((e,t)=>!Object(T.isEqual)(F(e),F(u[t]))))),i.a.createElement(f.EuiFlexGroup,{justifyContent:"flexEnd",alignItems:"center"},i.a.createElement(f.EuiFlexItem,{grow:!1},i.a.createElement(f.EuiButton,{onClick:()=>o(e),isDisabled:d,fill:!0,"data-test-subj":"seriesChangesApplyButton"},n.i18n.translate("xpack.exploratoryView.expView.seriesBuilder.apply",{defaultMessage:"Apply changes"}))))}var j=a(59),V=a(6);const I=({series:e,seriesConfig:t})=>{var a;const i=Object(m.useKibana)().services,{application:{navigateToUrl:n}}=i,{dataViews:l}=Object(h.b)(),o=null===(a=i.discover)||void 0===a?void 0:a.locator,[s,u]=Object(r.useState)("");Object(r.useEffect)((()=>{const a=null==l?void 0:l[e.dataType];if(a){var r,i;const n=null!==(r=e.reportDefinitions)&&void 0!==r?r:{},l=(null!==(i=e.filters)&&void 0!==i?i:[]).concat(Object(y.a)(n)),s=Object(j.e)({dataView:a,urlFilters:l,initFilters:null==t?void 0:t.baseFilters}),c=e.selectedMetricField;c&&c!==V.k&&c!==V.l&&s.push(Object(j.a)(c,a)[0]),(async()=>{if(!o)return;const e=await o.getUrl({filters:s,indexPatternId:null==a?void 0:a.id});u(e)})()}}),[l,e.dataType,e.filters,e.reportDefinitions,e.selectedMetricField,null==t?void 0:t.baseFilters,o]);const c=Object(r.useCallback)((e=>{if(s)return e.preventDefault(),n(s)}),[s,n]);return{href:s,onClick:c}};function M({seriesId:e,series:t,seriesConfig:a,onEditClick:n}){const{setSeries:l,removeSeries:o,allSeries:s}=Object(g.f)(),[u,c]=Object(r.useState)(!1),{href:d}=I({series:t,seriesConfig:a}),{dataViews:p}=Object(h.b)(),m=null==p?void 0:p[t.dataType],b=0===e&&s.length>1,y=Object(r.useCallback)((()=>{c(!1)}),[c]),v=Object(r.useCallback)((()=>{o(e),y()}),[o,e,y]),w=Object(r.useCallback)((()=>{c(!u)}),[c,u]),x=i.a.createElement(f.EuiButtonIcon,{"data-test-subj":"exploratoryViewSeriesActionsButton",iconType:"boxesHorizontal",onClick:w,color:"text","aria-label":B});return i.a.createElement(f.EuiFlexGroup,{alignItems:"center",gutterSize:"none",justifyContent:"flexEnd",responsive:!1},i.a.createElement(f.EuiFlexItem,{grow:!1},i.a.createElement(f.EuiToolTip,{content:A},i.a.createElement(f.EuiButtonIcon,{iconType:"pencil",color:"text","aria-label":A,size:"s",onClick:n,"data-test-subj":`editSeries${e}`}))),i.a.createElement(f.EuiFlexItem,{grow:!1},i.a.createElement(f.EuiPopover,{button:x,isOpen:u,closePopover:y,panelPaddingSize:"none",anchorPosition:"downLeft"},i.a.createElement(f.EuiContextMenuPanel,{"aria-label":$,items:[i.a.createElement(f.EuiContextMenuItem,{key:"viewSampleDocuments",icon:"discoverApp",href:d,"aria-label":R,disabled:!t.dataType||!t.selectedMetricField||!m,target:"_blank"},R),i.a.createElement(f.EuiContextMenuItem,{key:"hideSeries",icon:t.hidden?"eye":"eyeClosed",onClick:()=>{t.hidden?l(e,{...t,hidden:void 0}):l(e,{...t,hidden:!0}),y()},"aria-label":t.hidden?D:L},t.hidden?D:L),i.a.createElement(f.EuiContextMenuItem,{key:"copySeries",icon:"copy",onClick:()=>{let e=`${t.name}-copy`;s.find((({name:t})=>t===e))&&(e+=s.length),l(s.length,{...t,name:e,breakdown:void 0}),y()},"aria-label":_},_),i.a.createElement(f.EuiContextMenuItem,{key:"deleteSeries",icon:"trash",onClick:v,"aria-label":P,disabled:b,toolTipContent:b?z:""},P)]}))))}const A=n.i18n.translate("xpack.exploratoryView.seriesEditor.edit",{defaultMessage:"Edit series"}),L=n.i18n.translate("xpack.exploratoryView.seriesEditor.hide",{defaultMessage:"Hide series"}),D=n.i18n.translate("xpack.exploratoryView.seriesEditor.show",{defaultMessage:"Show series"}),_=n.i18n.translate("xpack.exploratoryView.seriesEditor.clone",{defaultMessage:"Duplicate series"}),P=n.i18n.translate("xpack.exploratoryView.expView.seriesEditor.removeSeries",{defaultMessage:"Remove series"}),z=n.i18n.translate("xpack.exploratoryView.expView.seriesEditor.removeSeriesDisabled",{defaultMessage:"Main series cannot be removed. Please remove all series below before you can remove this."}),R=n.i18n.translate("xpack.exploratoryView.seriesEditor.sampleDocuments",{defaultMessage:"View transaction in Discover"}),B=n.i18n.translate("xpack.exploratoryView.seriesEditor.popoverButtonLabel",{defaultMessage:"View series actions"}),$=n.i18n.translate("xpack.exploratoryView.seriesEditor.actionsAriaContextLabel",{defaultMessage:"Series actions list"});function N({seriesId:e,series:t}){var a;const n=Object(s.useTheme)(),{setSeries:l}=Object(g.f)(),[o,u]=Object(r.useState)(!1),c=null!==(a=t.color)&&void 0!==a?a:n.eui[`euiColorVis${e}`],d=i.a.createElement(f.EuiToolTip,{content:q},i.a.createElement(f.EuiButtonEmpty,{"data-test-subj":"o11ySeriesColorPickerButton",size:"s",onClick:()=>u((e=>!e)),flush:"both"},i.a.createElement(f.EuiIcon,{type:"stopFilled",size:"l",color:c})));return i.a.createElement(f.EuiPopover,{button:d,isOpen:o,closePopover:()=>u(!1)},i.a.createElement(f.EuiFormRow,{label:W},i.a.createElement(f.EuiColorPicker,{onChange:a=>{l(e,{...t,color:a})},color:c})))}const W=n.i18n.translate("xpack.exploratoryView.pickColor",{defaultMessage:"Pick a color"}),q=n.i18n.translate("xpack.exploratoryView.editSeriesColor",{defaultMessage:"Edit color for series"}),U=n.i18n.translate("xpack.exploratoryView.expView.chartTypes.label",{defaultMessage:"Chart type"});function H({seriesId:e,series:t,defaultChartType:a}){var r;const{setSeries:n}=Object(g.f)(),l=null!==(r=null==t?void 0:t.seriesType)&&void 0!==r?r:a;return i.a.createElement(G,{onChange:a=>{n(e,{...t,seriesType:a})},value:l,excludeChartTypes:["bar_percentage_stacked"],includeChartTypes:["bar","bar_horizontal","line","area","bar_stacked","area_stacked","bar_horizontal_percentage_stacked"],label:U})}function G({onChange:e,value:t,includeChartTypes:a,excludeChartTypes:r}){var n;const{services:{lens:l}}=Object(m.useKibana)(),{data:o=[],loading:u}=Object(s.useFetcher)((()=>l.getXyVisTypes()),[l]);let c=o;(null!=r?r:[]).length>0&&(c=c.filter((({id:e})=>!(null!=r&&r.includes(e))))),(null!=a?a:[]).length>0&&(c=c.filter((({id:e})=>null==a?void 0:a.includes(e))));const d=(null!==(n=c)&&void 0!==n?n:[]).map((({id:e,fullLabel:t,label:a,icon:r})=>{const n=i.a.createElement(f.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},i.a.createElement(f.EuiFlexItem,{grow:!1},i.a.createElement(f.EuiIcon,{type:r})),i.a.createElement(f.EuiFlexItem,null,t||a));return{value:e,inputDisplay:n,dropdownDisplay:n}}));return i.a.createElement(f.EuiFormRow,{label:U,style:{minWidth:280}},i.a.createElement(f.EuiSuperSelect,{fullWidth:!0,valueOfSelected:t,isLoading:u,options:d,onChange:e}))}function K({seriesId:e,series:t,seriesConfig:a}){var n,l,o;const u=null!==(n=null==t?void 0:t.seriesType)&&void 0!==n?n:a.defaultSeriesType,{services:{lens:c}}=Object(m.useKibana)(),{data:d=[]}=Object(s.useFetcher)((()=>c.getXyVisTypes()),[c]),p=null===(l=(null!=d?d:[]).find((({id:e})=>e===u)))||void 0===l?void 0:l.icon,[b,g]=Object(r.useState)(!1);return i.a.createElement(f.EuiPopover,{isOpen:b,closePopover:()=>g(!1),button:i.a.createElement(f.EuiToolTip,{content:Y},i.a.createElement(f.EuiButtonEmpty,{"data-test-subj":"o11ySeriesChartTypesButton",size:"s","aria-label":Q,onClick:()=>g((e=>!e)),flush:"both"},p&&i.a.createElement(f.EuiIcon,{type:null===(o=(null!=d?d:[]).find((({id:e})=>e===u)))||void 0===o?void 0:o.icon,size:"l"})))},i.a.createElement(H,{seriesId:e,series:t,defaultChartType:a.defaultSeriesType}))}const Y=n.i18n.translate("xpack.exploratoryView.expView.seriesEditor.editChartSeriesLabel",{defaultMessage:"Edit chart type for series"}),Q=n.i18n.translate("xpack.exploratoryView.expView.chartTypes.label",{defaultMessage:"Chart type"});function J({seriesId:e,series:t,seriesConfig:a}){return a?i.a.createElement(f.EuiFlexGroup,{gutterSize:"s",responsive:!1},i.a.createElement(f.EuiFlexItem,{grow:!1},i.a.createElement(K,{seriesId:e,series:t,seriesConfig:a})),i.a.createElement(f.EuiFlexItem,{grow:!1},i.a.createElement(N,{seriesId:e,series:t}))):null}const X="SELECT_DATA_TYPE";function Z({seriesId:e,series:t}){const{setSeries:a,reportType:n}=Object(g.f)(),[l,o]=Object(r.useState)(!1),s=Object(r.useCallback)((e=>{null==e||e.focus()}),[]),{dataTypes:u,reportConfigMap:c}=Object(E.b)(),d=u.filter((({id:e})=>{var t;return null===(t=c[e])||void 0===t?void 0:t.find((e=>e({}).reportType===n))})).map((({id:e,label:t})=>({value:e,inputDisplay:t}))),p=u.find((e=>e.id===t.dataType));return i.a.createElement(i.a.Fragment,null,!t.dataType&&i.a.createElement(f.EuiPopover,{button:i.a.createElement(f.EuiButton,{"data-test-subj":"o11yDataTypesSelectButton",iconType:"plusInCircle",onClick:()=>o((e=>!e)),fill:!0,size:"s",buttonRef:s},ee),isOpen:l,closePopover:()=>o((e=>!e))},i.a.createElement(f.EuiListGroup,null,d.map((r=>i.a.createElement(f.EuiListGroupItem,{key:r.value,onClick:()=>{return i=r.value,void(String(i)!==X&&a(e,{dataType:i,time:t.time,name:`${i}-series-${e+1}`}));var i},label:r.inputDisplay}))))),t.dataType&&i.a.createElement(f.EuiToolTip,{position:"top",content:te},i.a.createElement(f.EuiBadge,null,null==p?void 0:p.label)))}const ee=n.i18n.translate("xpack.exploratoryView.selectDataType",{defaultMessage:"Select data type"}),te=n.i18n.translate("xpack.exploratoryView.selectDataTypeTooltip",{defaultMessage:"Data type cannot be edited."});function ae({seriesConfig:e,series:t}){var a;const{loading:r}=Object(h.b)();if(!e)return null;const{dataType:l,reportDefinitions:o,selectedMetricField:s}=t,{definitionFields:u,labels:c}=e,d=(!l||Object(T.isEmpty)(o)||!s)&&!r,p=Object(T.isEmpty)(o)?n.i18n.translate("xpack.exploratoryView.missingReportDefinition",{defaultMessage:"Missing {reportDefinition}",values:{reportDefinition:null==c?void 0:c["string"==typeof u[0]?u[0]:null===(a=u[0])||void 0===a?void 0:a.field]}}):"";let m=s?p:re;return l||(m=ie),d?i.a.createElement(f.EuiBadge,{color:"warning"},m):null}const re=n.i18n.translate("xpack.exploratoryView.missingReportMetric",{defaultMessage:"Missing report metric"}),ie=n.i18n.translate("xpack.exploratoryView.missingDataType",{defaultMessage:"Missing data type"});var ne=a(5),le=a(71);function oe({singleSelection:e,keepHistory:t,series:a,field:n,seriesConfig:l,onChange:o,filters:s}){var u;const{dataView:c}=Object(h.b)(a.dataType),d="string"==typeof n?n:n.field,{reportDefinitions:p={}}=a,{labels:f,baseFilters:m,definitionFields:b}=l,g=Object(r.useMemo)((()=>{const e=[];return(null!=m?m:[]).concat(null!=s?s:[]).forEach((t=>{t.query&&e.push(t.query);const a=t;a.query.exists&&e.push({exists:a.query.exists})})),Object(T.isEmpty)(p)||b.forEach((t=>{const a="string"==typeof t?t:t.field;if(c&&null!=p&&p[a]&&a!==d){const t=null==p?void 0:p[a];if(!t.includes(ne.a)){const r=Object(j.c)(a,t,c)[0];r.query&&e.push(r.query)}}})),e}),[JSON.stringify(p),JSON.stringify(m)]);return c?i.a.createElement(le.default,{label:null!==(u=f[d])&&void 0!==u?u:d,sourceField:d,dataViewTitle:c.title,selectedValue:null==p?void 0:p[d],onChange:e=>o(d,e),filters:g,time:a.time,fullWidth:!0,asCombobox:!0,allowExclusions:!1,allowAllValuesSelection:!0,usePrependLabel:!1,compressed:!1,required:Object(T.isEmpty)(p),singleSelection:e,keepHistory:t}):null}function se({series:e,field:t,seriesConfig:a,onChange:r}){var l;const{textReportDefinitions:o={}}=e,{labels:s}=a,u=null!==(l=s[t])&&void 0!==l?l:t;return i.a.createElement(f.EuiFormRow,{label:u},i.a.createElement(f.EuiFieldText,{"data-test-subj":"o11yTextReportDefinitionFieldFieldText",placeholder:n.i18n.translate("xpack.exploratoryView.textDefinitionField.placeholder.search",{defaultMessage:"Search {label}",values:{label:u}}),value:null==o?void 0:o[t],onChange:e=>r(t,e.target.value),compressed:!1}))}var ue=a(69),ce=a(3);function de({seriesId:e,series:t,seriesConfig:a}){const{setSeries:r}=Object(g.f)(),{reportDefinitions:n={},textReportDefinitions:l={}}=t,{definitionFields:o,textDefinitionFields:s}=a,u=(a,i)=>{null!=i&&i[0]?r(e,{...t,reportDefinitions:{...n,[a]:i}}):(delete n[a],r(e,{...t,reportDefinitions:{...n}}))},c=(a,i)=>{Object(T.isEmpty)(i)?(delete l[a],r(e,{...t,textReportDefinitions:{...l}})):r(e,{...t,textReportDefinitions:{...l,[a]:i}})};return i.a.createElement(f.EuiFlexGroup,{gutterSize:"s"},o.map((l=>{var o;const s="string"==typeof l?l:l.field,c="string"!=typeof l&&l.singleSelection,d="string"!=typeof l&&l.nested,p="string"!=typeof l?l.filters:void 0,m=!Object(ue.b)(t.selectedMetricField),b=d===ce.o&&m;let g;return b&&d&&(null===(o=n[d])||void 0===o?void 0:o.length)>0&&r(e,{...t,reportDefinitions:{...n,[d]:[]}}),d&&(e=>{var a;return!Object(T.isEmpty)(null===(a=t.reportDefinitions)||void 0===a?void 0:a[e])})(s)&&!b&&(g=i.a.createElement(f.EuiFlexItem,{key:d,grow:1},i.a.createElement(oe,{seriesId:e,series:t,seriesConfig:a,field:d,onChange:u,keepHistory:!1,singleSelection:c}))),i.a.createElement(i.a.Fragment,null,i.a.createElement(f.EuiFlexItem,{key:s,grow:1},i.a.createElement(oe,{seriesId:e,series:t,seriesConfig:a,field:s,onChange:u,singleSelection:c,filters:p})),g)})),null==s?void 0:s.map((r=>i.a.createElement(f.EuiFlexItem,{key:r,grow:1},i.a.createElement(se,{seriesId:e,series:t,seriesConfig:a,field:r,onChange:c})))))}var pe=a(77),fe=a(64),me=a(42),be=a(62);function ge({field:e,series:t,baseFilters:a,label:r},i){var n;const{dataViews:l}=Object(h.b)(t.dataType),o=[];return null==a||a.forEach((e=>{e.query&&o.push(e.query),Object(me.isExistsFilter)(e)&&o.push({exists:e.query.exists})})),Object(be.a)({query:i,label:null!=r?r:e,sourceField:e,time:t.time,keepHistory:!0,filters:o,dataViewTitle:null===(n=l[t.dataType])||void 0===n?void 0:n.title})}const ye=({seriesId:e,series:t})=>{var a;const{setSeries:r}=Object(g.f)(),i=null!==(a=t.filters)&&void 0!==a?a:[],n=({field:a,values:n,notValues:l,wildcards:o,notWildcards:s})=>{var u;const c=null!==(u=i.find((({field:e})=>a===e)))&&void 0!==u?u:{field:a};c.notValues=l.length>0?l:void 0,c.values=n.length>0?n:void 0,c.wildcards=o,c.notWildcards=s;const d=i.filter((({field:e})=>e!==a));Object(T.concat)(n,l,o,s).length>0?r(e,{...t,filters:[...d,c]}):r(e,{...t,filters:d})},l=({field:e,value:t,negate:a,wildcards:r})=>{var l,o,s;const u=null!==(l=i.find((({field:t})=>e===t)))&&void 0!==l?l:{field:e},c=null!==(o=u.notValues)&&void 0!==o?o:[],d=null!==(s=u.values)&&void 0!==s?s:[],p=c.filter((e=>t instanceof Array?!t.includes(e):e!==t)),f=d.filter((e=>t instanceof Array?!t.includes(e):e!==t));a?t instanceof Array?p.push(...t):p.push(t):t instanceof Array?f.push(...t):f.push(t),n({field:e,values:f,notValues:p,wildcards:r})};return{invertFilter:({field:e,value:t,negate:a})=>{l({field:e,value:t,negate:!a})},setFilter:({field:a,value:n,negate:o,wildcards:s})=>{i.find((({field:e})=>a===e))?l({field:a,value:n,negate:o,wildcards:s}):(({field:a,value:n,negate:l})=>{const o={field:a};l?o.notValues=n instanceof Array?n:[n]:o.values=n instanceof Array?n:[n],0===i.length?r(e,{...t,filters:[o]}):r(e,{...t,filters:[o,...i.filter((e=>e.field!==a))]})})({field:a,value:n,negate:o,wildcards:s})},removeFilter:({field:a,value:n,negate:l,isWildcard:o})=>{const s=i.map((e=>{if(e.field===a){if(l){var t;if(o){var r;const t=null===(r=e.notWildcards)||void 0===r?void 0:r.filter((e=>n instanceof Array?!n.includes(e):e!==n));return{...e,notWildcards:t}}const a=null===(t=e.notValues)||void 0===t?void 0:t.filter((e=>n instanceof Array?!n.includes(e):e!==n));return{...e,notValues:a}}{var i;if(o){var s;const t=null===(s=e.wildcards)||void 0===s?void 0:s.filter((e=>n instanceof Array?!n.includes(e):e!==n));return{...e,wildcards:t}}const t=null===(i=e.values)||void 0===i?void 0:i.filter((e=>n instanceof Array?!n.includes(e):e!==n));return{...e,values:t}}}return e})).filter((({values:e=[],notValues:t=[],wildcards:a=[],notWildcards:r=[]})=>e.length>0||t.length>0||a.length>0||r.length>0));r(e,{...t,filters:s})},replaceFilter:n,setFiltersWildcard:({field:a,wildcards:l})=>{let o=i.find((({field:e})=>a===e));var s,u;o?n({field:a,values:null!==(s=o.values)&&void 0!==s?s:[],notValues:null!==(u=o.notValues)&&void 0!==u?u:[],wildcards:l}):(o={field:a,wildcards:l},0===i.length?r(e,{...t,filters:[o]}):r(e,{...t,filters:[o,...i.filter((e=>e.field!==a))]}))}}};function he({isNestedOpen:e,setIsNestedOpen:t,value:a,field:l,negate:o,seriesId:s,series:u,nestedField:c,allSelectedValues:d}){var p;const{dataViews:f}=Object(h.b)(u.dataType),{setFilter:m,removeFilter:b}=ye({seriesId:s,series:u}),g=(null!=d?d:[]).includes(a),y=i.a.createElement(ve,{hasActiveFilters:g,color:o?"danger":"primary",onClick:()=>{g?b({field:l,value:a,negate:o}):m({field:l,value:a,negate:o}),t(g?{value:"",negate:o}:{value:a,negate:o})}},o?n.i18n.translate("xpack.exploratoryView.expView.filterValueButton.negate",{defaultMessage:"Not {value}",values:{value:a}}):a),v=(null==e?void 0:e.value)===a&&e.negate===o,w=Object(r.useMemo)((()=>[{term:{[l]:a}}]),[l,a]);return c&&v?i.a.createElement(le.default,{button:y,label:"Version",sourceField:c,onChange:e=>{(null!=e?e:[]).forEach((e=>{m({field:c,value:e})})),t({value:"",negate:o})},filters:w,forceOpen:v,anchorPosition:"rightCenter",time:u.time,asCombobox:!1,dataViewTitle:null===(p=f[u.dataType])||void 0===p?void 0:p.title}):y}const ve=Object(w.euiStyled)(f.EuiFilterButton)`
  background-color: rgba(${e=>{const t=e.hasActiveFilters?"danger"===e.color?Object(f.hexToRgb)(e.theme.eui.euiColorDanger):Object(f.hexToRgb)(e.theme.eui.euiColorPrimary):"initial";return`${t[0]}, ${t[1]}, ${t[2]}, 0.1`}});
`;function we({field:e,values:t,query:a,setQuery:n,label:l,loading:o,isNegated:s,nestedField:u,series:d,seriesId:p}){var m;const[b,g]=Object(r.useState)({value:"",negate:!1}),y=Object(T.map)(t,"label").filter((e=>e.toLowerCase().includes(a.toLowerCase()))),h=(null!==(m=null==d?void 0:d.filters)&&void 0!==m?m:[]).find((({field:t})=>e===t)),v={field:e,nestedField:u,seriesId:p,series:d,isNestedOpen:b,setIsNestedOpen:g};return i.a.createElement(Se,null,i.a.createElement(f.EuiFieldSearch,{"data-test-subj":"o11yFilterValuesListFieldSearch",fullWidth:!0,isLoading:o,value:a,onChange:e=>{n(e.target.value)},placeholder:Ee(l)}),i.a.createElement(f.EuiSpacer,{size:"s"}),i.a.createElement(Ce,null,o&&i.a.createElement("div",{className:"eui-textCenter"},i.a.createElement(f.EuiProgress,{size:"xs",color:"primary",position:"absolute",style:{top:"initial"}})),0===y.length&&!o&&i.a.createElement(f.EuiText,{className:"eui-textCenter"},xe),y.map((e=>i.a.createElement(r.Fragment,{key:e},i.a.createElement(f.EuiFilterGroup,{fullWidth:!0,color:"primary"},!1!==s&&i.a.createElement(he,c()({},v,{value:e,negate:!0,allSelectedValues:null==h?void 0:h.notValues})),i.a.createElement(he,c()({},v,{value:e,negate:!1,allSelectedValues:null==h?void 0:h.values}))),i.a.createElement(f.EuiSpacer,{size:"s"}))))))}const xe=n.i18n.translate("xpack.exploratoryView.filters.expanded.noFilter",{defaultMessage:"No filters found."}),Ee=e=>n.i18n.translate("xpack.exploratoryView.filters.expanded.search",{defaultMessage:"Search for {label}",values:{label:e}}),Ce=w.euiStyled.div`
  height: 370px;
  overflow-y: auto;
  &::-webkit-scrollbar {
    height: ${({theme:e})=>e.eui.euiScrollBar};
    width: ${({theme:e})=>e.eui.euiScrollBar};
  }
  &::-webkit-scrollbar-thumb {
    background-clip: content-box;
    background-color: ${({theme:e})=>Object(v.rgba)(e.eui.euiColorDarkShade,.5)};
    border: ${({theme:e})=>e.eui.euiScrollBarCorner} solid transparent;
  }
  &::-webkit-scrollbar-corner,
  &::-webkit-scrollbar-track {
    background-color: transparent;
  }
`,Se=p.a.div.withConfig({displayName:"Wrapper",componentId:"sc-fpbcl8-0"})(["width:400px;"]);function ke(e){const[t,a]=Object(r.useState)(!1),[n,l]=Object(r.useState)(""),{values:o,loading:s}=ge(e,n);return i.a.createElement(f.EuiPopover,{button:i.a.createElement(f.EuiFilterButton,{onClick:()=>a((e=>!e)),iconType:"arrowDown"},e.label),isOpen:t,closePopover:()=>a(!1)},i.a.createElement(we,c()({},e,{setQuery:l,query:n,values:o,loading:s})))}var Te=a(23),Fe=a(79);function Oe({label:e,seriesId:t,series:a,field:r,value:n,negate:l,dataView:o,removeFilter:s,definitionFilter:u}){const{invertFilter:c}=ye({seriesId:t,series:a});return o?i.a.createElement(Fe.FilterValueLabel,{dataView:o,removeFilter:s,invertFilter:e=>{u||c(e)},field:r,value:n,negate:l,label:e}):null}function je({seriesId:e,series:t,seriesConfig:a}){var l,o;const{setSeries:s}=Object(g.f)(),{labels:u}=a,d=null!==(l=t.filters)&&void 0!==l?l:[],{removeFilter:p,replaceFilter:m}=ye({seriesId:e,series:t}),{dataView:b}=Object(h.b)(t.dataType);if(0===d.length||!b)return null;const y={seriesId:e,series:t,dataView:b};return i.a.createElement(i.a.Fragment,null,i.a.createElement(f.EuiFlexGroup,{wrap:!0,gutterSize:"xs",alignItems:"center"},d.map((({field:e,values:t=[],notValues:a=[],wildcards:l=[],notWildcards:o=[]})=>{var s,d,b,g;return i.a.createElement(r.Fragment,{key:e},t.length>0&&i.a.createElement(f.EuiFlexItem,{grow:!1,style:{maxWidth:300}},i.a.createElement(Oe,c()({field:e,label:null!==(s=u[e])&&void 0!==s?s:e,value:null!=t?t:[],removeFilter:()=>{m({field:e,values:[],notValues:a,wildcards:l,notWildcards:o})},negate:!1},y))),a.length>0&&i.a.createElement(f.EuiFlexItem,{key:e,grow:!1,style:{maxWidth:300}},i.a.createElement(Oe,c()({field:e,label:null!==(d=u[e])&&void 0!==d?d:e,value:null!=a?a:[],negate:!0,removeFilter:()=>{m({field:e,notValues:[],values:t,wildcards:l,notWildcards:o})}},y))),l.length>0&&i.a.createElement(f.EuiFlexItem,{key:e,grow:!1,style:{maxWidth:300}},i.a.createElement(Oe,c()({field:e,label:n.i18n.translate("xpack.exploratoryView.filters.label.wildcard",{defaultMessage:"{label} wildcard",values:{label:null!==(b=u[e])&&void 0!==b?b:e}}),value:null!=l?l:[],negate:!1,removeFilter:()=>{null==l||l.forEach((t=>{p({field:e,value:t,negate:!1,isWildcard:!0})}))}},y))),o.length>0&&i.a.createElement(f.EuiFlexItem,{key:e,grow:!1,style:{maxWidth:300}},i.a.createElement(Oe,c()({field:e,label:n.i18n.translate("xpack.exploratoryView.filters.label.wildcard",{defaultMessage:"{label} wildcard",values:{label:null!==(g=u[e])&&void 0!==g?g:e}}),value:null!=o?o:[],negate:!1,removeFilter:()=>{null==o||o.forEach((t=>{p({field:e,value:t,negate:!0,isWildcard:!0})}))}},y))))})),(null!==(o=t.filters)&&void 0!==o?o:[]).length>0&&i.a.createElement(f.EuiFlexItem,{grow:!1},i.a.createElement(f.EuiButtonEmpty,{"data-test-subj":"o11ySelectedFiltersClearFiltersButton",flush:"left",iconType:"cross",onClick:()=>{s(e,{...t,filters:void 0})},size:"xs"},n.i18n.translate("xpack.exploratoryView.expView.seriesEditor.clearFilter",{defaultMessage:"Clear filters"})))),i.a.createElement(f.EuiSpacer,{size:"s"}))}function Ve(e){const{series:t}=e,[a,n]=Object(r.useState)(""),{dataView:l}=Object(h.b)(t.dataType),o=null==l?void 0:l.fields.filter((e=>e.name.startsWith("labels."))),[s,u]=Object(r.useState)(!1),d=i.a.createElement(f.EuiFilterButton,{iconType:"arrowDown",iconSide:"right",onClick:()=>{u(!s)}},Ie),[p,m]=Object(r.useState)(""),{values:b,loading:g}=ge({...e,field:p},a),y=(null!=o?o:[]).map((e=>({label:e.name,searchableLabel:e.name,append:i.a.createElement(f.EuiIcon,{type:"arrowRight"}),showIcons:!1})));return y.unshift({label:Me,isGroupLabel:!0}),i.a.createElement(f.EuiPopover,{button:d,closePopover:()=>{u(!1),m("")},isOpen:s},p?i.a.createElement(i.a.Fragment,null,i.a.createElement(f.EuiPopoverTitle,null,i.a.createElement(f.EuiButtonEmpty,{"data-test-subj":"o11yLabelsFieldFilterButton",iconType:"arrowLeft",iconSide:"left",onClick:()=>m("")},Ae)),i.a.createElement(we,c()({},e,{label:p,values:b,query:a,setQuery:n,loading:g,field:p}))):i.a.createElement(f.EuiSelectable,{searchable:!0,options:y,onChange:e=>{var t;const a=e.find((e=>"on"===e.checked));m(null!==(t=null==a?void 0:a.label)&&void 0!==t?t:"")},listProps:{onFocusBadge:!1},height:450},((e,t)=>i.a.createElement("div",{style:{width:400}},t,e))))}const Ie=n.i18n.translate("xpack.exploratoryView.filters.expanded.labels.label",{defaultMessage:"Labels"}),Me=n.i18n.translate("xpack.exploratoryView.filters.expanded.labels.fields",{defaultMessage:"Label fields"}),Ae=n.i18n.translate("xpack.exploratoryView.filters.expanded.labels.backTo",{defaultMessage:"Back to labels"});var Le=a(81),De=a(4);const _e=({series:e,query:t,seriesId:a,seriesConfig:r})=>{const{values:i,loading:n}=ge({series:e,seriesId:a,field:De.p,baseFilters:r.baseFilters,label:r.labels[De.p]},t);return{values:i,loading:n}},Pe=e=>{const t=e.filter((({isWildcard:e})=>!e)),a=e.filter((({isWildcard:e})=>e));return{includedItems:Object(T.map)(t.filter((e=>"on"===e.checked)),"label"),excludedItems:Object(T.map)(t.filter((e=>"off"===e.checked)),"label"),includedWildcards:Object(T.map)(a.filter((e=>"on"===e.checked)),"title"),excludedWildcards:Object(T.map)(a.filter((e=>"off"===e.checked)),"title")}},ze=e=>n.i18n.translate("xpack.exploratoryView.urlFilter.wildcard",{defaultMessage:"Use wildcard *{wildcard}*",values:{wildcard:e}});function Re({series:e,seriesConfig:t,seriesId:a}){const[n,l]=Object(r.useState)(!1),[o,s]=Object(r.useState)(""),[u,c]=Object(r.useState)([]),{values:d,loading:p}=_e({query:o,series:e,seriesConfig:t,seriesId:a});Object(r.useEffect)((()=>{var t;const a=ze(o),r=(null!==(t=e.filters)&&void 0!==t?t:[]).find((({field:e})=>e===De.p)),{wildcards:i=[],notWildcards:n=[],values:l=[],notValues:s=[]}=null!=r?r:{field:De.p};c((e=>{const{includedItems:t,excludedItems:r}=Pe(e),u=(null!=d?d:[]).map((e=>t.includes(e.label)||i.includes(e.label)||l.includes(e.label)?{...e,checked:"on",title:e.label}:r.includes(e.label)||n.includes(e.label)||s.includes(e.label)?{...e,checked:"off",title:e.label,...e}:{...e,title:e.label,checked:void 0}));i.forEach((e=>{u.unshift({title:e,label:ze(e),isWildcard:!0,checked:"on"})})),n.forEach((e=>{u.unshift({title:e,label:ze(e),isWildcard:!0,checked:"off"})}));let c=e.find((({isNewWildcard:e})=>e));return o?(c||(c={title:o,label:a,isNewWildcard:!0,isWildcard:!0},u.unshift(c)),[{...c,label:a,title:o},...u]):u}))}),[d,p,o]),Object(r.useEffect)((()=>{var t;const a=(null!==(t=e.filters)&&void 0!==t?t:[]).find((({field:e})=>e===De.p)),{wildcards:r=[],notWildcards:i=[],values:n=[],notValues:l=[]}=null!=a?a:{field:De.p};c((e=>(null!=e?e:[]).map((e=>n.includes(e.label)||r.includes(e.title)?{...e,checked:"on"}:l.includes(e.label)||i.includes(e.title)?{...e,checked:"off"}:{...e,checked:void 0}))))}),[e]);const{replaceFilter:f}=ye({seriesId:a,series:e});return i.a.createElement(Le.SelectableUrlList,{loading:Boolean(p),onInputChange:e=>s(e),data:{items:u,total:u.length},onSelectionChange:e=>{c(e)},searchValue:o,popoverIsOpen:n,setPopoverIsOpen:l,onSelectionApply:()=>{const{includedItems:e,excludedItems:t,includedWildcards:a,excludedWildcards:r}=Pe(u);f({field:De.p,values:e,notValues:t,wildcards:a,notWildcards:r}),s(""),l(!1)},hasChanged:()=>{var t;const{includedItems:a,excludedItems:r,includedWildcards:i,excludedWildcards:n}=Pe(u),l=(null!==(t=e.filters)&&void 0!==t?t:[]).find((({field:e})=>e===De.p)),{wildcards:o=[],notWildcards:s=[],values:c=[],notValues:d=[]}=null!=l?l:{field:De.p};return!(Object(T.isEqual)(a.sort(),c.sort())&&Object(T.isEqual)(r.sort(),d.sort())&&Object(T.isEqual)(o.sort(),i.sort())&&Object(T.isEqual)(s.sort(),n.sort()))}})}function Be({series:e,seriesConfig:t,seriesId:a}){const n=t.filterFields.filter((e=>e!==De.p)).map((e=>{var a,r,i,n,l;return"string"==typeof e?{label:null!==(i=null!==(n=null===(l=t.labels)||void 0===l?void 0:l[e])&&void 0!==n?n:Te.e[e])&&void 0!==i?i:e,field:e}:{field:e.field,nestedField:e.nested,isNegated:e.isNegated,label:(null!==(a=null===(r=t.labels)||void 0===r?void 0:r[e.field])&&void 0!==a?a:Te.e[e.field])||e.field}})),l=Object(r.useMemo)((()=>t.filterFields.some((e=>"string"==typeof e?e===De.p:void 0!==e.field&&e.field===De.p))),[t]);return i.a.createElement(i.a.Fragment,null,i.a.createElement(f.EuiFlexGroup,{gutterSize:"s"},l?i.a.createElement(f.EuiFlexItem,null,i.a.createElement(Re,{series:e,seriesId:a,seriesConfig:t})):null,i.a.createElement(f.EuiFlexItem,null,i.a.createElement(f.EuiFilterGroup,null,n.map((r=>r.field===Te.g?i.a.createElement(Ve,c()({series:e,key:r.label,seriesId:a,baseFilters:t.baseFilters},r)):i.a.createElement(ke,c()({series:e,key:r.label,seriesId:a,baseFilters:t.baseFilters},r))))))),i.a.createElement(f.EuiSpacer,{size:"s"}),i.a.createElement(je,{seriesId:a,series:e,seriesConfig:t}))}var $e=a(61);function Ne({series:e,seriesId:t}){var a,r;const n=Object(s.useQuickTimeRanges)(),{setSeries:l,reportType:o,allSeries:u}=Object(g.f)();function c({start:a,end:r}){o===V.o.KPI?u.forEach(((e,t)=>{l(t,{...e,time:{from:a,to:r}})})):l(t,{...e,time:{from:a,to:r}})}return i.a.createElement(f.EuiSuperDatePicker,{width:"full",start:null==e||null===(a=e.time)||void 0===a?void 0:a.from,end:null==e||null===(r=e.time)||void 0===r?void 0:r.to,onTimeChange:c,commonlyUsedRanges:n,onRefresh:c,showUpdateButton:!1})}const We=n.i18n.translate("xpack.exploratoryView..synthetics.addDataButtonLabel",{defaultMessage:"Add synthetics data"}),qe=n.i18n.translate("xpack.exploratoryView.mobile.addDataButtonLabel",{defaultMessage:"Add Mobile data"}),Ue=n.i18n.translate("xpack.exploratoryView.ux.addDataButtonLabel",{defaultMessage:"Add UX data"}),He={mobile:function(){var e,t;const a=Object(m.useKibana)();return i.a.createElement(f.EuiHeaderLink,{"aria-label":n.i18n.translate("xpack.exploratoryView.page_header.addMobileDataLink.label",{defaultMessage:"Navigate to a tutorial about adding mobile APM data"}),href:null===(e=a.services)||void 0===e||null===(t=e.application)||void 0===t?void 0:t.getUrlForApp("/apm/tutorial"),color:"primary",iconType:"indexOpen"},qe)},ux:function(){var e,t;const a=Object(m.useKibana)();return i.a.createElement(f.EuiHeaderLink,{"aria-label":n.i18n.translate("xpack.exploratoryView.page_header.addUXDataLink.label",{defaultMessage:"Navigate to a tutorial about adding user experience APM data"}),href:null===(e=a.services)||void 0===e||null===(t=e.application)||void 0===t?void 0:t.getUrlForApp("/apm/tutorial"),color:"primary",iconType:"indexOpen"},Ue)},uptime:function(){var e,t;const a=Object(m.useKibana)();return i.a.createElement(f.EuiHeaderLink,{"aria-label":n.i18n.translate("xpack.exploratoryView.page_header.addUptimeDataLink.label",{defaultMessage:"Navigate to a tutorial about adding Uptime data"}),href:null===(e=a.services)||void 0===e||null===(t=e.application)||void 0===t?void 0:t.getUrlForApp("/home#/tutorial/uptimeMonitors"),color:"primary",iconType:"indexOpen"},We)},synthetics:null,apm:null,infra_logs:null,infra_metrics:null,alerts:null};function Ge({seriesId:e,series:t}){const{reportType:a}=Object(g.f)(),{hasAppData:r}=Object(h.b)();if(!t.dataType)return null;const l=He[t.dataType];return!1===r[t.dataType]&&null!==l?i.a.createElement(f.EuiFlexGroup,{alignItems:"center"},i.a.createElement(f.EuiFlexItem,{grow:!1},i.a.createElement("strong",null,n.i18n.translate("xpack.exploratoryView.noDataAvailable",{defaultMessage:"No {dataType} data available.",values:{dataType:t.dataType}}))),i.a.createElement(f.EuiFlexItem,{grow:!1},i.a.createElement(l,null))):i.a.createElement(Ke,null,0===e||a!==V.o.KPI?i.a.createElement(Ne,{seriesId:e,series:t}):i.a.createElement($e.a,{seriesId:e,series:t}))}const Ke=p.a.div.withConfig({displayName:"Wrapper",componentId:"sc-bq9qek-0"})(["width:100%;"]);function Ye({seriesConfig:e,seriesId:t,series:a}){const{setSeries:n,allSeries:l}=Object(g.f)(),o=l.findIndex((e=>Boolean(e.breakdown))),s=-1!==o&&!(o===t),u=a.breakdown,c="no_breakdown",d=e=>{n(t,e===c?{...a,breakdown:void 0}:{...a,breakdown:u===e?void 0:e})};if(Object(r.useEffect)((()=>{Object(ue.b)(a.selectedMetricField)||u!==ce.o||n(t,{...a,breakdown:void 0})})),!e)return null;const p=e.xAxisColumn.sourceField===V.q,m=a.selectedMetricField===V.k,b=e.breakdownFields.map((t=>{var a;return{id:t,label:null!==(a=e.labels[t])&&void 0!==a?a:t}}));p||b.push({id:c,label:Qe});const y=b.map((({id:e,label:t})=>e!==ce.o||Object(ue.b)(a.selectedMetricField)?{inputDisplay:t,value:e,dropdownDisplay:t}:{inputDisplay:t,value:e,dropdownDisplay:i.a.createElement(f.EuiToolTip,{content:Xe},i.a.createElement(i.a.Fragment,null,t)),disabled:!0})).filter((({value:e})=>!(e===V.i&&m)));let h=u||(p?y[0].value:c);function v(){return i.a.createElement(f.EuiSuperSelect,{options:y,valueOfSelected:h,onChange:e=>d(e),"data-test-subj":"seriesBreakdown",disabled:s})}return null!=u&&u.startsWith("labels.")&&(h=V.f),i.a.createElement(Ze,null,s?i.a.createElement(f.EuiToolTip,{content:Je,position:"top"},i.a.createElement(v,null)):i.a.createElement(v,null))}const Qe=n.i18n.translate("xpack.exploratoryView.breakDownFilter.noBreakdown",{defaultMessage:"No breakdown"}),Je=n.i18n.translate("xpack.exploratoryView.breakDownFilter.warning",{defaultMessage:"Breakdowns can be applied to only one series at a time."}),Xe=n.i18n.translate("xpack.exploratoryView.breakDownFilter.unavailable",{defaultMessage:"Step name breakdown is not available for monitor duration metric. Use step duration metric to breakdown by step name."}),Ze=p.a.span.withConfig({displayName:"Wrapper",componentId:"sc-1waapzq-0"})([".euiToolTipAnchor{width:100%;}"]);function et({series:e,seriesId:t}){const{dataView:a}=Object(h.b)(e.dataType),r=null==a?void 0:a.fields.filter((e=>e.name.startsWith("labels."))),{setSeries:n}=Object(g.f)(),{breakdown:l}=e;if(l!==V.f&&!(null==l?void 0:l.startsWith("labels.")))return null;const o=null==r?void 0:r.map((e=>({label:e.name,value:e.name})));return i.a.createElement(f.EuiFlexItem,{grow:!1,style:{minWidth:200}},i.a.createElement(f.EuiComboBox,{selectedOptions:null==o?void 0:o.filter((e=>e.label===l)),options:o,placeholder:tt,onChange:a=>{var r,i;n(t,{...e,breakdown:null!==(r=null==a||null===(i=a[0])||void 0===i?void 0:i.label)&&void 0!==r?r:V.f})},singleSelection:{asPlainText:!0},isInvalid:e.breakdown===V.f}))}const tt=n.i18n.translate("xpack.exploratoryView.expView.seriesBuilder.labelField",{defaultMessage:"Choose label field"});function at(e){const{seriesConfig:t,series:a,seriesId:r}=e;if(!t)return null;const{selectedMetricField:n}=null!=a?a:{},{hasOperationType:l,yAxisColumns:o}=t,s=function(e,t){const a=Object(fe.c)(e,t);if(!Array.isArray(a))return null==a?void 0:a.columnType}(t,n),u=a.breakdown===V.i;return i.a.createElement("div",{style:{width:"100%"}},i.a.createElement(f.EuiFlexGroup,{gutterSize:"xs",wrap:!0},i.a.createElement(f.EuiFlexItem,{grow:1},i.a.createElement(f.EuiFormRow,{label:lt,fullWidth:!0},i.a.createElement(Ge,e))),i.a.createElement(f.EuiFlexItem,{grow:2},i.a.createElement(de,{seriesConfig:t,seriesId:r,series:a}))),i.a.createElement(f.EuiHorizontalRule,null),i.a.createElement(f.EuiFormRow,{label:it,fullWidth:!0},i.a.createElement(Be,{seriesConfig:t,seriesId:r,series:a})),i.a.createElement(f.EuiFlexGroup,{gutterSize:"s"},i.a.createElement(f.EuiFlexItem,null,i.a.createElement(f.EuiFormRow,{label:rt},i.a.createElement(f.EuiFlexGroup,{gutterSize:"xs"},i.a.createElement(f.EuiFlexItem,{style:{minWidth:200}},i.a.createElement(Ye,e)),i.a.createElement(et,e)))),(l||"operation"===s&&!u)&&i.a.createElement(f.EuiFlexItem,null,i.a.createElement(f.EuiFormRow,{label:nt},i.a.createElement(pe.b,c()({},e,{defaultOperationType:o[0].operationType}))))))}const rt=n.i18n.translate("xpack.exploratoryView.expView.seriesBuilder.breakdownBy",{defaultMessage:"Breakdown by"}),it=n.i18n.translate("xpack.exploratoryView.expView.seriesBuilder.selectFilters",{defaultMessage:"Filters"}),nt=n.i18n.translate("xpack.exploratoryView.expView.seriesBuilder.operation",{defaultMessage:"Operation"}),lt=n.i18n.translate("xpack.exploratoryView.expView.seriesBuilder.date",{defaultMessage:"Date"}),ot=p()(f.EuiText).withConfig({displayName:"StyledText",componentId:"sc-1h7ac30-0"})(["&.euiText.euiText--constrainedWidth{max-width:200px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;}"]);function st({series:e,seriesId:t}){const{setSeries:a}=Object(g.f)(),[l,o]=Object(r.useState)(e.name),[s,u]=Object(r.useState)(!1),c=Object(r.useRef)(null),d=Object(r.useRef)(null),p=()=>{l!==e.name&&a(t,{...e,name:l})};return Object(r.useEffect)((()=>{o(e.name)}),[e.name]),Object(r.useEffect)((()=>{s&&c.current&&c.current.focus()}),[s,c]),i.a.createElement(f.EuiFlexGroup,{alignItems:"center",gutterSize:"s",responsive:!1},s?i.a.createElement(f.EuiFlexItem,{grow:!1},i.a.createElement(f.EuiOutsideClickDetector,{onOutsideClick:e=>{e.target!==d.current&&(u(!1),p())}},i.a.createElement(f.EuiFieldText,{value:l,onChange:e=>{o(e.target.value)},onBlur:p,onKeyDown:e=>{"Enter"===e.key&&(u(!1),p())},fullWidth:!0,inputRef:c,"aria-label":n.i18n.translate("xpack.exploratoryView.expView.seriesEditor.seriesName",{defaultMessage:"Series name"}),"data-test-subj":"exploratoryViewSeriesNameInput"}))):i.a.createElement(f.EuiFlexItem,{grow:!1},i.a.createElement(ot,{grow:!1},l)),i.a.createElement(f.EuiFlexItem,{grow:!1},i.a.createElement(f.EuiButtonIcon,{"data-test-subj":"exploratoryViewSeriesNameButton",onClick:()=>u(!s),iconType:"pencil","aria-label":n.i18n.translate("xpack.exploratoryView.expView.seriesEditor.editName",{defaultMessage:"Edit name"}),color:"text",buttonRef:d})))}var ut=a(43);function ct({seriesId:e,series:t,seriesConfig:a}){var n,l,o;const{setSeries:s}=Object(g.f)(),[u,c]=Object(r.useState)(!1),d=null==a?void 0:a.metricOptions,{dataViews:p,dataViewErrors:m,loading:b}=Object(h.b)(),y=a=>{s(e,{...t,selectedMetricField:a})},v=Object(r.useCallback)((e=>{null==e||e.focus()}),[]);if(!t.dataType)return null;const w=null==p?void 0:p[t.dataType],x=null==m?void 0:m[t.dataType],E=(null!=d?d:[]).map((({label:e,field:t,id:a})=>{let r=!1;return t!==V.k&&t!==V.l&&t&&(r=!Boolean(null==w?void 0:w.getFieldByName(t))),{disabled:r,value:t||a,dropdownDisplay:r?i.a.createElement(f.EuiToolTip,{content:i.a.createElement(ut.FormattedMessage,{id:"xpack.exploratoryView.expView.seriesEditor.selectReportMetric.noFieldData",defaultMessage:"No data available for field {field}.",values:{field:i.a.createElement("strong",null,t)}})},i.a.createElement("span",null,e)):e,inputDisplay:e}}));var C,S;return!x||w||b?w||b?i.a.createElement(i.a.Fragment,null,!t.selectedMetricField&&i.a.createElement(f.EuiPopover,{button:i.a.createElement(f.EuiButton,{"data-test-subj":"o11yReportMetricOptionsButton",iconType:"plusInCircle",onClick:()=>c((e=>!e)),fill:!0,size:"s",isLoading:!w&&b,buttonRef:v},dt),isOpen:u,closePopover:()=>c((e=>!e))},i.a.createElement(f.EuiListGroup,null,E.map((e=>i.a.createElement(f.EuiListGroupItem,{key:e.value,onClick:()=>y(e.value),label:e.dropdownDisplay,isDisabled:e.disabled}))))),t.selectedMetricField&&(w?i.a.createElement(f.EuiToolTip,{position:"top",content:bt},i.a.createElement(f.EuiBadge,{iconType:"cross",iconSide:"right",iconOnClick:()=>y(void 0),iconOnClickAriaLabel:pt},null!==(n=null==a||null===(l=a.metricOptions)||void 0===l||null===(o=l.find((e=>e.id===t.selectedMetricField||e.field===t.selectedMetricField)))||void 0===o?void 0:o.label)&&void 0!==n?n:t.selectedMetricField)):i.a.createElement(f.EuiLoadingSpinner,null))):i.a.createElement(f.EuiText,null,ft):i.a.createElement(f.EuiText,{color:"danger",className:"eui-textNoWrap"},"Forbidden"===(null===(C=x.body)||void 0===C?void 0:C.error)||"DataViewInsufficientAccessError"===x.name?mt:null===(S=x.body)||void 0===S?void 0:S.message)}const dt=n.i18n.translate("xpack.exploratoryView.expView.seriesEditor.selectReportMetric",{defaultMessage:"Select report metric"}),pt=n.i18n.translate("xpack.exploratoryView.expView.seriesEditor.removeReportMetric",{defaultMessage:"Remove report metric"}),ft=n.i18n.translate("xpack.exploratoryView.expView.seriesEditor.noData",{defaultMessage:"No data available"}),mt=n.i18n.translate("xpack.exploratoryView.expView.seriesEditor.noPermissions",{defaultMessage:"Unable to create Data View. You don't have the required permission, please contact your admin."}),bt=n.i18n.translate("xpack.exploratoryView.expView.seriesEditor.reportMetricTooltip",{defaultMessage:"Report metric"}),gt=p()(f.EuiAccordion).withConfig({displayName:"StyledAccordion",componentId:"sc-nxyjph-0"})([".euiAccordion__button{width:auto;flex-grow:0;}.euiAccordion__optionalAction{flex-grow:1;flex-shrink:1;}.euiAccordion__childWrapper{overflow:visible;}"]);function yt({item:e,isExpanded:t,toggleExpanded:a}){const{id:n}=e,l={...e,seriesId:n},[o,s]=Object(r.useState)(!1);return Object(r.useEffect)((()=>{t&&s(!0)}),[t]),i.a.createElement(f.EuiPanel,{hasBorder:!0,"data-test-subj":"exploratoryViewSeriesPanel0",paddingSize:"s"},i.a.createElement(gt,{id:`exploratoryViewSeriesAccordion${n}`,forceState:t?"open":"closed","aria-label":ht,onToggle:a,arrowDisplay:l.series.dataType?void 0:"none",extraAction:i.a.createElement(f.EuiFlexGroup,{alignItems:"center",gutterSize:"s",wrap:!0},i.a.createElement(f.EuiFlexItem,{grow:!1},i.a.createElement(f.EuiFlexGroup,{alignItems:"center",responsive:!1,gutterSize:"s"},i.a.createElement(f.EuiFlexItem,{grow:!1},i.a.createElement(J,l)),i.a.createElement(f.EuiFlexItem,{grow:!1},i.a.createElement(st,l)))),i.a.createElement(f.EuiFlexItem,{grow:!1},i.a.createElement(f.EuiFlexGroup,{alignItems:"center",responsive:!1,gutterSize:"s"},i.a.createElement(f.EuiFlexItem,{grow:!1},i.a.createElement(Z,l)),i.a.createElement(f.EuiFlexItem,{grow:!1},i.a.createElement(ct,l)),i.a.createElement(f.EuiFlexItem,{grow:!1},i.a.createElement(ae,l)))),i.a.createElement(f.EuiFlexItem,null,i.a.createElement(M,c()({},l,{onEditClick:t?void 0:a}))))},i.a.createElement(f.EuiSpacer,{size:"s"}),i.a.createElement(f.EuiPanel,{color:"subdued"},o&&i.a.createElement(at,l))))}const ht=n.i18n.translate("xpack.exploratoryView.expView.seriesBuilder.accordion.label",{defaultMessage:"Toggle series information"}),vt=({dataViews:e,allSeries:t,reportType:a,reportConfigMap:r})=>t.map(((t,i)=>({id:i,series:t,seriesConfig:(t=>{if(null!=e&&e[t])return Object(x.a)({dataType:t,reportType:a,reportConfigMap:r,dataView:e[t]})})(t.dataType)}))),wt=i.a.memo((function(){const[e,t]=Object(r.useState)([]),{getSeries:a,allSeries:n,reportType:l}=Object(g.f)(),{loading:o,dataViews:s}=Object(h.b)(),{reportConfigMap:u,setIsEditMode:c}=Object(E.b)(),[d,p]=Object(r.useState)({}),[{prevCount:m,curCount:b},y]=Object(r.useState)({curCount:n.length});return Object(r.useEffect)((()=>{null==c||c(Object.keys(d).length>0)}),[d,c]),Object(r.useEffect)((()=>{y((e=>({prevCount:e.curCount,curCount:n.length}))),void 0!==m&&!isNaN(m)&&m<b&&p({})}),[n.length,b,m]),Object(r.useEffect)((()=>{const e={};t((t=>{const a=vt({reportType:l,allSeries:n,dataViews:s,reportConfigMap:u});return a.forEach((({series:a,id:r})=>{const i=t.find((({id:e})=>e===r));i&&a.selectedMetricField&&i.series.selectedMetricField!==a.selectedMetricField&&(e[r]=!0)})),[...a]})),p((t=>({...t,...e})))}),[n,a,s,o,u,l]),i.a.createElement(xt,null,i.a.createElement(Et,null),i.a.createElement(Ct,{gutterSize:"none"},i.a.createElement(f.EuiFlexItem,{grow:!1},i.a.createElement(Ot,{"aria-label":Ft,id:"report-type-label",isDisabled:!0},i.a.createElement(k,{prepend:Tt}))),i.a.createElement(f.EuiFlexItem,null,i.a.createElement(O,{onApply:()=>p({})}))),i.a.createElement(St,null,e.map(((t,a)=>i.a.createElement("div",{key:t.id},i.a.createElement(yt,{item:t,toggleExpanded:()=>(e=>{const t={...d};t[e.id]?delete t[e.id]:t[e.id]=!0,p(t)})(t),isExpanded:d[t.id]}),a+1!==e.length&&i.a.createElement(f.EuiSpacer,{size:"s"}))))))})),xt=w.euiStyled.div`
  &::-webkit-scrollbar {
    height: ${({theme:e})=>e.eui.euiScrollBar};
    width: ${({theme:e})=>e.eui.euiScrollBar};
  }
  &::-webkit-scrollbar-thumb {
    background-clip: content-box;
    background-color: ${({theme:e})=>Object(v.rgba)(e.eui.euiColorDarkShade,.5)};
    border: ${({theme:e})=>e.eui.euiScrollBarCorner} solid transparent;
  }
  &::-webkit-scrollbar-corner,
  &::-webkit-scrollbar-track {
    background-color: transparent;
  }

  &&& {
    .euiTableRow-isExpandedRow .euiTableRowCell {
      border-top: none;
      background-color: #FFFFFF;
      border-bottom: 2px solid #d3dae6;
      border-right: 2px solid rgb(211, 218, 230);
      border-left: 2px solid rgb(211, 218, 230);
    }

    .isExpanded {
      border-right: 2px solid rgb(211, 218, 230);
      border-left: 2px solid rgb(211, 218, 230);
      .euiTableRowCell {
        border-bottom: none;
      }
    }
    .isIncomplete .euiTableRowCell {
      background-color: rgba(254, 197, 20, 0.1);
    }
  }
`,Et=w.euiStyled.div`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 56px;
  background-color: ${({theme:e})=>e.eui.euiPageBackgroundColor};
  border-bottom: 1px solid ${({theme:e})=>e.eui.euiColorLightShade};
  z-index: 90;
`,Ct=Object(w.euiStyled)(f.EuiFlexGroup)`
  position: sticky;
  top: 0;
  z-index: 100;
  padding: 0;
`,St=w.euiStyled.div`
  margin: ${({theme:e})=>e.eui.euiSizeM} 0;
`,kt=n.i18n.translate("xpack.exploratoryView.expView.seriesBuilder.loadingView",{defaultMessage:"Loading view ..."}),Tt=(n.i18n.translate("xpack.exploratoryView.expView.seriesBuilder.selectReportType",{defaultMessage:"No report type selected"}),n.i18n.translate("xpack.exploratoryView.expView.seriesBuilder.reportType",{defaultMessage:"Report type"})),Ft=n.i18n.translate("xpack.exploratoryView.expView.seriesBuilder.reportType.aria",{defaultMessage:"This select allows you to choose the type of report you wish to create"});var Ot=p()(f.EuiFormRow).withConfig({displayName:"_StyledEuiFormRow",componentId:"sc-hpat67-0"})({alignItems:"center"});function jt(){const[e,t]=Object(r.useState)([]),a=Object(r.useRef)(null),{getSeries:l,allSeries:o,setSeries:s,reportType:u}=Object(g.f)(),{loading:c,dataViews:d}=Object(h.b)(),{reportConfigMap:p}=Object(E.b)();Object(r.useEffect)((()=>{t(vt({allSeries:o,dataViews:d,reportType:u,reportConfigMap:p}))}),[o,l,d,c,p,u]);const m=!u||(u===V.o.CORE_WEB_VITAL||u===V.o.DEVICE_DISTRIBUTION||u===V.o.SINGLE_METRIC)&&o.length>0;return i.a.createElement(f.EuiToolTip,{content:u?m?n.i18n.translate("xpack.exploratoryView.expView.seriesBuilder.addSeries.limitation",{defaultMessage:"You can only add one series of this report type."}):"":n.i18n.translate("xpack.exploratoryView.expView.seriesBuilder.addSeries.selectReportType",{defaultMessage:"Please select report type before you can add series."})},i.a.createElement(f.EuiButton,{"data-test-subj":"o11yAddSeriesButtonAddSeriesButton",onClick:()=>(()=>{const t=null==o?void 0:o[0],r={name:`${g.a}-${e.length+1}`};null!=a&&a.current&&a.current.blur();const i=o.length;s(i,"data-distribution"===u?{...r,time:(null==t?void 0:t.time)||V.a}:t?r:{...r,time:V.a})})(),isDisabled:m,iconType:"plusInCircle",size:"s",buttonRef:a},n.i18n.translate("xpack.exploratoryView.expView.seriesBuilder.addSeries",{defaultMessage:"Add series"})))}function Vt({seriesBuilderRef:e}){return i.a.createElement("div",{ref:e},i.a.createElement(wt,null),i.a.createElement(jt,null))}const It=()=>{const{storage:e,reportType:t,lastRefresh:a,firstSeries:i}=Object(g.f)();return Object(r.useMemo)((()=>{var a;const r=Object(g.d)(null!==(a=e.get(g.c))&&void 0!==a?a:[]),i=null==r?void 0:r[0];return i?((e,t,a)=>{let r="",i="";return e===V.o.KPI?null==a?void 0:a.time:(t.forEach((e=>{if(e.dataType&&e.selectedMetricField&&e.time){const t=Object($e.b)(e.time.from),a=Object($e.b)(e.time.to,{roundUp:!0});(!r||a>Object($e.b)(r,{roundUp:!0}))&&(r=e.time.to),(!i||t<Object($e.b)(i))&&(i=e.time.from)}})),{to:r,from:i})})(t,r,i):void 0}),[t,e,a,i])};var Mt=a(74);const At={type:"observability_exploratory_view"};function Lt(e){const{lensAttributes:t,setChartTimeRangeContext:a}=e,{services:{lens:l,notifications:o}}=b(),u=null==l?void 0:l.EmbeddableComponent,c=null==l?void 0:l.SaveModalComponent,{firstSeries:d,setSeries:p,reportType:f,lastRefresh:m}=Object(g.f)(),[y,h]=Object(r.useState)(!1),v=It(),w=Object(s.useUiTracker)(),x=Object(r.useCallback)((e=>{var t,r;const i=Date.now();null==a||a({lastUpdated:i,to:null===(t=Object($e.b)((null==v?void 0:v.to)||""))||void 0===t?void 0:t.valueOf(),from:null===(r=Object($e.b)((null==v?void 0:v.from)||""))||void 0===r?void 0:r.valueOf()}),e||Object(Mt.b)(w,m,i)}),[a,v,m,w]),E=Object(r.useCallback)((({range:e})=>{"data-distribution"!==f&&d?p(0,{...d,time:{from:new Date(e[0]).toISOString(),to:new Date(e[1]).toISOString()}}):null==o||o.toasts.add(n.i18n.translate("xpack.exploratoryView.noBrushing",{defaultMessage:"Zoom by brush selection is only available on time series charts."}))}),[f,p,d,null==o?void 0:o.toasts]);return v&&t?i.a.createElement(Dt,null,i.a.createElement(u,{id:"exploratoryView",timeRange:v,attributes:t,onLoad:x,onBrushEnd:E,executionContext:At}),y&&t&&i.a.createElement(c,{initialInput:t,onClose:()=>h(!1),onSave:()=>{}})):null}const Dt=p.a.div.withConfig({displayName:"LensWrapper",componentId:"sc-1r0xnl2-0"})(["height:100%;.embPanel__optionsMenuPopover{visibility:collapse;}&&&:hover{.embPanel__optionsMenuPopover{visibility:visible;}}&& .embPanel--editing{border-style:initial !important;:hover{box-shadow:none;}}.embPanel__title{display:none;}&&& > div{height:100%;}"]);function _t({loading:e,series:t,reportType:a}){const{dataType:r,reportDefinitions:l}=null!=t?t:{};let o=Rt;return r?a?Object(T.isEmpty)(l)&&(o=Bt):o=$t:o=Nt,t||(o=n.i18n.translate("xpack.exploratoryView.expView.seriesEditor.notFound",{defaultMessage:"No series found. Please add a series."})),i.a.createElement(Pt,null,e&&i.a.createElement(f.EuiProgress,{size:"xs",color:"accent",position:"absolute",style:{top:"initial"}}),i.a.createElement(f.EuiSpacer,null),i.a.createElement(zt,{justifyContent:"center",alignItems:"center"},i.a.createElement(f.EuiFlexItem,null,i.a.createElement(f.EuiText,null,e?kt:o))))}const Pt=p.a.div.withConfig({displayName:"Wrapper",componentId:"sc-51ui32-0"})(["text-align:center;position:relative;"]),zt=p()(f.EuiFlexGroup).withConfig({displayName:"FlexGroup",componentId:"sc-51ui32-1"})(["height:100%;"]),Rt=n.i18n.translate("xpack.exploratoryView.expView.seriesBuilder.emptyview",{defaultMessage:"Nothing to display."}),Bt=n.i18n.translate("xpack.exploratoryView.expView.seriesBuilder.emptyReportDefinition",{defaultMessage:"Select a report definition to create a visualization."}),$t=n.i18n.translate("xpack.exploratoryView.expView.seriesBuilder.selectReportType.empty",{defaultMessage:"Select a report type to create a visualization."}),Nt=n.i18n.translate("xpack.exploratoryView.expView.reportType.selectDataType",{defaultMessage:"Select a data type to create a visualization."});function Wt({lensAttributes:e}){const[t,a]=Object(r.useState)(!1),{reportType:n,allSeries:l}=Object(g.f)(),o=i.a.createElement(f.EuiButtonEmpty,{"data-test-subj":"o11yEmbedActionButton",size:"s",isDisabled:null===e,onClick:()=>{a(!t)}},Ut);return i.a.createElement(f.EuiPopover,{button:o,isOpen:t,closePopover:()=>a(!1)},i.a.createElement(f.EuiPopoverTitle,null,qt),i.a.createElement(f.EuiCodeBlock,{language:"jsx",fontSize:"m",paddingSize:"m",isCopyable:!0,style:{width:500}},`const { observability } = useKibana<>().services;\n\nconst { ExploratoryViewEmbeddable } = observability;\n\n<ExploratoryViewEmbeddable\n        customHeight={'300px'}\n        reportType="${n}"\n        attributes={${JSON.stringify(l,null,2)}}\n />\n        `))}const qt=n.i18n.translate("xpack.exploratoryView.expView.heading.embedTitle",{defaultMessage:"Embed Exploratory view (Dev only feature)"}),Ut=n.i18n.translate("xpack.exploratoryView.expView.heading.embed",{defaultMessage:"Embed <></>"});var Ht=a(82);function Gt({timeRange:e,lensAttributes:t}){const{lens:a,isDev:l,observabilityAIAssistant:{ObservabilityAIAssistantActionMenuItem:o}}=b().services,[s,u]=Object(r.useState)(!1),c=a.SaveModalComponent;return i.a.createElement(i.a.Fragment,null,i.a.createElement(f.EuiFlexGroup,{alignItems:"center",gutterSize:"s",responsive:!1,style:{paddingRight:20}},l&&i.a.createElement(f.EuiFlexItem,{grow:!1},i.a.createElement(Wt,{lensAttributes:t})),e&&i.a.createElement(f.EuiFlexItem,{grow:!1},i.a.createElement(Ht.a,{lensAttributes:t,timeRange:e})),i.a.createElement(f.EuiFlexItem,{grow:!1},i.a.createElement(f.EuiButton,{"data-test-subj":"o11yExpViewActionMenuContentOpenInLensButton",iconType:"lensApp",fullWidth:!1,isDisabled:!a.canUseEditor()||null===t,size:"s",onClick:()=>{t&&a.navigateToPrefilledEditor({id:"",timeRange:e,attributes:t},{openInNewTab:!0})}},n.i18n.translate("xpack.exploratoryView.expView.heading.openInLens",{defaultMessage:"Open in Lens"}))),i.a.createElement(f.EuiFlexItem,{grow:!1},i.a.createElement(f.EuiButton,{"data-test-subj":"o11yExpViewActionMenuContentSaveButton",fill:!0,iconType:"save",fullWidth:!1,isDisabled:!a.canUseEditor()||null===t,onClick:()=>{t&&u(!0)},size:"s"},n.i18n.translate("xpack.exploratoryView.expView.heading.saveLensVisualization",{defaultMessage:"Save"}))),o?i.a.createElement(f.EuiFlexItem,null,i.a.createElement(o,null)):null),s&&t&&i.a.createElement(c,{initialInput:t,onClose:()=>u(!1),onSave:()=>{}}))}function Kt(e){const{setHeaderActionMenu:t,theme$:a}=Object(E.b)();return i.a.createElement(s.HeaderMenuPortal,{setHeaderActionMenu:t,theme$:a},i.a.createElement(Gt,e))}function Yt({saveAttributes:e}){const{services:{lens:t}}=b(),a=Object(r.useRef)(null),n=Object(r.useRef)(null),[l,o]=Object(r.useState)("100vh"),{isEditMode:s}=Object(E.b)(),[u,d]=Object(r.useState)(null),{loadDataView:p,loading:m}=Object(h.b)(),{firstSeries:v,allSeries:w,lastRefresh:x,reportType:C,setChartTimeRangeContext:S}=Object(g.f)(),k=Object(y.c)(),T=It();Object(r.useEffect)((()=>{w.forEach((e=>{p({dataType:e.dataType})}))}),[w,p]),Object(r.useEffect)((()=>{d(k),e&&e(k)}),[JSON.stringify(null!=k?k:{}),x]),Object(r.useEffect)((()=>{(()=>{if(null!=a&&a.current&&n.current){const e=n.current.getBoundingClientRect().top;o(`calc(100vh - ${e+40}px)`)}})()}));const F=Object(r.useRef)(),[O,j]=Object(r.useState)(""),V=e=>{j((t=>e===t?"":e))},I=e=>{V(e),F.current&&F.current(e,"seriesPanel"===e?"right":"left")};return t?i.a.createElement(i.a.Fragment,null,i.a.createElement(Kt,{timeRange:T,lensAttributes:u}),i.a.createElement(Qt,{ref:n,height:l},i.a.createElement(Jt,{direction:"vertical",onToggleCollapsed:V},((e,t,{togglePanel:r})=>(F.current=(e,t)=>null==r?void 0:r(e,{direction:t}),i.a.createElement(i.a.Fragment,null,i.a.createElement(f.EuiFlexGroup,{alignItems:"center",gutterSize:"none"},i.a.createElement(f.EuiFlexItem,{grow:!1},i.a.createElement(f.EuiButtonEmpty,c()({"data-test-subj":"o11yExploratoryViewButton",size:"xs"},"chartPanel"===O?{iconType:"arrowRight"}:{iconType:"arrowDown"},{onClick:()=>I("chartPanel")}),"chartPanel"===O?ta:ea))),i.a.createElement(e,{initialSize:s?40:60,minSize:"30%",mode:"collapsible",id:"chartPanel",paddingSize:"s"},u?i.a.createElement(Lt,{setChartTimeRangeContext:S,lensAttributes:u}):i.a.createElement(_t,{series:v,loading:m,reportType:C})),i.a.createElement(e,{initialSize:s?60:40,minSize:"10%",mode:"main",id:"seriesPanel",color:"subdued",className:"paddingTopSmall"},i.a.createElement(Vt,{seriesBuilderRef:a,onSeriesPanelCollapse:I})))))),"seriesPanel"===O&&i.a.createElement(Xt,{onClick:()=>I("seriesPanel"),iconType:"arrowUp"},Zt))):i.a.createElement(f.EuiTitle,null,i.a.createElement("h2",null,aa))}const Qt=p.a.div.withConfig({displayName:"LensWrapper",componentId:"sc-1va1byg-0"})(["min-height:400px;height:",";&&& > div{height:100%;}"],(e=>e.height)),Jt=p()(f.EuiResizableContainer).withConfig({displayName:"ResizableContainer",componentId:"sc-1va1byg-1"})(["height:100%;&&& .paddingTopSmall{padding-top:8px;}#chartPanel{> .euiPanel{padding-bottom:0;padding-top:0;}.expExpressionRenderer__expression{padding-bottom:0 !important;padding-top:0 !important;}}"]),Xt=p()(f.EuiButtonEmpty).withConfig({displayName:"ShowPreview",componentId:"sc-1va1byg-2"})(["position:absolute;bottom:34px;"]),Zt=n.i18n.translate("xpack.exploratoryView.preview",{defaultMessage:"Preview"}),ea=n.i18n.translate("xpack.exploratoryView.hideChart",{defaultMessage:"Hide chart"}),ta=n.i18n.translate("xpack.exploratoryView.showChart",{defaultMessage:"Show chart"}),aa=n.i18n.translate("xpack.exploratoryView.lensDisabled",{defaultMessage:"Lens app is not available, please enable Lens to use exploratory view."});var ra=a(51),ia=a.n(ra);function na(e){const t="lll",a=ia()(e.from).format(t),r=ia()(e.to).format(t),n=ia()(e.lastUpdated).format(t);return i.a.createElement(i.a.Fragment,null,e.lastUpdated&&i.a.createElement(i.a.Fragment,null,i.a.createElement(f.EuiFlexGroup,null,i.a.createElement(f.EuiFlexItem,null,i.a.createElement(f.EuiText,{size:"xs"},i.a.createElement(ut.FormattedMessage,{id:"xpack.exploratoryView.expView.seriesBuilder.creationTime",defaultMessage:"Chart created"}))),i.a.createElement(f.EuiFlexItem,{grow:2},i.a.createElement(f.EuiText,{size:"xs"},n))),i.a.createElement(f.EuiSpacer,{size:"xs"})),e.to&&e.from&&i.a.createElement(i.a.Fragment,null,i.a.createElement(f.EuiFlexGroup,{alignItems:"center"},i.a.createElement(f.EuiFlexItem,null,i.a.createElement(f.EuiText,{size:"xs"},i.a.createElement(ut.FormattedMessage,{id:"xpack.exploratoryView.expView.seriesBuilder.creationContext",defaultMessage:"Displaying from"}))),i.a.createElement(f.EuiFlexItem,{grow:2},i.a.createElement(f.EuiText,{size:"xs"},a,"  ",r)))))}function la({chartTimeRange:e}){const{lastUpdated:t}=e||{},[a,n]=Object(r.useState)((()=>Date.now()));if(Object(r.useEffect)((()=>{const e=setInterval((()=>{n(Date.now())}),5e3);return()=>{clearInterval(e)}}),[]),Object(r.useEffect)((()=>{n(Date.now())}),[t]),!t)return null;const l=ia()().diff(ia()(t),"minute")>5,o=ia()().diff(ia()(t),"minute")>10;return i.a.createElement(f.EuiText,{color:o?"danger":l?"warning":"subdued",size:"s"},i.a.createElement(oa,{as:f.EuiToolTip,position:"top",content:i.a.createElement(na,e)},i.a.createElement(f.EuiIcon,{type:"iInCircle"}))," ",i.a.createElement(ut.FormattedMessage,{id:"xpack.exploratoryView.expView.lastUpdated.label",defaultMessage:"Last Updated: {updatedDate}",values:{updatedDate:ia()(t).from(a)}}))}const oa=p.a.div.withConfig({displayName:"StyledToolTipWrapper",componentId:"sc-uyi28r-0"})(["min-width:30vw;"]);function sa(){const{setLastRefresh:e,chartTimeRangeContext:t}=Object(g.f)();return i.a.createElement(f.EuiFlexGroup,{alignItems:"center",gutterSize:"m"},i.a.createElement(f.EuiFlexItem,{style:{textAlign:"right",minWidth:280}},i.a.createElement(la,{chartTimeRange:t})),i.a.createElement(f.EuiFlexItem,{style:{textAlign:"right"}},i.a.createElement(f.EuiButton,{"data-test-subj":"o11yRefreshButtonButton",iconType:"refresh",onClick:()=>e(Date.now())},ua)))}const ua=n.i18n.translate("xpack.exploratoryView.refresh",{defaultMessage:"Refresh"});var ca=a(15);const da=n.i18n.translate("xpack.exploratoryView.expView.heading.label",{defaultMessage:"Explore data"});function pa({app:e,saveAttributes:t,useSessionStorage:a=!1}){const{services:{uiSettings:r,notifications:u,observabilityShared:c}}=b(),d=Object(l.useHistory)(),p=c.navigation.PageTemplate;Object(s.useTrackPageview)({app:"observability-overview",path:"exploratory-view"}),Object(s.useTrackPageview)({app:"observability-overview",path:"exploratory-view",delay:15e3}),Object(s.useBreadcrumbs)([{text:n.i18n.translate("xpack.exploratoryView.overview",{defaultMessage:"Explore data"})}],e);const f=a?Object(o.createSessionStorageStateStorage)():Object(o.createKbnUrlStateStorage)({history:d,useHash:r.get("state:storeInSessionStorage"),...Object(o.withNotifyOnErrors)(u.toasts)});return i.a.createElement(g.b,{storage:f},i.a.createElement(p,{pageHeader:{pageTitle:da,rightSideItems:[i.a.createElement(sa,null)]}},i.a.createElement(h.a,null,i.a.createElement(Yt,{saveAttributes:t}))))}t.default=pa}])]);