/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.indexManagement_bundle_jsonpfunction=window.indexManagement_bundle_jsonpfunction||[]).push([[1],Array(54).concat([function(e,t,a){e.exports=a(13)(3)},function(e,t,a){"use strict";t.__esModule=!0;var i=c(a(113));t.combineActions=i.default;var s=c(a(63));t.createAction=s.default;var n=c(a(116));t.createActions=n.default;var l=c(a(125));t.createCurriedAction=l.default;var o=c(a(74));t.handleAction=o.default;var r=c(a(128));function c(e){return e&&e.__esModule?e:{default:e}}t.handleActions=r.default},function(e,t,a){"use strict";const i=a(110),s=a(111),n=a(112);function l(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function o(e,t){return t.encode?t.strict?i(e):encodeURIComponent(e):e}function r(e,t){return t.decode?s(e):e}function c(e){return Array.isArray(e)?e.sort():"object"==typeof e?c(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function d(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function u(e){const t=(e=d(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function p(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function m(e,t){l((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const a=function(e){let t;switch(e.arrayFormat){case"index":return(e,a,i)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===i[e]&&(i[e]={}),i[e][t[1]]=a):i[e]=a};case"bracket":return(e,a,i)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==i[e]?i[e]=[].concat(i[e],a):i[e]=[a]:i[e]=a};case"comma":case"separator":return(t,a,i)=>{const s="string"==typeof a&&a.split("").indexOf(e.arrayFormatSeparator)>-1?a.split(e.arrayFormatSeparator).map((t=>r(t,e))):null===a?a:r(a,e);i[t]=s};default:return(e,t,a)=>{void 0!==a[e]?a[e]=[].concat(a[e],t):a[e]=t}}}(t),i=Object.create(null);if("string"!=typeof e)return i;if(!(e=e.trim().replace(/^[?#&]/,"")))return i;for(const s of e.split("&")){let[e,l]=n(t.decode?s.replace(/\+/g," "):s,"=");l=void 0===l?null:["comma","separator"].includes(t.arrayFormat)?l:r(l,t),a(r(e,t),l,i)}for(const e of Object.keys(i)){const a=i[e];if("object"==typeof a&&null!==a)for(const e of Object.keys(a))a[e]=p(a[e],t);else i[e]=p(a,t)}return!1===t.sort?i:(!0===t.sort?Object.keys(i).sort():Object.keys(i).sort(t.sort)).reduce(((e,t)=>{const a=i[t];return Boolean(a)&&"object"==typeof a&&!Array.isArray(a)?e[t]=c(a):e[t]=a,e}),Object.create(null))}t.extract=u,t.parse=m,t.stringify=(e,t)=>{if(!e)return"";l((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const a=a=>t.skipNull&&null==e[a]||t.skipEmptyString&&""===e[a],i=function(e){switch(e.arrayFormat){case"index":return t=>(a,i)=>{const s=a.length;return void 0===i||e.skipNull&&null===i||e.skipEmptyString&&""===i?a:null===i?[...a,[o(t,e),"[",s,"]"].join("")]:[...a,[o(t,e),"[",o(s,e),"]=",o(i,e)].join("")]};case"bracket":return t=>(a,i)=>void 0===i||e.skipNull&&null===i||e.skipEmptyString&&""===i?a:null===i?[...a,[o(t,e),"[]"].join("")]:[...a,[o(t,e),"[]=",o(i,e)].join("")];case"comma":case"separator":return t=>(a,i)=>null==i||0===i.length?a:0===a.length?[[o(t,e),"=",o(i,e)].join("")]:[[a,o(i,e)].join(e.arrayFormatSeparator)];default:return t=>(a,i)=>void 0===i||e.skipNull&&null===i||e.skipEmptyString&&""===i?a:null===i?[...a,o(t,e)]:[...a,[o(t,e),"=",o(i,e)].join("")]}}(t),s={};for(const t of Object.keys(e))a(t)||(s[t]=e[t]);const n=Object.keys(s);return!1!==t.sort&&n.sort(t.sort),n.map((a=>{const s=e[a];return void 0===s?"":null===s?o(a,t):Array.isArray(s)?s.reduce(i(a),[]).join("&"):o(a,t)+"="+o(s,t)})).filter((e=>e.length>0)).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[a,i]=n(e,"#");return Object.assign({url:a.split("?")[0]||"",query:m(u(e),t)},t&&t.parseFragmentIdentifier&&i?{fragmentIdentifier:r(i,t)}:{})},t.stringifyUrl=(e,a)=>{a=Object.assign({encode:!0,strict:!0},a);const i=d(e.url).split("?")[0]||"",s=t.extract(e.url),n=t.parse(s,{sort:!1}),l=Object.assign(n,e.query);let r=t.stringify(l,a);r&&(r=`?${r}`);let c=function(e){let t="";const a=e.indexOf("#");return-1!==a&&(t=e.slice(a)),t}(e.url);return e.fragmentIdentifier&&(c=`#${o(e.fragmentIdentifier,a)}`),`${i}${r}${c}`}},function(e,t,a){"use strict";e.exports=function(e,t,a,i,s,n,l,o){if(!e){var r;if(void 0===t)r=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[a,i,s,n,l,o],d=0;(r=new Error(t.replace(/%s/g,(function(){return c[d++]})))).name="Invariant Violation"}throw r.framesToPop=1,r}}},function(e,t,a){"use strict";t.__esModule=!0,t.ACTION_TYPE_DELIMITER=t.DEFAULT_NAMESPACE=void 0,t.DEFAULT_NAMESPACE="/",t.ACTION_TYPE_DELIMITER="||"},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}},function(e,t,a){"use strict";function i(e){return e}function s(e){throw new Error("Called `absurd` function which should be uncallable")}Object.defineProperty(t,"__esModule",{value:!0}),t.bindTo_=t.bind_=t.hole=t.pipe=t.untupled=t.tupled=t.absurd=t.decrement=t.increment=t.tuple=t.flow=t.flip=t.constVoid=t.constUndefined=t.constNull=t.constFalse=t.constTrue=t.constant=t.not=t.unsafeCoerce=t.identity=void 0,t.identity=i,t.unsafeCoerce=i,t.not=function(e){return function(t){return!e(t)}},t.constant=function(e){return function(){return e}},t.constTrue=function(){return!0},t.constFalse=function(){return!1},t.constNull=function(){return null},t.constUndefined=function(){},t.constVoid=function(){},t.flip=function(e){return function(t,a){return e(a,t)}},t.flow=function(e,t,a,i,s,n,l,o,r){switch(arguments.length){case 1:return e;case 2:return function(){return t(e.apply(this,arguments))};case 3:return function(){return a(t(e.apply(this,arguments)))};case 4:return function(){return i(a(t(e.apply(this,arguments))))};case 5:return function(){return s(i(a(t(e.apply(this,arguments)))))};case 6:return function(){return n(s(i(a(t(e.apply(this,arguments))))))};case 7:return function(){return l(n(s(i(a(t(e.apply(this,arguments)))))))};case 8:return function(){return o(l(n(s(i(a(t(e.apply(this,arguments))))))))};case 9:return function(){return r(o(l(n(s(i(a(t(e.apply(this,arguments)))))))))}}},t.tuple=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e},t.increment=function(e){return e+1},t.decrement=function(e){return e-1},t.absurd=s,t.tupled=function(e){return function(t){return e.apply(void 0,t)}},t.untupled=function(e){return function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return e(t)}},t.pipe=function(e,t,a,i,s,n,l,o,r,c,d,u,p,m,g,x,b,f,j,h){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return a(t(e));case 4:return i(a(t(e)));case 5:return s(i(a(t(e))));case 6:return n(s(i(a(t(e)))));case 7:return l(n(s(i(a(t(e))))));case 8:return o(l(n(s(i(a(t(e)))))));case 9:return r(o(l(n(s(i(a(t(e))))))));case 10:return c(r(o(l(n(s(i(a(t(e)))))))));case 11:return d(c(r(o(l(n(s(i(a(t(e))))))))));case 12:return u(d(c(r(o(l(n(s(i(a(t(e)))))))))));case 13:return p(u(d(c(r(o(l(n(s(i(a(t(e))))))))))));case 14:return m(p(u(d(c(r(o(l(n(s(i(a(t(e)))))))))))));case 15:return g(m(p(u(d(c(r(o(l(n(s(i(a(t(e))))))))))))));case 16:return x(g(m(p(u(d(c(r(o(l(n(s(i(a(t(e)))))))))))))));case 17:return b(x(g(m(p(u(d(c(r(o(l(n(s(i(a(t(e))))))))))))))));case 18:return f(b(x(g(m(p(u(d(c(r(o(l(n(s(i(a(t(e)))))))))))))))));case 19:return j(f(b(x(g(m(p(u(d(c(r(o(l(n(s(i(a(t(e))))))))))))))))));case 20:return h(j(f(b(x(g(m(p(u(d(c(r(o(l(n(s(i(a(t(e)))))))))))))))))))}},t.hole=s,t.bind_=function(e,t,a){var i;return Object.assign({},e,((i={})[t]=a,i))},t.bindTo_=function(e){return function(t){var a;return(a={})[e]=t,a}}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){return"function"==typeof e}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){return"undefined"!=typeof Map&&e instanceof Map}},function(e,t,a){"use strict";t.__esModule=!0,t.default=function(e,t,a){void 0===t&&(t=n.default),(0,i.default)((0,s.default)(t)||(0,l.default)(t),"Expected payloadCreator to be a function, undefined or null");var o=(0,l.default)(t)||t===n.default?n.default:function(e){for(var a=arguments.length,i=new Array(a>1?a-1:0),s=1;s<a;s++)i[s-1]=arguments[s];return e instanceof Error?e:t.apply(void 0,[e].concat(i))},r=(0,s.default)(a),c=e.toString(),d=function(){var t=o.apply(void 0,arguments),i={type:e};return t instanceof Error&&(i.error=!0),void 0!==t&&(i.payload=t),r&&(i.meta=a.apply(void 0,arguments)),i};return d.toString=function(){return c},d};var i=o(a(57)),s=o(a(61)),n=o(a(64)),l=o(a(115));function o(e){return e&&e.__esModule?e:{default:e}}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){return e}},function(e,t,a){"use strict";t.__esModule=!0,t.default=function(e){if((0,s.default)(e))return Array.from(e.keys());if("undefined"!=typeof Reflect&&"function"==typeof Reflect.ownKeys)return Reflect.ownKeys(e);var t=Object.getOwnPropertyNames(e);return"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(e))),t};var i,s=(i=a(62))&&i.__esModule?i:{default:i}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.apS=t.apSW=t.bind=t.bindW=t.bindTo=t.exists=t.elem=t.toError=t.either=t.getValidationMonoid=t.MonadThrow=t.ChainRec=t.Extend=t.Alt=t.Bifunctor=t.Traversable=t.Foldable=t.Monad=t.Applicative=t.Functor=t.getValidationSemigroup=t.getValidation=t.getAltValidation=t.getApplicativeValidation=t.getWitherable=t.getFilterable=t.getApplyMonoid=t.getApplySemigroup=t.getSemigroup=t.getEq=t.getShow=t.URI=t.throwError=t.sequence=t.traverse=t.reduceRight=t.foldMap=t.reduce=t.duplicate=t.extend=t.alt=t.flatten=t.chainFirst=t.chainFirstW=t.chain=t.chainW=t.of=t.apSecond=t.apFirst=t.ap=t.apW=t.mapLeft=t.bimap=t.map=t.filterOrElse=t.orElse=t.swap=t.getOrElse=t.getOrElseW=t.fold=t.fromPredicate=t.fromOption=t.stringifyJSON=t.parseJSON=t.tryCatch=t.fromNullable=t.right=t.left=t.isRight=t.isLeft=void 0;var i=a(84),s=a(60);function n(e,a){try{return t.right(e())}catch(e){return t.left(a(e))}}t.isLeft=function(e){return"Left"===e._tag},t.isRight=function(e){return"Right"===e._tag},t.left=function(e){return{_tag:"Left",left:e}},t.right=function(e){return{_tag:"Right",right:e}},t.fromNullable=function(e){return function(a){return null==a?t.left(e):t.right(a)}},t.tryCatch=n,t.parseJSON=function(e,t){return n((function(){return JSON.parse(e)}),t)},t.stringifyJSON=function(e,t){return n((function(){return JSON.stringify(e)}),t)},t.fromOption=function(e){return function(a){return"None"===a._tag?t.left(e()):t.right(a.value)}},t.fromPredicate=function(e,a){return function(i){return e(i)?t.right(i):t.left(a(i))}},t.fold=function(e,a){return function(i){return t.isLeft(i)?e(i.left):a(i.right)}},t.getOrElseW=function(e){return function(a){return t.isLeft(a)?e(a.left):a.right}},t.getOrElse=t.getOrElseW,t.swap=function(e){return t.isLeft(e)?t.right(e.left):t.left(e.right)},t.orElse=function(e){return function(a){return t.isLeft(a)?e(a.left):a}},t.filterOrElse=function(e,a){return t.chain((function(i){return e(i)?t.right(i):t.left(a(i))}))};var l=function(e,a){return s.pipe(e,t.map(a))},o=function(e,a){return s.pipe(e,t.ap(a))},r=function(e,a){return s.pipe(e,t.chain(a))},c=function(e,a,i){return s.pipe(e,t.reduce(a,i))},d=function(e){return function(a,i){var n=t.foldMap(e);return s.pipe(a,n(i))}},u=function(e,a,i){return s.pipe(e,t.reduceRight(a,i))},p=function(e){var a=t.traverse(e);return function(e,t){return s.pipe(e,a(t))}},m=function(e,a,i){return s.pipe(e,t.bimap(a,i))},g=function(e,a){return s.pipe(e,t.mapLeft(a))},x=function(e,a){return s.pipe(e,t.alt(a))},b=function(e,a){return s.pipe(e,t.extend(a))},f=function(e,a){return i.tailRec(a(e),(function(e){return t.isLeft(e)?t.right(t.left(e.left)):t.isLeft(e.right)?t.left(a(e.right.left)):t.right(t.right(e.right.right))}))};function j(e){return{concat:function(a,i){return t.isLeft(a)?a:t.isLeft(i)?i:t.right(e.concat(a.right,i.right))}}}function h(e){var a=t.left(e.empty);return{URI:t.URI,_E:void 0,map:l,compact:function(e){return t.isLeft(e)?e:"None"===e.right._tag?a:t.right(e.right.value)},separate:function(e){return t.isLeft(e)?{left:e,right:e}:t.isLeft(e.right)?{left:t.right(e.right.left),right:a}:{left:a,right:t.right(e.right.right)}},filter:function(e,i){return t.isLeft(e)||i(e.right)?e:a},filterMap:function(e,i){if(t.isLeft(e))return e;var s=i(e.right);return"None"===s._tag?a:t.right(s.value)},partition:function(e,i){return t.isLeft(e)?{left:e,right:e}:i(e.right)?{left:a,right:t.right(e.right)}:{left:t.right(e.right),right:a}},partitionMap:function(e,i){if(t.isLeft(e))return{left:e,right:e};var s=i(e.right);return t.isLeft(s)?{left:t.right(s.left),right:a}:{left:a,right:t.right(s.right)}}}}function M(e){return{URI:t.URI,_E:void 0,map:l,ap:function(a,i){return t.isLeft(a)?t.isLeft(i)?t.left(e.concat(a.left,i.left)):a:t.isLeft(i)?i:t.right(a.right(i.right))},of:t.of}}function O(e){return{URI:t.URI,_E:void 0,map:l,alt:function(a,i){if(t.isRight(a))return a;var s=i();return t.isLeft(s)?t.left(e.concat(a.left,s.left)):s}}}function y(e,a){return{concat:function(i,s){return t.isLeft(i)?t.isLeft(s)?t.left(e.concat(i.left,s.left)):i:t.isLeft(s)?s:t.right(a.concat(i.right,s.right))}}}t.map=function(e){return function(a){return t.isLeft(a)?a:t.right(e(a.right))}},t.bimap=function(e,a){return function(i){return t.isLeft(i)?t.left(e(i.left)):t.right(a(i.right))}},t.mapLeft=function(e){return function(a){return t.isLeft(a)?t.left(e(a.left)):a}},t.apW=function(e){return function(a){return t.isLeft(a)?a:t.isLeft(e)?e:t.right(a.right(e.right))}},t.ap=t.apW,t.apFirst=function(e){return s.flow(t.map((function(e){return function(){return e}})),t.ap(e))},t.apSecond=function(e){return s.flow(t.map((function(){return function(e){return e}})),t.ap(e))},t.of=t.right,t.chainW=function(e){return function(a){return t.isLeft(a)?a:e(a.right)}},t.chain=t.chainW,t.chainFirstW=function(e){return function(a){return s.pipe(a,t.chainW((function(a){return s.pipe(e(a),t.map((function(){return a})))})))}},t.chainFirst=t.chainFirstW,t.flatten=t.chain(s.identity),t.alt=function(e){return function(a){return t.isLeft(a)?e():a}},t.extend=function(e){return function(a){return t.isLeft(a)?a:t.right(e(a))}},t.duplicate=t.extend(s.identity),t.reduce=function(e,a){return function(i){return t.isLeft(i)?e:a(e,i.right)}},t.foldMap=function(e){return function(a){return function(i){return t.isLeft(i)?e.empty:a(i.right)}}},t.reduceRight=function(e,a){return function(i){return t.isLeft(i)?e:a(i.right,e)}},t.traverse=function(e){return function(a){return function(i){return t.isLeft(i)?e.of(t.left(i.left)):e.map(a(i.right),t.right)}}},t.sequence=function(e){return function(a){return t.isLeft(a)?e.of(t.left(a.left)):e.map(a.right,t.right)}},t.throwError=t.left,t.URI="Either",t.getShow=function(e,a){return{show:function(i){return t.isLeft(i)?"left("+e.show(i.left)+")":"right("+a.show(i.right)+")"}}},t.getEq=function(e,a){return{equals:function(i,s){return i===s||(t.isLeft(i)?t.isLeft(s)&&e.equals(i.left,s.left):t.isRight(s)&&a.equals(i.right,s.right))}}},t.getSemigroup=function(e){return{concat:function(a,i){return t.isLeft(i)?a:t.isLeft(a)?i:t.right(e.concat(a.right,i.right))}}},t.getApplySemigroup=j,t.getApplyMonoid=function(e){return{concat:j(e).concat,empty:t.right(e.empty)}},t.getFilterable=h,t.getWitherable=function(e){var a=h(e);return{URI:t.URI,_E:void 0,map:l,compact:a.compact,separate:a.separate,filter:a.filter,filterMap:a.filterMap,partition:a.partition,partitionMap:a.partitionMap,traverse:p,sequence:t.sequence,reduce:c,foldMap:d,reduceRight:u,wither:function(e){var t=p(e);return function(i,s){return e.map(t(i,s),a.compact)}},wilt:function(e){var t=p(e);return function(i,s){return e.map(t(i,s),a.separate)}}}},t.getApplicativeValidation=M,t.getAltValidation=O,t.getValidation=function(e){var a=M(e),i=O(e);return{URI:t.URI,_E:void 0,map:l,of:t.of,chain:r,bimap:m,mapLeft:g,reduce:c,foldMap:d,reduceRight:u,extend:b,traverse:p,sequence:t.sequence,chainRec:f,throwError:t.throwError,ap:a.ap,alt:i.alt}},t.getValidationSemigroup=y,t.Functor={URI:t.URI,map:l},t.Applicative={URI:t.URI,map:l,ap:o,of:t.of},t.Monad={URI:t.URI,map:l,ap:o,of:t.of,chain:r},t.Foldable={URI:t.URI,reduce:c,foldMap:d,reduceRight:u},t.Traversable={URI:t.URI,map:l,reduce:c,foldMap:d,reduceRight:u,traverse:p,sequence:t.sequence},t.Bifunctor={URI:t.URI,bimap:m,mapLeft:g},t.Alt={URI:t.URI,map:l,alt:x},t.Extend={URI:t.URI,map:l,extend:b},t.ChainRec={URI:t.URI,map:l,ap:o,chain:r,chainRec:f},t.MonadThrow={URI:t.URI,map:l,ap:o,of:t.of,chain:r,throwError:t.throwError},t.getValidationMonoid=function(e,a){return{concat:y(e,a).concat,empty:t.right(a.empty)}},t.either={URI:t.URI,map:l,of:t.of,ap:o,chain:r,reduce:c,foldMap:d,reduceRight:u,traverse:p,sequence:t.sequence,bimap:m,mapLeft:g,alt:x,extend:b,chainRec:f,throwError:t.throwError},t.toError=function(e){return e instanceof Error?e:new Error(String(e))},t.elem=function(e){return function(a,i){return!t.isLeft(i)&&e.equals(a,i.right)}},t.exists=function(e){return function(a){return!t.isLeft(a)&&e(a.right)}},t.bindTo=function(e){return t.map(s.bindTo_(e))},t.bindW=function(e,a){return t.chainW((function(i){return s.pipe(a(i),t.map((function(t){return s.bind_(i,e,t)})))}))},t.bind=t.bindW,t.apSW=function(e,a){return s.flow(t.map((function(t){return function(a){return s.bind_(t,e,a)}})),t.apW(a))},t.apS=t.apSW},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){return 0===e.length}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){return e.toString()}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){return"string"==typeof e}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){return null==e}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var i,s=(i=a(119))&&i.__esModule?i:{default:i};t.default=function(e){return-1===e.indexOf("/")?(0,s.default)(e):e.split("/").map(s.default).join("/")}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var i=a(58),s=l(a(65)),n=l(a(73));function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return function t(a,l,o,r){var c=void 0===l?{}:l,d=c.namespace,u=void 0===d?i.DEFAULT_NAMESPACE:d,p=c.prefix;return void 0===o&&(o={}),void 0===r&&(r=""),(0,s.default)(a).forEach((function(s){var l=function(e){return r||!p||p&&new RegExp("^"+p+u).test(e)?e:""+p+u+e}(function(e){var t;if(!r)return e;var a=e.toString().split(i.ACTION_TYPE_DELIMITER),s=r.split(i.ACTION_TYPE_DELIMITER);return(t=[]).concat.apply(t,s.map((function(e){return a.map((function(t){return""+e+u+t}))}))).join(i.ACTION_TYPE_DELIMITER)}(s)),c=(0,n.default)(s,a);e(c)?t(c,{namespace:u,prefix:p},o,l):o[l]=c})),o}}},function(e,t,a){"use strict";t.__esModule=!0,t.default=function(e,t){return(0,s.default)(t)?t.get(e):t[e]};var i,s=(i=a(62))&&i.__esModule?i:{default:i}},function(e,t,a){"use strict";t.__esModule=!0,t.default=function(e,t,a){void 0===t&&(t=l.default);var u=(0,c.default)(e).split(d.ACTION_TYPE_DELIMITER);(0,i.default)(!(0,r.default)(a),"defaultState for reducer handling "+u.join(", ")+" should be defined"),(0,i.default)((0,s.default)(t)||(0,n.default)(t),"Expected reducer to be a function or object with next and throw reducers");var p=(0,s.default)(t)?[t,t]:[t.next,t.throw].map((function(e){return(0,o.default)(e)?l.default:e})),m=p[0],g=p[1];return function(e,t){void 0===e&&(e=a);var i=t.type;return i&&-1!==u.indexOf((0,c.default)(i))?(!0===t.error?g:m)(e,t):e}};var i=u(a(57)),s=u(a(61)),n=u(a(59)),l=u(a(64)),o=u(a(70)),r=u(a(127)),c=u(a(68)),d=a(58);function u(e){return e&&e.__esModule?e:{default:e}}},function(e,t,a){"use strict";e.exports=function(e,t){return t||(t={}),"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},function(e,t,a){e.exports=a.p+"1cbd62546f764080f7071e03889e9de3.svg"},function(e,t,a){"use strict";e.exports=a(150)},function(e,t,a){"use strict";e.exports=a(157)},function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(167);case"v8light":return a(169)}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(42),s=a(81),n=i.__importDefault(a(83));t.default=function(e,t){n.default(e,t,s.isDeepEqual)}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDeepEqual=t.off=t.on=t.isClient=void 0;var i=a(42).__importDefault(a(82));t.isClient="object"==typeof window,t.on=function(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];return e.addEventListener.apply(e,t)},t.off=function(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];return e.removeEventListener.apply(e,t)},t.isDeepEqual=i.default},function(e,t,a){"use strict";e.exports=function e(t,a){if(t===a)return!0;if(t&&a&&"object"==typeof t&&"object"==typeof a){if(t.constructor!==a.constructor)return!1;var i,s,n;if(Array.isArray(t)){if((i=t.length)!=a.length)return!1;for(s=i;0!=s--;)if(!e(t[s],a[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===a.source&&t.flags===a.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===a.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===a.toString();if((i=(n=Object.keys(t)).length)!==Object.keys(a).length)return!1;for(s=i;0!=s--;)if(!Object.prototype.hasOwnProperty.call(a,n[s]))return!1;for(s=i;0!=s--;){var l=n[s];if(!("_owner"===l&&t.$$typeof||e(t[l],a[l])))return!1}return!0}return t!=t&&a!=a}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(33);t.default=function(e,t,a){var s=i.useRef(void 0);s.current&&a(t,s.current)||(s.current=t),i.useEffect(e,s.current)}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tailRec=void 0,t.tailRec=function(e,t){for(var a=t(e);"Left"===a._tag;)a=t(a.left);return a.right}},function(e,t,a){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,a,i){void 0===i&&(i=a),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,i){void 0===i&&(i=a),e[i]=t[a]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&i(t,e,a);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.filterMap=t.separate=t.compact=t.fromArray=t.toggle=t.remove=t.insert=t.singleton=t.foldMap=t.reduce=t.getIntersectionSemigroup=t.getUnionMonoid=t.difference=t.partitionMap=t.intersection=t.union=t.elem=t.partition=t.filter=t.subset=t.chain=t.every=t.map=t.some=t.getEq=t.toArray=t.empty=t.getShow=void 0;var l=n(a(86));t.getShow=l.getShow,t.empty=new Set,t.toArray=l.toReadonlyArray,t.getEq=l.getEq,t.some=l.some,t.map=l.map,t.every=l.every,t.chain=l.chain,t.subset=l.isSubset,t.filter=function(e){return l.filter(e)},t.partition=function(e){return l.partition(e)},t.elem=l.elem,t.union=l.union,t.intersection=l.intersection,t.partitionMap=l.partitionMap,t.difference=l.difference,t.getUnionMonoid=l.getUnionMonoid,t.getIntersectionSemigroup=l.getIntersectionSemigroup,t.reduce=l.reduce,t.foldMap=l.foldMap,t.singleton=l.singleton,t.insert=l.insert,t.remove=l.remove,t.toggle=function(e){var a=t.elem(e),i=t.remove(e),s=t.insert(e);return function(e){return function(t){return(a(e,t)?i:s)(e)(t)}}},t.fromArray=l.fromArray,t.compact=l.compact,t.separate=l.separate,t.filterMap=l.filterMap},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filterMap=t.separate=t.compact=t.fromArray=t.remove=t.insert=t.singleton=t.foldMap=t.reduce=t.getIntersectionSemigroup=t.getUnionMonoid=t.difference=t.partitionMap=t.intersection=t.union=t.elem=t.partition=t.filter=t.isSubset=t.chain=t.every=t.map=t.some=t.getEq=t.toReadonlyArray=t.empty=t.getShow=t.toSet=t.fromSet=void 0;var i=a(87),s=a(60);function n(e){return function(t){var a=[];return t.forEach((function(e){return a.push(e)})),a.sort(e.compare)}}function l(e){return function(t){for(var a,i=t.values(),s=!1;!s&&!(a=i.next()).done;)s=e(a.value);return s}}function o(e){return s.not(l(s.not(e)))}function r(e){var t=d(e);return function(a,i){if(void 0===i){var s=r(e);return function(e){return s(e,a)}}return o((function(e){return t(e,i)}))(a)}}function c(e){return function(t){for(var a,i=t.values(),s=new Set;!(a=i.next()).done;){var n=a.value;e(n)&&s.add(n)}return s}}function d(e){return function(t,a){if(void 0===a){var i=d(e);return function(e){return i(t,e)}}for(var s,n=a.values(),l=!1;!l&&!(s=n.next()).done;)l=e.equals(t,s.value);return l}}function u(e){var a=d(e);return function(i,s){if(void 0===s){var n=u(e);return function(e){return n(i,e)}}if(i===t.empty)return s;if(s===t.empty)return i;var l=new Set(i);return s.forEach((function(e){a(e,l)||l.add(e)})),l}}function p(e){var a=d(e);return function(i,s){if(void 0===s){var n=p(e);return function(e){return n(e,i)}}if(i===t.empty||s===t.empty)return t.empty;var l=new Set;return i.forEach((function(e){a(e,s)&&l.add(e)})),l}}function m(e){var t=d(e);return function(e){return function(a){var i=new Set;return a.forEach((function(a){var s=e(a);"Some"!==s._tag||t(s.value,i)||i.add(s.value)})),i}}}t.fromSet=function(e){return new Set(e)},t.toSet=function(e){return new Set(e)},t.getShow=function(e){return{show:function(t){var a="";return t.forEach((function(t){a+=e.show(t)+", "})),""!==a&&(a=a.substring(0,a.length-2)),"new Set(["+a+"])"}}},t.empty=new Set,t.toReadonlyArray=n,t.getEq=function(e){var t=r(e);return i.fromEquals((function(e,a){return t(e,a)&&t(a,e)}))},t.some=l,t.map=function(e){var t=d(e);return function(e){return function(a){var i=new Set;return a.forEach((function(a){var s=e(a);t(s,i)||i.add(s)})),i}}},t.every=o,t.chain=function(e){var t=d(e);return function(e){return function(a){var i=new Set;return a.forEach((function(a){e(a).forEach((function(e){t(e,i)||i.add(e)}))})),i}}},t.isSubset=r,t.filter=c,t.partition=function(e){return function(t){for(var a,i=t.values(),s=new Set,n=new Set;!(a=i.next()).done;){var l=a.value;e(l)?s.add(l):n.add(l)}return{left:n,right:s}}},t.elem=d,t.union=u,t.intersection=p,t.partitionMap=function(e,t){return function(a){return function(i){for(var s,n=i.values(),l=new Set,o=new Set,r=d(e),c=d(t);!(s=n.next()).done;){var u=a(s.value);switch(u._tag){case"Left":r(u.left,l)||l.add(u.left);break;case"Right":c(u.right,o)||o.add(u.right)}}return{left:l,right:o}}}},t.difference=function e(t){var a=d(t);return function(i,s){if(void 0===s){var n=e(t);return function(e){return n(e,i)}}return c((function(e){return!a(e,s)}))(i)}},t.getUnionMonoid=function(e){return{concat:u(e),empty:t.empty}},t.getIntersectionSemigroup=function(e){return{concat:p(e)}},t.reduce=function(e){var t=n(e);return function(e,a){return function(i){return t(i).reduce(a,e)}}},t.foldMap=function(e,t){var a=n(e);return function(e){return function(i){return a(i).reduce((function(a,i){return t.concat(a,e(i))}),t.empty)}}},t.singleton=function(e){return new Set([e])},t.insert=function(e){var t=d(e);return function(e){return function(a){if(t(e)(a))return a;var i=new Set(a);return i.add(e),i}}},t.remove=function(e){return function(t){return function(a){return c((function(a){return!e.equals(t,a)}))(a)}}},t.fromArray=function(e){return function(t){for(var a=t.length,i=new Set,s=d(e),n=0;n<a;n++){var l=t[n];s(l,i)||i.add(l)}return i}},t.compact=function(e){return m(e)(s.identity)},t.separate=function(e,t){return function(a){var i=d(e),s=d(t),n=new Set,l=new Set;return a.forEach((function(e){switch(e._tag){case"Left":i(e.left,n)||n.add(e.left);break;case"Right":s(e.right,l)||l.add(e.right)}})),{left:n,right:l}}},t.filterMap=m},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.eq=t.Contravariant=t.getMonoid=t.eqDate=t.getTupleEq=t.getStructEq=t.eqBoolean=t.eqNumber=t.eqString=t.strictEqual=t.eqStrict=t.URI=t.contramap=t.fromEquals=void 0;var i=a(60);function s(e){return{equals:function(t,a){return t===a||e(t,a)}}}function n(e,t){return e===t}t.fromEquals=s,t.contramap=function(e){return function(t){return s((function(a,i){return t.equals(e(a),e(i))}))}},t.URI="Eq",t.eqStrict={equals:n},t.strictEqual=n,t.eqString=t.eqStrict,t.eqNumber=t.eqStrict,t.eqBoolean=t.eqStrict,t.getStructEq=function(e){return s((function(t,a){for(var i in e)if(!e[i].equals(t[i],a[i]))return!1;return!0}))},t.getTupleEq=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s((function(t,a){return e.every((function(e,i){return e.equals(t[i],a[i])}))}))},t.eqDate={equals:function(e,t){return e.valueOf()===t.valueOf()}};var l={equals:function(){return!0}};t.getMonoid=function(){return{concat:function(e,t){return s((function(a,i){return e.equals(a,i)&&t.equals(a,i)}))},empty:l}},t.Contravariant={URI:t.URI,contramap:function(e,a){return i.pipe(e,t.contramap(a))}},t.eq=t.Contravariant},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ord=t.Contravariant=t.ordDate=t.URI=t.contramap=t.getDualOrd=t.getTupleOrd=t.getMonoid=t.getSemigroup=t.fromCompare=t.between=t.clamp=t.max=t.min=t.geq=t.leq=t.gt=t.lt=t.ordBoolean=t.ordNumber=t.ordString=void 0;var i=a(89),s=a(60);function n(e,t){return e<t?-1:e>t?1:0}function l(e,t){return e===t}function o(e){return function(t,a){return-1===e.compare(t,a)}}function r(e){return function(t,a){return 1===e.compare(t,a)}}function c(e){return function(t,a){return 1===e.compare(t,a)?a:t}}function d(e){return function(t,a){return-1===e.compare(t,a)?a:t}}function u(e){var t=function(t,a){return t===a?0:e(t,a)};return{equals:function(e,a){return 0===t(e,a)},compare:t}}function p(){return{concat:function(e,t){return u((function(a,s){return i.monoidOrdering.concat(e.compare(a,s),t.compare(a,s))}))}}}t.ordString={equals:l,compare:n},t.ordNumber={equals:l,compare:n},t.ordBoolean={equals:l,compare:n},t.lt=o,t.gt=r,t.leq=function(e){return function(t,a){return 1!==e.compare(t,a)}},t.geq=function(e){return function(t,a){return-1!==e.compare(t,a)}},t.min=c,t.max=d,t.clamp=function(e){var t=c(e),a=d(e);return function(e,i){return function(s){return a(t(s,i),e)}}},t.between=function(e){var t=o(e),a=r(e);return function(e,i){return function(s){return!t(s,e)&&!a(s,i)}}},t.fromCompare=u,t.getSemigroup=p,t.getMonoid=function(){return{concat:p().concat,empty:u((function(){return 0}))}},t.getTupleOrd=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var a=e.length;return u((function(t,i){for(var s=0;s<a-1;s++){var n=e[s].compare(t[s],i[s]);if(0!==n)return n}return e[s].compare(t[s],i[s])}))},t.getDualOrd=function(e){return u((function(t,a){return e.compare(a,t)}))},t.contramap=function(e){return function(t){return u((function(a,i){return t.compare(e(a),e(i))}))}},t.URI="Ord",t.ordDate=s.pipe(t.ordNumber,t.contramap((function(e){return e.valueOf()}))),t.Contravariant={URI:t.URI,contramap:function(e,a){return s.pipe(e,t.contramap(a))}},t.ord=t.Contravariant},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.invert=t.monoidOrdering=t.semigroupOrdering=t.eqOrdering=t.sign=void 0,t.sign=function(e){return e<=-1?-1:e>=1?1:0},t.eqOrdering={equals:function(e,t){return e===t}},t.semigroupOrdering={concat:function(e,t){return 0!==e?e:t}},t.monoidOrdering={concat:t.semigroupOrdering.concat,empty:0},t.invert=function(e){switch(e){case-1:return 1;case 1:return-1;default:return 0}}},function(e,t,a){"use strict";function i(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var s=i(a(54)),n=i(a(91)),l=i(a(92)),o=i(a(93)),r=a(33),c=i(a(94)),d="object"==typeof performance&&"function"==typeof performance.now?function(){return performance.now()}:function(){return Date.now()};function u(e){cancelAnimationFrame(e.id)}function p(e,t){var a=d(),i={id:requestAnimationFrame((function s(){d()-a>=t?e.call(null):i.id=requestAnimationFrame(s)}))};return i}var m=-1;function g(e){if(void 0===e&&(e=!1),-1===m||e){var t=document.createElement("div"),a=t.style;a.width="50px",a.height="50px",a.overflow="scroll",document.body.appendChild(t),m=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return m}var x=null;function b(e){if(void 0===e&&(e=!1),null===x||e){var t=document.createElement("div"),a=t.style;a.width="50px",a.height="50px",a.overflow="scroll",a.direction="rtl";var i=document.createElement("div"),s=i.style;return s.width="100px",s.height="100px",t.appendChild(i),document.body.appendChild(t),t.scrollLeft>0?x="positive-descending":(t.scrollLeft=1,x=0===t.scrollLeft?"negative":"positive-ascending"),document.body.removeChild(t),x}return x}var f=150,j=function(e){var t=e.columnIndex;return e.data,e.rowIndex+":"+t};function h(e){var t,a=e.getColumnOffset,i=e.getColumnStartIndexForOffset,c=e.getColumnStopIndexForStartIndex,d=e.getColumnWidth,m=e.getEstimatedTotalHeight,x=e.getEstimatedTotalWidth,h=e.getOffsetForColumnAndAlignment,O=e.getOffsetForRowAndAlignment,y=e.getRowHeight,v=e.getRowOffset,E=e.getRowStartIndexForOffset,k=e.getRowStopIndexForStartIndex,T=e.initInstanceProps,F=e.shouldResetStyleCacheOnItemSizeChange,S=e.validateProps;return(t=function(e){function t(t){var i;return(i=e.call(this,t)||this)._instanceProps=T(i.props,n(i)),i._resetIsScrollingTimeoutId=null,i._outerRef=void 0,i.state={instance:n(i),isScrolling:!1,horizontalScrollDirection:"forward",scrollLeft:"number"==typeof i.props.initialScrollLeft?i.props.initialScrollLeft:0,scrollTop:"number"==typeof i.props.initialScrollTop?i.props.initialScrollTop:0,scrollUpdateWasRequested:!1,verticalScrollDirection:"forward"},i._callOnItemsRendered=void 0,i._callOnItemsRendered=o((function(e,t,a,s,n,l,o,r){return i.props.onItemsRendered({overscanColumnStartIndex:e,overscanColumnStopIndex:t,overscanRowStartIndex:a,overscanRowStopIndex:s,visibleColumnStartIndex:n,visibleColumnStopIndex:l,visibleRowStartIndex:o,visibleRowStopIndex:r})})),i._callOnScroll=void 0,i._callOnScroll=o((function(e,t,a,s,n){return i.props.onScroll({horizontalScrollDirection:a,scrollLeft:e,scrollTop:t,verticalScrollDirection:s,scrollUpdateWasRequested:n})})),i._getItemStyle=void 0,i._getItemStyle=function(e,t){var s,n=i.props,l=n.columnWidth,o=n.direction,r=n.rowHeight,c=i._getItemStyleCache(F&&l,F&&o,F&&r),u=e+":"+t;if(c.hasOwnProperty(u))s=c[u];else{var p=a(i.props,t,i._instanceProps),m="rtl"===o;c[u]=s={position:"absolute",left:m?void 0:p,right:m?p:void 0,top:v(i.props,e,i._instanceProps),height:y(i.props,e,i._instanceProps),width:d(i.props,t,i._instanceProps)}}return s},i._getItemStyleCache=void 0,i._getItemStyleCache=o((function(e,t,a){return{}})),i._onScroll=function(e){var t=e.currentTarget,a=t.clientHeight,s=t.clientWidth,n=t.scrollLeft,l=t.scrollTop,o=t.scrollHeight,r=t.scrollWidth;i.setState((function(e){if(e.scrollLeft===n&&e.scrollTop===l)return null;var t=i.props.direction,c=n;if("rtl"===t)switch(b()){case"negative":c=-n;break;case"positive-descending":c=r-s-n}c=Math.max(0,Math.min(c,r-s));var d=Math.max(0,Math.min(l,o-a));return{isScrolling:!0,horizontalScrollDirection:e.scrollLeft<n?"forward":"backward",scrollLeft:c,scrollTop:d,verticalScrollDirection:e.scrollTop<l?"forward":"backward",scrollUpdateWasRequested:!1}}),i._resetIsScrollingDebounced)},i._outerRefSetter=function(e){var t=i.props.outerRef;i._outerRef=e,"function"==typeof t?t(e):null!=t&&"object"==typeof t&&t.hasOwnProperty("current")&&(t.current=e)},i._resetIsScrollingDebounced=function(){null!==i._resetIsScrollingTimeoutId&&u(i._resetIsScrollingTimeoutId),i._resetIsScrollingTimeoutId=p(i._resetIsScrolling,f)},i._resetIsScrolling=function(){i._resetIsScrollingTimeoutId=null,i.setState({isScrolling:!1},(function(){i._getItemStyleCache(-1)}))},i}l(t,e),t.getDerivedStateFromProps=function(e,t){return M(e,t),S(e),null};var _=t.prototype;return _.scrollTo=function(e){var t=e.scrollLeft,a=e.scrollTop;void 0!==t&&(t=Math.max(0,t)),void 0!==a&&(a=Math.max(0,a)),this.setState((function(e){return void 0===t&&(t=e.scrollLeft),void 0===a&&(a=e.scrollTop),e.scrollLeft===t&&e.scrollTop===a?null:{horizontalScrollDirection:e.scrollLeft<t?"forward":"backward",scrollLeft:t,scrollTop:a,scrollUpdateWasRequested:!0,verticalScrollDirection:e.scrollTop<a?"forward":"backward"}}),this._resetIsScrollingDebounced)},_.scrollToItem=function(e){var t=e.align,a=void 0===t?"auto":t,i=e.columnIndex,s=e.rowIndex,n=this.props,l=n.columnCount,o=n.height,r=n.rowCount,c=n.width,d=this.state,u=d.scrollLeft,p=d.scrollTop,b=g();void 0!==i&&(i=Math.max(0,Math.min(i,l-1))),void 0!==s&&(s=Math.max(0,Math.min(s,r-1)));var f=m(this.props,this._instanceProps),j=x(this.props,this._instanceProps)>c?b:0,M=f>o?b:0;this.scrollTo({scrollLeft:void 0!==i?h(this.props,i,a,u,this._instanceProps,M):u,scrollTop:void 0!==s?O(this.props,s,a,p,this._instanceProps,j):p})},_.componentDidMount=function(){var e=this.props,t=e.initialScrollLeft,a=e.initialScrollTop;if(null!=this._outerRef){var i=this._outerRef;"number"==typeof t&&(i.scrollLeft=t),"number"==typeof a&&(i.scrollTop=a)}this._callPropsCallbacks()},_.componentDidUpdate=function(){var e=this.props.direction,t=this.state,a=t.scrollLeft,i=t.scrollTop;if(t.scrollUpdateWasRequested&&null!=this._outerRef){var s=this._outerRef;if("rtl"===e)switch(b()){case"negative":s.scrollLeft=-a;break;case"positive-ascending":s.scrollLeft=a;break;default:var n=s.clientWidth,l=s.scrollWidth;s.scrollLeft=l-n-a}else s.scrollLeft=Math.max(0,a);s.scrollTop=Math.max(0,i)}this._callPropsCallbacks()},_.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&u(this._resetIsScrollingTimeoutId)},_.render=function(){var e=this.props,t=e.children,a=e.className,i=e.columnCount,n=e.direction,l=e.height,o=e.innerRef,c=e.innerElementType,d=e.innerTagName,u=e.itemData,p=e.itemKey,g=void 0===p?j:p,b=e.outerElementType,f=e.outerTagName,h=e.rowCount,M=e.style,O=e.useIsScrolling,y=e.width,v=this.state.isScrolling,E=this._getHorizontalRangeToRender(),k=E[0],T=E[1],F=this._getVerticalRangeToRender(),S=F[0],_=F[1],C=[];if(i>0&&h)for(var L=S;L<=_;L++)for(var w=k;w<=T;w++)C.push(r.createElement(t,{columnIndex:w,data:u,isScrolling:O?v:void 0,key:g({columnIndex:w,data:u,rowIndex:L}),rowIndex:L,style:this._getItemStyle(L,w)}));var D=m(this.props,this._instanceProps),I=x(this.props,this._instanceProps);return r.createElement(b||f||"div",{className:a,onScroll:this._onScroll,ref:this._outerRefSetter,style:s({position:"relative",height:l,width:y,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:n},M)},r.createElement(c||d||"div",{children:C,ref:o,style:{height:D,pointerEvents:v?"none":void 0,width:I}}))},_._callPropsCallbacks=function(){var e=this.props,t=e.columnCount,a=e.onItemsRendered,i=e.onScroll,s=e.rowCount;if("function"==typeof a&&t>0&&s>0){var n=this._getHorizontalRangeToRender(),l=n[0],o=n[1],r=n[2],c=n[3],d=this._getVerticalRangeToRender(),u=d[0],p=d[1],m=d[2],g=d[3];this._callOnItemsRendered(l,o,u,p,r,c,m,g)}if("function"==typeof i){var x=this.state,b=x.horizontalScrollDirection,f=x.scrollLeft,j=x.scrollTop,h=x.scrollUpdateWasRequested,M=x.verticalScrollDirection;this._callOnScroll(f,j,b,M,h)}},_._getHorizontalRangeToRender=function(){var e=this.props,t=e.columnCount,a=e.overscanColumnCount,s=e.overscanColumnsCount,n=e.overscanCount,l=e.rowCount,o=this.state,r=o.horizontalScrollDirection,d=o.isScrolling,u=o.scrollLeft,p=a||s||n||1;if(0===t||0===l)return[0,0,0,0];var m=i(this.props,u,this._instanceProps),g=c(this.props,m,u,this._instanceProps),x=d&&"backward"!==r?1:Math.max(1,p),b=d&&"forward"!==r?1:Math.max(1,p);return[Math.max(0,m-x),Math.max(0,Math.min(t-1,g+b)),m,g]},_._getVerticalRangeToRender=function(){var e=this.props,t=e.columnCount,a=e.overscanCount,i=e.overscanRowCount,s=e.overscanRowsCount,n=e.rowCount,l=this.state,o=l.isScrolling,r=l.verticalScrollDirection,c=l.scrollTop,d=i||s||a||1;if(0===t||0===n)return[0,0,0,0];var u=E(this.props,c,this._instanceProps),p=k(this.props,u,c,this._instanceProps),m=o&&"backward"!==r?1:Math.max(1,d),g=o&&"forward"!==r?1:Math.max(1,d);return[Math.max(0,u-m),Math.max(0,Math.min(n-1,p+g)),u,p]},t}(r.PureComponent)).defaultProps={direction:"ltr",itemData:void 0,useIsScrolling:!1},t}var M=function(e,t){e.children,e.direction,e.height,e.innerTagName,e.outerTagName,e.overscanColumnsCount,e.overscanCount,e.overscanRowsCount,e.width,t.instance},O=function(e,t){var a=e.rowCount,i=t.rowMetadataMap,s=t.estimatedRowHeight,n=t.lastMeasuredRowIndex,l=0;if(n>=a&&(n=a-1),n>=0){var o=i[n];l=o.offset+o.size}return l+(a-n-1)*s},y=function(e,t){var a=e.columnCount,i=t.columnMetadataMap,s=t.estimatedColumnWidth,n=t.lastMeasuredColumnIndex,l=0;if(n>=a&&(n=a-1),n>=0){var o=i[n];l=o.offset+o.size}return l+(a-n-1)*s},v=function(e,t,a,i){var s,n,l;if("column"===e?(s=i.columnMetadataMap,n=t.columnWidth,l=i.lastMeasuredColumnIndex):(s=i.rowMetadataMap,n=t.rowHeight,l=i.lastMeasuredRowIndex),a>l){var o=0;if(l>=0){var r=s[l];o=r.offset+r.size}for(var c=l+1;c<=a;c++){var d=n(c);s[c]={offset:o,size:d},o+=d}"column"===e?i.lastMeasuredColumnIndex=a:i.lastMeasuredRowIndex=a}return s[a]},E=function(e,t,a,i){var s,n;return"column"===e?(s=a.columnMetadataMap,n=a.lastMeasuredColumnIndex):(s=a.rowMetadataMap,n=a.lastMeasuredRowIndex),(n>0?s[n].offset:0)>=i?k(e,t,a,n,0,i):T(e,t,a,Math.max(0,n),i)},k=function(e,t,a,i,s,n){for(;s<=i;){var l=s+Math.floor((i-s)/2),o=v(e,t,l,a).offset;if(o===n)return l;o<n?s=l+1:o>n&&(i=l-1)}return s>0?s-1:0},T=function(e,t,a,i,s){for(var n="column"===e?t.columnCount:t.rowCount,l=1;i<n&&v(e,t,i,a).offset<s;)i+=l,l*=2;return k(e,t,a,Math.min(i,n-1),Math.floor(i/2),s)},F=function(e,t,a,i,s,n,l){var o="column"===e?t.width:t.height,r=v(e,t,a,n),c="column"===e?y(t,n):O(t,n),d=Math.max(0,Math.min(c-o,r.offset)),u=Math.max(0,r.offset-o+l+r.size);switch("smart"===i&&(i=s>=u-o&&s<=d+o?"auto":"center"),i){case"start":return d;case"end":return u;case"center":return Math.round(u+(d-u)/2);default:return s>=u&&s<=d?s:u>d||s<u?u:d}},S=h({getColumnOffset:function(e,t,a){return v("column",e,t,a).offset},getColumnStartIndexForOffset:function(e,t,a){return E("column",e,a,t)},getColumnStopIndexForStartIndex:function(e,t,a,i){for(var s=e.columnCount,n=e.width,l=v("column",e,t,i),o=a+n,r=l.offset+l.size,c=t;c<s-1&&r<o;)c++,r+=v("column",e,c,i).size;return c},getColumnWidth:function(e,t,a){return a.columnMetadataMap[t].size},getEstimatedTotalHeight:O,getEstimatedTotalWidth:y,getOffsetForColumnAndAlignment:function(e,t,a,i,s,n){return F("column",e,t,a,i,s,n)},getOffsetForRowAndAlignment:function(e,t,a,i,s,n){return F("row",e,t,a,i,s,n)},getRowOffset:function(e,t,a){return v("row",e,t,a).offset},getRowHeight:function(e,t,a){return a.rowMetadataMap[t].size},getRowStartIndexForOffset:function(e,t,a){return E("row",e,a,t)},getRowStopIndexForStartIndex:function(e,t,a,i){for(var s=e.rowCount,n=e.height,l=v("row",e,t,i),o=a+n,r=l.offset+l.size,c=t;c<s-1&&r<o;)c++,r+=v("row",e,c,i).size;return c},initInstanceProps:function(e,t){var a=e,i={columnMetadataMap:{},estimatedColumnWidth:a.estimatedColumnWidth||50,estimatedRowHeight:a.estimatedRowHeight||50,lastMeasuredColumnIndex:-1,lastMeasuredRowIndex:-1,rowMetadataMap:{}};return t.resetAfterColumnIndex=function(e,a){void 0===a&&(a=!0),t.resetAfterIndices({columnIndex:e,shouldForceUpdate:a})},t.resetAfterRowIndex=function(e,a){void 0===a&&(a=!0),t.resetAfterIndices({rowIndex:e,shouldForceUpdate:a})},t.resetAfterIndices=function(e){var a=e.columnIndex,s=e.rowIndex,n=e.shouldForceUpdate,l=void 0===n||n;"number"==typeof a&&(i.lastMeasuredColumnIndex=Math.min(i.lastMeasuredColumnIndex,a-1)),"number"==typeof s&&(i.lastMeasuredRowIndex=Math.min(i.lastMeasuredRowIndex,s-1)),t._getItemStyleCache(-1),l&&t.forceUpdate()},i},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(e){e.columnWidth,e.rowHeight}}),_=150,C=function(e,t){return e};function L(e){var t,a=e.getItemOffset,i=e.getEstimatedTotalSize,c=e.getItemSize,d=e.getOffsetForIndexAndAlignment,m=e.getStartIndexForOffset,x=e.getStopIndexForStartIndex,f=e.initInstanceProps,j=e.shouldResetStyleCacheOnItemSizeChange,h=e.validateProps;return t=function(e){function t(t){var i;return(i=e.call(this,t)||this)._instanceProps=f(i.props,n(i)),i._outerRef=void 0,i._resetIsScrollingTimeoutId=null,i.state={instance:n(i),isScrolling:!1,scrollDirection:"forward",scrollOffset:"number"==typeof i.props.initialScrollOffset?i.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},i._callOnItemsRendered=void 0,i._callOnItemsRendered=o((function(e,t,a,s){return i.props.onItemsRendered({overscanStartIndex:e,overscanStopIndex:t,visibleStartIndex:a,visibleStopIndex:s})})),i._callOnScroll=void 0,i._callOnScroll=o((function(e,t,a){return i.props.onScroll({scrollDirection:e,scrollOffset:t,scrollUpdateWasRequested:a})})),i._getItemStyle=void 0,i._getItemStyle=function(e){var t,s=i.props,n=s.direction,l=s.itemSize,o=s.layout,r=i._getItemStyleCache(j&&l,j&&o,j&&n);if(r.hasOwnProperty(e))t=r[e];else{var d=a(i.props,e,i._instanceProps),u=c(i.props,e,i._instanceProps),p="horizontal"===n||"horizontal"===o,m="rtl"===n,g=p?d:0;r[e]=t={position:"absolute",left:m?void 0:g,right:m?g:void 0,top:p?0:d,height:p?"100%":u,width:p?u:"100%"}}return t},i._getItemStyleCache=void 0,i._getItemStyleCache=o((function(e,t,a){return{}})),i._onScrollHorizontal=function(e){var t=e.currentTarget,a=t.clientWidth,s=t.scrollLeft,n=t.scrollWidth;i.setState((function(e){if(e.scrollOffset===s)return null;var t=i.props.direction,l=s;if("rtl"===t)switch(b()){case"negative":l=-s;break;case"positive-descending":l=n-a-s}return l=Math.max(0,Math.min(l,n-a)),{isScrolling:!0,scrollDirection:e.scrollOffset<s?"forward":"backward",scrollOffset:l,scrollUpdateWasRequested:!1}}),i._resetIsScrollingDebounced)},i._onScrollVertical=function(e){var t=e.currentTarget,a=t.clientHeight,s=t.scrollHeight,n=t.scrollTop;i.setState((function(e){if(e.scrollOffset===n)return null;var t=Math.max(0,Math.min(n,s-a));return{isScrolling:!0,scrollDirection:e.scrollOffset<t?"forward":"backward",scrollOffset:t,scrollUpdateWasRequested:!1}}),i._resetIsScrollingDebounced)},i._outerRefSetter=function(e){var t=i.props.outerRef;i._outerRef=e,"function"==typeof t?t(e):null!=t&&"object"==typeof t&&t.hasOwnProperty("current")&&(t.current=e)},i._resetIsScrollingDebounced=function(){null!==i._resetIsScrollingTimeoutId&&u(i._resetIsScrollingTimeoutId),i._resetIsScrollingTimeoutId=p(i._resetIsScrolling,_)},i._resetIsScrolling=function(){i._resetIsScrollingTimeoutId=null,i.setState({isScrolling:!1},(function(){i._getItemStyleCache(-1,null)}))},i}l(t,e),t.getDerivedStateFromProps=function(e,t){return w(e,t),h(e),null};var M=t.prototype;return M.scrollTo=function(e){e=Math.max(0,e),this.setState((function(t){return t.scrollOffset===e?null:{scrollDirection:t.scrollOffset<e?"forward":"backward",scrollOffset:e,scrollUpdateWasRequested:!0}}),this._resetIsScrollingDebounced)},M.scrollToItem=function(e,t){void 0===t&&(t="auto");var a=this.props,i=a.itemCount,s=a.layout,n=this.state.scrollOffset;e=Math.max(0,Math.min(e,i-1));var l=0;if(this._outerRef){var o=this._outerRef;l="vertical"===s?o.scrollWidth>o.clientWidth?g():0:o.scrollHeight>o.clientHeight?g():0}this.scrollTo(d(this.props,e,t,n,this._instanceProps,l))},M.componentDidMount=function(){var e=this.props,t=e.direction,a=e.initialScrollOffset,i=e.layout;if("number"==typeof a&&null!=this._outerRef){var s=this._outerRef;"horizontal"===t||"horizontal"===i?s.scrollLeft=a:s.scrollTop=a}this._callPropsCallbacks()},M.componentDidUpdate=function(){var e=this.props,t=e.direction,a=e.layout,i=this.state,s=i.scrollOffset;if(i.scrollUpdateWasRequested&&null!=this._outerRef){var n=this._outerRef;if("horizontal"===t||"horizontal"===a)if("rtl"===t)switch(b()){case"negative":n.scrollLeft=-s;break;case"positive-ascending":n.scrollLeft=s;break;default:var l=n.clientWidth,o=n.scrollWidth;n.scrollLeft=o-l-s}else n.scrollLeft=s;else n.scrollTop=s}this._callPropsCallbacks()},M.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&u(this._resetIsScrollingTimeoutId)},M.render=function(){var e=this.props,t=e.children,a=e.className,n=e.direction,l=e.height,o=e.innerRef,c=e.innerElementType,d=e.innerTagName,u=e.itemCount,p=e.itemData,m=e.itemKey,g=void 0===m?C:m,x=e.layout,b=e.outerElementType,f=e.outerTagName,j=e.style,h=e.useIsScrolling,M=e.width,O=this.state.isScrolling,y="horizontal"===n||"horizontal"===x,v=y?this._onScrollHorizontal:this._onScrollVertical,E=this._getRangeToRender(),k=E[0],T=E[1],F=[];if(u>0)for(var S=k;S<=T;S++)F.push(r.createElement(t,{data:p,key:g(S,p),index:S,isScrolling:h?O:void 0,style:this._getItemStyle(S)}));var _=i(this.props,this._instanceProps);return r.createElement(b||f||"div",{className:a,onScroll:v,ref:this._outerRefSetter,style:s({position:"relative",height:l,width:M,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:n},j)},r.createElement(c||d||"div",{children:F,ref:o,style:{height:y?"100%":_,pointerEvents:O?"none":void 0,width:y?_:"100%"}}))},M._callPropsCallbacks=function(){if("function"==typeof this.props.onItemsRendered&&this.props.itemCount>0){var e=this._getRangeToRender(),t=e[0],a=e[1],i=e[2],s=e[3];this._callOnItemsRendered(t,a,i,s)}if("function"==typeof this.props.onScroll){var n=this.state,l=n.scrollDirection,o=n.scrollOffset,r=n.scrollUpdateWasRequested;this._callOnScroll(l,o,r)}},M._getRangeToRender=function(){var e=this.props,t=e.itemCount,a=e.overscanCount,i=this.state,s=i.isScrolling,n=i.scrollDirection,l=i.scrollOffset;if(0===t)return[0,0,0,0];var o=m(this.props,l,this._instanceProps),r=x(this.props,o,l,this._instanceProps),c=s&&"backward"!==n?1:Math.max(1,a),d=s&&"forward"!==n?1:Math.max(1,a);return[Math.max(0,o-c),Math.max(0,Math.min(t-1,r+d)),o,r]},t}(r.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var w=function(e,t){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,t.instance},D=function(e,t,a){var i=e.itemSize,s=a.itemMetadataMap,n=a.lastMeasuredIndex;if(t>n){var l=0;if(n>=0){var o=s[n];l=o.offset+o.size}for(var r=n+1;r<=t;r++){var c=i(r);s[r]={offset:l,size:c},l+=c}a.lastMeasuredIndex=t}return s[t]},I=function(e,t,a,i,s){for(;i<=a;){var n=i+Math.floor((a-i)/2),l=D(e,n,t).offset;if(l===s)return n;l<s?i=n+1:l>s&&(a=n-1)}return i>0?i-1:0},P=function(e,t){var a=e.itemCount,i=t.itemMetadataMap,s=t.estimatedItemSize,n=t.lastMeasuredIndex,l=0;if(n>=a&&(n=a-1),n>=0){var o=i[n];l=o.offset+o.size}return l+(a-n-1)*s},N=L({getItemOffset:function(e,t,a){return D(e,t,a).offset},getItemSize:function(e,t,a){return a.itemMetadataMap[t].size},getEstimatedTotalSize:P,getOffsetForIndexAndAlignment:function(e,t,a,i,s,n){var l=e.direction,o=e.height,r=e.layout,c=e.width,d="horizontal"===l||"horizontal"===r?c:o,u=D(e,t,s),p=P(e,s),m=Math.max(0,Math.min(p-d,u.offset)),g=Math.max(0,u.offset-d+u.size+n);switch("smart"===a&&(a=i>=g-d&&i<=m+d?"auto":"center"),a){case"start":return m;case"end":return g;case"center":return Math.round(g+(m-g)/2);default:return i>=g&&i<=m?i:i<g?g:m}},getStartIndexForOffset:function(e,t,a){return function(e,t,a){var i=t.itemMetadataMap,s=t.lastMeasuredIndex;return(s>0?i[s].offset:0)>=a?I(e,t,s,0,a):function(e,t,a,i){for(var s=e.itemCount,n=1;a<s&&D(e,a,t).offset<i;)a+=n,n*=2;return I(e,t,Math.min(a,s-1),Math.floor(a/2),i)}(e,t,Math.max(0,s),a)}(e,a,t)},getStopIndexForStartIndex:function(e,t,a,i){for(var s=e.direction,n=e.height,l=e.itemCount,o=e.layout,r=e.width,c="horizontal"===s||"horizontal"===o?r:n,d=D(e,t,i),u=a+c,p=d.offset+d.size,m=t;m<l-1&&p<u;)m++,p+=D(e,m,i).size;return m},initInstanceProps:function(e,t){var a={itemMetadataMap:{},estimatedItemSize:e.estimatedItemSize||50,lastMeasuredIndex:-1};return t.resetAfterIndex=function(e,i){void 0===i&&(i=!0),a.lastMeasuredIndex=Math.min(a.lastMeasuredIndex,e-1),t._getItemStyleCache(-1),i&&t.forceUpdate()},a},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(e){e.itemSize}}),B=h({getColumnOffset:function(e,t){return t*e.columnWidth},getColumnWidth:function(e,t){return e.columnWidth},getRowOffset:function(e,t){return t*e.rowHeight},getRowHeight:function(e,t){return e.rowHeight},getEstimatedTotalHeight:function(e){var t=e.rowCount;return e.rowHeight*t},getEstimatedTotalWidth:function(e){var t=e.columnCount;return e.columnWidth*t},getOffsetForColumnAndAlignment:function(e,t,a,i,s,n){var l=e.columnCount,o=e.columnWidth,r=e.width,c=Math.max(0,l*o-r),d=Math.min(c,t*o),u=Math.max(0,t*o-r+n+o);switch("smart"===a&&(a=i>=u-r&&i<=d+r?"auto":"center"),a){case"start":return d;case"end":return u;case"center":var p=Math.round(u+(d-u)/2);return p<Math.ceil(r/2)?0:p>c+Math.floor(r/2)?c:p;default:return i>=u&&i<=d?i:u>d||i<u?u:d}},getOffsetForRowAndAlignment:function(e,t,a,i,s,n){var l=e.rowHeight,o=e.height,r=e.rowCount,c=Math.max(0,r*l-o),d=Math.min(c,t*l),u=Math.max(0,t*l-o+n+l);switch("smart"===a&&(a=i>=u-o&&i<=d+o?"auto":"center"),a){case"start":return d;case"end":return u;case"center":var p=Math.round(u+(d-u)/2);return p<Math.ceil(o/2)?0:p>c+Math.floor(o/2)?c:p;default:return i>=u&&i<=d?i:u>d||i<u?u:d}},getColumnStartIndexForOffset:function(e,t){var a=e.columnWidth,i=e.columnCount;return Math.max(0,Math.min(i-1,Math.floor(t/a)))},getColumnStopIndexForStartIndex:function(e,t,a){var i=e.columnWidth,s=e.columnCount,n=e.width,l=t*i,o=Math.ceil((n+a-l)/i);return Math.max(0,Math.min(s-1,t+o-1))},getRowStartIndexForOffset:function(e,t){var a=e.rowHeight,i=e.rowCount;return Math.max(0,Math.min(i-1,Math.floor(t/a)))},getRowStopIndexForStartIndex:function(e,t,a){var i=e.rowHeight,s=e.rowCount,n=e.height,l=t*i,o=Math.ceil((n+a-l)/i);return Math.max(0,Math.min(s-1,t+o-1))},initInstanceProps:function(e){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(e){e.columnWidth,e.rowHeight}}),R=L({getItemOffset:function(e,t){return t*e.itemSize},getItemSize:function(e,t){return e.itemSize},getEstimatedTotalSize:function(e){var t=e.itemCount;return e.itemSize*t},getOffsetForIndexAndAlignment:function(e,t,a,i,s,n){var l=e.direction,o=e.height,r=e.itemCount,c=e.itemSize,d=e.layout,u=e.width,p="horizontal"===l||"horizontal"===d?u:o,m=Math.max(0,r*c-p),g=Math.min(m,t*c),x=Math.max(0,t*c-p+c+n);switch("smart"===a&&(a=i>=x-p&&i<=g+p?"auto":"center"),a){case"start":return g;case"end":return x;case"center":var b=Math.round(x+(g-x)/2);return b<Math.ceil(p/2)?0:b>m+Math.floor(p/2)?m:b;default:return i>=x&&i<=g?i:i<x?x:g}},getStartIndexForOffset:function(e,t){var a=e.itemCount,i=e.itemSize;return Math.max(0,Math.min(a-1,Math.floor(t/i)))},getStopIndexForStartIndex:function(e,t,a){var i=e.direction,s=e.height,n=e.itemCount,l=e.itemSize,o=e.layout,r=e.width,c=t*l,d="horizontal"===i||"horizontal"===o?r:s,u=Math.ceil((d+a-c)/l);return Math.max(0,Math.min(n-1,t+u-1))},initInstanceProps:function(e){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(e){e.itemSize}});function A(e,t){for(var a in e)if(!(a in t))return!0;for(var i in t)if(e[i]!==t[i])return!0;return!1}var z=["style"],V=["style"];function U(e,t){var a=e.style,i=c(e,z),s=t.style,n=c(t,V);return!A(a,s)&&!A(i,n)}t.FixedSizeGrid=B,t.FixedSizeList=R,t.VariableSizeGrid=S,t.VariableSizeList=N,t.areEqual=U,t.shouldComponentUpdate=function(e,t){return!U(this.props,e)||A(this.state,t)}},function(e,t,a){e.exports=a(13)(5)},function(e,t,a){e.exports=a(13)(2982)},function(e,t,a){"use strict";function i(e,t){if(e.length!==t.length)return!1;for(var a=0;a<e.length;a++)if(e[a]!==t[a])return!1;return!0}e.exports=function(e,t){var a;void 0===t&&(t=i);var s,n=[],l=!1;return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return l&&a===this&&t(i,n)||(s=e.apply(this,i),l=!0,a=this,n=i),s}}},function(e,t,a){e.exports=a(13)(1479)},function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(96);case"v8light":return a(98)}},function(e,t,a){var i=a(11),s=a(97);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);i(s,{insert:"head",singleton:!1}),e.exports=s.locals||{}},function(e,t,a){(t=a(12)(!1)).push([e.i,'.componentTemplatesListItem{background-color:#141519;border-bottom:1px solid #343741;height:48px;padding:12px;position:relative}.componentTemplatesListItem--selected:before{background-color:#ffffffb3;content:"";height:100%;left:0;position:absolute;top:0;width:100%;z-index:1}.componentTemplatesListItem__contentIndicator{flex-direction:row}.componentTemplatesListItem__checkIcon{position:absolute;right:16px;top:16px;z-index:2}',""]),e.exports=t},function(e,t,a){var i=a(11),s=a(99);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);i(s,{insert:"head",singleton:!1}),e.exports=s.locals||{}},function(e,t,a){(t=a(12)(!1)).push([e.i,'.componentTemplatesListItem{background-color:#fafbfd;border-bottom:1px solid #d3dae6;height:48px;padding:12px;position:relative}.componentTemplatesListItem--selected:before{background-color:#ffffffb3;content:"";height:100%;left:0;position:absolute;top:0;width:100%;z-index:1}.componentTemplatesListItem__contentIndicator{flex-direction:row}.componentTemplatesListItem__checkIcon{position:absolute;right:16px;top:16px;z-index:2}',""]),e.exports=t},function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(101);case"v8light":return a(103)}},function(e,t,a){var i=a(11),s=a(102);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);i(s,{insert:"head",singleton:!1}),e.exports=s.locals||{}},function(e,t,a){(t=a(12)(!1)).push([e.i,".componentTemplates{border:1px solid #343741;border-radius:6px;border-top:none;height:100%}.componentTemplates__header{height:48px}.componentTemplates__header .euiFormControlLayout{max-width:none}.componentTemplates__searchBox{border-bottom:1px solid #343741;border-bottom-right-radius:0;border-top:1px solid #343741;border-top-right-radius:0;box-shadow:none;max-width:none}.componentTemplates__filterListButton{border-bottom:1px solid #343741;border-left:1px solid #343741;border-top:1px solid #343741;box-shadow:none;height:40px}.componentTemplates__filterListButton,.componentTemplates__filterListButton>:first-child .euiFilterButton{border-bottom-left-radius:0;border-top-left-radius:0}.componentTemplates__listWrapper{height:calc(100% - 48px)}.componentTemplates__listWrapper--is-empty{display:flex}",""]),e.exports=t},function(e,t,a){var i=a(11),s=a(104);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);i(s,{insert:"head",singleton:!1}),e.exports=s.locals||{}},function(e,t,a){(t=a(12)(!1)).push([e.i,".componentTemplates{border:1px solid #d3dae6;border-radius:6px;border-top:none;height:100%}.componentTemplates__header{height:48px}.componentTemplates__header .euiFormControlLayout{max-width:none}.componentTemplates__searchBox{border-bottom:1px solid #d3dae6;border-bottom-right-radius:0;border-top:1px solid #d3dae6;border-top-right-radius:0;box-shadow:none;max-width:none}.componentTemplates__filterListButton{border-bottom:1px solid #d3dae6;border-left:1px solid #d3dae6;border-top:1px solid #d3dae6;box-shadow:none;height:40px}.componentTemplates__filterListButton,.componentTemplates__filterListButton>:first-child .euiFilterButton{border-bottom-left-radius:0;border-top-left-radius:0}.componentTemplates__listWrapper{height:calc(100% - 48px)}.componentTemplates__listWrapper--is-empty{display:flex}",""]),e.exports=t},function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(106);case"v8light":return a(108)}},function(e,t,a){var i=a(11),s=a(107);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);i(s,{insert:"head",singleton:!1}),e.exports=s.locals||{}},function(e,t,a){(t=a(12)(!1)).push([e.i,".componentTemplatesSelector{height:480px}.componentTemplatesSelector__selection{border:1px solid #343741;border-radius:6px;color:#98a2b3;padding:0 16px 16px}.componentTemplatesSelector__selection--is-empty{align-items:center;justify-content:center}.componentTemplatesSelector__selection__header{background-color:#25262e;border-bottom:1px solid #343741;color:#000;font-size:12px;height:40px;line-height:40px;margin-bottom:8px;margin-left:-16px;margin-right:-16px;padding-left:16px}.componentTemplatesSelector__selection__header__count{font-weight:600}.componentTemplatesSelector__selection__content{-webkit-mask-image:none;mask-image:none}",""]),e.exports=t},function(e,t,a){var i=a(11),s=a(109);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);i(s,{insert:"head",singleton:!1}),e.exports=s.locals||{}},function(e,t,a){(t=a(12)(!1)).push([e.i,".componentTemplatesSelector{height:480px}.componentTemplatesSelector__selection{border:1px solid #d3dae6;border-radius:6px;color:#69707d;padding:0 16px 16px}.componentTemplatesSelector__selection--is-empty{align-items:center;justify-content:center}.componentTemplatesSelector__selection__header{background-color:#f5f7fa;border-bottom:1px solid #d3dae6;color:#000;font-size:12px;height:40px;line-height:40px;margin-bottom:8px;margin-left:-16px;margin-right:-16px;padding-left:16px}.componentTemplatesSelector__selection__header__count{font-weight:600}.componentTemplatesSelector__selection__content{-webkit-mask-image:none;mask-image:none}",""]),e.exports=t},function(e,t,a){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))},function(e,t,a){"use strict";var i="%[a-f0-9]{2}",s=new RegExp("("+i+")|([^%]+?)","gi"),n=new RegExp("("+i+")+","gi");function l(e,t){try{return[decodeURIComponent(e.join(""))]}catch(e){}if(1===e.length)return e;t=t||1;var a=e.slice(0,t),i=e.slice(t);return Array.prototype.concat.call([],l(a),l(i))}function o(e){try{return decodeURIComponent(e)}catch(i){for(var t=e.match(s)||[],a=1;a<t.length;a++)t=(e=l(t,a).join("")).match(s)||[];return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},a=n.exec(e);a;){try{t[a[0]]=decodeURIComponent(a[0])}catch(e){var i=o(a[0]);i!==a[0]&&(t[a[0]]=i)}a=n.exec(e)}t["%C2"]="�";for(var s=Object.keys(t),l=0;l<s.length;l++){var r=s[l];e=e.replace(new RegExp(r,"g"),t[r])}return e}(e)}}},function(e,t,a){"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const a=e.indexOf(t);return-1===a?[e]:[e.slice(0,a),e.slice(a+t.length)]}},function(e,t,a){"use strict";t.__esModule=!0,t.default=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var s;(0,i.default)((s=t,!(0,l.default)(s)&&s.every(u)),"Expected action types to be strings, symbols, or action creators");var n=t.map(o.default).join(c.ACTION_TYPE_DELIMITER);return{toString:function(){return n}}};var i=d(a(57)),s=d(a(61)),n=d(a(114)),l=d(a(67)),o=d(a(68)),r=d(a(69)),c=a(58);function d(e){return e&&e.__esModule?e:{default:e}}function u(e){return(0,r.default)(e)||(0,s.default)(e)||(0,n.default)(e)}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){return"symbol"==typeof e||"object"==typeof e&&"[object Symbol]"===Object.prototype.toString.call(e)}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){return null===e}},function(e,t,a){"use strict";t.__esModule=!0,t.default=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];var l=(0,s.default)((0,d.default)(a))?a.pop():{};return(0,i.default)(a.every(r.default)&&((0,r.default)(e)||(0,s.default)(e)),"Expected optional object followed by string action types"),(0,r.default)(e)?O([e].concat(a),l):j({},function(e,t){var a=M((0,m.default)(e,t));return(0,g.default)(a,t)}(e,l),O(a,l))};var i=f(a(57)),s=f(a(59)),n=f(a(61)),l=f(a(64)),o=f(a(117)),r=f(a(69)),c=f(a(70)),d=f(a(118)),u=f(a(71)),p=f(a(122)),m=f(a(123)),g=f(a(124)),x=f(a(63)),b=a(58);function f(e){return e&&e.__esModule?e:{default:e}}function j(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},i=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),i.forEach((function(t){h(e,t,a[t])}))}return e}function h(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function M(e,t){var a=void 0===t?{}:t,s=a.prefix,r=a.namespace,d=void 0===r?b.DEFAULT_NAMESPACE:r;return(0,p.default)(Object.keys(e),(function(t,a){var r,u=e[a];(0,i.default)(function(e){if((0,n.default)(e)||(0,c.default)(e))return!0;if((0,o.default)(e)){var t=e[0],a=void 0===t?l.default:t,i=e[1];return(0,n.default)(a)&&(0,n.default)(i)}return!1}(u),"Expected function, undefined, null, or array with payload and meta functions for "+a);var p=s?""+s+d+a:a,m=(0,o.default)(u)?x.default.apply(void 0,[p].concat(u)):(0,x.default)(p,u);return j({},t,((r={})[a]=m,r))}))}function O(e,t){var a=M((0,p.default)(e,(function(e,t){var a;return j({},e,((a={})[t]=l.default,a))})),t);return(0,p.default)(Object.keys(a),(function(e,t){var i;return j({},e,((i={})[(0,u.default)(t)]=a[t],i))}))}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){return Array.isArray(e)}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){return e[e.length-1]}},function(e,t,a){var i=a(120);e.exports=function(e){return i(e).replace(/\s(\w)/g,(function(e,t){return t.toUpperCase()}))}},function(e,t,a){var i=a(121);e.exports=function(e){return i(e).replace(/[\W_]+(.|$)/g,(function(e,t){return t?" "+t:""})).trim()}},function(e,t){e.exports=function(e){return a.test(e)?e.toLowerCase():i.test(e)?(function(e){return e.replace(n,(function(e,t){return t?" "+t:""}))}(e)||e).toLowerCase():s.test(e)?function(e){return e.replace(l,(function(e,t,a){return t+" "+a.toLowerCase().split("").join(" ")}))}(e).toLowerCase():e.toLowerCase()};var a=/\s/,i=/(_|-|\.|:)/,s=/([a-z][A-Z]|[A-Z][a-z])/,n=/[\W_]+(.|$)/g,l=/(.)([A-Z]+)/g},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e,t){return e.reduce((function(e,a){return t(e,a)}),{})}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var i=s(a(59));function s(e){return e&&e.__esModule?e:{default:e}}var n=(0,s(a(72)).default)(i.default);t.default=n},function(e,t,a){"use strict";t.__esModule=!0,t.default=function(e,t){var a=void 0===t?{}:t,l=a.namespace,o=void 0===l?i.DEFAULT_NAMESPACE:l,r=a.prefix;function c(t,a,i){var l=(0,n.default)(i.shift());(0,s.default)(i)?a[l]=e[t]:(a[l]||(a[l]={}),c(t,a[l],i))}var d={};return Object.getOwnPropertyNames(e).forEach((function(e){var t=r?e.replace(""+r+o,""):e;return c(e,d,t.split(o))})),d};var i=a(58),s=l(a(67)),n=l(a(71));function l(e){return e&&e.__esModule?e:{default:e}}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var i=n(a(126)),s=n(a(63));function n(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){return(0,i.default)((0,s.default)(e,t),t.length)}},function(e,t){e.exports=function(e,t){return function a(){null==t&&(t=e.length);var i=[].slice.call(arguments);return i.length>=t?e.apply(this,i):function(){return a.apply(this,i.concat([].slice.call(arguments)))}}}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){return void 0===e}},function(e,t,a){"use strict";t.__esModule=!0,t.default=function(e,t,a){void 0===a&&(a={}),(0,s.default)((0,n.default)(e)||(0,l.default)(e),"Expected handlers to be a plain object.");var u=(0,r.default)(e,a),p=(0,o.default)(u).map((function(e){return(0,c.default)(e,(0,d.default)(e,u),t)})),m=i.default.apply(void 0,p.concat([t]));return function(e,a){return void 0===e&&(e=t),m(e,a)}};var i=u(a(129)),s=u(a(57)),n=u(a(59)),l=u(a(62)),o=u(a(65)),r=u(a(130)),c=u(a(74)),d=u(a(73));function u(e){return e&&e.__esModule?e:{default:e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];var i="function"!=typeof t[t.length-1]&&t.pop(),s=t;if(void 0===i)throw new TypeError("The initial state may not be undefined. If you do not want to set a value for this reducer, you can use null instead of undefined.");return function(e,t){for(var a=arguments.length,n=Array(a>2?a-2:0),l=2;l<a;l++)n[l-2]=arguments[l];var o=void 0===e,r=void 0===t;return o&&r&&i?i:s.reduce((function(e,a){return a.apply(void 0,[e,t].concat(n))}),o&&!r&&i?i:e)}},e.exports=t.default},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var i=l(a(59)),s=l(a(62)),n=l(a(131));function l(e){return e&&e.__esModule?e:{default:e}}var o=(0,l(a(72)).default)((function(e){return((0,i.default)(e)||(0,s.default)(e))&&!(0,n.default)(e)}));t.default=o},function(e,t,a){"use strict";t.__esModule=!0,t.default=function(e){var t=(0,s.default)(e),a=t.every((function(e){return"next"===e||"throw"===e}));return t.length&&t.length<=2&&a};var i,s=(i=a(65))&&i.__esModule?i:{default:i}},function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(133);case"v8light":return a(135)}},function(e,t,a){var i=a(11),s=a(134);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);i(s,{insert:"head",singleton:!1}),e.exports=s.locals||{}},function(e,t,a){(t=a(12)(!1)).push([e.i,'.kbnSolutionNav__flyout{background-color:#141519}.kbnSolutionNav{background:linear-gradient(160deg,#3437414d,#3437414d 32px,#f000 0),linear-gradient(175deg,#3437414d,#3437414d 16px,#f000 0);display:flex;flex-direction:column;height:100%;overflow-x:hidden;overflow-y:auto;scrollbar-color:#98a2b380 #0000;scrollbar-width:thin}.kbnSolutionNav::-webkit-scrollbar{height:16px;width:16px}.kbnSolutionNav::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#98a2b380;border:6px solid #0000;border-radius:16px}.kbnSolutionNav::-webkit-scrollbar-corner,.kbnSolutionNav::-webkit-scrollbar-track{background-color:#0000}.kbnSolutionNav:focus{outline:none}.kbnSolutionNav[tabindex="0"]:focus:focus-visible{outline-style:auto}@media only screen and (min-width:768px) and (max-width:991px){.kbnSolutionNav{padding:24px;width:248px}}@media only screen and (min-width:992px) and (max-width:1199px){.kbnSolutionNav{padding:24px;width:248px}}@media only screen and (min-width:1200px){.kbnSolutionNav{padding:24px;width:248px}}.kbnSolutionNav__title{align-items:center;display:inline-flex}.kbnSolutionNav__titleAvatar{align-self:flex-start;margin-right:12px}.kbnSolutionNav--hidden{opacity:0;pointer-events:none}@media screen and (prefers-reduced-motion:no-preference){.kbnSolutionNav--hidden{transition:opacity .15s cubic-bezier(.694,.0482,.335,1)}}',""]),e.exports=t},function(e,t,a){var i=a(11),s=a(136);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);i(s,{insert:"head",singleton:!1}),e.exports=s.locals||{}},function(e,t,a){(t=a(12)(!1)).push([e.i,'.kbnSolutionNav__flyout{background-color:#fafbfd}.kbnSolutionNav{background:linear-gradient(160deg,#d3dae64d,#d3dae64d 32px,#f000 0),linear-gradient(175deg,#d3dae64d,#d3dae64d 16px,#f000 0);display:flex;flex-direction:column;height:100%;overflow-x:hidden;overflow-y:auto;scrollbar-color:#69707d80 #0000;scrollbar-width:thin}.kbnSolutionNav::-webkit-scrollbar{height:16px;width:16px}.kbnSolutionNav::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#69707d80;border:6px solid #0000;border-radius:16px}.kbnSolutionNav::-webkit-scrollbar-corner,.kbnSolutionNav::-webkit-scrollbar-track{background-color:#0000}.kbnSolutionNav:focus{outline:none}.kbnSolutionNav[tabindex="0"]:focus:focus-visible{outline-style:auto}@media only screen and (min-width:768px) and (max-width:991px){.kbnSolutionNav{padding:24px;width:248px}}@media only screen and (min-width:992px) and (max-width:1199px){.kbnSolutionNav{padding:24px;width:248px}}@media only screen and (min-width:1200px){.kbnSolutionNav{padding:24px;width:248px}}.kbnSolutionNav__title{align-items:center;display:inline-flex}.kbnSolutionNav__titleAvatar{align-self:flex-start;margin-right:12px}.kbnSolutionNav--hidden{opacity:0;pointer-events:none}@media screen and (prefers-reduced-motion:no-preference){.kbnSolutionNav--hidden{transition:opacity .15s cubic-bezier(.694,.0482,.335,1)}}',""]),e.exports=t},function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(138);case"v8light":return a(140)}},function(e,t,a){var i=a(11),s=a(139);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);i(s,{insert:"head",singleton:!1}),e.exports=s.locals||{}},function(e,t,a){var i=a(12),s=a(75),n=a(76);t=i(!1);var l=s(n);t.push([e.i,".kbnSolutionAvatar{box-shadow:0 .7px 1.4px rgba(0,0,0,.175),0 1.9px 4px rgba(0,0,0,.125),0 4.5px 10px rgba(0,0,0,.125)}.kbnSolutionAvatar--xxl{background:#1d1e24 url("+l+") no-repeat;background-size:cover,125%;border-radius:100px;box-shadow:0 .9px 4px -1px #0003,0 2.6px 8px -1px #00000026,0 5.7px 12px -1px rgba(0,0,0,.125),0 15px 15px -1px #0000001a;display:inline-block;height:100px;line-height:100px;text-align:center;width:100px}",""]),e.exports=t},function(e,t,a){var i=a(11),s=a(141);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);i(s,{insert:"head",singleton:!1}),e.exports=s.locals||{}},function(e,t,a){var i=a(12),s=a(75),n=a(76);t=i(!1);var l=s(n);t.push([e.i,".kbnSolutionAvatar{box-shadow:0 .7px 1.4px #00000012,0 1.9px 4px #0000000d,0 4.5px 10px #0000000d}.kbnSolutionAvatar--xxl{background:#fff url("+l+") no-repeat;background-size:cover,125%;border-radius:100px;box-shadow:0 .9px 4px -1px #00000014,0 2.6px 8px -1px #0000000f,0 5.7px 12px -1px #0000000d,0 15px 15px -1px #0000000a;display:inline-block;height:100px;line-height:100px;text-align:center;width:100px}",""]),e.exports=t},function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(143);case"v8light":return a(145)}},function(e,t,a){var i=a(11),s=a(144);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);i(s,{insert:"head",singleton:!1}),e.exports=s.locals||{}},function(e,t,a){(t=a(12)(!1)).push([e.i,".kbnSolutionNavCollapseButton{left:232px;opacity:0;position:absolute;top:24px;z-index:2}@media screen and (prefers-reduced-motion:no-preference){.kbnSolutionNavCollapseButton{transition:opacity .15s,left .15s,background .15s}}.kbnSolutionNavCollapseButton:focus,.kbnSolutionNavCollapseButton:hover{transition-delay:0s!important}.kbnSolutionNavCollapseButton:focus,.kbnSolutionNavCollapseButton:hover,.kbnSolutionNav__sidebar:hover .kbnSolutionNavCollapseButton{left:224px;opacity:1}.kbnSolutionNav__sidebar:hover .kbnSolutionNavCollapseButton{transition-delay:.7s}.kbnSolutionNavCollapseButton:not(.kbnSolutionNavCollapseButton-isCollapsed){background-color:#1d1e24!important}.kbnSolutionNavCollapseButton-isCollapsed{align-items:flex-start;border-radius:0;bottom:0;height:100%;left:0!important;opacity:1!important;padding-top:32px;right:auto;top:0;transition-delay:0s!important;width:40px}",""]),e.exports=t},function(e,t,a){var i=a(11),s=a(146);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);i(s,{insert:"head",singleton:!1}),e.exports=s.locals||{}},function(e,t,a){(t=a(12)(!1)).push([e.i,".kbnSolutionNavCollapseButton{left:232px;opacity:0;position:absolute;top:24px;z-index:2}@media screen and (prefers-reduced-motion:no-preference){.kbnSolutionNavCollapseButton{transition:opacity .15s,left .15s,background .15s}}.kbnSolutionNavCollapseButton:focus,.kbnSolutionNavCollapseButton:hover{transition-delay:0s!important}.kbnSolutionNavCollapseButton:focus,.kbnSolutionNavCollapseButton:hover,.kbnSolutionNav__sidebar:hover .kbnSolutionNavCollapseButton{left:224px;opacity:1}.kbnSolutionNav__sidebar:hover .kbnSolutionNavCollapseButton{transition-delay:.7s}.kbnSolutionNavCollapseButton:not(.kbnSolutionNavCollapseButton-isCollapsed){background-color:#fff!important}.kbnSolutionNavCollapseButton-isCollapsed{align-items:flex-start;border-radius:0;bottom:0;height:100%;left:0!important;opacity:1!important;padding-top:32px;right:auto;top:0;transition-delay:0s!important;width:40px}",""]),e.exports=t},function(e,t,a){"use strict";e.exports=a(148)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(149);a(47),a(77),a(78);var s=i.default({key:"css"}),n=s.flush,l=s.hydrate,o=s.cx,r=s.merge,c=s.getRegisteredStyles,d=s.injectGlobal,u=s.keyframes,p=s.css,m=s.sheet,g=s.cache;t.cache=g,t.css=p,t.cx=o,t.flush=n,t.getRegisteredStyles=c,t.hydrate=l,t.injectGlobal=d,t.keyframes=u,t.merge=r,t.sheet=m},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(47),s=a(77),n=a(78);function l(e){return e&&e.__esModule?e:{default:e}}var o=l(i);function r(e,t){if(void 0===e.inserted[t.name])return e.insert("",t,e.sheet,!0)}function c(e,t,a){var i=[],s=n.getRegisteredStyles(e,i,a);return i.length<2?a:s+t(i)}var d=function e(t){for(var a="",i=0;i<t.length;i++){var s=t[i];if(null!=s){var n=void 0;switch(typeof s){case"boolean":break;case"object":if(Array.isArray(s))n=e(s);else for(var l in n="",s)s[l]&&l&&(n&&(n+=" "),n+=l);break;default:n=s}n&&(a&&(a+=" "),a+=n)}}return a};t.default=function(e){var t=o.default(e);t.sheet.speedy=function(e){this.isSpeedy=e},t.compat=!0;var a=function(){for(var e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];var l=s.serializeStyles(a,t.registered,void 0);return n.insertStyles(t,l,!1),t.key+"-"+l.name};return{css:a,cx:function(){for(var e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];return c(t.registered,a,d(i))},injectGlobal:function(){for(var e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];var n=s.serializeStyles(a,t.registered);r(t,n)},keyframes:function(){for(var e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];var n=s.serializeStyles(a,t.registered),l="animation-"+n.name;return r(t,{name:n.name,styles:"@keyframes "+l+"{"+n.styles+"}"}),l},hydrate:function(e){e.forEach((function(e){t.inserted[e]=!0}))},flush:function(){t.registered={},t.inserted={},t.sheet.flush()},sheet:t.sheet,cache:t,getRegisteredStyles:n.getRegisteredStyles.bind(null,t.registered),merge:c.bind(null,t.registered,a)}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(151),s=a(153),n=a(155);function l(e){return e&&e.__esModule?e:{default:e}}var o=l(i),r=l(s),c=/[A-Z]|^ms/g,d=/_EMO_([^_]+?)_([^]*?)_EMO_/g,u=function(e){return 45===e.charCodeAt(1)},p=function(e){return null!=e&&"boolean"!=typeof e},m=l(n).default((function(e){return u(e)?e:e.replace(c,"-$&").toLowerCase()})),g=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(d,(function(e,t,a){return b={name:t,styles:a,next:b},t}))}return 1===r.default[e]||u(e)||"number"!=typeof t||0===t?t:t+"px"};function x(e,t,a){if(null==a)return"";if(void 0!==a.__emotion_styles)return a;switch(typeof a){case"boolean":return"";case"object":if(1===a.anim)return b={name:a.name,styles:a.styles,next:b},a.name;if(void 0!==a.styles){var i=a.next;if(void 0!==i)for(;void 0!==i;)b={name:i.name,styles:i.styles,next:b},i=i.next;return a.styles+";"}return function(e,t,a){var i="";if(Array.isArray(a))for(var s=0;s<a.length;s++)i+=x(e,t,a[s])+";";else for(var n in a){var l=a[n];if("object"!=typeof l)null!=t&&void 0!==t[l]?i+=n+"{"+t[l]+"}":p(l)&&(i+=m(n)+":"+g(n,l)+";");else if(!Array.isArray(l)||"string"!=typeof l[0]||null!=t&&void 0!==t[l[0]]){var o=x(e,t,l);switch(n){case"animation":case"animationName":i+=m(n)+":"+o+";";break;default:i+=n+"{"+o+"}"}}else for(var r=0;r<l.length;r++)p(l[r])&&(i+=m(n)+":"+g(n,l[r])+";")}return i}(e,t,a);case"function":if(void 0!==e){var s=b,n=a(e);return b=s,x(e,t,n)}}if(null==t)return a;var l=t[a];return void 0!==l?l:a}var b,f=/label:\s*([^\s;\n{]+)\s*(;|$)/g;t.serializeStyles=function(e,t,a){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var i=!0,s="";b=void 0;var n=e[0];null==n||void 0===n.raw?(i=!1,s+=x(a,t,n)):s+=n[0];for(var l=1;l<e.length;l++)s+=x(a,t,e[l]),i&&(s+=n[l]);f.lastIndex=0;for(var r,c="";null!==(r=f.exec(s));)c+="-"+r[1];return{name:o.default(s)+c,styles:s,next:b}}},function(e,t,a){"use strict";e.exports=a(152)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t,a=0,i=0,s=e.length;s>=4;++i,s-=4)t=1540483477*(65535&(t=255&e.charCodeAt(i)|(255&e.charCodeAt(++i))<<8|(255&e.charCodeAt(++i))<<16|(255&e.charCodeAt(++i))<<24))+(59797*(t>>>16)<<16),a=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&a)+(59797*(a>>>16)<<16);switch(s){case 3:a^=(255&e.charCodeAt(i+2))<<16;case 2:a^=(255&e.charCodeAt(i+1))<<8;case 1:a=1540483477*(65535&(a^=255&e.charCodeAt(i)))+(59797*(a>>>16)<<16)}return(((a=1540483477*(65535&(a^=a>>>13))+(59797*(a>>>16)<<16))^a>>>15)>>>0).toString(36)}},function(e,t,a){"use strict";e.exports=a(154)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},function(e,t,a){"use strict";e.exports=a(156)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=Object.create(null);return function(a){return void 0===t[a]&&(t[a]=e(a)),t[a]}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="undefined"!=typeof document,s=function(e,t,a){var s=e.key+"-"+t.name;(!1===a||!1===i&&void 0!==e.compat)&&void 0===e.registered[s]&&(e.registered[s]=t.styles)};t.getRegisteredStyles=function(e,t,a){var i="";return a.split(" ").forEach((function(a){void 0!==e[a]?t.push(e[a]+";"):i+=a+" "})),i},t.insertStyles=function(e,t,a){s(e,t,a);var n=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var l="",o=t;do{var r=e.insert(t===o?"."+n:"",o,e.sheet,!0);i||void 0===r||(l+=r),o=o.next}while(void 0!==o);if(!i&&0!==l.length)return l}},t.registerStyles=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(42),s=a(33),n=i.__importDefault(a(159));t.default=function(e,t){var a=s.useState(t),i=a[0],l=a[1];return n.default((function(){var t=e.subscribe(l);return function(){return t.unsubscribe()}}),[e]),i}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(33),s="undefined"!=typeof window?i.useLayoutEffect:i.useEffect;t.default=s},function(e,t,a){e.exports=a.p+"baad30acfe492601d08a0e839c9bb3f5.svg"},function(e,t,a){var i,s=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",i={};function s(e,t){if(!i[e]){i[e]={};for(var a=0;a<e.length;a++)i[e][e.charAt(a)]=a}return i[e][t]}var n={compressToBase64:function(e){if(null==e)return"";var a=n._compress(e,6,(function(e){return t.charAt(e)}));switch(a.length%4){default:case 0:return a;case 1:return a+"===";case 2:return a+"==";case 3:return a+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:n._decompress(e.length,32,(function(a){return s(t,e.charAt(a))}))},compressToUTF16:function(t){return null==t?"":n._compress(t,15,(function(t){return e(t+32)}))+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:n._decompress(e.length,16384,(function(t){return e.charCodeAt(t)-32}))},compressToUint8Array:function(e){for(var t=n.compress(e),a=new Uint8Array(2*t.length),i=0,s=t.length;i<s;i++){var l=t.charCodeAt(i);a[2*i]=l>>>8,a[2*i+1]=l%256}return a},decompressFromUint8Array:function(t){if(null==t)return n.decompress(t);for(var a=new Array(t.length/2),i=0,s=a.length;i<s;i++)a[i]=256*t[2*i]+t[2*i+1];var l=[];return a.forEach((function(t){l.push(e(t))})),n.decompress(l.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":n._compress(e,6,(function(e){return a.charAt(e)}))},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),n._decompress(e.length,32,(function(t){return s(a,e.charAt(t))})))},compress:function(t){return n._compress(t,16,(function(t){return e(t)}))},_compress:function(e,t,a){if(null==e)return"";var i,s,n,l={},o={},r="",c="",d="",u=2,p=3,m=2,g=[],x=0,b=0;for(n=0;n<e.length;n+=1)if(r=e.charAt(n),Object.prototype.hasOwnProperty.call(l,r)||(l[r]=p++,o[r]=!0),c=d+r,Object.prototype.hasOwnProperty.call(l,c))d=c;else{if(Object.prototype.hasOwnProperty.call(o,d)){if(d.charCodeAt(0)<256){for(i=0;i<m;i++)x<<=1,b==t-1?(b=0,g.push(a(x)),x=0):b++;for(s=d.charCodeAt(0),i=0;i<8;i++)x=x<<1|1&s,b==t-1?(b=0,g.push(a(x)),x=0):b++,s>>=1}else{for(s=1,i=0;i<m;i++)x=x<<1|s,b==t-1?(b=0,g.push(a(x)),x=0):b++,s=0;for(s=d.charCodeAt(0),i=0;i<16;i++)x=x<<1|1&s,b==t-1?(b=0,g.push(a(x)),x=0):b++,s>>=1}0==--u&&(u=Math.pow(2,m),m++),delete o[d]}else for(s=l[d],i=0;i<m;i++)x=x<<1|1&s,b==t-1?(b=0,g.push(a(x)),x=0):b++,s>>=1;0==--u&&(u=Math.pow(2,m),m++),l[c]=p++,d=String(r)}if(""!==d){if(Object.prototype.hasOwnProperty.call(o,d)){if(d.charCodeAt(0)<256){for(i=0;i<m;i++)x<<=1,b==t-1?(b=0,g.push(a(x)),x=0):b++;for(s=d.charCodeAt(0),i=0;i<8;i++)x=x<<1|1&s,b==t-1?(b=0,g.push(a(x)),x=0):b++,s>>=1}else{for(s=1,i=0;i<m;i++)x=x<<1|s,b==t-1?(b=0,g.push(a(x)),x=0):b++,s=0;for(s=d.charCodeAt(0),i=0;i<16;i++)x=x<<1|1&s,b==t-1?(b=0,g.push(a(x)),x=0):b++,s>>=1}0==--u&&(u=Math.pow(2,m),m++),delete o[d]}else for(s=l[d],i=0;i<m;i++)x=x<<1|1&s,b==t-1?(b=0,g.push(a(x)),x=0):b++,s>>=1;0==--u&&(u=Math.pow(2,m),m++)}for(s=2,i=0;i<m;i++)x=x<<1|1&s,b==t-1?(b=0,g.push(a(x)),x=0):b++,s>>=1;for(;;){if(x<<=1,b==t-1){g.push(a(x));break}b++}return g.join("")},decompress:function(e){return null==e?"":""==e?null:n._decompress(e.length,32768,(function(t){return e.charCodeAt(t)}))},_decompress:function(t,a,i){var s,n,l,o,r,c,d,u=[],p=4,m=4,g=3,x="",b=[],f={val:i(0),position:a,index:1};for(s=0;s<3;s+=1)u[s]=s;for(l=0,r=Math.pow(2,2),c=1;c!=r;)o=f.val&f.position,f.position>>=1,0==f.position&&(f.position=a,f.val=i(f.index++)),l|=(o>0?1:0)*c,c<<=1;switch(l){case 0:for(l=0,r=Math.pow(2,8),c=1;c!=r;)o=f.val&f.position,f.position>>=1,0==f.position&&(f.position=a,f.val=i(f.index++)),l|=(o>0?1:0)*c,c<<=1;d=e(l);break;case 1:for(l=0,r=Math.pow(2,16),c=1;c!=r;)o=f.val&f.position,f.position>>=1,0==f.position&&(f.position=a,f.val=i(f.index++)),l|=(o>0?1:0)*c,c<<=1;d=e(l);break;case 2:return""}for(u[3]=d,n=d,b.push(d);;){if(f.index>t)return"";for(l=0,r=Math.pow(2,g),c=1;c!=r;)o=f.val&f.position,f.position>>=1,0==f.position&&(f.position=a,f.val=i(f.index++)),l|=(o>0?1:0)*c,c<<=1;switch(d=l){case 0:for(l=0,r=Math.pow(2,8),c=1;c!=r;)o=f.val&f.position,f.position>>=1,0==f.position&&(f.position=a,f.val=i(f.index++)),l|=(o>0?1:0)*c,c<<=1;u[m++]=e(l),d=m-1,p--;break;case 1:for(l=0,r=Math.pow(2,16),c=1;c!=r;)o=f.val&f.position,f.position>>=1,0==f.position&&(f.position=a,f.val=i(f.index++)),l|=(o>0?1:0)*c,c<<=1;u[m++]=e(l),d=m-1,p--;break;case 2:return b.join("")}if(0==p&&(p=Math.pow(2,g),g++),u[d])x=u[d];else{if(d!==m)return null;x=n+n.charAt(0)}b.push(x),u[m++]=n+x.charAt(0),n=x,0==--p&&(p=Math.pow(2,g),g++)}}};return n}();void 0===(i=function(){return s}.call(t,a,t,e))||(e.exports=i)},function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(163);case"v8light":return a(165)}},function(e,t,a){var i=a(11),s=a(164);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);i(s,{insert:"head",singleton:!1}),e.exports=s.locals||{}},function(e,t,a){(t=a(12)(!1)).push([e.i,".codeBoxPanel{border-top:1px solid #343741}.codeBoxCodeBlock{word-break:break-all}",""]),e.exports=t},function(e,t,a){var i=a(11),s=a(166);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);i(s,{insert:"head",singleton:!1}),e.exports=s.locals||{}},function(e,t,a){(t=a(12)(!1)).push([e.i,".codeBoxPanel{border-top:1px solid #d3dae6}.codeBoxCodeBlock{word-break:break-all}",""]),e.exports=t},function(e,t,a){var i=a(11),s=a(168);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);i(s,{insert:"head",singleton:!1}),e.exports=s.locals||{}},function(e,t,a){(t=a(12)(!1)).push([e.i,".serverlessSearchSelectClientPanelSelectedBorder{border:1px solid #36a2ef}.serverlessSearchSelectClientPanelBorder{border:1px solid #343741}",""]),e.exports=t},function(e,t,a){var i=a(11),s=a(170);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);i(s,{insert:"head",singleton:!1}),e.exports=s.locals||{}},function(e,t,a){(t=a(12)(!1)).push([e.i,".serverlessSearchSelectClientPanelSelectedBorder{border:1px solid #07c}.serverlessSearchSelectClientPanelBorder{border:1px solid #d3dae6}",""]),e.exports=t},function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(172);case"v8light":return a(174)}},function(e,t,a){var i=a(11),s=a(173);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);i(s,{insert:"head",singleton:!1}),e.exports=s.locals||{}},function(e,t,a){(t=a(12)(!1)).push([e.i,".kbnFieldButton{align-items:flex-start;border-radius:6px;display:flex;font-size:14px;font-size:1rem;line-height:1.71429rem;margin-bottom:4px;padding:0 8px;transition:box-shadow .15s cubic-bezier(.694,.0482,.335,1),background-color .15s cubic-bezier(.694,.0482,.335,1)}.kbnFieldButton-isActive,.kbnFieldButton:focus-within{outline:2px solid currentColor}.kbnFieldButton-isActive:focus-visible,.kbnFieldButton:focus-within:focus-visible{outline-style:auto}.kbnFieldButton-isActive:not(:focus-visible),.kbnFieldButton:focus-within:not(:focus-visible){outline:none}.kbnFieldButton__button{align-items:flex-start;display:flex;flex-grow:1;line-height:normal;padding:8px 0;text-align:left}.kbnFieldButton__fieldIcon{flex-shrink:0;line-height:0}.kbnFieldButton__name{flex-grow:1;padding:0 8px}.kbnFieldButton__infoIcon{align-items:center;display:flex;flex-shrink:0;justify-content:center;line-height:0;min-height:16px}.kbnFieldButton__fieldAction{margin-left:8px}.kbnFieldButton__dragHandle{margin-right:8px}.kbnFieldButton__dragHandle,.kbnFieldButton__fieldAction{line-height:32px}.kbnFieldButton--xs{font-size:12px}.kbnFieldButton--xs .kbnFieldButton__button{padding:4px 0}.kbnFieldButton--xs .kbnFieldButton__fieldAction{margin-left:4px}.kbnFieldButton--xs .kbnFieldButton__dragHandle,.kbnFieldButton--xs .kbnFieldButton__fieldAction{line-height:24px}.kbnFieldButton--flushBoth{padding-left:0;padding-right:0}",""]),e.exports=t},function(e,t,a){var i=a(11),s=a(175);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);i(s,{insert:"head",singleton:!1}),e.exports=s.locals||{}},function(e,t,a){(t=a(12)(!1)).push([e.i,".kbnFieldButton{align-items:flex-start;border-radius:6px;display:flex;font-size:14px;font-size:1rem;line-height:1.71429rem;margin-bottom:4px;padding:0 8px;transition:box-shadow .15s cubic-bezier(.694,.0482,.335,1),background-color .15s cubic-bezier(.694,.0482,.335,1)}.kbnFieldButton-isActive,.kbnFieldButton:focus-within{outline:2px solid currentColor}.kbnFieldButton-isActive:focus-visible,.kbnFieldButton:focus-within:focus-visible{outline-style:auto}.kbnFieldButton-isActive:not(:focus-visible),.kbnFieldButton:focus-within:not(:focus-visible){outline:none}.kbnFieldButton__button{align-items:flex-start;display:flex;flex-grow:1;line-height:normal;padding:8px 0;text-align:left}.kbnFieldButton__fieldIcon{flex-shrink:0;line-height:0}.kbnFieldButton__name{flex-grow:1;padding:0 8px}.kbnFieldButton__infoIcon{align-items:center;display:flex;flex-shrink:0;justify-content:center;line-height:0;min-height:16px}.kbnFieldButton__fieldAction{margin-left:8px}.kbnFieldButton__dragHandle{margin-right:8px}.kbnFieldButton__dragHandle,.kbnFieldButton__fieldAction{line-height:32px}.kbnFieldButton--xs{font-size:12px}.kbnFieldButton--xs .kbnFieldButton__button{padding:4px 0}.kbnFieldButton--xs .kbnFieldButton__fieldAction{margin-left:4px}.kbnFieldButton--xs .kbnFieldButton__dragHandle,.kbnFieldButton--xs .kbnFieldButton__fieldAction{line-height:24px}.kbnFieldButton--flushBoth{padding-left:0;padding-right:0}",""]),e.exports=t},function(e,t,a){"use strict";function i(e){return function(t){var a=t.dispatch,i=t.getState;return function(t){return function(s){return"function"==typeof s?s(a,i,e):t(s)}}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i();s.withExtraArgument=i;var n=s;t.default=n},function(e,t,a){"use strict";a.r(t),a.d(t,"mountManagementSection",(function(){return tu}));var i=a(5),s=a(6),n=a(8),l=a(1),o=a.n(l);let r;!function(e){e.home="home",e.indices="indices",e.indexDetailsOverview="indexDetailsOverview",e.indexDetailsMappings="indexDetailsMappings",e.indexDetailsSettings="indexDetailsSettings",e.indexDetailsStats="indexDetailsStats",e.dataStreams="dataStreams",e.templates="templates",e.templateCreate="templateCreate",e.templateEdit="templateEdit",e.templateClone="templateClone",e.componentTemplates="componentTemplates",e.componentTemplateCreate="componentTemplateCreate",e.componentTemplateEdit="componentTemplateEdit",e.componentTemplateClone="componentTemplateClone",e.enrichPolicies="enrichPolicies",e.enrichPoliciesCreate="enrichPoliciesCreate"}(r||(r={}));const c=new class breadcrumbs_BreadcrumbService{constructor(){o()(this,"breadcrumbs",{home:[]}),o()(this,"setBreadcrumbsHandler",void 0)}setup(e){this.setBreadcrumbsHandler=e,this.breadcrumbs.home=[{text:i.i18n.translate("xpack.idxMgmt.breadcrumb.homeLabel",{defaultMessage:"Index Management"}),href:"/"}],this.breadcrumbs.indices=[...this.breadcrumbs.home,{text:i.i18n.translate("xpack.idxMgmt.breadcrumb.indicesLabel",{defaultMessage:"Indices"}),href:"/indices"}];const t={text:i.i18n.translate("xpack.idxMgmt.breadcrumb.indexDetailsLabel",{defaultMessage:"Index details"})};this.breadcrumbs.indexDetailsOverview=[...this.breadcrumbs.indices,t,{text:i.i18n.translate("xpack.idxMgmt.breadcrumb.indexDetailsOverviewLabel",{defaultMessage:"Overview"})}],this.breadcrumbs.indexDetailsMappings=[...this.breadcrumbs.indices,t,{text:i.i18n.translate("xpack.idxMgmt.breadcrumb.indexDetailsMappingsLabel",{defaultMessage:"Mappings"})}],this.breadcrumbs.indexDetailsSettings=[...this.breadcrumbs.indices,t,{text:i.i18n.translate("xpack.idxMgmt.breadcrumb.indexDetailsSettingsLabel",{defaultMessage:"Settings"})}],this.breadcrumbs.indexDetailsStats=[...this.breadcrumbs.indices,t,{text:i.i18n.translate("xpack.idxMgmt.breadcrumb.indexDetailsStatsLabel",{defaultMessage:"Stats"})}],this.breadcrumbs.templates=[...this.breadcrumbs.home,{text:i.i18n.translate("xpack.idxMgmt.breadcrumb.templatesLabel",{defaultMessage:"Templates"}),href:"/templates"}],this.breadcrumbs.templateCreate=[...this.breadcrumbs.templates,{text:i.i18n.translate("xpack.idxMgmt.breadcrumb.createTemplateLabel",{defaultMessage:"Create template"})}],this.breadcrumbs.templateEdit=[...this.breadcrumbs.templates,{text:i.i18n.translate("xpack.idxMgmt.breadcrumb.editTemplateLabel",{defaultMessage:"Edit template"})}],this.breadcrumbs.templateClone=[...this.breadcrumbs.templates,{text:i.i18n.translate("xpack.idxMgmt.breadcrumb.cloneTemplateLabel",{defaultMessage:"Clone template"})}],this.breadcrumbs.dataStreams=[...this.breadcrumbs.home,{text:i.i18n.translate("xpack.idxMgmt.breadcrumb.dataStreamsLabel",{defaultMessage:"Data streams"}),href:"/data_streams"}],this.breadcrumbs.componentTemplates=[...this.breadcrumbs.home,{text:i.i18n.translate("xpack.idxMgmt.breadcrumb.componentTemplatesLabel",{defaultMessage:"Component templates"}),href:"/component_templates"}],this.breadcrumbs.componentTemplateCreate=[...this.breadcrumbs.componentTemplates,{text:i.i18n.translate("xpack.idxMgmt.breadcrumb.createComponentTemplateLabel",{defaultMessage:"Create component templates"})}],this.breadcrumbs.componentTemplateEdit=[...this.breadcrumbs.componentTemplates,{text:i.i18n.translate("xpack.idxMgmt.componentTemplate.breadcrumb.editComponentTemplateLabel",{defaultMessage:"Edit component template"})}],this.breadcrumbs.componentTemplateClone=[...this.breadcrumbs.componentTemplates,{text:i.i18n.translate("xpack.idxMgmt.componentTemplate.breadcrumb.cloneComponentTemplateLabel",{defaultMessage:"Clone component template"})}],this.breadcrumbs.enrichPolicies=[...this.breadcrumbs.home,{text:i.i18n.translate("xpack.idxMgmt.breadcrumb.enrichPolicyLabel",{defaultMessage:"Enrich policies"}),href:"/enrich_policies"}],this.breadcrumbs.enrichPoliciesCreate=[...this.breadcrumbs.enrichPolicies,{text:i.i18n.translate("xpack.idxMgmt.breadcrumb.enrichPolicyCreateLabel",{defaultMessage:"Create enrich policy"}),href:"/enrich_policies/create"}]}setBreadcrumbs(e){if(!this.setBreadcrumbsHandler)throw new Error("BreadcrumbService#setup() must be called first!");const t=this.breadcrumbs[e]?[...this.breadcrumbs[e]]:[...this.breadcrumbs.home],a=t.pop();t.push({...a,href:void 0}),this.setBreadcrumbsHandler(t)}},d="index_default",u="standard";var p=a(33),m=a.n(p),g=a(34);const x={"indexOptions.docs":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.indexOptions.docNumberTitle",{defaultMessage:"Doc number"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.indexOptions.docNumberDescription",{defaultMessage:"Index the doc number only. Used to verify the existence of a term in a field."})},"indexOptions.freqs":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.indexOptions.termFrequencyTitle",{defaultMessage:"Term frequencies"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.indexOptions.termFrequencyDescription",{defaultMessage:"Index the doc number and term frequencies. Repeated terms score higher than single terms."})},"indexOptions.positions":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.indexOptions.positionsTitle",{defaultMessage:"Positions"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.indexOptions.positionsDescription",{defaultMessage:"Index the doc number, term frequencies, positions, and start and end character offsets. Offsets map the term back to the original string."})},"indexOptions.offsets":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.indexOptions.offsetsTitle",{defaultMessage:"Offsets"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.indexOptions.offsetsDescription",{defaultMessage:"Doc number, term frequencies, positions, and start and end character offsets (which map the term back to the original string) are indexed."})},"analyzer.indexDefault":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.indexDefaultTitle",{defaultMessage:"Index default"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.indexDefaultDescription",{defaultMessage:"Use the analyzer defined for the index."})},"analyzer.standard":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.standardTitle",{defaultMessage:"Standard"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.standardDescription",{defaultMessage:"The standard analyzer divides text into terms on word boundaries, as defined by the Unicode Text Segmentation algorithm."})},"analyzer.simple":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.simpleTitle",{defaultMessage:"Simple"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.simpleDescription",{defaultMessage:"The simple analyzer divides text into terms whenever it encounters a character which is not a letter. "})},"analyzer.whitespace":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.whitespaceTitle",{defaultMessage:"Whitespace"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.whitespaceDescription",{defaultMessage:"The whitespace analyzer divides text into terms whenever it encounters any whitespace character."})},"analyzer.stop":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.stopTitle",{defaultMessage:"Stop"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.stopDescription",{defaultMessage:"The stop analyzer is like the simple analyzer, but also supports removal of stop words."})},"analyzer.keyword":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.keywordTitle",{defaultMessage:"Keyword"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.keywordDescription",{defaultMessage:"The keyword analyzer is a “noop” analyzer that accepts whatever text it is given and outputs the exact same text as a single term."})},"analyzer.pattern":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.patternTitle",{defaultMessage:"Pattern"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.patternDescription",{defaultMessage:"The pattern analyzer uses a regular expression to split the text into terms. It supports lower-casing and stop words."})},"analyzer.fingerprint":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.fingerprintTitle",{defaultMessage:"Fingerprint"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.fingerprintDescription",{defaultMessage:"The fingerprint analyzer is a specialist analyzer which creates a fingerprint which can be used for duplicate detection."})},"analyzer.language":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.languageTitle",{defaultMessage:"Language"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.languageDescription",{defaultMessage:"Elasticsearch provides many language-specific analyzers like english or french."})},"similarity.bm25":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.similarity.bm25Title",{defaultMessage:"Okapi BM25"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.similarity.bm25Description",{defaultMessage:"The default algorithm used in Elasticsearch and Lucene."})},"similarity.boolean":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.similarity.booleanTitle",{defaultMessage:"Boolean"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.similarity.booleanDescription",{defaultMessage:"A boolean similarity to use when full text-ranking is not needed. The score is based on whether the query terms match."})},"termVector.no":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.noTitle",{defaultMessage:"No"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.noDescription",{defaultMessage:"No term vectors are stored."})},"termVector.yes":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.yesTitle",{defaultMessage:"Yes"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.yesDescription",{defaultMessage:"Just the terms in the field are stored."})},"termVector.withPositions":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.withPositionsTitle",{defaultMessage:"With positions"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.withPositionsDescription",{defaultMessage:"Terms and positions are stored."})},"termVector.withOffsets":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.withOffsetsTitle",{defaultMessage:"With offsets"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.withOffsetsDescription",{defaultMessage:"Terms and character offsets are stored."})},"termVector.withPositionsOffsets":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.withPositionsOffsetsTitle",{defaultMessage:"With positions and offsets"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.withPositionsOffsetsDescription",{defaultMessage:"Terms, positions, and character offsets are stored."})},"termVector.withPositionsPayloads":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.withPositionsPayloadsTitle",{defaultMessage:"With positions and payloads"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.withPositionsPayloadsDescription",{defaultMessage:"Terms, positions, and payloads are stored."})},"termVector.withPositionsOffsetsPayloads":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.withPositionsOffsetsPayloadsTitle",{defaultMessage:"With positions, offsets, and payloads"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.withPositionsOffsetsPayloadsDescription",{defaultMessage:"Terms, positions, offsets and payloads are stored."})},"orientation.counterclockwise":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.orientation.counterclockwiseTitle",{defaultMessage:"Counterclockwise"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.orientation.counterclockwiseDescription",{defaultMessage:"Defines outer polygon vertices in counterclockwise order and interior shape vertices in clockwise order. This is the Open Geospatial Consortium (OGC) and GeoJSON standard."})},"orientation.clockwise":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.orientation.clockwiseTitle",{defaultMessage:"Clockwise"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.orientation.clockwiseDescription",{defaultMessage:"Defines outer polygon vertices in clockwise order and interior shape vertices in counterclockwise order."})}},b={arabic:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.arabic",{defaultMessage:"Arabic"}),armenian:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.armenian",{defaultMessage:"Armenian"}),basque:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.basque",{defaultMessage:"Basque"}),bengali:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.bengali",{defaultMessage:"Bengali"}),brazilian:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.brazilian",{defaultMessage:"Brazilian"}),bulgarian:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.bulgarian",{defaultMessage:"Bulgarian"}),catalan:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.catalan",{defaultMessage:"Catalan"}),cjk:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.cjk",{defaultMessage:"Cjk"}),czech:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.czech",{defaultMessage:"Czech"}),danish:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.danish",{defaultMessage:"Danish"}),dutch:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.dutch",{defaultMessage:"Dutch"}),english:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.english",{defaultMessage:"English"}),finnish:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.finnish",{defaultMessage:"Finnish"}),french:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.french",{defaultMessage:"French"}),galician:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.galician",{defaultMessage:"Galician"}),german:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.german",{defaultMessage:"German"}),greek:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.greek",{defaultMessage:"Greek"}),hindi:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.hindi",{defaultMessage:"Hindi"}),hungarian:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.hungarian",{defaultMessage:"Hungarian"}),indonesian:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.indonesian",{defaultMessage:"Indonesian"}),irish:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.irish",{defaultMessage:"Irish"}),italian:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.italian",{defaultMessage:"Italian"}),latvian:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.latvian",{defaultMessage:"Latvian"}),lithuanian:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.lithuanian",{defaultMessage:"Lithuanian"}),norwegian:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.norwegian",{defaultMessage:"Norwegian"}),persian:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.persian",{defaultMessage:"Persian"}),portuguese:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.portuguese",{defaultMessage:"Portuguese"}),romanian:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.romanian",{defaultMessage:"Romanian"}),russian:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.russian",{defaultMessage:"Russian"}),sorani:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.sorani",{defaultMessage:"Sorani"}),spanish:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.spanish",{defaultMessage:"Spanish"}),swedish:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.swedish",{defaultMessage:"Swedish"}),thai:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.thai",{defaultMessage:"Thai"}),turkish:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.turkish",{defaultMessage:"Turkish"})};var f=a(35),j=a(32);const h={text:{value:"text",label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.textDescription",{defaultMessage:"Text"}),documentation:{main:"text.html"},description:()=>Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.textLongDescription",defaultMessage:"Text fields support full-text search by breaking strings into individual, searchable terms. To index structured content, such as an email address, use the {keyword}.",values:{keyword:Object(j.jsx)(g.EuiLink,{href:te.getTypeDocLink("keyword"),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.textLongDescription.keywordTypeLink",{defaultMessage:"keyword data type"}))}}))},match_only_text:{value:"match_only_text",label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.matchOnlyTextDescription",{defaultMessage:"Match only text"}),documentation:{main:"text.html#match-only-text-field-type"},description:()=>Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.matchOnlyTextLongDescription",defaultMessage:"A variant of {text} that trades scoring and efficiency of positional queries for space efficiency. This field effectively stores data the same way as a text field that only indexes documents (index_options: docs) and disables norms (norms: false). Term queries perform as fast if not faster as on text fields, however queries that need positions such as the match_phrase query perform slower as they need to look at the _source document to verify whether a phrase matches. All queries return constant scores that are equal to 1.0.",values:{text:Object(j.jsx)(g.EuiLink,{href:te.getTypeDocLink("text"),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.matchOnlyTextLongDescription.textTypeLink",{defaultMessage:"text"}))}}))},keyword:{value:"keyword",label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.keywordDescription",{defaultMessage:"Keyword"}),documentation:{main:"keyword.html"},description:()=>Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.keywordLongDescription",defaultMessage:"Keyword fields support searching for an exact value and are useful for filtering, sorting, and aggregations. To index full-text content, such as an email body, use the {textType}.",values:{textType:Object(j.jsx)(g.EuiLink,{href:te.getTypeDocLink("text"),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.keywordLongDescription.textTypeLink",{defaultMessage:"text data type"}))}}))},constant_keyword:{value:"constant_keyword",label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.constantKeywordDescription",{defaultMessage:"Constant keyword"}),documentation:{main:"keyword.html#constant-keyword-field-type"},description:()=>Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.constantKeywordLongDescription",defaultMessage:"Constant keyword fields are a special type of keyword fields for fields that contain the same keyword across all documents in the index. Supports the same queries and aggregations as {keyword} fields.",values:{keyword:Object(j.jsx)(g.EuiCode,null,"keyword")}}))},numeric:{value:"numeric",label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.numericDescription",{defaultMessage:"Numeric"}),documentation:{main:"number.html"},subTypes:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.numericSubtypeDescription",{defaultMessage:"Numeric type"}),types:["byte","double","float","half_float","integer","long","scaled_float","short"]}},byte:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.byteDescription",{defaultMessage:"Byte"}),value:"byte",description:()=>Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.byteLongDescription",defaultMessage:"Byte fields accept a signed 8-bit integer with a minimum value of {minValue} and a maximum value of {maxValue}.",values:{minValue:Object(j.jsx)(g.EuiCode,null,"-128"),maxValue:Object(j.jsx)(g.EuiCode,null,"127")}}))},double:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.doubleDescription",{defaultMessage:"Double"}),value:"double",description:()=>Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.doubleLongDescription",defaultMessage:"Double fields accept a double-precision 64-bit floating point number, restricted to finite values (IEEE 754)."}))},integer:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.integerDescription",{defaultMessage:"Integer"}),value:"integer",description:()=>Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.integerLongDescription",defaultMessage:"Integer fields accept a signed 32-bit integer with a minimum value of {minValue} and a maximum value of {maxValue}.",values:{minValue:Object(j.jsx)(g.EuiCode,null,"-2",Object(j.jsx)("sup",{className:"eui-alignTop"},"31")),maxValue:Object(j.jsx)(g.EuiCode,null,"2",Object(j.jsx)("sup",{className:"eui-alignTop"},"31"),"-1")}}))},long:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.longDescription",{defaultMessage:"Long"}),value:"long",description:()=>Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.longLongDescription",defaultMessage:"Long fields accept a signed 64-bit integer with a minimum value of {minValue} and a maximum value of {maxValue}.",values:{minValue:Object(j.jsx)(g.EuiCode,null,"-2",Object(j.jsx)("sup",{className:"eui-alignTop"},"63")),maxValue:Object(j.jsx)(g.EuiCode,null,"2",Object(j.jsx)("sup",{className:"eui-alignTop"},"63"),"-1")}}))},float:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.floatDescription",{defaultMessage:"Float"}),value:"float",description:()=>Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.floatLongDescription",defaultMessage:"Float fields accept a single-precision 32-bit floating point number, restricted to finite values (IEEE 754)."}))},half_float:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.halfFloatDescription",{defaultMessage:"Half float"}),value:"half_float",description:()=>Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.halfFloatLongDescription",defaultMessage:"Half-float fields accept a half-precision 16-bit floating point number, restricted to finite values (IEEE 754)."}))},scaled_float:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.scaledFloatDescription",{defaultMessage:"Scaled float"}),value:"scaled_float",description:()=>Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.scaledFloatLongDescription",defaultMessage:"Scaled-float fields accept a floating point number that is backed by a {longType} and scaled by a fixed {doubleType} scaling factor. Use this data type to store floating point data into an integer using a scaling factor. This saves disk space, but affects accuracy.",values:{longType:Object(j.jsx)(g.EuiCode,null,"long"),doubleType:Object(j.jsx)(g.EuiCode,null,"double")}}))},short:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.shortDescription",{defaultMessage:"Short"}),value:"short",description:()=>Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.shortLongDescription",defaultMessage:"Short fields accept a signed 16-bit integer with a minimum value of {minValue} and a maximum value of {maxValue}.",values:{minValue:Object(j.jsx)(g.EuiCode,null,"-32,768"),maxValue:Object(j.jsx)(g.EuiCode,null,"32,767")}}))},date:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.dateDescription",{defaultMessage:"Date"}),value:"date",documentation:{main:"date.html"},description:()=>Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.dateLongDescription",defaultMessage:'Date fields accept strings with formatted dates ("2015/01/01 12:10:30"), long numbers representing milliseconds since the epoch, and integers representing seconds since the epoch. Multiple date formats are allowed. Dates with timezones are converted to UTC.'}))},date_nanos:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.dateNanosDescription",{defaultMessage:"Date nanoseconds"}),value:"date_nanos",documentation:{main:"date_nanos.html"},description:()=>Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.dateNanosLongDescription",defaultMessage:"Date nanoseconds fields store dates in nanosecond resolution. Aggregations remain in millisecond resolution. To store dates in millisecond resolution, use the {date}.",values:{date:Object(j.jsx)(g.EuiLink,{href:te.getTypeDocLink("date"),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.dateNanosLongDescription.dateTypeLink",{defaultMessage:"date data type"}))}}))},binary:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.binaryDescription",{defaultMessage:"Binary"}),value:"binary",documentation:{main:"binary.html"},description:()=>Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.binaryLongDescription",defaultMessage:"Binary fields accept a binary value as a Base64-encoded string. By default, binary fields are not stored or searchable."}))},ip:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.ipDescription",{defaultMessage:"IP"}),value:"ip",documentation:{main:"ip.html"},description:()=>Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.ipLongDescription",defaultMessage:"IP fields accept IPv4 or IPv6 addresses. If you need to store IP ranges in a single field, use the {ipRange}.",values:{ipRange:Object(j.jsx)(g.EuiLink,{href:te.getTypeDocLink("range"),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.ipLongDescription.ipRangeTypeLink",{defaultMessage:"IP range data type"}))}}))},boolean:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.booleanDescription",{defaultMessage:"Boolean"}),value:"boolean",documentation:{main:"boolean.html"},description:()=>Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.booleanLongDescription",defaultMessage:"Boolean fields accept JSON {true} and {false} values, as well as strings which are interpreted as true or false.",values:{true:Object(j.jsx)(g.EuiCode,null,"true"),false:Object(j.jsx)(g.EuiCode,null,"false")}}))},range:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.rangeDescription",{defaultMessage:"Range"}),value:"range",documentation:{main:"range.html"},subTypes:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.rangeSubtypeDescription",{defaultMessage:"Range type"}),types:["date_range","double_range","float_range","integer_range","ip_range","long_range"]}},object:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.objectDescription",{defaultMessage:"Object"}),value:"object",documentation:{main:"object.html"},description:()=>Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.objectLongDescription",defaultMessage:"Object fields can contain children, which are queried as a flattened list. To query child objects independently, use the {nested}.",values:{nested:Object(j.jsx)(g.EuiLink,{href:te.getTypeDocLink("nested"),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.objectLongDescription.nestedTypeLink",{defaultMessage:"nested data type"}))}}))},nested:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.nestedDescription",{defaultMessage:"Nested"}),value:"nested",documentation:{main:"nested.html"},description:()=>Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.nestedLongDescription",defaultMessage:"Like {objects}, nested fields can contain children. The difference is that you can query their child objects independently.",values:{objects:Object(j.jsx)(g.EuiLink,{href:te.getTypeDocLink("object"),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.nestedLongDescription.objectTypeLink",{defaultMessage:"objects"}))}}))},rank_feature:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.rankFeatureDescription",{defaultMessage:"Rank feature"}),value:"rank_feature",documentation:{main:"rank-feature.html"},description:()=>Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.rankFeatureLongDescription",defaultMessage:"The rank feature field accepts a number that will boost documents in {rankFeatureQuery}.",values:{rankFeatureQuery:Object(j.jsx)(g.EuiLink,{href:te.getRankFeatureQueryLink(),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.rankFeatureLongDescription.queryLink",{defaultMessage:"rank_feature queries"}))}}))},rank_features:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.rankFeaturesDescription",{defaultMessage:"Rank features"}),value:"rank_features",documentation:{main:"rank-features.html"},description:()=>Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.rankFeaturesLongDescription",defaultMessage:"The rank features field accepts numeric vectors that will boost documents in {rankFeatureQuery}.",values:{rankFeatureQuery:Object(j.jsx)(g.EuiLink,{href:te.getRankFeatureQueryLink(),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.rankFeaturesLongDescription.queryLink",{defaultMessage:"rank_feature queries"}))}}))},dense_vector:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.denseVectorDescription",{defaultMessage:"Dense vector"}),value:"dense_vector",documentation:{main:"dense-vector.html"},description:()=>Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.denseVectorLongDescription",defaultMessage:"Dense vector fields store vectors of float values, useful for document scoring."}))},date_range:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.dateRangeDescription",{defaultMessage:"Date range"}),value:"date_range",description:()=>Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.dateRangeLongDescription",defaultMessage:"Date range fields accept an unsigned 64-bit integer representing milliseconds since the system epoch."}))},double_range:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.doubleRangeDescription",{defaultMessage:"Double range"}),value:"double_range",description:()=>Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.doubleRangeLongDescription",defaultMessage:"Double range fields accept a 64-bit double precision floating point number (IEEE 754 binary64)."}))},float_range:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.floatRangeDescription",{defaultMessage:"Float range"}),value:"float_range",description:()=>Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.floatRangeLongDescription",defaultMessage:"Float range fields accept a 32-bit single precision floating point number (IEEE 754 binary32)."}))},integer_range:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.integerRangeDescription",{defaultMessage:"Integer range"}),value:"integer_range",description:()=>Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.integerRangeLongDescription",defaultMessage:"Integer range fields accept a signed 32-bit integer."}))},long_range:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.longRangeDescription",{defaultMessage:"Long range"}),value:"long_range",description:()=>Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.longRangeLongDescription",defaultMessage:"Long range fields accept a signed 64-bit integer."}))},ip_range:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.ipRangeDescription",{defaultMessage:"IP range"}),value:"ip_range",description:()=>Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.ipRangeLongDescription",defaultMessage:"IP range fields accept an IPv4 or IPV6 address."}))},geo_point:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.geoPointDescription",{defaultMessage:"Geo-point"}),value:"geo_point",documentation:{main:"geo-point.html"},description:()=>Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.geoPointLongDescription",defaultMessage:"Geo-point fields accept latitude and longitude pairs. Use this data type to search within a bounding box, aggregate documents geographically, and sort documents by distance."}))},geo_shape:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.geoShapeDescription",{defaultMessage:"Geo-shape"}),value:"geo_shape",documentation:{main:"geo-shape.html",learnMore:"/geo-shape.html#geoshape-indexing-approach"},description:()=>Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.geoShapeType.fieldDescription",defaultMessage:"Geo-shapes are indexed by decomposing the shape into a triangular mesh and indexing each triangle as a 7-dimensional point in a BKD tree. {docsLink}",values:{docsLink:Object(j.jsx)(g.EuiLink,{href:te.getTypeDocLink("geo_shape","learnMore"),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.geoShapeType.fieldDescription.learnMoreLink",{defaultMessage:"Learn more."}))}}))},completion:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.completionSuggesterDescription",{defaultMessage:"Completion suggester"}),value:"completion",documentation:{main:"search-suggesters.html#completion-suggester"},description:()=>Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.completionSuggesterLongDescription",defaultMessage:"Completion suggester fields support autocomplete, but require special data structures that occupy memory and build slowly."}))},token_count:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.tokenCountDescription",{defaultMessage:"Token count"}),value:"token_count",documentation:{main:"token-count.html"},description:()=>Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.tokenCountLongDescription",defaultMessage:"Token count fields accept string values.  These values are analyzed, and the number of tokens in the string are indexed."}))},percolator:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.percolatorDescription",{defaultMessage:"Percolator"}),value:"percolator",documentation:{main:"percolator.html"},description:()=>Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.percolatorLongDescription",defaultMessage:"The percolator data type enables {percolator}.",values:{percolator:Object(j.jsx)(g.EuiLink,{href:te.getPercolatorQueryLink(),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.percolatorLongDescription.learnMoreLink",{defaultMessage:"percolator queries"}))}}))},histogram:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.histogramDescription",{defaultMessage:"Histogram"}),value:"histogram",documentation:{main:"histogram.html"},description:()=>Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.histogramLongDescription",defaultMessage:"Histogram fields store pre-aggregated numerical data representing a histogram, and are intended for use with aggregations."}))},join:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.joinDescription",{defaultMessage:"Join"}),value:"join",documentation:{main:"parent-join.html"},description:()=>Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.joinLongDescription",defaultMessage:"Join fields define parent-child relationships among documents of the same index."}))},alias:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.aliasDescription",{defaultMessage:"Alias"}),value:"alias",documentation:{main:"alias.html"},description:()=>Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.aliasLongDescription",defaultMessage:"Alias fields accept an alternative name for a field, which you can use in search requests."}))},search_as_you_type:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.searchAsYouTypeDescription",{defaultMessage:"Search-as-you-type"}),value:"search_as_you_type",documentation:{main:"search-as-you-type.html"},description:()=>Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.searchAsYouTypeLongDescription",defaultMessage:"Search-as-you-type fields break strings into subfields for search suggestions, and will match terms at any position in the string."}))},flattened:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.flattenedDescription",{defaultMessage:"Flattened"}),value:"flattened",documentation:{main:"flattened.html"},description:()=>Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.flattenedLongDescription",defaultMessage:"Flattened fields map an object as a single field and are useful for indexing objects with a large or unknown number of unique keys. Flattened fields support basic queries only."}))},shape:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.shapeDescription",{defaultMessage:"Shape"}),value:"shape",documentation:{main:"shape.html"},description:()=>Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.shapeLongDescription",defaultMessage:"Shape fields enable searching of complex shapes, such as rectangles and polygons."}))},sparse_vector:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.sparseVectorDescription",{defaultMessage:"Sparse vector"}),value:"sparse_vector",documentation:{main:"sparse-vector.html"},description:()=>Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.sparseVectorLongDescription",defaultMessage:"Sparse vector fields index features and weights, useful for document scoring."}))},point:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.pointDescription",{defaultMessage:"Point"}),value:"point",documentation:{main:"point.html"},description:()=>Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.pointLongDescription",defaultMessage:"Point fields enable searching of {code} pairs that fall in a 2-dimensional planar coordinate system.",values:{code:Object(j.jsx)(g.EuiCode,null,"x,y")}}))},version:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.versionDescription",{defaultMessage:"Version"}),value:"version",documentation:{main:"version.html"},description:()=>Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.versionLongDescription",defaultMessage:"Version fields are helpful to handle software version values. This field isn’t optimized for heavy wildcard, regex, or fuzzy searches. For these query types, use the {keywordType}.",values:{keywordType:Object(j.jsx)(g.EuiLink,{href:te.getTypeDocLink("keyword"),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.versionLongDescription.keywordTypeLink",{defaultMessage:"keyword data type"}))}}))},wildcard:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.wildcardDescription",{defaultMessage:"Wildcard"}),value:"wildcard",documentation:{main:"keyword.html#wildcard-field-type"},description:()=>Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.wildcardLongDescription",defaultMessage:"Wildcard fields store values optimized for wildcard grep-like queries."}))},other:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.otherDescription",{defaultMessage:"Other"}),value:"other",description:()=>Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.otherLongDescription",defaultMessage:"Specify type parameters in JSON."}))}},M=["alias","binary","boolean","completion","constant_keyword","date","date_nanos","dense_vector","flattened","geo_point","geo_shape","ip","join","keyword","nested","numeric","match_only_text","object","percolator","range","rank_feature","rank_features","search_as_you_type","shape","sparse_vector","text","token_count","histogram","wildcard","point","version","other"].reduce(((e,t)=>({...e,[t]:h[t]})),{}),O=Object.entries(M).reduce(((e,[t,a])=>(({}.hasOwnProperty.call(a,"subTypes")&&a.subTypes.types.forEach((a=>{e[a]=t})),e))),{}),y=[...Object.keys(M),...Object.keys(O)],v=["join"],E=[...v,"object","nested","alias"],k=Object.entries(M).map((([e,{label:t}])=>({value:e,label:t}))),T=(e,t)=>({inputDisplay:e,dropdownDisplay:Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)("strong",null,e),Object(j.jsx)(g.EuiText,{size:"s",color:"subdued"},Object(j.jsx)("p",null,t)))}),F=e=>T(x[e].title,x[e].description),S={index_options:[{value:"docs",...F("indexOptions.docs")},{value:"freqs",...F("indexOptions.freqs")},{value:"positions",...F("indexOptions.positions")},{value:"offsets",...F("indexOptions.offsets")}],index_options_flattened:[{value:"docs",...F("indexOptions.docs")},{value:"freqs",...F("indexOptions.freqs")}],index_options_keyword:[{value:"docs",...F("indexOptions.docs")},{value:"freqs",...F("indexOptions.freqs")}],analyzer:[{value:d,...F("analyzer.indexDefault")},{value:u,...F("analyzer.standard")},{value:"simple",...F("analyzer.simple")},{value:"whitespace",...F("analyzer.whitespace")},{value:"stop",...F("analyzer.stop")},{value:"keyword",...F("analyzer.keyword")},{value:"pattern",...F("analyzer.pattern")},{value:"fingerprint",...F("analyzer.fingerprint")},{value:"language",...F("analyzer.language")}],languageAnalyzer:Object.entries(b).map((([e,t])=>({value:e,text:t}))),similarity:[{value:"BM25",...F("similarity.bm25")},{value:"boolean",...F("similarity.boolean")}],term_vector:[{value:"no",...F("termVector.no")},{value:"yes",...F("termVector.yes")},{value:"with_positions",...F("termVector.withPositions")},{value:"with_offsets",...F("termVector.withOffsets")},{value:"with_positions_offsets",...F("termVector.withPositionsOffsets")},{value:"with_positions_payloads",...F("termVector.withPositionsPayloads")},{value:"with_positions_offsets_payloads",...F("termVector.withPositionsOffsetsPayloads")}],orientation:[{value:"ccw",...F("orientation.counterclockwise")},{value:"cw",...F("orientation.clockwise")}]},_=[{label:"epoch_millis"},{label:"epoch_second"},{label:"date_optional_time",strict:!0},{label:"basic_date"},{label:"basic_date_time"},{label:"basic_date_time_no_millis"},{label:"basic_ordinal_date"},{label:"basic_ordinal_date_time"},{label:"basic_ordinal_date_time_no_millis"},{label:"basic_time"},{label:"basic_time_no_millis"},{label:"basic_t_time"},{label:"basic_t_time_no_millis"},{label:"basic_week_date",strict:!0},{label:"basic_week_date_time",strict:!0},{label:"basic_week_date_time_no_millis",strict:!0},{label:"date",strict:!0},{label:"date_hour",strict:!0},{label:"date_hour_minute",strict:!0},{label:"date_hour_minute_second",strict:!0},{label:"date_hour_minute_second_fraction",strict:!0},{label:"date_hour_minute_second_millis",strict:!0},{label:"date_time",strict:!0},{label:"date_time_no_millis",strict:!0},{label:"hour",strict:!0},{label:"hour_minute ",strict:!0},{label:"hour_minute_second",strict:!0},{label:"hour_minute_second_fraction",strict:!0},{label:"hour_minute_second_millis",strict:!0},{label:"ordinal_date",strict:!0},{label:"ordinal_date_time",strict:!0},{label:"ordinal_date_time_no_millis",strict:!0},{label:"time",strict:!0},{label:"time_no_millis",strict:!0},{label:"t_time",strict:!0},{label:"t_time_no_millis",strict:!0},{label:"week_date",strict:!0},{label:"week_date_time",strict:!0},{label:"week_date_time_no_millis",strict:!0},{label:"weekyear",strict:!0},{label:"weekyear_week",strict:!0},{label:"weekyear_week_day",strict:!0},{label:"year",strict:!0},{label:"year_month",strict:!0},{label:"year_month_day",strict:!0}],C=_.filter((e=>e.strict)).map((({label:e})=>({label:`strict_${e}`}))),L=[..._.map((({label:e})=>({label:e}))),...C];var w=a(44),D=a(2),I=a(3),P=a(7),N=a(0),B=a(45),R=a(4);const{toInt:A}=P.fieldFormatters,{emptyField:z,containsCharsField:V,numberGreaterThanField:U,isJsonField:q}=P.fieldValidators,W={smallerThanZero:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.smallerZeroErrorMessage",{defaultMessage:"The value must be greater or equal to 0."}),spacesNotAllowed:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.spacesNotAllowedErrorMessage",{defaultMessage:"Spaces are not allowed."}),analyzerIsRequired:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.analyzerIsRequiredErrorMessage",{defaultMessage:"Specify the custom analyzer name or choose a built-in analyzer."})},G=i.i18n.translate("xpack.idxMgmt.mappingsEditor.nullValueFieldLabel",{defaultMessage:"Null value"}),$=z(i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.nullValueIsRequiredErrorMessage",{defaultMessage:"Null value is required."})),H=["true",!0,"false",!1],J={label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.indexOptionsLabel",{defaultMessage:"Index options"}),helpText:()=>Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.indexOptionsHelpText",defaultMessage:"Information to store in the index. {docsLink}",values:{docsLink:Object(j.jsx)(g.EuiLink,{href:te.getIndexOptionsLink(),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.indexOptionsdDocumentationLink",{defaultMessage:"Learn more."}))}}),type:D.FIELD_TYPES.SUPER_SELECT},Y={fieldConfig:{defaultValue:{}},props:{min_segment_size:{fieldConfig:{type:D.FIELD_TYPES.NUMBER,label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.minSegmentSizeFieldLabel",{defaultMessage:"Minimum segment size"}),defaultValue:50,formatters:[A]}}},schema:w.record(w.union([w.literal("min"),w.literal("max"),w.literal("min_segment_size")]),w.number)},X=[{validator:z(W.analyzerIsRequired)},{validator:V({chars:" ",message:W.spacesNotAllowed})}],K={name:{fieldConfig:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.nameFieldLabel",{defaultMessage:"Field name"}),defaultValue:"",validations:[{validator:z(i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.nameIsRequiredErrorMessage",{defaultMessage:"Give a name to the field."}))}]}},type:{fieldConfig:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.typeFieldLabel",{defaultMessage:"Field type"}),defaultValue:"text",deserializer:e=>"string"==typeof e&&Boolean(e)?[{label:h[e]?h[e].label:e,value:e}]:[{value:""}],serializer:e=>e&&e.length?e[0].value:e,validations:[{validator:z(i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.typeIsRequiredErrorMessage",{defaultMessage:"Specify a field type."}))}]},schema:w.string},store:{fieldConfig:{type:D.FIELD_TYPES.CHECKBOX,defaultValue:!1},schema:w.boolean},index:{fieldConfig:{type:D.FIELD_TYPES.CHECKBOX,defaultValue:!0},schema:w.boolean},doc_values:{fieldConfig:{defaultValue:!0},schema:w.boolean},doc_values_binary:{fieldConfig:{defaultValue:!1},schema:w.boolean},fielddata:{fieldConfig:{type:D.FIELD_TYPES.CHECKBOX,defaultValue:!1},schema:w.boolean},fielddata_frequency_filter:Y,fielddata_frequency_filter_percentage:{...Y,props:{min:{fieldConfig:{defaultValue:.01,serializer:e=>""===e?"":A(e)/100,deserializer:e=>Math.round(100*e)}},max:{fieldConfig:{defaultValue:1,serializer:e=>""===e?"":A(e)/100,deserializer:e=>Math.round(100*e)}}}},fielddata_frequency_filter_absolute:{...Y,props:{min:{fieldConfig:{defaultValue:2,validations:[{validator:U({than:1,message:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.fieldDataFrequency.numberGreaterThanOneErrorMessage",{defaultMessage:"Value must be greater than one."})})}],formatters:[A]}},max:{fieldConfig:{defaultValue:5,validations:[{validator:U({than:1,message:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.fieldDataFrequency.numberGreaterThanOneErrorMessage",{defaultMessage:"Value must be greater than one."})})}],formatters:[A]}}}},coerce:{fieldConfig:{defaultValue:!0},schema:w.boolean},coerce_shape:{fieldConfig:{defaultValue:!1},schema:w.boolean},ignore_malformed:{fieldConfig:{defaultValue:!1},schema:w.boolean},null_value:{fieldConfig:{defaultValue:"",type:D.FIELD_TYPES.TEXT,label:G}},null_value_ip:{fieldConfig:{defaultValue:"",type:D.FIELD_TYPES.TEXT,label:G,helpText:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.nullValueIpHelpText",{defaultMessage:"Accepts an IP address."})}},null_value_numeric:{fieldConfig:{defaultValue:"",label:G,formatters:[A],validations:[{validator:$}]},schema:w.number},null_value_boolean:{fieldConfig:{defaultValue:!1,label:G,deserializer:e=>H.indexOf(e),serializer:e=>H[e]},schema:w.union([w.literal(!0),w.literal(!1),w.literal("true"),w.literal("false")])},null_value_geo_point:{fieldConfig:{defaultValue:"",label:G,helpText:()=>Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.parameters.geoPointNullValueHelpText",defaultMessage:"Geo-points can be expressed as an object, string, geohash, array or {docsLink} POINT.",values:{docsLink:Object(j.jsx)(g.EuiLink,{href:te.getWellKnownTextLink(),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.wellKnownTextDocumentationLink",{defaultMessage:"Well-Known Text"}))}}),validations:[{validator:$}],deserializer:e=>""===e?e:JSON.stringify(e),serializer:e=>{try{return JSON.parse(e)}catch(t){return e}}},schema:w.any},null_value_point:{fieldConfig:{defaultValue:"",label:G,helpText:()=>Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.parameters.pointNullValueHelpText",defaultMessage:"Points can be expressed as an object, string, array or {docsLink} POINT.",values:{docsLink:Object(j.jsx)(g.EuiLink,{href:te.getWellKnownTextLink(),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.pointWellKnownTextDocumentationLink",{defaultMessage:"Well-Known Text"}))}}),validations:[{validator:$}],deserializer:e=>""===e?e:JSON.stringify(e),serializer:e=>{try{return JSON.parse(e)}catch(t){return e}}},schema:w.any},copy_to:{fieldConfig:{defaultValue:"",type:D.FIELD_TYPES.TEXT,label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.copyToLabel",{defaultMessage:"Group field name"}),validations:[{validator:z(i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.copyToIsRequiredErrorMessage",{defaultMessage:"Group field name is required."}))}]},schema:w.union([w.string,w.array(w.string)])},value:{fieldConfig:{defaultValue:"",type:D.FIELD_TYPES.TEXT,label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.valueLabel",{defaultMessage:"Value"})},schema:w.string},meta:{fieldConfig:{defaultValue:"",label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.metaLabel",{defaultMessage:"Metadata"}),helpText:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.parameters.metaHelpText",defaultMessage:"Use JSON format: {code}",values:{code:Object(j.jsx)(g.EuiCode,null,JSON.stringify({arbitrary_key:"anything_goes"}))}}),validations:[{validator:q(i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.metaFieldEditorJsonError",{defaultMessage:"Invalid JSON."}),{allowEmptyString:!0})},{validator:({value:e})=>{if("string"!=typeof e||""===e.trim())return;const t=JSON.parse(e),a=Object.values(t).some((e=>"string"!=typeof e));return Array.isArray(t)?{message:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.metaFieldEditorArraysNotAllowedError",{defaultMessage:"Arrays are not allowed."})}:a?{message:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.metaFieldEditorOnlyStringValuesAllowedError",{defaultMessage:"Values must be a string."})}:void 0}}],deserializer:e=>""===e?e:JSON.stringify(e,null,2),serializer:e=>{if(""!==e.trim())try{const t=JSON.parse(e);if(!Object.keys(t).length)return;return t}catch(t){return e}}},schema:w.any},max_input_length:{fieldConfig:{defaultValue:50,type:D.FIELD_TYPES.NUMBER,label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.maxInputLengthLabel",{defaultMessage:"Max input length"}),formatters:[A],validations:[{validator:z(i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.maxInputLengthFieldRequiredErrorMessage",{defaultMessage:"Specify a max input length."}))}]},schema:w.number},locale:{fieldConfig:{defaultValue:"ROOT",type:D.FIELD_TYPES.TEXT,label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.localeLabel",{defaultMessage:"Locale"}),helpText:()=>Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.parameters.localeHelpText",defaultMessage:"Separate the language, country, and variant, use {hyphen} or {underscore}. A maximum of 2 separators is allowed. Example: {locale}.",values:{locale:Object(j.jsx)(g.EuiCode,null,"en-US"),hyphen:Object(j.jsx)(g.EuiCode,null,"-"),underscore:Object(j.jsx)(g.EuiCode,null,"_")}}),validations:[{validator:z(i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.localeFieldRequiredErrorMessage",{defaultMessage:"Specify a locale."}))}]},schema:w.string},orientation:{fieldConfig:{defaultValue:"ccw",type:D.FIELD_TYPES.SUPER_SELECT,label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.orientationLabel",{defaultMessage:"Orientation"})},schema:w.string},boost:{fieldConfig:{defaultValue:1,type:D.FIELD_TYPES.NUMBER,label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.boostLabel",{defaultMessage:"Boost level"}),formatters:[A],validations:[{validator:({value:e})=>{if(e<0)return{message:W.smallerThanZero}}}]},schema:w.number},scaling_factor:{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.scalingFactorFieldTitle",{defaultMessage:"Scaling factor"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.scalingFactorFieldDescription",{defaultMessage:"Values will be multiplied by this factor at index time and rounded to the closest long value. High factor values improve accuracy, but also increase space requirements."}),fieldConfig:{defaultValue:"",type:D.FIELD_TYPES.NUMBER,deserializer:e=>""===e?e:+e,formatters:[A],label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.scalingFactorLabel",{defaultMessage:"Scaling factor"}),validations:[{validator:z(i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.scalingFactorIsRequiredErrorMessage",{defaultMessage:"A scaling factor is required."}))},{validator:({value:e})=>{if(e<=0)return{message:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.greaterThanZeroErrorMessage",{defaultMessage:"The scaling factor must be greater than 0."})}}}],helpText:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.scalingFactorHelpText",{defaultMessage:"Value must be greater than 0."})},schema:w.number},dynamic:{fieldConfig:{defaultValue:!0},schema:w.union([w.boolean,w.literal("strict"),w.literal("true"),w.literal("false"),w.literal("runtime")])},dynamic_toggle:{fieldConfig:{defaultValue:!0}},dynamic_strict:{fieldConfig:{defaultValue:!1,label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dynamicStrictParameter.fieldTitle",{defaultMessage:"Throw an exception when the object contains an unmapped property"}),helpText:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dynamicStrictParameter.fieldHelpText",{defaultMessage:"By default, unmapped properties will be silently ignored when dynamic mapping is disabled. Optionally, you can choose to throw an exception when an object contains an unmapped property."})}},enabled:{fieldConfig:{defaultValue:!0},schema:w.boolean},format:{fieldConfig:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formatFieldLabel",{defaultMessage:"Format"}),defaultValue:"strict_date_optional_time||epoch_millis",serializer:e=>e.length?e.map((({label:e})=>e)).join("||"):void 0,deserializer:e=>e.split("||").map((e=>({label:e}))),helpText:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.formatHelpText",defaultMessage:"Specify custom formats using {dateSyntax} syntax.",values:{dateSyntax:Object(j.jsx)(g.EuiCode,null,"yyyy/MM/dd")}})},schema:w.string},analyzer:{fieldConfig:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.analyzerFieldLabel",{defaultMessage:"Analyzer"}),defaultValue:d,validations:X},schema:w.string},search_analyzer:{fieldConfig:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.searchAnalyzerFieldLabel",{defaultMessage:"Search analyzer"}),defaultValue:d,validations:X},schema:w.string},search_quote_analyzer:{fieldConfig:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.searchQuoteAnalyzerFieldLabel",{defaultMessage:"Search quote analyzer"}),defaultValue:d,validations:X},schema:w.string},normalizer:{fieldConfig:{label:"Normalizer",defaultValue:"",type:D.FIELD_TYPES.TEXT,validations:[{validator:z(i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.normalizerIsRequiredErrorMessage",{defaultMessage:"Normalizer name is required."}))},{validator:V({chars:" ",message:W.spacesNotAllowed})}],helpText:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.normalizerHelpText",{defaultMessage:"The name of a normalizer defined in the index's settings."})},schema:w.string},index_options:{fieldConfig:{...J,defaultValue:"positions"},schema:w.string},index_options_keyword:{fieldConfig:{...J,defaultValue:"docs"},schema:w.string},index_options_flattened:{fieldConfig:{...J,defaultValue:"docs"},schema:w.string},eager_global_ordinals:{fieldConfig:{defaultValue:!1},schema:w.boolean},eager_global_ordinals_join:{fieldConfig:{defaultValue:!0}},index_phrases:{fieldConfig:{defaultValue:!1},schema:w.boolean},positive_score_impact:{fieldConfig:{defaultValue:!0},schema:w.boolean},preserve_separators:{fieldConfig:{defaultValue:!0},schema:w.boolean},preserve_position_increments:{fieldConfig:{defaultValue:!0},schema:w.boolean},ignore_z_value:{fieldConfig:{defaultValue:!0},schema:w.boolean},points_only:{fieldConfig:{defaultValue:!1},schema:w.boolean},norms:{fieldConfig:{defaultValue:!0},schema:w.boolean},norms_keyword:{fieldConfig:{defaultValue:!1},schema:w.boolean},term_vector:{fieldConfig:{type:D.FIELD_TYPES.SUPER_SELECT,label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.termVectorLabel",{defaultMessage:"Set term vector"}),defaultValue:"no"},schema:w.string},path:{fieldConfig:{type:D.FIELD_TYPES.COMBO_BOX,label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.pathLabel",{defaultMessage:"Field path"}),helpText:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.pathHelpText",{defaultMessage:"The absolute path from the root to the target field."}),validations:[{validator:z(i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.pathIsRequiredErrorMessage",{defaultMessage:"Select a field to point the alias to."}))}],serializer:e=>0===e.length?"":e[0].id},targetTypesNotAllowed:["object","nested","alias"],schema:w.string},position_increment_gap:{fieldConfig:{type:D.FIELD_TYPES.NUMBER,label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.positionIncrementGapLabel",{defaultMessage:"Position increment gap"}),defaultValue:100,formatters:[A],validations:[{validator:z(i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.positionIncrementGapIsRequiredErrorMessage",{defaultMessage:"Set a position increment gap value"}))},{validator:({value:e})=>{if(e<0)return{message:W.smallerThanZero}}}]},schema:w.number},index_prefixes:{fieldConfig:{defaultValue:{}},props:{min_chars:{fieldConfig:{type:D.FIELD_TYPES.NUMBER,defaultValue:2,serializer:e=>""===e?"":A(e)}},max_chars:{fieldConfig:{type:D.FIELD_TYPES.NUMBER,defaultValue:5,serializer:e=>""===e?"":A(e)}}},schema:w.partial({min_chars:w.number,max_chars:w.number})},similarity:{fieldConfig:{defaultValue:"BM25",type:D.FIELD_TYPES.SUPER_SELECT,label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.similarityLabel",{defaultMessage:"Similarity algorithm"})},schema:w.string},split_queries_on_whitespace:{fieldConfig:{defaultValue:!1},schema:w.boolean},ignore_above:{fieldConfig:{defaultValue:8191,type:D.FIELD_TYPES.NUMBER,label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.ignoreAboveFieldLabel",{defaultMessage:"Character length limit"}),formatters:[A],validations:[{validator:z(i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.ignoreAboveIsRequiredErrorMessage",{defaultMessage:"Character length limit is required."}))},{validator:({value:e})=>{if(e<0)return{message:W.smallerThanZero}}}]},schema:w.number},enable_position_increments:{fieldConfig:{defaultValue:!0},schema:w.boolean},depth_limit:{fieldConfig:{defaultValue:20,type:D.FIELD_TYPES.NUMBER,label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.depthLimitFieldLabel",{defaultMessage:"Nested object depth limit"}),formatters:[A],validations:[{validator:({value:e})=>{if(e<0)return{message:W.smallerThanZero}}}]},schema:w.number},dims:{fieldConfig:{defaultValue:"",type:D.FIELD_TYPES.NUMBER,label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dimsFieldLabel",{defaultMessage:"Dimensions"}),helpText:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.dimsHelpTextDescription",{defaultMessage:"The number of dimensions in the vector."}),formatters:[A],validations:[{validator:z(i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.dimsIsRequiredErrorMessage",{defaultMessage:"Specify a dimension."}))}]},schema:w.string},relations:{fieldConfig:{defaultValue:[]},schema:w.record(w.string,w.union([w.string,w.array(w.string)]))},max_shingle_size:{fieldConfig:{type:D.FIELD_TYPES.SELECT,label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.largestShingleSizeFieldLabel",{defaultMessage:"Max shingle size"}),defaultValue:3,formatters:[A]},schema:w.union([w.literal(2),w.literal(3),w.literal(4)])},time_series_metric:{fieldConfig:{defaultValue:null,type:D.FIELD_TYPES.SELECT},schema:w.union([w.literal("gauge"),w.literal("counter"),w.null])},time_series_dimension:{fieldConfig:{type:D.FIELD_TYPES.CHECKBOX,defaultValue:!1},schema:w.boolean}},Q=24,Z=4,ee="mapper-size",te=new class documentation_DocumentationService{constructor(){o()(this,"links",void 0),o()(this,"dataStreams",""),o()(this,"esDocsBase",""),o()(this,"enrichPolicies",""),o()(this,"createEnrichPolicies",""),o()(this,"matchAllQuery",""),o()(this,"indexManagement",""),o()(this,"indexSettings",""),o()(this,"indexTemplates",""),o()(this,"indexV1",""),o()(this,"mapping",""),o()(this,"mappingAnalyzer",""),o()(this,"mappingCoerce",""),o()(this,"mappingCopyTo",""),o()(this,"mappingDocValues",""),o()(this,"mappingDynamic",""),o()(this,"mappingDynamicFields",""),o()(this,"mappingDynamicTemplates",""),o()(this,"mappingEagerGlobalOrdinals",""),o()(this,"mappingEnabled",""),o()(this,"mappingFieldData",""),o()(this,"mappingFieldDataFilter",""),o()(this,"mappingFieldDataTypes",""),o()(this,"mappingFieldDataEnable",""),o()(this,"mappingFormat",""),o()(this,"mappingIgnoreAbove",""),o()(this,"mappingIgnoreMalformed",""),o()(this,"mappingIndex",""),o()(this,"mappingIndexOptions",""),o()(this,"mappingIndexPhrases",""),o()(this,"mappingIndexPrefixes",""),o()(this,"mappingJoinFieldsPerformance",""),o()(this,"mappingMeta",""),o()(this,"mappingMetaFields",""),o()(this,"mappingNormalizer",""),o()(this,"mappingNorms",""),o()(this,"mappingNullValue",""),o()(this,"mappingParameters",""),o()(this,"mappingPositionIncrementGap",""),o()(this,"mappingRankFeatureFields",""),o()(this,"mappingRouting",""),o()(this,"mappingSimilarity",""),o()(this,"mappingSourceFields",""),o()(this,"mappingSourceFieldsDisable",""),o()(this,"mappingStore",""),o()(this,"mappingTermVector",""),o()(this,"mappingTypesRemoval",""),o()(this,"percolate",""),o()(this,"runtimeFields",""),o()(this,"indicesComponentTemplate",""),o()(this,"bulkIndexAlias",""),o()(this,"indexStats",""),o()(this,"bulkApi",""),o()(this,"updateExistingDS",""),o()(this,"getTypeDocLink",((e,t="main")=>{const a=h[e];if(a&&a.documentation&&a.documentation[t])return`${this.esDocsBase}${a.documentation[t]}`}))}setup(e){const{links:t}=e;this.links=t,this.dataStreams=t.elasticsearch.dataStreams,this.esDocsBase=t.elasticsearch.docsBase,this.enrichPolicies=t.elasticsearch.enrichPolicies,this.createEnrichPolicies=t.elasticsearch.createEnrichPolicy,this.matchAllQuery=t.elasticsearch.matchAllQuery,this.indexManagement=t.management.indexManagement,this.indexSettings=t.elasticsearch.indexSettings,this.indexTemplates=t.elasticsearch.indexTemplates,this.indexV1=t.apis.putIndexTemplateV1,this.mapping=t.elasticsearch.mapping,this.mappingAnalyzer=t.elasticsearch.mappingAnalyzer,this.mappingCoerce=t.elasticsearch.mappingCoerce,this.mappingCopyTo=t.elasticsearch.mappingCopyTo,this.mappingDocValues=t.elasticsearch.mappingDocValues,this.mappingDynamic=t.elasticsearch.mappingDynamic,this.mappingDynamicFields=t.elasticsearch.mappingDynamicFields,this.mappingDynamicTemplates=t.elasticsearch.mappingDynamicTemplates,this.mappingEagerGlobalOrdinals=t.elasticsearch.mappingEagerGlobalOrdinals,this.mappingEnabled=t.elasticsearch.mappingEnabled,this.mappingFieldData=t.elasticsearch.mappingFieldData,this.mappingFieldDataTypes=t.elasticsearch.mappingFieldDataTypes,this.mappingFieldDataEnable=t.elasticsearch.mappingFieldDataEnable,this.mappingFieldDataFilter=t.elasticsearch.mappingFieldDataFilter,this.mappingFormat=t.elasticsearch.mappingFormat,this.mappingIgnoreAbove=t.elasticsearch.mappingIgnoreAbove,this.mappingIgnoreMalformed=t.elasticsearch.mappingIgnoreMalformed,this.mappingIndex=t.elasticsearch.mappingIndex,this.mappingIndexOptions=t.elasticsearch.mappingIndexOptions,this.mappingIndexPhrases=t.elasticsearch.mappingIndexPhrases,this.mappingIndexPrefixes=t.elasticsearch.mappingIndexPrefixes,this.mappingJoinFieldsPerformance=t.elasticsearch.mappingJoinFieldsPerformance,this.mappingMeta=t.elasticsearch.mappingMeta,this.mappingMetaFields=t.elasticsearch.mappingMetaFields,this.mappingNormalizer=t.elasticsearch.mappingNormalizer,this.mappingNorms=t.elasticsearch.mappingNorms,this.mappingNullValue=t.elasticsearch.mappingNullValue,this.mappingParameters=t.elasticsearch.mappingParameters,this.mappingPositionIncrementGap=t.elasticsearch.mappingPositionIncrementGap,this.mappingRankFeatureFields=t.elasticsearch.mappingRankFeatureFields,this.mappingRouting=t.elasticsearch.mappingRouting,this.mappingSimilarity=t.elasticsearch.mappingSimilarity,this.mappingSourceFields=t.elasticsearch.mappingSourceFields,this.mappingSourceFieldsDisable=t.elasticsearch.mappingSourceFieldsDisable,this.mappingStore=t.elasticsearch.mappingStore,this.mappingTermVector=t.elasticsearch.mappingTermVector,this.mappingTypesRemoval=t.elasticsearch.mappingTypesRemoval,this.percolate=t.query.percolate,this.runtimeFields=t.runtimeFields.overview,this.indicesComponentTemplate=t.apis.putComponentTemplate,this.bulkIndexAlias=t.apis.bulkIndexAlias,this.indexStats=t.apis.indexStats,this.bulkApi=t.enterpriseSearch.bulkApi,this.updateExistingDS=t.elasticsearch.tutorialUpdateExistingDataStream}getEsDocsBase(){return this.esDocsBase}getSettingsDocumentationLink(){return this.indexSettings}getMappingDocumentationLink(){return this.mapping}getRoutingLink(){return this.mappingRouting}getDataStreamsDocumentationLink(){return this.dataStreams}getTemplatesDocumentationLink(e=!1){return e?this.indexV1:this.indexTemplates}getIdxMgmtDocumentationLink(){return this.indexManagement}getIndicesComponentTemplate(){return this.indicesComponentTemplate}getMappingTypesLink(){return this.mappingFieldDataTypes}getDynamicMappingLink(){return this.mappingDynamicFields}getPercolatorQueryLink(){return this.percolate}getRankFeatureQueryLink(){return this.mappingRankFeatureFields}getEnrichApisLink(){return this.enrichPolicies}getCreateEnrichPolicyLink(){return this.createEnrichPolicies}getMatchAllQueryLink(){return this.matchAllQuery}getMetaFieldLink(){return this.mappingMetaFields}getDynamicTemplatesLink(){return this.mappingDynamicTemplates}getMappingSourceFieldLink(){return this.mappingSourceFields}getDisablingMappingSourceFieldLink(){return this.mappingSourceFieldsDisable}getNullValueLink(){return this.mappingNullValue}getTermVectorLink(){return this.mappingTermVector}getStoreLink(){return this.mappingStore}getSimilarityLink(){return this.mappingSimilarity}getNormsLink(){return this.mappingNorms}getIndexLink(){return this.mappingIndex}getIgnoreMalformedLink(){return this.mappingIgnoreMalformed}getMetaLink(){return this.mappingMeta}getFormatLink(){return this.mappingFormat}getEagerGlobalOrdinalsLink(){return this.mappingEagerGlobalOrdinals}getDocValuesLink(){return this.mappingDocValues}getCopyToLink(){return this.mappingCopyTo}getCoerceLink(){return this.mappingCoerce}getBoostLink(){return this.mappingParameters}getNormalizerLink(){return this.mappingNormalizer}getIgnoreAboveLink(){return this.mappingIgnoreAbove}getFielddataLink(){return this.mappingFieldData}getFielddataFrequencyLink(){return this.mappingFieldDataFilter}getEnablingFielddataLink(){return this.mappingFieldDataEnable}getIndexPhrasesLink(){return this.mappingIndexPhrases}getIndexPrefixesLink(){return this.mappingIndexPrefixes}getPositionIncrementGapLink(){return this.mappingPositionIncrementGap}getAnalyzerLink(){return this.mappingAnalyzer}getDateFormatLink(){return this.mappingFormat}getIndexOptionsLink(){return this.mappingIndexOptions}getAlternativeToMappingTypesLink(){return this.mappingTypesRemoval}getJoinMultiLevelsPerformanceLink(){return this.mappingJoinFieldsPerformance}getDynamicLink(){return this.mappingDynamic}getEnabledLink(){return this.mappingEnabled}getRuntimeFields(){return this.runtimeFields}getBulkIndexAlias(){return this.bulkIndexAlias}getIndexStats(){return this.indexStats}getBulkApi(){return this.bulkApi}getUpdateExistingDS(){return this.updateExistingDS}getWellKnownTextLink(){return"http://docs.opengeospatial.org/is/12-063r5/12-063r5.html"}getRootLocaleLink(){return"https://docs.oracle.com/javase/8/docs/api/java/util/Locale.html#ROOT"}get docLinks(){if(!this.links)throw new Error("Can't return undefined doc links.");return this.links}};var ae=a(38),ie=a(10);const se=new class http_HttpService{constructor(){o()(this,"client",void 0)}setup(e){this.client=e}get httpClient(){return this.client}},ne=e=>Object(ie.F)(se.httpClient,e),le=e=>Object(ie.N)(se.httpClient,e);let oe;const re=e=>{oe=e};function ce(e){return le({path:`${s.a}/data_streams/${encodeURIComponent(e)}`,method:"get"})}async function de(e){const t=JSON.stringify({indices:e}),a=await se.httpClient.post(`${s.a}/indices/close`,{body:t}),i=e.length>1?s.u:s.t;return oe.trackMetric(ae.METRIC_TYPE.COUNT,i),a}async function ue(e){const t=JSON.stringify({indices:e}),a=await se.httpClient.post(`${s.a}/indices/delete`,{body:t}),i=e.length>1?s.w:s.v;return oe.trackMetric(ae.METRIC_TYPE.COUNT,i),a}async function pe(e){const t=JSON.stringify({indices:e}),a=await se.httpClient.post(`${s.a}/indices/open`,{body:t}),i=e.length>1?s.C:s.B;return oe.trackMetric(ae.METRIC_TYPE.COUNT,i),a}async function me(e){const t=JSON.stringify({indices:e}),a=await se.httpClient.post(`${s.a}/indices/refresh`,{body:t}),i=e.length>1?s.E:s.D;return oe.trackMetric(ae.METRIC_TYPE.COUNT,i),a}async function ge(e){const t=JSON.stringify({indices:e}),a=await se.httpClient.post(`${s.a}/indices/flush`,{body:t}),i=e.length>1?s.y:s.x;return oe.trackMetric(ae.METRIC_TYPE.COUNT,i),a}async function xe(e,t){const a=JSON.stringify({indices:e,maxNumSegments:t}),i=await se.httpClient.post(`${s.a}/indices/forcemerge`,{body:a}),n=e.length>1?s.A:s.z;return oe.trackMetric(ae.METRIC_TYPE.COUNT,n),i}async function be(e){const t=JSON.stringify({indices:e}),a=await se.httpClient.post(`${s.a}/indices/clear_cache`,{body:t}),i=e.length>1?s.s:s.r;return oe.trackMetric(ae.METRIC_TYPE.COUNT,i),a}async function fe(e){const t=JSON.stringify({indices:e}),a=await se.httpClient.post(`${s.a}/indices/unfreeze`,{body:t}),i=e.length>1?s.G:s.F;return oe.trackMetric(ae.METRIC_TYPE.COUNT,i),a}function je(e,t){return le({path:`${s.a}/index_templates/${encodeURIComponent(e)}`,method:"get",query:{legacy:t}})}async function he(e,t){const a=await ne({path:`${s.a}/index_templates`,method:"post",body:JSON.stringify(e)}),i=t?s.H:s.I;return oe.trackMetric(ae.METRIC_TYPE.COUNT,i),a}var Me=a(37),Oe=a.n(Me);const ye={kb:1,mb:2,gb:3,tb:4,pb:5},ve=e=>t=>t[e],Ee=e=>t=>+t[e],ke=e=>t=>{const a=t[e];if(!a)return 0;const i=a.match(/(.*)([kmgtp]b)/);if(!i)return 0;const[,s,n]=i;return+s*Math.pow(1024,ye[n])},Te={name:ve("name"),status:ve("status"),health:ve("health"),primary:Ee("primary"),replica:Ee("replica"),documents:Ee("documents"),size:ke("size"),primary_size:ke("primary_size"),data_stream:ve("data_stream")};class ui_metric_UiMetricService{constructor(e){o()(this,"appName",void 0),o()(this,"usageCollection",void 0),this.appName=e}setup(e){this.usageCollection=e}trackMetric(e,t){if(this.usageCollection)return this.usageCollection.reportUiCounter(this.appName,e,t)}}const Fe=new class notification_NotificationService{constructor(){o()(this,"_toasts",void 0),o()(this,"addToasts",((e,t,a)=>{this._toasts.add({title:e,color:t,text:a})}))}setup(e){this._toasts=e.toasts}get toasts(){return this._toasts}showDangerToast(e,t){this.addToasts(e,"danger",t)}showWarningToast(e,t){this.addToasts(e,"warning",t)}showSuccessToast(e,t){this.addToasts(e,"success",t)}};var Se=a(41),_e=a(48);const Ce=e=>{let t="",a="";const i=/(\d+)(\w+)/.exec(e);return i&&(t=i[1],a=i[2]),{size:t,unit:a}},Le=e=>{if(!e||null==e||!e.enabled)return;const{infiniteDataRetention:t,value:a,unit:i}=e;return t?{enabled:!0}:{enabled:!0,data_retention:`${a}${i}`}},we=e=>{if(!e||null==e||!e.enabled)return{enabled:!1};if(!e.data_retention)return{enabled:!0,infiniteDataRetention:!0};const{size:t,unit:a}=Ce(e.data_retention);return{enabled:!0,value:Number(t),unit:a}};function De(e){const{version:t,priority:a,indexPatterns:i,template:s,composedOf:n,dataStream:l,_meta:o,allowAutoCreate:r}=e;return{version:t,priority:a,template:s,index_patterns:i,data_stream:l,composed_of:n,allow_auto_create:r,_meta:o}}const Ie=(e,t)=>{var a;return(e=>!{}.hasOwnProperty.call(e,"template"))(e)?e[t]:null===(a=e.template)||void 0===a?void 0:a[t]},Pe=Object(p.createContext)(void 0),Ne=({children:e,value:t})=>Object(j.jsx)(Pe.Provider,{value:t},e),Be=Pe.Consumer,Re=()=>{const e=Object(p.useContext)(Pe);if(!e)throw new Error('"useAppContext" can only be called inside of AppContext.Provider!');return e},Ae=()=>Re().services;var ze=a(39),Ve=a(54),Ue=a.n(Ve);const qe={services:{}},We=Object(p.createContext)(qe);var Ge=a(80),$e=a.n(Ge);const He=({children:e,component:t,render:a,...i})=>{const s=Object(p.useMemo)((()=>{if(t)return e=>Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(Je,null),Object(j.jsx)(t,e))}),[t]);if(s)return Object(j.jsx)(ze.Route,Ue()({},i,{component:s}));if(a||"function"==typeof e){const t="function"==typeof e?e:a;return Object(j.jsx)(ze.Route,Ue()({},i,{render:e=>Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(Je,null),t(e))}))}return Object(j.jsx)(ze.Route,i,Object(j.jsx)(Je,null),e)},Je=()=>{const{executionContext:e}=Object(p.useContext)(We).services,t=Object(ze.useRouteMatch)();return function(e,t){$e()((()=>(null==e||e.set(t),()=>{null==e||e.clear()})),[t])}(e,{type:"application",page:t.path,id:Object.keys(t.params).length>0?JSON.stringify(t.params):void 0}),null};var Ye=a(46);const Xe=({children:e,...t})=>Object(j.jsx)(ze.Router,t,Object(j.jsx)(Ye.CompatRouter,null,e)),Ke=({legacySwitch:e=!0,children:t})=>{const a=Object(ze.useRouteMatch)();return e?Object(j.jsx)(ze.Switch,null,t):Object(j.jsx)(Ye.Routes,null,p.Children.map(t,(e=>{if(m.a.isValidElement(e)&&e.type===He){var i;const s=Object(Me.replace)(null==e?void 0:e.props.path,a.url+"/",""),n="function"==typeof(null==e?void 0:e.props.children)?null==e?void 0:e.props.children:null==e?void 0:e.props.render;return Object(j.jsx)(Ye.Route,{path:s,element:Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(Je,null),(null==e||null===(i=e.props)||void 0===i?void 0:i.component)&&Object(j.jsx)(e.props.component,null)||n&&n()||t)})}return e})))},Qe=["manage_index_templates"],Ze="fleet";a(14);const et=({aliases:e})=>e&&Object.keys(e).length?Object(j.jsx)("div",{"data-test-subj":"aliasesTabContent"},Object(j.jsx)(g.EuiCodeBlock,{isCopyable:!0,language:"json"},JSON.stringify(e,null,2))):Object(j.jsx)(g.EuiCallOut,{title:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.aliasesTab.noAliasesTitle",defaultMessage:"No aliases defined."}),iconType:"pin","data-test-subj":"noAliasesCallout",size:"s"}),tt=({mappings:e})=>e&&Object.keys(e).length?Object(j.jsx)("div",{"data-test-subj":"mappingsTabContent"},Object(j.jsx)(g.EuiCodeBlock,{isCopyable:!0,language:"json"},JSON.stringify(e,null,2))):Object(j.jsx)(g.EuiCallOut,{title:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsTab.noMappingsTitle",defaultMessage:"No mappings defined."}),iconType:"pin","data-test-subj":"noMappingsCallout",size:"s"}),at=({settings:e})=>e&&Object.keys(e).length?Object(j.jsx)("div",{"data-test-subj":"settingsTabContent"},Object(j.jsx)(g.EuiCodeBlock,{isCopyable:!0,language:"json"},JSON.stringify(e,null,2))):Object(j.jsx)(g.EuiCallOut,{title:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.settingsTab.noIndexSettingsTitle",defaultMessage:"No settings defined."}),iconType:"pin","data-test-subj":"noSettingsCallout",size:"s"}),it=({defaultValue:e,onChange:t})=>{const[a,s]=Object(p.useState)((n=null!=e?e:{},Object.keys(n).length?JSON.stringify(n,null,2):"{\n\n}"));var n;const[l,o]=Object(p.useState)(null),r=Object(p.useCallback)((()=>{const e=""===a.trim()||Object(ie.D)(a);return o(e?null:i.i18n.translate("xpack.idxMgmt.validators.string.invalidJSONError",{defaultMessage:"Invalid JSON format."})),e}),[a]);return Object(p.useEffect)((()=>{const e=r();t({isValid:e,validate:async()=>e,getData:()=>{const t=e&&""!==a.trim()?JSON.parse(a):{};return Object.keys(t).length>0?t:void 0}})}),[a,t,r]),{jsonContent:a,setJsonContent:s,error:l}},st=m.a.memo((({defaultValue:e={},onChange:t,esDocsBase:a})=>{const{jsonContent:s,setJsonContent:n,error:l}=it({defaultValue:e,onChange:t});return Object(j.jsx)("div",{"data-test-subj":"stepAliases"},Object(j.jsx)(g.EuiFlexGroup,{justifyContent:"spaceBetween"},Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(g.EuiTitle,null,Object(j.jsx)("h2",{"data-test-subj":"stepTitle"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepAliases.stepTitle",defaultMessage:"Aliases (optional)"}))),Object(j.jsx)(g.EuiSpacer,{size:"s"}),Object(j.jsx)(g.EuiText,null,Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepAliases.aliasesDescription",defaultMessage:"Set up aliases to associate with your indices."})))),Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(g.EuiButtonEmpty,{size:"s",flush:"right",href:te.getBulkIndexAlias(),target:"_blank",iconType:"help"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepAliases.docsButtonLabel",defaultMessage:"Index Aliases docs"})))),Object(j.jsx)(g.EuiSpacer,{size:"l"}),Object(j.jsx)(g.EuiFormRow,{label:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepAliases.fieldAliasesLabel",defaultMessage:"Aliases"}),helpText:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepAliases.aliasesEditorHelpText",defaultMessage:"Use JSON format: {code}",values:{code:Object(j.jsx)(g.EuiCode,null,JSON.stringify({my_alias:{}}))}}),isInvalid:Boolean(l),error:l,fullWidth:!0},Object(j.jsx)(R.CodeEditor,{languageId:"json",value:s,"data-test-subj":"aliasesEditor",height:500,options:{lineNumbers:"off",tabSize:2,automaticLayout:!0},"aria-label":i.i18n.translate("xpack.idxMgmt.formWizard.stepAliases.fieldAliasesAriaLabel",{defaultMessage:"Aliases code editor"}),onChange:n})))})),nt=({esDocsBase:e})=>{const{defaultValue:t,updateContent:a}=ie.g.useContent("aliases");return Object(j.jsx)(st,{defaultValue:t,onChange:a,esDocsBase:e})};var lt=a(49);const ot=()=>Object(lt.v4)(),rt=(e,t)=>{const a="text"===(i=e.type)||"keyword"===i||"ip"===i?"fields":"object"===i||"nested"===i?"properties":void 0;var i;const s=!t&&"properties"===a,n=!t&&"fields"===a;return{childFieldsName:a,canHaveChildFields:s,hasChildFields:!t&&s&&Boolean(e[a])&&Object.keys(e[a]).length>0,canHaveMultiFields:n,hasMultiFields:!t&&n&&Boolean(e[a])&&Object.keys(e[a]).length>0,isExpanded:!1}},ct=e=>{const{type:t}=e,a=(e=>e&&h[e]?h[e].label:`${h.other.label}: ${e}`)(t);return a},dt=(e,t)=>{var a;if(void 0!==t){var i;if(!K[e].props||!K[e].props[t])throw new Error(`No field config found for prop "${t}" on param "${e}" `);return(null===(i=K[e].props[t])||void 0===i?void 0:i.fieldConfig)||{}}return(null===(a=K[e])||void 0===a?void 0:a.fieldConfig)||{}},ut=(e={})=>{let t=0;const a=(e,i,s,n,l,o=!1,r)=>Object.entries(e).sort((([e],[t])=>e>t?1:e<t?-1:0)).reduce(((e,[c,d])=>{const u=ot();n.push(u);const p={name:c,...d};void 0===p.type&&void 0!==p.properties&&(p.type="object");const m=rt(p,o),{childFieldsName:g,hasChildFields:x,hasMultiFields:b}=m;if(x||b){const e=m.canHaveChildFields||m.canHaveMultiFields?l+1:l;m.childFields=[],t=Math.max(t,e),a(p[g],i,[...s,c],m.childFields,e,m.canHaveMultiFields,u)}const{properties:f,fields:j,...h}=p,M={id:u,parentId:r,nestedDepth:l,isMultiField:o,path:s.length?[...s,c]:[c],source:h,...m};return e[u]=M,e}),i),i=[],{byId:s,aliases:n}=(e=>{const t={};return Object.entries(e).forEach((([a,i])=>{if("alias"===i.source.type){const s=Object.values(e).find((e=>e.path.join(".")===i.source.path));s&&(i.source.path=s.id,t[s.id]=t[s.id]||[],t[s.id].push(a))}})),{aliases:t,byId:e}})(a(e,{},[],i,0));return{byId:s,aliases:n,rootLevelFields:i,maxNestedDepth:t}},pt=({rootLevelFields:e,byId:t,aliases:a})=>{const i=((e,t)=>{const a={...t};return Object.entries(e).forEach((([e,t])=>{const i=a[e]?a[e].path.join("."):"";t.forEach((e=>{const t=a[e];if(!t)return;const s={...t,source:{...t.source,path:i}};a[e]=s}))})),a})(a,t),s=(e,t={})=>(e.forEach((e=>{const{source:a,childFields:n,childFieldsName:l}=i[e],{name:o,...r}=a,c=r;if(t[o]=c,n)return c[l]={},s(n,c[l])})),t);return s(e)},mt=(e,t)=>{const a=(e,i=[])=>((e.hasChildFields||e.hasMultiFields)&&e.childFields.map((e=>t[e])).forEach((e=>{i.push(e),a(e,i)})),i);return a(e)},gt=(e,t,a=[])=>{const i=t.aliases[e.id]&&Boolean(t.aliases[e.id].length);return i||e.hasChildFields||e.hasMultiFields?(i&&t.aliases[e.id].forEach((e=>{a.push(e)})),e.childFields&&e.childFields.forEach((e=>{t.byId[e]&&gt(t.byId[e],t,a)})),a):a},xt=e=>e.filter((e=>!1===E.includes(e.value))),bt=e=>e.filter((e=>!1===v.includes(e.value))),ft=e=>Object.values(e).reduce(((e,t)=>Math.max(e,t.nestedDepth)),0),jt=(e,t,a)=>e.map((e=>{const i=t[e],s=i.childFields?jt(i.childFields,t,a):void 0;return{label:a(i),children:s}})),ht=(e,t)=>"text"===e&&"keyword"!==t||"keyword"===e&&"text"!==t||"object"===e&&"nested"!==t||"nested"===e&&"object"!==t,Mt=(e,t=!0)=>Object.entries(e).reduce(((e,[a,i])=>void 0===i?e:Array.isArray(i)||i instanceof Date||null===i?{...e,[a]:i}:t&&"object"==typeof i?{...e,[a]:Mt(i,t)}:{...e,[a]:i}),{}),Ot=({children:e,padding:t="normal"})=>Object(j.jsx)(g.EuiCodeBlock,{paddingSize:"normal"===t?"l":"s"},e),yt=({treeItem:e})=>Object(j.jsx)("li",{className:"esUiTreeItem"},Object(j.jsx)("div",{className:"esUiTreeItem__label"},e.label),e.children&&Object(j.jsx)(vt,{tree:e.children})),vt=({tree:e})=>Object(j.jsx)("ul",{className:"esUiTree"},e.map(((e,t)=>Object(j.jsx)(yt,{key:t,treeItem:e})))),Et=({fields:e})=>Object(j.jsx)(Ot,null,Object(j.jsx)(vt,{tree:e})),kt=({title:e,childFields:t,aliases:a,byId:s,confirmButtonText:n,onCancel:l,onConfirm:o})=>{const r=t&&t.length?jt(t,s,(e=>Object(j.jsx)(m.a.Fragment,null,e.source.name,e.isMultiField&&Object(j.jsx)(m.a.Fragment,null," ",Object(j.jsx)(g.EuiBadge,{color:"hollow"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.deleteField.confirmationModal.multiFieldBadgeLabel",{defaultMessage:"{dataType} multi-field",values:{dataType:h[e.source.type].label}})))))):null;return Object(j.jsx)(g.EuiConfirmModal,{title:e,onCancel:l,onConfirm:o,cancelButtonText:i.i18n.translate("xpack.idxMgmt.mappingsEditor.deleteField.confirmationModal.cancelButtonLabel",{defaultMessage:"Cancel"}),buttonColor:"danger",confirmButtonText:n},Object(j.jsx)(m.a.Fragment,null,r&&Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)("p",null,i.i18n.translate("xpack.idxMgmt.mappingsEditor.confirmationModal.deleteFieldsDescription",{defaultMessage:"This will also delete the following fields."})),Object(j.jsx)(Et,{fields:r})),a&&Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)("p",null,i.i18n.translate("xpack.idxMgmt.mappingsEditor.confirmationModal.deleteAliasesDescription",{defaultMessage:"The following aliases will also be deleted."})),Object(j.jsx)("ul",null,a.map((e=>Object(j.jsx)("li",{key:e},Object(j.jsx)(g.EuiCode,null,e))))))))},Tt=(e,t)=>{switch(e){case"boost":case"similarity":case"ignore_above":return void 0!==t[e]&&t[e]!==dt(e).defaultValue;case"normalizer":case"copy_to":case"null_value":return void 0!==t[e];default:return!1}},Ft=(e,t)=>{switch(e){case"copy_to":case"boost":case"meta":case"ignore_malformed":return void 0!==t[e]&&t[e]!==dt(e).defaultValue;case"null_value":return void 0!==t.null_value&&""!==t.null_value;default:return!1}},St=(e,t)=>{switch(e){case"boost":case"position_increment_gap":case"similarity":case"meta":case"term_vector":return void 0!==t[e]&&t[e]!==dt(e).defaultValue;case"analyzers":return void 0!==t.search_analyzer&&t.search_analyzer!==t.analyzer;case"copy_to":return void 0!==t[e]&&""!==t[e];case"indexPrefixes":{if(void 0===t.index_prefixes)return!1;const e=t.index_prefixes.min_chars,a=dt("index_prefixes","min_chars").defaultValue,i=t.index_prefixes.max_chars,s=dt("index_prefixes","min_chars").defaultValue;return e!==a||i!==s}case"fielddata":return!0===t.fielddata||void 0!==t.fielddata_frequency_filter;default:return!1}},_t=m.a.memo((({field:e,kibanaVersion:t})=>Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(oa,null,Object(j.jsx)(ba,null)),Object(j.jsx)(ca,null,Object(j.jsx)(Fa,{field:e,withSearchQuoteAnalyzer:!0}),Object(j.jsx)(_a,null),Object(j.jsx)(ra,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.indexPhrasesFieldTitle",{defaultMessage:"Index phrases"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.indexPhrasesFieldDescription",{defaultMessage:"Whether to index two-term word combinations into a separate field. Activating this will speed up phrase queries, but could slow down indexing."}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.indexPhrasesDocLinkText",{defaultMessage:"Index phrases documentation"}),href:te.getIndexPhrasesLink()},formFieldPath:"index_phrases"}),Object(j.jsx)(ra,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.indexPrefixesFieldTitle",{defaultMessage:"Set index prefixes"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.indexPrefixesFieldDescription",{defaultMessage:"Whether to index prefixes of 2 and 5 characters into a separate field. Activating this will speed up prefix queries, but could slow down indexing."}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.indexPrefixesDocLinkText",{defaultMessage:"Index prefixes documentation"}),href:te.getIndexPrefixesLink()},defaultToggleValue:St("indexPrefixes",e.source)},Object(j.jsx)(g.EuiFormRow,{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.indexPrefixesRangeFieldLabel",{defaultMessage:"Min/max prefix length"}),fullWidth:!0},Object(j.jsx)(D.UseMultiFields,{fields:{min:{path:"index_prefixes.min_chars",config:dt("index_prefixes","min_chars")},max:{path:"index_prefixes.max_chars",config:dt("index_prefixes","max_chars")}}},(({min:e,max:t})=>{return Object(j.jsx)(g.EuiDualRange,{min:0,max:20,value:[e.value,t.value],onChange:(a=e,i=t,([e,t])=>{a.setValue(e),i.setValue(t)}),showInput:!0,fullWidth:!0});var a,i})))),Object(j.jsx)(Ca,null),Object(j.jsx)(ra,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.positionIncrementGapFieldTitle",{defaultMessage:"Set position increment gap"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.positionIncrementGapFieldDescription",{defaultMessage:"The number of fake term positions which should be inserted between each element of an array of strings."}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.positionIncrementGapDocLinkText",{defaultMessage:"Position increment gap documentation"}),href:te.getPositionIncrementGapLink()},defaultToggleValue:St("position_increment_gap",e.source)},Object(j.jsx)(D.FormDataProvider,{pathsToWatch:"index_options"},(e=>Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(D.UseField,{path:"position_increment_gap",config:dt("position_increment_gap"),component:I.RangeField,componentProps:{euiFieldProps:{min:0,max:200,showInput:!0,fullWidth:!0}}}),"positions"!==e.index_options&&"offsets"!==e.index_options&&Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiSpacer,{size:"s"}),Object(j.jsx)(g.EuiCallOut,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.positionsErrorTitle",{defaultMessage:"Positions not enabled."}),color:"danger",iconType:"warning"},Object(j.jsx)("p",null,i.i18n.translate("xpack.idxMgmt.mappingsEditor.positionsErrorMessage",{defaultMessage:'You need to set the index options (under the "Searchable" toggle) to "Positions" or "Offsets" in order to be able to change the position increment gap.'})))))))),Object(j.jsx)(La,{defaultToggleValue:St("similarity",e.source)}),Object(j.jsx)(za,{field:e,defaultToggleValue:St("term_vector",e.source)}),Object(j.jsx)(Ka,{field:e,defaultToggleValue:St("fielddata",e.source)}),Object(j.jsx)(Aa,{defaultToggleValue:St("copy_to",e.source)}),Object(j.jsx)(fa,null),Object(j.jsx)(ni,{defaultToggleValue:St("meta",e.source)}),t.major<8&&Object(j.jsx)(ha,{defaultToggleValue:St("boost",e.source)}))))),Ct=(e,t)=>{switch(e){case"meta":case"boost":return void 0!==t[e]&&t[e]!==dt(e).defaultValue;case"null_value":return void 0!==t.null_value;default:return!1}},Lt=[{value:0,text:'"true"'},{value:1,text:"true"},{value:2,text:'"false"'},{value:3,text:"false"}],wt=(e,t)=>void 0!==t[e]&&t[e]!==dt(e).defaultValue,Dt=(e,t)=>void 0!==t[e]&&t[e]!==dt(e).defaultValue,It=(e,t)=>{switch(e){case"boost":return void 0!==t[e]&&t[e]!==dt(e).defaultValue;case"null_value":return void 0!==t.null_value&&""!==t.null_value;default:return!1}},Pt=(e,t)=>{switch(e){case"analyzer":case"meta":case"boost":return void 0!==t[e]&&t[e]!==dt(e).defaultValue;case"null_value":return void 0!==t.null_value&&""!==t.null_value;default:return!1}},Nt=(e,t)=>{switch(e){case"meta":case"max_input_length":return void 0!==t[e]&&t[e]!==dt(e).defaultValue;case"analyzers":return void 0!==t.search_analyzer&&t.search_analyzer!==t.analyzer;default:return!1}},Bt=(e,t)=>{switch(e){case"meta":return void 0!==t[e]&&t[e]!==dt(e).defaultValue;case"null_value":return void 0!==t.null_value;default:return!1}},Rt=(e,t)=>{switch(e){case"locale":case"format":case"meta":case"boost":return void 0!==t[e]&&t[e]!==dt(e).defaultValue;case"null_value":return void 0!==t.null_value&&""!==t.null_value;default:return!1}},At=({field:e,kibanaVersion:t})=>Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(oa,null,Object(j.jsx)(ba,{hasIndexOptions:!1}),Object(j.jsx)(Ba,{defaultValue:e.source.format,defaultToggleValue:Rt("format",e.source)}),Object(j.jsx)(Ra,null)),Object(j.jsx)(ca,null,Object(j.jsx)(Za,{defaultToggleValue:Rt("locale",e.source)}),Object(j.jsx)(ja,null),Object(j.jsx)(Sa,{defaultToggleValue:Rt("null_value",e.source),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dateType.nullValueFieldDescription",{defaultMessage:"Replace explicit null values with a date value so that it can be indexed and searched."})}),Object(j.jsx)(fa,null),Object(j.jsx)(ni,{defaultToggleValue:Rt("meta",e.source)}),t.major<8&&Object(j.jsx)(ha,{defaultToggleValue:Rt("boost",e.source)}))),zt=(e,t)=>{const{defaultValue:a}=dt(e);return"orientation"===e?void 0!==t[e]&&t[e]!==a:void 0!==t[e]?t[e]:void 0!==a&&a},Vt=(e,t)=>{switch(e){case"similarity":case"term_vector":case"meta":case"max_shingle_size":return void 0!==t[e]&&t[e]!==dt(e).defaultValue;case"analyzers":return void 0!==t.search_analyzer&&t.search_analyzer!==t.analyzer;default:return!1}},Ut=m.a.memo((({field:e})=>Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(oa,null,Object(j.jsx)(ba,{config:{...dt("index_options"),defaultValue:"positions"}})),Object(j.jsx)(ca,null,Object(j.jsx)(Fa,{field:e,withSearchQuoteAnalyzer:!0}),Object(j.jsx)(ti,{defaultToggleValue:Vt("max_shingle_size",e.source)}),Object(j.jsx)(Ca,null),Object(j.jsx)(La,{defaultToggleValue:Vt("similarity",e.source)}),Object(j.jsx)(za,{field:e,defaultToggleValue:Vt("term_vector",e.source)}),Object(j.jsx)(fa,null),Object(j.jsx)(ni,{defaultToggleValue:Vt("meta",e.source)}))))),qt=(e,t)=>{switch(e){case"boost":case"ignore_above":case"meta":case"similarity":return void 0!==t[e]&&t[e]!==dt(e).defaultValue;case"null_value":return void 0!==t.null_value&&""!==t.null_value;default:return!1}},Wt=m.a.memo((({field:e,kibanaVersion:t})=>Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(oa,null,Object(j.jsx)(ba,{config:dt("index_options_flattened"),indexOptions:S.index_options_flattened})),Object(j.jsx)(ca,null,Object(j.jsx)(_a,null),Object(j.jsx)(ra,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.depthLimitTitle",{defaultMessage:"Customize depth limit"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.depthLimitDescription",{defaultMessage:"The maximum allowed depth of the flattened object field, in terms of nested inner objects. Defaults to 20."})},Object(j.jsx)(D.UseField,{path:"depth_limit",config:dt("depth_limit"),component:I.Field})),Object(j.jsx)(li,{defaultToggleValue:qt("ignore_above",e.source)}),Object(j.jsx)(Qa,null),Object(j.jsx)(La,{defaultToggleValue:qt("similarity",e.source)}),Object(j.jsx)(ja,null),Object(j.jsx)(Sa,{defaultToggleValue:qt("null_value",e.source)}),Object(j.jsx)(ni,{defaultToggleValue:qt("meta",e.source)}),t.major<8&&Object(j.jsx)(ha,{defaultToggleValue:qt("boost",e.source)}))))),Gt=(e,t)=>{const{defaultValue:a}=dt(e);switch(e){case"boost":case"orientation":return void 0!==t[e]&&t[e]!==a;default:return void 0!==t[e]?t[e]:void 0!==a&&a}},$t={eagerGlobalOrdinalsDescription:i.i18n.translate("xpack.idxMgmt.mappingsEditor.join.eagerGlobalOrdinalsFieldDescription",{defaultMessage:"The join field uses global ordinals to speed up joins. By default, if the index has changed, global ordinals for the join field will be rebuilt as part of the refresh. This can add significant time to the refresh, however most of the times this is the right trade-off."})},Ht=(e,t)=>void 0!==t[e]&&t[e]!==dt(e).defaultValue,Jt=(e,t)=>void 0!==t[e]&&t[e]!==dt(e).defaultValue,Yt=(e,t)=>void 0!==t[e]&&t[e]!==dt(e).defaultValue,Xt=(e,t)=>void 0!==t[e]&&t[e]!==dt(e).defaultValue,Kt=(e,t)=>void 0!==t[e]&&t[e]!==dt(e).defaultValue,Qt={alias:({field:e,allFields:t})=>Object(j.jsx)(oa,null,Object(j.jsx)(Ia,{field:e,allFields:t})),keyword:({field:e,kibanaVersion:t})=>Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(oa,null,Object(j.jsx)(ba,{config:{...dt("index_options_keyword")},indexOptions:S.index_options_keyword}),Object(j.jsx)(ra,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.normalizerFieldTitle",{defaultMessage:"Use normalizer"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.normalizerFieldDescription",{defaultMessage:"Process the keyword prior to indexing."}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.normalizerDocLinkText",{defaultMessage:"Normalizer documentation"}),href:te.getNormalizerLink()},defaultToggleValue:Tt("normalizer",e.source)},Object(j.jsx)(D.UseField,{path:"normalizer",config:dt("normalizer"),component:I.Field}))),Object(j.jsx)(ca,null,Object(j.jsx)(_a,null),Object(j.jsx)(li,{defaultToggleValue:Tt("ignore_above",e.source)}),Object(j.jsx)(Ca,{configPath:"norms_keyword"}),Object(j.jsx)(La,{defaultToggleValue:Tt("similarity",e.source)}),Object(j.jsx)(Qa,null),Object(j.jsx)(ja,null),Object(j.jsx)(Aa,{defaultToggleValue:Tt("copy_to",e.source)}),Object(j.jsx)(Sa,{defaultToggleValue:Tt("null_value",e.source)}),Object(j.jsx)(fa,null),t.major<8&&Object(j.jsx)(ha,{defaultToggleValue:Tt("boost",e.source)}))),numeric:({field:e,kibanaVersion:t})=>{var a,s;const[n]=Object(D.useFormData)({watch:"subType"});return Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(oa,null,"scaled_float"===(null===(a=n.subType)||void 0===a||null===(s=a[0])||void 0===s?void 0:s.value)?Object(j.jsx)(ra,{title:K.scaling_factor.title,description:K.scaling_factor.description,withToggle:!1},Object(j.jsx)(D.UseField,{path:"scaling_factor",config:dt("scaling_factor"),component:I.Field,"data-test-subj":"scalingFactor"})):null,Object(j.jsx)(ba,{hasIndexOptions:!1}),Object(j.jsx)(Ra,null)),Object(j.jsx)(ca,null,Object(j.jsx)(Pa,null),Object(j.jsx)(ja,null),Object(j.jsx)(Aa,{defaultToggleValue:Ft("copy_to",e.source)}),Object(j.jsx)(Sa,{description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.numeric.nullValueFieldDescription",{defaultMessage:"Accepts a numeric value of the same type as the field which is substituted for any explicit null values."}),defaultToggleValue:Ft("null_value",e.source)},Object(j.jsx)(D.UseField,{path:"null_value",component:I.NumericField,config:dt("null_value_numeric")})),Object(j.jsx)(fa,null),Object(j.jsx)(ni,{defaultToggleValue:Ft("meta",e.source)}),t.major<8&&Object(j.jsx)(ha,{defaultToggleValue:Ft("boost",e.source)})))},text:_t,boolean:({field:e,kibanaVersion:t})=>Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(oa,null,Object(j.jsx)(ba,{hasIndexOptions:!1})),Object(j.jsx)(ca,null,Object(j.jsx)(ja,null),Object(j.jsx)(Sa,{defaultToggleValue:Ct("null_value",e.source),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.booleanNullValueFieldDescription",{defaultMessage:"Replace explicit null values with a specific boolean value so that it can be indexed and searched."})},Object(j.jsx)(D.UseField,{path:"null_value",config:dt("null_value_boolean"),component:I.SelectField,componentProps:{euiFieldProps:{options:Lt,fullWidth:!0}}})),Object(j.jsx)(fa,null),Object(j.jsx)(ni,{defaultToggleValue:Ct("meta",e.source)}),t.major<8&&Object(j.jsx)(ha,{defaultToggleValue:Ct("boost",e.source)}))),binary:({field:e})=>Object(j.jsx)(ca,null,Object(j.jsx)(ja,{configPath:"doc_values_binary"}),Object(j.jsx)(fa,null),Object(j.jsx)(ni,{defaultToggleValue:wt("meta",e.source)})),range:({field:e,kibanaVersion:t})=>Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(oa,null,Object(j.jsx)(ba,{hasIndexOptions:!1}),Object(j.jsx)(D.FormDataProvider,{pathsToWatch:"subType"},(t=>{var a,i;return"date_range"===(null===(a=t.subType)||void 0===a||null===(i=a[0])||void 0===i?void 0:i.value)?Object(j.jsx)(Ba,{defaultValue:e.source.format,defaultToggleValue:Dt("format",e.source)}):null}))),Object(j.jsx)(ca,null,Object(j.jsx)(D.FormDataProvider,{pathsToWatch:"subType"},(t=>{var a,i;return"date_range"===(null===(a=t.subType)||void 0===a||null===(i=a[0])||void 0===i?void 0:i.value)?Object(j.jsx)(Za,{defaultToggleValue:Dt("locale",e.source)}):null})),Object(j.jsx)(Pa,null),Object(j.jsx)(fa,null),Object(j.jsx)(ni,{defaultToggleValue:Dt("meta",e.source)}),t.major<8&&Object(j.jsx)(ha,{defaultToggleValue:Dt("boost",e.source)}))),ip:({field:e,kibanaVersion:t})=>Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(oa,null,Object(j.jsx)(ba,{hasIndexOptions:!1})),Object(j.jsx)(ca,null,Object(j.jsx)(ja,null),Object(j.jsx)(Sa,{defaultToggleValue:It("null_value",e.source)},Object(j.jsx)(D.UseField,{path:"null_value",config:dt("null_value_ip"),component:I.Field})),Object(j.jsx)(fa,null),t.major<8&&Object(j.jsx)(ha,{defaultToggleValue:It("boost",e.source)}))),token_count:({field:e,kibanaVersion:t})=>Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(oa,null,Object(j.jsx)(ra,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.tokenCount.analyzerSectionTitle",{defaultMessage:"Analyzer"}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.tokenCount.analyzerLinkText",{defaultMessage:"Analyzer documentation"}),href:te.getAnalyzerLink()},withToggle:!1},Object(j.jsx)(Ta,{path:"analyzer",config:{...dt("analyzer"),defaultValue:u},defaultValue:e.source.analyzer,allowsIndexDefaultOption:!1})),Object(j.jsx)(ba,{hasIndexOptions:!1})),Object(j.jsx)(ca,null,Object(j.jsx)(ra,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.tokenCount.enablePositionIncrementsFieldTitle",{defaultMessage:"Enable position increments"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.tokenCount.enablePositionIncrementsFieldDescription",{defaultMessage:"Whether to count position increments."}),formFieldPath:"enable_position_increments"}),Object(j.jsx)(ja,null),Object(j.jsx)(Sa,{defaultToggleValue:Pt("null_value",e.source),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.tokenCount.nullValueFieldDescription",{defaultMessage:"Accepts a numeric value of the same type as the field which is substituted for any explicit null values."})},Object(j.jsx)(D.UseField,{path:"null_value",component:I.NumericField,config:dt("null_value_numeric")})),Object(j.jsx)(fa,null),Object(j.jsx)(ni,{defaultToggleValue:Pt("meta",e.source)}),t.major<8&&Object(j.jsx)(ha,{defaultToggleValue:Pt("boost",e.source)}))),completion:({field:e})=>Object(j.jsx)(ca,null,Object(j.jsx)(Fa,{field:e}),Object(j.jsx)(ra,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.completion.maxInputLengthFieldTitle",{defaultMessage:"Set max input length"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.completion.maxInputLengthFieldDescription",{defaultMessage:"Limits the length of a single input."}),defaultToggleValue:Nt("max_input_length",e.source)},Object(j.jsx)(D.UseField,{path:"max_input_length",config:dt("max_input_length"),component:I.Field})),Object(j.jsx)(ra,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.completion.preserveSeparatorsFieldTitle",{defaultMessage:"Preserve separators"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.completion.preserveSeparatorsFieldDescription",{defaultMessage:"Preserves the separators."}),formFieldPath:"preserve_separators"}),Object(j.jsx)(ra,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.completion.preservePositionIncrementsFieldTitle",{defaultMessage:"Preserve position increments"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.completion.preservePositionIncrementsFieldDescription",{defaultMessage:"Enables position increments."}),formFieldPath:"preserve_position_increments"}),Object(j.jsx)(ni,{defaultToggleValue:Nt("meta",e.source)})),geo_point:({field:e})=>Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(oa,null,Object(j.jsx)(Ra,{description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.geoPoint.ignoreMalformedFieldDescription",{defaultMessage:"By default, documents that contain malformed geo-points are not indexed. If enabled, these documents are indexed, but fields with malformed geo-points are filtered out. Be careful: if too many documents are indexed this way, queries on the field become meaningless."})})),Object(j.jsx)(ca,null,Object(j.jsx)(Ha,null),Object(j.jsx)(Sa,{defaultToggleValue:Bt("null_value",e.source),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.geoPoint.nullValueFieldDescription",{defaultMessage:"Replace explicit null values with a geo-point value so that it can be indexed and searched."})},Object(j.jsx)(D.UseField,{path:"null_value",component:I.TextAreaField,config:dt("null_value_geo_point")})),Object(j.jsx)(ni,{defaultToggleValue:Bt("meta",e.source)}))),date:At,date_nanos:At,geo_shape:({field:e})=>Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(oa,null,Object(j.jsx)(Ra,{description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.geoShape.ignoreMalformedFieldDescription",{defaultMessage:"By default, documents that contain malformed GeoJSON or WKT shapes are not indexed. If enabled, these documents are indexed, but fields with malformed shapes are filtered out. Be careful: if too many documents are indexed this way, queries on the field become meaningless."})})),Object(j.jsx)(ca,null,Object(j.jsx)(Ja,{defaultToggleValue:zt("orientation",e.source)}),Object(j.jsx)(ra,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.geoShape.pointsOnlyFieldTitle",{defaultMessage:"Points only"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.geoShape.pointsOnlyFieldDescription",{defaultMessage:"Optimizes geo-shape queries if this field contains only geo-points. Shapes, including multi-point shapes, will be rejected."}),formFieldPath:"points_only"}),Object(j.jsx)(Ha,null),Object(j.jsx)(Na,null))),search_as_you_type:Ut,flattened:Wt,shape:({field:e})=>Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(oa,null,Object(j.jsx)(Ra,{description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.shapeType.ignoredMalformedFieldDescription",{defaultMessage:"By default, documents that contain malformed GeoJSON or WKT shapes are not indexed. If enabled, these documents are indexed, but fields with malformed shapes are filtered out. Be careful: if too many documents are indexed this way, queries on the field become meaningless."})})),Object(j.jsx)(ca,null,Object(j.jsx)(Ja,{defaultToggleValue:Gt("orientation",e.source)}),Object(j.jsx)(Ha,null),Object(j.jsx)(Na,null))),dense_vector:()=>Object(j.jsx)(oa,null,Object(j.jsx)(D.UseField,{path:"dims",config:dt("dims"),component:I.Field})),object:({field:e})=>Object(j.jsx)(oa,null,Object(j.jsx)(pa,{defaultToggleValue:!0===e.source.dynamic||void 0===e.source.dynamic}),Object(j.jsx)(ei,null)),other:()=>Object(j.jsx)(oa,null,Object(j.jsx)(si,null)),nested:({field:e})=>Object(j.jsx)(oa,null,Object(j.jsx)(pa,{defaultToggleValue:!0===e.source.dynamic||void 0===e.source.dynamic})),join:()=>Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(oa,null,Object(j.jsx)(ua,null)),Object(j.jsx)(ca,null,Object(j.jsx)(_a,{configPath:"eager_global_ordinals_join",description:$t.eagerGlobalOrdinalsDescription}))),histogram:({field:e})=>Object(j.jsx)(ca,null,Object(j.jsx)(Ra,null),Object(j.jsx)(ni,{defaultToggleValue:Ht("meta",e.source)})),constant_keyword:({field:e})=>Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(oa,null,Object(j.jsx)(ra,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.constantKeyword.valueFieldTitle",{defaultMessage:"Set value"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.constantKeyword.valueFieldDescription",{defaultMessage:"The value of this field for all documents in the index. If not specified, defaults to the value specified in the first document indexed."}),defaultToggleValue:Jt("value",e.source)},Object(j.jsx)(D.UseField,{path:"value",config:dt("value"),component:I.Field}))),Object(j.jsx)(ca,null,Object(j.jsx)(ni,{defaultToggleValue:Jt("meta",e.source)}))),rank_feature:()=>Object(j.jsx)(oa,null,Object(j.jsx)(ra,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.rankFeature.positiveScoreImpactFieldTitle",{defaultMessage:"Positive score impact"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.rankFeature.positiveScoreImpactFieldDescription",{defaultMessage:"Rank features that correlate negatively with the score should disable this field."}),formFieldPath:"positive_score_impact"})),wildcard:({field:e})=>Object(j.jsx)(ca,null,Object(j.jsx)(li,{defaultToggleValue:Yt("ignore_above",e.source)})),point:({field:e})=>Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(oa,null,Object(j.jsx)(Ra,{description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.point.ignoreMalformedFieldDescription",{defaultMessage:"By default, documents that contain malformed points are not indexed. If enabled, these documents are indexed, but fields with malformed points are filtered out. Be careful: if too many documents are indexed this way, queries on the field become meaningless."})})),Object(j.jsx)(ca,null,Object(j.jsx)(Ha,{description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.point.ignoreZValueFieldDescription",{defaultMessage:"Three dimension points will be accepted, but only x and y values will be indexed; the third dimension is ignored."})}),Object(j.jsx)(Sa,{defaultToggleValue:Xt("null_value",e.source),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.point.nullValueFieldDescription",{defaultMessage:"Replace explicit null values with a point value so that it can be indexed and searched."})},Object(j.jsx)(D.UseField,{path:"null_value",component:I.TextAreaField,config:dt("null_value_point")})),Object(j.jsx)(ni,{defaultToggleValue:Xt("meta",e.source)}))),version:({field:e})=>Object(j.jsx)(ca,null,Object(j.jsx)(ni,{defaultToggleValue:Kt("meta",e.source)}))},Zt=()=>{const e=i.i18n.translate("xpack.idxMgmt.mappingsEditor.fieldBetaBadgeLabel",{defaultMessage:"Beta"}),t=i.i18n.translate("xpack.idxMgmt.mappingsEditor.fieldBetaBadgeTooltip",{defaultMessage:"This field type is not GA. Please help us by reporting any bugs."});return Object(j.jsx)(g.EuiBetaBadge,{label:e,tooltipContent:t})},ea=({children:e,isMultiField:t})=>e||t?Object(j.jsx)("section",null,Object(j.jsx)(g.EuiText,{size:"s",color:"subdued"},e,t&&Object(j.jsx)("p",null,i.i18n.translate("xpack.idxMgmt.mappingsEditor.multiFieldIntroductionText",{defaultMessage:"This field is a multi-field. You can use multi-fields to index the same field in different ways."})))):null,ta=m.a.memo((({defaultValue:e,isRootLevelField:t,isMultiField:a})=>Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiFlexGroup,{gutterSize:"s"},Object(j.jsx)(g.EuiFlexItem,null,Object(j.jsx)(xa,null)),Object(j.jsx)(g.EuiFlexItem,null,Object(j.jsx)(Va,{isRootLevelField:t,isMultiField:a})),Object(j.jsx)(D.FormDataProvider,{pathsToWatch:"type"},(({type:i})=>{if(void 0===i)return null;const[s]=i;return Object(j.jsx)($a,{key:s.value,type:s.value,defaultValueType:e.type,isMultiField:a,isRootLevelField:t})}))),Object(j.jsx)(D.FormDataProvider,{pathsToWatch:["type","subType"]},(({type:e,subType:t})=>{var i,s;const n=((e,t)=>{if(!e)return;const a=h[e];return void 0!==a.subTypes?t?h[t]:void 0:a})(e[0].value,t&&t[0].value),l=null!==(i=null==n||null===(s=n.description)||void 0===s?void 0:s.call(n))&&void 0!==i?i:null;return Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiSpacer,{size:"l"}),(null==n?void 0:n.isBeta)&&Object(j.jsx)(Zt,null),Object(j.jsx)(g.EuiSpacer,{size:"s"}),Object(j.jsx)(ea,{isMultiField:a},l))}))))),aa=(e,t=18)=>e.length<=t?e:`...${e.substr(-1*t)}`,ia=({children:e})=>Object(j.jsx)(m.a.Fragment,null,e),sa=m.a.memo((({form:e,field:t,allFields:a,exitEdit:s,updateField:n,kibanaVersion:l})=>{const{isMultiField:o}=t,r=Object(D.useFormIsModified)({form:e});return Object(j.jsx)(D.Form,{form:e,FormWrapper:ia},Object(j.jsx)(g.EuiFlyoutHeader,null,Object(j.jsx)(g.EuiFlexGroup,{gutterSize:"xs"},Object(j.jsx)(g.EuiFlexItem,null,Object(j.jsx)("div",null,Object(j.jsx)(g.EuiTitle,{size:"m"},Object(j.jsx)("h2",{"data-test-subj":"flyoutTitle"},o?i.i18n.translate("xpack.idxMgmt.mappingsEditor.editMultiFieldTitle",{defaultMessage:"Edit multi-field '{fieldName}'",values:{fieldName:aa(t.source.name)}}):i.i18n.translate("xpack.idxMgmt.mappingsEditor.editFieldTitle",{defaultMessage:"Edit field '{fieldName}'",values:{fieldName:aa(t.source.name)}}))))),Object(j.jsx)(D.FormDataProvider,{pathsToWatch:["type","subType"]},(({type:e,subType:t})=>{var a,s;const n=te.getTypeDocLink(null==t||null===(a=t[0])||void 0===a?void 0:a.value)||te.getTypeDocLink(null==e||null===(s=e[0])||void 0===s?void 0:s.value);if(!n)return null;const l=h[e[0].value],o=h[null==t?void 0:t[0].value];return Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(g.EuiButtonEmpty,{size:"s",flush:"right",href:n,target:"_blank",iconType:"help","data-test-subj":"documentationLink"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.editField.typeDocumentation",{defaultMessage:"{type} documentation",values:{type:o?o.label:l.label}})))}))),Object(j.jsx)(g.EuiFlexGroup,null,Object(j.jsx)(g.EuiFlexItem,{grow:!1,"data-test-subj":"fieldPath"},Object(j.jsx)(Ot,{padding:"small"},t.path.join(" > "))))),Object(j.jsx)(g.EuiFlyoutBody,null,Object(j.jsx)(ta,{defaultValue:t.source,isRootLevelField:void 0===t.parentId,isMultiField:o}),Object(j.jsx)(D.FormDataProvider,{pathsToWatch:["type","subType"]},(({type:e,subType:i})=>{const s=((e,t)=>void 0===t?Qt[e]:Qt[t]||Qt[e])(null==e?void 0:e[0].value,null==i?void 0:i[0].value);return s?Object(j.jsx)(s,{key:null!=i?i:e,field:t,allFields:a,isMultiField:o,kibanaVersion:l}):null}))),Object(j.jsx)(g.EuiFlyoutFooter,null,e.isSubmitted&&!e.isValid&&Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiCallOut,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.editFieldFlyout.validationErrorTitle",{defaultMessage:"Fix errors in form before continuing."}),color:"danger",iconType:"cross","data-test-subj":"formError"}),Object(j.jsx)(g.EuiSpacer,{size:"m"})),Object(j.jsx)(g.EuiFlexGroup,{justifyContent:"flexEnd",alignItems:"center"},r&&Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiFlexItem,null,Object(j.jsx)(g.EuiText,{size:"s"},Object(j.jsx)("p",null,Object(j.jsx)(g.EuiToolTip,{content:i.i18n.translate("xpack.idxMgmt.mappingsEditor.editFieldFlyout.formCompletionTooltip",{defaultMessage:"Default settings are applied to the settings that you haven't changed."}),position:"top"},Object(j.jsx)("span",null,Object(j.jsx)(g.EuiTextColor,{color:"subdued"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.editFieldFlyout.formCompletionGuide",{defaultMessage:"Review all settings before updating "})),Object(j.jsx)(g.EuiIcon,{type:"questionInCircle"}))))))),Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(g.EuiButtonEmpty,{onClick:s},i.i18n.translate("xpack.idxMgmt.mappingsEditor.editFieldCancelButtonLabel",{defaultMessage:"Cancel"}))),Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(g.EuiButton,{fill:!0,onClick:async()=>{const{isValid:a,data:i}=await e.submit();a&&n({...t,source:i})},type:"submit",disabled:e.isSubmitted&&!e.isValid||!r,"data-test-subj":"editFieldUpdateButton"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.editFieldUpdateButtonLabel",{defaultMessage:"Update"}))))))})),na={"data-test-subj":"mappingsEditorFieldEdit","aria-labelledby":"mappingsEditorFieldEditTitle",className:"mappingsEditor__editField",maxWidth:720},la=m.a.memo((({exitEdit:e})=>{const{fields:t,documentFields:a}=Bi(),s=Ri(),{updateField:n,modal:l}=(()=>{const[e,t]=Object(p.useState)({isModalOpen:!1}),a=Ri(),{fields:s}=Bi(),{byId:n,aliases:l}=s,o=i.i18n.translate("xpack.idxMgmt.mappingsEditor.updateField.confirmationModal.confirmDescription",{defaultMessage:"Confirm type change"});let r="";if(e.field){const{source:t}=e.field;r=i.i18n.translate("xpack.idxMgmt.mappingsEditor.updateField.confirmationModal.title",{defaultMessage:"Confirm change '{fieldName}' type to '{fieldType}'.",values:{fieldName:t.name,fieldType:t.type}})}const c=()=>{t({isModalOpen:!1})};return{updateField:Object(p.useCallback)((e=>{const i=n[e.id];if(e.source.type!==i.source.type){const a=l[e.id]||[],o=gt(e,s),r=a&&Boolean(a.length),c=!K.path.targetTypesNotAllowed.includes(e.source.type);let d,u=[];if(r&&!c?(u=o,d=!0):(d=((t,a)=>{const{hasChildFields:i,hasMultiFields:s}=e;return!(!i&&!s)&&ht(t,a)})(i.source.type,e.source.type),d&&(u=o.filter((e=>!1===a.includes(e))))),d)return void t({isModalOpen:!0,field:e,aliases:Boolean(u.length)?u.map((e=>n[e].path.join(" > "))).sort():void 0})}a({type:"field.edit",value:e.source})}),[a,l,s,n]),modal:{isOpen:e.isModalOpen,props:{childFields:e.field&&e.field.childFields,title:r,aliases:e.aliases,byId:n,confirmButtonText:o,onConfirm:()=>{a({type:"field.edit",value:e.field.source}),c()},onCancel:c}}}})(),{services:{kibanaVersion:o}}=eu(),{status:r,fieldToEdit:c}=a,d="editingField"===r,u=t.byId[c],g=Object(p.useMemo)((()=>({...null==u?void 0:u.source})),[null==u?void 0:u.source]),{form:x}=Object(D.useForm)({defaultValue:g,serializer:ci,deserializer:di,options:{stripEmptyFields:!1},id:"edit-field"}),{subscribe:b}=x;return Object(p.useEffect)((()=>b((e=>{s({type:"fieldForm.update",value:e})})).unsubscribe),[b,s]),d?Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(sa,{form:x,field:u,allFields:t.byId,exitEdit:e,updateField:n,kibanaVersion:o.get()}),l.isOpen?Object(j.jsx)(kt,l.props):null):null})),oa=({children:e})=>Object(j.jsx)("section",null,Object(j.jsx)(g.EuiSpacer,{size:"l"}),e),ra=m.a.memo((({title:e,description:t,docLink:a,defaultToggleValue:i,formFieldPath:s,children:n,withToggle:l=!0,configPath:o,"data-test-subj":r})=>{const c=Object(D.useFormContext)(),d=!1===l||(void 0!==i?i:void 0!==s&&dt(o||s).defaultValue),[u,m]=Object(p.useState)(d),x="function"==typeof n,b=()=>{!0===u&&c.reset({resetValues:!1}),m(!u)},f=()=>{const i=l&&Object(j.jsx)(g.EuiFlexItem,{grow:!1,className:"mappingsEditor__editFieldFormRow__toggle"},void 0===s?Object(j.jsx)(g.EuiSwitch,{label:e,checked:u,onChange:b,"data-test-subj":"formRowToggle",showLabel:!1}):Object(j.jsx)(D.UseField,{path:s,config:{...dt(o||s),defaultValue:d}},(t=>Object(j.jsx)(I.ToggleField,{field:t,"data-test-subj":"abc",euiFieldProps:{label:e,showLabel:!1,"data-test-subj":"formRowToggle"}})))),c=Object(j.jsx)(g.EuiTitle,{size:"xs"},Object(j.jsx)("h3",null,e)),p=t&&Object(j.jsx)(g.EuiText,{size:"s",color:"subdued",className:"mappingsEditor__editField__formRow__description"},t),m=(c||p)&&Object(j.jsx)("div",{style:{paddingLeft:!1===l?"0":void 0}},Object(j.jsx)(g.EuiFlexGroup,{alignItems:"center",justifyContent:"spaceBetween"},Object(j.jsx)(g.EuiFlexItem,null,c),a?Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(g.EuiToolTip,{content:a.text},Object(j.jsx)(g.EuiButtonIcon,{href:a.href,target:"_blank",iconType:"help","aria-label":a.text}))):null),p),f=(u&&void 0!==n||x)&&Object(j.jsx)("div",{style:{paddingLeft:!1===l?"0":void 0}},Object(j.jsx)(g.EuiSpacer,{size:"m"}),x?n(u):n);return Object(j.jsx)(g.EuiFlexGroup,{className:"mappingsEditor__editField__formRow","data-test-subj":r},i,Object(j.jsx)(g.EuiFlexItem,null,Object(j.jsx)("div",null,m,f)))};return s?Object(j.jsx)(D.FormDataProvider,{pathsToWatch:s},(e=>(m(Object(Me.get)(e,s)),f()))):f()})),ca=({children:e})=>{const[t,a]=Object(p.useState)(!1);return Object(j.jsx)("div",{className:"mappingsEditor__editField__advancedSettings"},Object(j.jsx)(g.EuiHorizontalRule,null),Object(j.jsx)(g.EuiButtonEmpty,{onClick:()=>{a(!t)},flush:"left","data-test-subj":"toggleAdvancedSetting"},t?i.i18n.translate("xpack.idxMgmt.mappingsEditor.advancedSettings.hideButtonLabel",{defaultMessage:"Hide advanced settings"}):i.i18n.translate("xpack.idxMgmt.mappingsEditor.advancedSettings.showButtonLabel",{defaultMessage:"Show advanced settings"})),Object(j.jsx)("div",{style:{display:t?"block":"none"},"data-test-subj":"advancedSettings"},Object(j.jsx)(g.EuiSpacer,{size:"m"}),Object(j.jsx)("div",null,e)))},da={defaultValue:[]},ua=()=>Object(j.jsx)(ra,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.relationshipsTitle",{defaultMessage:"Relationships"}),withToggle:!1},Object(j.jsx)(D.UseArray,{path:"relations",initialNumberOfItems:0},(({items:e,addItem:t,removeItem:a})=>{const s=[{name:i.i18n.translate("xpack.idxMgmt.mappingsEditor.joinType.relationshipTable.parentColumnTitle",{defaultMessage:"Parent"}),render:e=>Object(j.jsx)("div",{style:{width:"100%"}},Object(j.jsx)(D.UseField,{path:`${e.path}.parent`,component:I.TextField,componentProps:{euiFieldProps:{"aria-label":i.i18n.translate("xpack.idxMgmt.mappingsEditor.joinType.relationshipTable.parentFieldAriaLabel",{defaultMessage:"Parent field"})}},readDefaultValueOnForm:!e.isNew}))},{name:i.i18n.translate("xpack.idxMgmt.mappingsEditor.joinType.relationshipTable.childrenColumnTitle",{defaultMessage:"Children"}),render:e=>Object(j.jsx)("div",{style:{width:"100%"}},Object(j.jsx)(D.UseField,{path:`${e.path}.children`,config:da,component:I.ComboBoxField,componentProps:{euiFieldProps:{"aria-label":i.i18n.translate("xpack.idxMgmt.mappingsEditor.joinType.relationshipTable.childrenFieldAriaLabel",{defaultMessage:"Children field"})}},readDefaultValueOnForm:!e.isNew}))},{width:"48px",actions:[{render:({id:e})=>{const t=i.i18n.translate("xpack.idxMgmt.mappingsEditor.joinType.relationshipTable.removeRelationshipTooltipLabel",{defaultMessage:"Remove relationship"});return Object(j.jsx)(g.EuiToolTip,{content:t,delay:"long"},Object(j.jsx)(g.EuiButtonIcon,{"data-test-subj":"removeRelationshipButton","aria-label":t,iconType:"minusInCircle",color:"danger",onClick:()=>a(e)}))}}]}];return Object(j.jsx)(m.a.Fragment,null,e.length>1&&Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiCallOut,{color:"warning",iconType:"warning",size:"s",title:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.join.multiLevelsParentJoinWarningTitle",defaultMessage:"Avoid using multiple levels to replicate a relational model. Each relation level increases computation time and memory consumption at query time. For best performance, {docsLink}",values:{docsLink:Object(j.jsx)(g.EuiLink,{href:te.getJoinMultiLevelsPerformanceLink(),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.join.multiLevelsPerformanceDocumentationLink",{defaultMessage:"denormalize your data."}))}})}),Object(j.jsx)(g.EuiSpacer,null)),Object(j.jsx)(g.EuiBasicTable,{items:e,itemId:"id",columns:s,noItemsMessage:i.i18n.translate("xpack.idxMgmt.mappingsEditor.joinType.relationshipTable.emptyTableMessage",{defaultMessage:"No relationship defined"}),hasActions:!0}),Object(j.jsx)(g.EuiButtonEmpty,{onClick:t,iconType:"plusInCircleFilled","data-test-subj":"addRelationButton"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.joinType.addRelationshipButtonLabel",{defaultMessage:"Add relationship"})))}))),pa=({defaultToggleValue:e})=>Object(j.jsx)(ra,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dynamicPropertyMappingParameter.fieldTitle",{defaultMessage:"Dynamic property mapping"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dynamicPropertyMappingParameter.fieldDescription",{defaultMessage:"By default, properties can be added dynamically to objects within a document, just by indexing a document with the object containing the new property."}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dynamicDocLinkText",{defaultMessage:"Dynamic documentation"}),href:te.getDynamicLink()},formFieldPath:"dynamic_toggle",defaultToggleValue:e},(e=>!1===e?Object(j.jsx)(D.UseField,{path:"dynamic_strict",config:dt("dynamic_strict"),component:I.CheckBoxField}):null)),{validations:ma,...ga}=K.name.fieldConfig,xa=()=>{const{fields:{rootLevelFields:e,byId:t},documentFields:{fieldToAddFieldTo:a,fieldToEdit:i}}=Bi(),s=i?t[i].source.name:void 0,n=i?t[i].parentId:a,l=Object(p.useCallback)((a=>ui({rootLevelFields:e,byId:t},s,n)(a)),[e,t,s,n]),o=Object(p.useMemo)((()=>({...ga,validations:[...ma,{validator:l}]})),[l]);return Object(j.jsx)(D.UseField,{path:"name",config:o,component:I.TextField,componentProps:{euiFieldProps:{"data-test-subj":"nameParameterInput"}}})},ba=({indexOptions:e=S.index_options,hasIndexOptions:t=!0,config:a=dt("index_options")})=>Object(j.jsx)(ra,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.searchableFieldTitle",{defaultMessage:"Searchable"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.searchableFieldDescription",{defaultMessage:"Allow the field to be searched."}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.indexDocLinkText",{defaultMessage:"Searchable documentation"}),href:te.getIndexLink()},formFieldPath:"index","data-test-subj":"indexParameter"},t?Object(j.jsx)(D.UseField,{path:"index_options",config:a,component:I.Field,componentProps:{euiFieldProps:{options:e}}}):void 0),fa=()=>Object(j.jsx)(ra,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.storeFieldValueFieldTitle",{defaultMessage:"Store field value outside of _source"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.storeFieldValueFieldDescription",{defaultMessage:"This can be useful when the _source field is very large and you want to retrieve a few select fields without extracting them from _source."}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.storeDocLinkText",{defaultMessage:"Store documentation"}),href:te.getStoreLink()},formFieldPath:"store"}),ja=({configPath:e="doc_values"})=>Object(j.jsx)(ra,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.docValuesFieldTitle",{defaultMessage:"Use doc values"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.docValuesFieldDescription",{defaultMessage:"Store each document's value for this field in memory so it can be used for sorting, aggregations, and in scripts."}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.docValuesDocLinkText",{defaultMessage:"Doc values documentation"}),href:te.getDocValuesLink()},formFieldPath:"doc_values",configPath:e}),ha=({defaultToggleValue:e})=>Object(j.jsx)(ra,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.boostFieldTitle",{defaultMessage:"Set boost level"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.boostFieldDescription",{defaultMessage:"Boost this field at query time so it counts more toward the relevance score."}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.boostDocLinkText",{defaultMessage:"Boost documentation"}),href:te.getBoostLink()},defaultToggleValue:e,"data-test-subj":"boostParameter"},Object(j.jsx)(D.UseField,{path:"boost",config:dt("boost"),component:I.RangeField,componentProps:{euiFieldProps:{min:1,max:20,showInput:!0,fullWidth:!0}}})),Ma=Object(p.createContext)(void 0),Oa=({children:e})=>{const[t,a]=Object(p.useState)({indexSettings:{}});return Object(j.jsx)(Ma.Provider,{value:{value:t,update:a}},e)},ya=()=>{const e=Object(p.useContext)(Ma);if(void 0===e)throw new Error("useConfig must be used within a <ConfigProvider />");return e},va=({onChange:e,mainDefaultValue:t,subDefaultValue:a,config:i,options:s,mapOptionsToSubOptions:n,"data-test-subj":l})=>{const{form:o}=Object(D.useForm)({defaultValue:{main:t,sub:a}}),{subscribe:r}=o;Object(p.useEffect)((()=>r((t=>{const a=t.data.internal,i=a.sub?a.sub:a.main;e(i)})).unsubscribe),[r,e]);const c=Object(p.useCallback)((e=>void 0!==n?n[e]:void 0),[n]),d=Object(p.useCallback)((e=>{const t=c(e);o.setFieldValue("sub",t?t.options[0].value:void 0)}),[o,c]),u=(e,t)=>{const a=(e=>!(!e||!Boolean(e.length))&&!1==={}.hasOwnProperty.call(e[0],"text"))(t);return a?Object(j.jsx)(I.SuperSelectField,{field:e,euiFieldProps:{options:t},"data-test-subj":l}):Object(j.jsx)(I.SelectField,{field:e,euiFieldProps:{options:t,hasNoInitialSelection:!1},"data-test-subj":l})};return Object(j.jsx)(D.Form,{form:o},Object(j.jsx)(D.FormDataProvider,{pathsToWatch:"main"},(({main:e})=>{const t=c(e);return Object(j.jsx)(g.EuiFlexGroup,null,Object(j.jsx)(g.EuiFlexItem,null,Object(j.jsx)(D.UseField,{path:"main",config:i,onChange:d},(e=>u(e,s)))),t&&Object(j.jsx)(g.EuiFlexItem,null,Object(j.jsx)(D.UseField,{path:"sub",config:{...i,defaultValue:t.options[0].value,label:t.label}},(e=>u(e,t.options)))))})))},Ea=S.analyzer,ka=S.analyzer.filter((({value:e})=>e!==d)),Ta=({path:e,defaultValue:t,label:a,config:s,allowsIndexDefaultOption:n=!0,"data-test-subj":l})=>{const{value:{indexSettings:o}}=ya(),r=(e=>{const t={}.hasOwnProperty.call(e,"index")?e.index:e;if({}.hasOwnProperty.call(t,"analysis")&&{}.hasOwnProperty.call(t.analysis,"analyzer"))try{return Object.keys(t.analysis.analyzer).map((e=>({value:e,text:e})))}catch{return}})(o),c=[...n?Ea:ka],d={language:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.analyzers.languageAnalyzerLabel",{defaultMessage:"Language"}),options:S.languageAnalyzer}};if(r){const e={value:"custom",...T(i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.customTitle",{defaultMessage:"Custom analyzer"}),i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.customDescription",{defaultMessage:"Choose one of your custom analyzers."}))};c.push(e),d.custom={label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.analyzers.customAnalyzerLabel",{defaultMessage:"Custom"}),options:r}}const u=void 0===t||c.some((e=>e.value===t));let m,x=t,b=!1;if(!u&&void 0!==d)for(const[e,a]of Object.entries(d))if(a.options.some((e=>e.value===t))){b=!0,x=e,m=t;break}const[f,h]=Object(p.useState)(!u&&!b),[M,O]=Object(p.useState)({main:x,sub:m}),y=s||dt("analyzer"),v=void 0!==a?{...y,label:a}:y,E=e=>()=>{f?e.setValue(c[0].value):e.setValue(""),e.reset({resetValue:!1}),O({main:void 0,sub:void 0}),h(!f)};return Object(j.jsx)(D.UseField,{path:e,config:v},(e=>Object(j.jsx)("div",{className:"mappingsEditor__selectWithCustom"},Object(j.jsx)(g.EuiButtonEmpty,{size:"xs",onClick:E(e),className:"mappingsEditor__selectWithCustom__button","data-test-subj":`${l}-toggleCustomButton`},f?i.i18n.translate("xpack.idxMgmt.mappingsEditor.predefinedButtonLabel",{defaultMessage:"Use built-in analyzer"}):i.i18n.translate("xpack.idxMgmt.mappingsEditor.customButtonLabel",{defaultMessage:"Use custom analyzer"})),f?Object(j.jsx)(g.EuiFlexGroup,null,Object(j.jsx)(g.EuiFlexItem,null,Object(j.jsx)(I.TextField,{field:e,"data-test-subj":`${l}-custom`}))):Object(j.jsx)(va,{onChange:e.setValue,mainDefaultValue:M.main,subDefaultValue:M.sub,config:v,options:c,mapOptionsToSubOptions:d,"data-test-subj":l}))))},Fa=({field:e,withSearchQuoteAnalyzer:t=!1})=>Object(j.jsx)(ra,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.analyzersSectionTitle",{defaultMessage:"Analyzers"}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.analyzersDocLinkText",{defaultMessage:"Analyzers documentation"}),href:te.getAnalyzerLink()},withToggle:!1,"data-test-subj":"analyzerParameters"},Object(j.jsx)(D.FormDataProvider,{pathsToWatch:"useSameAnalyzerForSearch"},(({useSameAnalyzerForSearch:t})=>{const a=t?i.i18n.translate("xpack.idxMgmt.mappingsEditor.indexSearchAnalyzerFieldLabel",{defaultMessage:"Index and search analyzer"}):i.i18n.translate("xpack.idxMgmt.mappingsEditor.indexAnalyzerFieldLabel",{defaultMessage:"Index analyzer"});return Object(j.jsx)(Ta,{path:"analyzer",label:a,defaultValue:e.source.analyzer,"data-test-subj":"indexAnalyzer"})})),Object(j.jsx)(g.EuiSpacer,{size:"s"}),Object(j.jsx)(D.UseField,{path:"useSameAnalyzerForSearch",component:I.CheckBoxField,componentProps:{"data-test-subj":"useSameAnalyzerForSearchCheckBox"},config:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.analyzers.useSameAnalyzerIndexAnSearch",{defaultMessage:"Use the same analyzers for index and searching"}),defaultValue:!0}}),Object(j.jsx)(D.FormDataProvider,{pathsToWatch:"useSameAnalyzerForSearch"},(({useSameAnalyzerForSearch:t})=>t?null:Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiSpacer,{size:"m"}),Object(j.jsx)(Ta,{path:"search_analyzer",defaultValue:e.source.search_analyzer,config:dt("search_analyzer"),"data-test-subj":"searchAnalyzer"}),Object(j.jsx)(g.EuiSpacer,{size:"s"})))),t&&Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiSpacer,{size:"m"}),Object(j.jsx)(Ta,{path:"search_quote_analyzer",defaultValue:e.source.search_quote_analyzer,config:dt("search_quote_analyzer"),"data-test-subj":"searchQuoteAnalyzer"}))),Sa=({defaultToggleValue:e,description:t,children:a})=>Object(j.jsx)(ra,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.nullValueFieldTitle",{defaultMessage:"Set null value"}),description:t||i.i18n.translate("xpack.idxMgmt.mappingsEditor.nullValueFieldDescription",{defaultMessage:"Replace explicit null values with the specified value so that it can be indexed and searched."}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.nullValueDocLinkText",{defaultMessage:"Null value documentation"}),href:te.getNullValueLink()},defaultToggleValue:e},a||Object(j.jsx)(D.UseField,{path:"null_value",config:dt("null_value"),component:I.Field})),_a=({description:e,configPath:t="eager_global_ordinals"})=>Object(j.jsx)(ra,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.eagerGlobalOrdinalsFieldTitle",{defaultMessage:"Build global ordinals at index time"}),description:e||i.i18n.translate("xpack.idxMgmt.mappingsEditor.eagerGlobalOrdinalsFieldDescription",{defaultMessage:"By default, global ordinals are built at search time, which optimizes for index speed. You can optimize for search performance by building them at index time instead."}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.eagerGlobalOrdinalsDocLinkText",{defaultMessage:"Global ordinals documentation"}),href:te.getEagerGlobalOrdinalsLink()},formFieldPath:"eager_global_ordinals",configPath:t}),Ca=({configPath:e="norms"})=>Object(j.jsx)(ra,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.useNormsFieldTitle",{defaultMessage:"Use norms"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.useNormsFieldDescription",{defaultMessage:"Account for field length when scoring queries. Norms require significant memory and are not necessary for fields that are used solely for filtering or aggregations."}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.normsDocLinkText",{defaultMessage:"Norms documentation"}),href:te.getNormsLink()},formFieldPath:"norms",configPath:e}),La=({defaultToggleValue:e})=>Object(j.jsx)(ra,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.setSimilarityFieldTitle",{defaultMessage:"Set similarity"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.setSimilarityFieldDescription",{defaultMessage:"The scoring algorithm or similarity to use."}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.similarityDocLinkText",{defaultMessage:"Similarity documentation"}),href:te.getSimilarityLink()},defaultToggleValue:e},Object(j.jsx)(D.UseField,{path:"similarity",config:dt("similarity"),component:I.Field,componentProps:{euiFieldProps:{options:S.similarity}}})),wa=K.path.targetTypesNotAllowed,Da=e=>t=>"string"==typeof t&&Boolean(t)?[{id:t,label:e[t].path.join(" > ")}]:[],Ia=({field:e,allFields:t})=>{const a=((e,t)=>Object.entries(e).filter((([e,a])=>!(t&&e===t.id||wa.includes(a.source.type)))).map((([e,t])=>({id:e,label:t.path.join(" > ")}))).sort(((e,t)=>e.label>t.label?1:e.label<t.label?-1:0)))(t,e),s=Object(p.useMemo)((()=>({...dt("path"),deserializer:Da(t)})),[t]);return Object(j.jsx)(D.UseField,{path:"path",config:s},(e=>{const t=e.getErrorsMessages(),s=!!t&&Boolean(t.length);return Object(j.jsx)(ra,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.aliasType.aliasTargetFieldTitle",{defaultMessage:"Alias target"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.aliasType.aliasTargetFieldDescription",{defaultMessage:"Select the field you want your alias to point to. You will then be able to use the alias instead of the target field in search requests and select other APIs like field capabilities."}),withToggle:!1},Object(j.jsx)(m.a.Fragment,null,!Boolean(a.length)&&Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiCallOut,{size:"s",color:"warning",title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.aliasType.noFieldsAddedWarningMessage",{defaultMessage:"You need to add at least one field before creating an alias."})}),Object(j.jsx)(g.EuiSpacer,null)),Object(j.jsx)(g.EuiFormRow,{label:e.label,helpText:e.helpText,error:t,isInvalid:s,fullWidth:!0},Object(j.jsx)(g.EuiComboBox,{placeholder:i.i18n.translate("xpack.idxMgmt.mappingsEditor.aliasType.pathPlaceholderLabel",{defaultMessage:"Select a field"}),singleSelection:{asPlainText:!0},options:a,selectedOptions:e.value,onChange:t=>e.setValue(t),isClearable:!1,fullWidth:!0}))))}))},Pa=()=>Object(j.jsx)(ra,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.coerceFieldTitle",{defaultMessage:"Coerce to number"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.coerceDescription",{defaultMessage:"Convert strings to numbers. If this field is an integer, fractions are truncated. If disabled, then documents with imperfectly formatted values are rejected."}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.coerceDocLinkText",{defaultMessage:"Coerce documentation"}),href:te.getCoerceLink()},formFieldPath:"coerce"}),Na=()=>Object(j.jsx)(ra,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.coerceShapeFieldTitle",{defaultMessage:"Coerce to shape"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.coerceShapeDescription",{defaultMessage:"If disabled, then documents that contain polygons with unclosed linear rings are rejected."}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.coerceShapeDocLinkText",{defaultMessage:"Coerce documentation"}),href:te.getCoerceLink()},formFieldPath:"coerce",configPath:"coerce_shape"}),Ba=({defaultValue:e,defaultToggleValue:t})=>{const a=(void 0!==e?e.split("||").map((e=>({label:e}))):[]).filter((e=>L.includes(e))),[s,n]=Object(p.useState)([...L,...a]);return Object(j.jsx)(ra,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formatParameter.fieldTitle",{defaultMessage:"Set format"}),description:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.formatParameter.fieldDescription",defaultMessage:"The date formats to parse. Most builit-ins use {strict} date formats, where YYYY is the year, MM is the month, and DD is the day. Example: 2020/11/01.",values:{strict:Object(j.jsx)(g.EuiCode,null,"strict")}}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formatDocLinkText",{defaultMessage:"Format documentation"}),href:te.getFormatLink()},defaultToggleValue:t,"data-test-subj":"formatParameter"},Object(j.jsx)(D.UseField,{path:"format",config:dt("format")},(e=>Object(j.jsx)(g.EuiFormRow,{label:e.label,helpText:e.helpText,fullWidth:!0},Object(j.jsx)(g.EuiComboBox,{placeholder:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formatParameter.placeholderLabel",{defaultMessage:"Select a format"}),options:s,selectedOptions:e.value,onChange:t=>{e.setValue(t)},onCreateOption:t=>{const a={label:t};e.setValue([...e.value,a]),n([...s,a])},fullWidth:!0,"data-test-subj":"formatInput"})))))},Ra=({description:e})=>Object(j.jsx)(ra,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.ignoreMalformedFieldTitle",{defaultMessage:"Ignore malformed data"}),description:e||i.i18n.translate("xpack.idxMgmt.mappingsEditor.ignoredMalformedFieldDescription",{defaultMessage:"By default, documents that contain the wrong data type for a field are not indexed. If enabled, these documents are indexed, but fields with the wrong data type are filtered out. Be careful: if too many documents are indexed this way, queries on the field become meaningless."}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.ignoreMalformedDocLinkText",{defaultMessage:"Ignore malformed documentation"}),href:te.getIgnoreMalformedLink()},formFieldPath:"ignore_malformed"}),Aa=({defaultToggleValue:e})=>Object(j.jsx)(ra,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.copyToFieldTitle",{defaultMessage:"Copy to group field"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.copyToFieldDescription",{defaultMessage:"Copy the values of multiple fields into a group field. This group field can then be queried as a single field."}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.copyToDocLinkText",{defaultMessage:"Copy to documentation"}),href:te.getCopyToLink()},defaultToggleValue:e},Object(j.jsx)(D.UseField,{path:"copy_to",config:dt("copy_to"),component:I.Field})),za=({field:e,defaultToggleValue:t})=>Object(j.jsx)(ra,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.termVectorFieldTitle",{defaultMessage:"Set term vector"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.termVectorFieldDescription",{defaultMessage:"Store term vectors for an analyzed field."}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.termVectorDocLinkText",{defaultMessage:"Term vector documentation"}),href:te.getTermVectorLink()},defaultToggleValue:t},Object(j.jsx)(D.FormDataProvider,{pathsToWatch:"term_vector"},(e=>Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(D.UseField,{path:"term_vector",config:dt("term_vector"),component:I.Field,componentProps:{euiFieldProps:{options:S.term_vector,fullWidth:!0}}}),"with_positions_offsets"===e.term_vector&&Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiSpacer,{size:"s"}),Object(j.jsx)(g.EuiCallOut,{size:"s",color:"warning",title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.termVectorFieldWarningMessage",{defaultMessage:'Setting "With positions and offsets" will double the size of a field’s index.'})})))))),Va=({isMultiField:e,isRootLevelField:t,showDocLink:a=!1})=>Object(j.jsx)(D.UseField,{path:"type",config:dt("type")},(s=>{const n=s.getErrorsMessages(),l=!!n&&Boolean(n.length);let o=null;if(a&&s.value.length>0){const e=s.value[0].value;o=te.getTypeDocLink(e)}return Object(j.jsx)(g.EuiFormRow,{label:s.label,error:n,isInvalid:l,helpText:o?Object(j.jsx)(g.EuiText,{size:"xs"},Object(j.jsx)(g.EuiLink,{href:o,target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.typeField.documentationLinkLabel",{defaultMessage:"{typeName} documentation",values:{typeName:s.value&&s.value[0]?s.value[0].label:""}}))):null},Object(j.jsx)(g.EuiComboBox,{placeholder:i.i18n.translate("xpack.idxMgmt.mappingsEditor.typeField.placeholderLabel",{defaultMessage:"Select a type"}),singleSelection:{asPlainText:!0},options:e?xt(k):t?k:bt(k),selectedOptions:s.value,onChange:e=>{0!==e.length&&s.setValue(e)},isClearable:!1,"data-test-subj":"fieldType"}))})),Ua=dt("type"),qa={label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.otherTypeNameFieldLabel",{defaultMessage:"Type Name"}),defaultValue:"",deserializer:Ua.deserializer,serializer:Ua.serializer,validations:[{validator:({value:e})=>{if(""===e[0].value.trim())return{message:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.otherTypeNameIsRequiredErrorMessage",{defaultMessage:"The type name is required."})}}}]},Wa=({field:e})=>{var t,a;const{setValue:i}=e,s={...e,value:null!==(t=null===(a=e.value[0])||void 0===a?void 0:a.value)&&void 0!==t?t:""},n=Object(p.useCallback)((e=>{i([{value:e.target.value}])}),[i]);return Object(j.jsx)(I.TextField,{field:s,euiFieldProps:{onChange:n,"data-test-subj":"fieldSubType"}})},Ga=()=>Object(j.jsx)(D.UseField,{path:"subType",config:qa,component:Wa}),$a=({type:e,defaultValueType:t,isMultiField:a,isRootLevelField:s})=>{if("other"===e)return Object(j.jsx)(g.EuiFlexItem,null,Object(j.jsx)(Ga,null));const n=h[e];if(void 0===n.subTypes)return null;const l=n.subTypes.types.map((e=>h[e])).map((e=>({value:e.value,label:e.label}))),o=n.subTypes.types.includes(t)?t:n.subTypes.types[0];return Object(j.jsx)(g.EuiFlexItem,null,Object(j.jsx)(D.UseField,{path:"subType",defaultValue:o,config:{...dt("type"),label:n.subTypes.label}},(e=>Object(j.jsx)(g.EuiFormRow,{label:e.label},Object(j.jsx)(g.EuiComboBox,{placeholder:i.i18n.translate("xpack.idxMgmt.mappingsEditor.subTypeField.placeholderLabel",{defaultMessage:"Select a type"}),singleSelection:{asPlainText:!0},options:a?xt(l):s?l:bt(l),selectedOptions:e.value,onChange:t=>{0!==t.length&&e.setValue(t)},isClearable:!1,"data-test-subj":"fieldSubType"})))))},Ha=({description:e})=>Object(j.jsx)(ra,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.ignoreZValueFieldTitle",{defaultMessage:"Ignore Z value"}),description:e||i.i18n.translate("xpack.idxMgmt.mappingsEditor.ignoredZValueFieldDescription",{defaultMessage:"Three dimension points will be accepted, but only latitude and longitude values will be indexed; the third dimension is ignored."}),formFieldPath:"ignore_z_value"}),Ja=({defaultToggleValue:e})=>Object(j.jsx)(ra,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.geoShapeType.orientationFieldTitle",{defaultMessage:"Set orientation"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.geoShapeType.orientationFieldDescription",{defaultMessage:"Interpret the vertex order for polygons and multipolygons as either clockwise or counterclockwise (default)."}),defaultToggleValue:e},Object(j.jsx)(D.UseField,{path:"orientation",config:dt("orientation"),component:I.Field,componentProps:{euiFieldProps:{options:S.orientation,style:{minWidth:300}}}})),Ya=({min:e,max:t})=>Object(j.jsx)(g.EuiFormRow,{fullWidth:!0,label:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.fielddata.frequencyFilterPercentageFieldLabel",defaultMessage:"Percentage-based frequency range"})},Object(j.jsx)(g.EuiDualRange,{min:0,max:100,value:[e.value,t.value],onChange:([a,i])=>{e.setValue(a),t.setValue(i)},showInput:"inputWithPopover",append:"%"})),Xa=({min:e,max:t})=>{const a=!e.isChangingValue&&e.errors.length>0,s=!e.isChangingValue&&e.errors.length?e.errors[0].message:null,n=!t.isChangingValue&&t.errors.length>0,l=!t.isChangingValue&&t.errors.length?t.errors[0].message:null;return Object(j.jsx)(g.EuiFormRow,{fullWidth:!0,isInvalid:a||n,error:s||l,label:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.fielddata.frequencyFilterAbsoluteFieldLabel",defaultMessage:"Absolute frequency range"})},Object(j.jsx)(g.EuiFormControlLayoutDelimited,{startControl:Object(j.jsx)(g.EuiFieldNumber,{value:e.value,onChange:e.onChange,isLoading:e.isValidating,isInvalid:a,fullWidth:!0,"data-test-subj":"input",controlOnly:!0,"aria-label":i.i18n.translate("xpack.idxMgmt.mappingsEditor.fielddata.frequencyFilterAbsoluteMinAriaLabel",{defaultMessage:"Minimum absolute frequency"})}),endControl:Object(j.jsx)(g.EuiFieldNumber,{value:t.value,onChange:t.onChange,isLoading:t.isValidating,isInvalid:n,fullWidth:!0,"data-test-subj":"input",controlOnly:!0,"aria-label":i.i18n.translate("xpack.idxMgmt.mappingsEditor.fielddata.frequencyFilterAbsoluteMaxAriaLabel",{defaultMessage:"Maximum absolute frequency"})})}))},Ka=({field:e,defaultToggleValue:t})=>{const[a,s]=Object(p.useState)(void 0!==e.source.fielddata_frequency_filter&&e.source.fielddata_frequency_filter.max>1?"absolute":"percentage");function n(e,t=a){return dt("percentage"===t?"fielddata_frequency_filter_percentage":"fielddata_frequency_filter_absolute",e)}const l=(e,t)=>()=>{var i,l,o,r;const c="percentage"===a?"absolute":"percentage",d=n("min",c),u=n("max",c);e.setValue(null!==(i=null===(l=d.deserializer)||void 0===l?void 0:l.call(d,d.defaultValue))&&void 0!==i?i:d.defaultValue),t.setValue(null!==(o=null===(r=u.deserializer)||void 0===r?void 0:r.call(u,u.defaultValue))&&void 0!==o?o:u.defaultValue),s(c)};return Object(j.jsx)(ra,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.fielddata.fielddataFormRowTitle",{defaultMessage:"Fielddata"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.fielddata.fielddataFormRowDescription",{defaultMessage:"Whether to use in-memory fielddata for sorting, aggregations, or scripting."}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.fielddata.fieldDataDocLinkText",{defaultMessage:"Fielddata documentation"}),href:te.getFielddataLink()},formFieldPath:"fielddata",defaultToggleValue:t},Object(j.jsx)(D.UseMultiFields,{fields:{min:{path:"fielddata_frequency_filter.min",config:n("min")},max:{path:"fielddata_frequency_filter.max",config:n("max")}}},(({min:e,max:t})=>{const s="percentage"===a?Ya:Xa;return Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiCallOut,{color:"warning",iconType:"warning",size:"s",title:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.fielddata.fielddataEnabledWarningTitle",defaultMessage:"Fielddata can consume significant memory. This is particularly likely when loading high-cardinality text fields. {docsLink}",values:{docsLink:Object(j.jsx)(g.EuiLink,{href:te.getEnablingFielddataLink(),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.fielddata.fielddataEnabledDocumentationLink",{defaultMessage:"Learn more."}))}})}),Object(j.jsx)(g.EuiSpacer,{size:"m"}),Object(j.jsx)(g.EuiTitle,{size:"xxs"},Object(j.jsx)("h4",null,i.i18n.translate("xpack.idxMgmt.mappingsEditor.fielddata.fielddataDocumentFrequencyRangeTitle",{defaultMessage:"Document frequency range"}))),Object(j.jsx)(g.EuiSpacer,{size:"s"}),Object(j.jsx)(g.EuiText,{size:"s",color:"subdued"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.fielddata.fielddataFrequencyMessage",defaultMessage:"This range determines the terms loaded into memory. Frequency is calculated per segment. Exclude small segments based on their size, in number of documents. {docsLink}",values:{docsLink:Object(j.jsx)(g.EuiLink,{href:te.getFielddataFrequencyLink(),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.fielddata.fielddataFrequencyDocumentationLink",{defaultMessage:"Learn more."}))}})),Object(j.jsx)(g.EuiSpacer,{size:"m"}),Object(j.jsx)(g.EuiFlexGroup,null,Object(j.jsx)(g.EuiFlexItem,null,Object(j.jsx)(s,{min:e,max:t})),Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(D.UseField,{path:"fielddata_frequency_filter.min_segment_size",config:dt("fielddata_frequency_filter","min_segment_size"),component:I.Field}))),Object(j.jsx)(g.EuiSpacer,{size:"s"}),Object(j.jsx)(g.EuiSwitch,{compressed:!0,label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.fielddata.useAbsoluteValuesFieldLabel",{defaultMessage:"Use absolute values"}),checked:"absolute"===a,onChange:l(e,t),"data-test-subj":"input"}))})))},Qa=()=>Object(j.jsx)(ra,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.splitQueriesOnWhitespaceFieldTitle",{defaultMessage:"Split queries on whitespace"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.splitQueriesOnWhitespaceDescription",{defaultMessage:"Full text queries will split the input on whitespace when building a query for this field."}),formFieldPath:"split_queries_on_whitespace"}),Za=({defaultToggleValue:e})=>Object(j.jsx)(ra,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.date.localeFieldTitle",{defaultMessage:"Set locale"}),description:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dateType.localeFieldDescription",defaultMessage:"The locale to use when parsing dates. This is useful because months might not have the same name or abbreviation in all languages. Defaults to the {root} locale.",values:{root:Object(j.jsx)(g.EuiLink,{href:te.getRootLocaleLink(),target:"_blank"},"ROOT")}}),defaultToggleValue:e},Object(j.jsx)(D.UseField,{path:"locale",config:dt("locale"),component:I.Field})),ei=()=>Object(j.jsx)(ra,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.searchableProperties.fieldTitle",{defaultMessage:"Searchable properties"}),description:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.searchableProperties.fieldDescription",defaultMessage:"Allow object properties to be searched. The JSON can still be retrieved from the {source} field even after disabling this setting.",values:{source:Object(j.jsx)(g.EuiCode,null,"_source")}}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.enabledDocLinkText",{defaultMessage:"Enabled documentation"}),href:te.getEnabledLink()},formFieldPath:"enabled"}),ti=({defaultToggleValue:e})=>Object(j.jsx)(ra,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.maxShingleSizeFieldTitle",{defaultMessage:"Set max shingle size"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.maxShingleSizeFieldDescription",{defaultMessage:"The default is three shingle subfields. More subfields enable more specific queries, but increase index size."}),defaultToggleValue:e},Object(j.jsx)(D.UseField,{path:"max_shingle_size",component:I.Field,config:dt("max_shingle_size"),componentProps:{euiFieldProps:{options:[{value:2,text:"2"},{value:3,text:"3"},{value:4,text:"4"}]}}})),{isJsonField:ai}=P.fieldValidators,ii={label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.otherTypeJsonFieldLabel",{defaultMessage:"Type Parameters JSON"}),defaultValue:{},validations:[{validator:ai(i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.otherTypeJsonInvalidJSONErrorMessage",{defaultMessage:"Invalid JSON."}))},{validator:({value:e})=>{const t=JSON.parse(e);if(Array.isArray(t))return{message:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.otherTypeJsonArrayNotAllowedErrorMessage",{defaultMessage:"Arrays are not allowed."})}}},{validator:({value:e})=>{if(JSON.parse(e).type)return{code:"ERR_CUSTOM_TYPE_OVERRIDDEN",message:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.otherTypeJsonTypeFieldErrorMessage",{defaultMessage:'Cannot override the "type" field.'})}}}],deserializer:e=>""===e?e:JSON.stringify(e,null,2),serializer:e=>{try{return JSON.parse(e)}catch(t){return e}}},si=()=>Object(j.jsx)(D.UseField,{path:"otherTypeJson",config:ii,component:I.JsonEditorField}),ni=({defaultToggleValue:e})=>Object(j.jsx)(ra,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.metaParameterTitle",{defaultMessage:"Set metadata"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.metaParameterDescription",{defaultMessage:"Arbitrary information about the field. Specify as JSON key-value pairs."}),defaultToggleValue:e,docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.metaParameterDocLinkText",{defaultMessage:"Metadata documentation"}),href:te.getMetaLink()},"data-test-subj":"metaParameter"},Object(j.jsx)(D.UseField,{path:"meta",config:dt("meta"),component:I.JsonEditorField,componentProps:{codeEditorProps:{"data-test-subj":"metaParameterEditor",height:"300px","aria-label":i.i18n.translate("xpack.idxMgmt.mappingsEditor.metaParameterAriaLabel",{defaultMessage:"metadata field data editor"})}}})),li=({defaultToggleValue:e})=>Object(j.jsx)(ra,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.ignoreAboveFieldTitle",{defaultMessage:"Set length limit"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.ignoreAboveFieldDescription",{defaultMessage:"Strings longer than this value will not be indexed. This is useful for protecting against Lucene’s term character-length limit of 8,191 UTF-8 characters."}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.ignoreAboveDocLinkText",{defaultMessage:"Ignore above documentation"}),href:te.getIgnoreAboveLink()},defaultToggleValue:e},Object(j.jsx)(D.UseField,{path:"ignore_above",config:dt("ignore_above"),component:I.Field})),oi=[e=>{if(void 0===e.relations)return e;const t=e.relations.reduce(((e,t)=>({...e,[t.parent]:1===t.children.length?t.children[0]:t.children})),{});return{...e,relations:t}},e=>{if(void 0===e.dynamic_toggle)return e;const t=!0===e.dynamic_toggle||!0===e.dynamic_strict&&"strict",{dynamic_toggle:a,dynamic_strict:i,...s}=e;return{...s,dynamic:t}}],ri=[e=>{if(void 0===e.relations)return e;const t=e.relations,a=Object.entries(t).map((([e,t])=>({parent:e,children:"string"==typeof t?[t]:t})));return{...e,relations:a}},e=>{if(void 0===e.dynamic)return e;const t=!0===e.dynamic,a="strict"===e.dynamic;return{...e,dynamic_toggle:t,dynamic_strict:a}}],ci=e=>{const{otherTypeJson:t,...a}=e,i=Boolean(t)?{...t,...a}:{...a};return{}.hasOwnProperty.call(i,"subType")&&(i.type=i.subType,delete i.subType),delete i.useSameAnalyzerForSearch,(e=>Object.entries(e).filter((({1:e})=>e!==d)).reduce(((e,[t,a])=>({...e,[t]:a})),{}))((e=>oi.reduce(((e,t)=>t(e)),e))(i))},di=e=>{const t=(e=>{if(!M[e]){const a=null!==(t=O[e])&&void 0!==t?t:"other";if(!a)throw new Error(`Property type "${e}" not recognized and no subType was found for it.`);return{mainType:a,subType:e}}var t;return{mainType:e}})(e.type);if(e.type=t.mainType,e.subType=t.subType,"other"===e.type){const{type:t,subType:a,name:i,...s}=e;e.otherTypeJson=s}else e.useSameAnalyzerForSearch=!1==={}.hasOwnProperty.call(e,"search_analyzer");return(e=>ri.reduce(((e,t)=>t(e)),e))(e)},ui=({rootLevelFields:e,byId:t},a="",s)=>({value:n})=>{if((s?Object.values(t).filter((e=>e.parentId===s)).map((e=>e.source.name)):e.map((e=>t[e].source.name))).filter((e=>e!==a)).includes(n))return{message:i.i18n.translate("xpack.idxMgmt.mappingsEditor.existNamesValidationErrorMessage",{defaultMessage:"There is already a field with this name."})}};var pi=a(88),mi=a(85),gi=a(66);const xi=[],bi={report:Object(gi.fold)((e=>e.map((e=>{const t=[];let a="";e.context.forEach(((i,s)=>{i.key&&t.push(i.key),s===e.context.length-1&&(a=i.type.name)}));const i=t[t.length-1];return{path:t,message:"Invalid value "+JSON.stringify(e.value)+` supplied to ${i}(${a})`}}))),(()=>xi))},fi=[...Object.keys(K),"type","properties","fields"],ji="object",hi=e=>Object.entries(e).reduce(((e,[t,a])=>{var i;return fi.includes(t)&&((e,t)=>{if("type"===e)return!0;if("name"===e)return!1;if("properties"===e||"fields"===e)return Object(Me.isPlainObject)(t);const a=K[e].schema;return!a||Object(gi.isRight)(a.decode(t))})(t,a)?(e.value=null!==(i=e.value)&&void 0!==i?i:{},e.value[t]=a):e.parametersRemoved.push(t),e}),{parametersRemoved:[]}),Mi=(e,t=[])=>Object.entries(e).reduce(((e,[a,i])=>{const s=[...t,a].join("."),{value:n,parametersRemoved:l,meta:o}=(e=>{var t,a;if(!Object(Me.isPlainObject)(e))return{parametersRemoved:[]};if("string"!=typeof(a=null!==(t=e.type)&&void 0!==t?t:ji)||!y.includes(a))return{parametersRemoved:[]};const i={type:ji,...e};return{...hi(i),meta:rt(i)}})(i);if(void 0===n)e.errors.push({code:"ERR_FIELD",fieldPath:s});else{if(o.hasChildFields||o.hasMultiFields){const i=Mi(n[o.childFieldsName],[...t,a]);n[o.childFieldsName]=i.value,i.errors&&(e.errors=[...e.errors,...i.errors])}e.value[a]=n,Boolean(l.length)&&(e.errors=[...e.errors,...l.map((e=>({code:"ERR_PARAMETER",fieldPath:s,paramName:e})))])}return e}),{value:{},errors:[]}),Oi=w.exact(w.partial({properties:w.UnknownRecord,runtime:w.UnknownRecord,dynamic:w.union([w.literal(!0),w.literal(!1),w.literal("strict"),w.literal("true"),w.literal("false"),w.literal("runtime")]),date_detection:w.boolean,numeric_detection:w.boolean,dynamic_date_formats:w.array(w.string),_source:w.exact(w.partial({enabled:w.boolean,includes:w.array(w.string),excludes:w.array(w.string)})),_meta:w.UnknownRecord,_routing:w.interface({required:w.boolean}),dynamic_templates:w.array(w.UnknownRecord),_size:w.interface({enabled:w.boolean})})),yi=Object.keys(Oi.type.props),vi=Object.keys(Oi.type.props._source.type.props),Ei=e=>{const t=new Set;let a={...e};const i=Oi.decode(e),s=Object(gi.isLeft)(i),n=Object.keys(e).filter((e=>!1===yi.includes(e))),l=void 0!==e._source?Object.keys(e._source).filter((e=>!1===vi.includes(e))):[];s&&bi.report(i).forEach((e=>{const i=e.path[0];t.add(i),delete a[i]})),n.length>0&&n.forEach((e=>t.add(e))),l.length>0&&(t.add("_source"),delete a._source),a=Object(Me.pick)(a,yi);const o=Object(mi.toArray)(pi.ordString)(t).map((e=>({code:"ERR_CONFIG",configName:e}))).sort(((e,t)=>e.configName.localeCompare(t.configName)));return{value:a,errors:o}},ki=e=>t=>{const a={...t},i=[];return"_size"in a&&!e.includes(ee)&&(i.push({code:"ERR_CONFIG",configName:"_size"}),delete a._size),{value:a,errors:i}},Ti=e=>e.replace(/[-\[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Fi=(e,t)=>e.metadata.score>t.metadata.score?-1:t.metadata.score>e.metadata.score||null===e.metadata.stringMatch?1:null===t.metadata.stringMatch?-1:e.metadata.matchFieldName&&t.metadata.matchFieldName?e.field.source.name.length-t.field.source.name.length:e.metadata.stringMatch.length===t.metadata.stringMatch.length?e.field.path.length-t.field.path.length:t.metadata.stringMatch.length-e.metadata.stringMatch.length,Si=(e,t)=>{const{term:a,type:i,searchRegexArray:s}=e,n=null!=i?i:a,l=a===t.name,o=a===t.path,r=s[0].exec(t.name),c=!!l||null!==r,d=t.path.startsWith(a),u=t.type.includes(n),p=n===t.type;let m=null;if(o)m=t.path;else if(c)m=l?t.name:r[0];else{const e=s.map((e=>e.exec(t.path))).filter(Boolean).sort(((e,t)=>t[0].length-e[0].length));e.length&&(m=e[0][0])}const g={matchFieldName:c,matchPath:null!==m,matchStartOfPath:d,fullyMatchPath:o,matchType:u,fullyMatchFieldName:l,fullyMatchType:p,stringMatch:m},x=(e=>{let t=0;return e.fullyMatchFieldName&&(t+=15),e.matchFieldName&&(t+=5),e.matchPath&&(t+=15),e.matchStartOfPath&&(t+=5),e.fullyMatchPath&&(t+=5),e.matchType&&(t+=5),e.fullyMatchType&&(t+=5),t})(g),b=((e,t,a)=>{const{term:i}=e,{path:s}=t;let n=Object(j.jsx)("span",null,s);if(a.fullyMatchPath)n=Object(j.jsx)("span",{style:{lineHeight:1.5}},Object(j.jsx)("strong",null,s));else if(a.matchStartOfPath){const e=s.substr(i.length,s.length);n=Object(j.jsx)("span",{style:{lineHeight:1.5}},Object(j.jsx)("strong",null,i),e)}else if(a.matchPath){const{stringMatch:e}=a,t=s.lastIndexOf(e),i=s.substr(0,t),l=s.substr(t+e.length);n=Object(j.jsx)("span",{style:{lineHeight:1.5}},i,Object(j.jsx)("strong",null,e),l)}return n})(e,t,g);return{...g,display:b,score:x}},_i=(e,t)=>{const a=(e=>{let t,a=e.replace(/\s+/g," ").trim();const i=a.split(" ").map(Ti);">"===i[i.length-1]&&(i.pop(),a=i.join(" "));const s=[new RegExp(i.join("([\\._-\\s]|(\\s>\\s))?"),"i")],n=y.includes(i[0]),l=y.includes(i[i.length-1]);return n?t=i[0]:l&&(t=i[i.length-1]),{term:a,terms:i,type:t,searchRegexArray:s}})(e);return""===a.term?[]:Object.values(t).map((e=>({field:e,metadata:Si(a,{name:e.source.name,path:e.path.join(" > "),type:e.source.type})}))).filter((({metadata:e})=>e.score>0)).sort(Fi).map((({field:e,metadata:{display:t}})=>({display:t,field:e})))},Ci=e=>{if(!Object.keys(e).every((e=>yi.includes(e))))return!1;const{properties:t,dynamic_templates:a,runtime:i,...s}=e,{errors:n}=Ei(s),l=0===n.length,o=void 0===t||Object(Me.isPlainObject)(t),r=void 0===a||Array.isArray(a),c=void 0===i||Object(Me.isPlainObject)(i);return l&&o&&r&&c},Li=(e,{aliases:t},a)=>{const i={...t};a&&i[a]&&(i[a]=i[a].filter((t=>t!==e.id)));const s=e.source.path;return i[s]||(i[s]=[]),i[s]=[...i[s],e.id],i},wi=(e,t)=>{let{rootLevelFields:a}=t;const i={...t.byId},{parentId:s}=i[e];if(delete i[e],s){const t=i[s];if(t){const a=t.childFields.filter((t=>t!==e));i[s]={...t,childFields:a,hasChildFields:t.canHaveChildFields&&Boolean(a.length),hasMultiFields:t.canHaveMultiFields&&Boolean(a.length),isExpanded:!(!t.hasChildFields&&!t.hasMultiFields)&&t.isExpanded}}}else a=a.filter((t=>t!==e));let n={...t,rootLevelFields:a,byId:i};if(n.aliases[e]){n=n.aliases[e].reduce(((e,t)=>wi(t,e)),n);const t={...n.aliases};return delete t[e],{...n,aliases:t}}return n},Di=(e,t)=>{switch(t.type){case"editor.replaceMappings":return{...e,fieldForm:void 0,fields:t.value.fields,configuration:{...e.configuration,data:{internal:t.value.configuration,format:()=>t.value.configuration},defaultValue:t.value.configuration},templates:{...e.templates,data:{internal:t.value.templates,format:()=>t.value.templates},defaultValue:t.value.templates},documentFields:{...e.documentFields,...t.value.documentFields,fieldToAddFieldTo:void 0,fieldToEdit:void 0},runtimeFields:t.value.runtimeFields,runtimeFieldsList:{status:"idle"},search:{term:"",result:[]}};case"configuration.update":{const a={...e,configuration:{...e.configuration,...t.value}};return a.isValid=t.value.isValid,a}case"configuration.save":return{...e,configuration:{isValid:!0,defaultValue:t.value,data:{internal:t.value,format:()=>t.value},validate:async()=>!0}};case"templates.update":{const a={...e,templates:{...e.templates,...t.value}};return a.isValid=t.value.isValid,a}case"templates.save":return{...e,templates:{isValid:!0,defaultValue:t.value,data:{internal:t.value,format:()=>t.value},validate:async()=>!0}};case"fieldForm.update":{const a={...e,fieldForm:t.value};return a.isValid=t.value.isValid,a}case"documentField.createField":return{...e,documentFields:{...e.documentFields,fieldToAddFieldTo:t.value,status:"creatingField"}};case"documentField.editField":return{...e,documentFields:{...e.documentFields,status:"editingField",fieldToEdit:t.value}};case"documentField.changeStatus":const a="idle"===t.value?e.configuration.isValid:e.isValid;return{...e,isValid:a,fieldForm:void 0,documentFields:{...e.documentFields,status:t.value,fieldToAddFieldTo:void 0,fieldToEdit:void 0}};case"documentField.changeEditor":{const a="default"===t.value?ut(e.fieldsJsonEditor.format()):e.fields;return{...e,fields:a,fieldForm:void 0,documentFields:{...e.documentFields,status:"idle",fieldToAddFieldTo:void 0,fieldToEdit:void 0,editor:t.value}}}case"field.add":return((e,t)=>{const a={...t.fields},i=ot(),{fieldToAddFieldTo:s}=t.documentFields,n=void 0===s,l=n?void 0:a.byId[s],o=!!l&&l.canHaveMultiFields;a.byId={...a.byId},a.rootLevelFields=n?[...a.rootLevelFields,i]:a.rootLevelFields;const r=l&&(l.canHaveChildFields||l.canHaveMultiFields)?l.nestedDepth+1:0;a.maxNestedDepth=Math.max(a.maxNestedDepth,r);const{name:c}=e,d={id:i,parentId:s,isMultiField:o,source:e,path:l?[...l.path,c]:[c],nestedDepth:r,...rt(e,o)};if(a.byId[i]=d,l){const e=l.childFields||[];a.byId[s]={...l,childFields:[...e,i],hasChildFields:l.canHaveChildFields,hasMultiFields:l.canHaveMultiFields,isExpanded:!0}}return"alias"===d.source.type&&(a.aliases=Li(d,a)),{...t,isValid:!0,fields:a}})(t.value,e);case"field.remove":{const a=e.fields.byId[t.value],{id:i,hasChildFields:s,hasMultiFields:n}=a;let l=wi(i,e.fields);if((s||n)&&mt(a,e.fields.byId).forEach((e=>{l=wi(e.id,l)})),"alias"===a.source.type&&a.source.path){const e=a.source.path;l.aliases={...l.aliases,[e]:l.aliases[e].filter((e=>e!==i))}}return l.maxNestedDepth=ft(l.byId),{...e,fields:l,documentFields:{...e.documentFields,status:0===l.rootLevelFields.length?"creatingField":"idle"},search:Boolean(e.search.term)?{...e.search,result:_i(e.search.term,l.byId)}:e.search}}case"field.edit":{let a={...e.fields};const i=e.documentFields.fieldToEdit,s=a.byId[i];let n={...s,source:t.value};"alias"===n.source.type&&(a.aliases=Li(n,a,s.source.path));const l=n.source.name!==s.source.name,o=n.source.type!==s.source.type;if(l){const{updatedFieldPath:e,updatedById:t}=((e,t)=>{const a={...t},i=e.parentId?t[e.parentId].path:[],s=(e,i)=>{const{name:n}=e.source,l=0===i.length?[n]:[...i,n];a[e.id]={...e,path:l},(e.hasChildFields||e.hasMultiFields)&&e.childFields.map((e=>t[e])).forEach((e=>{s(e,[...i,n])}))};return s(e,i),{updatedFieldPath:a[e.id].path,updatedById:a}})(n,a.byId);n.path=e,a.byId=t}if(a.byId[i]=n,o){const e=ht(s.source.type,n.source.type);"alias"===s.source.type&&s.source.path?a.aliases={...a.aliases,[s.source.path]:a.aliases[s.source.path].filter((e=>e!==i))}:K.path.targetTypesNotAllowed.includes(n.source.type)&&a.aliases[i]&&(a.aliases[i].forEach((e=>{a=wi(e,a)})),delete a.aliases[i]),e&&s.childFields&&mt(s,a.byId).forEach((e=>{a=wi(e.id,a)})),n={...n,...rt(t.value,n.isMultiField),childFields:e?void 0:s.childFields,hasChildFields:!e&&s.hasChildFields,hasMultiFields:!e&&s.hasMultiFields,isExpanded:!e&&s.isExpanded},a.byId[i]=n}return a.maxNestedDepth=ft(a.byId),{...e,isValid:!0,fieldForm:void 0,fields:a,documentFields:{...e.documentFields,fieldToEdit:void 0,status:"idle"},search:Boolean(e.search.term)?{...e.search,result:_i(e.search.term,a.byId)}:e.search}}case"field.toggleExpand":{const{fieldId:a,isExpanded:i}=t.value,s=e.fields.byId[a],n={...s,isExpanded:void 0===i?!s.isExpanded:i};return{...e,fields:{...e.fields,byId:{...e.fields.byId,[a]:n}}}}case"runtimeFieldsList.createField":return{...e,runtimeFieldsList:{...e.runtimeFieldsList,status:"creatingField"}};case"runtimeFieldsList.editField":return{...e,runtimeFieldsList:{...e.runtimeFieldsList,status:"editingField",fieldToEdit:t.value}};case"runtimeField.add":{const a=ot(),i={id:a,source:t.value};return{...e,runtimeFields:{...e.runtimeFields,[a]:i},runtimeFieldsList:{...e.runtimeFieldsList,status:"idle"}}}case"runtimeField.edit":{const a=e.runtimeFieldsList.fieldToEdit;return{...e,runtimeFields:{...e.runtimeFields,[a]:t.value},runtimeFieldsList:{...e.runtimeFieldsList,status:"idle"}}}case"runtimeField.remove":{const a=e.runtimeFields[t.value],{id:i}=a,s={...e.runtimeFields};return delete s[i],{...e,runtimeFields:s}}case"runtimeFieldsList.closeRuntimeFieldEditor":return{...e,runtimeFieldsList:{...e.runtimeFieldsList,status:"idle",fieldToEdit:void 0}};case"fieldsJsonEditor.update":{const a={...e,fieldsJsonEditor:{format:()=>t.value.json,isValid:t.value.isValid}};return a.isValid=t.value.isValid,a}case"search:update":return{...e,search:{term:t.value,result:_i(t.value,e.fields.byId)}};case"validity:update":return{...e,isValid:t.value}}},Ii=Object(p.createContext)(void 0),Pi=Object(p.createContext)(void 0),Ni=({children:e})=>{const t={isValid:!0,configuration:{defaultValue:{},data:{internal:{},format:()=>({})},validate:()=>Promise.resolve(!0)},templates:{defaultValue:{},data:{internal:{},format:()=>({})},validate:()=>Promise.resolve(!0)},fields:{byId:{},rootLevelFields:[],aliases:{},maxNestedDepth:0},documentFields:{status:"idle",editor:"default"},runtimeFields:{},runtimeFieldsList:{status:"idle"},fieldsJsonEditor:{format:()=>({}),isValid:!0},search:{term:"",result:[]}},[a,i]=Object(p.useReducer)(Di,t);return Object(j.jsx)(Ii.Provider,{value:a},Object(j.jsx)(Pi.Provider,{value:i},e))},Bi=()=>{const e=Object(p.useContext)(Ii);if(void 0===e)throw new Error("useMappingsState must be used within a <MappingsState>");return e},Ri=()=>{const e=Object(p.useContext)(Pi);if(void 0===e)throw new Error("useDispatch must be used within a <MappingsState>");return e},Ai=Object(D.getUseField)({component:I.Field}),zi=()=>Object(j.jsx)(I.FormRow,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dynamicMappingTitle",{defaultMessage:"Dynamic mapping"}),description:Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dynamicMappingDescription",defaultMessage:"Dynamic mapping allows an index template to interpret unmapped fields. {docsLink}",values:{docsLink:Object(j.jsx)(g.EuiLink,{href:te.getDynamicMappingLink(),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.dynamicMappingDocumentionLink",{defaultMessage:"Learn more."}))}}),Object(j.jsx)(g.EuiSpacer,{size:"m"}),Object(j.jsx)(Ai,{path:"dynamicMapping.enabled",component:I.ToggleField,componentProps:{"data-test-subj":"dynamicMappingsToggle"}}))},Object(j.jsx)(D.FormDataProvider,{pathsToWatch:["dynamicMapping.enabled","dynamicMapping.date_detection"]},(e=>{const{dynamicMapping:{enabled:t,date_detection:a}}=e;return void 0===t?null:t?Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(Ai,{key:"numericDetectionToggle",path:"dynamicMapping.numeric_detection",componentProps:{"data-test-subj":"numericDetection"}}),Object(j.jsx)(Ai,{path:"dynamicMapping.date_detection"}),a&&Object(j.jsx)(Ai,{path:"dynamicMapping.dynamic_date_formats",componentProps:{euiFieldProps:{options:L,noSuggestions:!1}}})):Object(j.jsx)(Ai,{key:"throwErrorsCheckBox",path:"dynamicMapping.throwErrorsForUnmappedFields",component:I.CheckBoxField})}))),Vi=()=>Object(j.jsx)(I.FormRow,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.sourceFieldTitle",{defaultMessage:"_source field"}),description:Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.sourceFieldDescription",defaultMessage:"The _source field contains the original JSON document body that was provided at index time. Individual fields can be pruned by defining which ones to include or exclude from the _source field. {docsLink}",values:{docsLink:Object(j.jsx)(g.EuiLink,{href:te.getMappingSourceFieldLink(),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.sourceFieldDocumentionLink",{defaultMessage:"Learn more."}))}}),Object(j.jsx)(g.EuiSpacer,{size:"m"}),Object(j.jsx)(D.UseField,{path:"sourceField.enabled",component:I.ToggleField}))},Object(j.jsx)(D.FormDataProvider,{pathsToWatch:["sourceField.enabled"]},(e=>{const{sourceField:{enabled:t}}=e;return void 0===t?null:t?Object(j.jsx)("div",{"data-test-subj":"sourceField"},Object(j.jsx)(D.UseField,{path:"sourceField.includes"},(({label:e,helpText:t,value:a,setValue:s})=>Object(j.jsx)(g.EuiFormRow,{label:e,helpText:t,fullWidth:!0},Object(j.jsx)(g.EuiComboBox,{noSuggestions:!0,placeholder:i.i18n.translate("xpack.idxMgmt.mappingsEditor.sourceIncludeField.placeholderLabel",{defaultMessage:"path.to.field.*"}),selectedOptions:a,onChange:e=>{s(e)},onCreateOption:e=>{const t={label:e};s([...a,t])},fullWidth:!0,"data-test-subj":"includesField"})))),Object(j.jsx)(g.EuiSpacer,{size:"m"}),Object(j.jsx)(D.UseField,{path:"sourceField.excludes"},(({label:e,helpText:t,value:a,setValue:s})=>Object(j.jsx)(g.EuiFormRow,{label:e,helpText:t,fullWidth:!0},Object(j.jsx)(g.EuiComboBox,{noSuggestions:!0,placeholder:i.i18n.translate("xpack.idxMgmt.mappingsEditor.sourceExcludeField.placeholderLabel",{defaultMessage:"path.to.field.*"}),selectedOptions:a,onChange:e=>{s(e)},onCreateOption:e=>{const t={label:e};s([...a,t])},fullWidth:!0,"data-test-subj":"excludesField"}))))):Object(j.jsx)(g.EuiCallOut,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.disabledSourceFieldCallOutTitle",{defaultMessage:"Use caution when disabling the _source field"}),iconType:"warning",color:"warning"},Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.disabledSourceFieldCallOutDescription1",defaultMessage:"Disabling {source} lowers storage overhead within the index, but this comes at a cost. It also disables important features, such as the ability to reindex or debug queries by viewing the original document.",values:{source:Object(j.jsx)("code",null,i.i18n.translate("xpack.idxMgmt.mappingsEditor.disabledSourceFieldCallOutDescription1.sourceText",{defaultMessage:"_source"}))}})),Object(j.jsx)("p",null,Object(j.jsx)("a",{href:te.getDisablingMappingSourceFieldLink(),target:"_blank",rel:"noopener noreferrer"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.disabledSourceFieldCallOutDescription2",defaultMessage:"Learn more about alternatives to disabling the {source} field.",values:{source:Object(j.jsx)("code",null,i.i18n.translate("xpack.idxMgmt.mappingsEditor.disabledSourceFieldCallOutDescription2.sourceText",{defaultMessage:"_source"}))}}))))}))),Ui=Object(D.getUseField)({component:I.Field}),qi=()=>Object(j.jsx)(I.FormRow,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.metaFieldTitle",{defaultMessage:"_meta field"}),description:Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.metaFieldDescription",defaultMessage:"Use the _meta field to store any metadata you want. {docsLink}",values:{docsLink:Object(j.jsx)(g.EuiLink,{href:te.getMetaFieldLink(),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.metaFieldDocumentionLink",{defaultMessage:"Learn more."}))}}))},Object(j.jsx)(Ui,{path:"metaField",component:I.JsonEditorField,componentProps:{codeEditorProps:{height:"400px","aria-label":i.i18n.translate("xpack.idxMgmt.mappingsEditor.metaFieldEditorAriaLabel",{defaultMessage:"_meta field data editor"}),"data-test-subj":"metaField"}}})),Wi=()=>Object(j.jsx)(I.FormRow,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.routingTitle",{defaultMessage:"_routing"}),description:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.routingDescription",defaultMessage:"A document can be routed to a particular shard in an index. When using custom routing, it is important to provide the routing value whenever indexing a document as otherwise this could lead to a document being indexed on more than one shard. {docsLink}",values:{docsLink:Object(j.jsx)(g.EuiLink,{href:te.getRoutingLink(),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.routingDocumentionLink",{defaultMessage:"Learn more."}))}})},Object(j.jsx)(D.UseField,{path:"_routing.required",component:I.ToggleField,componentProps:{"data-test-subj":"routingRequiredToggle"}})),Gi=()=>Object(j.jsx)(I.FormRow,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.sizeTitle",{defaultMessage:"_size"}),description:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.sizeDescription",defaultMessage:"The Mapper Size plugin can index the size of the original {_source} field. {docsLink}",values:{docsLink:Object(j.jsx)(g.EuiLink,{href:te.docLinks.plugins.mapperSize,target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.sizeDocumentionLink",{defaultMessage:"Learn more."})),_source:Object(j.jsx)(g.EuiCode,null,"_source")}})},Object(j.jsx)(D.UseField,{path:"_size.enabled",component:I.ToggleField,componentProps:{"data-test-subj":"sizeEnabledToggle"}})),{isJsonField:$i}=P.fieldValidators,Hi={helpText:i.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.sourceFieldPathComboBoxHelpText",{defaultMessage:"Accepts a path to the field, including wildcards."}),type:D.FIELD_TYPES.COMBO_BOX,defaultValue:[],serializer:e=>e.map((({label:e})=>e)),deserializer:e=>e.map((e=>({label:e})))},Ji={metaField:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.metaFieldEditorLabel",{defaultMessage:"_meta field data"}),helpText:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.configuration.metaFieldEditorHelpText",defaultMessage:"Use JSON format: {code}",values:{code:Object(j.jsx)(g.EuiCode,null,JSON.stringify({arbitrary_data:"anything_goes"}))}}),validations:[{validator:$i(i.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.metaFieldEditorJsonError",{defaultMessage:"The _meta field JSON is not valid."}),{allowEmptyString:!0})}],deserializer:e=>""===e?e:JSON.stringify(e,null,2),serializer:e=>{try{const t=JSON.parse(e);if(!Object.keys(t).length)return;return t}catch(t){return e}}},sourceField:{enabled:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.sourceFieldLabel",{defaultMessage:"Enable _source field"}),type:D.FIELD_TYPES.TOGGLE,defaultValue:!0},includes:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.includeSourceFieldsLabel",{defaultMessage:"Include fields"}),...Hi},excludes:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.excludeSourceFieldsLabel",{defaultMessage:"Exclude fields"}),...Hi}},dynamicMapping:{enabled:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.enableDynamicMappingsLabel",{defaultMessage:"Enable dynamic mapping"}),type:D.FIELD_TYPES.TOGGLE,defaultValue:!0},throwErrorsForUnmappedFields:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.throwErrorsForUnmappedFieldsLabel",{defaultMessage:"Throw an exception when a document contains an unmapped field"}),helpText:i.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.dynamicMappingStrictHelpText",{defaultMessage:"By default, unmapped fields will be silently ignored when dynamic mapping is disabled. Optionally, you can choose to throw an exception when a document contains an unmapped field."}),type:D.FIELD_TYPES.CHECKBOX,defaultValue:!1},numeric_detection:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.numericFieldLabel",{defaultMessage:"Map numeric strings as numbers"}),helpText:i.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.numericFieldDescription",{defaultMessage:'For example, "1.0" would be mapped as a float and "1" would be mapped as an integer.'}),type:D.FIELD_TYPES.TOGGLE,defaultValue:!1},date_detection:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.dateDetectionFieldLabel",{defaultMessage:"Map date strings as dates"}),type:D.FIELD_TYPES.TOGGLE,defaultValue:!0},dynamic_date_formats:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.dynamicDatesFieldLabel",{defaultMessage:"Date formats"}),helpText:()=>Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.configuration.dynamicDatesFieldHelpText",defaultMessage:"Strings in these formats will be mapped as dates. You can use built-in formats or custom formats. {docsLink}",values:{docsLink:Object(j.jsx)(g.EuiLink,{href:te.getDateFormatLink(),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.dynamicDatesFieldDocumentionLink",{defaultMessage:"Learn more."}))}}),type:D.FIELD_TYPES.COMBO_BOX,defaultValue:["strict_date_optional_time","yyyy/MM/dd HH:mm:ss Z||yyyy/MM/dd Z"]}},_routing:{required:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.routingLabel",{defaultMessage:"Require _routing value for CRUD operations"}),defaultValue:!1}},_size:{enabled:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.sizeLabel",{defaultMessage:"Index the _source field size in bytes"}),defaultValue:!1}}},Yi=e=>{const{dynamicMapping:{enabled:t,throwErrorsForUnmappedFields:a,numeric_detection:i,date_detection:s,dynamic_date_formats:n},sourceField:l,metaField:o,_routing:r,_size:c}=e;return{dynamic:!!t||!!a&&"strict",numeric_detection:i,date_detection:s,dynamic_date_formats:n,_source:l,_meta:o,_routing:r,_size:c}},Xi=e=>{const{dynamic:t,numeric_detection:a,date_detection:i,dynamic_date_formats:s,_source:{enabled:n,includes:l,excludes:o}={},_meta:r,_routing:c,_size:d}=e;return{dynamicMapping:{enabled:!0===t||void 0===t,throwErrorsForUnmappedFields:"strict"===t,numeric_detection:a,date_detection:i,dynamic_date_formats:s},sourceField:{enabled:!0===n||void 0===n,includes:l,excludes:o},metaField:null!=r?r:{},_routing:c,_size:d}},Ki=m.a.memo((({value:e,esNodesPlugins:t})=>{const a=Object(p.useRef)(!1),{form:i}=Object(D.useForm)({schema:Ji,serializer:Yi,deserializer:Xi,defaultValue:e,id:"configurationForm"}),s=Ri(),{subscribe:n,submit:l,reset:o,getFormData:r}=i,c=void 0!==(null==e?void 0:e._size)||t.includes(ee);return Object(p.useEffect)((()=>n((({data:e,isValid:t,validate:a})=>{s({type:"configuration.update",value:{data:e,isValid:t,validate:a,submitForm:l}})})).unsubscribe),[s,n,l]),Object(p.useEffect)((()=>{a.current&&o({resetValues:!0,defaultValue:e})}),[e,o]),Object(p.useEffect)((()=>(a.current=!0,()=>{a.current=!1;const e=r();s({type:"configuration.save",value:e})})),[r,s]),Object(j.jsx)(D.Form,{form:i,isInvalid:i.isSubmitted&&!i.isValid,error:i.getErrors(),"data-test-subj":"advancedConfiguration"},Object(j.jsx)(zi,null),Object(j.jsx)(g.EuiSpacer,{size:"xl"}),Object(j.jsx)(qi,null),Object(j.jsx)(g.EuiSpacer,{size:"xl"}),Object(j.jsx)(Vi,null),Object(j.jsx)(g.EuiSpacer,{size:"xl"}),Object(j.jsx)(Wi,null),c&&Object(j.jsx)(Gi,null))}));var Qi=a(36),Zi=a.n(Qi);const es={alias:({allFields:e})=>Object(j.jsx)(Ia,{allFields:e}),token_count:()=>Object(j.jsx)(I.FormRow,{title:Object(j.jsx)("h3",null,i.i18n.translate("xpack.idxMgmt.mappingsEditor.tokenCount.analyzerFieldTitle",{defaultMessage:"Analyzer"})),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.tokenCount.analyzerFieldDescription",{defaultMessage:"The analyzer which should be used to analyze the string value. For best performance, use an analyzer without token filters."})},Object(j.jsx)(Ta,{path:"analyzer",label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.tokenCountRequired.analyzerFieldLabel",{defaultMessage:"Index analyzer"}),defaultValue:u,allowsIndexDefaultOption:!1})),scaled_float:()=>Object(j.jsx)(I.FormRow,{title:Object(j.jsx)("h3",null,K.scaling_factor.title),description:K.scaling_factor.description},Object(j.jsx)(D.UseField,{path:"scaling_factor",config:dt("scaling_factor"),component:I.Field})),dense_vector:()=>{const{label:e}=dt("dims");return Object(j.jsx)(I.FormRow,{title:Object(j.jsx)("h3",null,e),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.denseVector.dimsFieldDescription",{defaultMessage:"Each document’s dense vector is encoded as a binary doc value. Its size in bytes is equal to 4 * dimensions + 4."})},Object(j.jsx)(D.UseField,{path:"dims",config:dt("dims"),component:I.Field}))}},ts=e=>Object(j.jsx)("form",e),as=m.a.memo((function({allFields:e,isRootLevelField:t,isMultiField:a,paddingLeft:s,isCancelable:n,maxNestedDepth:l}){const o=Ri(),{form:r}=Object(D.useForm)({serializer:ci,options:{stripEmptyFields:!1}}),{subscribe:c}=r;Object(p.useEffect)((()=>c((e=>{o({type:"fieldForm.update",value:e})})).unsubscribe),[o,c]);const d=()=>{o({type:"documentField.changeStatus",value:"idle"})},u=async(e,t=!1)=>{e&&e.preventDefault();const{isValid:a,data:i}=await r.submit();a&&(r.reset(),o({type:"field.add",value:i}),t&&d())};return Object(j.jsx)(g.EuiOutsideClickDetector,{onOutsideClick:()=>{""===r.getFields().name.value.trim()?!1!==n&&d():u(void 0,!0)}},Object(j.jsx)(D.Form,{form:r,FormWrapper:ts,onSubmit:u,"data-test-subj":"createFieldForm"},Object(j.jsx)("div",{className:Zi()("mappingsEditor__createFieldWrapper",{"mappingsEditor__createFieldWrapper--toggle":Boolean(l)&&l>0,"mappingsEditor__createFieldWrapper--multiField":a}),style:{paddingLeft:`${a?s-24:s}px`}},Object(j.jsx)("div",{className:"mappingsEditor__createFieldContent"},Object(j.jsx)(g.EuiFlexGroup,{gutterSize:"s",alignItems:"center",justifyContent:"spaceBetween"},Object(j.jsx)(g.EuiFlexItem,{className:"mappingsEditor__createFieldContent__formFields"},Object(j.jsx)(g.EuiFlexGroup,{gutterSize:"s"},Object(j.jsx)(g.EuiFlexItem,null,Object(j.jsx)(xa,null)),Object(j.jsx)(g.EuiFlexItem,null,Object(j.jsx)(Va,{isRootLevelField:t,isMultiField:a,showDocLink:!0})),Object(j.jsx)(D.FormDataProvider,{pathsToWatch:"type"},(({type:e})=>{if(void 0===e)return null;const[i]=e;return Object(j.jsx)($a,{key:i.value,type:i.value,isMultiField:null!=a&&a,isRootLevelField:t})})))),Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(g.EuiFlexGroup,{gutterSize:"s",justifyContent:"flexEnd"},!1!==n&&Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(g.EuiButtonEmpty,{onClick:d,"data-test-subj":"cancelButton"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.createField.cancelButtonLabel",{defaultMessage:"Cancel"}))),Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(g.EuiButton,{color:"primary",fill:!0,onClick:u,type:"submit","data-test-subj":"addButton"},a?i.i18n.translate("xpack.idxMgmt.mappingsEditor.createField.addMultiFieldButtonLabel",{defaultMessage:"Add multi-field"}):i.i18n.translate("xpack.idxMgmt.mappingsEditor.createField.addFieldButtonLabel",{defaultMessage:"Add field"})))))),Object(j.jsx)(D.FormDataProvider,{pathsToWatch:["type","subType"]},(({type:t,subType:a})=>{const i=((e,t)=>es[t]||es[e])(null==t?void 0:t[0].value,null==a?void 0:a[0].value);if(!i)return null;const s=h[null==t?void 0:t[0].value];return Object(j.jsx)("div",{className:"mappingsEditor__createFieldRequiredProps"},s.isBeta?Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(Zt,null),Object(j.jsx)(g.EuiSpacer,{size:"m"})):null,Object(j.jsx)(i,{key:null!=a?a:t,allFields:e}))}))))))})),is=({children:e})=>{const[t,a]=Object(p.useState)({isModalOpen:!1}),s=Ri(),{fields:n}=Bi(),{byId:l}=n,o=i.i18n.translate("xpack.idxMgmt.mappingsEditor.deleteField.confirmationModal.removeButtonLabel",{defaultMessage:"Remove"});let r;if(t.field){const{isMultiField:e,source:a}=t.field;r=i.i18n.translate("xpack.idxMgmt.mappingsEditor.deleteField.confirmationModal.title",{defaultMessage:"Remove {fieldType} '{fieldName}'?",values:{fieldType:e?"multi-field":"field",fieldName:a.name}})}const c=()=>{a({isModalOpen:!1})};return Object(j.jsx)(m.a.Fragment,null,e((e=>{const t=gt(e,n).map((e=>l[e].path.join(" > "))).sort(),i=Boolean(t.length);a({isModalOpen:!0,field:e,aliases:i?t:void 0})})),t.isModalOpen&&Object(j.jsx)(kt,{title:r,childFields:t.field&&t.field.childFields,aliases:t.aliases,byId:l,confirmButtonText:o,onConfirm:()=>{s({type:"field.remove",value:t.field.id}),c()},onCancel:c}))},ss={addMultiFieldButtonLabel:i.i18n.translate("xpack.idxMgmt.mappingsEditor.addMultiFieldTooltipLabel",{defaultMessage:"Add a multi-field to index the same field in different ways."}),addPropertyButtonLabel:i.i18n.translate("xpack.idxMgmt.mappingsEditor.addPropertyButtonLabel",{defaultMessage:"Add property"}),editButtonLabel:i.i18n.translate("xpack.idxMgmt.mappingsEditor.editFieldButtonLabel",{defaultMessage:"Edit"}),deleteButtonLabel:i.i18n.translate("xpack.idxMgmt.mappingsEditor.removeFieldButtonLabel",{defaultMessage:"Remove"}),fieldIsShadowedLabel:i.i18n.translate("xpack.idxMgmt.mappingsEditor.fieldIsShadowedLabel",{defaultMessage:"Field shadowed by a runtime field with the same name."})};function ns({field:e,allFields:t,isHighlighted:a,isDimmed:s,isCreateFieldFormVisible:n,areActionButtonsVisible:l,isLastItem:o,isShadowed:r=!1,childFieldsArray:c,maxNestedDepth:d,addField:u,editField:p,toggleExpand:m,treeDepth:x},b){const{source:f,isMultiField:h,canHaveChildFields:M,hasChildFields:O,canHaveMultiFields:y,hasMultiFields:v,isExpanded:E,path:k}=e,T=0===d?.5*Q:0,F=x*Q-T,S=(x+1)*Q+Z-T,_=h?!o:y&&E,C=`${k.join("")}Field`;return Object(j.jsx)("li",{className:Zi()("mappingsEditor__fieldsListItem",{"mappingsEditor__fieldsListItem--dottedLine":_}),"data-test-subj":`fieldsListItem ${C}`,ref:b},Object(j.jsx)("div",{style:{paddingLeft:`${F}px`},className:Zi()("mappingsEditor__fieldsListItem__field",{"mappingsEditor__fieldsListItem__field--enabled":l,"mappingsEditor__fieldsListItem__field--highlighted":a,"mappingsEditor__fieldsListItem__field--dim":s})},Object(j.jsx)("div",{className:Zi()("mappingsEditor__fieldsListItem__wrapper",{"mappingsEditor__fieldsListItem__wrapper--indent":0===x&&0===d})},Object(j.jsx)(g.EuiFlexGroup,{gutterSize:"s",alignItems:"center",className:Zi()("mappingsEditor__fieldsListItem__content",{"mappingsEditor__fieldsListItem__content--toggle":O||v,"mappingsEditor__fieldsListItem__content--multiField":h,"mappingsEditor__fieldsListItem__content--indent":!O&&!v&&d>x})},(O||v)&&Object(j.jsx)(g.EuiFlexItem,{grow:!1,className:"mappingsEditor__fieldsListItem__toggle"},Object(j.jsx)(g.EuiButtonIcon,{color:"text",onClick:m,iconType:E?"arrowDown":"arrowRight","data-test-subj":"toggleExpandButton","aria-label":E?i.i18n.translate("xpack.idxMgmt.mappingsEditor.collapseFieldButtonLabel",{defaultMessage:"Collapse field {name}",values:{name:f.name}}):i.i18n.translate("xpack.idxMgmt.mappingsEditor.expandFieldButtonLabel",{defaultMessage:"Expand field {name}",values:{name:f.name}})})),h&&Object(j.jsx)(g.EuiFlexItem,{grow:!1,className:"mappingsEditor__fieldsListItem__icon"},Object(j.jsx)(g.EuiIcon,{color:"subdued",type:"documents"})),Object(j.jsx)(g.EuiFlexItem,{grow:!1,className:"mappingsEditor__fieldsListItem__name","data-test-subj":`fieldName ${C}-fieldName`},f.name),Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(g.EuiBadge,{color:"hollow","data-test-subj":`${C}-datatype`,"data-type-value":f.type},h?i.i18n.translate("xpack.idxMgmt.mappingsEditor.multiFieldBadgeLabel",{defaultMessage:"{dataType} multi-field",values:{dataType:ct(f)}}):ct(f))),r&&Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(g.EuiToolTip,{content:ss.fieldIsShadowedLabel},Object(j.jsx)(g.EuiBadge,{color:"warning","data-test-subj":"isShadowedIndicator"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.shadowedBadgeLabel",{defaultMessage:"Shadowed"})))),Object(j.jsx)(g.EuiFlexItem,{grow:!1},(()=>{if(!l)return null;const{addMultiFieldButtonLabel:t,addPropertyButtonLabel:a,editButtonLabel:i,deleteButtonLabel:s}=ss;return Object(j.jsx)(g.EuiFlexGroup,{gutterSize:"s",className:"mappingsEditor__fieldsListItem__actions"},y&&Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(g.EuiToolTip,{content:t},Object(j.jsx)(g.EuiButtonIcon,{iconType:"documents",onClick:u,"data-test-subj":"addMultiFieldButton","aria-label":t}))),M&&Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(g.EuiToolTip,{content:a},Object(j.jsx)(g.EuiButtonIcon,{iconType:"plusInCircle",onClick:u,"data-test-subj":"addPropertyButton","aria-label":a}))),Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(g.EuiToolTip,{content:i},Object(j.jsx)(g.EuiButtonIcon,{iconType:"pencil",onClick:p,"data-test-subj":"editFieldButton","aria-label":i}))),Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(is,null,(t=>Object(j.jsx)(g.EuiToolTip,{content:s},Object(j.jsx)(g.EuiButtonIcon,{iconType:"trash",color:"danger",onClick:()=>t(e),"data-test-subj":"removeFieldButton","aria-label":s}))))))})())))),Boolean(c.length)&&E&&Object(j.jsx)(rs,{fields:c,treeDepth:x+1}),n?Object(j.jsx)(as,{allFields:t,isRootLevelField:!1,isMultiField:y,paddingLeft:S,maxNestedDepth:d}):null)}const ls=m.a.memo(Object(p.forwardRef)(ns)),os=({fieldId:e,treeDepth:t,isLastItem:a})=>{const i=Ri(),s=Object(p.useRef)(null),{documentFields:{status:n,fieldToAddFieldTo:l,fieldToEdit:o},fields:{byId:r,maxNestedDepth:c,rootLevelFields:d},runtimeFields:u}=Bi(),m=Object(p.useCallback)((e=>r[e]),[r]),g=Object.values(u).map((e=>e.source.name)),x=m(e),{childFields:b}=x,f=o===e,h="editingField"===n&&o!==e,M="creatingField"===n&&l===e,O="idle"===n,y=Object(p.useMemo)((()=>void 0!==b?b.map(m):[]),[b,m]),v=d.includes(e)&&g.includes(x.source.name),E=Object(p.useCallback)((()=>{i({type:"documentField.createField",value:e})}),[e,i]),k=Object(p.useCallback)((()=>{i({type:"documentField.editField",value:e})}),[e,i]),T=Object(p.useCallback)((()=>{i({type:"field.toggleExpand",value:{fieldId:e}})}),[e,i]);return Object(j.jsx)(ls,{ref:s,field:x,allFields:r,treeDepth:t,isHighlighted:f,isDimmed:h,isShadowed:v,isCreateFieldFormVisible:M,areActionButtonsVisible:O,isLastItem:a,childFieldsArray:y,maxNestedDepth:c,addField:E,editField:k,toggleExpand:T})},rs=m.a.memo((function({fields:e,treeDepth:t}){return void 0===e?null:Object(j.jsx)("ul",{className:"mappingsEditor__fieldsList","data-test-subj":"fieldsList"},e.map(((a,i)=>Object(j.jsx)(os,{key:a.id,fieldId:a.id,treeDepth:void 0===t?0:t,isLastItem:i===e.length-1}))))})),cs=m.a.memo((({searchValue:e,onSearchChange:t})=>Object(j.jsx)(g.EuiFlexGroup,{justifyContent:"spaceBetween"},Object(j.jsx)(g.EuiFlexItem,null,Object(j.jsx)(g.EuiText,{size:"s",color:"subdued"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.documentFieldsDescription",defaultMessage:"Define the fields for your indexed documents. {docsLink}",values:{docsLink:Object(j.jsx)(g.EuiLink,{href:te.getMappingTypesLink(),target:"_blank",external:!0},i.i18n.translate("xpack.idxMgmt.mappingsEditor.documentFieldsDocumentationLink",{defaultMessage:"Learn more."}))}}))),Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(g.EuiFieldSearch,{style:{minWidth:"350px"},placeholder:i.i18n.translate("xpack.idxMgmt.mappingsEditor.documentFields.searchFieldsPlaceholder",{defaultMessage:"Search fields"}),value:e,onChange:e=>{t("string"==typeof e?e:e.target.value)},"aria-label":i.i18n.translate("xpack.idxMgmt.mappingsEditor.documentFields.searchFieldsAriaLabel",{defaultMessage:"Search mapped fields"})}))))),ds=({defaultValue:e})=>{const t=Ri(),a=Object(p.useRef)(e),i=Object(p.useCallback)((({data:e,isValid:a})=>t({type:"fieldsJsonEditor.update",value:{json:e.format(),isValid:a}})),[t]);return Object(j.jsx)(N.JsonEditor,{onUpdate:i,defaultValue:a.current})},us=()=>{const e=Ri(),{fields:{byId:t,rootLevelFields:a},documentFields:{status:s,fieldToAddFieldTo:n}}=Bi(),l=Object(p.useCallback)((e=>t[e]),[t]),o=Object(p.useMemo)((()=>a.map(l)),[a,l]),r=Object(p.useCallback)((()=>{e({type:"documentField.createField"})}),[e]);return Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(rs,{fields:o}),"creatingField"===s&&void 0===n?Object(j.jsx)(as,{isCancelable:o.length>0,allFields:t,isRootLevelField:!0}):null,(()=>{const e="idle"!==s;return Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiSpacer,null),Object(j.jsx)(g.EuiButtonEmpty,{disabled:e,onClick:r,iconType:"plusInCircleFilled","data-test-subj":"addFieldButton"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.addFieldButtonLabel",{defaultMessage:"Add field"})))})())};var ps=a(90);const ms=m.a.memo((function({item:{display:e,field:t},areActionButtonsVisible:a,isHighlighted:s,isDimmed:n}){var l,o;const r=Ri(),{source:c,isMultiField:d,hasChildFields:u,hasMultiFields:p}=t,m=()=>{r({type:"documentField.editField",value:t.id})};return Object(j.jsx)("div",{className:Zi()("mappingsEditor__fieldsListItem"),"data-test-subj":"fieldsListItem"},Object(j.jsx)("div",{className:Zi()("mappingsEditor__fieldsListItem__field",{"mappingsEditor__fieldsListItem__field--enabled":a,"mappingsEditor__fieldsListItem__field--selected":s,"mappingsEditor__fieldsListItem__field--dim":n})},Object(j.jsx)("div",{className:Zi()("mappingsEditor__fieldsListItem__wrapper")},Object(j.jsx)(g.EuiFlexGroup,{gutterSize:"s",alignItems:"center",className:Zi()("mappingsEditor__fieldsListItem__content",{"mappingsEditor__fieldsListItem__content--toggle":u||p,"mappingsEditor__fieldsListItem__content--multiField":d})},Object(j.jsx)(g.EuiFlexItem,{grow:!1,className:"mappingsEditor__fieldsListItem__name","data-test-subj":"fieldName"},e),Object(j.jsx)(g.EuiFlexItem,{grow:!1,"data-test-subj":"fieldType"},Object(j.jsx)(g.EuiBadge,{color:"hollow"},d?i.i18n.translate("xpack.idxMgmt.mappingsEditor.multiFieldBadgeLabel",{defaultMessage:"{dataType} multi-field",values:{dataType:null!==(l=null===(o=h[c.type])||void 0===o?void 0:o.label)&&void 0!==l?l:c.type}}):ct(c))),Object(j.jsx)(g.EuiFlexItem,null,(()=>{if(!a)return null;const e=i.i18n.translate("xpack.idxMgmt.mappingsEditor.editFieldButtonLabel",{defaultMessage:"Edit"}),s=i.i18n.translate("xpack.idxMgmt.mappingsEditor.removeFieldButtonLabel",{defaultMessage:"Remove"});return Object(j.jsx)(g.EuiFlexGroup,{gutterSize:"s",className:"mappingsEditor__fieldsListItem__actions","data-test-subj":"fieldActions"},Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(g.EuiToolTip,{content:e},Object(j.jsx)(g.EuiButtonIcon,{iconType:"pencil",onClick:m,"data-test-subj":"editFieldButton","aria-label":e}))),Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(is,null,(e=>Object(j.jsx)(g.EuiToolTip,{content:s},Object(j.jsx)(g.EuiButtonIcon,{iconType:"trash",color:"danger",onClick:()=>e(t),"data-test-subj":"removeFieldButton","aria-label":s}))))))})())))))}));ms.displayName="SearchResultItem";const gs=m.a.memo((({data:e,index:t,style:a})=>{const{fieldToEdit:i,result:s,status:n}=e,l=s[t];return Object(j.jsx)("div",{key:l.field.id,style:a},Object(j.jsx)(ms,{item:l,areActionButtonsVisible:"idle"===n,isDimmed:"editingField"===n&&i!==l.field.id,isHighlighted:"editingField"===n&&i===l.field.id}))}),ps.areEqual),xs=m.a.memo((({result:e,documentFieldsState:{status:t,fieldToEdit:a},style:i})=>{const s=Ri(),n=Math.min(64*e.length,600),l=Object(p.useMemo)((()=>({result:e,status:t,fieldToEdit:a})),[a,e,t]);return 0===e.length?Object(j.jsx)(g.EuiEmptyPrompt,{"data-test-subj":"mappingsEditorSearchResultEmptyPrompt",iconType:"search",title:Object(j.jsx)("h3",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.searchResult.emptyPromptTitle",defaultMessage:"No fields match your search"})),actions:Object(j.jsx)(g.EuiButton,{onClick:()=>{s({type:"search:update",value:""})}},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.searchResult.emptyPrompt.clearSearchButtonLabel",defaultMessage:"Clear search"}))}):Object(j.jsx)(ps.FixedSizeList,{"data-test-subj":"mappingsEditorSearchResult",style:{overflowX:"hidden",...i},width:"100%",height:n,itemData:l,itemCount:e.length,itemSize:64},gs)}));xs.displayName="SearchResult";const{useGlobalFlyout:bs}=N.GlobalFlyout,fs=m.a.memo((()=>{const{fields:e,search:t,documentFields:a}=Bi(),i=Ri(),{addContent:s,removeContent:n}=bs(),{editor:l}=a,o="editingField"===a.status,r=Object(p.useMemo)((()=>{if("json"===l)return pt(e)}),[l,e]),c="json"===l?Object(j.jsx)(ds,{defaultValue:r}):Object(j.jsx)(us,null),d=Object(p.useCallback)((e=>{i({type:"search:update",value:e})}),[i]),u=Object(p.useCallback)((()=>{i({type:"documentField.changeStatus",value:"idle"})}),[i]);Object(p.useEffect)((()=>{o&&s({id:"mappingsEditField",Component:la,props:{exitEdit:u},flyoutProps:{...na,onClose:u},cleanUpFunc:u})}),[o,s,e.byId,u]),Object(p.useEffect)((()=>{o||n("mappingsEditField")}),[o,n]),Object(p.useEffect)((()=>()=>{o&&u()}),[o,u]);const m=t.term.trim();return Object(j.jsx)("div",{"data-test-subj":"documentFields"},Object(j.jsx)(cs,{searchValue:t.term,onSearchChange:d}),Object(j.jsx)(g.EuiSpacer,{size:"m"}),""!==m?Object(j.jsx)(xs,{result:t.result,documentFieldsState:a}):c)})),js=({createField:e,runtimeFieldsDocsUri:t})=>Object(j.jsx)(g.EuiEmptyPrompt,{iconType:"managementApp","data-test-subj":"emptyList",title:Object(j.jsx)("h2",{"data-test-subj":"title"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.runtimeFields.emptyPromptTitle",{defaultMessage:"Start by creating a runtime field"})),body:Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.runtimeFields.emptyPromptDescription",defaultMessage:"Define a field in the mapping and evaluate it at search time."}),Object(j.jsx)("br",null),Object(j.jsx)(g.EuiLink,{href:t,target:"_blank","data-test-subj":"learnMoreLink",external:!0},i.i18n.translate("xpack.idxMgmt.mappingsEditor.runtimeFields.emptyPromptDocumentionLink",{defaultMessage:"Learn more."}))),actions:Object(j.jsx)(g.EuiButton,{onClick:()=>e(),iconType:"plusInCircle","data-test-subj":"createRuntimeFieldButton",fill:!0},i.i18n.translate("xpack.idxMgmt.mappingsEditor.runtimeFields.emptyPromptButtonLabel",{defaultMessage:"Create runtime field"}))}),hs=({children:e})=>{const[t,a]=Object(p.useState)({isModalOpen:!1}),s=Ri(),n=i.i18n.translate("xpack.idxMgmt.mappingsEditor.deleteRuntimeField.confirmationModal.removeButtonLabel",{defaultMessage:"Remove"});let l;if(t.field){const{source:e}=t.field;l=i.i18n.translate("xpack.idxMgmt.mappingsEditor.deleteRuntimeField.confirmationModal.title",{defaultMessage:"Remove runtime field '{fieldName}'?",values:{fieldName:e.name}})}const o=()=>{a({isModalOpen:!1})};return Object(j.jsx)(m.a.Fragment,null,e((e=>{a({isModalOpen:!0,field:e})})),t.isModalOpen&&Object(j.jsx)(g.EuiConfirmModal,{title:l,"data-test-subj":"runtimeFieldDeleteConfirmModal",onCancel:o,onConfirm:()=>{s({type:"runtimeField.remove",value:t.field.id}),o()},cancelButtonText:i.i18n.translate("xpack.idxMgmt.mappingsEditor.deleteRuntimeField.confirmationModal.cancelButtonLabel",{defaultMessage:"Cancel"}),buttonColor:"danger",confirmButtonText:n}))};function Ms({field:e,areActionButtonsVisible:t,isHighlighted:a,isDimmed:s,editField:n},l){const{source:o}=e;return Object(j.jsx)("li",{className:"mappingsEditor__fieldsListItem","data-test-subj":"runtimeFieldsListItem"},Object(j.jsx)("div",{className:Zi()("mappingsEditor__fieldsListItem__field",{"mappingsEditor__fieldsListItem__field--enabled":t,"mappingsEditor__fieldsListItem__field--highlighted":a,"mappingsEditor__fieldsListItem__field--dim":s})},Object(j.jsx)("div",{className:"mappingsEditor__fieldsListItem__wrapper mappingsEditor__fieldsListItem__wrapper--indent"},Object(j.jsx)(g.EuiFlexGroup,{gutterSize:"s",alignItems:"center",className:"mappingsEditor__fieldsListItem__content"},Object(j.jsx)(g.EuiFlexItem,{grow:!1,className:"mappingsEditor__fieldsListItem__name","data-test-subj":"fieldName"},o.name),Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(g.EuiBadge,{color:"hollow","data-test-subj":"fieldType","data-type-value":o.type},ct(o))),Object(j.jsx)(g.EuiFlexItem,{grow:!1},(()=>{if(!t)return null;const a=i.i18n.translate("xpack.idxMgmt.mappingsEditor.editRuntimeFieldButtonLabel",{defaultMessage:"Edit"}),s=i.i18n.translate("xpack.idxMgmt.mappingsEditor.removeRuntimeFieldButtonLabel",{defaultMessage:"Remove"});return Object(j.jsx)(g.EuiFlexGroup,{gutterSize:"s",className:"mappingsEditor__fieldsListItem__actions"},Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(g.EuiToolTip,{content:a},Object(j.jsx)(g.EuiButtonIcon,{iconType:"pencil",onClick:n,"data-test-subj":"editFieldButton","aria-label":a}))),Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(hs,null,(t=>Object(j.jsx)(g.EuiToolTip,{content:s},Object(j.jsx)(g.EuiButtonIcon,{iconType:"trash",color:"danger",onClick:()=>t(e),"data-test-subj":"removeFieldButton","aria-label":s}))))))})())))))}const Os=m.a.memo(Ms),ys=({fieldId:e})=>{const t=Ri(),{runtimeFieldsList:{status:a,fieldToEdit:i},runtimeFields:s}=Bi(),n=Object(p.useCallback)((e=>s[e]),[s])(e),l=i===e,o="editingField"===a&&i!==e,r="idle"===a,c=Object(p.useCallback)((()=>{t({type:"runtimeFieldsList.editField",value:e})}),[e,t]);return Object(j.jsx)(Os,{field:n,isHighlighted:l,isDimmed:o,areActionButtonsVisible:r,editField:c})},{useGlobalFlyout:vs}=N.GlobalFlyout,Es=()=>{const e=te.getRuntimeFields(),{runtimeFields:t,runtimeFieldsList:{status:a,fieldToEdit:s},fields:n}=Bi(),l=Ri(),{addContent:o,removeContent:r}=vs(),{value:{docLinks:c}}=ya(),d=Object(p.useCallback)((()=>{l({type:"runtimeFieldsList.createField"})}),[l]),u=Object(p.useCallback)((()=>{l({type:"runtimeFieldsList.closeRuntimeFieldEditor"})}),[l]),x=Object(p.useCallback)((e=>{l(s?{type:"runtimeField.edit",value:{id:s,source:e}}:{type:"runtimeField.add",value:e})}),[l,s]);Object(p.useEffect)((()=>{var e;"creatingField"===a||"editingField"===a?o({id:"runtimeFieldEditor",Component:B.RuntimeFieldEditorFlyoutContent,props:{onSave:x,onCancel:u,defaultValue:s?null===(e=t[s])||void 0===e?void 0:e.source:void 0,docLinks:c,ctx:{namesNotAllowed:Object.values(t).map((e=>e.source.name)),existingConcreteFields:Object.values(n.byId).map((e=>({name:e.source.name,type:e.source.type})))}},flyoutProps:{"data-test-subj":"runtimeFieldEditor","aria-labelledby":"runtimeFieldEditorEditTitle",maxWidth:720,onClose:u},cleanUpFunc:u}):"idle"===a&&r("runtimeFieldEditor")}),[a,s,t,n,c,o,r,x,u]);const b=Object.entries(t),h=0===b.length,M="idle"!==a;return h?Object(j.jsx)(js,{createField:d,runtimeFieldsDocsUri:e}):Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiText,{size:"s",color:"subdued"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.runtimeFieldsDescription",defaultMessage:"Define the runtime fields accessible at search time. {docsLink}",values:{docsLink:Object(j.jsx)(g.EuiLink,{href:e,target:"_blank",external:!0},i.i18n.translate("xpack.idxMgmt.mappingsEditor.runtimeFieldsDocumentationLink",{defaultMessage:"Learn more."}))}})),Object(j.jsx)(g.EuiSpacer,null),Object(j.jsx)("ul",null,b.map((([e])=>Object(j.jsx)(ys,{key:e,fieldId:e})))),Object(j.jsx)(g.EuiSpacer,null),Object(j.jsx)(g.EuiButtonEmpty,{disabled:M,onClick:d,iconType:"plusInCircleFilled","data-test-subj":"createRuntimeFieldButton"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.addRuntimeFieldButtonLabel",{defaultMessage:"Add field"})))},{isJsonField:ks}=P.fieldValidators,Ts={dynamicTemplates:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.templates.dynamicTemplatesEditorLabel",{defaultMessage:"Dynamic templates data"}),validations:[{validator:ks(i.i18n.translate("xpack.idxMgmt.mappingsEditor.templates.dynamicTemplatesEditorJsonError",{defaultMessage:"The dynamic templates JSON is not valid."}))}]}},Fs=e=>{const{dynamicTemplates:t}=e;let a;try{a=JSON.parse(t),Array.isArray(a)||(a=[a])}catch{}return{dynamic_templates:Array.isArray(a)&&a.length>0?a:[]}},Ss=e=>{const{dynamic_templates:t}=e;return{dynamicTemplates:(a=t,Array.isArray(a)?JSON.stringify(a,null,2):"[\n\n]")};var a},_s=m.a.memo((({value:e})=>{const t=Object(p.useRef)(!1),{form:a}=Object(D.useForm)({schema:Ts,serializer:Fs,deserializer:Ss,defaultValue:e}),{subscribe:s,getFormData:n,submit:l,reset:o}=a,r=Ri();return Object(p.useEffect)((()=>s((({data:e,isValid:t,validate:a})=>{r({type:"templates.update",value:{data:e,isValid:t,validate:a,submitForm:l}})})).unsubscribe),[s,r,l]),Object(p.useEffect)((()=>{t.current&&o({resetValues:!0,defaultValue:e})}),[e,o]),Object(p.useEffect)((()=>(t.current=!0,()=>{t.current=!1;const e=n();r({type:"templates.save",value:e})})),[n,r]),Object(j.jsx)("div",{"data-test-subj":"dynamicTemplates"},Object(j.jsx)(g.EuiText,{size:"s",color:"subdued"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dynamicTemplatesDescription",defaultMessage:"Use dynamic templates to define custom mappings that can be applied to dynamically added fields. {docsLink}",values:{docsLink:Object(j.jsx)(g.EuiLink,{href:te.getDynamicTemplatesLink(),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.dynamicTemplatesDocumentationLink",{defaultMessage:"Learn more."}))}})),Object(j.jsx)(g.EuiSpacer,{size:"m"}),Object(j.jsx)(D.Form,{form:a,isInvalid:a.isSubmitted&&!a.isValid,error:a.getErrors()},Object(j.jsx)(D.UseField,{path:"dynamicTemplates",component:I.JsonEditorField,componentProps:{codeEditorProps:{"data-test-subj":"dynamicTemplatesEditor",height:"600px","aria-label":i.i18n.translate("xpack.idxMgmt.mappingsEditor.dynamicTemplatesEditorAriaLabel",{defaultMessage:"Dynamic templates editor"})}}})))})),Cs=()=>Object(j.jsx)(g.EuiCallOut,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.mappingTypesDetectedCallOutTitle",{defaultMessage:"Mapping types detected"}),iconType:"warning",color:"warning","data-test-subj":"mappingTypesDetectedCallout"},Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.mappingTypesDetectedCallOutDescription",defaultMessage:"The mappings for this template uses types, which have been removed. {docsLink}",values:{docsLink:Object(j.jsx)(g.EuiLink,{href:te.getAlternativeToMappingTypesLink(),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.mappingTypesDetectedCallOutDocumentationLink",{defaultMessage:"Consider these alternatives to mapping types."}))}}))),Ls=m.a.memo((({onChange:e,value:t,docLinks:a,indexSettings:s,esNodesPlugins:n})=>{const{parsedDefaultValue:l,multipleMappingsDeclared:o}=Object(p.useMemo)((()=>{const e=((e={})=>{if(Ci(e))return e;const t=Object.values(e).reduce(((e,t)=>(Ci(t)&&e.push(t),e)),[]);return 0===t.length?null:1===t.length?t[0]:null})(t);if(null===e)return{multipleMappingsDeclared:!0};const{_source:a,_meta:i,_routing:s,_size:n,dynamic:l,properties:o,runtime:r,numeric_detection:c,date_detection:d,dynamic_date_formats:u,dynamic_templates:p}=e;return{parsedDefaultValue:{configuration:{_source:a,_meta:i,_routing:s,_size:n,dynamic:l,numeric_detection:c,date_detection:d,dynamic_date_formats:u},fields:o,templates:{dynamic_templates:p},runtime:r},multipleMappingsDeclared:!1}}),[t]);(({onChange:e,value:t})=>{const a=Bi(),i=Ri(),{fields:s,runtime:n}=null!=t?t:{},l=Object(p.useMemo)((()=>ut(s)),[s]),o=Object(p.useMemo)((()=>((e={})=>Object.entries(e).reduce(((e,[t,a])=>{const i=ot();return{...e,[i]:{id:i,source:{name:t,...a}}}}),{}))(n)),[n]);Object(p.useEffect)((()=>{const t=void 0!==a.fieldForm&&(void 0===a.fieldForm.data.internal.name||""===a.fieldForm.data.internal.name.trim()),s="creatingField"===a.documentFields.status&&t;e({getData:()=>{const e="json"===a.documentFields.editor?a.fieldsJsonEditor.format():pt(a.fields),t=(e=>Object.values(e).reduce(((e,{source:t})=>{const{name:a,...i}=t;return{...e,[a]:i}}),{}))(a.runtimeFields),i=a.configuration.data.format(),s=a.templates.data.format(),n={...Mt({...i,...s})};return e&&Object.keys(e).length>0&&(n.properties=e),t&&Object.keys(t).length>0&&(n.runtime=t),Object.keys(n).length>0?n:void 0},validate:async()=>{const e=[void 0!==a.configuration.submitForm?new Promise((async(e,t)=>{try{const{isValid:t}=await a.configuration.submitForm();e(t)}catch(e){t(e)}})):Promise.resolve(!0),void 0!==a.templates.submitForm?new Promise((async(e,t)=>{try{const{isValid:t}=await a.templates.submitForm();e(t)}catch(e){t(e)}})):Promise.resolve(!0)];return void 0===a.fieldForm||s||e.push(a.fieldForm.validate()),Promise.all(e).then((e=>{const t=e.every(Boolean)&&a.fieldsJsonEditor.isValid;return i({type:"validity:update",value:t}),t}))},isValid:a.isValid})}),[a,e,i]),Object(p.useEffect)((()=>{void 0!==t&&i({type:"editor.replaceMappings",value:{configuration:t.configuration,templates:t.templates,fields:l,documentFields:{status:0===l.rootLevelFields.length?"creatingField":"idle",editor:"default"},runtimeFields:o}})}),[t,l,i,o])})({onChange:e,value:l});const{update:r}=ya(),c=Bi(),[d,u]=Object(p.useState)("fields");Object(p.useEffect)((()=>{o&&e({getData:()=>t,validate:()=>Promise.resolve(!0),isValid:!0})}),[o,e,t]),Object(p.useEffect)((()=>{r({docLinks:a,indexSettings:null!=s?s:{}})}),[r,a,s]);const m=async e=>{if("advanced"===d){const{isValid:e}=await c.configuration.submitForm();if(!e)return}else if("templates"===d){const{isValid:e}=await c.templates.submitForm();if(!e)return}u(e)},x={fields:Object(j.jsx)(fs,null),runtimeFields:Object(j.jsx)(Es,null),templates:Object(j.jsx)(_s,{value:c.templates.defaultValue}),advanced:Object(j.jsx)(Ki,{value:c.configuration.defaultValue,esNodesPlugins:n})};return Object(j.jsx)("div",{"data-test-subj":"mappingsEditor"},o?Object(j.jsx)(Cs,null):Object(j.jsx)("div",{className:"mappingsEditor"},Object(j.jsx)(g.EuiTabs,null,Object(j.jsx)(g.EuiTab,{onClick:()=>m("fields"),isSelected:"fields"===d,"data-test-subj":"formTab"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.fieldsTabLabel",{defaultMessage:"Mapped fields"})),Object(j.jsx)(g.EuiTab,{onClick:()=>m("runtimeFields"),isSelected:"runtimeFields"===d,"data-test-subj":"formTab"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.runtimeFieldsTabLabel",{defaultMessage:"Runtime fields"})),Object(j.jsx)(g.EuiTab,{onClick:()=>m("templates"),isSelected:"templates"===d,"data-test-subj":"formTab"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.templatesTabLabel",{defaultMessage:"Dynamic templates"})),Object(j.jsx)(g.EuiTab,{onClick:()=>m("advanced"),isSelected:"advanced"===d,"data-test-subj":"formTab"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.advancedTabLabel",{defaultMessage:"Advanced options"}))),Object(j.jsx)(g.EuiSpacer,{size:"l"}),x[d]))})),ws=({onJson:e,esNodesPlugins:t,children:a})=>{var s,n;const[l,o]=Object(p.useState)({isModalOpen:!1}),[r,c]=Object(p.useState)(1),d=Object(p.useRef)(),u=void 0!==l.json&&void 0!==l.errors?"validationResult":"json",x=((e,t=0)=>({modalTitle:i.i18n.translate("xpack.idxMgmt.mappingsEditor.loadJsonModalTitle",{defaultMessage:"Load JSON"}),buttons:{confirm:"json"===e?i.i18n.translate("xpack.idxMgmt.mappingsEditor.loadJsonModal.loadButtonLabel",{defaultMessage:"Load and overwrite"}):i.i18n.translate("xpack.idxMgmt.mappingsEditor.loadJsonModal.acceptWarningLabel",{defaultMessage:"Continue loading"}),cancel:"json"===e?i.i18n.translate("xpack.idxMgmt.mappingsEditor.loadJsonModal.cancelButtonLabel",{defaultMessage:"Cancel"}):i.i18n.translate("xpack.idxMgmt.mappingsEditor.loadJsonModal.goBackButtonLabel",{defaultMessage:"Go back"})},editor:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.loadJsonModal.jsonEditorLabel",{defaultMessage:"Mappings object"})},validationErrors:{title:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.loadJsonModal.validationErrorTitle",defaultMessage:"{totalErrors} {totalErrors, plural, one {invalid option} other {invalid options}} detected in {mappings} object",values:{totalErrors:t,mappings:Object(j.jsx)("code",null,"mappings")}}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.loadJsonModal.validationErrorDescription",{defaultMessage:"If you continue loading the object, only valid options will be accepted."})}}))(u,null===(s=l.errors)||void 0===s?void 0:s.length),b=Object(p.useCallback)((e=>{d.current=e}),[]),h=()=>{o({isModalOpen:!1})};return Object(j.jsx)(m.a.Fragment,null,a((()=>{o({isModalOpen:!0})})),l.isModalOpen&&Object(j.jsx)(g.EuiConfirmModal,{title:x.modalTitle,onCancel:()=>{"json"===u?h():o({isModalOpen:!0,json:l.json})},onConfirm:()=>{"json"===u?(()=>{if(void 0===d.current)return e({}),void h();if(d.current.validate()){const a=d.current.data.format(),{value:i,errors:s}=((e={},t=[])=>{if(!Object(Me.isPlainObject)(e))return{value:{}};const{properties:a,dynamic_templates:i,...s}=e,{value:n,errors:l}=[Ei,ki(t)].reduce(((e,t)=>{const{value:a,errors:i}=t(e.value);return{value:a,errors:[...e.errors,...i]}}),{value:s,errors:[]}),{value:o,errors:r}=((e={})=>Object(Me.isPlainObject)(e)?Mi(e):{value:{},errors:[]})(a),c=[...l,...r];return{value:{...n,properties:o,dynamic_templates:null!=i?i:[]},errors:c.length?c:void 0}})(a,t);if(s)return void o({isModalOpen:!0,json:{unparsed:a,parsed:i},errors:s});e(i),h()}})():(e(l.json.parsed),h())},cancelButtonText:x.buttons.cancel,confirmButtonText:x.buttons.confirm,maxWidth:600},"json"===u?Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiText,{color:"subdued"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.loadJsonModal.jsonEditorHelpText",defaultMessage:"Provide a mappings object, for example, the object assigned to an index {mappings} property. This will overwrite existing mappings, dynamic templates, and options.",values:{mappings:Object(j.jsx)("code",null,"mappings")}})),Object(j.jsx)(g.EuiSpacer,{size:"m"}),Object(j.jsx)(N.JsonEditor,{label:x.editor.label,onUpdate:b,defaultValue:null===(n=l.json)||void 0===n?void 0:n.unparsed,codeEditorProps:{height:"450px"}})):Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiCallOut,{title:x.validationErrors.title,iconType:"warning",color:"warning"},Object(j.jsx)(g.EuiText,null,Object(j.jsx)("p",null,x.validationErrors.description)),Object(j.jsx)(g.EuiSpacer,null),Object(j.jsx)("ol",null,l.errors.slice(0,r).map(((e,t)=>Object(j.jsx)("li",{key:t},(e=>{switch(e.code){case"ERR_CONFIG":return Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.loadJsonModal.validationError.configurationMessage",defaultMessage:"The {configName} configuration is invalid.",values:{configName:Object(j.jsx)("code",null,e.configName)}});case"ERR_FIELD":return Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.loadJsonModal.validationError.fieldMessage",defaultMessage:"The {fieldPath} field is invalid.",values:{fieldPath:Object(j.jsx)("code",null,e.fieldPath)}});case"ERR_PARAMETER":return Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.loadJsonModal.validationError.parameterMessage",defaultMessage:"The {paramName} parameter on field {fieldPath} is invalid.",values:{paramName:Object(j.jsx)("code",null,e.paramName),fieldPath:Object(j.jsx)("code",null,e.fieldPath)}})}})(e))))),l.errors.length>1&&(()=>{const e=r>1;return Object(j.jsx)(g.EuiButtonEmpty,{onClick:()=>c(e?1:l.errors.length),iconType:e?"arrowUp":"arrowDown"},e?i.i18n.translate("xpack.idxMgmt.mappingsEditor.hideErrorsButtonLabel",{defaultMessage:"Hide errors"}):i.i18n.translate("xpack.idxMgmt.mappingsEditor.showAllErrorsButtonLabel",{defaultMessage:"Show {numErrors} more errors",values:{numErrors:l.errors.length-1}}))})()))))},Ds=({onJson:e,esNodesPlugins:t})=>Object(j.jsx)(ws,{onJson:e,esNodesPlugins:t},(e=>Object(j.jsx)(g.EuiButtonEmpty,{onClick:e,size:"s"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.loadFromJsonButtonLabel",{defaultMessage:"Load JSON"})))),Is=({children:e})=>Object(j.jsx)(Ni,null,Object(j.jsx)(Oa,null,e)),Ps=m.a.memo((({defaultValue:e={},onChange:t,indexSettings:a,esDocsBase:i,esNodesPlugins:s})=>{const[n,l]=Object(p.useState)(e),{docLinks:o}=Re(),r=Object(p.useCallback)((({isValid:e,getData:a,validate:i})=>{t({isValid:e,validate:async()=>void 0===e?await i():e,getData:a})}),[t]);return Object(j.jsx)("div",{"data-test-subj":"stepMappings"},Object(j.jsx)(g.EuiFlexGroup,{justifyContent:"spaceBetween"},Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(g.EuiTitle,null,Object(j.jsx)("h2",{"data-test-subj":"stepTitle"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepMappings.stepTitle",defaultMessage:"Mappings (optional)"}))),Object(j.jsx)(g.EuiSpacer,{size:"s"}),Object(j.jsx)(g.EuiText,null,Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepMappings.mappingsDescription",defaultMessage:"Define how to store and index documents."})))),Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(g.EuiFlexGroup,{gutterSize:"s"},Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(Ds,{onJson:e=>{l(e)},esNodesPlugins:s})),Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(g.EuiButtonEmpty,{size:"s",flush:"right",href:te.getMappingDocumentationLink(),target:"_blank",iconType:"help"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepMappings.docsButtonLabel",defaultMessage:"Mapping docs"})))))),Object(j.jsx)(g.EuiSpacer,{size:"s"}),Object(j.jsx)(Ls,{value:n,onChange:r,indexSettings:a,docLinks:o,esNodesPlugins:s}),Object(j.jsx)(g.EuiSpacer,{size:"m"}))})),Ns=({esDocsBase:e})=>{const{defaultValue:t,updateContent:a,getSingleContentData:i}=ie.g.useContent("mappings"),{data:n}=le({path:`${s.a}/nodes/plugins`,method:"get"});return Object(j.jsx)(Ps,{defaultValue:t,onChange:a,indexSettings:i("settings"),esDocsBase:e,esNodesPlugins:null!=n?n:[]})},Bs=m.a.memo((({defaultValue:e={},onChange:t,esDocsBase:a})=>{const{jsonContent:s,setJsonContent:n,error:l}=it({defaultValue:e,onChange:t});return Object(j.jsx)("div",{"data-test-subj":"stepSettings"},Object(j.jsx)(g.EuiFlexGroup,{justifyContent:"spaceBetween"},Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(g.EuiTitle,null,Object(j.jsx)("h2",{"data-test-subj":"stepTitle"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepSettings.stepTitle",defaultMessage:"Index settings (optional)"}))),Object(j.jsx)(g.EuiSpacer,{size:"s"}),Object(j.jsx)(g.EuiText,null,Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepSettings.settingsDescription",defaultMessage:"Define the behavior of your indices."})))),Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(g.EuiButtonEmpty,{size:"s",flush:"right",href:te.getSettingsDocumentationLink(),target:"_blank",iconType:"help"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepSettings.docsButtonLabel",defaultMessage:"Index settings docs"})))),Object(j.jsx)(g.EuiSpacer,{size:"l"}),Object(j.jsx)(g.EuiFormRow,{label:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepSettings.fieldIndexSettingsLabel",defaultMessage:"Index settings"}),helpText:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepSettings.settingsEditorHelpText",defaultMessage:"Use JSON format: {code}",values:{code:Object(j.jsx)(g.EuiCode,null,JSON.stringify({number_of_replicas:1}))}}),isInvalid:Boolean(l),error:l,fullWidth:!0},Object(j.jsx)(R.CodeEditor,{languageId:"json",value:s,"data-test-subj":"settingsEditor",height:500,options:{lineNumbers:"off",tabSize:2,automaticLayout:!0},"aria-label":i.i18n.translate("xpack.idxMgmt.formWizard.stepSettings.fieldIndexSettingsAriaLabel",{defaultMessage:"Index settings editor"}),onChange:n})))})),Rs=m.a.memo((({esDocsBase:e})=>{const{defaultValue:t,updateContent:a}=ie.g.useContent("settings");return Object(j.jsx)(Bs,{defaultValue:t,onChange:a,esDocsBase:e})})),As={settings:i.i18n.translate("xpack.idxMgmt.templateContentIndicator.indexSettingsTooltipLabel",{defaultMessage:"Index settings"}),mappings:i.i18n.translate("xpack.idxMgmt.templateContentIndicator.mappingsTooltipLabel",{defaultMessage:"Mappings"}),aliases:i.i18n.translate("xpack.idxMgmt.templateContentIndicator.aliasesTooltipLabel",{defaultMessage:"Aliases"})},zs=({mappings:e,settings:t,aliases:a,contentWhenEmpty:i=null})=>{const s=e=>e?"primary":"hollow";return e||t||a?Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiToolTip,{content:As.mappings},Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiBadge,{color:s(e)},"M")," ")),Object(j.jsx)(g.EuiToolTip,{content:As.settings},Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiBadge,{color:s(t)},"S")," ")),Object(j.jsx)(g.EuiToolTip,{content:As.aliases},Object(j.jsx)(g.EuiBadge,{color:s(a)},"A"))):i},Vs=({path:e,disabled:t,options:a,euiFieldProps:i})=>{const[s,n]=Object(p.useState)(!1);return Object(j.jsx)(ie.s,{key:e,path:e},(e=>{var l,o;return Object(j.jsx)(g.EuiPopover,Ue()({button:Object(j.jsx)(g.EuiButtonEmpty,{size:"xs",color:"text",iconSide:"right",iconType:"arrowDown",onClick:()=>n((e=>!e)),"data-test-subj":"show-filters-button",disabled:t},null!==(l=null===(o=a.find((t=>t.value===e.value)))||void 0===o?void 0:o.text)&&void 0!==l?l:`${e.value}`),ownFocus:!0,panelPaddingSize:"none",isOpen:s,closePopover:()=>n(!1)},i),a.map((t=>Object(j.jsx)(g.EuiFilterSelectItem,{key:t.value,checked:e.value===t.value?"on":void 0,onClick:()=>{return a=t.value,e.setValue(a),void n(!1);var a},"data-test-subj":`filter-option-${t.value}`},t.text))))}))},Us=[{value:"d",text:i.i18n.translate("xpack.idxMgmt.dataStream.retention.timeUnits.daysLabel",{defaultMessage:"days"})},{value:"h",text:i.i18n.translate("xpack.idxMgmt.dataStream.retention.timeUnits.hoursLabel",{defaultMessage:"hours"})},{value:"m",text:i.i18n.translate("xpack.idxMgmt.dataStream.retention.timeUnits.minutesLabel",{defaultMessage:"minutes"})},{value:"s",text:i.i18n.translate("xpack.idxMgmt.dataStream.retention.timeUnits.secondsLabel",{defaultMessage:"seconds"})}],qs=[{value:"ms",text:i.i18n.translate("xpack.idxMgmt.dataStream.retention.timeUnits.msLabel",{defaultMessage:"milliseconds"})},{value:"micros",text:i.i18n.translate("xpack.idxMgmt.dataStream.retention.timeUnits.microsLabel",{defaultMessage:"microseconds"})},{value:"nanos",text:i.i18n.translate("xpack.idxMgmt.dataStream.retention.timeUnits.nanosLabel",{defaultMessage:"nanoseconds"})}],Ws=Object(p.createContext)(void 0),Gs=({children:e,value:t})=>{const{overlays:a,httpClient:i,apiBasePath:s,trackMetric:n,docLinks:l,toasts:o,getUrlForApp:r,executionContext:c}=t,d=(e=>t=>Object(N.useRequest)(e,t))(i),u=(e=>t=>Object(N.sendRequest)(e,t))(i),p=((e,t,a,i)=>({useLoadComponentTemplates:function(){return e({path:`${a}/component_templates`,method:"get"})},deleteComponentTemplates:function(e){const s=t({path:`${a}/component_templates/${e.map((e=>encodeURIComponent(e))).join(",")}`,method:"delete"});return i(ae.METRIC_TYPE.COUNT,e.length>1?"component_template_delete_many":"component_template_delete"),s},useLoadComponentTemplate:function(t){return e({path:`${a}/component_templates/${encodeURIComponent(t)}`,method:"get"})},createComponentTemplate:async function(e){const s=await t({path:`${a}/component_templates`,method:"post",body:JSON.stringify(e)});return i(ae.METRIC_TYPE.COUNT,"component_template_create"),s},updateComponentTemplate:async function(e){const{name:s}=e,n=await t({path:`${a}/component_templates/${encodeURIComponent(s)}`,method:"put",body:JSON.stringify(e)});return i(ae.METRIC_TYPE.COUNT,"component_template_update"),n},useLoadComponentTemplatesDatastream:function(t){return e({path:`${a}/component_templates/${encodeURIComponent(t)}/datastreams`,method:"get"})},getComponentTemplateDatastreams:async function(e){return t({path:`${a}/component_templates/${encodeURIComponent(e)}/datastreams`,method:"get"})},postDataStreamRollover:async function(e){return t({path:`${a}/data_streams/${encodeURIComponent(e)}/rollover`,method:"post"})},postDataStreamMappingsFromTemplate:async function(e){return t({path:`${a}/data_streams/${encodeURIComponent(e)}/mappings_from_template`,method:"post"})}}))(d,u,s,n),m=(({links:e})=>({esDocsBase:e.elasticsearch.docsBase,componentTemplates:e.apis.putComponentTemplate,componentTemplatesMetadata:e.apis.putComponentTemplateMetadata}))(l);return Object(j.jsx)(Ws.Provider,{value:{overlays:a,api:p,documentation:m,trackMetric:n,toasts:o,httpClient:i,apiBasePath:s,getUrlForApp:r,executionContext:c}},e)},$s=()=>{const e=Object(p.useContext)(Ws);if(!e)throw new Error('"useComponentTemplatesContext" can only be called inside of ComponentTemplatesProvider!');return e},Hs=({children:e})=>{const{httpClient:t,apiBasePath:a}=$s();return Object(j.jsx)(N.AuthorizationProvider,{privilegesEndpoint:`${a}/component_templates/privileges`,httpClient:t},e)},Js=({children:e})=>{const{apiError:t}=Object(N.useAuthorizationContext)();return t?Object(j.jsx)(N.PageError,{title:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplates.checkingPrivilegesErrorMessage",defaultMessage:"Error fetching user privileges from the server."}),error:t}):Object(j.jsx)(N.WithPrivileges,{privileges:Qe.map((e=>`cluster.${e}`))},(({isLoading:t,hasPrivileges:a,privilegesMissing:i})=>t?Object(j.jsx)(N.PageLoading,null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplates.checkingPrivilegesDescription",defaultMessage:"Checking privileges…"})):a?Object(j.jsx)(m.a.Fragment,null,e):Object(j.jsx)(N.NotAuthorizedSection,{title:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplates.deniedPrivilegeTitle",defaultMessage:"Cluster privileges required"}),message:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplates.deniedPrivilegeDescription",defaultMessage:"To use Component Templates, you must have {privilegesCount, plural, one {this cluster privilege} other {these cluster privileges}}: {missingPrivileges}.",values:{missingPrivileges:i.cluster.join(", "),privilegesCount:i.cluster.length}})})))},Ys=e=>{var t,a;return Boolean((null===(t=e._meta)||void 0===t?void 0:t.managed)&&"ingest-manager"===(null===(a=e._meta)||void 0===a?void 0:a.managed_by))},Xs=(e,t)=>{var a;if(null==e||!e.enabled)return i.i18n.translate("xpack.idxMgmt.dataStreamList.dataRetentionDisabled",{defaultMessage:"Disabled"});if(null==e||!e.data_retention){const e=i.i18n.translate("xpack.idxMgmt.dataStreamList.dataRetentionInfinite",{defaultMessage:"Keep data indefinitely"});return t?Object(j.jsx)(g.EuiToolTip,{"data-test-subj":"infiniteRetention",position:"top",content:e},Object(j.jsx)(g.EuiIcon,{type:"infinity"})):e}const{size:s,unit:n}=Ce(null==e?void 0:e.data_retention),l=[...Us,...qs].find((e=>e.value===n));return`${s} ${null!==(a=null==l?void 0:l.text)&&void 0!==a?a:n}`},Ks=e=>{var t,a;return"index lifecycle management"===(null==e||null===(t=e.nextGenerationManagedBy)||void 0===t?void 0:t.toLowerCase())&&(null==e||null===(a=e.indices)||void 0===a?void 0:a.every((e=>"index lifecycle management"===e.managedBy.toLowerCase())))},Qs=e=>{var t,a;return"data stream lifecycle"===(null==e||null===(t=e.nextGenerationManagedBy)||void 0===t?void 0:t.toLowerCase())&&(null==e||null===(a=e.indices)||void 0===a?void 0:a.every((e=>"data stream lifecycle"===e.managedBy.toLowerCase())))},Zs=({componentTemplateDetails:e,showCallToAction:t})=>{const{getUrlForApp:a}=$s(),{version:i,_meta:s,_kbnMeta:n,template:l}=e,{usedBy:o}=n,r=o.length>0;return Object(j.jsx)(m.a.Fragment,null,!r&&Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiCallOut,{title:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.summaryTab.notInUseTitle",defaultMessage:"This component template is not in use by any index templates."}),iconType:"pin","data-test-subj":"notInUseCallout",size:"s"},t&&Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.summaryTab.notInUseDescription",defaultMessage:"{createLink} an index template or {editLink} an existing one.",values:{createLink:Object(j.jsx)(g.EuiLink,{href:a("management",{path:"/data/index_management/create_template"})},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.summaryTab.createTemplateLink",defaultMessage:"Create"})),editLink:Object(j.jsx)(g.EuiLink,{href:a("management",{path:"/data/index_management/templates"})},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.summaryTab.updateTemplateLink",defaultMessage:"update"}))}}))),Object(j.jsx)(g.EuiSpacer,null)),Object(j.jsx)(g.EuiDescriptionList,{textStyle:"reverse","data-test-subj":"summaryTabContent"},r&&Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiDescriptionListTitle,{"data-test-subj":"usedByTitle"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.summaryTab.usedByDescriptionListTitle",defaultMessage:"Used by"})),Object(j.jsx)(g.EuiDescriptionListDescription,null,Object(j.jsx)("ul",null,o.map((e=>Object(j.jsx)("li",{key:e},Object(j.jsx)(g.EuiTitle,{size:"xs"},Object(j.jsx)("span",null,e)))))))),l.lifecycle&&Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiDescriptionListTitle,{"data-test-subj":"dataRetentionTitle"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.summaryTab.dataRetentionDescriptionListTitle",defaultMessage:"Data retention"})),Object(j.jsx)(g.EuiDescriptionListDescription,null,Xs(l.lifecycle,!0))),void 0!==i&&Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiDescriptionListTitle,{"data-test-subj":"versionTitle"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.summaryTab.versionDescriptionListTitle",defaultMessage:"Version"})),Object(j.jsx)(g.EuiDescriptionListDescription,null,i)),s&&Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiDescriptionListTitle,{"data-test-subj":"metaTitle"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.summaryTab.metaDescriptionListTitle",defaultMessage:"Metadata"})),Object(j.jsx)(g.EuiDescriptionListDescription,null,Object(j.jsx)(g.EuiCodeBlock,{language:"json"},JSON.stringify(s,null,2))))))},en=[{id:"summary",name:i.i18n.translate("xpack.idxMgmt.componentTemplateDetails.summaryTabTitle",{defaultMessage:"Summary"})},{id:"settings",name:i.i18n.translate("xpack.idxMgmt.componentTemplateDetails.settingsTabTitle",{defaultMessage:"Settings"})},{id:"mappings",name:i.i18n.translate("xpack.idxMgmt.componentTemplateDetails.mappingsTabTitle",{defaultMessage:"Mappings"})},{id:"aliases",name:i.i18n.translate("xpack.idxMgmt.componentTemplateDetails.aliasesTabTitle",{defaultMessage:"Aliases"})}],tn=({setActiveTab:e,activeTab:t})=>Object(j.jsx)(g.EuiTabs,null,en.map((a=>Object(j.jsx)(g.EuiTab,{onClick:()=>{e(a.id)},isSelected:a.id===t,key:a.id,"data-test-subj":`${a.id}Tab`},a.name)))),an=({actions:e,componentTemplateDetails:t})=>{const[a,s]=Object(p.useState)(!1),n=e.map((({name:e,icon:a,getIsDisabled:i,closePopoverOnClick:n,handleActionClick:l})=>{const o=!!i&&i(t);return{name:e,icon:a,disabled:o,toolTipContent:o?Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.manageButtonDisabledTooltipLabel",defaultMessage:"Template is in use and cannot be deleted"}):null,onClick:()=>{l(),n&&s(!1)},"data-test-subj":"action"}}));return Object(j.jsx)(g.EuiPopover,{id:"manageComponentTemplatePanel",button:Object(j.jsx)(g.EuiButton,{fill:!0,"data-test-subj":"manageComponentTemplateButton",iconType:"arrowDown",iconSide:"right",onClick:()=>s((e=>!e))},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.manageButtonLabel",defaultMessage:"Manage"})),isOpen:a,closePopover:()=>s(!1),panelPaddingSize:"none",anchorPosition:"rightUp",repositionOnScroll:!0},Object(j.jsx)(g.EuiContextMenu,{initialPanelId:0,"data-test-subj":"manageComponentTemplateContextMenu",panels:[{id:0,title:i.i18n.translate("xpack.idxMgmt.componentTemplateDetails.manageContextMenuPanelTitle",{defaultMessage:"Options"}),items:n}]}))},sn={"data-test-subj":"componentTemplateDetails","aria-labelledby":"componentTemplateDetailsFlyoutTitle"},nn=({componentTemplateName:e,onClose:t,actions:a,showSummaryCallToAction:i})=>{const{api:s}=$s(),n=Object(N.attemptToURIDecode)(e),{data:l,isLoading:o,error:r}=s.useLoadComponentTemplate(n),[c,d]=Object(p.useState)("summary");let u;if(o)u=Object(j.jsx)(N.SectionLoading,null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.loadingIndexTemplateDescription",defaultMessage:"Loading component template…"}));else if(r)u=Object(j.jsx)(g.EuiCallOut,{title:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.loadingErrorMessage",defaultMessage:"Error loading component template"}),color:"danger",iconType:"warning","data-test-subj":"sectionError"},Object(j.jsx)("p",null,r.message));else if(l){const{template:{settings:e,mappings:t,aliases:a}}=l,s={summary:Object(j.jsx)(Zs,{componentTemplateDetails:l,showCallToAction:i}),settings:Object(j.jsx)(at,{settings:e}),mappings:Object(j.jsx)(tt,{mappings:t}),aliases:Object(j.jsx)(et,{aliases:a})}[c];u=Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(tn,{activeTab:c,setActiveTab:d}),Object(j.jsx)(g.EuiSpacer,{size:"l"}),s)}return Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiFlyoutHeader,null,Object(j.jsx)(g.EuiFlexGroup,{alignItems:"center",gutterSize:"s"},Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(g.EuiTitle,{size:"m"},Object(j.jsx)("h2",{id:"componentTemplateDetailsFlyoutTitle","data-test-subj":"title"},n))),null!=l&&l._kbnMeta.isManaged?Object(j.jsx)(g.EuiFlexItem,{grow:!1}," ",Object(j.jsx)(g.EuiBadge,{color:"hollow"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.managedBadgeLabel",defaultMessage:"Managed"}))):null)),Object(j.jsx)(g.EuiFlyoutBody,{"data-test-subj":"content"},u),a&&Object(j.jsx)(g.EuiFlyoutFooter,{"data-test-subj":"footer"},Object(j.jsx)(g.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(g.EuiButtonEmpty,{iconType:"cross",flush:"left",onClick:t,"data-test-subj":"closeDetailsButton"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.closeButtonLabel",defaultMessage:"Close"}))),l&&Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(an,{actions:a,componentTemplateDetails:l})))))},ln=({history:e})=>{const{documentation:t}=$s();return Object(j.jsx)(g.EuiEmptyPrompt,{iconType:"managementApp","data-test-subj":"emptyList",title:Object(j.jsx)("h2",{"data-test-subj":"title"},i.i18n.translate("xpack.idxMgmt.home.componentTemplates.emptyPromptTitle",{defaultMessage:"Start by creating a component template"})),body:Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplates.emptyPromptDescription",defaultMessage:"For example, you can create a component template for index settings that can be reused across index templates."}),Object(j.jsx)("br",null),Object(j.jsx)(g.EuiLink,{href:t.componentTemplates,target:"_blank",external:!0},i.i18n.translate("xpack.idxMgmt.home.componentTemplates.emptyPromptDocumentionLink",{defaultMessage:"Learn more."}))),actions:Object(j.jsx)(g.EuiButton,Ue()({},Object(R.reactRouterNavigate)(e,"/create_component_template"),{iconType:"plusInCircle",fill:!0}),i.i18n.translate("xpack.idxMgmt.home.componentTemplates.emptyPromptButtonLabel",{defaultMessage:"Create a component template"}))})},on=({componentTemplates:e,onReloadClick:t,onDeleteClick:a,onEditClick:s,onCloneClick:n,history:l})=>{const{trackMetric:o}=$s(),[r,c]=Object(p.useState)([]),d={itemId:"name",isSelectable:!0,"data-test-subj":"componentTemplatesTable",sorting:{sort:{field:"name",direction:"asc"}},selection:{onSelectionChange:c,selectable:({usedBy:e})=>0===e.length,selectableMessage:e=>e?i.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.selectionLabel",{defaultMessage:"Select this component template"}):i.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.disabledSelectionLabel",{defaultMessage:"Component template is in use and cannot be deleted"})},rowProps:()=>({"data-test-subj":"componentTemplateTableRow"}),search:{toolsLeft:r.length>0?Object(j.jsx)(g.EuiButton,{"data-test-subj":"deleteComponentTemplatexButton",onClick:()=>a(r.map((({name:e})=>e))),color:"danger"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesList.table.deleteComponentTemplatesButtonLabel",defaultMessage:"Delete {count, plural, one {component template} other {component templates} }",values:{count:r.length}})):void 0,toolsRight:[Object(j.jsx)(g.EuiButton,{key:"reloadButton",iconType:"refresh",color:"success","data-test-subj":"reloadButton",onClick:t},i.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.reloadButtonLabel",{defaultMessage:"Reload"})),Object(j.jsx)(g.EuiButton,Ue()({fill:!0,iconType:"plusInCircle","data-test-subj":"createPipelineButton",key:"createPipelineButton"},Object(R.reactRouterNavigate)(l,"/create_component_template")),i.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.createButtonLabel",{defaultMessage:"Create component template"}))],box:{incremental:!0},filters:[{type:"is",field:"isManaged",name:i.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.isManagedFilterLabel",{defaultMessage:"Managed"})},{type:"field_value_toggle_group",field:"usedBy.length",items:[{value:1,name:i.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.inUseFilterOptionLabel",{defaultMessage:"In use"}),operator:"gte"},{value:0,name:i.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.notInUseFilterOptionLabel",{defaultMessage:"Not in use"}),operator:"eq"}]}]},pagination:{initialPageSize:10,pageSizeOptions:[10,20,50]},columns:[{field:"name",name:i.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.nameColumnTitle",{defaultMessage:"Name"}),sortable:!0,width:"20%",render:(e,t)=>Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiLink,Ue()({},Object(R.reactRouterNavigate)(l,{pathname:encodeURI(`/component_templates/${encodeURIComponent(e)}`)},(()=>o(ae.METRIC_TYPE.CLICK,"component_template_details"))),{"data-test-subj":"templateDetailsLink"}),e),t.isManaged&&Object(j.jsx)(m.a.Fragment,null," ",Object(j.jsx)(g.EuiBadge,{color:"hollow","data-test-subj":"isManagedBadge"},i.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.managedBadgeLabel",{defaultMessage:"Managed"}))))},{field:"usedBy",name:i.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.isInUseColumnTitle",{defaultMessage:"Usage count"}),sortable:({usedBy:e})=>e.length,render:e=>e.length?e.length:Object(j.jsx)(g.EuiTextColor,{color:"subdued"},Object(j.jsx)("i",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesList.table.notInUseCellDescription",defaultMessage:"Not in use"})))},{field:"hasMappings",name:i.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.mappingsColumnTitle",{defaultMessage:"Mappings"}),truncateText:!0,sortable:!0,render:e=>e?Object(j.jsx)(g.EuiIcon,{type:"check"}):null},{field:"hasSettings",name:i.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.settingsColumnTitle",{defaultMessage:"Settings"}),truncateText:!0,sortable:!0,render:e=>e?Object(j.jsx)(g.EuiIcon,{type:"check"}):null},{field:"hasAliases",name:i.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.aliasesColumnTitle",{defaultMessage:"Aliases"}),truncateText:!0,sortable:!0,render:e=>e?Object(j.jsx)(g.EuiIcon,{type:"check"}):null},{name:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesList.table.actionColumnTitle",defaultMessage:"Actions"}),actions:[{name:i.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.actionEditText",{defaultMessage:"Edit"}),description:i.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.actionEditDecription",{defaultMessage:"Edit this component template"}),onClick:({name:e})=>s(e),isPrimary:!0,icon:"pencil",type:"icon","data-test-subj":"editComponentTemplateButton"},{name:i.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.actionCloneText",{defaultMessage:"Clone"}),description:i.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.actionCloneDecription",{defaultMessage:"Clone this component template"}),onClick:({name:e})=>n(e),icon:"copy",type:"icon","data-test-subj":"cloneComponentTemplateButton"},{name:i.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.deleteActionLabel",{defaultMessage:"Delete"}),description:i.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.deleteActionDescription",{defaultMessage:"Delete this component template"}),onClick:({name:e})=>a([e]),enabled:({usedBy:e})=>0===e.length,isPrimary:!0,type:"icon",icon:"trash",color:"danger","data-test-subj":"deleteComponentTemplateButton"}]}],items:null!=e?e:[]};return Object(j.jsx)(g.EuiInMemoryTable,d)},rn=({componentTemplatesToDelete:e,callback:t})=>{const{toasts:a,api:s}=$s(),n=e.length;return Object(j.jsx)(g.EuiConfirmModal,{buttonColor:"danger","data-test-subj":"deleteComponentTemplatesConfirmation",title:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplates.deleteModal.modalTitleText",defaultMessage:"Delete {numComponentTemplatesToDelete, plural, one {component template} other {# component templates}}",values:{numComponentTemplatesToDelete:n}}),onCancel:()=>{t()},onConfirm:()=>{s.deleteComponentTemplates(e).then((({data:{itemsDeleted:s,errors:n},error:l})=>{const o=s&&s.length;if(o){const n=1===s.length?i.i18n.translate("xpack.idxMgmt.home.componentTemplates.deleteModal.successDeleteSingleNotificationMessageText",{defaultMessage:"Deleted component template '{componentTemplateName}'",values:{componentTemplateName:e[0]}}):i.i18n.translate("xpack.idxMgmt.home.componentTemplates.deleteModal.successDeleteMultipleNotificationMessageText",{defaultMessage:"Deleted {numSuccesses, plural, one {# component template} other {# component templates}}",values:{numSuccesses:s.length}});t({hasDeletedComponentTemplates:o}),a.addSuccess(n)}if(l||null!=n&&n.length){const t=(null==n?void 0:n.length)>1||l&&e.length>1?i.i18n.translate("xpack.idxMgmt.home.componentTemplates.deleteModal.multipleErrorsNotificationMessageText",{defaultMessage:"Error deleting {count} component templates",values:{count:(null==n?void 0:n.length)||e.length}}):i.i18n.translate("xpack.idxMgmt.home.componentTemplates.deleteModal.errorNotificationMessageText",{defaultMessage:"Error deleting component template '{name}'",values:{name:n&&n[0].name||e[0]}});a.addDanger(t)}}))},cancelButtonText:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplates.deleteModal.cancelButtonLabel",defaultMessage:"Cancel"}),confirmButtonText:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplates.confirmButtonLabel",defaultMessage:"Delete {numComponentTemplatesToDelete, plural, one {component template} other {component templates} }",values:{numComponentTemplatesToDelete:n}})},Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplates.deleteModal.deleteDescription",defaultMessage:"You are about to delete {numComponentTemplatesToDelete, plural, one {this component template} other {these component templates} }:",values:{numComponentTemplatesToDelete:n}})),Object(j.jsx)("ul",null,e.map((e=>Object(j.jsx)("li",{key:e},e))))))};function cn(e){const{services:t}=eu(),a=Object(p.useMemo)((()=>new URLSearchParams(e.location.search).get("redirect_path")),[e.location.search]);return Object(p.useCallback)((i=>{a&&t.application?t.application.navigateToUrl(a):e.push(i)}),[a,t.application,e])}const{useGlobalFlyout:dn}=N.GlobalFlyout,un=({componentTemplateName:e,history:t})=>{const{addContent:a,removeContent:s}=dn(),{api:n,trackMetric:l,documentation:o}=$s(),d=cn(t);Object(p.useEffect)((()=>{c.setBreadcrumbs(r.componentTemplates)}),[]);const{data:u,isLoading:x,error:b,resendRequest:h}=n.useLoadComponentTemplates(),[M,O]=Object(p.useState)([]),y=Object(p.useCallback)((()=>d({pathname:"component_templates"})),[d]),v=Object(p.useCallback)((e=>t.push({pathname:encodeURI(`edit_component_template/${encodeURIComponent(e)}`)})),[t]),E=Object(p.useCallback)((e=>t.push({pathname:encodeURI(`create_component_template/${encodeURIComponent(e)}`)})),[t]);if(Object(p.useEffect)((()=>{l(ae.METRIC_TYPE.LOADED,"component_template_list_load")}),[l]),Object(p.useEffect)((()=>{if(e){const t=[{name:i.i18n.translate("xpack.idxMgmt.componentTemplateDetails.editButtonLabel",{defaultMessage:"Edit"}),icon:"pencil",handleActionClick:()=>v(Object(ie.v)(e))},{name:i.i18n.translate("xpack.idxMgmt.componentTemplateDetails.cloneActionLabel",{defaultMessage:"Clone"}),icon:"copy",handleActionClick:()=>E(Object(ie.v)(e))},{name:i.i18n.translate("xpack.idxMgmt.componentTemplateDetails.deleteButtonLabel",{defaultMessage:"Delete"}),icon:"trash",getIsDisabled:e=>e._kbnMeta.usedBy.length>0,closePopoverOnClick:!0,handleActionClick:()=>{O([Object(ie.v)(e)])}}];a({id:"componentTemplateDetails",Component:nn,props:{onClose:y,componentTemplateName:e,showSummaryCallToAction:!0,actions:t},flyoutProps:{...sn,onClose:y}})}}),[e,y,v,E,a,t]),Object(p.useEffect)((()=>{e||s("componentTemplateDetails")}),[e,s]),x)return Object(j.jsx)(ie.n,null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplates.list.loadingMessage",defaultMessage:"Loading component templates…"}));let k;return null!=u&&u.length?k=Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiText,{color:"subdued"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplates.list.componentTemplatesDescription",defaultMessage:"Use component templates to reuse settings, mappings, and aliases configurations in multiple index templates. {learnMoreLink}",values:{learnMoreLink:Object(j.jsx)(g.EuiLink,{href:o.componentTemplates,target:"_blank",external:!0},i.i18n.translate("xpack.idxMgmt.componentTemplates.list.learnMoreLinkText",{defaultMessage:"Learn more."}))}})),Object(j.jsx)(g.EuiSpacer,null),Object(j.jsx)(on,{componentTemplates:u,onReloadClick:h,onDeleteClick:O,onEditClick:v,onCloneClick:E,history:t})):u&&0===u.length?k=Object(j.jsx)(ln,{history:t}):b&&(k=Object(j.jsx)(ie.m,{title:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplates.list.loadingErrorMessage",defaultMessage:"Error loading component templates"}),error:b,"data-test-subj":"componentTemplatesLoadError"})),Object(j.jsx)("div",{className:ie.a,"data-test-subj":"componentTemplateList"},k,(null==M?void 0:M.length)>0?Object(j.jsx)(rn,{callback:e=>{null!=e&&e.hasDeletedComponentTemplates&&(h(),y()),O([])},componentTemplatesToDelete:M}):null)},pn=({match:{params:{componentTemplateName:e}},history:t})=>{const{executionContext:a}=$s();return Object(R.useExecutionContext)(a,{type:"application",page:"indexManagementComponentTemplatesTab"}),Object(j.jsx)(Hs,null,Object(j.jsx)(Js,null,Object(j.jsx)(un,{componentTemplateName:e,history:t})))},{emptyField:mn,containsCharsField:gn,isJsonField:xn}=P.fieldValidators,{toInt:bn}=P.fieldFormatters,fn={name:{defaultValue:void 0,label:i.i18n.translate("xpack.idxMgmt.componentTemplateForm.stepLogistics.nameFieldLabel",{defaultMessage:"Name"}),type:D.FIELD_TYPES.TEXT,validations:[{validator:mn(i.i18n.translate("xpack.idxMgmt.componentTemplateForm.validation.nameRequiredError",{defaultMessage:"A component template name is required."}))},{validator:gn({chars:" ",message:i.i18n.translate("xpack.idxMgmt.componentTemplateForm.stepLogistics.validation.nameSpacesError",{defaultMessage:"Spaces are not allowed in a component template name."})})}]},"lifecycle.enabled":{type:D.FIELD_TYPES.TOGGLE,label:i.i18n.translate("xpack.idxMgmt.componentTemplateForm.stepLogistics.enableDataRetentionLabel",{defaultMessage:"Enable data retention"}),defaultValue:!1},"lifecycle.infiniteDataRetention":{type:D.FIELD_TYPES.TOGGLE,label:i.i18n.translate("xpack.idxMgmt.componentTemplateForm.stepLogistics.infiniteDataRetentionLabel",{defaultMessage:"Keep data indefinitely"}),defaultValue:!1},"lifecycle.value":{type:D.FIELD_TYPES.TEXT,label:i.i18n.translate("xpack.idxMgmt.componentTemplateForm.stepLogistics.fieldDataRetentionValueLabel",{defaultMessage:"Data Retention"}),formatters:[bn],validations:[{validator:({value:e,formData:t})=>{if(!t["lifecycle.infiniteDataRetention"])return e?e<=0?{message:i.i18n.translate("xpack.idxMgmt.dataStreamsDetailsPanel.stepLogistics.dataRetentionFieldNonNegativeError",{defaultMessage:"A positive value is required."})}:e%1!=0?{message:i.i18n.translate("xpack.idxMgmt.dataStreamsDetailsPanel.stepLogistics.dataRetentionFieldDecimalError",{defaultMessage:"The value should be an integer number."})}:void 0:{message:i.i18n.translate("xpack.idxMgmt.dataStreamsDetailsPanel.stepLogistics.dataRetentionFieldRequiredError",{defaultMessage:"A data retention value is required."})}}}]},"lifecycle.unit":{type:D.FIELD_TYPES.TEXT,label:i.i18n.translate("xpack.idxMgmt.componentTemplateForm.stepLogistics.fieldDataRetentionUnitLabel",{defaultMessage:"Time unit"}),defaultValue:"d"},version:{type:D.FIELD_TYPES.NUMBER,label:i.i18n.translate("xpack.idxMgmt.componentTemplateForm.stepLogistics.versionFieldLabel",{defaultMessage:"Version (optional)"}),formatters:[bn]},_meta:{label:i.i18n.translate("xpack.idxMgmt.componentTemplateForm.stepLogistics.metaFieldLabel",{defaultMessage:"_meta field data (optional)"}),helpText:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepLogistics.metaHelpText",defaultMessage:"Use JSON format: {code}",values:{code:Object(j.jsx)(g.EuiCode,null,JSON.stringify({arbitrary_data:"anything_goes"}))}}),serializer:e=>{const t=(e=>{let t;try{t=JSON.parse(e)}catch{t={}}return t})(e);if(Object.keys(t).length)return t},deserializer:e=>Object.keys(e).length?JSON.stringify(e,null,2):"{\n\n}",validations:[{validator:xn(i.i18n.translate("xpack.idxMgmt.componentTemplateForm.stepLogistics.validation.metaJsonError",{defaultMessage:"The input is not valid."}),{allowEmptyString:!0})}]}},jn=Object(D.getUseField)({component:I.Field}),hn=Object(I.getFormRow)({titleTag:"h3"}),Mn=m.a.memo((({defaultValue:e,isEditing:t,onChange:a})=>{const{form:s}=Object(D.useForm)({schema:fn,defaultValue:e,options:{stripEmptyFields:!1}}),{isValid:n,submit:l,getFormData:o,subscribe:r}=s,[{lifecycle:c}]=Object(D.useFormData)({form:s,watch:["lifecycle.enabled","lifecycle.infiniteDataRetention"]}),{documentation:d}=$s(),[u,x]=Object(p.useState)(Boolean(e._meta&&Object.keys(e._meta).length)),b=Object(p.useCallback)((async()=>(await l()).isValid),[l]);return Object(p.useEffect)((()=>{a({isValid:n,validate:b,getData:o})}),[n,o,b,a]),Object(p.useEffect)((()=>r((({data:e,isValid:t})=>{a({isValid:t,validate:b,getData:e.format})})).unsubscribe),[r,b,a]),Object(j.jsx)(D.Form,{form:s,"data-test-subj":"stepLogistics"},Object(j.jsx)(g.EuiFlexGroup,{justifyContent:"spaceBetween"},Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(g.EuiTitle,null,Object(j.jsx)("h2",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepLogistics.stepTitle",defaultMessage:"Logistics"})))),Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(g.EuiButtonEmpty,{size:"s",flush:"right",href:d.componentTemplates,target:"_blank",iconType:"help","data-test-subj":"documentationLink"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepLogistics.docsButtonLabel",defaultMessage:"Component Templates docs"})))),Object(j.jsx)(g.EuiSpacer,{size:"l"}),Object(j.jsx)(hn,{title:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepLogistics.nameTitle",defaultMessage:"Name"}),description:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepLogistics.nameDescription",defaultMessage:"Unique name for this component template."})},Object(j.jsx)(jn,{path:"name",componentProps:{"data-test-subj":"nameField",euiFieldProps:{disabled:t}}})),Object(j.jsx)(hn,{title:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepLogistics.dataRetentionTitle",defaultMessage:"Data retention"}),description:Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepLogistics.dataRetentionDescription",defaultMessage:"Data will be kept at least this long before being automatically deleted."}),Object(j.jsx)(g.EuiSpacer,{size:"m"}),Object(j.jsx)(jn,{path:"lifecycle.enabled",componentProps:{"data-test-subj":"dataRetentionToggle"}}))},(null==c?void 0:c.enabled)&&Object(j.jsx)(jn,{path:"lifecycle.value",component:I.NumericField,labelAppend:Object(j.jsx)(jn,{path:"lifecycle.infiniteDataRetention","data-test-subj":"infiniteDataRetentionToggle",componentProps:{euiFieldProps:{compressed:!0}}}),componentProps:{euiFieldProps:{disabled:null==c?void 0:c.infiniteDataRetention,"data-test-subj":"valueDataRetentionField",min:1,append:Object(j.jsx)(Vs,{path:"lifecycle.unit",options:Us,disabled:null==c?void 0:c.infiniteDataRetention,euiFieldProps:{"data-test-subj":"unitDataRetentionField"}})}}})),Object(j.jsx)(hn,{title:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepLogistics.versionTitle",defaultMessage:"Version"}),description:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepLogistics.versionDescription",defaultMessage:"Number used by external management systems to identify the component template."})},Object(j.jsx)(jn,{path:"version",componentProps:{"data-test-subj":"versionField"}})),Object(j.jsx)(hn,{title:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepLogistics.metaTitle",defaultMessage:"Metadata"}),description:Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepLogistics.metaDescription",defaultMessage:"Arbitrary information about the template, stored in the cluster state. {learnMoreLink}",values:{learnMoreLink:Object(j.jsx)(g.EuiLink,{href:d.componentTemplatesMetadata,target:"_blank",external:!0},i.i18n.translate("xpack.idxMgmt.componentTemplateForm.stepLogistics.metaDocumentionLink",{defaultMessage:"Learn more."}))}}),Object(j.jsx)(g.EuiSpacer,{size:"m"}),Object(j.jsx)(g.EuiSwitch,{label:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepLogistics.metadataDescription",defaultMessage:"Add metadata"}),checked:u,onChange:e=>x(e.target.checked),"data-test-subj":"metaToggle"}))},u&&Object(j.jsx)(jn,{path:"_meta",component:I.JsonEditorField,componentProps:{codeEditorProps:{"data-test-subj":"metaEditor",height:"200px","aria-label":i.i18n.translate("xpack.idxMgmt.componentTemplateForm.stepLogistics.metaAriaLabel",{defaultMessage:"_meta field data editor"})}}})))})),On=({isEditing:e=!1})=>{const{defaultValue:t,updateContent:a}=N.Forms.useContent("logistics");return Object(j.jsx)(Mn,{defaultValue:t,onChange:a,isEditing:e})},{stripEmptyFields:yn}=P.serializers,vn=e=>e&&Object.entries(e).length>0?Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepReview.summaryTab.yesDescriptionText",defaultMessage:"Yes"}):Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepReview.summaryTab.noDescriptionText",defaultMessage:"No"}),En=m.a.memo((({dataStreams:e,componentTemplate:t})=>{var a;const{name:s}=t,n=function(e){const{version:t,template:a,_meta:i}=e;return{version:t,template:a,_meta:i}}(yn(t,{types:["string"]})),{template:l,_meta:o,version:r}=n,c=Boolean(null==e?void 0:e.length)&&(null===(a=t._meta)||void 0===a?void 0:a.managed_by)===Ze;return Object(j.jsx)("div",{"data-test-subj":"stepReview"},Object(j.jsx)(g.EuiTitle,null,Object(j.jsx)("h2",{"data-test-subj":"title"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepReview.stepTitle",defaultMessage:"Review details for '{templateName}'",values:{templateName:s}}))),Object(j.jsx)(g.EuiSpacer,{size:"l"}),Object(j.jsx)(g.EuiTabbedContent,{"data-test-subj":"content",tabs:[{id:"summary",name:i.i18n.translate("xpack.idxMgmt.componentTemplateForm.stepReview.summaryTabTitle",{defaultMessage:"Summary"}),content:Object(j.jsx)((()=>Object(j.jsx)("div",{"data-test-subj":"summaryTab"},Object(j.jsx)(g.EuiSpacer,{size:"m"}),Object(j.jsx)(g.EuiFlexGroup,null,Object(j.jsx)(g.EuiFlexItem,null,Object(j.jsx)(g.EuiDescriptionList,{textStyle:"reverse"},void 0!==r&&Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiDescriptionListTitle,null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.versionLabel",defaultMessage:"Version"})),Object(j.jsx)(g.EuiDescriptionListDescription,null,r)),Object(j.jsx)(g.EuiDescriptionListTitle,null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepReview.summaryTab.settingsLabel",defaultMessage:"Index settings"})),Object(j.jsx)(g.EuiDescriptionListDescription,null,vn(null==l?void 0:l.settings)),Object(j.jsx)(g.EuiDescriptionListTitle,null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepReview.summaryTab.mappingLabel",defaultMessage:"Mappings"})),Object(j.jsx)(g.EuiDescriptionListDescription,null,vn(null==l?void 0:l.mappings)),Object(j.jsx)(g.EuiDescriptionListTitle,null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepReview.summaryTab.aliasesLabel",defaultMessage:"Aliases"})),Object(j.jsx)(g.EuiDescriptionListDescription,null,vn(null==l?void 0:l.aliases)),Object(j.jsx)(g.EuiDescriptionListTitle,null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepReview.summaryTab.dataRetentionLabel",defaultMessage:"Data retention"})),Object(j.jsx)(g.EuiDescriptionListDescription,null,Xs(null==l?void 0:l.lifecycle,!0)))),c&&e&&Object(j.jsx)(g.EuiFlexItem,null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.datastreamsLabel",defaultMessage:"Mappings will immediately be applied to the following datastreams:"}),Object(j.jsx)(g.EuiSpacer,{size:"s"}),Object(j.jsx)(g.EuiText,null,Object(j.jsx)("ul",null,e.map((e=>Object(j.jsx)("li",{key:e},Object(j.jsx)(g.EuiCode,null,e))))))),Object(j.jsx)(g.EuiFlexItem,null,o&&Object(j.jsx)(g.EuiDescriptionList,{textStyle:"reverse"},Object(j.jsx)(g.EuiDescriptionListTitle,null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.metaLabel",defaultMessage:"Metadata"})),Object(j.jsx)(g.EuiDescriptionListDescription,null,Object(j.jsx)(g.EuiCodeBlock,{language:"json"},JSON.stringify(o,null,2)))))))),null)},{id:"request",name:i.i18n.translate("xpack.idxMgmt.componentTemplateForm.stepReview.requestTabTitle",{defaultMessage:"Request"}),content:Object(j.jsx)((()=>{const e=`PUT _component_template/${s||"<componentTemplateName>"}\n${JSON.stringify(n,null,2)}`,t=e.length<6e4?"json":void 0;return Object(j.jsx)("div",{"data-test-subj":"requestTab"},Object(j.jsx)(g.EuiSpacer,{size:"m"}),Object(j.jsx)(g.EuiText,null,Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepReview.requestTab.descriptionText",defaultMessage:"This request will create the following component template."}))),Object(j.jsx)(g.EuiSpacer,{size:"m"}),Object(j.jsx)(g.EuiCodeBlock,{language:t,isCopyable:!0},e),c&&Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiSpacer,{size:"m"}),Object(j.jsx)(g.EuiText,null,Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepReview.requestTab.datastreamNote",defaultMessage:"Datastreams using that template need to be updated with aditionnal requests."})))))}),null)}]}))})),kn=m.a.memo((({getComponentTemplateData:e,dataStreams:t})=>{const{getData:a}=N.Forms.useMultiContentContext(),i=e(a());return Object(j.jsx)(En,{dataStreams:t,componentTemplate:i})})),{stripEmptyFields:Tn}=P.serializers,{FormWizard:Fn,FormWizardStep:Sn}=N.Forms,_n={logistics:{id:"logistics",label:i.i18n.translate("xpack.idxMgmt.componentTemplateForm.steps.logisticsStepName",{defaultMessage:"Logistics"})},settings:{id:"settings",label:i.i18n.translate("xpack.idxMgmt.componentTemplateForm.steps.settingsStepName",{defaultMessage:"Index settings"})},mappings:{id:"mappings",label:i.i18n.translate("xpack.idxMgmt.componentTemplateForm.steps.mappingsStepName",{defaultMessage:"Mappings"})},aliases:{id:"aliases",label:i.i18n.translate("xpack.idxMgmt.componentTemplateForm.steps.aliasesStepName",{defaultMessage:"Aliases"})},review:{id:"review",label:i.i18n.translate("xpack.idxMgmt.componentTemplateForm.steps.summaryStepName",{defaultMessage:"Review"})}},Cn=({defaultValue:e={name:"",template:{},_meta:{},_kbnMeta:{usedBy:[],isManaged:!1}},dataStreams:t,isEditing:a,isSaving:i,saveError:s,clearSaveError:n,defaultActiveWizardSection:l,onSave:o,onStepChange:r})=>{const{template:{settings:c,mappings:d,aliases:u,lifecycle:x},...b}=e,{documentation:h}=$s(),M={logistics:{...b,...x?{lifecycle:we(x)}:{}},settings:c,mappings:d,aliases:u},O={save:a?Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.saveButtonLabel",defaultMessage:"Save component template"}):Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.createButtonLabel",defaultMessage:"Create component template"})},y=s?Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiCallOut,{title:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.saveTemplateError",defaultMessage:"Unable to create component template"}),color:"danger",iconType:"warning","data-test-subj":"saveComponentTemplateError"},Object(j.jsx)("div",null,s.message||s.statusText)),Object(j.jsx)(g.EuiSpacer,{size:"m"})):null,v=Object(p.useCallback)((e=>t=>(e=>{const t={...e};return void 0===t.template.settings&&delete t.template.settings,void 0===t.template.mappings&&delete t.template.mappings,void 0===t.template.aliases&&delete t.template.aliases,t.lifecycle&&delete t.lifecycle,t})({...e,name:t.logistics.name,version:t.logistics.version,_meta:t.logistics._meta,template:{settings:t.settings,mappings:t.mappings,aliases:t.aliases,lifecycle:t.logistics.lifecycle?Le(t.logistics.lifecycle):void 0}})),[]),E=Object(p.useCallback)((async t=>{const a=v(e)(t);o(Tn(a,{types:["string"]})),n()}),[v,e,o,n]),k=Object(p.useMemo)((()=>Math.max(l?Object.keys(_n).indexOf(l):0,0)),[l]);return Object(j.jsx)(Fn,{defaultValue:M,onSave:E,isEditing:a,isSaving:i,apiError:y,texts:O,defaultActiveStep:k,onStepChange:r},Object(j.jsx)(Sn,{id:_n.logistics.id,label:_n.logistics.label,isRequired:!0},Object(j.jsx)(On,{isEditing:a})),Object(j.jsx)(Sn,{id:_n.settings.id,label:_n.settings.label},Object(j.jsx)(Rs,{esDocsBase:h.esDocsBase})),Object(j.jsx)(Sn,{id:_n.mappings.id,label:_n.mappings.label},Object(j.jsx)(Ns,{esDocsBase:h.esDocsBase})),Object(j.jsx)(Sn,{id:_n.aliases.id,label:_n.aliases.label},Object(j.jsx)(nt,{esDocsBase:h.esDocsBase})),Object(j.jsx)(Sn,{id:_n.review.id,label:_n.review.label},Object(j.jsx)(kn,{getComponentTemplateData:v(e),dataStreams:t})))},Ln=({history:e,sourceComponentTemplate:t})=>{const[a,i]=Object(p.useState)(!1),[s,n]=Object(p.useState)(null),{api:l}=$s(),o=Boolean(t);return Object(p.useEffect)((()=>{o?c.setBreadcrumbs(r.componentTemplateClone):c.setBreadcrumbs(r.componentTemplateCreate)}),[o]),Object(j.jsx)(g.EuiPageSection,{restrictWidth:!0,style:{width:"100%"}},Object(j.jsx)(g.EuiPageHeader,{pageTitle:Object(j.jsx)("span",{"data-test-subj":"pageTitle"},o?Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.cloneComponentTemplate.pageTitle",defaultMessage:"Clone component template"}):Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.createComponentTemplate.pageTitle",defaultMessage:"Create component template"})),bottomBorder:!0}),Object(j.jsx)(g.EuiSpacer,{size:"l"}),Object(j.jsx)(Cn,{defaultValue:t,onSave:async t=>{const{name:a}=t;i(!0),n(null);const{error:s}=await l.createComponentTemplate(t);i(!1),s?n(s):e.push({pathname:encodeURI(`/component_templates/${encodeURIComponent(a)}`)})},isSaving:a,saveError:s,clearSaveError:()=>{n(null)}}))},wn=({componentTemplatename:e,dataStreams:t,onClose:a,api:i})=>{const[s,n]=Object(p.useState)(),[l,o]=Object(p.useState)(!1),r=Object(p.useCallback)((()=>{!async function(){try{o(!0);for(const e of t)await i.postDataStreamRollover(e);await a()}catch(e){n(e)}finally{o(!1)}}()}),[i,a,t]);return Object(j.jsx)(g.EuiConfirmModal,{"data-test-subj":"mappingDatastreamRolloverModal",isLoading:l,title:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateEdit.mappingRolloverModalTitle",defaultMessage:"Apply mappings now and rollover?"}),onCancel:a,onConfirm:r,cancelButtonText:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateMappingsRollover.cancelButton",defaultMessage:"Apply on next rollover"}),confirmButtonText:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateMappingsRollover.confirmButtom",defaultMessage:"Apply now and rollover"})},s&&Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiCallOut,{title:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateMappingsRollover.saveError",defaultMessage:"Unable to apply rollover"}),color:"danger",iconType:"warning","data-test-subj":"applyMappingsRolloverError"},Object(j.jsx)("div",null,s.message)),Object(j.jsx)(g.EuiSpacer,{size:"m"})),Object(j.jsx)(g.EuiText,null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateMappingsRollover.modalDescription",defaultMessage:"New mappings for the {templateName} component template require a rollover for the following data streams: {datastreams} You can apply the new mappings to incoming data now and force a rollover, or wait until the next rollover. Rollover timing is defined by your index lifecycle policy. {moreInfoLink}",values:{templateName:Object(j.jsx)(g.EuiCode,null,e),moreInfoLink:Object(j.jsx)(g.EuiLink,{external:!0,href:te.docLinks.fleet.datastreamsILM},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateEdit.moreInfoLink",defaultMessage:"See the documentation for more info."})),datastreams:Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiSpacer,{size:"m"}),Object(j.jsx)("ul",null,t.map((e=>Object(j.jsx)("li",null,Object(j.jsx)(g.EuiCode,null,e))))),Object(j.jsx)(g.EuiSpacer,{size:"s"}))}})))},Dn=({match:{params:{name:e}},history:t})=>{const{api:a,overlays:i}=$s(),{activeStep:s,updateStep:n}=function(e){return{activeStep:Object(p.useMemo)((()=>{const t=new URLSearchParams(e.location.search);if(t.has("step"))return t.get("step")}),[e.location.search]),updateStep:Object(p.useCallback)((t=>{const a=new URLSearchParams(e.location.search);a.has("step")&&(a.set("step",t),e.push({search:a.toString()}))}),[e])}}(t),l=cn(t),[o,d]=Object(p.useState)(!1),[u,m]=Object(p.useState)(null),x=Object(N.attemptToURIDecode)(e),{error:b,data:h,isLoading:M}=a.useLoadComponentTemplate(x),{data:O}=a.useLoadComponentTemplatesDatastream(x),y=Object(p.useMemo)((()=>{var e;return null!==(e=null==O?void 0:O.data_streams)&&void 0!==e?e:[]}),[O]);return Object(p.useEffect)((()=>{c.setBreadcrumbs(r.componentTemplateEdit)}),[]),M?Object(j.jsx)(N.PageLoading,null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateEdit.loadingDescription",defaultMessage:"Loading component template…"})):b?Object(j.jsx)(N.PageError,{title:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateEdit.loadComponentTemplateError",defaultMessage:"Error loading component template"}),error:b,"data-test-subj":"loadComponentTemplateError"}):Object(j.jsx)(g.EuiPageSection,{restrictWidth:!0,style:{width:"100%"}},Object(j.jsx)(g.EuiPageHeader,{pageTitle:Object(j.jsx)("span",{"data-test-subj":"pageTitle"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateEdit.editPageTitle",defaultMessage:"Edit component template '{name}'",values:{name:x}})),bottomBorder:!0}),Object(j.jsx)(g.EuiSpacer,{size:"l"}),Object(j.jsx)(Cn,{defaultValue:h,dataStreams:y,defaultActiveWizardSection:s,onStepChange:n,onSave:async e=>{var t;d(!0),m(null);const{error:s}=await a.updateComponentTemplate(e);if(d(!1),s)m(s);else{if((null===(t=e._meta)||void 0===t?void 0:t.managed_by)===Ze&&y.length){const t=[];for(const e of y)try{const{error:t}=await a.postDataStreamMappingsFromTemplate(e);if(t)throw t}catch(a){t.push(e)}if(t.length){const s=i.openModal(Object(R.toMountPoint)(Object(j.jsx)(wn,{componentTemplatename:e.name,dataStreams:t,api:a,onClose:()=>{s.close()}})));await s.onClose}}l({pathname:encodeURI(`/component_templates/${encodeURIComponent(e.name)}`)})}},isSaving:o,saveError:u,clearSaveError:()=>{m(null)},isEditing:!0}))},In=e=>{const{sourceComponentTemplateName:t}=e.match.params,a=Object(N.attemptToURIDecode)(t),{toasts:s,api:n}=$s(),{error:l,data:o,isLoading:r}=n.useLoadComponentTemplate(a);if(Object(p.useEffect)((()=>{l&&!r&&s.addError({...l,name:""},{title:i.i18n.translate("xpack.idxMgmt.componentTemplateClone.loadComponentTemplateTitle",{defaultMessage:"Error loading component template '{sourceComponentTemplateName}'.",values:{sourceComponentTemplateName:t}})})}),[l,r]),r)return Object(j.jsx)(N.PageLoading,null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateEdit.loadingDescription",defaultMessage:"Loading component template…"}));{const t=o?{...o,name:`${o.name}-copy`}:void 0;return Object(j.jsx)(Ln,Ue()({},e,{sourceComponentTemplate:t}))}},Pn=({anchorPosition:e="upCenter"})=>{const[t,a]=Object(p.useState)(!1);return Object(j.jsx)(g.EuiPopover,{id:"createComponentTemplatePanel",button:Object(j.jsx)(g.EuiButton,{fill:!0,"data-test-subj":"manageTemplateButton",iconType:"arrowDown",iconSide:"right",onClick:()=>a((e=>!e))},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesFlyout.manageButtonLabel",defaultMessage:"Create"})),isOpen:t,closePopover:()=>a(!1),panelPaddingSize:"none",anchorPosition:e,repositionOnScroll:!0},Object(j.jsx)(g.EuiContextMenu,{initialPanelId:0,panels:[{id:0,title:i.i18n.translate("xpack.idxMgmt.componentTemplatesFlyout.createContextMenuPanelTitle",{defaultMessage:"New component template"}),items:[{name:i.i18n.translate("xpack.idxMgmt.componentTemplatesFlyout.createComponentTemplateFromScratchButtonLabel",{defaultMessage:"From scratch"}),icon:"plusInCircle",onClick:()=>{}},{name:i.i18n.translate("xpack.idxMgmt.componentTemplatesFlyout.createComponentTemplateFromExistingButtonLabel",{defaultMessage:"From existing index template"}),icon:"symlink",onClick:()=>{}}]}]}))};function Nn({onChange:e,filters:t}){const{euiTheme:a}=Object(g.useEuiTheme)(),[i,s]=Object(p.useState)(!1),n=Object.values(t).filter((e=>"on"===e.checked)),l=Object(j.jsx)(g.EuiFilterButton,{iconType:"arrowDown",onClick:()=>{s(!i)},isSelected:i,numFilters:Object.keys(t).length,hasActiveFilters:n.length>0,numActiveFilters:n.length,"data-test-subj":"filterButton"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.indexTemplatesList.filterButtonLabel",defaultMessage:"Filter"}));return Object(j.jsx)(g.EuiFilterGroup,{className:"componentTemplates__filterListButton"},Object(j.jsx)(g.EuiPopover,{ownFocus:!0,button:l,isOpen:i,closePopover:()=>{s(!1)},panelPaddingSize:"none","data-test-subj":"filterList"},Object(j.jsx)("div",{className:"eui-yScroll",css:Object(j.css)({maxHeight:30*a.base},"","")},Object.entries(t).map((([a,i],s)=>Object(j.jsx)(g.EuiFilterSelectItem,{checked:i.checked,key:s,onClick:()=>(a=>{const i="on"===t[a].checked?"off":"on";e({...t,[a]:{...t[a],checked:i}})})(a),"data-test-subj":"filterItem"},i.name))))))}a(95);const Bn=({component:e,onViewDetail:t,actions:a,isSelected:i=!1,dragHandleProps:s})=>{const n=a&&a.length>0,l="function"==typeof i?i(e):i,o=Boolean(s);return Object(j.jsx)("div",{className:Zi()("componentTemplatesListItem",{"componentTemplatesListItem--selected":l}),"data-test-subj":"item"},Object(j.jsx)(g.EuiFlexGroup,{justifyContent:"spaceBetween"},Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(g.EuiFlexGroup,{alignItems:"center"},o&&Object(j.jsx)(g.EuiFlexItem,null,Object(j.jsx)("div",s,Object(j.jsx)(g.EuiIcon,{type:"grab"}))),Object(j.jsx)(g.EuiFlexItem,{grow:!1,"data-test-subj":"name"},Object(j.jsx)(g.EuiLink,{onClick:()=>t(e)},e.name)),Object(j.jsx)(g.EuiFlexItem,{grow:!1,className:"componentTemplatesListItem__contentIndicator"},Object(j.jsx)(zs,{settings:e.hasSettings,mappings:e.hasMappings,aliases:e.hasAliases})))),n&&!l&&Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(g.EuiFlexGroup,{gutterSize:"xs"},a.map(((t,a)=>Object(j.jsx)(g.EuiFlexItem,{key:a},Object(j.jsx)(g.EuiToolTip,{content:t.label},Object(j.jsx)(g.EuiButtonIcon,{iconType:t.icon,onClick:()=>t.handler(e),"data-test-subj":`action-${t.icon}`,"aria-label":t.label})))))))),l&&Object(j.jsx)(g.EuiIcon,{className:"componentTemplatesListItem__checkIcon",type:"check",color:"success"}))},Rn=({components:e,listItemProps:t})=>Object(j.jsx)("div",{"data-test-subj":"componentTemplatesList"},e.map((e=>Object(j.jsx)(Bn,Ue()({key:e.name,component:e},t)))));function An(e){return e.replace(/[-\[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}a(100);const zn={filters:{settings:i.i18n.translate("xpack.idxMgmt.componentTemplatesSelector.filters.indexSettingsLabel",{defaultMessage:"Index settings"}),mappings:i.i18n.translate("xpack.idxMgmt.componentTemplatesSelector.filters.mappingsLabel",{defaultMessage:"Mappings"}),aliases:i.i18n.translate("xpack.idxMgmt.componentTemplatesSelector.filters.aliasesLabel",{defaultMessage:"Aliases"})},searchBoxPlaceholder:i.i18n.translate("xpack.idxMgmt.componentTemplatesSelector.searchBox.placeholder",{defaultMessage:"Search component templates"})},Vn=()=>({settings:{name:zn.filters.settings,checked:"off"},mappings:{name:zn.filters.mappings,checked:"off"},aliases:{name:zn.filters.aliases,checked:"off"}}),Un=({isLoading:e,components:t,listItemProps:a})=>{const[i,s]=Object(p.useState)(""),[n,l]=Object(p.useState)(Vn),o=Object(p.useMemo)((()=>e?[]:t.filter((e=>{if("on"===n.settings.checked&&!e.hasSettings)return!1;if("on"===n.mappings.checked&&!e.hasMappings)return!1;if("on"===n.aliases.checked&&!e.hasAliases)return!1;if(""===i.trim())return!0;const t=function(e,t){const a=`.*${e.split("").map(An).join(".*")}.*`;return new RegExp(a).test(t)}(i,e.name);return t})).sort(((e,t)=>e.name<t.name?-1:e.name>t.name?1:0))),[e,t,i,n]),r=0===o.length&&t.length>0;if(e)return null;return Object(j.jsx)("div",{className:"componentTemplates","data-test-subj":"componentTemplates"},Object(j.jsx)("div",{className:"componentTemplates__header"},Object(j.jsx)(g.EuiFlexGroup,{gutterSize:"none"},Object(j.jsx)(g.EuiFlexItem,null,Object(j.jsx)(g.EuiFieldSearch,{placeholder:zn.searchBoxPlaceholder,value:i,onChange:e=>{s(e.target.value)},"aria-label":zn.searchBoxPlaceholder,className:"componentTemplates__searchBox","data-test-subj":"componentTemplateSearchBox"})),Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(Nn,{filters:n,onChange:l})))),Object(j.jsx)("div",{className:Zi()("eui-yScrollWithShadows componentTemplates__listWrapper",{"componentTemplates__listWrapper--is-empty":r})},r?Object(j.jsx)(g.EuiEmptyPrompt,{iconType:"search",title:Object(j.jsx)("h3",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesSelector.searchResult.emptyPromptTitle",defaultMessage:"No components match your search"})),actions:Object(j.jsx)(g.EuiButton,{onClick:()=>{s(""),l(Vn())}},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesSelector.searchResult.emptyPrompt.clearSearchButtonLabel",defaultMessage:"Clear search"})),"data-test-subj":"emptySearchResult"}):Object(j.jsx)(Rn,{components:o,listItemProps:a})))},qn=({components:e,onReorder:t,listItemProps:a})=>Object(j.jsx)(g.EuiDragDropContext,{onDragEnd:({source:a,destination:i})=>{if(a&&i){const s=Object(g.euiDragDropReorder)(e,a.index,i.index);t(s)}}},Object(j.jsx)(g.EuiDroppable,{droppableId:"componentTemplates",spacing:"none"},e.map(((e,t)=>Object(j.jsx)(g.EuiDraggable,{spacing:"none",key:e.name,index:t,draggableId:e.name,customDragHandle:!0},(t=>Object(j.jsx)(Bn,Ue()({component:e,dragHandleProps:t.dragHandleProps},a))))))));a(105);const{useGlobalFlyout:Wn}=N.GlobalFlyout,Gn={icons:{view:i.i18n.translate("xpack.idxMgmt.componentTemplatesSelector.viewItemIconLabel",{defaultMessage:"View"}),select:i.i18n.translate("xpack.idxMgmt.componentTemplatesSelector.selectItemIconLabel",{defaultMessage:"Select"}),remove:i.i18n.translate("xpack.idxMgmt.componentTemplatesSelector.removeItemIconLabel",{defaultMessage:"Remove"})}},$n=({onChange:e,defaultValue:t,onComponentsLoaded:a,docUri:i,emptyPrompt:{text:s,showCreateButton:n}={}})=>{const{data:l,isLoading:o,error:r}=$s().api.useLoadComponentTemplates(),{addContent:c,removeContent:d}=Wn(),[u,x]=Object(p.useState)(null),[b,h]=Object(p.useState)([]),M=Object(p.useRef)(!1),O=Object.keys(b).length>0,y=!!(l&&l.length>0),v=()=>{x(null)};Object(p.useEffect)((()=>{if(l)if(t&&t.length>0&&0===b.length&&!1===M.current){const a=t.map((e=>l.find((t=>t.name===e)))).filter(Boolean);h(a),e(a.map((({name:e})=>e))),M.current=!0}else e(b.map((({name:e})=>e)))}),[t,l,b,e]),Object(p.useEffect)((()=>{o||r||a(null!=l?l:[])}),[o,r,l,a]),Object(p.useEffect)((()=>{u&&c({id:"componentTemplateDetails",Component:nn,props:{onClose:v,componentTemplateName:u},flyoutProps:{...sn,onClose:v},cleanUpFunc:()=>{x(null)}})}),[u,c]),Object(p.useEffect)((()=>{u||d("componentTemplateDetails")}),[u,d]);if(o)return Object(j.jsx)(N.SectionLoading,null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesSelector.loadingComponentsDescription",defaultMessage:"Loading component templates…"}));if(r)return Object(j.jsx)(N.SectionError,{title:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesSelector.loadingComponentsErrorMessage",defaultMessage:"Error loading components"}),error:r});if(y)return Object(j.jsx)(g.EuiFlexGroup,{className:"componentTemplatesSelector"},Object(j.jsx)(g.EuiFlexItem,{className:Zi()("componentTemplatesSelector__selection",{"componentTemplatesSelector__selection--is-empty":!O}),"data-test-subj":"componentTemplatesSelection"},O?Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)("div",{className:"componentTemplatesSelector__selection__header"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesSelector.selectionHeader.componentsSelectedLabel",defaultMessage:"Components selected: {count}",values:{count:Object(j.jsx)("span",{className:"componentTemplatesSelector__selection__header__count"},b.length)}})),Object(j.jsx)("div",{className:"eui-yScrollWithShadows componentTemplatesSelector__selection__content"},Object(j.jsx)(qn,{components:b,onReorder:e=>{h(e)},listItemProps:{onViewDetail:e=>{x(e.name)},actions:[{label:Gn.icons.remove,icon:"minusInCircle",handler:e=>{h((t=>t.filter((({name:t})=>e.name!==t))))}}]}}))):Object(j.jsx)(g.EuiText,{textAlign:"center","data-test-subj":"emptyPrompt"},Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesSelector.noComponentSelectedLabel-1",defaultMessage:"Add component template building blocks to this template."}),Object(j.jsx)("br",null),Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesSelector.noComponentSelectedLabel-2",defaultMessage:"Component templates are applied in the order specified."})))),Object(j.jsx)(g.EuiFlexItem,null,Object(j.jsx)(Un,{isLoading:o,components:null!=l?l:[],listItemProps:{onViewDetail:e=>{x(e.name)},actions:[{label:Gn.icons.select,icon:"plusInCircle",handler:e=>{h((t=>[...t,e]))}}],isSelected:e=>void 0!==b.find((({name:t})=>e.name===t))}})));const E=Object(j.jsx)(g.EuiText,{color:"subdued"},Object(j.jsx)("p",null,null!=s?s:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesSelector.emptyPromptDescription",defaultMessage:"Components templates let you save index settings, mappings and aliases and inherit from them in index templates."}),Object(j.jsx)("br",null),Object(j.jsx)(g.EuiLink,{href:i,target:"_blank",external:!0},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesSelector.emptyPromptLearnMoreLinkText",defaultMessage:"Learn more."}))));return Object(j.jsx)(g.EuiEmptyPrompt,{iconType:"managementApp",title:Object(j.jsx)("h2",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesSelector.emptyPromptTitle",defaultMessage:"You don’t have any components yet"})),body:E,actions:n?Object(j.jsx)(Pn,{anchorPosition:"downCenter"}):void 0,"data-test-subj":"emptyPrompt"})};var Hn=a(50),Jn=a(56),Yn=a.n(Jn);const Xn={[s.b]:i.i18n.translate("xpack.idxMgmt.indexStatusLabels.clearingCacheStatusLabel",{defaultMessage:"clearing cache..."}),[s.c]:i.i18n.translate("xpack.idxMgmt.indexStatusLabels.closedStatusLabel",{defaultMessage:"closed"}),[s.d]:i.i18n.translate("xpack.idxMgmt.indexStatusLabels.closingStatusLabel",{defaultMessage:"closing..."}),[s.g]:i.i18n.translate("xpack.idxMgmt.indexStatusLabels.mergingStatusLabel",{defaultMessage:"merging..."}),[s.i]:i.i18n.translate("xpack.idxMgmt.indexStatusLabels.openingStatusLabel",{defaultMessage:"opening..."}),[s.j]:i.i18n.translate("xpack.idxMgmt.indexStatusLabels.refreshingStatusLabel",{defaultMessage:"refreshing..."}),[s.e]:i.i18n.translate("xpack.idxMgmt.indexStatusLabels.flushingStatusLabel",{defaultMessage:"flushing..."}),[s.f]:i.i18n.translate("xpack.idxMgmt.indexStatusLabels.forcingMergeStatusLabel",{defaultMessage:"forcing merge..."})};var Kn=a(15);const Qn=e=>e.indices.byId,Zn=e=>e.indices.loading,el=e=>e.indices.error,tl=e=>Object.values(e.indices.byId),al=(e,t)=>{const a=Qn(e);return t.map((e=>a[e]))},il=e=>e.tableState,sl=["name"],nl=Object(Hn.createSelector)(Qn,(e=>e.indices.allIds),il,((e,t)=>t.location),((e,t,a,i)=>{let s=t.map((t=>e[t]));s=((e,t)=>{const a=Kn.a.toggles.reduce(((e,t)=>({...e,[t.name]:t})),{}),i=Object.keys(a);return i.length?e.filter((e=>i.some((i=>!a[i].matchIndex(e)||!0===t[i])))):e})(s,a.toggleNameToVisibleMap);const{includeHiddenIndices:n}=Jn.parse(i.search),l="true"===n?s:s.filter((e=>!(e=>!0===e.hidden)(e))),o=a.filter||g.EuiSearchBar.Query.MATCH_ALL;return g.EuiSearchBar.Query.execute(o,l,{defaultFields:sl})})),ll=Object(Hn.createSelector)(nl,(e=>Object.keys(e).length)),ol=Object(Hn.createSelector)(il,ll,(({currentPage:e,pageSize:t},a)=>new g.Pager(a,t,e))),rl=Object(Hn.createSelector)(nl,il,(e=>e.rowStatus),ol,((e,t,a,i)=>{const s=((e=[],t,a)=>{const i=Object(Me.sortBy)(e,Te[t]);return a?i:i.reverse()})(e,t.sortField,t.isSortAscending),{firstItemIndex:n,lastItemIndex:l}=i;return s.slice(n,l+1).map((e=>{if(e.status){const t=Xn[a[e.name]]||a[e.name]||Xn[e.status]||e.status;return{...e,status:t}}return e}))})),cl=Object(Hn.createSelector)(il,(({filter:e})=>e)),dl=Object(Hn.createSelector)(il,(({isSortAscending:e})=>e)),ul=Object(Hn.createSelector)(il,(({sortField:e})=>e));var pl=a(55);const ml=Object(pl.createAction)("INDEX_MANAGEMENT_CLEAR_CACHE_INDICES_START"),gl=Object(pl.createAction)("INDEX_MANAGEMENT_CLEAR_ROW_STATUS"),xl=Object(pl.createAction)("INDEX_MANAGEMENT_CLOSE_INDICES_START"),bl=Object(pl.createAction)("INDEX_MANAGEMENT_DELETE_INDICES_SUCCESS"),fl=Object(pl.createAction)("INDEX_MANAGEMENT_FLUSH_INDICES_START"),jl=Object(pl.createAction)("INDEX_MANAGEMENT_FORCEMERGE_INDICES_START"),hl=Object(pl.createAction)("INDEX_MANAGEMENT_LOAD_INDICES_START"),Ml=Object(pl.createAction)("INDEX_MANAGEMENT_LOAD_INDICES_SUCCESS"),Ol=Object(pl.createAction)("INDEX_MANAGEMENT_LOAD_INDICES_ERROR"),yl=()=>async e=>{let t;e(hl());try{t=await async function(){const e=await se.httpClient.get(`${s.a}/indices`);return e.data?e.data:e}()}catch(t){return e(Ol(t))}e(Ml({indices:t}))},vl=Object(pl.createAction)("INDEX_MANAGEMENT_OPEN_INDICES_START"),El=Object(pl.createAction)("INDEX_MANAGEMENT_REFRESH_INDICES_START"),kl=Object(pl.createAction)("INDEX_MANAGEMENT_UNFREEZE_INDICES_START"),Tl=Object(pl.createAction)("INDEX_MANAGEMENT_RELOAD_INDICES_SUCCESS"),Fl=(e,t)=>async a=>{let n;try{n=await async function(e,{asSystemRequest:t}={}){const a=JSON.stringify({indexNames:e}),i=await se.httpClient.post(`${s.a}/indices/reload`,{body:a,asSystemRequest:t});return i.data?i.data:i}(e,t)}catch(e){return 404===e.status||403===e.status?a(yl()):Fe.showDangerToast(e.body.message)}return n&&n.length>0?a(Tl({indices:n})):Fe.showWarningToast(i.i18n.translate("xpack.idxMgmt.reloadIndicesAction.indicesPageRefreshFailureMessage",{defaultMessage:"Failed to refresh current page of indices."}))},Sl=(Object(pl.createAction)("INDEX_MANAGEMENT_APPLY_FILTERS"),Object(pl.createAction)("INDEX_MANAGEMENT_FILTERS_APPLIED"),Object(pl.createAction)("INDEX_MANAGEMENT_FILTER_CHANGED")),_l=Object(pl.createAction)("INDEX_MANAGEMENT_PAGE_CHANGED"),Cl=Object(pl.createAction)("INDEX_MANAGEMENT_PAGE_SIZE_CHANGED"),Ll=Object(pl.createAction)("INDEX_MANAGEMENT_SORT_CHANGED"),wl=Object(pl.createAction)("INDEX_MANAGEMENT_TOGGLE_CHANGED"),Dl="policy_edit",Il=["manage_enrich"];var Pl=a(9);const Nl=(e,t,a)=>{const s=[];return t.badges.forEach((({matchIndex:t,label:n,color:l,filterExpression:o})=>{if(t(e)){const e=()=>{a&&o&&a(g.Query.parse(o))},t=i.i18n.translate("xpack.idxMgmt.badgeAriaLabel",{defaultMessage:"{label}. Select to filter on this.",values:{label:n}}),r=a&&o?Object(j.jsx)(g.EuiBadge,{color:l,onClick:e,onClickAriaLabel:t},n):Object(j.jsx)(g.EuiBadge,{color:l},n);s.push(Object(j.jsx)(p.Fragment,{key:n}," ",r))}})),Object(j.jsx)(p.Fragment,null,s)},Bl=({title:e,error:t,...a})=>{const{cause:i,message:s,statusText:n,attributes:{cause:l}={}}=t,o=null!=l?l:i;return Object(j.jsx)(g.EuiCallOut,Ue()({title:e,color:"danger",iconType:"warning"},a),Object(j.jsx)("div",null,s||n),o&&Object(j.jsx)(p.Fragment,null,Object(j.jsx)(g.EuiSpacer,{size:"m"}),Object(j.jsx)("ul",null,o.map(((e,t)=>Object(j.jsx)("li",{key:t},e))))))},Rl=()=>Object(j.jsx)("div",{"data-test-subj":"noIndicesMessage"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.noMatch.noIndicesDescription",defaultMessage:"No indices to show"})),Al=({templatesToDelete:e,callback:t})=>{const[a,n]=Object(p.useState)(!1),l=e.length,o=Boolean(e.find((({name:e})=>e.startsWith("."))));return Object(j.jsx)(g.EuiConfirmModal,{buttonColor:"danger","data-test-subj":"deleteTemplatesConfirmation",title:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.deleteTemplatesModal.modalTitleText",defaultMessage:"Delete {numTemplatesToDelete, plural, one {template} other {# templates}}",values:{numTemplatesToDelete:l}}),onCancel:()=>{n(!1),t()},onConfirm:()=>{(async function(e){const t=ne({path:`${s.a}/delete_index_templates`,method:"post",body:{templates:e}}),a=e.length>1?s.K:s.J;return oe.trackMetric(ae.METRIC_TYPE.COUNT,a),t})(e).then((({data:{templatesDeleted:a,errors:s},error:n})=>{const l=a&&a.length;if(l){const s=1===a.length?i.i18n.translate("xpack.idxMgmt.deleteTemplatesModal.successDeleteSingleNotificationMessageText",{defaultMessage:"Deleted template '{templateName}'",values:{templateName:e[0].name}}):i.i18n.translate("xpack.idxMgmt.deleteTemplatesModal.successDeleteMultipleNotificationMessageText",{defaultMessage:"Deleted {numSuccesses, plural, one {# template} other {# templates}}",values:{numSuccesses:a.length}});t({hasDeletedTemplates:l}),Fe.showSuccessToast(s)}if(n||s&&s.length){const t=s&&s.length>1||n&&e.length>1?i.i18n.translate("xpack.idxMgmt.deleteTemplatesModal.multipleErrorsNotificationMessageText",{defaultMessage:"Error deleting {count} templates",values:{count:s&&s.length||e.length}}):i.i18n.translate("xpack.idxMgmt.deleteTemplatesModal.errorNotificationMessageText",{defaultMessage:"Error deleting template '{name}'",values:{name:s&&s[0].name||e[0]}});Fe.showDangerToast(t)}}))},cancelButtonText:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.deleteTemplatesModal.cancelButtonLabel",defaultMessage:"Cancel"}),confirmButtonText:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.deleteTemplatesModal.confirmButtonLabel",defaultMessage:"Delete {numTemplatesToDelete, plural, one {template} other {templates} }",values:{numTemplatesToDelete:l}}),confirmButtonDisabled:!!o&&!a},Object(j.jsx)(p.Fragment,null,Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.deleteTemplatesModal.deleteDescription",defaultMessage:"You are about to delete {numTemplatesToDelete, plural, one {this template} other {these templates} }:",values:{numTemplatesToDelete:l}})),Object(j.jsx)("ul",null,e.map((({name:e})=>Object(j.jsx)("li",{key:e},e,e.startsWith(".")?Object(j.jsx)(p.Fragment,null," ",Object(j.jsx)(g.EuiBadge,{iconType:"warning",color:"hollow"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.deleteTemplatesModal.systemTemplateLabel",defaultMessage:"System template"}))):null)))),o&&Object(j.jsx)(g.EuiCallOut,{title:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.deleteTemplatesModal.proceedWithCautionCallOutTitle",defaultMessage:"Deleting a system template can break Kibana"}),color:"danger",iconType:"warning","data-test-subj":"deleteSystemTemplateCallOut"},Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.deleteTemplatesModal.proceedWithCautionCallOutDescription",defaultMessage:"System templates are critical for internal operations. If you delete this template, you can’t recover it."})),Object(j.jsx)(g.EuiCheckbox,{id:"confirmDeleteTemplatesCheckbox",label:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.deleteTemplatesModal.confirmDeleteCheckboxLabel",defaultMessage:"I understand the consequences of deleting a system template"}),checked:a,onChange:e=>n(e.target.checked)}))))},{stripEmptyFields:zl}=ie.G,Vl=m.a.memo((({template:e,filters:t})=>{const[a,i]=Object(p.useState)("{}"),n=Object(p.useCallback)((async()=>{var a;if(!e||0===Object.keys(e).length)return;const n=De(zl(e,{types:["string"]})),{data:l,error:o}=await function(e){return ne({path:`${s.a}/index_templates/simulate`,method:"post",body:JSON.stringify(e)}).then((e=>(oe.trackMetric(ae.METRIC_TYPE.COUNT,s.S),e)))}(n);let r=l;l&&(delete l.overlapping,l.template&&void 0===l.template.mappings&&(l.template.mappings={}),t&&(r=Object.entries(t).reduce(((e,[t,a])=>(a||delete e[t],e)),{...l.template}))),i(JSON.stringify(null!==(a=r)&&void 0!==a?a:o,null,2))}),[e,t]);Object(p.useEffect)((()=>{n()}),[n]);const l="{}"===a,o=Boolean(t);return l&&o?Object(j.jsx)(g.EuiCallOut,{title:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.simulateTemplate.noFilterSelected",defaultMessage:"Select at least one option to preview."}),iconType:"pin",size:"s"}):l?null:Object(j.jsx)(g.EuiCodeBlock,{language:"json",isCopyable:!0,"data-test-subj":"simulateTemplatePreview"},a)})),Ul=Object(D.getUseField)({component:I.CheckBoxField}),ql={"data-test-subj":"simulateTemplateFlyout","aria-labelledby":"simulateTemplateFlyoutTitle"},Wl={filters:{label:i.i18n.translate("xpack.idxMgmt.simulateTemplate.filters.label",{defaultMessage:"Include:"}),mappings:i.i18n.translate("xpack.idxMgmt.simulateTemplate.filters.mappings",{defaultMessage:"Mappings"}),indexSettings:i.i18n.translate("xpack.idxMgmt.simulateTemplate.filters.indexSettings",{defaultMessage:"Index settings"}),aliases:i.i18n.translate("xpack.idxMgmt.simulateTemplate.filters.aliases",{defaultMessage:"Aliases"})}},Gl=({onClose:e,getTemplate:t,filters:a,onFiltersChange:i})=>{const s=Object(p.useRef)(!1),[n,l]=Object(p.useState)({}),{form:o}=Object(D.useForm)({defaultValue:a}),{subscribe:r}=o;Object(p.useEffect)((()=>{r((e=>{i(e.data.format())}))}),[r,i]);const c=Object(p.useCallback)((async()=>{const e=await t();l(e)}),[t]);return Object(p.useEffect)((()=>{!1===s.current&&c(),s.current=!0}),[c]),Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiFlyoutHeader,null,Object(j.jsx)(g.EuiTitle,{size:"m"},Object(j.jsx)("h2",{id:"componentTemplatesFlyoutTitle","data-test-subj":"title"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.simulateTemplate.title",defaultMessage:"Preview index template"}))),Object(j.jsx)(g.EuiSpacer,{size:"xs"}),Object(j.jsx)(g.EuiTextColor,{color:"subdued"},Object(j.jsx)(g.EuiText,{size:"s"},Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.simulateTemplate.descriptionText",defaultMessage:"This is the final template that will be applied to matching indices based on the component templates you have selected and any overrides you've added."}))))),Object(j.jsx)(g.EuiFlyoutBody,{"data-test-subj":"content"},Object(j.jsx)(D.Form,{form:o},Object(j.jsx)(g.EuiFlexGroup,{alignItems:"center"},Object(j.jsx)(g.EuiFlexItem,{grow:!1},Wl.filters.label),Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(Ul,{path:"mappings",config:{label:Wl.filters.mappings}})),Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(Ul,{path:"settings",config:{label:Wl.filters.indexSettings}})),Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(Ul,{path:"aliases",config:{label:Wl.filters.aliases}}))),Object(j.jsx)(g.EuiSpacer,null),Object(j.jsx)(D.FormDataProvider,null,(e=>Object(j.jsx)(Vl,{template:n,filters:e}))))),Object(j.jsx)(g.EuiFlyoutFooter,null,Object(j.jsx)(g.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(g.EuiButtonEmpty,{iconType:"cross",flush:"left",onClick:e,"data-test-subj":"closeDetailsButton"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.simulateTemplate.closeButtonLabel",defaultMessage:"Close"}))),Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(g.EuiButton,{iconType:"refresh",onClick:c,"data-test-subj":"updateSimulationButton",fill:!0},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.simulateTemplate.updateButtonLabel",defaultMessage:"Update"}))))))},$l=({history:e,showCta:t})=>Object(j.jsx)(g.EuiCallOut,{title:i.i18n.translate("xpack.idxMgmt.legacyIndexTemplatesDeprecation.title",{defaultMessage:"Legacy index templates are deprecated in favor of composable index templates"}),color:"warning",iconType:"warning","data-test-subj":"legacyIndexTemplateDeprecationWarning"},t&&e&&Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.legacyIndexTemplatesDeprecation.description",defaultMessage:"{createTemplateButton} or {learnMoreLink}",values:{createTemplateButton:Object(j.jsx)(g.EuiLink,Ue()({"data-test-subj":"createTemplateButton"},Object(ie.E)(e,"/create_template")),Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.legacyIndexTemplatesDeprecation.createTemplatesButtonLabel",defaultMessage:"Create composable template"})),learnMoreLink:Object(j.jsx)(g.EuiLink,{href:te.getTemplatesDocumentationLink(),target:"_blank",external:!0},i.i18n.translate("xpack.idxMgmt.home.legacyIndexTemplatesDeprecation.ctaLearnMoreLinkText",{defaultMessage:"learn more."}))}})),!t&&Object(j.jsx)(g.EuiLink,{href:te.getTemplatesDocumentationLink(),target:"_blank",external:!0},i.i18n.translate("xpack.idxMgmt.home.legacyIndexTemplatesDeprecation.learnMoreLinkText",{defaultMessage:"Learn more."}))),{emptyField:Hl,containsCharsField:Jl,startsWithField:Yl,indexPatternField:Xl,lowerCaseStringField:Kl,isJsonField:Ql}=ie.z,{toInt:Zl}=ie.y,eo=s.l.join(" "),to={type:ie.d.TEXT,label:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.fieldNameLabel",{defaultMessage:"Name"}),validations:[{validator:Hl(i.i18n.translate("xpack.idxMgmt.templateValidation.templateNameRequiredError",{defaultMessage:"A template name is required."}))},{validator:Jl({chars:" ",message:i.i18n.translate("xpack.idxMgmt.templateValidation.templateNameSpacesError",{defaultMessage:"Spaces are not allowed in a template name."})})},{validator:Yl({char:"_",message:i.i18n.translate("xpack.idxMgmt.templateValidation.templateNameUnderscoreError",{defaultMessage:"A template name must not start with an underscore."})})},{validator:Yl({char:".",message:i.i18n.translate("xpack.idxMgmt.templateValidation.templateNamePeriodError",{defaultMessage:"A template name must not start with a period."})})},{validator:Jl({chars:s.m,message:({charsFound:e})=>i.i18n.translate("xpack.idxMgmt.templateValidation.templateNameInvalidaCharacterError",{defaultMessage:'A template name must not contain the character "{invalidChar}"',values:{invalidChar:e[0]}})})},{validator:Kl(i.i18n.translate("xpack.idxMgmt.templateValidation.templateNameLowerCaseRequiredError",{defaultMessage:"The template name must be in lowercase."}))}]},ao={...to,validations:[]},io={logistics:{name:to,indexPatterns:{type:ie.d.COMBO_BOX,defaultValue:[],label:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.fieldIndexPatternsLabel",{defaultMessage:"Index patterns"}),helpText:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepLogistics.fieldIndexPatternsHelpText",defaultMessage:"Spaces and the characters {invalidCharactersList} are not allowed.",values:{invalidCharactersList:Object(j.jsx)("strong",null,eo)}}),validations:[{validator:Hl(i.i18n.translate("xpack.idxMgmt.templateValidation.indexPatternsRequiredError",{defaultMessage:"At least one index pattern is required."}))},{validator:Xl(i.i18n),type:ie.t.ARRAY_ITEM,isBlocking:!1}]},doCreateDataStream:{type:ie.d.TOGGLE,label:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.datastreamLabel",{defaultMessage:"Create data stream"}),defaultValue:!1},order:{type:ie.d.NUMBER,label:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.fieldOrderLabel",{defaultMessage:"Order (optional)"}),formatters:[Zl]},priority:{type:ie.d.NUMBER,label:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.fieldPriorityLabel",{defaultMessage:"Priority (optional)"}),formatters:[Zl]},version:{type:ie.d.NUMBER,label:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.fieldVersionLabel",{defaultMessage:"Version (optional)"}),formatters:[Zl]},"lifecycle.enabled":{type:ie.d.TOGGLE,label:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.enableDataRetentionLabel",{defaultMessage:"Enable data retention"}),defaultValue:!1},"lifecycle.infiniteDataRetention":{type:ie.d.TOGGLE,label:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.infiniteDataRetentionLabel",{defaultMessage:"Keep data indefinitely"}),defaultValue:!1},"lifecycle.value":{type:ie.d.TEXT,label:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.fieldDataRetentionValueLabel",{defaultMessage:"Data Retention"}),formatters:[Zl],validations:[{validator:({value:e,formData:t})=>{if(!t["lifecycle.infiniteDataRetention"])return e?e<=0?{message:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.dataRetentionFieldNonNegativeError",{defaultMessage:"A positive value is required."})}:e%1!=0?{message:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.dataRetentionFieldDecimalError",{defaultMessage:"The value should be an integer number."})}:void 0:{message:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.dataRetentionFieldRequiredError",{defaultMessage:"A data retention value is required."})}}}]},"lifecycle.unit":{type:ie.d.TEXT,label:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.fieldDataRetentionUnitLabel",{defaultMessage:"Time unit"}),defaultValue:"d"},allowAutoCreate:{type:ie.d.TOGGLE,label:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.fieldAllowAutoCreateLabel",{defaultMessage:"Allow auto create (optional)"}),defaultValue:!1},_meta:{label:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.metaFieldEditorLabel",{defaultMessage:"_meta field data (optional)"}),helpText:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepLogistics.metaFieldEditorHelpText",defaultMessage:"Use JSON format: {code}",values:{code:Object(j.jsx)(g.EuiCode,null,JSON.stringify({arbitrary_data:"anything_goes"}))}}),validations:[{validator:Ql(i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.metaFieldEditorJsonError",{defaultMessage:"The _meta field JSON is not valid."}),{allowEmptyString:!0})}],deserializer:e=>""===e?e:JSON.stringify(e,null,2),serializer:e=>{try{return JSON.parse(e)}catch(t){return e}}},addMeta:{type:ie.d.TOGGLE,label:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.addMetadataLabel",{defaultMessage:"Add metadata"})}}},so=Object(ie.C)({component:ie.e}),no=Object(ie.B)({titleTag:"h3"});function lo(e){return{...e,addMeta:Boolean(e._meta&&Object.keys(e._meta).length),doCreateDataStream:Boolean(e.dataStream)}}function oo(e={}){return t=>{var a;const{addMeta:i,doCreateDataStream:s,...n}=t;return{...n,dataStream:s?null!==(a=e.dataStream)&&void 0!==a?a:{}:void 0}}}const ro=m.a.memo((({defaultValue:e,isEditing:t=!1,onChange:a,isLegacy:s=!1})=>{const{form:n}=Object(ie.J)({schema:io.logistics,defaultValue:e,options:{stripEmptyFields:!1},serializer:oo(e),deserializer:lo}),{submit:l,isSubmitted:o,isValid:r,getErrors:c,getFormData:d}=n,[{addMeta:u,doCreateDataStream:x,lifecycle:b}]=Object(ie.K)({form:n,watch:["addMeta","lifecycle.enabled","lifecycle.infiniteDataRetention","doCreateDataStream"]}),h=Object(p.useCallback)((async()=>(await l()).isValid),[l]);Object(p.useEffect)((()=>{a({isValid:r,getData:d,validate:h})}),[a,r,h,d]);const{name:M,indexPatterns:O,createDataStream:y,order:v,priority:E,version:k,dataRetention:T,allowAutoCreate:F}=(te.getEsDocsBase(),{name:{title:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.nameTitle",{defaultMessage:"Name"}),description:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.nameDescription",{defaultMessage:"A unique identifier for this template."}),testSubject:"nameField"},indexPatterns:{title:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.indexPatternsTitle",{defaultMessage:"Index patterns"}),description:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.indexPatternsDescription",{defaultMessage:"The index patterns to apply to the template."}),testSubject:"indexPatternsField"},createDataStream:{title:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.dataStreamTitle",{defaultMessage:"Data stream"}),description:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepLogistics.dataStreamDescription",defaultMessage:"The template creates data streams instead of indices. {docsLink}",values:{docsLink:Object(j.jsx)(g.EuiLink,{href:te.getDataStreamsDocumentationLink(),target:"_blank",external:!0},i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.dataStreamDocumentionLink",{defaultMessage:"Learn more."}))}}),testSubject:"dataStreamField"},order:{title:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.orderTitle",{defaultMessage:"Merge order"}),description:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.orderDescription",{defaultMessage:"The merge order when multiple templates match an index."}),testSubject:"orderField"},priority:{title:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.priorityTitle",{defaultMessage:"Priority"}),description:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.priorityDescription",{defaultMessage:"Only the highest priority template will be applied."}),testSubject:"priorityField"},version:{title:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.versionTitle",{defaultMessage:"Version"}),description:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.versionDescription",{defaultMessage:"A number that identifies the template to external management systems."}),testSubject:"versionField"},dataRetention:{title:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.dataRetentionTitle",{defaultMessage:"Data retention"}),description:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.dataRetentionDescription",{defaultMessage:"Data will be kept at least this long before being automatically deleted."}),unitTestSubject:"unitDataRetentionField"},allowAutoCreate:{title:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.allowAutoCreateTitle",{defaultMessage:"Allow auto create"}),description:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.allowAutoCreateDescription",{defaultMessage:"Indices can be automatically created even if auto-creation of indices is disabled via actions.auto_create_index."}),testSubject:"allowAutoCreateField"}});return Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiFlexGroup,{justifyContent:"spaceBetween"},Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(g.EuiTitle,null,Object(j.jsx)("h2",{"data-test-subj":"stepTitle"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepLogistics.stepTitle",defaultMessage:"Logistics"})))),Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(g.EuiButtonEmpty,{size:"s",flush:"right",href:te.getTemplatesDocumentationLink(s),target:"_blank",iconType:"help"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepLogistics.docsButtonLabel",defaultMessage:"Index Templates docs"})))),Object(j.jsx)(g.EuiSpacer,{size:"l"}),Object(j.jsx)(ie.f,{form:n,isInvalid:o&&!r,error:c(),"data-test-subj":"stepLogistics"},Object(j.jsx)(no,{title:M.title,description:M.description},Object(j.jsx)(so,{path:"name",componentProps:{"data-test-subj":M.testSubject,euiFieldProps:{disabled:t}},config:t?ao:to})),Object(j.jsx)(no,{title:O.title,description:O.description},Object(j.jsx)(so,{path:"indexPatterns",componentProps:{"data-test-subj":O.testSubject}})),!0!==s&&Object(j.jsx)(no,{title:y.title,description:y.description},Object(j.jsx)(so,{path:"doCreateDataStream",componentProps:{"data-test-subj":y.testSubject}})),x&&Object(j.jsx)(no,{title:T.title,description:Object(j.jsx)(m.a.Fragment,null,T.description,Object(j.jsx)(g.EuiSpacer,{size:"m"}),Object(j.jsx)(so,{path:"lifecycle.enabled",componentProps:{"data-test-subj":"dataRetentionToggle"}}))},(null==b?void 0:b.enabled)&&Object(j.jsx)(so,{path:"lifecycle.value",component:ie.l,labelAppend:Object(j.jsx)(so,{path:"lifecycle.infiniteDataRetention","data-test-subj":"infiniteDataRetentionToggle",componentProps:{euiFieldProps:{compressed:!0}}}),componentProps:{euiFieldProps:{disabled:null==b?void 0:b.infiniteDataRetention,"data-test-subj":"valueDataRetentionField",min:1,append:Object(j.jsx)(Vs,{path:"lifecycle.unit",options:Us,disabled:null==b?void 0:b.infiniteDataRetention,euiFieldProps:{"data-test-subj":"unitDataRetentionField"}})}}})),s&&Object(j.jsx)(no,{title:v.title,description:v.description},Object(j.jsx)(so,{path:"order",componentProps:{"data-test-subj":v.testSubject}})),!1===s&&Object(j.jsx)(no,{title:E.title,description:E.description},Object(j.jsx)(so,{path:"priority",componentProps:{"data-test-subj":E.testSubject}})),Object(j.jsx)(no,{title:k.title,description:k.description},Object(j.jsx)(so,{path:"version",componentProps:{"data-test-subj":k.testSubject}})),!1===s&&Object(j.jsx)(no,{title:F.title,description:F.description},Object(j.jsx)(so,{path:"allowAutoCreate",componentProps:{"data-test-subj":F.testSubject}})),!1===s&&Object(j.jsx)(no,{title:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.metaFieldTitle",{defaultMessage:"_meta field"}),description:Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepLogistics.metaFieldDescription",defaultMessage:"Use the _meta field to store any metadata you want."}),Object(j.jsx)(g.EuiSpacer,{size:"m"}),Object(j.jsx)(so,{path:"addMeta","data-test-subj":"metaToggle"}))},u&&Object(j.jsx)(so,{path:"_meta",component:ie.i,componentProps:{codeEditorProps:{height:"280px","aria-label":i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.metaFieldEditorAriaLabel",{defaultMessage:"_meta field data editor"}),"data-test-subj":"metaField"}}}))))})),co=({isEditing:e,isLegacy:t})=>{const{defaultValue:a,updateContent:i}=ie.g.useContent("logistics");return Object(j.jsx)(ro,{defaultValue:a,onChange:i,isEditing:e,isLegacy:t})},uo={title:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepComponents.stepTitle",defaultMessage:"Component templates (optional)"}),description:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepComponents.componentsDescription",defaultMessage:"Component templates let you save index settings, mappings and aliases and inherit from them in index templates."})},po=({defaultValue:e,onChange:t,esDocsBase:a})=>{const[i,s]=Object(p.useState)({isLoadingComponents:!0,components:[]}),n=Object(p.useCallback)((e=>{s({isLoadingComponents:!1,components:e})}),[]),l=Object(p.useCallback)((e=>{t({isValid:!0,validate:async()=>!0,getData:()=>e.length>0?e:void 0})}),[t]),o=!0===i.isLoadingComponents||i.components.length>0,r=te.getIndicesComponentTemplate();return Object(j.jsx)("div",{"data-test-subj":"stepComponents"},o?Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiFlexGroup,{justifyContent:"spaceBetween"},Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(g.EuiTitle,null,Object(j.jsx)("h2",{"data-test-subj":"stepTitle"},uo.title)),Object(j.jsx)(g.EuiSpacer,{size:"s"}),Object(j.jsx)(g.EuiText,null,Object(j.jsx)("p",null,uo.description))),Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(g.EuiButtonEmpty,{size:"s",flush:"right",href:r,target:"_blank",iconType:"help"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepComponents.docsButtonLabel",defaultMessage:"Component templates docs"})))),Object(j.jsx)(g.EuiSpacer,{size:"l"})):null,Object(j.jsx)($n,{defaultValue:e,onChange:l,onComponentsLoaded:n,docUri:r,emptyPrompt:{text:uo.description,showCreateButton:!1}}))},mo=()=>{const{defaultValue:e,updateContent:t}=ie.g.useContent("components");return Object(j.jsx)(po,{defaultValue:e,onChange:t,esDocsBase:te.getEsDocsBase()})},{stripEmptyFields:go}=ie.G,xo=()=>Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.noneDescriptionText",defaultMessage:"None"}),bo=e=>("boolean"==typeof e?e:e&&Object.entries(e).length>0)?Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.yesDescriptionText",defaultMessage:"Yes"}):Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.noDescriptionText",defaultMessage:"No"}),fo=({template:e})=>Object(j.jsx)("div",{"data-test-subj":"previewTab"},Object(j.jsx)(g.EuiSpacer,{size:"m"}),Object(j.jsx)(g.EuiText,null,Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.previewTab.descriptionText",defaultMessage:"This is the final template that will be applied to matching indices. Component templates are applied in the order specified. Explicit mappings, settings, and aliases override the component templates."}))),Object(j.jsx)(g.EuiSpacer,{size:"m"}),Object(j.jsx)(Vl,{template:e})),jo=m.a.memo((({template:e,navigateToStep:t})=>{const{name:a,indexPatterns:s,version:n,order:l,template:o,priority:r,allowAutoCreate:c,composedOf:d,_meta:u,_kbnMeta:{isLegacy:x}}=e,b=x?function(e){const{version:t,order:a,indexPatterns:i,template:{settings:s,aliases:n,mappings:l}={}}=e;return{version:t,order:a,index_patterns:i,settings:s,aliases:n,mappings:l}}(go(e,{types:["string"]})):De(go(e,{types:["string"]})),h=Ie(b,"mappings"),M=Ie(b,"settings"),O=Ie(b,"aliases"),y=null==o?void 0:o.lifecycle,v=s.length,E=Boolean(s.find((e=>"*"===e))),k=[{id:"summary",name:i.i18n.translate("xpack.idxMgmt.templateForm.stepReview.summaryTabTitle",{defaultMessage:"Summary"}),content:Object(j.jsx)((()=>Object(j.jsx)("div",{"data-test-subj":"summaryTab"},Object(j.jsx)(g.EuiSpacer,{size:"m"}),Object(j.jsx)(g.EuiFlexGroup,null,Object(j.jsx)(g.EuiFlexItem,null,Object(j.jsx)(g.EuiDescriptionList,{textStyle:"reverse"},Object(j.jsx)(g.EuiDescriptionListTitle,null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.indexPatternsLabel",defaultMessage:"Index {numIndexPatterns, plural, one {pattern} other {patterns}}",values:{numIndexPatterns:v}})),Object(j.jsx)(g.EuiDescriptionListDescription,null,v>1?Object(j.jsx)(g.EuiText,null,Object(j.jsx)("ul",null,s.map(((e,t)=>Object(j.jsx)("li",{key:`${e}-${t}`},Object(j.jsx)(g.EuiTitle,{size:"xs"},Object(j.jsx)("span",null,e))))))):s.toString()),x?Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiDescriptionListTitle,null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.orderLabel",defaultMessage:"Order"})),Object(j.jsx)(g.EuiDescriptionListDescription,null,l||Object(j.jsx)(xo,null))):Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiDescriptionListTitle,null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.priorityLabel",defaultMessage:"Priority"})),Object(j.jsx)(g.EuiDescriptionListDescription,null,r||Object(j.jsx)(xo,null))),Object(j.jsx)(g.EuiDescriptionListTitle,null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.versionLabel",defaultMessage:"Version"})),Object(j.jsx)(g.EuiDescriptionListDescription,null,n||Object(j.jsx)(xo,null)),!0!==x&&Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiDescriptionListTitle,null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.allowAutoCreateLabel",defaultMessage:"Allow auto create"})),Object(j.jsx)(g.EuiDescriptionListDescription,null,bo(c))),!0!==x&&Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiDescriptionListTitle,null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.componentsLabel",defaultMessage:"Component templates"})),Object(j.jsx)(g.EuiDescriptionListDescription,null,d&&d.length>0?d.length>1?Object(j.jsx)(g.EuiText,null,Object(j.jsx)("ul",null,d.map(((e,t)=>Object(j.jsx)("li",{key:`${e}-${t}`},Object(j.jsx)(g.EuiTitle,{size:"xs"},Object(j.jsx)("span",null,e))))))):d.toString():Object(j.jsx)(xo,null))))),Object(j.jsx)(g.EuiFlexItem,null,Object(j.jsx)(g.EuiDescriptionList,{textStyle:"reverse"},Object(j.jsx)(g.EuiDescriptionListTitle,null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.settingsLabel",defaultMessage:"Index settings"})),Object(j.jsx)(g.EuiDescriptionListDescription,null,bo(M)),Object(j.jsx)(g.EuiDescriptionListTitle,null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.mappingLabel",defaultMessage:"Mappings"})),Object(j.jsx)(g.EuiDescriptionListDescription,null,bo(h)),Object(j.jsx)(g.EuiDescriptionListTitle,null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.aliasesLabel",defaultMessage:"Aliases"})),Object(j.jsx)(g.EuiDescriptionListDescription,null,bo(O)),!0!==x&&(null==y?void 0:y.enabled)&&Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiDescriptionListTitle,{"data-test-subj":"lifecycleTitle"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.lifecycleLabel",defaultMessage:"Data retention"})),Object(j.jsx)(g.EuiDescriptionListDescription,{"data-test-subj":"lifecycleValue"},Xs(y,!0))),!0!==x&&u&&Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiDescriptionListTitle,{"data-test-subj":"metaTitle"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.metaLabel",defaultMessage:"Metadata"})),Object(j.jsx)(g.EuiDescriptionListDescription,null,Object(j.jsx)(g.EuiCodeBlock,{language:"json"},JSON.stringify(u,null,2))))))))),null)},{id:"request",name:i.i18n.translate("xpack.idxMgmt.templateForm.stepReview.requestTabTitle",{defaultMessage:"Request"}),content:Object(j.jsx)((()=>{const e=`PUT ${x?"_template":"_index_template"}/${a||"<templateName>"}\n${JSON.stringify(b,null,2)}`,t=e.length<6e4?"json":void 0;return Object(j.jsx)("div",{"data-test-subj":"requestTab"},Object(j.jsx)(g.EuiSpacer,{size:"m"}),Object(j.jsx)(g.EuiText,null,Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.requestTab.descriptionText",defaultMessage:"This request will create the following index template."}))),Object(j.jsx)(g.EuiSpacer,{size:"m"}),Object(j.jsx)(g.EuiCodeBlock,{language:t,isCopyable:!0},e))}),null)}];return x||k.splice(1,0,{id:"preview",name:i.i18n.translate("xpack.idxMgmt.templateForm.stepReview.previewTabTitle",{defaultMessage:"Preview"}),content:Object(j.jsx)(fo,{template:e})}),Object(j.jsx)("div",{"data-test-subj":"stepSummary"},Object(j.jsx)(g.EuiTitle,null,Object(j.jsx)("h2",{"data-test-subj":"stepTitle"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.stepTitle",defaultMessage:"Review details for '{templateName}'",values:{templateName:a}}))),Object(j.jsx)(g.EuiSpacer,{size:"l"}),E?Object(j.jsx)(p.Fragment,null,Object(j.jsx)(g.EuiCallOut,{title:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.indexPatternsWarningTitle",defaultMessage:"This template uses a wildcard (*) as an index pattern."}),color:"warning",iconType:"help","data-test-subj":"indexPatternsWarning"},Object(j.jsx)("p",{"data-test-subj":"indexPatternsWarningDescription"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.indexPatternsWarningDescription",defaultMessage:"All new indices that you create will use this template."})," ",Object(j.jsx)(g.EuiLink,{onClick:t.bind(null,"logistics")},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.indexPatternsWarningLinkText",defaultMessage:"Edit index patterns."})))),Object(j.jsx)(g.EuiSpacer,{size:"m"})):null,Object(j.jsx)(g.EuiTabbedContent,{"data-test-subj":"summaryTabContent",tabs:k}))})),ho=m.a.memo((({getTemplateData:e})=>{const{navigateToStep:t}=ie.g.useFormWizardContext(),{getData:a}=ie.g.useMultiContentContext(),i=e(a());return Object(j.jsx)(jo,{template:i,navigateToStep:t})})),{stripEmptyFields:Mo}=ie.G,{FormWizard:Oo,FormWizardStep:yo}=ie.g,{useGlobalFlyout:vo}=ie.h,Eo={logistics:{id:"logistics",label:i.i18n.translate("xpack.idxMgmt.templateForm.steps.logisticsStepName",{defaultMessage:"Logistics"})},components:{id:"components",label:i.i18n.translate("xpack.idxMgmt.templateForm.steps.componentsStepName",{defaultMessage:"Component templates"})},settings:{id:"settings",label:i.i18n.translate("xpack.idxMgmt.templateForm.steps.settingsStepName",{defaultMessage:"Index settings"})},mappings:{id:"mappings",label:i.i18n.translate("xpack.idxMgmt.templateForm.steps.mappingsStepName",{defaultMessage:"Mappings"})},aliases:{id:"aliases",label:i.i18n.translate("xpack.idxMgmt.templateForm.steps.aliasesStepName",{defaultMessage:"Aliases"})},review:{id:"review",label:i.i18n.translate("xpack.idxMgmt.templateForm.steps.summaryStepName",{defaultMessage:"Review template"})}},ko=({title:e,defaultValue:t,isEditing:a,isSaving:i,isLegacy:s=!1,saveError:n,clearSaveError:l,onSave:o,history:r})=>{const[c,d]=Object(p.useState)(null),{addContent:u,closeFlyout:x}=vo(),b=Object(p.useRef)({mappings:!0,settings:!0,aliases:!0}),h=null!=t?t:{name:"",indexPatterns:[],template:{},_kbnMeta:{type:"default",hasDatastream:!1,isLegacy:s}},{template:{settings:M,mappings:O,aliases:y}={},composedOf:v,_kbnMeta:E,...k}=h,T={logistics:k,settings:M,mappings:O,aliases:y,components:h.composedOf},F={save:a?Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.templateForm.saveButtonLabel",defaultMessage:"Save template"}):Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.templateForm.createButtonLabel",defaultMessage:"Create template"})},S=n?Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(Bl,{title:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.templateForm.saveTemplateError",defaultMessage:"Unable to create template"}),error:n,"data-test-subj":"saveTemplateError"}),Object(j.jsx)(g.EuiSpacer,{size:"m"})):null,_=Object(p.useCallback)((e=>t=>(e=>{const t={...e};return t.template&&(void 0===t.template.settings&&delete t.template.settings,void 0===t.template.mappings&&delete t.template.mappings,void 0===t.template.aliases&&delete t.template.aliases,0===Object.keys(t.template).length&&delete t.template,t.lifecycle&&delete t.lifecycle),t})({...t.logistics,_kbnMeta:e._kbnMeta,composedOf:t.components,template:{settings:t.settings,mappings:t.mappings,aliases:t.aliases,lifecycle:t.logistics.lifecycle?Le(t.logistics.lifecycle):void 0}})),[]),C=Object(p.useCallback)((e=>{d(e)}),[]),L=Object(p.useCallback)((async e=>{const t=_(h)(e);o(Mo(t,{types:["string"]})),l()}),[h,_,o,l]),w=Object(p.useCallback)((async()=>{if(!c)return;if(!await c.validate())return;const e=c.getData();return _(h)(e)}),[_,h,c]),D=Object(p.useCallback)((e=>{b.current=e}),[]),I=()=>{u({id:"simulateTemplate",Component:Gl,props:{getTemplate:w,onClose:x,filters:b.current,onFiltersChange:D},flyoutProps:ql})},P=!0===h._kbnMeta.isLegacy;return Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiPageHeader,{pageTitle:Object(j.jsx)("span",{"data-test-subj":"pageTitle"},e),bottomBorder:!0}),Object(j.jsx)(g.EuiSpacer,{size:"m"}),P&&Object(j.jsx)($l,{history:r,showCta:!0}),Object(j.jsx)(g.EuiSpacer,{size:"s"}),Object(j.jsx)(Oo,{defaultValue:T,onSave:L,isEditing:a,isSaving:i,apiError:S,texts:F,onChange:C,rightContentNav:e=>s||"logistics"===e||"review"===e?null:Object(j.jsx)(g.EuiButton,{size:"s",onClick:I,"data-test-subj":"previewIndexTemplate"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.templateForm.previewIndexTemplateButtonLabel",defaultMessage:"Preview index template"}))},Object(j.jsx)(yo,{id:Eo.logistics.id,label:Eo.logistics.label,isRequired:!0},Object(j.jsx)(co,{isEditing:a,isLegacy:h._kbnMeta.isLegacy})),!P&&Object(j.jsx)(yo,{id:Eo.components.id,label:Eo.components.label},Object(j.jsx)(mo,null)),Object(j.jsx)(yo,{id:Eo.settings.id,label:Eo.settings.label},Object(j.jsx)(Rs,{esDocsBase:te.getEsDocsBase()})),Object(j.jsx)(yo,{id:Eo.mappings.id,label:Eo.mappings.label},Object(j.jsx)(Ns,{esDocsBase:te.getEsDocsBase()})),Object(j.jsx)(yo,{id:Eo.aliases.id,label:Eo.aliases.label},Object(j.jsx)(nt,{esDocsBase:te.getEsDocsBase()})),Object(j.jsx)(yo,{id:Eo.review.id,label:Eo.review.label},Object(j.jsx)(ho,{getTemplateData:_(h)}))))},To=e=>{switch(e){case"green":return"success";case"yellow":return"warning";case"red":return"danger"}},Fo=({health:e})=>Object(j.jsx)(g.EuiHealth,{color:To(e)},e),So=(e,t=[])=>(t.push(e),e.items&&e.items.forEach((e=>{e.panel&&(So(e.panel,t),e.panel=e.panel.id)})),t);class index_actions_context_menu_IndexActionsContextMenu extends p.Component{constructor(e){super(e),o()(this,"closeConfirmModal",(()=>{this.setState({renderConfirmModal:null}),this.props.resetSelection&&this.props.resetSelection()})),o()(this,"confirmAction",(e=>{this.setState({isActionConfirmed:e})})),o()(this,"onButtonClick",(()=>{this.setState((e=>({isPopoverOpen:!e.isPopoverOpen})))})),o()(this,"closePopoverAndExecute",(e=>{this.setState({isPopoverOpen:!1,renderConfirmModal:!1}),e(),this.props.resetSelection&&this.props.resetSelection()})),o()(this,"closePopover",(()=>{this.setState({isPopoverOpen:!1})})),o()(this,"forcemergeSegmentsError",(()=>{const{forcemergeSegments:e}=this.state;return!e||e.match(/^([1-9][0-9]*)?$/)?void 0:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.segmentsNumberErrorMessage",{defaultMessage:"The number of segments must be greater than zero."})})),o()(this,"renderForcemergeSegmentsModal",(()=>{const{forcemergeIndices:e,indexNames:t}=this.props,a=i.i18n.translate("xpack.idxMgmt.indexActionsMenu.forceMerge.forceMergeSegmentsHelpText",{defaultMessage:"Merge the segments in an index until the number is reduced to this or fewer segments. The default is 1."}),s=t.length;return Object(j.jsx)(g.EuiConfirmModal,{title:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.forceMerge.confirmModal.modalTitle",{defaultMessage:"Force merge"}),onCancel:this.closeConfirmModal,onConfirm:()=>{this.forcemergeSegmentsError()||this.closePopoverAndExecute((()=>{e(this.state.forcemergeSegments),this.setState({forcemergeSegments:null,showForcemergeSegmentsModal:null})}))},cancelButtonText:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.forceMerge.confirmModal.cancelButtonText",{defaultMessage:"Cancel"}),confirmButtonText:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.forceMerge.confirmModal.confirmButtonText",{defaultMessage:"Force merge"})},Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.forceMerge.forceMergeDescription",defaultMessage:"You are about to force merge {selectedIndexCount, plural, one {this index} other {these indices} }:",values:{selectedIndexCount:s}})),Object(j.jsx)("ul",null,t.map((e=>Object(j.jsx)("li",{key:e},e)))),Object(j.jsx)(g.EuiCallOut,{title:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.forceMerge.proceedWithCautionCallOutTitle",{defaultMessage:"Proceed with caution!"}),color:"warning",iconType:"help"},Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.forceMerge.forceMergeWarningDescription",defaultMessage:" Don't force-merge indices to which you're still writing, or to which you'll write again in the future. Instead, rely on the automatic background merge process to perform merges as needed to keep the index running smoothly. If you write to a force-merged index then its performance may become much worse. "}))),Object(j.jsx)(g.EuiSpacer,{size:"m"}),Object(j.jsx)(g.EuiForm,{isInvalid:!!this.forcemergeSegmentsError(),error:this.forcemergeSegmentsError()},Object(j.jsx)(g.EuiFormRow,{label:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.forceMerge.maximumNumberOfSegmentsFormRowLabel",{defaultMessage:"Maximum number of segments per shard"}),helpText:a},Object(j.jsx)(g.EuiFieldNumber,{"data-test-subj":"indexActionsForcemergeNumSegments",onChange:e=>{this.setState({forcemergeSegments:e.target.value})},min:1,name:"maxNumberSegments"}))))})),o()(this,"renderConfirmDeleteModal",(()=>{const{deleteIndices:e,indexNames:t}=this.props,a=t.length,s=Object(j.jsx)(p.Fragment,null,Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.deleteIndex.deleteDescription",defaultMessage:"You are about to delete {selectedIndexCount, plural, one {this index} other {these indices} }:",values:{selectedIndexCount:a}})),Object(j.jsx)("ul",null,t.map((e=>Object(j.jsx)("li",{key:e},e)))),Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.deleteIndex.deleteWarningDescription",defaultMessage:"You can't recover a deleted index. Make sure you have appropriate backups."})));return Object(j.jsx)(g.EuiConfirmModal,{title:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.deleteIndex.confirmModal.modalTitle",{defaultMessage:"Delete {selectedIndexCount, plural, one {index} other {# indices} }",values:{selectedIndexCount:a}}),onCancel:()=>{this.confirmAction(!1),this.closeConfirmModal()},onConfirm:()=>this.closePopoverAndExecute(e),buttonColor:"danger",confirmButtonDisabled:!1,cancelButtonText:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.deleteIndex.confirmModal.cancelButtonText",{defaultMessage:"Cancel"}),confirmButtonText:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.deleteIndex.confirmModal.confirmButtonText",{defaultMessage:"Delete {selectedIndexCount, plural, one {index} other {indices} }",values:{selectedIndexCount:a}})},s)})),this.state={isPopoverOpen:!1,renderConfirmModal:null,isActionConfirmed:!1}}panels(){const{services:{extensionsService:e},core:{getUrlForApp:t},history:a,config:{enableIndexActions:n}}=this.context,{closeIndices:l,openIndices:o,flushIndices:r,refreshIndices:c,clearCacheIndices:d,isOnListView:u,indexNames:p,indexStatusByName:m,performExtensionAction:g,indices:x,reloadIndices:b,unfreezeIndices:f}=this.props,j=Object(Me.every)(p,(e=>m[e]===s.h)),h=Object(Me.every)(x,(e=>e.isFrozen)),M=p.length,O=[];u&&1===M&&(O.push({"data-test-subj":"showOverviewIndexMenuButton",name:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.showIndexOverviewLabel",{defaultMessage:"Show index overview"}),onClick:()=>{a.push(Object(Pl.b)(p[0],s.n.Overview))}}),O.push({"data-test-subj":"showSettingsIndexMenuButton",name:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.showIndexSettingsLabel",{defaultMessage:"Show index settings"}),onClick:()=>{a.push(Object(Pl.b)(p[0],s.n.Settings))}}),O.push({"data-test-subj":"showMappingsIndexMenuButton",name:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.showIndexMappingLabel",{defaultMessage:"Show index mapping"}),onClick:()=>{a.push(Object(Pl.b)(p[0],s.n.Mappings))}}),j&&n&&O.push({"data-test-subj":"showStatsIndexMenuButton",name:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.showIndexStatsLabel",{defaultMessage:"Show index stats"}),onClick:()=>{a.push(Object(Pl.b)(p[0],s.n.Stats))}})),j&&n?(O.push({"data-test-subj":"closeIndexMenuButton",name:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.closeIndexLabel",{defaultMessage:"Close {selectedIndexCount, plural, one {index} other {indices} }",values:{selectedIndexCount:M}}),onClick:()=>{this.closePopoverAndExecute(l)}}),O.push({"data-test-subj":"forcemergeIndexMenuButton",name:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.forceMergeIndexLabel",{defaultMessage:"Force merge {selectedIndexCount, plural, one {index} other {indices} }",values:{selectedIndexCount:M}}),onClick:()=>{this.closePopover(),this.setState({renderConfirmModal:this.renderForcemergeSegmentsModal})}}),O.push({"data-test-subj":"refreshIndexMenuButton",name:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.refreshIndexLabel",{defaultMessage:"Refresh {selectedIndexCount, plural, one {index} other {indices} }",values:{selectedIndexCount:M}}),onClick:()=>{this.closePopoverAndExecute(c)}}),O.push({"data-test-subj":"clearCacheIndexMenuButton",name:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.clearIndexCacheLabel",{defaultMessage:"Clear {selectedIndexCount, plural, one {index} other {indices} } cache",values:{selectedIndexCount:M}}),onClick:()=>{this.closePopoverAndExecute(d)}}),O.push({"data-test-subj":"flushIndexMenuButton",name:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.flushIndexLabel",{defaultMessage:"Flush {selectedIndexCount, plural, one {index} other {indices} }",values:{selectedIndexCount:M}}),onClick:()=>{this.closePopoverAndExecute(r)}}),h&&O.push({"data-test-subj":"unfreezeIndexMenuButton",name:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.unfreezeIndexLabel",{defaultMessage:"Unfreeze {selectedIndexCount, plural, one {index} other {indices} }",values:{selectedIndexCount:M}}),onClick:()=>{this.closePopoverAndExecute(f)}})):!j&&n&&O.push({"data-test-subj":"openIndexMenuButton",name:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.openIndexLabel",{defaultMessage:"Open {selectedIndexCount, plural, one {index} other {indices} }",values:{selectedIndexCount:M}}),onClick:()=>{this.closePopoverAndExecute(o)}}),O.push({"data-test-subj":"deleteIndexMenuButton",name:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.deleteIndexLabel",{defaultMessage:"Delete {selectedIndexCount, plural, one {index} other {indices} }",values:{selectedIndexCount:M}}),onClick:()=>{this.closePopover(),this.setState({renderConfirmModal:this.renderConfirmDeleteModal})}}),e.actions.forEach((e=>{const a=e({indices:x,reloadIndices:b,getUrlForApp:t});if(a){const{buttonLabel:e,requestMethod:t,successMessage:i,renderConfirmModal:s}=a;t?O.push({name:e,onClick:()=>{this.closePopoverAndExecute((async()=>{await g(t,i)}))}}):O.push({name:e,onClick:()=>{this.closePopover(),this.setState({renderConfirmModal:s})}})}}));const y={id:0,title:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.panelTitle",{defaultMessage:"{selectedIndexCount, plural, one {Index} other {Indices} } options",values:{selectedIndexCount:M}}),items:O};return So(y)}render(){const{indexNames:e}=this.props,t=e.length,{iconSide:a="right",anchorPosition:s="rightUp",label:n=i.i18n.translate("xpack.idxMgmt.indexActionsMenu.manageButtonLabel",{defaultMessage:"Manage {selectedIndexCount, plural, one {index} other {{selectedIndexCount} indices}}",values:{selectedIndexCount:t}}),iconType:l="arrowDown",fill:o=!0,isLoading:r=!1}=this.props,c=this.panels(),d=Object(j.jsx)(g.EuiButton,{"data-test-subj":"indexActionsContextMenuButton",iconSide:a,"aria-label":i.i18n.translate("xpack.idxMgmt.indexActionsMenu.manageButtonAriaLabel",{defaultMessage:"{selectedIndexCount, plural, one {index} other {indices} } options",values:{selectedIndexCount:t}}),onClick:this.onButtonClick,iconType:l,fill:o,isLoading:r},n);return Object(j.jsx)("div",null,this.state.renderConfirmModal?this.state.renderConfirmModal(this.closeConfirmModal):null,Object(j.jsx)(g.EuiPopover,{id:"contextMenuIndices",button:d,isOpen:this.state.isPopoverOpen,closePopover:this.closePopover,panelPaddingSize:"none",anchorPosition:s,repositionOnScroll:!0},Object(j.jsx)(g.EuiContextMenu,{"data-test-subj":"indexContextMenu",initialPanelId:0,panels:c})))}}o()(index_actions_context_menu_IndexActionsContextMenu,"contextType",Pe);const _o=Object(Se.connect)(((e,t)=>{const a={},{indexNames:i}=t;return i.forEach((t=>{a[t]=((e,t)=>{const a=Qn(e),{status:i}=a[t]||{};return i})(e,t)})),{indexStatusByName:a,indices:al(e,i)}}),((e,{indexNames:t})=>({clearCacheIndices:()=>{e((({indexNames:e})=>async t=>{t(ml({indexNames:e}));try{await be(e)}catch(a){return Fe.showDangerToast(a.body.message),t(gl({indexNames:e}))}t(Fl(e)),Fe.showSuccessToast(i.i18n.translate("xpack.idxMgmt.clearCacheIndicesAction.successMessage",{defaultMessage:"Successfully cleared cache for {count, plural, one {# index} other {# indices} }",values:{count:e.length}}))})({indexNames:t}))},closeIndices:()=>{e((({indexNames:e})=>async t=>{t(xl({indexNames:e}));try{await de(e)}catch(a){return Fe.showDangerToast(a.body.message),t(gl({indexNames:e}))}t(Fl(e)),Fe.showSuccessToast(i.i18n.translate("xpack.idxMgmt.closeIndicesAction.successfullyClosedIndicesMessage",{defaultMessage:"Successfully closed {count, plural, one {# index} other {# indices} }",values:{count:e.length}}))})({indexNames:t}))},flushIndices:()=>{e((({indexNames:e})=>async t=>{t(fl({indexNames:e}));try{await ge(e)}catch(a){return Fe.showDangerToast(a.body.message),t(gl({indexNames:e}))}t(Fl(e)),Fe.showSuccessToast(i.i18n.translate("xpack.idxMgmt.flushIndicesAction.successfullyFlushedIndicesMessage",{defaultMessage:"Successfully flushed {count, plural, one {# index} other {# indices} }",values:{count:e.length}}))})({indexNames:t}))},openIndices:()=>{e((({indexNames:e})=>async t=>{t(vl({indexNames:e}));try{await pe(e)}catch(a){return Fe.showDangerToast(a.body.message),t(gl({indexNames:e}))}t(Fl(e)),Fe.showSuccessToast(i.i18n.translate("xpack.idxMgmt.openIndicesAction.successfullyOpenedIndicesMessage",{defaultMessage:"Successfully opened {count, plural, one {# index} other {# indices} }",values:{count:e.length}}))})({indexNames:t}))},refreshIndices:()=>{e((({indexNames:e})=>async t=>{t(El({indexNames:e}));try{await me(e)}catch(a){return Fe.showDangerToast(a.body.message),t(gl({indexNames:e}))}t(Fl(e)),Fe.showSuccessToast(i.i18n.translate("xpack.idxMgmt.refreshIndicesAction.successfullyRefreshedIndicesMessage",{defaultMessage:"Successfully refreshed {count, plural, one {# index} other {# indices} }",values:{count:e.length}}))})({indexNames:t}))},unfreezeIndices:()=>{e((({indexNames:e})=>async t=>{t(kl({indexNames:e}));try{await fe(e)}catch(a){return Fe.showDangerToast(a.body.message),t(gl({indexNames:e}))}t(Fl(e)),Fe.showSuccessToast(i.i18n.translate("xpack.idxMgmt.unfreezeIndicesAction.successfullyUnfrozeIndicesMessage",{defaultMessage:"Successfully unfroze: [{indexNames}]",values:{indexNames:e.join(", ")}}))})({indexNames:t}))},forcemergeIndices:a=>{e((({indexNames:e,maxNumSegments:t})=>async a=>{a(jl({indexNames:e}));try{await xe(e,t)}catch(t){return Fe.showDangerToast(t.body.message),a(gl({indexNames:e}))}a(Fl(e)),Fe.showSuccessToast(i.i18n.translate("xpack.idxMgmt.forceMergeIndicesAction.successfullyForceMergedIndicesMessage",{defaultMessage:"Successfully force merged {count, plural, one {# index} other {# indices} }",values:{count:e.length}}))})({indexNames:t,maxNumSegments:a}))},deleteIndices:()=>{e((({indexNames:e})=>async t=>{try{await ue(e)}catch(a){return Fe.showDangerToast(a.body.message),t(gl({indexNames:e}))}Fe.showSuccessToast(i.i18n.translate("xpack.idxMgmt.deleteIndicesAction.successfullyDeletedIndicesMessage",{defaultMessage:"Successfully deleted {count, plural, one {# index} other {# indices} }",values:{count:e.length}})),t(bl({indexNames:e}))})({indexNames:t}))},reloadIndices:()=>{e(Fl(t))},performExtensionAction:(a,i)=>{e((({requestMethod:e,indexNames:t,successMessage:a})=>async i=>{try{await e(t,se.httpClient)}catch(e){return void Fe.showDangerToast(e.message)}i(Fl(t)),Fe.showSuccessToast(a)})({requestMethod:a,successMessage:i,indexNames:t}))}})))(index_actions_context_menu_IndexActionsContextMenu);function Co(e){const t=encodeURI(e).split(/%(?:u[0-9A-F]{2})?[0-9A-F]{2}|./).length-1,a=new RegExp('[\\\\/:*?"<>|\\s,#]+');return!(t>255||e!==e.toLowerCase()||null!==e.match(/^[-_+.]/)||null!==e.match(a)||0===e.length)}const Lo=i.i18n.translate("xpack.idxMgmt.createIndex.modal.invalidName.error",{defaultMessage:"Index name is not valid"}),wo=({closeModal:e,loadIndices:t})=>{const[a,n]=Object(p.useState)(""),[l,o]=Object(p.useState)(),[r,c]=Object(p.useState)(!1),[d,u]=Object(p.useState)(),x=Object(p.useCallback)((async()=>{c(!0);try{const{error:n}=await function(e){return ne({path:`${s.k}/indices/create`,method:"put",body:JSON.stringify({indexName:e})})}(a);if(c(!1),!n)return t(),e(),void Fe.showSuccessToast(i.i18n.translate("xpack.idxMgmt.createIndex.successfullyCreatedIndexMessage",{defaultMessage:"Successfully created index: {indexName}",values:{indexName:a}}));u(n.message)}catch(e){c(!1),u(e.message)}}),[e,a,t]);return Object(j.jsx)(g.EuiModal,{onClose:e,initialFocus:"[name=indexName]"},Object(j.jsx)(g.EuiModalHeader,null,Object(j.jsx)(g.EuiModalHeaderTitle,null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.createIndex.modal.title",defaultMessage:"Create index"}))),Object(j.jsx)(g.EuiModalBody,null,d&&Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiCallOut,{color:"danger",iconType:"error",title:i.i18n.translate("xpack.idxMgmt.createIndex.modal.error.title",{defaultMessage:"Error creating index"})},Object(j.jsx)(g.EuiText,null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.createIndex.modal.error.description",defaultMessage:"Error creating index: {errorMessage}",values:{errorMessage:d}}))),Object(j.jsx)(g.EuiSpacer,null)),Object(j.jsx)(g.EuiForm,{id:"createIndexModalForm",component:"form"},Object(j.jsx)(g.EuiFormRow,{fullWidth:!0,label:i.i18n.translate("xpack.idxMgmt.createIndex.modal.indexName.label",{defaultMessage:"Index name"}),isDisabled:r,isInvalid:void 0!==l,error:l},Object(j.jsx)(g.EuiFieldText,{fullWidth:!0,name:"indexName",value:a,onChange:e=>{return t=e.target.value,n(t),void(Co(t)?l&&o(void 0):o(Lo));var t},"data-test-subj":"createIndexNameFieldText"})))),Object(j.jsx)(g.EuiModalFooter,null,Object(j.jsx)(g.EuiButtonEmpty,{onClick:e,disabled:r,"data-test-subj":"createIndexCancelButton","data-telemetry-id":"idxMgmt-indexList-createIndex-cancelButton"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.createIndex.modal.cancelButton",defaultMessage:"Cancel"})),Object(j.jsx)(g.EuiButton,{fill:!0,disabled:void 0!==l,isLoading:r,type:"submit",onClick:()=>{Co(a)&&x()},form:"createIndexModalForm","data-test-subj":"createIndexSaveButton","data-telemetry-id":"idxMgmt-indexList-createIndex-saveButton"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.createIndex.modal.saveButton",defaultMessage:"Save"}))))},Do=({loadIndices:e})=>{const[t,a]=Object(p.useState)(!1);return Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiButton,{fill:!0,iconType:"plusInCircleFilled",onClick:()=>a(!0),key:"createIndexButton","data-test-subj":"createIndexButton","data-telemetry-id":"idxMgmt-indexList-createIndexButton"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.indexTable.createIndexButton",defaultMessage:"Create index"})),t&&Object(j.jsx)(wo,{closeModal:()=>a(!1),loadIndices:e}))},Io=({showIndexStats:e})=>{const t={};return t.name=i.i18n.translate("xpack.idxMgmt.indexTable.headers.nameHeader",{defaultMessage:"Name"}),e&&(t.health=i.i18n.translate("xpack.idxMgmt.indexTable.headers.healthHeader",{defaultMessage:"Health"}),t.status=i.i18n.translate("xpack.idxMgmt.indexTable.headers.statusHeader",{defaultMessage:"Status"}),t.primary=i.i18n.translate("xpack.idxMgmt.indexTable.headers.primaryHeader",{defaultMessage:"Primaries"}),t.replica=i.i18n.translate("xpack.idxMgmt.indexTable.headers.replicaHeader",{defaultMessage:"Replicas"}),t.documents=i.i18n.translate("xpack.idxMgmt.indexTable.headers.documentsHeader",{defaultMessage:"Docs count"}),t.size=i.i18n.translate("xpack.idxMgmt.indexTable.headers.storageSizeHeader",{defaultMessage:"Storage size"})),t.data_stream=i.i18n.translate("xpack.idxMgmt.indexTable.headers.dataStreamHeader",{defaultMessage:"Data stream"}),t};class index_table_IndexTable extends p.Component{static getDerivedStateFromProps(e,t){const{selectedIndicesMap:a}=t,i=e.indices.map((e=>e.name)),s=Object.keys(a).filter((e=>!i.includes(e)));if(s.length){const e={...a};return s.forEach((t=>delete e[t])),{selectedIndicesMap:e}}return null}constructor(e){super(e),o()(this,"onSort",(e=>{const{sortField:t,isSortAscending:a,sortChanged:i}=this.props;i(e,t!==e||!a)})),o()(this,"onFilterChanged",(({query:e,error:t})=>{t?this.setState({filterError:t}):(this.props.filterChanged(e),this.setState({filterError:null}))})),o()(this,"getFilters",(e=>{const{allIndices:t}=this.props;return e.filters.reduce(((e,a)=>[...e,...a(t)]),[])})),o()(this,"toggleAll",(()=>{if(this.areAllItemsSelected())return this.setState({selectedIndicesMap:{}});const{indices:e}=this.props,t={};e.forEach((({name:e})=>{t[e]=!0})),this.setState({selectedIndicesMap:t})})),o()(this,"toggleItem",(e=>{this.setState((({selectedIndicesMap:t})=>{const a={...t};return a[e]?delete a[e]:a[e]=!0,{selectedIndicesMap:a}}))})),o()(this,"isItemSelected",(e=>!!this.state.selectedIndicesMap[e])),o()(this,"areAllItemsSelected",(()=>{const{indices:e}=this.props;return-1===e.findIndex((e=>!this.isItemSelected(e.name)))})),o()(this,"onItemSelectionChanged",(e=>{this.setState({selectedIndices:e})})),this.state={selectedIndicesMap:{}}}componentDidMount(){this.props.loadIndices(),this.interval=setInterval((()=>this.props.reloadIndices(this.props.indices.map((e=>e.name)),{asSystemRequest:!0})),3e4);const{location:e,filterChanged:t}=this.props,{filter:a}=Yn.a.parse(e&&e.search||"");if(a){const e=Object(ie.v)(a);try{t(g.EuiSearchBar.Query.parse(e))}catch(e){this.setState({filterError:e})}}}componentWillUnmount(){this.props.filterChanged(""),clearInterval(this.interval)}readURLParams(){const{location:e}=this.props,{includeHiddenIndices:t}=Yn.a.parse(e&&e.search||"");return{includeHiddenIndices:"true"===t}}setIncludeHiddenParam(e){const{pathname:t,search:a}=this.props.location,i=Yn.a.parse(a);e?i.includeHiddenIndices="true":delete i.includeHiddenIndices,this.props.history.push(t+"?"+Yn.a.stringify(i))}renderFilterError(){const{filterError:e}=this.state;if(e)return Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiSpacer,null),Object(j.jsx)(g.EuiCallOut,{iconType:"faceSad",color:"danger",title:i.i18n.translate("xpack.idxMgmt.indexTable.invalidSearchErrorMessage",{defaultMessage:"Invalid search: {errorMessage}",values:{errorMessage:e.message}})}),Object(j.jsx)(g.EuiSpacer,null))}buildHeader(e){const{sortField:t,isSortAscending:a}=this.props,i=Io({showIndexStats:e.enableIndexStats});return Object.entries(i).map((([i,s])=>{const n=t===i,l="name"===i&&e.enableIndexStats?"indTable__header__width":"";return Object(j.jsx)(g.EuiTableHeaderCell,{key:i,onSort:()=>this.onSort(i),isSorted:n,isSortAscending:a,className:l,"data-test-subj":`indexTableHeaderCell-${i}`},s)}))}buildRowCell(e,t,a,i){const{filterChanged:s,history:n}=this.props;return"health"===e?Object(j.jsx)(Fo,{health:t}):"name"===e?Object(j.jsx)(p.Fragment,null,Object(j.jsx)(g.EuiLink,{"data-test-subj":"indexTableIndexNameLink",onClick:()=>n.push(Object(Pl.b)(t))},t),Nl(a,i.extensionsService,s)):"data_stream"===e&&t?Object(j.jsx)(g.EuiLink,Ue()({"data-test-subj":"dataStreamLink"},Object(ie.E)(n,{pathname:Object(Pl.a)(t),search:"?isDeepLink=true"})),t):"documents"===e&&t?Number(t).toLocaleString():t}buildRowCells(e,t,a){const i=Io({showIndexStats:a.enableIndexStats});return Object.keys(i).map((a=>{const{name:i}=e,s=e[a];return"name"===a?Object(j.jsx)("th",{key:`${a}-${i}`,className:"euiTableRowCell",scope:"row","data-test-subj":`indexTableCell-${a}`},Object(j.jsx)("div",{className:`euiTableCellContent indTable__cell--${a}`},Object(j.jsx)("span",{className:"eui-textLeft"},this.buildRowCell(a,s,e,t)))):Object(j.jsx)(g.EuiTableRowCell,{key:`${a}-${i}`,truncateText:!1,"data-test-subj":`indexTableCell-${a}`,className:"indTable__cell--"+a,header:a},this.buildRowCell(a,s,e,t))}))}renderBanners(e){const{allIndices:t=[],filterChanged:a}=this.props;return e.banners.map(((e,i)=>{const s=e(t);if(!s)return null;const{type:n,title:l,message:o,filter:r,filterLabel:c}=s;return Object(j.jsx)(p.Fragment,{key:`bannerExtension${i}`},Object(j.jsx)(g.EuiCallOut,{color:n,size:"m",title:l},Object(j.jsx)(g.EuiText,null,o,r?Object(j.jsx)(g.EuiLink,{onClick:()=>a(r)},c):null)),Object(j.jsx)(g.EuiSpacer,{size:"m"}))}))}buildRows(e,t){const{indices:a=[]}=this.props;return a.map((a=>{const{name:s}=a;return Object(j.jsx)(g.EuiTableRow,{"data-test-subj":"indexTableRow",isSelected:this.isItemSelected(s),isSelectable:!0,key:`${s}-row`},Object(j.jsx)(g.EuiTableRowCellCheckbox,{key:`checkbox-${s}`},Object(j.jsx)(g.EuiCheckbox,{type:"inList",id:`checkboxSelectIndex-${s}`,checked:this.isItemSelected(s),onChange:()=>{this.toggleItem(s)},"data-test-subj":"indexTableRowCheckbox","aria-label":i.i18n.translate("xpack.idxMgmt.indexTable.selectIndexAriaLabel",{defaultMessage:"Select this row"})})),this.buildRowCells(a,e,t))}))}renderPager(){const{pager:e,pageChanged:t,pageSizeChanged:a}=this.props;return Object(j.jsx)(g.EuiTablePagination,{activePage:e.getCurrentPageIndex(),itemsPerPage:e.itemsPerPage,itemsPerPageOptions:[10,50,100],pageCount:e.getTotalPages(),onChangeItemsPerPage:a,onChangePage:t})}renderToggleControl({name:e,label:t}){const{toggleNameToVisibleMap:a,toggleChanged:i}=this.props;return Object(j.jsx)(g.EuiFlexItem,{key:e,grow:!1},Object(j.jsx)(g.EuiSwitch,{id:`checkboxToggles-${e}`,"data-test-subj":`checkboxToggles-${e}`,checked:a[e],onChange:t=>i(e,t.target.checked),label:t}))}render(){const{filter:e,indices:t,loadIndices:a,indicesLoading:s,indicesError:n,allIndices:l,pager:o}=this.props,{includeHiddenIndices:r}=this.readURLParams();if(s||n){if(s)return Object(j.jsx)(ie.n,null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.indexTable.loadingIndicesDescription",defaultMessage:"Loading indices…"}));if(n)return 403===n.status?Object(j.jsx)(ie.m,{title:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.pageErrorForbidden.title",defaultMessage:"You do not have permissions to use Index Management"})}):Object(j.jsx)(ie.m,{title:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.indexTable.serverErrorTitle",defaultMessage:"Error loading indices"}),error:n.body})}const{selectedIndicesMap:c}=this.state,d=Object.keys(c).length>0;return Object(j.jsx)(Be,null,(({services:u,config:m})=>{const{extensionsService:x}=u;return Object(j.jsx)(g.EuiPageSection,{paddingSize:"none"},Object(j.jsx)(g.EuiFlexGroup,{alignItems:"center"},Object(j.jsx)(g.EuiFlexItem,{grow:!0},Object(j.jsx)(g.EuiText,{color:"subdued"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.home.idxMgmtDescription",defaultMessage:"Update your Elasticsearch indices individually or in bulk. {learnMoreLink}",values:{learnMoreLink:Object(j.jsx)(g.EuiLink,{href:te.getIdxMgmtDocumentationLink(),target:"_blank",external:!0},i.i18n.translate("xpack.idxMgmt.indexTableDescription.learnMoreLinkText",{defaultMessage:"Learn more."}))}}))),Object(j.jsx)(g.EuiFlexItem,{grow:!1},s&&0===l.length||n?null:Object(j.jsx)(g.EuiFlexGroup,null,x.toggles.map((e=>this.renderToggleControl(e))),Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(g.EuiSwitch,{id:"checkboxShowHiddenIndices","data-test-subj":"indexTableIncludeHiddenIndicesToggle",checked:r,onChange:e=>this.setIncludeHiddenParam(e.target.checked),label:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.indexTable.hiddenIndicesSwitchLabel",defaultMessage:"Include hidden indices"})}))))),Object(j.jsx)(g.EuiSpacer,{size:"l"}),this.renderBanners(x),Object(j.jsx)(g.EuiFlexGroup,{gutterSize:"l",alignItems:"center"},d?Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(He,{key:"menu",render:()=>Object(j.jsx)(_o,{indexNames:Object.keys(c),isOnListView:!0,resetSelection:()=>{this.setState({selectedIndicesMap:{}})}})})):null,s&&0===l.length||n?null:Object(j.jsx)(p.Fragment,null,Object(j.jsx)(g.EuiFlexItem,null,Object(j.jsx)(g.EuiSearchBar,{filters:this.getFilters(x).length>0?this.getFilters(x):null,defaultQuery:e,query:e,box:{incremental:!0,placeholder:i.i18n.translate("xpack.idxMgmt.indexTable.systemIndicesSearchInputPlaceholder",{defaultMessage:"Search"})},"aria-label":i.i18n.translate("xpack.idxMgmt.indexTable.systemIndicesSearchIndicesAriaLabel",{defaultMessage:"Search indices"}),"data-test-subj":"indexTableFilterInput",onChange:this.onFilterChanged})),Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(g.EuiButton,{isLoading:s,color:"success",onClick:()=>{a()},iconType:"refresh","data-test-subj":"reloadIndicesButton"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.indexTable.reloadIndicesButton",defaultMessage:"Reload indices"})))),Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(Do,{loadIndices:a}))),this.renderFilterError(),Object(j.jsx)(g.EuiSpacer,{size:"m"}),t.length>0?Object(j.jsx)("div",{style:{maxWidth:"100%",overflow:"auto"}},Object(j.jsx)(g.EuiTable,{className:"indTable","data-test-subj":"indexTable"},Object(j.jsx)(g.EuiScreenReaderOnly,null,Object(j.jsx)("caption",{role:"status","aria-relevant":"text","aria-live":"polite"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.indexTable.captionText",defaultMessage:"Below is the indices table containing {count, plural, one {# row} other {# rows}} out of {total}.",values:{count:t.length,total:o.totalItems}}))),Object(j.jsx)(g.EuiTableHeader,null,Object(j.jsx)(g.EuiTableHeaderCellCheckbox,null,Object(j.jsx)(g.EuiCheckbox,{id:"selectAllIndexes",checked:this.areAllItemsSelected(),onChange:this.toggleAll,type:"inList","aria-label":i.i18n.translate("xpack.idxMgmt.indexTable.selectAllIndicesAriaLabel",{defaultMessage:"Select all rows"})})),this.buildHeader(m)),Object(j.jsx)(g.EuiTableBody,null,this.buildRows(u,m)))):Object(j.jsx)(Rl,null),Object(j.jsx)(g.EuiSpacer,{size:"m"}),t.length>0?this.renderPager():null)}))}}const Po=Object(ze.withRouter)(Object(Se.connect)(((e,t)=>({allIndices:tl(e),indices:rl(e,t),pager:ol(e,t),filter:cl(e),sortField:ul(e),isSortAscending:dl(e),indicesLoading:Zn(e),indicesError:el(e),toggleNameToVisibleMap:il(e).toggleNameToVisibleMap})),(e=>({filterChanged:t=>{e(Sl({filter:t}))},pageChanged:t=>{e(_l({pageNumber:t}))},pageSizeChanged:t=>{e(Cl({pageSize:t}))},sortChanged:(t,a)=>{e(Ll({sortField:t,isSortAscending:a}))},toggleChanged:(t,a)=>{e(wl({toggleName:t,toggleValue:a}))},loadIndices:()=>{e(yl())},reloadIndices:(t,a)=>{e(Fl(t,a))}})))(index_table_IndexTable)),No=({history:e})=>{const{core:{executionContext:t}}=Re();return Object(ie.I)(t,{type:"application",page:"indexManagementIndicesTab"}),Object(p.useEffect)((()=>{c.setBreadcrumbs(r.indices)}),[]),Object(j.jsx)("div",{className:`${ie.a} im-snapshotTestSubject`,"data-test-subj":"indicesList"},Object(j.jsx)(Po,{history:e}))},Bo=({children:e})=>{const{apiError:t}=Object(ie.H)();return t?Object(j.jsx)(ie.m,{title:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.home.enrichPolicies.checkingPrivilegesErrorMessage",defaultMessage:"Error fetching user privileges from the server."}),error:t}):Object(j.jsx)(ie.u,{privileges:Il.map((e=>`cluster.${e}`))},(({isLoading:t,hasPrivileges:a,privilegesMissing:i})=>t?Object(j.jsx)(ie.n,null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.home.enrichPolicies.checkingPrivilegesDescription",defaultMessage:"Checking privileges…"})):a?Object(j.jsx)(m.a.Fragment,null,e):Object(j.jsx)(ie.k,{dataTestSubj:"enrichPoliciesInsuficientPrivileges",title:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.home.enrichPolicies.deniedPrivilegeTitle",defaultMessage:"Manage enrich privileges required"}),message:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.home.enrichPolicies.deniedPrivilegeDescription",defaultMessage:"To use Enrich Policies, you must have the following cluster privileges: {missingPrivileges}.",values:{missingPrivileges:i.cluster.join(", ")}})})))},Ro=({children:e})=>{const{services:{httpService:{httpClient:t}}}=Re();return Object(j.jsx)(ie.b,{privilegesEndpoint:`${s.k}/enrich_policies/privileges`,httpClient:t},e)},Ao={initialPageSize:50,pageSizeOptions:[25,50,100]},zo=({policies:e,onReloadClick:t,onDeletePolicyClick:a,onExecutePolicyClick:s})=>{const{history:n}=Re(),l={toolsRight:[Object(j.jsx)(g.EuiButton,{key:"reloadPolicies","data-test-subj":"reloadPoliciesButton",iconType:"refresh",color:"success",onClick:t},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.enrichPolicies.table.reloadButton",defaultMessage:"Reload"})),Object(j.jsx)(g.EuiButton,Ue()({key:"createPolicy",fill:!0,iconType:"plusInCircle"},Object(R.reactRouterNavigate)(n,"/enrich_policies/create")),Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.enrichPolicies.table.createPolicyButton",defaultMessage:"Create enrich policy"}))],box:{incremental:!0}},o=[{field:"name",name:i.i18n.translate("xpack.idxMgmt.enrichPolicies.table.nameField",{defaultMessage:"Name"}),sortable:!0,truncateText:!0,render:e=>Object(j.jsx)(g.EuiLink,Ue()({"data-test-subj":"enrichPolicyDetailsLink"},Object(R.reactRouterNavigate)(n,{pathname:"/enrich_policies",search:`policy=${encodeURIComponent(e)}`})),e)},{field:"type",name:i.i18n.translate("xpack.idxMgmt.enrichPolicies.table.typeField",{defaultMessage:"Type"}),sortable:!0},{field:"sourceIndices",name:i.i18n.translate("xpack.idxMgmt.enrichPolicies.table.sourceIndicesField",{defaultMessage:"Source indices"}),truncateText:!0,render:e=>Object(j.jsx)("span",{className:"eui-textTruncate"},e.join(", "))},{field:"matchField",name:i.i18n.translate("xpack.idxMgmt.enrichPolicies.table.matchFieldField",{defaultMessage:"Match field"}),truncateText:!0},{field:"enrichFields",name:i.i18n.translate("xpack.idxMgmt.enrichPolicies.table.enrichFieldsField",{defaultMessage:"Enrich fields"}),truncateText:!0,render:e=>Object(j.jsx)("span",{className:"eui-textTruncate"},e.join(", "))},{name:i.i18n.translate("xpack.idxMgmt.enrichPolicies.table.actionsField",{defaultMessage:"Actions"}),actions:[{isPrimary:!0,name:i.i18n.translate("xpack.idxMgmt.enrichPolicies.table.executeAction",{defaultMessage:"Execute"}),description:i.i18n.translate("xpack.idxMgmt.enrichPolicies.table.executeDescription",{defaultMessage:"Execute this enrich policy"}),type:"icon",icon:"play","data-test-subj":"executePolicyButton",onClick:({name:e})=>s(e)},{isPrimary:!0,name:i.i18n.translate("xpack.idxMgmt.enrichPolicies.table.deleteAction",{defaultMessage:"Delete"}),description:i.i18n.translate("xpack.idxMgmt.enrichPolicies.table.deleteDescription",{defaultMessage:"Delete this enrich policy"}),type:"icon",icon:"trash",color:"danger","data-test-subj":"deletePolicyButton",onClick:({name:e})=>a(e)}]}];return Object(j.jsx)(g.EuiInMemoryTable,{"data-test-subj":"enrichPoliciesTable",items:e,itemId:"name",columns:o,search:l,pagination:Ao,sorting:!0,isSelectable:!1})},Vo=({policyToDelete:e,callback:t})=>{const a=Object(p.useRef)(!1),{services:{notificationService:n}}=Re(),[l,o]=Object(p.useState)(!1);return Object(p.useEffect)((()=>(a.current=!0,()=>{a.current=!1})),[]),Object(j.jsx)(g.EuiConfirmModal,{buttonColor:"danger","data-test-subj":"deletePolicyModal",title:i.i18n.translate("xpack.idxMgmt.enrichPolicies.deleteModal.confirmTitle",{defaultMessage:"Delete enrich policy"}),onCancel:()=>{t()},onConfirm:()=>{o(!0),async function(e){return ne({path:`${s.k}/enrich_policies/${e}`,method:"delete"})}(e).then((({data:a,error:s})=>{if(a){const a=i.i18n.translate("xpack.idxMgmt.enrichPolicies.deleteModal.successDeleteNotificationMessage",{defaultMessage:"Deleted {policyToDelete}",values:{policyToDelete:e}});return n.showSuccessToast(a),t({hasDeletedPolicy:!0})}if(s){const e=i.i18n.translate("xpack.idxMgmt.enrichPolicies.deleteModal.errorDeleteNotificationMessage",{defaultMessage:"Error deleting enrich policy: '{error}'",values:{error:s.message}});n.showDangerToast(e)}t()})).finally((()=>{a.current&&o(!1)}))},cancelButtonText:i.i18n.translate("xpack.idxMgmt.enrichPolicies.deleteModal.cancelButton",{defaultMessage:"Cancel"}),confirmButtonText:i.i18n.translate("xpack.idxMgmt.enrichPolicies.deleteModal.deleteButton",{defaultMessage:"Delete"}),confirmButtonDisabled:l},Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.enrichPolicies.deleteModal.bodyCopy",defaultMessage:"You are about to delete the enrich policy {policy}. This action is irreversible.",values:{policy:Object(j.jsx)("strong",null,e)}})))},Uo=({policyToExecute:e,callback:t})=>{const a=Object(p.useRef)(!1),{services:{notificationService:n}}=Re(),[l,o]=Object(p.useState)(!1);return Object(p.useEffect)((()=>(a.current=!0,()=>{a.current=!1})),[]),Object(j.jsx)(g.EuiConfirmModal,{"data-test-subj":"executePolicyModal",title:i.i18n.translate("xpack.idxMgmt.enrichPolicies.executeModal.confirmTitle",{defaultMessage:"Execute enrich policy"}),onCancel:()=>{t()},onConfirm:()=>{o(!0),async function(e){return ne({path:`${s.k}/enrich_policies/${e}`,method:"put"})}(e).then((({data:a,error:s})=>{if(a){const a=i.i18n.translate("xpack.idxMgmt.enrichPolicies.executeModal.successExecuteNotificationMessage",{defaultMessage:"Executed {policyToExecute}",values:{policyToExecute:e}});return n.showSuccessToast(a),t({hasExecutedPolicy:!0})}if(s){const e=i.i18n.translate("xpack.idxMgmt.enrichPolicies.executeModal.errorExecuteNotificationMessage",{defaultMessage:"Error executing enrich policy: '{error}'",values:{error:s.message}});n.showDangerToast(e)}t()})).finally((()=>{a.current&&o(!1)}))},cancelButtonText:i.i18n.translate("xpack.idxMgmt.enrichPolicies.executeModal.cancelButton",{defaultMessage:"Cancel"}),confirmButtonText:i.i18n.translate("xpack.idxMgmt.enrichPolicies.executeModal.executeButton",{defaultMessage:"Execute"}),confirmButtonDisabled:l},Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.enrichPolicies.executeModal.bodyCopy",defaultMessage:"You are about to execute the enrich policy {policy}.",values:{policy:Object(j.jsx)("strong",null,e)}})))},qo=({error:e,resendRequest:t})=>Object(j.jsx)(g.EuiPageTemplate.EmptyPrompt,{color:"danger",iconType:"error","data-test-subj":"sectionError",title:Object(j.jsx)("h2",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.enrichPolicies.list.errorTitle",defaultMessage:"Unable to load enrich policies"})),body:Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiText,{color:"subdued"},Object(j.jsx)("p",{className:"eui-textBreakWord"},(null==e?void 0:e.message)||(null==e?void 0:e.error))),Object(j.jsx)(g.EuiSpacer,null),Object(j.jsx)(g.EuiButton,{iconSide:"right",onClick:t,iconType:"refresh",color:"danger"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.enrichPolicies.list.errorReloadButton",defaultMessage:"Reload"})))});a(132),a(137);const Wo=e=>{const{className:t,size:a,...i}=e,s={};return(e=>void 0===e.iconType)(e)&&(s.iconType=`logo${e.name.replace(/\s+/g,"")}`),Object(j.jsx)(g.EuiAvatar,Ue()({className:Zi()("kbnSolutionAvatar",{[`kbnSolutionAvatar--${a}`]:a},t),size:"xxl"===a?"xl":a,iconSize:a,color:"plain"},i,s))};a(142);const Go=i.i18n.translate("sharedUXPackages.solutionNav.collapsibleLabel",{defaultMessage:"Collapse side navigation"}),$o=i.i18n.translate("sharedUXPackages.solutionNav.openLabel",{defaultMessage:"Open side navigation"}),Ho=({className:e,isCollapsed:t,...a})=>{const i=Zi()("kbnSolutionNavCollapseButton",{"kbnSolutionNavCollapseButton-isCollapsed":t},e);return Object(j.jsx)(g.EuiButtonIcon,Ue()({className:i,size:"s",color:"text",iconType:t?"menuRight":"menuLeft","aria-label":t?$o:Go,title:t?$o:Go},a))},Jo=(e,t)=>e.map((e=>(e.tabIndex=t?-1:void 0,e.items=e.items&&Jo(e.items,t),e))),Yo=Object(g.htmlIdGenerator)("SolutionNav"),Xo=({children:e,headingProps:t,icon:a,isOpenOnDesktop:s=!1,items:n,mobileBreakpoints:l=["xs","s"],closeFlyoutButtonPosition:o="outside",name:r,onCollapse:c,canBeCollapsed:d=!0,...u})=>{const x=Object(g.useIsWithinBreakpoints)(l),b=Object(g.useIsWithinBreakpoints)(["m"]),h=Object(g.useIsWithinMinBreakpoint)("l"),[M,O]=Object(p.useState)(!1),y=h&&!s&&d,v=!!e,E=Zi()("kbnSolutionNav",{"kbnSolutionNav--hidden":y}),k=(null==t?void 0:t.id)||Yo("heading"),T=(null==t?void 0:t.element)||"h2",F=Object(j.jsx)(g.EuiTitle,{size:"xs",id:k,"data-test-subj":null==t?void 0:t["data-test-subj"],className:"kbnSolutionNav__title"},Object(j.jsx)(T,null,a&&Object(j.jsx)(Wo,{className:"kbnSolutionNav__titleAvatar",iconType:a,name:r}),Object(j.jsx)("strong",null,Object(j.jsx)(f.FormattedMessage,{id:"sharedUXPackages.solutionNav.mobileTitleText",defaultMessage:"{solutionName} {menuText}",values:{solutionName:r||"Navigation",menuText:x?i.i18n.translate("sharedUXPackages.solutionNav.menuText",{defaultMessage:"menu"}):""}})))),S=Object(p.useMemo)((()=>v?e:n?Object(j.jsx)(g.EuiSideNav,Ue()({"aria-labelledby":k,"aria-hidden":y,items:Jo(n,y),mobileBreakpoints:[]},u)):null),[e,k,v,y,n,u]);return Object(j.jsx)(m.a.Fragment,null,x&&Object(j.jsx)(g.EuiCollapsibleNavGroup,{className:E,paddingSize:"none",background:"none",title:F,titleElement:"span",isCollapsible:d,initialIsOpen:!1},Object(j.jsx)(g.EuiPanel,{color:"transparent",paddingSize:"s"},S)),b&&Object(j.jsx)(m.a.Fragment,null,(M||!d)&&Object(j.jsx)(g.EuiFlyout,{ownFocus:!1,outsideClickCloses:!0,onClose:()=>O(!1),side:"left",size:248,closeButtonPosition:o,className:"kbnSolutionNav__flyout",hideCloseButton:!d},Object(j.jsx)("div",{className:E},F,Object(j.jsx)(g.EuiSpacer,{size:"l"}),S)),d&&Object(j.jsx)(Ho,{isCollapsed:!0,onClick:()=>{O(!M)}})),h&&Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)("div",{className:E},F,Object(j.jsx)(g.EuiSpacer,{size:"l"}),S),d&&Object(j.jsx)(Ho,{isCollapsed:!s,onClick:c})))};var Ko=a(147);const Qo="solutionNavIsCollapsed",Zo=e=>{const t=t=>{var a;const i=Object(g.useIsWithinBreakpoints)(["m"]),s=Object(g.useIsWithinMinBreakpoint)("l"),[n,l]=Object(p.useState)(!JSON.parse(String(localStorage.getItem(Qo)))),{solutionNav:o,children:r,...c}=t,{euiTheme:d}=Object(g.useEuiTheme)(),{canBeCollapsed:u=!0}=o,m=i||u&&s&&!n,x=(e=>Object(Ko.css)("flex:0 1 0;overflow:hidden;",g.euiCanAnimate,"{transition:min-width ",e.animation.fast," ",e.animation.resistance,";}",""))(d),b=Zi()("kbnSolutionNav__sidebar",{"kbnSolutionNav__sidebar--shrink":m},null===(a=t.pageSideBarProps)||void 0===a?void 0:a.className,x),f=Object(j.jsx)(Xo,Ue()({isOpenOnDesktop:n,onCollapse:()=>{l(!n),localStorage.setItem(Qo,JSON.stringify(n))}},o)),h={paddingSize:"none",...t.pageSideBarProps,minWidth:m?d.size.xxl:void 0,className:b};return Object(j.jsx)(e,Ue()({},c,{pageSideBar:f,pageSideBarProps:h}),r)};var a;return t.displayName=`WithSolutionNavBar(${a=e,a.displayName||a.name||"UnnamedComponent"})`,t};a(158);const er=m.a.createContext(null);a(51);const tr={name:"h42ud6",styles:"display:inherit;height:inherit;width:inherit;flex:1;flex-flow:column nowrap"},ar=({children:e,navigateToUrl:t,currentAppId:a,...i})=>{const s=Object(p.useRef)(null),n=Object(p.useCallback)((e=>(({event:e,container:t,navigateToUrl:a,currentAppId:i})=>{if(!t||!i)return;const s=((e,t)=>{let a=e;do{var i,s;if("a"===(null===(i=a)||void 0===i?void 0:i.tagName.toLowerCase()))return a;const e=null===(s=a)||void 0===s?void 0:s.parentElement;if(!e||e===document.body||e===t)break;a=e}while(parent||parent!==document.body||parent!==t)})(e.target,t);if(!s)return;const n=s.href,l=""===s.target||"_self"===s.target,o=0===e.button;n&&l&&o&&!e.defaultPrevented&&!(e=>e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)(e)&&(e.preventDefault(),a(s.href))})({event:e,currentAppId:a,navigateToUrl:t,container:s.current})),[a,t]);return Object(j.jsx)("div",Ue()({onClick:n,ref:s,css:tr,"data-test-subj":"kbnRedirectAppLink"},i),e)},ir=({children:e,...t})=>Object(j.jsx)(ar,Ue()({},function(){const e=Object(p.useContext)(er);if(!e)throw new Error("RedirectAppLinksContext is missing.  Ensure your component or React root is wrapped with RedirectAppLinksProvider.");return e}(),t),e);var sr=a(160),nr=a.n(sr);const lr=i.i18n.translate("sharedUXPackages.card.noData.noPermission.title",{defaultMessage:"Contact your administrator"}),or=i.i18n.translate("sharedUXPackages.card.noData.noPermission.description",{defaultMessage:"This integration is not yet enabled. Your administrator has the required permissions to turn it on."}),rr=i.i18n.translate("sharedUXPackages.card.noData.title",{defaultMessage:"Add Elastic Agent"}),cr=i.i18n.translate("sharedUXPackages.card.noData.description",{defaultMessage:"Use Elastic Agent for a simple, unified way to collect data from your machines."}),dr=()=>Object(j.jsx)(g.EuiImage,{size:"fullWidth",style:{width:"max(100%, 360px)",height:240,objectFit:"cover",background:"aliceblue"},url:nr.a,alt:""}),ur=({title:e,description:t,canAccessFleet:a,button:i,...s})=>Object(j.jsx)(g.EuiCard,Ue()({css:{maxWidth:400,marginInline:"auto"},paddingSize:"l",title:a?Object(j.jsx)(g.EuiScreenReaderOnly,null,Object(j.jsx)("span",null,e||rr)):Object(j.jsx)(g.EuiTextColor,{color:"default"},lr),description:a?t||cr:Object(j.jsx)(g.EuiTextColor,{color:"default"},or),footer:(()=>{if(a)return i&&"string"!=typeof i?i:Object(j.jsx)(g.EuiButton,{fill:!0},i||e||rr)})(),isDisabled:!a,image:Object(j.jsx)(dr,null)},s)),pr=m.a.createContext(null),mr=({href:e,category:t,description:a,...i})=>{var s;const{canAccessFleet:n,addBasePath:l}=function(){const e=Object(p.useContext)(pr);if(!e)throw new Error("NoDataCard Context is missing.  Ensure your component or React root is wrapped with NoDataCardContext.");return e}(),o=Object(p.useMemo)((()=>{if(e)return e;const a="/app/integrations/browse";return l(t?`${a}/${t}`:a)}),[l,e,t]);return Object(j.jsx)(ir,null,Object(j.jsx)(ur,Ue()({},i,{href:o,canAccessFleet:null!==(s=i.canAccessFleet)&&void 0!==s?s:n,description:a})))},gr=({action:e})=>{const t=Object.keys(e);if(1!==t.length)return null;const a=t[0],i="elasticAgent"===a?"empty-page-agent-action":`empty-page-${a}-action`;return Object(j.jsx)(mr,Ue()({key:i},e[a]))},xr=({solution:e,logo:t,action:a,docsLink:s,pageTitle:n,pageDescription:l,className:o})=>{const r=n||i.i18n.translate("sharedUXPackages.noDataPage.welcomeTitle",{defaultMessage:"Welcome to Elastic {solution}!",values:{solution:e}}),c=s?Object(j.jsx)(g.EuiLink,{href:s,target:"_blank"},Object(j.jsx)(f.FormattedMessage,{id:"sharedUXPackages.noDataPage.intro.link",defaultMessage:"learn more"})):null,d=null!=l?l:c?Object(j.jsx)(f.FormattedMessage,{id:"sharedUXPackages.noDataPage.intro",defaultMessage:"Add your data to get started, or {link} about {solution}.",values:{solution:e,link:c}}):Object(j.jsx)(f.FormattedMessage,{id:"sharedUXPackages.noDataPage.introNoDocLink",defaultMessage:"Add your data to get started."});return Object(j.jsx)(g.EuiPageTemplate.Section,{alignment:"center",grow:!0,className:Zi()("kbnNoDataPageContents",o),"data-test-subj":"kbnNoDataPage"},Object(j.jsx)(g.EuiText,{textAlign:"center"},Object(j.jsx)(Wo,{name:e,iconType:t||`logo${e}`,size:"xxl"}),Object(j.jsx)(g.EuiSpacer,{size:"l"}),Object(j.jsx)("h1",null,r),Object(j.jsx)(g.EuiTextColor,{color:"subdued"},Object(j.jsx)("p",null,d))),Object(j.jsx)(g.EuiSpacer,{size:"xxl"}),Object(j.jsx)(gr,{action:a}))},br=e=>{const{className:t,noDataConfig:a,pageSideBar:i,pageSideBarProps:s,...n}=e;if(!a)return null;let l;i&&(l=Object(j.jsx)(g.EuiPageTemplate.Sidebar,s,i));const o=((e,t)=>Zi()("kbnPageTemplate","",t||""))(0,t);return Object(j.jsx)(g.EuiPageTemplate,Ue()({className:o,restrictWidth:950,panelled:!1,offset:0,minHeight:0},n),l,Object(j.jsx)(xr,a))},fr=Zo(br),jr=({className:e,pageHeader:t,children:a,isEmptyState:i,pageSideBar:s,pageSideBarProps:n,...l})=>{let o,r;if(i&&t&&!a){const{iconType:e,pageTitle:i,description:s,rightSideItems:n}=t,l=i?Object(j.jsx)("h1",null,i):void 0,o=s?Object(j.jsx)("p",null,s):void 0;a=Object(j.jsx)(g.EuiPageTemplate.EmptyPrompt,{iconType:e,iconColor:"",title:l,body:o,actions:n})}else t&&(o=Object(j.jsx)(g.EuiPageTemplate.Header,t));if(s){const e={...n};e.sticky=!0,r=Object(j.jsx)(g.EuiPageTemplate.Sidebar,e,s)}const c=((e,t)=>Zi()("kbnPageTemplate","",t||""))(0,e);return Object(j.jsx)(g.EuiPageTemplate,Ue()({className:c,offset:0,minHeight:o?"calc(100vh - var(--euiFixedHeadersOffset, 0))":0,grow:!o&&void 0},l),r,o,a)},hr=Zo(jr),Mr=Object.assign((({className:e,children:t,solutionNav:a,noDataConfig:i,...s})=>i&&a?Object(j.jsx)(fr,{"data-test-subj":s["data-test-subj"],className:e,noDataConfig:i,solutionNav:a}):i?Object(j.jsx)(br,{"data-test-subj":s["data-test-subj"],className:e,noDataConfig:i}):a?Object(j.jsx)(hr,Ue()({className:e,solutionNav:a,children:t},s)):Object(j.jsx)(jr,Ue()({className:e,children:t},s))),{Sidebar:g.EuiPageTemplate.Sidebar,Header:g.EuiPageTemplate.Header,Section:g.EuiPageTemplate.Section,BottomBar:g.EuiPageTemplate.BottomBar,EmptyPrompt:g.EuiPageTemplate.EmptyPrompt}),Or=()=>Object(j.jsx)(Mr.EmptyPrompt,{title:Object(j.jsx)(g.EuiLoadingSpinner,{size:"xl"}),body:Object(j.jsx)(g.EuiText,{color:"subdued"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.enrichPolicies.list.loadingStateLabel",defaultMessage:"Loading enrich policies…"})),"data-test-subj":"sectionLoading"}),yr=()=>{const{history:e}=Re();return Object(j.jsx)(Mr.EmptyPrompt,{iconType:"managementApp","data-test-subj":"sectionEmpty",title:Object(j.jsx)("h2",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.enrichPolicies.list.emptyPromptTitle",defaultMessage:"Add your first enrich policy"})),body:Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.enrichPolicies.list.emptyPromptDescription",defaultMessage:"Use an enrich policy to add data from existing indices into incoming documents during ingest."})),actions:Object(j.jsx)(g.EuiButton,Ue()({fill:!0,iconType:"plusInCircle","data-test-subj":"enrichPoliciesEmptyPromptCreateButton"},Object(R.reactRouterNavigate)(e,"/enrich_policies/create")),Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.enrichPolicies.list.emptyPromptButtonLabel",defaultMessage:"Add an enrich policy"}))})},vr=({policy:e,onClose:t})=>Object(j.jsx)(g.EuiFlyout,{onClose:t,"data-test-subj":"policyDetailsFlyout",size:"m",maxWidth:550},Object(j.jsx)(g.EuiFlyoutHeader,null,Object(j.jsx)(g.EuiFlexGroup,{alignItems:"center",gutterSize:"s"},Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(g.EuiTitle,{id:"policyDetailsFlyoutTitle","data-test-subj":"title"},Object(j.jsx)("h2",null,e.name))))),Object(j.jsx)(g.EuiFlyoutBody,null,Object(j.jsx)(g.EuiDescriptionList,null,e.type&&Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiDescriptionListTitle,null,i.i18n.translate("xpack.idxMgmt.enrichPolicies.detailsFlyout.typeTitle",{defaultMessage:"Type"})),Object(j.jsx)(g.EuiDescriptionListDescription,{"data-test-subj":"policyTypeValue"},e.type)),e.sourceIndices&&Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiDescriptionListTitle,null,i.i18n.translate("xpack.idxMgmt.enrichPolicies.detailsFlyout.sourceIndicesTitle",{defaultMessage:"Source indices"})),Object(j.jsx)(g.EuiDescriptionListDescription,{"data-test-subj":"policyIndicesValue"},Object(j.jsx)("span",{className:"eui-textBreakWord"},e.sourceIndices.join(", ")))),e.matchField&&Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiDescriptionListTitle,null,i.i18n.translate("xpack.idxMgmt.enrichPolicies.detailsFlyout.matchFieldTitle",{defaultMessage:"Match field"})),Object(j.jsx)(g.EuiDescriptionListDescription,{"data-test-subj":"policyMatchFieldValue"},e.matchField)),e.enrichFields&&Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiDescriptionListTitle,null,i.i18n.translate("xpack.idxMgmt.enrichPolicies.detailsFlyout.enrichFieldsTitle",{defaultMessage:"Enrich fields"})),Object(j.jsx)(g.EuiDescriptionListDescription,{"data-test-subj":"policyEnrichFieldsValue"},Object(j.jsx)("span",{className:"eui-textBreakWord"},e.enrichFields.join(", ")))),e.query&&Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiDescriptionListTitle,null,i.i18n.translate("xpack.idxMgmt.enrichPolicies.detailsFlyout.queryTitle",{defaultMessage:"Query"})),Object(j.jsx)(g.EuiDescriptionListDescription,null,Object(j.jsx)(R.CodeEditor,{languageId:"json",isCopyable:!0,allowFullScreen:!0,value:JSON.stringify(e.query,null,2),"data-test-subj":"queryEditor",height:250,options:{lineNumbers:"off",tabSize:2,automaticLayout:!0},"aria-label":i.i18n.translate("xpack.idxMgmt.enrichPolicies.detailsFlyout.queryAriaLabel",{defaultMessage:"Enrich policy query editor"})}))))),Object(j.jsx)(g.EuiFlyoutFooter,null,Object(j.jsx)(g.EuiFlexGroup,{justifyContent:"spaceBetween"},Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(g.EuiButtonEmpty,{iconType:"cross",onClick:t,flush:"left","data-test-subj":"closeFlyoutButton"},i.i18n.translate("xpack.idxMgmt.enrichPolicies.detailsFlyout.closeButton",{defaultMessage:"Close"})))))),Er=({history:e,location:t})=>{const{core:{executionContext:a}}=Re(),i=cn(e);Object(p.useEffect)((()=>{c.setBreadcrumbs(r.enrichPolicies)}),[]),Object(ie.I)(a,{type:"application",page:"indexManagementEnrichPoliciesTab"});const n=(e=>{const{policy:t}=Object(Jn.parse)(e.search.substring(1));return t})(t),[l,o]=Object(p.useState)(),[d,u]=Object(p.useState)(),[m,x]=Object(p.useState)(),{error:b,isLoading:h,data:M,resendRequest:O}=le({path:`${s.k}/enrich_policies`,method:"get"});return Object(p.useEffect)((()=>{if(n&&null!=M&&M.length){const e=M.find((e=>e.name===n));o(e)}}),[n,M]),h?Object(j.jsx)(Or,null):b?Object(j.jsx)(qo,{error:b,resendRequest:O}):0===(null==M?void 0:M.length)?Object(j.jsx)(yr,null):Object(j.jsx)("div",{className:ie.a,"data-test-subj":"enrichPoliciesList"},Object(j.jsx)(g.EuiText,{color:"subdued"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.enrichPolicies.list.descriptionTitle",defaultMessage:"Use an enrich policy to automatically enhance your incoming documents with data from your existing indices. {learnMoreLink}",values:{learnMoreLink:Object(j.jsx)(g.EuiLink,{href:te.getEnrichApisLink(),target:"_blank",external:!0,"data-test-subj":"enrichPoliciesLearnMoreLink"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.enrichPolicies.list.docsLink",defaultMessage:"Learn more"}))}})),Object(j.jsx)(g.EuiSpacer,{size:"l"}),Object(j.jsx)(zo,{policies:M,onReloadClick:O,onDeletePolicyClick:u,onExecutePolicyClick:x}),d&&Object(j.jsx)(Vo,{policyToDelete:d,callback:e=>{null!=e&&e.hasDeletedPolicy&&O(),u(void 0)}}),m&&Object(j.jsx)(Uo,{policyToExecute:m,callback:e=>{null!=e&&e.hasExecutedPolicy&&O(),x(void 0)}}),l&&Object(j.jsx)(vr,{policy:l,onClose:()=>{o(void 0),i("/enrich_policies")}}))},kr=e=>Object(j.jsx)(Ro,null,Object(j.jsx)(Bo,null,Object(j.jsx)(Er,e))),Tr=({indexName:e,resendRequest:t})=>Object(j.jsx)(g.EuiPageTemplate.EmptyPrompt,{"data-test-subj":"indexDetailsErrorLoadingDetails",color:"danger",iconType:"warning",title:Object(j.jsx)("h2",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.errorTitle",defaultMessage:"Unable to load index details"})),body:Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiText,{color:"subdued"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.errorDescription",defaultMessage:"We encountered an error loading data for index {indexName}. Make sure that the index name in the URL is correct and try again.",values:{indexName:e}})),Object(j.jsx)(g.EuiSpacer,null),Object(j.jsx)(g.EuiButton,{iconSide:"right",onClick:t,iconType:"refresh",color:"danger","data-test-subj":"indexDetailsReloadDetailsButton"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.reloadButtonLabel",defaultMessage:"Reload"})))});var Fr={name:"96moj5",styles:"margin:0 0.3em"};const Sr=({indexName:e,asButton:t=!1})=>{const{url:a}=Re(),s=null==a?void 0:a.locators.get("DISCOVER_APP_LOCATOR");if(!s)return null;const n=async()=>{await s.navigate({dataViewSpec:{title:e}})};let l=Object(j.jsx)(g.EuiButtonIcon,{onClick:n,display:"empty",size:"xs",iconType:"discoverApp","aria-label":"Discover","data-test-subj":"discoverIconLink",css:Fr});return t&&(l=Object(j.jsx)(g.EuiButton,{fill:!0,onClick:n,iconType:"discoverApp","data-test-subj":"discoverButtonLink"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.goToDiscover.discoverIndexButtonLabel",defaultMessage:"Discover index"}))),Object(j.jsx)(g.EuiToolTip,{content:i.i18n.translate("xpack.idxMgmt.goToDiscover.showIndexToolTip",{defaultMessage:"Show {indexName} in Discover",values:{indexName:e}})},l)},_r=({index:e,reloadIndexDetails:t,navigateToAllIndices:a})=>{const[s,n]=Object(p.useState)(!1),l=Object(p.useMemo)((()=>[e.name]),[e]),o=Object(p.useCallback)((async()=>{n(!0),await t(),n(!1)}),[t]),r=[e],c=((e,t)=>{const a={};return e.forEach((e=>{var i;const{status:s}=null!==(i=t.find((t=>t.name===e)))&&void 0!==i?i:{};a[e]=s})),a})(l,r),d=Object(p.useCallback)((async()=>{n(!0);try{await de(l),await o(),n(!1),Fe.showSuccessToast(i.i18n.translate("xpack.idxMgmt.closeIndicesAction.indexClosedMessage",{defaultMessage:"The index {indexNames} was closed.",values:{indexNames:l.join(", ")}}))}catch(e){n(!1),Fe.showDangerToast(e.body.message)}}),[o,l]),u=Object(p.useCallback)((async()=>{n(!0);try{await pe(l),await o(),n(!1),Fe.showSuccessToast(i.i18n.translate("xpack.idxMgmt.openIndicesAction.indexOpenedMessage",{defaultMessage:"The index {indexNames} was opened.",values:{indexNames:l.join(", ")}}))}catch(e){n(!1),Fe.showDangerToast(e.body.message)}}),[o,l]),m=Object(p.useCallback)((async()=>{n(!0);try{await ge(l),await o(),n(!1),Fe.showSuccessToast(i.i18n.translate("xpack.idxMgmt.flushIndicesAction.indexFlushedMessage",{defaultMessage:"The index {indexNames} was flushed.",values:{indexNames:l.join(", ")}}))}catch(e){n(!1),Fe.showDangerToast(e.body.message)}}),[o,l]),g=Object(p.useCallback)((async()=>{n(!0);try{await me(l),await o(),n(!1),Fe.showSuccessToast(i.i18n.translate("xpack.idxMgmt.refreshIndicesAction.indexRefreshedMessage",{defaultMessage:"The index {indexNames} was refreshed.",values:{indexNames:l.join(", ")}}))}catch(e){n(!1),Fe.showDangerToast(e.body.message)}}),[o,l]),x=Object(p.useCallback)((async()=>{n(!0);try{await be(l),await o(),n(!1),Fe.showSuccessToast(i.i18n.translate("xpack.idxMgmt.clearCacheIndicesAction.indexCacheClearedMessage",{defaultMessage:"The cache of the index {indexNames} was cleared.",values:{indexNames:l.join(", ")}}))}catch(e){n(!1),Fe.showDangerToast(e.body.message)}}),[o,l]),b=Object(p.useCallback)((async()=>{n(!0);try{await fe(l),await o(),n(!1),Fe.showSuccessToast(i.i18n.translate("xpack.idxMgmt.unfreezeIndicesAction.indexUnfrozenMessage",{defaultMessage:"The index {indexNames} was unfrozen.",values:{indexNames:l.join(", ")}}))}catch(e){n(!1),Fe.showDangerToast(e.body.message)}}),[o,l]),f=Object(p.useCallback)((async e=>{n(!0);try{await xe(l,e),await o(),n(!1),Fe.showSuccessToast(i.i18n.translate("xpack.idxMgmt.forceMergeIndicesAction.indexForcemergedMessage",{defaultMessage:"The index {indexNames} was force merged.",values:{indexNames:l.join(", ")}}))}catch(e){n(!1),Fe.showDangerToast(e.body.message)}}),[o,l]),h=Object(p.useCallback)((async()=>{n(!0);try{await ue(l),n(!1),Fe.showSuccessToast(i.i18n.translate("xpack.idxMgmt.deleteIndicesAction.indexDeletedMessage",{defaultMessage:"The index {indexNames} was deleted.",values:{indexNames:l.join(", ")}})),a()}catch(e){n(!1),Fe.showDangerToast(e.body.message)}}),[a,l]),M=Object(p.useCallback)((async(e,t)=>{n(!0);try{await e(l,se.httpClient),await o(),n(!1),Fe.showSuccessToast(t)}catch(e){n(!1),Fe.showDangerToast(e.body.message)}}),[o,l]);return Object(j.jsx)(index_actions_context_menu_IndexActionsContextMenu,{indexNames:l,indices:r,indexStatusByName:c,fill:!1,isLoading:s,closeIndices:d,openIndices:u,flushIndices:m,refreshIndices:g,clearCacheIndices:x,unfreezeIndices:b,forcemergeIndices:f,deleteIndices:h,performExtensionAction:M,reloadIndices:o})};var Cr;i.i18n.translate("searchApiPanels.welcomeBanner.panels.learnMore",{defaultMessage:"Learn more"}),function(e){e.ElasticsearchEndpoint="es_url",e.CloudId="cloud_id"}(Cr||(Cr={}));var Lr=a(161);const wr=({request:e,application:t,sharePlugin:a})=>{var i,s,n;const{url:l}=a;if(null==t||null===(i=t.capabilities)||void 0===i||null===(s=i.dev_tools)||void 0===s||!s.show||!l)return null;const o=Object(Lr.compressToEncodedURIComponent)(e),r=null===(n=l.locators.get("CONSOLE_APP_LOCATOR"))||void 0===n?void 0:n.useUrl({loadFrom:`data:text/plain,${o}`},void 0,[e]);return r?Object(j.jsx)(g.EuiButtonEmpty,{href:r,iconType:"popout",target:"_blank",size:"s"},Object(j.jsx)(f.FormattedMessage,{id:"searchApiPanels.welcomeBanner.tryInConsoleButton",defaultMessage:"Try in Console"})):null};a(162);const Dr=({application:e,codeSnippet:t,languageType:a,languages:s,assetBasePath:n,selectedLanguage:l,setSelectedLanguage:o,sharePlugin:r,consoleRequest:c})=>{const[d,u]=Object(p.useState)(!1),m=s.map((e=>Object(j.jsx)(g.EuiContextMenuItem,{key:e.id,icon:`${n}/${e.iconType}`,onClick:()=>{o(e),u(!1)}},e.name))),x=Object(j.jsx)(g.EuiThemeProvider,{colorMode:"dark"},Object(j.jsx)(g.EuiButtonEmpty,{"aria-label":i.i18n.translate("searchApiPanels.welcomeBanner.codeBox.selectAriaLabel",{defaultMessage:"Select a programming language"}),color:"text",iconType:"arrowDown",iconSide:"left",onClick:()=>u(!d)},l.name));return Object(j.jsx)(g.EuiThemeProvider,{colorMode:"dark"},Object(j.jsx)(g.EuiPanel,{paddingSize:"xs",className:"codeBoxPanel","data-test-subj":"codeBlockControlsPanel"},Object(j.jsx)(g.EuiFlexGroup,{alignItems:"center",responsive:!1,gutterSize:"s"},Object(j.jsx)(g.EuiFlexItem,null,Object(j.jsx)(g.EuiThemeProvider,{colorMode:"light"},Object(j.jsx)(g.EuiPopover,{button:x,isOpen:d,closePopover:()=>u(!1),panelPaddingSize:"none",anchorPosition:"downLeft"},Object(j.jsx)(g.EuiContextMenuPanel,{items:m,size:"s"})))),Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(g.EuiCopy,{textToCopy:t},(e=>Object(j.jsx)(g.EuiButtonEmpty,{color:"text",iconType:"copyClipboard",size:"s",onClick:e},i.i18n.translate("searchApiPanels.welcomeBanner.codeBox.copyButtonLabel",{defaultMessage:"Copy"}))))),void 0!==c&&Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(wr,{request:c,application:e,sharePlugin:r}))),Object(j.jsx)(g.EuiHorizontalRule,{margin:"none"}),Object(j.jsx)(g.EuiCodeBlock,{transparentBackground:!0,fontSize:"m",language:a||l.languageStyling||l.id,overflowHeight:500,className:"codeBoxCodeBlock"},t)))};let Ir;a(79),function(e){e.JAVA="java",e.JAVASCRIPT="javascript",e.RUBY="ruby",e.GO="go",e.DOTNET="dotnet",e.PHP="php",e.PERL="perl",e.PYTHON="python",e.RUST="rust",e.CURL="curl"}(Ir||(Ir={}));const Pr={buildSearchQuery:'POST /books/_search?pretty\n{\n  "query": {\n    "query_string": {\n      "query": "snow"\n    }\n  }\n}',ingestData:'POST _bulk?pretty\n{ "index" : { "_index" : "books" } }\n{"name": "Snow Crash", "author": "Neal Stephenson", "release_date": "1992-06-01", "page_count": 470}\n{ "index" : { "_index" : "books" } }\n{"name": "Revelation Space", "author": "Alastair Reynolds", "release_date": "2000-03-15", "page_count": 585}\n{ "index" : { "_index" : "books" } }\n{"name": "1984", "author": "George Orwell", "release_date": "1985-06-01", "page_count": 328}\n{ "index" : { "_index" : "books" } }\n{"name": "Fahrenheit 451", "author": "Ray Bradbury", "release_date": "1953-10-15", "page_count": 227}\n{ "index" : { "_index" : "books" } }\n{"name": "Brave New World", "author": "Aldous Huxley", "release_date": "1932-06-01", "page_count": 268}\n{ "index" : { "_index" : "books" } }\n{"name": "The Handmaid\'s Tale", "author": "Margaret Atwood", "release_date": "1985-06-01", "page_count": 311}',ingestDataIndex:({indexName:e})=>`POST _bulk?pretty\n{ "index" : { "_index" : "${null!=e?e:"index_name"}" } }\n{"name": "foo", "title": "bar"}\n`},Nr=(e,t,a)=>{const i=e[t];if(void 0===i)return"";switch(typeof i){case"string":return i;case"function":return i(a);default:return""}},Br=(e,t)=>{if(e in Pr){const a=Pr[e];switch(typeof a){case"string":return a;case"function":return t?a(t):void 0;default:return}}};var Rr=a(40);const Ar=({title:e,content:{left:t,right:a},footer:{left:i,right:s}={},"data-test-subj":n})=>Object(j.jsx)(g.EuiFlexItem,null,Object(j.jsx)(g.EuiSplitPanel.Outer,{grow:!0,hasBorder:!0,"data-test-subj":n},Object(j.jsx)(g.EuiSplitPanel.Inner,null,Object(j.jsx)(g.EuiTitle,{size:"xxxs"},Object(j.jsx)("h4",null,e)),Object(j.jsx)(g.EuiSpacer,{size:"s"}),Object(j.jsx)(g.EuiFlexGroup,{gutterSize:"none",justifyContent:"spaceBetween",wrap:!0,alignItems:"center",css:Object(j.css)("min-height:",Rr.euiThemeVars.euiButtonHeightSmall,";","")},Object(j.jsx)(g.EuiFlexItem,{grow:!1},t),Object(j.jsx)(g.EuiFlexItem,{grow:!1},a))),Object(j.jsx)(g.EuiSplitPanel.Inner,{grow:!1,color:"subdued"},Object(j.jsx)(g.EuiFlexGroup,{gutterSize:"none",justifyContent:"spaceBetween",alignItems:"center",wrap:!0},i&&Object(j.jsx)(g.EuiFlexItem,{grow:!1},i),s&&Object(j.jsx)(g.EuiFlexItem,{grow:!1},s))))),zr={green:{color:"success",label:i.i18n.translate("xpack.idxMgmt.indexDetails.overviewTab.health.greenLabel",{defaultMessage:"Healthy"})},yellow:{color:"warning",label:i.i18n.translate("xpack.idxMgmt.indexDetails.overviewTab.health.yellowLabel",{defaultMessage:"Warning"})},red:{color:"danger",label:i.i18n.translate("xpack.idxMgmt.indexDetails.overviewTab.health.redLabel",{defaultMessage:"Critical"})}};var Vr={name:"3s4lj9",styles:"max-width:100px"};const Ur=({documents:e,documentsDeleted:t,status:a,health:s})=>{const{config:n}=Re();if(!n.enableIndexStats||!s)return null;const l=zr[s.toLowerCase()],o=Object(j.jsx)(g.EuiBadge,{color:l.color},l.label);return Object(j.jsx)(Ar,{"data-test-subj":"indexDetailsStatus",title:i.i18n.translate("xpack.idxMgmt.indexDetails.overviewTab.status.cardTitle",{defaultMessage:"Status"}),content:{left:Object(j.jsx)(g.EuiText,{color:"close"===a?"danger":"success",css:Object(j.css)("font-size:",Rr.euiThemeVars.euiFontSizeL,";","")},"close"===a?i.i18n.translate("xpack.idxMgmt.indexDetails.overviewTab.status.closedLabel",{defaultMessage:"Closed"}):i.i18n.translate("xpack.idxMgmt.indexDetails.overviewTab.status.openLabel",{defaultMessage:"Open"})),right:Object(j.jsx)("div",{css:Vr},o)},footer:{left:Object(j.jsx)(g.EuiFlexGroup,{gutterSize:"xs"},Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(g.EuiIcon,{type:"documents",color:"subdued"})),Object(j.jsx)(g.EuiFlexItem,null,Object(j.jsx)(g.EuiTextColor,{color:"subdued"},i.i18n.translate("xpack.idxMgmt.indexDetails.overviewTab.status.documentsLabel",{defaultMessage:"{documents, plural, one {# Document} other {# Documents}} / {documentsDeleted} Deleted",values:{documents:e,documentsDeleted:t}}))))}})},qr="index_name",Wr={id:Ir.CURL,name:i.i18n.translate("xpack.idxMgmt.indexDetails.languages.cURL",{defaultMessage:"cURL"}),iconType:"curl.svg",languageStyling:"shell",ingestDataIndex:({apiKey:e,indexName:t,url:a})=>`curl -X POST ${a}/_bulk?pretty \\\n  -H "Authorization: ApiKey ${e}" \\\n  -H "Content-Type: application/json" \\\n  -d'\n{ "index" : { "_index" : "${null!=t?t:qr}" } }\n{"name": "foo", "title": "bar" }\n`},Gr={id:Ir.JAVASCRIPT,name:i.i18n.translate("xpack.idxMgmt.indexDetails.languages.javascript",{defaultMessage:"JavaScript"}),iconType:"javascript.svg",ingestDataIndex:({apiKey:e,url:t,indexName:a})=>`const { Client } = require('@elastic/elasticsearch');\nconst client = new Client({\n  node: '${t}',\n  auth: {\n      apiKey: '${e}'\n  }\n});\nconst dataset = [\n  {'name': 'foo', 'title': 'bar'},\n];\n\n// Index with the bulk helper\nconst result = await client.helpers.bulk({\n  datasource: dataset,\n  onDocument (doc) {\n    return { index: { _index: '${null!=a?a:"index_name"}' }};\n  }\n});\nconsole.log(result);\n`},$r={id:Ir.GO,name:i.i18n.translate("xpack.idxMgmt.indexDetails.languages.go",{defaultMessage:"Go"}),iconType:"go.svg",ingestDataIndex:({apiKey:e,url:t,indexName:a})=>`import (\n  "context"\n  "fmt"\n  "log"\n  "strings"\n\n  "github.com/elastic/elasticsearch-serverless-go"\n)\n\nfunc main() {\n  cfg := elasticsearch.Config{\n    Address: "${t}",\n    APIKey: "${e}",\n  }\n  es, err := elasticsearch.NewClient(cfg)\n  if err != nil {\n    log.Fatalf("Error creating the client: %s", err)\n  }\n  res, err := es.Bulk().\n    Index("${a}").\n    Raw(strings.NewReader(\`\n{ "index": { "_id": "1"}}\n{"name": "foo", "title": "bar"}\n\`)).\n    Do(context.Background())\n\n  fmt.Println(res, err)\n}`},Hr={id:Ir.PYTHON,name:i.i18n.translate("xpack.idxMgmt.indexDetails.languages.python",{defaultMessage:"Python"}),iconType:"python.svg",ingestDataIndex:({apiKey:e,url:t,indexName:a})=>`from elasticsearch import Elasticsearch\n\nclient = Elasticsearch(\n  "${t}",\n  api_key="${e}"\n)\n\ndocuments = [\n  {"index": {"_index": "${null!=a?a:qr}"}},\n  {"name": "foo", "title": "bar"},\n]\n\nclient.bulk(operations=documents)\n`},Jr={id:Ir.PHP,name:i.i18n.translate("xpack.idxMgmt.indexDetails.languages.php",{defaultMessage:"PHP"}),iconType:"php.svg",ingestDataIndex:({apiKey:e,url:t,indexName:a})=>`$client = ClientBuilder::create()\n  ->setHosts(['${t}'])\n  ->setApiKey('${e}')\n  ->build();\n\n$params = [\n'body' => [\n[\n'index' => [\n'_index' => '${null!=a?a:qr}',\n'_id' => '1',\n],\n],\n[\n'name' => 'foo',\n'title' => 'bar',\n],\n],\n];\n\n$response = $client->bulk($params);\necho $response->getStatusCode();\necho (string) $response->getBody();\n`},Yr={id:Ir.RUBY,name:i.i18n.translate("xpack.idxMgmt.indexDetails.languages.ruby",{defaultMessage:"Ruby"}),iconType:"ruby.svg",ingestDataIndex:({apiKey:e,url:t,indexName:a})=>`client = ElasticsearchServerless::Client.new(\n  api_key: '${e}',\n  url: '${t}'\n)\n\ndocuments = [\n  { index: { _index: '${null!=a?a:qr}', data: {name: "foo", "title": "bar"} } },\n]\nclient.bulk(body: documents)\n`},Xr={[Ir.CURL]:Wr,[Ir.PYTHON]:Hr,[Ir.JAVASCRIPT]:Gr,[Ir.PHP]:Jr,[Ir.GO]:$r,[Ir.RUBY]:Yr},Kr=Object.values(Xr);var Qr=a(20),Zr=a(52),ec=a.n(Zr);const tc=e=>ec()(e).format("MMMM Do, YYYY h:mm:ss A"),ac=({dataStreamName:e})=>{var t,a;const{error:s,data:n,isLoading:l,resendRequest:o}=ce(e),{history:r}=Re(),c=!l&&(s||!n);let d=Object(j.jsx)(g.EuiFlexGroup,{gutterSize:"xs",alignItems:"baseline"},Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(g.EuiText,{css:Object(j.css)("font-size:",Rr.euiThemeVars.euiFontSizeL,";","")},null==n?void 0:n.generation)),Object(j.jsx)(g.EuiFlexItem,null,Object(j.jsx)(g.EuiTextColor,{color:"subdued"},i.i18n.translate("xpack.idxMgmt.indexDetails.overviewTab.dataStream.generationLabel",{defaultMessage:"{generations, plural, one {Generation} other {Generations}}",values:{generations:null==n?void 0:n.generation}})))),u=Object(j.jsx)(g.EuiFlexGroup,null,Object(j.jsx)(g.EuiFlexItem,null,Object(j.jsx)(g.EuiButton,Ue()({size:"s"},Object(R.reactRouterNavigate)(r,Object(Pl.a)(null!==(t=null==n?void 0:n.name)&&void 0!==t?t:""))),i.i18n.translate("xpack.idxMgmt.indexDetails.overviewTab.dataStream.dataStreamLinkLabel",{defaultMessage:"See details"}))),Object(j.jsx)(g.EuiFlexItem,null,Object(j.jsx)(g.EuiButton,Ue()({size:"s"},Object(R.reactRouterNavigate)(r,Object(Qr.getTemplateDetailsLink)(null!==(a=null==n?void 0:n.indexTemplateName)&&void 0!==a?a:""))),i.i18n.translate("xpack.idxMgmt.indexDetails.overviewTab.dataStream.templateLinkLabel",{defaultMessage:"Related template"}))));return l&&(d=Object(j.jsx)(N.SectionLoading,{inline:!0},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.overviewTab.dataStream.loadingDescription",defaultMessage:"Loading data stream details…"})),u=null),c&&(d=Object(j.jsx)(g.EuiText,{grow:!1},Object(j.jsx)(g.EuiTextColor,{color:"warning"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.overviewTab.dataStream.errorDescription",defaultMessage:"Unable to load data stream details"}))),u=Object(j.jsx)(g.EuiButton,{color:"warning",onClick:o,"data-test-subj":"indexDetailsDataStreamReload"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.overviewTab.dataStream.reloadButtonLabel",defaultMessage:"Reload"}))),Object(j.jsx)(Ar,{"data-test-subj":"indexDetailsDataStream",title:i.i18n.translate("xpack.idxMgmt.indexDetails.overviewTab.dataStream.cardTitle",{defaultMessage:"Data stream"}),content:{left:d,right:u},footer:{left:Object(j.jsx)(g.EuiFlexGroup,{gutterSize:"xs"},Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(g.EuiIcon,{type:"calendar"})),Object(j.jsx)(g.EuiFlexItem,{grow:!1},i.i18n.translate("xpack.idxMgmt.indexDetails.overviewTab.dataStream.lastUpdateLabel",{defaultMessage:"Last update"})),!l&&!c&&Object(j.jsx)(g.EuiFlexItem,null,Object(j.jsx)(g.EuiTextColor,{color:"subdued"},null!=n&&n.maxTimeStamp?tc(n.maxTimeStamp):i.i18n.translate("xpack.idxMgmt.indexDetails.overviewTab.dataStream.maxTimeStampNoneMessage",{defaultMessage:"Never"}))))}})},ic=({primarySize:e,size:t,primary:a,replica:s})=>{const{config:n}=Re();return n.enableIndexStats?Object(j.jsx)(Ar,{"data-test-subj":"indexDetailsStorage",title:i.i18n.translate("xpack.idxMgmt.indexDetails.overviewTab.storage.cardTitle",{defaultMessage:"Storage"}),content:{left:Object(j.jsx)(g.EuiFlexGroup,{gutterSize:"xs",alignItems:"baseline"},Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(g.EuiText,{css:Object(j.css)("font-size:",Rr.euiThemeVars.euiFontSizeL,";","")},e)),Object(j.jsx)(g.EuiFlexItem,null,Object(j.jsx)(g.EuiTextColor,{color:"subdued"},i.i18n.translate("xpack.idxMgmt.indexDetails.overviewTab.storage.primarySizeLabel",{defaultMessage:"Primary"})))),right:Object(j.jsx)(g.EuiFlexGroup,{gutterSize:"xs",alignItems:"baseline"},Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(g.EuiText,{css:Object(j.css)("font-size:",Rr.euiThemeVars.euiFontSizeL,";","")},t)),Object(j.jsx)(g.EuiFlexItem,null,Object(j.jsx)(g.EuiTextColor,{color:"subdued"},i.i18n.translate("xpack.idxMgmt.indexDetails.overviewTab.storage.totalSizeLabel",{defaultMessage:"Total"}))))},footer:{left:Object(j.jsx)(g.EuiFlexGroup,{gutterSize:"xs"},Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(g.EuiIcon,{type:"shard",color:"subdued"})),Object(j.jsx)(g.EuiFlexItem,null,Object(j.jsx)(g.EuiTextColor,{color:"subdued"},i.i18n.translate("xpack.idxMgmt.indexDetails.overviewTab.storage.shardsLabel",{defaultMessage:"Shards"})))),right:Object(j.jsx)(g.EuiTextColor,{color:"subdued"},i.i18n.translate("xpack.idxMgmt.indexDetails.overviewTab.storage.primariesReplicasLabel",{defaultMessage:"{primary, plural, one {# Primary} other {# Primaries}} / {replica, plural, one {# Replica} other {# Replicas}} ",values:{primary:a,replica:s}}))}}):null};var sc={name:"1lsto0t",styles:"max-width:250px"};const nc=({aliases:e})=>{const[t,a]=Object(p.useState)(!1);if(!Array.isArray(e))return null;const s=e.slice(0,3).map((e=>Object(j.jsx)(g.EuiBadge,{css:sc},e)));return Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(Ar,{"data-test-subj":"indexDetailsAliases",title:i.i18n.translate("xpack.idxMgmt.indexDetails.overviewTab.aliases.cardTitle",{defaultMessage:"Aliases"}),content:{left:Object(j.jsx)(g.EuiFlexGroup,{gutterSize:"xs",alignItems:"baseline"},Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(g.EuiText,{css:Object(j.css)("font-size:",Rr.euiThemeVars.euiFontSizeL,";","")},e.length)),Object(j.jsx)(g.EuiFlexItem,null,Object(j.jsx)(g.EuiTextColor,{color:"subdued"},i.i18n.translate("xpack.idxMgmt.indexDetails.overviewTab.aliases.aliasesCountLabel",{defaultMessage:"{aliases, plural, one {Alias} other {Aliases}}",values:{aliases:e.length}})))),right:Object(j.jsx)(g.EuiButton,{size:"s",onClick:()=>{a(!0)}},"View all aliases")},footer:{left:Object(j.jsx)(g.EuiBadgeGroup,{gutterSize:"s"},s,e.length>3&&Object(j.jsx)(g.EuiBadge,{color:"hollow"},"+",e.length-3))}}),t&&Object(j.jsx)(g.EuiFlyout,{ownFocus:!0,onClose:()=>a(!1)},Object(j.jsx)(g.EuiFlyoutHeader,{hasBorder:!0},Object(j.jsx)(g.EuiTitle,{size:"m"},Object(j.jsx)("h2",null,i.i18n.translate("xpack.idxMgmt.indexDetails.overviewTab.aliases.cardTitle",{defaultMessage:"Aliases"})))),Object(j.jsx)(g.EuiFlyoutBody,null,Object(j.jsx)(g.EuiListGroup,{maxWidth:!1},e.map((e=>Object(j.jsx)(g.EuiListGroupItem,{wrapText:!0,key:e,label:e})))))))},lc=({indexDetails:e})=>{const{name:t,status:a,health:s,documents:n,documents_deleted:l,primary:o,replica:d,aliases:u,data_stream:x,size:b,primary_size:h}=e,{core:M,plugins:O,services:{extensionsService:y}}=Re();Object(p.useEffect)((()=>{c.setBreadcrumbs(r.indexDetailsOverview)}),[]);const[v,E]=Object(p.useState)(Wr),k={url:Object(p.useMemo)((()=>{var e,t;return null!==(e=null===(t=O.cloud)||void 0===t?void 0:t.elasticsearchUrl)&&void 0!==e?e:"https://your_deployment_url"}),[O.cloud]),apiKey:"your_api_key",indexName:t},T=Object(g.useIsWithinBreakpoints)(["xl"]);return Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiFlexGrid,{columns:T?3:1},Object(j.jsx)(ic,{size:b,primarySize:h,primary:o,replica:d}),Object(j.jsx)(Ur,{documents:n,documentsDeleted:l,status:a,health:s}),Object(j.jsx)(nc,{aliases:u}),x&&Object(j.jsx)(ac,{dataStreamName:x})),Object(j.jsx)(g.EuiSpacer,null),y.indexOverviewContent?y.indexOverviewContent.renderContent({index:e,getUrlForApp:M.getUrlForApp}):Object(j.jsx)(g.EuiFlexGroup,{direction:"column"},Object(j.jsx)(g.EuiFlexItem,null,Object(j.jsx)(g.EuiTitle,{size:"s"},Object(j.jsx)("h2",null,i.i18n.translate("xpack.idxMgmt.indexDetails.overviewTab.addMoreDataTitle",{defaultMessage:"Add data to this index"}))),Object(j.jsx)(g.EuiSpacer,{size:"s"}),Object(j.jsx)(g.EuiTextColor,{color:"subdued"},Object(j.jsx)(g.EuiText,{size:"s"},Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.overviewTab.addMoreDataDescription",defaultMessage:"Use the bulk API to add data to your index. {docsLink}",values:{docsLink:Object(j.jsx)(g.EuiLink,{href:te.getBulkApi(),target:"_blank",external:!0},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.overviewTab.addDocsLink",defaultMessage:"Learn more."}))}}))))),Object(j.jsx)(g.EuiFlexItem,null,Object(j.jsx)(Dr,{languages:Kr,codeSnippet:Nr(v,"ingestDataIndex",k),selectedLanguage:v,setSelectedLanguage:E,assetBasePath:M.http.basePath.prepend("/plugins/indexManagement/assets"),sharePlugin:O.share,application:M.application,consoleRequest:Br("ingestDataIndex",k)}))))};var oc={name:"13udsys",styles:"height:100%"},rc={name:"o84bs6",styles:"min-width:600px"},cc={name:"1mhs1aw",styles:"min-width:400px"},dc={name:"13udsys",styles:"height:100%"};const uc=({index:e,data:t})=>{const{services:{extensionsService:a},core:{getUrlForApp:i}}=Re();return Object(j.jsx)(g.EuiFlexGroup,{wrap:!0,direction:"rowReverse",css:dc},Object(j.jsx)(g.EuiFlexItem,{grow:1,css:cc},Object(j.jsx)(g.EuiPanel,{grow:!1,paddingSize:"l"},Object(j.jsx)(g.EuiFlexGroup,{alignItems:"center",gutterSize:"s"},Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(g.EuiIcon,{type:"iInCircle"})),Object(j.jsx)(g.EuiFlexItem,null,Object(j.jsx)(g.EuiTitle,{size:"xs"},Object(j.jsx)("h2",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.mappings.docsCardTitle",defaultMessage:"About index mappings"}))))),Object(j.jsx)(g.EuiSpacer,{size:"s"}),Object(j.jsx)(g.EuiText,null,Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.mappings.docsCardDescription",defaultMessage:"Your documents are made up of a set of fields. Index mappings give each field a type (such as keyword, number, or date) and additional subfields. These index mappings determine the functions available in your relevance tuning and search experience."}))),Object(j.jsx)(g.EuiSpacer,{size:"m"}),Object(j.jsx)(g.EuiLink,{"data-test-subj":"indexDetailsMappingsDocsLink",href:te.getMappingDocumentationLink(),target:"_blank",external:!0},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.mappings.docsCardLink",defaultMessage:"Learn more about mappings"}))),a.indexMappingsContent&&Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiSpacer,null),a.indexMappingsContent.renderContent({index:e,getUrlForApp:i}))),Object(j.jsx)(g.EuiFlexItem,{grow:3,css:rc},Object(j.jsx)(g.EuiPanel,null,Object(j.jsx)(g.EuiCodeBlock,{language:"json",isCopyable:!0,"data-test-subj":"indexDetailsMappingsCodeBlock",css:oc},JSON.stringify(t,null,2)))))},pc=({index:e})=>{const{isLoading:t,data:a,error:i,resendRequest:n}=(l=e.name,le({path:`${s.a}/mapping/${encodeURIComponent(l)}`,method:"get"}));var l;return Object(p.useEffect)((()=>{c.setBreadcrumbs(r.indexDetailsMappings)}),[]),t?Object(j.jsx)(N.SectionLoading,null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.mappings.loadingDescription",defaultMessage:"Loading index mappings…"})):i?Object(j.jsx)(g.EuiPageTemplate.EmptyPrompt,{"data-test-subj":"indexDetailsMappingsError",color:"danger",iconType:"warning",title:Object(j.jsx)("h2",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.mappings.errorTitle",defaultMessage:"Unable to load index mappings"})),body:Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiText,{color:"subdued"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.mappings.errorDescription",defaultMessage:"We encountered an error loading mappings for index {indexName}. Make sure that the index name in the URL is correct and try again.",values:{indexName:e.name}})),Object(j.jsx)(g.EuiSpacer,null),Object(j.jsx)(g.EuiButton,{iconSide:"right",onClick:n,iconType:"refresh",color:"danger","data-test-subj":"indexDetailsMappingsReloadButton"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.mappings.reloadButtonLabel",defaultMessage:"Reload"})))}):Object(j.jsx)(uc,{index:e,data:a})},mc=e=>{const t=[],a={};return function e(i){Oe.a.keys(i).forEach((function(s){t.push(s),Array.isArray(i[s])?a[t.join(".")]=i[s]:Oe.a.isObject(i[s])?e(i[s]):a[t.join(".")]=i[s],t.pop()}))}(e),a},gc=["index.creation_date","index.number_of_shards","index.provided_name","index.uuid","index.version.created","index.compound_format","index.data_path","index.format","index.number_of_routing_shards","index.sort.field","index.sort.missing","index.sort.mode","index.sort.order","index.routing_partition_size","index.store.type"],xc=["index.blocks.write","index.blocks.read","index.blocks.read_only","index.default_pipeline","index.lifecycle.origination_date","index.final_pipeline","index.query.default_field","index.refresh_interval","index.mapping.ignore_malformed","index.mapping.total_fields.limit","index.merge.policy.deletes_pct_allowed","index.merge.policy.max_merge_at_once","index.merge.policy.expunge_deletes_allowed","index.merge.policy.floor_segment"],bc=["index.number_of_replicas","index.blocks.read_only_allow_delete","index.codec","index.priority","index.query.default_field","index.refresh_interval","index.write.wait_for_active_shards"];var fc={name:"13udsys",styles:"height:100%"},jc={name:"o84bs6",styles:"min-width:600px"},hc={name:"1mhs1aw",styles:"min-width:400px"},Mc={name:"13udsys",styles:"height:100%"};const Oc=({isIndexOpen:e,data:t,indexName:a,reloadIndexSettings:n})=>{const[l,o]=Object(p.useState)(!1),{config:{editableIndexSettings:r}}=Re(),{originalSettings:c,settingsString:d}=(({data:e,isIndexOpen:t,editableIndexSettings:a})=>{const{defaults:i,settings:s}=e,n=mc(s),l=mc(i);let o={...Oe.a.pick(l,bc),...n};"limited"===a?o=Oe.a.pick(o,xc):gc.forEach((e=>delete o[e])),t&&delete o["index.codec"];const r=JSON.stringify(o,null,2);return{originalSettings:o,settingsString:r}})({data:t,isIndexOpen:e,editableIndexSettings:r}),[u,x]=Object(p.useState)(d),[b,h]=Object(p.useState)(!1),[M,O]=Object(p.useState)(null),y=Object(p.useCallback)((()=>{O(null),x(d)}),[d]),v=Object(p.useCallback)((async()=>{O(null),h(!0);try{const e=JSON.parse(u);if(Object.keys(c).forEach((t=>{Oe.a.isEqual(c[t],e[t])&&delete e[t]})),0!==Object.keys(e).length){const{error:t}=await async function(e,t){const a=await ne({path:`${s.a}/settings/${encodeURIComponent(e)}`,method:"put",body:JSON.stringify(t)});return a.error||oe.trackMetric(ae.METRIC_TYPE.COUNT,s.U),a}(a,e);t?(h(!1),O(t)):(h(!1),o(!1),Fe.showSuccessToast(i.i18n.translate("xpack.idxMgmt.indexDetails.settings.updateSuccessMessage",{defaultMessage:"Successfully updated settings for index {indexName}",values:{indexName:a}})),n())}else h(!1),o(!1),Fe.showWarningToast(i.i18n.translate("xpack.idxMgmt.indexDetails.settings.noChangeWarning",{defaultMessage:"No settings changed"}))}catch(e){h(!1),O({error:i.i18n.translate("xpack.idxMgmt.indexDetails.settings.updateError",{defaultMessage:"Unable to update settings"})})}}),[c,u,a,n]);return Object(j.jsx)(g.EuiFlexGroup,{wrap:!0,direction:"rowReverse",css:Mc},Object(j.jsx)(g.EuiFlexItem,{grow:1,css:hc},Object(j.jsx)(g.EuiPanel,{grow:!1,paddingSize:"l"},Object(j.jsx)(g.EuiFlexGroup,{alignItems:"center",gutterSize:"s"},Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(g.EuiIcon,{type:"pencil"})),Object(j.jsx)(g.EuiFlexItem,null,Object(j.jsx)(g.EuiText,null,Object(j.jsx)("b",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.settings.docsCardTitle",defaultMessage:"Edit index settings"}))))),Object(j.jsx)(g.EuiSpacer,{size:"m"}),Object(j.jsx)(g.EuiSwitch,{"data-test-subj":"indexDetailsSettingsEditModeSwitch",label:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.settings.editModeSwitchLabel",defaultMessage:"Edit mode"}),checked:l,onChange:e=>{O(null),o(e.target.checked)}}),Object(j.jsx)(g.EuiSpacer,{size:"m"}),Object(j.jsx)(g.EuiFlexGroup,null,Object(j.jsx)(g.EuiFlexItem,{grow:1},Object(j.jsx)(g.EuiButton,{"data-test-subj":"indexDetailsSettingsSave",fill:!0,isDisabled:!l||!u||d===u,isLoading:b,onClick:v},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.settings.saveButtonLabel",defaultMessage:"Save changes"}))),Object(j.jsx)(g.EuiFlexItem,{grow:1},Object(j.jsx)(g.EuiButton,{"data-test-subj":"indexDetailsSettingsResetChanges",isDisabled:!l||b||d===u,onClick:y},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.settings.resetChangesButtonLabel",defaultMessage:"Reset changes"})))),M&&Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiSpacer,{size:"m"}),Object(j.jsx)(g.EuiCallOut,{title:i.i18n.translate("xpack.idxMgmt.indexDetails.settings.saveSettingsErrorMessage",{defaultMessage:"Unable to save settings"}),color:"danger",iconType:"error"},M.message&&Object(j.jsx)("p",null,M.message))),Object(j.jsx)(g.EuiSpacer,{size:"m"}),Object(j.jsx)(g.EuiLink,{"data-test-subj":"indexDetailsSettingsDocsLink",href:te.getSettingsDocumentationLink(),target:"_blank",external:!0},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.settings.docsCardLink",defaultMessage:"Learn more about settings"})))),Object(j.jsx)(g.EuiFlexItem,{grow:3,css:jc},Object(j.jsx)(g.EuiPanel,null,l?Object(j.jsx)(R.CodeEditor,{languageId:"json",value:u,"data-test-subj":"indexDetailsSettingsEditor",options:{lineNumbers:"off",tabSize:2,automaticLayout:!0},"aria-label":i.i18n.translate("xpack.idxMgmt.formWizard.stepSettings.fieldIndexSettingsAriaLabel",{defaultMessage:"Index settings editor"}),onChange:x}):Object(j.jsx)(g.EuiCodeBlock,{language:"json",isCopyable:!0,"data-test-subj":"indexDetailsSettingsCodeBlock",css:fc},JSON.stringify(t,null,2)))))},yc=({indexName:e,isIndexOpen:t})=>{const{isLoading:a,data:i,error:n,resendRequest:l}=function(e){return le({path:`${s.a}/settings/${encodeURIComponent(e)}`,method:"get"})}(e);return Object(p.useEffect)((()=>{c.setBreadcrumbs(r.indexDetailsSettings)}),[]),a?Object(j.jsx)(N.SectionLoading,null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.settings.loadingDescription",defaultMessage:"Loading index settings…"})):n||!i?Object(j.jsx)(g.EuiPageTemplate.EmptyPrompt,{"data-test-subj":"indexDetailsSettingsError",color:"danger",iconType:"warning",title:Object(j.jsx)("h2",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.settings.errorTitle",defaultMessage:"Unable to load index settings"})),body:Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiText,{color:"subdued"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.settings.errorDescription",defaultMessage:"We encountered an error loading settings for index {indexName}. Make sure that the index name in the URL is correct and try again.",values:{indexName:e}})),Object(j.jsx)(g.EuiSpacer,null),Object(j.jsx)(g.EuiButton,{iconSide:"right",onClick:l,iconType:"refresh",color:"danger","data-test-subj":"indexDetailsSettingsReloadButton"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.settings.reloadButtonLabel",defaultMessage:"Reload"})))}):Object(j.jsx)(Oc,{isIndexOpen:t,data:i,indexName:e,reloadIndexSettings:l})};var vc={name:"13udsys",styles:"height:100%"},Ec={name:"o84bs6",styles:"min-width:600px"},kc={name:"1mhs1aw",styles:"min-width:400px"},Tc={name:"13udsys",styles:"height:100%"};const Fc=({indexName:e,isIndexOpen:t})=>{const[a,i]=Object(p.useState)(!1),[n,l]=Object(p.useState)(),[o,d]=Object(p.useState)();Object(p.useEffect)((()=>{c.setBreadcrumbs(r.indexDetailsStats)}),[]);const u=Object(p.useCallback)((async()=>{i(!0);try{const{data:t,error:a}=await function(e){return ne({path:`${s.a}/stats/${encodeURIComponent(e)}`,method:"get"})}(e);i(!1),l(a),d(t)}catch(e){i(!1),l(e)}}),[e]);return Object(p.useEffect)((()=>{t&&u()}),[u,t]),!1===t?Object(j.jsx)(g.EuiPageTemplate.EmptyPrompt,{"data-test-subj":"indexStatsNotAvailableWarning",iconType:"warning",color:"warning",title:Object(j.jsx)("h2",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.stats.statsNotAvailableTitle",defaultMessage:"Index statistics not available"})),body:Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.stats.statsNotAvailableDescription",defaultMessage:"To view index statistics, verify your index is open."}))}):a?Object(j.jsx)(ie.o,null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.stats.loadingIndexStats",defaultMessage:"Loading index statistics…"})):n?Object(j.jsx)(g.EuiPageTemplate.EmptyPrompt,{"data-test-subj":"indexDetailsStatsError",color:"danger",iconType:"warning",title:Object(j.jsx)("h2",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.stats.errorTitle",defaultMessage:"Unable to load index statistics"})),body:Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiText,{color:"subdued"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.stats.errorDescription",defaultMessage:"We encountered an error loading statistics for index {indexName}. Make sure that the index name in the URL is correct and try again.",values:{indexName:e}})),Object(j.jsx)(g.EuiSpacer,null),Object(j.jsx)(g.EuiButton,{iconSide:"right",onClick:u,iconType:"refresh",color:"danger","data-test-subj":"reloadIndexStatsButton"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.stats.reloadButtonLabel",defaultMessage:"Reload"})))}):o?Object(j.jsx)(g.EuiFlexGroup,{wrap:!0,direction:"rowReverse",css:Tc,"data-test-subj":"statsTabContent"},Object(j.jsx)(g.EuiFlexItem,{grow:1,css:kc},Object(j.jsx)(g.EuiPanel,{grow:!1,paddingSize:"l"},Object(j.jsx)(g.EuiFlexGroup,{alignItems:"center",gutterSize:"s"},Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(g.EuiIcon,{type:"iInCircle"})),Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(g.EuiTitle,{size:"xs"},Object(j.jsx)("h2",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.stats.indexStatsTitle",defaultMessage:"About index statistics"}))))),Object(j.jsx)(g.EuiSpacer,{size:"s"}),Object(j.jsx)(g.EuiText,null,Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.stats.indexStatsDescription",defaultMessage:"Index stats contain high-level aggregation and statistics for an index. The {primariesField} field represents the values for only primary shards, and the {totalField} field contains the accumulated values for both primary and replica shards.",values:{primariesField:Object(j.jsx)(g.EuiCode,null,"primaries"),totalField:Object(j.jsx)(g.EuiCode,null,"total")}}))),Object(j.jsx)(g.EuiSpacer,{size:"m"}),Object(j.jsx)(g.EuiLink,{"data-test-subj":"indexDetailsStatsDocsLink",href:te.getIndexStats(),target:"_blank",external:!0},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.stats.learnMoreLink",defaultMessage:"Learn more about statistics"})))),Object(j.jsx)(g.EuiFlexItem,{grow:3,css:Ec},Object(j.jsx)(g.EuiPanel,null,Object(j.jsx)(g.EuiCodeBlock,{"data-test-subj":"indexDetailsStatsCodeBlock",isCopyable:!0,language:"json",paddingSize:"m",css:vc},JSON.stringify(o,null,2))))):null},Sc=({tabs:e,tab:t,index:a})=>{const i=e.find((e=>e.id===t)),{core:{getUrlForApp:s}}=Re();return i?i.renderTabContent({index:a,getUrlForApp:s}):Object(j.jsx)(lc,{indexDetails:a})},_c=[{id:s.n.Overview,name:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.overviewTitle",defaultMessage:"Overview"}),renderTabContent:({index:e})=>Object(j.jsx)(lc,{indexDetails:e}),order:10},{id:s.n.Mappings,name:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.mappingsTitle",defaultMessage:"Mappings"}),renderTabContent:({index:e})=>Object(j.jsx)(pc,{index:e}),order:20},{id:s.n.Settings,name:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.settingsTitle",defaultMessage:"Settings"}),renderTabContent:({index:e})=>Object(j.jsx)(yc,{indexName:e.name,isIndexOpen:e.status===s.h}),order:30}],Cc={id:s.n.Stats,name:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.statsTitle",defaultMessage:"Statistics"}),renderTabContent:({index:e})=>Object(j.jsx)(Fc,{indexName:e.name,isIndexOpen:e.status===s.h}),order:40};var Lc={name:"13udsys",styles:"height:100%"};const wc=({index:e,tab:t,history:a,fetchIndexDetails:i})=>{const{config:{enableIndexStats:n},services:{extensionsService:l}}=Re(),o=Object(p.useMemo)((()=>{const t=[..._c];return n&&t.push(Cc),l.indexDetailsTabs.forEach((a=>{a.shouldRenderTab&&!a.shouldRenderTab({index:e})||t.push(a)})),t.sort(((e,t)=>e.order-t.order)),t}),[n,l.indexDetailsTabs,e]),r=Object(p.useCallback)((t=>a.push(Object(Pl.b)(e.name,t))),[a,e]),c=Object(p.useCallback)((()=>{a.push(`/${s.o.Indices}`)}),[a]),d=Object(p.useMemo)((()=>o.map((e=>({onClick:()=>r(e.id),isSelected:e.id===t,key:e.id,"data-test-subj":`indexDetailsTab-${e.id}`,label:e.name})))),[o,t,r]),u=Object(j.jsx)(m.a.Fragment,null,e.name,Nl(e,l));return Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiPageSection,{paddingSize:"none"},Object(j.jsx)(g.EuiButton,{"data-test-subj":"indexDetailsBackToIndicesButton",color:"text",iconType:"arrowLeft",onClick:c},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.backToIndicesButtonLabel",defaultMessage:"Back to all indices"}))),Object(j.jsx)(g.EuiSpacer,{size:"l"}),Object(j.jsx)(g.EuiPageHeader,{"data-test-subj":"indexDetailsHeader",pageTitle:u,bottomBorder:!0,rightSideItems:[Object(j.jsx)(Sr,{indexName:e.name,asButton:!0}),Object(j.jsx)(_r,{index:e,reloadIndexDetails:i,navigateToAllIndices:c})],rightSideGroupProps:{wrap:!1},responsive:"reverse",tabs:d}),Object(j.jsx)(g.EuiSpacer,{size:"l"}),Object(j.jsx)("div",{"data-test-subj":"indexDetailsContent",css:Lc},Object(j.jsx)(Sc,{tabs:o,tab:t,index:e})))},Dc=({location:{search:e},history:t})=>{var a,i;const n=Object(p.useMemo)((()=>new URLSearchParams(e)),[e]),l=null!==(a=n.get("indexName"))&&void 0!==a?a:"",o=null!==(i=n.get("tab"))&&void 0!==i?i:s.n.Overview,[r,c]=Object(p.useState)(!1),[d,u]=Object(p.useState)(null),[m,x]=Object(p.useState)(),b=Object(p.useCallback)((async()=>{if(l){c(!0);try{const{data:e,error:t}=await function(e){return ne({path:`${s.k}/indices/${encodeURIComponent(e)}`,method:"get"})}(l);c(!1),u(t),x(e)}catch(e){c(!1),u(e)}}}),[l]);return Object(p.useEffect)((()=>{b()}),[b]),l?r&&!m?Object(j.jsx)(N.SectionLoading,null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.loadingDescription",defaultMessage:"Loading index details…"})):d||!m?Object(j.jsx)(Tr,{indexName:l,resendRequest:b}):Object(j.jsx)(wc,{index:m,tab:o,fetchIndexDetails:b,history:t}):Object(j.jsx)(g.EuiPageTemplate.EmptyPrompt,{"data-test-subj":"indexDetailsNoIndexNameError",color:"danger",iconType:"warning",title:Object(j.jsx)("h2",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.noIndexNameErrorTitle",defaultMessage:"Unable to load index details"})),body:Object(j.jsx)(g.EuiText,{color:"subdued"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.noIndexNameErrorDescription",defaultMessage:"An index name is required for this page. Add a query parameter {queryParam} followed by an index name to the url.",values:{queryParam:Object(j.jsx)(g.EuiCode,null,"indexName")}}))})},Ic=({dataStreams:e,onClose:t})=>{const[a,n]=Object(p.useState)(!1),l=e.length;return Object(j.jsx)(g.EuiConfirmModal,{buttonColor:"danger","data-test-subj":"deleteDataStreamsConfirmation",title:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.deleteDataStreamsConfirmationModal.modalTitleText",defaultMessage:"Delete {dataStreamsCount, plural, one {data stream} other {# data streams}}",values:{dataStreamsCount:l}}),onCancel:()=>t(),onConfirm:()=>{n(!0),async function(e){return ne({path:`${s.a}/delete_data_streams`,method:"post",body:{dataStreams:e}})}(e).then((({data:{dataStreamsDeleted:a,errors:s},error:n})=>{const l=a&&a.length;if(l){const s=1===a.length?i.i18n.translate("xpack.idxMgmt.deleteDataStreamsConfirmationModal.successDeleteSingleNotificationMessageText",{defaultMessage:"Deleted data stream '{dataStreamName}'",values:{dataStreamName:e[0]}}):i.i18n.translate("xpack.idxMgmt.deleteDataStreamsConfirmationModal.successDeleteMultipleNotificationMessageText",{defaultMessage:"Deleted {numSuccesses, plural, one {# data stream} other {# data streams}}",values:{numSuccesses:a.length}});t({hasDeletedDataStreams:l}),Fe.showSuccessToast(s)}if(n||s&&s.length){const t=s&&s.length>1||n&&e.length>1?i.i18n.translate("xpack.idxMgmt.deleteDataStreamsConfirmationModal.multipleErrorsNotificationMessageText",{defaultMessage:"Error deleting {count} data streams",values:{count:s&&s.length||e.length}}):i.i18n.translate("xpack.idxMgmt.deleteDataStreamsConfirmationModal.errorNotificationMessageText",{defaultMessage:"Error deleting data stream '{name}'",values:{name:s&&s[0].name||e[0]}});Fe.showDangerToast(t)}})).finally((()=>n(!1)))},cancelButtonText:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.deleteDataStreamsConfirmationModal.cancelButtonLabel",defaultMessage:"Cancel"}),confirmButtonText:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.deleteDataStreamsConfirmationModal.confirmButtonLabel",defaultMessage:"Delete {dataStreamsCount, plural, one {data stream} other {data streams} }",values:{dataStreamsCount:l}}),isLoading:a},Object(j.jsx)(p.Fragment,null,Object(j.jsx)(g.EuiCallOut,{title:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.deleteDataStreamsConfirmationModal.warningTitle",defaultMessage:"Deleting data streams also deletes indices"}),color:"danger",iconType:"warning"},Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.deleteDataStreamsConfirmationModal.warningMessage",defaultMessage:"Data streams are collections of time series indices. Deleting a data stream will also delete its indices."}))),Object(j.jsx)(g.EuiSpacer,null),Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.deleteDataStreamsConfirmationModal.deleteDescription",defaultMessage:"You are about to delete {dataStreamsCount, plural, one {this data stream} other {these data streams} }:",values:{dataStreamsCount:l}})),Object(j.jsx)("ul",null,e.map((e=>Object(j.jsx)("li",{key:e},e))))))},Pc=({dataStream:e})=>{const t=[];return Ys(e)&&t.push(Object(j.jsx)(g.EuiBadge,{color:"hollow",key:"managed"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.dataStreamList.table.managedDataStreamBadge",defaultMessage:"Fleet-managed"}))),e.hidden&&t.push(Object(j.jsx)(g.EuiBadge,{color:"hollow",key:"hidden"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.dataStreamList.table.hiddenDataStreamBadge",defaultMessage:"Hidden"}))),t.length>0?Object(j.jsx)(m.a.Fragment,null," ",Object(j.jsx)(g.EuiBadgeGroup,null,t)):null},Nc={dataRetention:{type:ie.d.TEXT,label:i.i18n.translate("xpack.idxMgmt.dataStreamsDetailsPanel.editDataRetentionModal.dataRetentionField",{defaultMessage:"Data retention"}),formatters:[ie.y.toInt],validations:[{validator:({value:e,formData:t})=>{if(!t.infiniteRetentionPeriod)return e?e<=0?{message:i.i18n.translate("xpack.idxMgmt.dataStreamsDetailsPanel.editDataRetentionModal.dataRetentionFieldNonNegativeError",{defaultMessage:"A positive value is required."})}:void 0:{message:i.i18n.translate("xpack.idxMgmt.dataStreamsDetailsPanel.editDataRetentionModal.dataRetentionFieldRequiredError",{defaultMessage:"A data retention value is required."})}}}]},timeUnit:{type:ie.d.TEXT,label:i.i18n.translate("xpack.idxMgmt.dataStreamsDetailsPanel.editDataRetentionModal.timeUnitField",{defaultMessage:"Time unit"})},infiniteRetentionPeriod:{type:ie.d.TOGGLE,defaultValue:!1,label:i.i18n.translate("xpack.idxMgmt.dataStreamsDetailsPanel.editDataRetentionModal.infiniteRetentionPeriodField",{defaultMessage:"Keep data indefinitely"})},dataRetentionEnabled:{type:ie.d.TOGGLE,defaultValue:!1,label:i.i18n.translate("xpack.idxMgmt.dataStreamsDetailsPanel.editDataRetentionModal.dataRetentionEnabledField",{defaultMessage:"Enable data retention"})}},Bc=({ilmPolicyLink:e,ilmPolicyName:t,dataStreamName:a,history:s})=>Object(j.jsx)(g.EuiCallOut,{title:i.i18n.translate("xpack.idxMgmt.dataStreamsDetailsPanel.editDataRetentionModal.someManagedByILMTitle",{defaultMessage:"Some indices are managed by ILM"}),color:"warning",iconType:"warning","data-test-subj":"someIndicesAreManagedByILMCallout"},Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.dataStreamsDetailsPanel.editDataRetentionModal.someManagedByILMBody",defaultMessage:"One or more indices are managed by an ILM policy ({viewAllIndicesLink}). Updating data retention for this data stream won't affect these indices. Instead you will have to update the {ilmPolicyLink} policy.",values:{ilmPolicyLink:Object(j.jsx)(g.EuiLink,{"data-test-subj":"viewIlmPolicyLink",href:e},t),viewAllIndicesLink:Object(j.jsx)(g.EuiLink,Ue()({},Object(ie.E)(s,Object(Pl.c)(`data_stream="${a}"`,!0)),{"data-test-subj":"viewAllIndicesLink"}),Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.dataStreamsDetailsPanel.editDataRetentionModal.viewAllIndices",defaultMessage:"view indices"}))}}))),Rc=({dataStream:e,ilmPolicyName:t,ilmPolicyLink:a,onClose:n})=>{const l=null==e?void 0:e.lifecycle,o=null==e?void 0:e.name,{history:r}=Re(),c=(e=>{var t;if("data stream lifecycle"===(null==e||null===(t=e.nextGenerationManagedBy)||void 0===t?void 0:t.toLowerCase())){var a,i;const t=null==e||null===(a=e.indices)||void 0===a?void 0:a.filter((e=>"index lifecycle management"===e.managedBy.toLowerCase())),s=null==e||null===(i=e.indices)||void 0===i?void 0:i.filter((e=>"data stream lifecycle"===e.managedBy.toLowerCase()));if(null==t||!t.length)return;return{ilmIndices:t,dslIndices:s}}})(e),{size:d,unit:u}=Ce(null==l?void 0:l.data_retention),{services:{notificationService:p}}=Re(),{form:x}=Object(ie.J)({defaultValue:{dataRetention:d,timeUnit:u||"d",dataRetentionEnabled:null==l?void 0:l.enabled,infiniteRetentionPeriod:(null==l?void 0:l.enabled)&&!(null!=l&&l.data_retention)},schema:Nc,id:"editDataRetentionForm"}),[b]=Object(ie.K)({form:x}),h=Object(ie.L)({form:x});return Object(j.jsx)(g.EuiModal,{onClose:()=>n(),"data-test-subj":"editDataRetentionModal"},Object(j.jsx)(ie.f,{form:x,"data-test-subj":"editDataRetentionForm"},Object(j.jsx)(g.EuiModalHeader,null,Object(j.jsx)(g.EuiModalHeaderTitle,null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.dataStreamsDetailsPanel.editDataRetentionModal.modalTitleText",defaultMessage:"Edit data retention"}))),Object(j.jsx)(g.EuiModalBody,null,c&&Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(Bc,{history:r,ilmPolicyLink:a,ilmPolicyName:t,dataStreamName:o}),Object(j.jsx)(g.EuiSpacer,null)),Object(j.jsx)(ie.s,{path:"dataRetentionEnabled",component:ie.r,"data-test-subj":"dataRetentionEnabledField"}),Object(j.jsx)(ie.s,{path:"dataRetention",component:ie.l,labelAppend:Object(j.jsx)(g.EuiText,{size:"xs"},Object(j.jsx)(g.EuiLink,{href:te.getUpdateExistingDS(),target:"_blank",external:!0},i.i18n.translate("xpack.idxMgmt.dataStreamsDetailsPanel.editDataRetentionModal.learnMoreLinkText",{defaultMessage:"How does it work?"}))),componentProps:{fullWidth:!1,euiFieldProps:{disabled:b.infiniteRetentionPeriod||!b.dataRetentionEnabled,"data-test-subj":"dataRetentionValue",min:1,append:Object(j.jsx)(Vs,{path:"timeUnit",options:Us,disabled:b.infiniteRetentionPeriod||!b.dataRetentionEnabled,euiFieldProps:{"data-test-subj":"timeUnit","aria-label":i.i18n.translate("xpack.idxMgmt.dataStreamsDetailsPanel.editDataRetentionModal.unitsAriaLabel",{defaultMessage:"Time unit"})}})}}}),Object(j.jsx)(ie.s,{path:"infiniteRetentionPeriod",component:ie.r,"data-test-subj":"infiniteRetentionPeriod",componentProps:{euiFieldProps:{disabled:!b.dataRetentionEnabled}}}),Object(j.jsx)(g.EuiSpacer,null)),Object(j.jsx)(g.EuiModalFooter,null,Object(j.jsx)(g.EuiButtonEmpty,{"data-test-subj":"cancelButton",onClick:()=>n()},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.dataStreamsDetailsPanel.editDataRetentionModal.cancelButtonLabel",defaultMessage:"Cancel"})),Object(j.jsx)(g.EuiButton,{fill:!0,type:"submit",isLoading:!1,disabled:x.isSubmitted&&!1===x.isValid||!h,"data-test-subj":"saveButton",onClick:async()=>{const{isValid:e,data:t}=await x.submit();if(e)return async function(e,t){let a;return a=t.dataRetentionEnabled?t.infiniteRetentionPeriod?{}:{dataRetention:`${t.dataRetention}${t.timeUnit}`}:{enabled:!1},ne({path:`${s.a}/data_streams/${encodeURIComponent(e)}/data_retention`,method:"put",body:a})}(o,t).then((({data:e,error:a})=>{if(e){const e=i.i18n.translate("xpack.idxMgmt.dataStreamsDetailsPanel.editDataRetentionModal.successDataRetentionNotification",{defaultMessage:"Data retention {disabledDataRetention, plural, one { disabled } other { updated } }",values:{disabledDataRetention:t.dataRetentionEnabled?0:1}});return p.showSuccessToast(e),n({hasUpdatedDataRetention:!0})}if(a){const e=i.i18n.translate("xpack.idxMgmt.dataStreamsDetailsPanel.editDataRetentionModal.errorDataRetentionNotification",{defaultMessage:"Error updating data retention: '{error}'",values:{error:a.message}});p.showDangerToast(e)}n()}))}},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.dataStreamsDetailsPanel.editDataRetentionModal.saveButtonLabel",defaultMessage:"Save"})))))};var Ac=a(53);const zc=(e,t)=>{const a=Re(),i=void 0===t?null:a.url.locators.get("ILM_LOCATOR_ID");return Object(Ac.useLocatorUrl)(i,{page:e,policyName:t},{},[e,t])},Vc=({details:e})=>{const t=e.map(((e,t)=>{const{name:a,toolTip:i,content:s,dataTestSubj:n}=e;return Object(j.jsx)(p.Fragment,{key:`${a}-${t}`},Object(j.jsx)(g.EuiDescriptionListTitle,null,Object(j.jsx)(g.EuiFlexGroup,{alignItems:"center",gutterSize:"s"},Object(j.jsx)(g.EuiFlexItem,{grow:!1},a),Object(j.jsx)(g.EuiFlexItem,{grow:!1},i&&Object(j.jsx)(g.EuiIconTip,{content:i,position:"top"})))),Object(j.jsx)(g.EuiDescriptionListDescription,{"data-test-subj":n},s))})),a=Math.ceil(t.length/2),i=t.slice(0,a),s=t.slice(a,t.length);return Object(j.jsx)(g.EuiFlexGroup,null,Object(j.jsx)(g.EuiFlexItem,null,Object(j.jsx)(g.EuiDescriptionList,{textStyle:"reverse"},i)),Object(j.jsx)(g.EuiFlexItem,null,Object(j.jsx)(g.EuiDescriptionList,{textStyle:"reverse"},s)))},Uc=({condition:e,wrap:t,children:a})=>e?t(a):a,qc=({dataStreamName:e,onClose:t})=>{var a,s,n;const[l,o]=Object(p.useState)(!1),[r,c]=Object(p.useState)(!1),[d,u]=Object(p.useState)(!1),{error:x,data:b,isLoading:h}=ce(e),M=zc(Dl,null==b?void 0:b.ilmPolicyName),{history:O}=Re();let y,v;if(h)v=Object(j.jsx)(ie.o,null,i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.loadingDataStreamDescription",{defaultMessage:"Loading data stream"}));else if(x)v=Object(j.jsx)(Bl,{title:i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.loadingDataStreamErrorMessage",{defaultMessage:"Error loading data stream"}),error:x,"data-test-subj":"sectionError"});else if(b){const{health:t,indices:a,timeStampField:s,generation:n,indexTemplateName:l,ilmPolicyName:o,storageSize:r,maxTimeStamp:c,lifecycle:d}=b,u=()=>{const e=[];return o&&e.push({name:i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.ilmPolicyTitle",{defaultMessage:"Index lifecycle policy"}),toolTip:i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.ilmPolicyToolTip",{defaultMessage:"The index lifecycle policy that manages the data in the data stream. "}),content:Qs(b)?Object(j.jsx)(g.EuiToolTip,{position:"top",content:i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.ilmPolicyToolTipWarning",{defaultMessage:"This data stream is not currently being managed by the ILM policy."})},Object(j.jsx)(m.a.Fragment,null,M?Object(j.jsx)(g.EuiLink,{"data-test-subj":"ilmPolicyLink",href:M},Object(j.jsx)(g.EuiTextColor,{color:"subdued"},o)):o)):Object(j.jsx)(m.a.Fragment,null,M?Object(j.jsx)(g.EuiLink,{"data-test-subj":"ilmPolicyLink",href:M},o):o),dataTestSubj:"ilmPolicyDetail"}),e};y=Object(j.jsx)(g.EuiLink,Object(ie.E)(O,Object(Pl.c)(`data_stream="${e}"`,!0)),a.length);const p=[{name:i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.healthTitle",{defaultMessage:"Health"}),toolTip:i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.healthToolTip",{defaultMessage:"The health of the data stream's current backing indices."}),content:Object(j.jsx)(Fo,{health:t}),dataTestSubj:"healthDetail"},{name:i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.maxTimeStampTitle",{defaultMessage:"Last updated"}),toolTip:i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.maxTimeStampToolTip",{defaultMessage:"The most recent document to be added to the data stream."}),content:c?tc(c):Object(j.jsx)("em",null,i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.maxTimeStampNoneMessage",{defaultMessage:"Never"})),dataTestSubj:"lastUpdatedDetail"},{name:i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.storageSizeTitle",{defaultMessage:"Storage size"}),toolTip:i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.storageSizeToolTip",{defaultMessage:"The total size of all shards in the data stream’s backing indices."}),content:r,dataTestSubj:"storageSizeDetail"},{name:i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.indicesTitle",{defaultMessage:"Indices"}),toolTip:i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.indicesToolTip",{defaultMessage:"The data stream's current backing indices."}),content:y,dataTestSubj:"indicesDetail"},{name:i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.timestampFieldTitle",{defaultMessage:"Timestamp field"}),toolTip:i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.timestampFieldToolTip",{defaultMessage:"The timestamp field shared by all documents in the data stream."}),content:s.name,dataTestSubj:"timestampDetail"},{name:i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.generationTitle",{defaultMessage:"Generation"}),toolTip:i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.generationToolTip",{defaultMessage:"The number of backing indices generated for the data stream."}),content:n,dataTestSubj:"generationDetail"},{name:i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.indexTemplateTitle",{defaultMessage:"Index template"}),toolTip:i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.indexTemplateToolTip",{defaultMessage:"The index template that configured the data stream and configures its backing indices."}),content:Object(j.jsx)(g.EuiLink,Ue()({"data-test-subj":"indexTemplateLink"},Object(ie.E)(O,Object(Pl.e)(l))),l),dataTestSubj:"indexTemplateDetail"},{name:i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.dataRetentionTitle",{defaultMessage:"Data retention"}),toolTip:i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.dataRetentionToolTip",{defaultMessage:"Data is kept at least this long before being automatically deleted. The data retention value only applies to the data managed directly by the data stream. If some data is subject to an index lifecycle management policy, then the data retention value set for the data stream doesn't apply to that data."}),content:Object(j.jsx)(Uc,{condition:Ks(b),wrap:e=>Object(j.jsx)(g.EuiTextColor,{color:"subdued"},e)},Object(j.jsx)(m.a.Fragment,null,Xs(d))),dataTestSubj:"dataRetentionDetail"},...u()];v=Object(j.jsx)(m.a.Fragment,null,Ks(b)&&Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiCallOut,{title:i.i18n.translate("xpack.idxMgmt.dataStreamsDetailsPanel.editDataRetentionModal.fullyManagedByILMTitle",{defaultMessage:"This data stream and its associated indices are managed by ILM"}),iconType:"pin","data-test-subj":"dsIsFullyManagedByILM"},Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.dataStreamsDetailsPanel.editDataRetentionModal.fullyManagedByILMDescription",defaultMessage:"To edit data retention for this data stream, you must edit its associated {link}.",values:{link:Object(j.jsx)(g.EuiLink,{href:M},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.dataStreamsDetailsPanel.editDataRetentionModal.fullyManagedByILMButtonLabel",defaultMessage:"ILM policy"}))}}))),Object(j.jsx)(g.EuiSpacer,null)),Object(j.jsx)(Vc,{details:p}))}const E=()=>{o(!1)},k=Object(j.jsx)(g.EuiButton,{fill:!0,iconType:"arrowDown",iconSide:"right","data-test-subj":"manageDataStreamButton",onClick:()=>o(!l)},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.dataStreamsDetailsPanel.manageButtonLabel",defaultMessage:"Manage"})),T=[{id:0,title:i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.managePanelTitle",{defaultMessage:"Data stream options"}),items:[...!Ks(b)&&null!=b&&null!==(a=b.privileges)&&void 0!==a&&a.manage_data_stream_lifecycle?[{key:"editDataRetention",name:i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.managePanelEditDataRetention",{defaultMessage:"Edit data retention"}),"data-test-subj":"editDataRetentionButton",icon:Object(j.jsx)(g.EuiIcon,{type:"pencil",size:"m"}),onClick:()=>{E(),u(!0)}}]:[],...null!=b&&null!==(s=b.privileges)&&void 0!==s&&s.delete_index?[{key:"deleteDataStream",name:i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.managePanelDelete",{defaultMessage:"Delete"}),"data-test-subj":"deleteDataStreamButton",icon:Object(j.jsx)(g.EuiIcon,{type:"trash",size:"m",color:"danger"}),onClick:()=>{E(),c(!0)}}]:[]]}];return Object(j.jsx)(m.a.Fragment,null,r&&Object(j.jsx)(Ic,{onClose:e=>{e&&e.hasDeletedDataStreams?t(!0):c(!1)},dataStreams:[e]}),d&&b&&Object(j.jsx)(Rc,{onClose:e=>{e&&null!=e&&e.hasUpdatedDataRetention?t(!0):u(!1)},ilmPolicyName:null==b?void 0:b.ilmPolicyName,ilmPolicyLink:M,dataStream:b}),Object(j.jsx)(g.EuiFlyout,{onClose:()=>t(),"data-test-subj":"dataStreamDetailPanel","aria-labelledby":"dataStreamDetailPanelTitle",size:"m",maxWidth:500},Object(j.jsx)(g.EuiFlyoutHeader,null,Object(j.jsx)(g.EuiTitle,{size:"m"},Object(j.jsx)("h2",{id:"dataStreamDetailPanelTitle","data-test-subj":"dataStreamDetailPanelTitle"},e,Object(j.jsx)(Sr,{indexName:e}),b&&Object(j.jsx)(Pc,{dataStream:b})))),Object(j.jsx)(g.EuiFlyoutBody,{"data-test-subj":"content"},v),Object(j.jsx)(g.EuiFlyoutFooter,null,Object(j.jsx)(g.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(g.EuiButtonEmpty,{iconType:"cross",flush:"left",onClick:()=>t(),"data-test-subj":"closeDetailsButton"},i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.closeButtonLabel",{defaultMessage:"Close"}))),!h&&!x&&(null===(n=T[0].items)||void 0===n?void 0:n.length)&&Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(g.EuiPopover,{button:k,isOpen:l,closePopover:E,panelPaddingSize:"none",anchorPosition:"downLeft"},Object(j.jsx)(g.EuiContextMenu,{initialPanelId:0,panels:T})))))))},Wc=({dataStreams:e,reload:t,history:a,filters:s,includeStats:n})=>{const[l,o]=Object(p.useState)([]),[r,c]=Object(p.useState)([]),{config:d}=Re(),u=Object(p.useMemo)((()=>(e||[]).map((e=>({...e,isDataStreamFullyManagedByILM:Ks(e)})))),[e]),x=[];x.push({field:"name",name:i.i18n.translate("xpack.idxMgmt.dataStreamList.table.nameColumnTitle",{defaultMessage:"Name"}),truncateText:!0,sortable:!0,render:(e,t)=>Object(j.jsx)(p.Fragment,null,Object(j.jsx)(g.EuiLink,Ue()({"data-test-subj":"nameLink"},Object(ie.E)(a,Object(Pl.a)(e))),e),Object(j.jsx)(Pc,{dataStream:t}))}),x.push({field:"health",name:i.i18n.translate("xpack.idxMgmt.dataStreamList.table.healthColumnTitle",{defaultMessage:"Health"}),truncateText:!0,sortable:!0,render:e=>Object(j.jsx)(Fo,{health:e})}),n&&(x.push({field:"maxTimeStamp",name:i.i18n.translate("xpack.idxMgmt.dataStreamList.table.maxTimeStampColumnTitle",{defaultMessage:"Last updated"}),truncateText:!0,sortable:!0,render:e=>e?tc(e):i.i18n.translate("xpack.idxMgmt.dataStreamList.table.maxTimeStampColumnNoneMessage",{defaultMessage:"Never"})}),d.enableDataStreamsStorageColumn&&x.push({field:"storageSizeBytes",name:i.i18n.translate("xpack.idxMgmt.dataStreamList.table.storageSizeColumnTitle",{defaultMessage:"Storage size"}),truncateText:!0,sortable:!0,render:(e,t)=>t.storageSize})),x.push({field:"indices",name:i.i18n.translate("xpack.idxMgmt.dataStreamList.table.indicesColumnTitle",{defaultMessage:"Indices"}),truncateText:!0,sortable:!0,render:(e,t)=>Object(j.jsx)(g.EuiLink,Ue()({"data-test-subj":"indicesLink"},Object(ie.E)(a,Object(Pl.c)(`data_stream="${t.name}"`,!0))),e.length)}),x.push({field:"lifecycle",name:Object(j.jsx)(g.EuiToolTip,{content:i.i18n.translate("xpack.idxMgmt.dataStreamList.table.dataRetentionColumnTooltip",{defaultMessage:"Data is kept at least this long before being automatically deleted. The data retention value only applies to the data managed directly by the data stream. If some data is subject to an index lifecycle management policy, then the data retention value set for the data stream doesn't apply to that data."})},Object(j.jsx)("span",null,i.i18n.translate("xpack.idxMgmt.dataStreamList.table.dataRetentionColumnTitle",{defaultMessage:"Data retention"})," ",Object(j.jsx)(g.EuiIcon,{size:"s",color:"subdued",type:"questionInCircle"}))),truncateText:!0,sortable:!0,render:(e,t)=>Object(j.jsx)(Uc,{condition:t.isDataStreamFullyManagedByILM,wrap:e=>Object(j.jsx)(g.EuiTextColor,{color:"subdued"},e)},Object(j.jsx)(m.a.Fragment,null,Xs(e,!0)))}),x.push({name:i.i18n.translate("xpack.idxMgmt.dataStreamList.table.actionColumnTitle",{defaultMessage:"Actions"}),actions:[{name:i.i18n.translate("xpack.idxMgmt.dataStreamList.table.actionDeleteText",{defaultMessage:"Delete"}),description:i.i18n.translate("xpack.idxMgmt.dataStreamList.table.actionDeleteDescription",{defaultMessage:"Delete this data stream"}),icon:"trash",color:"danger",type:"icon",onClick:({name:e})=>{c([e])},isPrimary:!0,"data-test-subj":"deleteDataStream",available:({privileges:{delete_index:e}})=>e}]});const b={onSelectionChange:o},h={query:s,box:{incremental:!0},toolsLeft:l.length>0&&l.every((e=>e.privileges.delete_index))?Object(j.jsx)(g.EuiButton,{"data-test-subj":"deleteDataStreamsButton",onClick:()=>c(l.map((({name:e})=>e))),color:"danger"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.dataStreamList.table.deleteDataStreamsButtonLabel",defaultMessage:"Delete {count, plural, one {data stream} other {data streams} }",values:{count:l.length}})):void 0,toolsRight:[Object(j.jsx)(g.EuiButton,{color:"success",iconType:"refresh",onClick:t,"data-test-subj":"reloadButton",key:"reloadButton"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.dataStreamList.reloadDataStreamsButtonLabel",defaultMessage:"Reload"}))]};return Object(j.jsx)(m.a.Fragment,null,r&&r.length>0?Object(j.jsx)(Ic,{onClose:e=>{e&&e.hasDeletedDataStreams?t():c([])},dataStreams:r}):null,Object(j.jsx)(g.EuiInMemoryTable,{items:u,itemId:"name",columns:x,search:h,sorting:{sort:{field:"name",direction:"asc"}},isSelectable:!0,selection:b,pagination:{initialPageSize:20,pageSizeOptions:[10,20,50]},rowProps:()=>({"data-test-subj":"row"}),cellProps:()=>({"data-test-subj":"cell"}),"data-test-subj":"dataStreamTable",message:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.dataStreamList.table.noDataStreamsMessage",defaultMessage:"No data streams found"}),tableLayout:"auto"}))};function Gc({onChange:e,filters:t}){const{euiTheme:a}=Object(g.useEuiTheme)(),[i,s]=Object(p.useState)(!1),n=Object.values(t).filter((e=>"on"===e.checked)),l=Object(j.jsx)(g.EuiFilterButton,{iconType:"arrowDown",onClick:()=>{s(!i)},isSelected:i,numFilters:Object.keys(t).length,hasActiveFilters:n.length>0,numActiveFilters:n.length,"data-test-subj":"viewButton"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.indexTemplatesList.viewButtonLabel",defaultMessage:"View"}));return Object(j.jsx)(g.EuiFilterGroup,null,Object(j.jsx)(g.EuiPopover,{ownFocus:!0,button:l,isOpen:i,closePopover:()=>{s(!1)},panelPaddingSize:"none","data-test-subj":"filterList"},Object(j.jsx)("div",{className:"eui-yScroll",css:Object(j.css)({maxHeight:30*a.base},"","")},Object.entries(t).map((([a,i],s)=>Object(j.jsx)(g.EuiFilterSelectItem,{checked:i.checked,key:s,onClick:()=>(a=>{const i=t[a].checked;e({...t,[a]:{...t[a],checked:"on"===i?"off":"on"}})})(a),"data-test-subj":"filterItem"},i.name))))))}const $c=({match:{params:{dataStreamName:e}},location:{search:t},history:a})=>{const{isDeepLink:n,includeHidden:l}=Object(ie.x)(t),o=Object(ie.v)(e),{core:{getUrlForApp:d,executionContext:u},plugins:{isFleetEnabled:m}}=Re();Object(ie.I)(u,{type:"application",page:"indexManagementDataStreamsTab"}),Object(p.useEffect)((()=>{c.setBreadcrumbs(r.dataStreams)}),[]);const[x,b]=Object(p.useState)(!1),{error:h,isLoading:M,data:O,resendRequest:y}=function({includeStats:e}){return le({path:`${s.a}/data_streams`,method:"get",query:{includeStats:e}})}({includeStats:x}),[v,E]=Object(p.useState)({managed:{name:i.i18n.translate("xpack.idxMgmt.dataStreamList.viewManagedLabel",{defaultMessage:"Fleet-managed data streams"}),checked:"on"},hidden:{name:i.i18n.translate("xpack.idxMgmt.dataStreamList.viewHiddenLabel",{defaultMessage:"Hidden data streams"}),checked:l?"on":"off"}}),k=Object(p.useMemo)((()=>{if(!O)return[];const e=Object.entries(v).filter((([e,t])=>"on"===t.checked)).map((([e])=>e));return((e,t)=>e.filter((e=>!e.hidden&&!Ys(e)||!(!e.hidden||!t.includes("hidden"))||Ys(e)&&t.includes("managed"))))(O,e)}),[O,v]);let T;var F;return M?T=Object(j.jsx)(ie.n,null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.dataStreamList.loadingDataStreamsDescription",defaultMessage:"Loading data streams…"})):h?T=Object(j.jsx)(ie.m,{title:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.dataStreamList.loadingDataStreamsErrorMessage",defaultMessage:"Error loading data streams"}),error:h}):Array.isArray(O)&&0===O.length?T=Object(j.jsx)(g.EuiEmptyPrompt,{iconType:"managementApp",title:Object(j.jsx)("h1",{"data-test-subj":"title"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.dataStreamList.emptyPrompt.noDataStreamsTitle",defaultMessage:"You don't have any data streams yet"})),body:Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.dataStreamList.emptyPrompt.noDataStreamsDescription",defaultMessage:"Data streams store time-series data across multiple indices."})," ",m?Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.dataStreamList.emptyPrompt.noDataStreamsCtaIngestManagerMessage",defaultMessage:"Get started with data streams in {link}.",values:{link:Object(j.jsx)(g.EuiLink,{"data-test-subj":"dataStreamsEmptyPromptTemplateLink",href:d("fleet")},i.i18n.translate("xpack.idxMgmt.dataStreamList.emptyPrompt.noDataStreamsCtaIngestManagerLink",{defaultMessage:"Fleet"}))}}):Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.dataStreamList.emptyPrompt.noDataStreamsCtaIndexTemplateMessage",defaultMessage:"Get started with data streams by creating a {link}.",values:{link:Object(j.jsx)(g.EuiLink,Ue()({"data-test-subj":"dataStreamsEmptyPromptTemplateLink"},Object(ie.E)(a,{pathname:"/templates"})),i.i18n.translate("xpack.idxMgmt.dataStreamList.emptyPrompt.noDataStreamsCtaIndexTemplateLink",{defaultMessage:"composable index template"}))}})),"data-test-subj":"emptyPrompt"}):(F=((e,t)=>{var a;return!!t&&!(null===(a=e.find((e=>e.name===t)))||void 0===a||!a.hidden)})(O,o),F&&"off"===v.hidden.checked&&E({...v,hidden:{...v.hidden,checked:"on"}}),T=Object(j.jsx)(g.EuiPageSection,{paddingSize:"none","data-test-subj":"dataStreamList"},Object(j.jsx)(g.EuiFlexGroup,{alignItems:"center",justifyContent:"spaceBetween"},Object(j.jsx)(g.EuiFlexItem,null,Object(j.jsx)(g.EuiText,{color:"subdued"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.dataStreamList.dataStreamsDescription",defaultMessage:"Data streams store time-series data across multiple indices. {learnMoreLink}",values:{learnMoreLink:Object(j.jsx)(g.EuiLink,{href:te.getDataStreamsDocumentationLink(),target:"_blank",external:!0},i.i18n.translate("xpack.idxMgmt.dataStreamListDescription.learnMoreLinkText",{defaultMessage:"Learn more."}))}}))),Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(g.EuiFlexGroup,{gutterSize:"s"},Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(g.EuiSwitch,{label:i.i18n.translate("xpack.idxMgmt.dataStreamListControls.includeStatsSwitchLabel",{defaultMessage:"Include stats"}),checked:x,onChange:e=>b(e.target.checked),"data-test-subj":"includeStatsSwitch"})),Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(g.EuiIconTip,{content:i.i18n.translate("xpack.idxMgmt.dataStreamListControls.includeStatsSwitchToolTip",{defaultMessage:"Including stats can increase reload times"}),position:"top"})))),Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(Gc,{filters:v,onChange:E}))),Object(j.jsx)(g.EuiSpacer,{size:"l"}),Object(j.jsx)(Wc,{filters:n&&void 0!==o?`name="${o}"`:"",dataStreams:k,reload:y,history:a,includeStats:x}))),Object(j.jsx)("div",{className:ie.a},T,o&&Object(j.jsx)(qc,{dataStreamName:o,onClose:e=>{a.push(`/${s.o.DataStreams}`),e&&y()}}))},Hc=e=>{const{legacy:t}=Object(Jn.parse)(e.search.substring(1));return!(!Boolean(t)||"string"!=typeof t)&&"true"===t},Jc={managed:i.i18n.translate("xpack.idxMgmt.templateBadgeType.managed",{defaultMessage:"Managed"}),cloudManaged:i.i18n.translate("xpack.idxMgmt.templateBadgeType.cloudManaged",{defaultMessage:"Cloud-managed"}),system:i.i18n.translate("xpack.idxMgmt.templateBadgeType.system",{defaultMessage:"System"})},Yc=({templateType:e})=>"default"===e?null:Object(j.jsx)(g.EuiBadge,{color:"hollow","data-test-subj":"templateTypeBadge"},Jc[e]),Xc=({templates:e,reload:t,editTemplate:a,cloneTemplate:n,history:l})=>{const{uiMetricService:o}=Ae(),[r,c]=Object(p.useState)([]),[d,u]=Object(p.useState)([]),x=[{field:"name",name:i.i18n.translate("xpack.idxMgmt.templateList.table.nameColumnTitle",{defaultMessage:"Name"}),truncateText:!0,sortable:!0,render:(e,t)=>Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiLink,Ue()({},Object(ie.E)(l,Object(Pl.e)(e),(()=>o.trackMetric(ae.METRIC_TYPE.CLICK,s.R))),{"data-test-subj":"templateDetailsLink"}),e)," ",Object(j.jsx)(Yc,{templateType:t._kbnMeta.type}))},{field:"indexPatterns",name:i.i18n.translate("xpack.idxMgmt.templateList.table.indexPatternsColumnTitle",{defaultMessage:"Index patterns"}),truncateText:!0,sortable:!0,render:e=>Object(j.jsx)("strong",null,e.join(", "))},{field:"composedOf",name:i.i18n.translate("xpack.idxMgmt.templateList.table.componentsColumnTitle",{defaultMessage:"Components"}),truncateText:!0,sortable:!0,render:(e=[])=>Object(j.jsx)("span",null,e.join(", "))},{name:i.i18n.translate("xpack.idxMgmt.templateList.table.dataStreamColumnTitle",{defaultMessage:"Data stream"}),truncateText:!0,render:e=>e._kbnMeta.hasDatastream?Object(j.jsx)(g.EuiIcon,{type:"check"}):null},{name:i.i18n.translate("xpack.idxMgmt.templateList.table.contentColumnTitle",{defaultMessage:"Content"}),width:"120px",render:e=>Object(j.jsx)(zs,{mappings:e.hasMappings,settings:e.hasSettings,aliases:e.hasAliases,contentWhenEmpty:Object(j.jsx)("em",null,i.i18n.translate("xpack.idxMgmt.templateList.table.noneDescriptionText",{defaultMessage:"None"}))})},{name:i.i18n.translate("xpack.idxMgmt.templateList.table.actionColumnTitle",{defaultMessage:"Actions"}),width:"120px",actions:[{name:i.i18n.translate("xpack.idxMgmt.templateList.table.actionEditText",{defaultMessage:"Edit"}),isPrimary:!0,description:i.i18n.translate("xpack.idxMgmt.templateList.table.actionEditDecription",{defaultMessage:"Edit this template"}),icon:"pencil",type:"icon",onClick:({name:e})=>{a(e)},enabled:({_kbnMeta:{type:e}})=>"cloudManaged"!==e},{type:"icon",name:i.i18n.translate("xpack.idxMgmt.templateList.table.actionCloneTitle",{defaultMessage:"Clone"}),description:i.i18n.translate("xpack.idxMgmt.templateList.table.actionCloneDescription",{defaultMessage:"Clone this template"}),icon:"copy",onClick:({name:e})=>{n(e)}},{name:i.i18n.translate("xpack.idxMgmt.templateList.table.actionDeleteText",{defaultMessage:"Delete"}),description:i.i18n.translate("xpack.idxMgmt.templateList.table.actionDeleteDecription",{defaultMessage:"Delete this template"}),icon:"trash",color:"danger",type:"icon",onClick:({name:e,_kbnMeta:{isLegacy:t}})=>{u([{name:e,isLegacy:t}])},isPrimary:!0,enabled:({_kbnMeta:{type:e}})=>"cloudManaged"!==e}]}],b={onSelectionChange:c,selectable:({_kbnMeta:{type:e}})=>"cloudManaged"!==e,selectableMessage:e=>e?"":i.i18n.translate("xpack.idxMgmt.templateList.table.deleteCloudManagedTemplateTooltip",{defaultMessage:"You cannot delete a cloud-managed template."})},h={box:{incremental:!0},toolsLeft:r.length>0?Object(j.jsx)(g.EuiButton,{"data-test-subj":"deleteTemplatesButton",onClick:()=>u(r.map((({name:e,_kbnMeta:{isLegacy:t}})=>({name:e,isLegacy:t})))),color:"danger"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.templateList.table.deleteTemplatesButtonLabel",defaultMessage:"Delete {count, plural, one {template} other {templates} }",values:{count:r.length}})):void 0,toolsRight:[Object(j.jsx)(g.EuiButton,Ue()({iconType:"plusInCircle","data-test-subj":"createTemplateButton",key:"createTemplateButton",fill:!0},Object(ie.E)(l,"/create_template")),Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.templateList.table.createTemplatesButtonLabel",defaultMessage:"Create template"}))]};return Object(j.jsx)(p.Fragment,null,d&&d.length>0?Object(j.jsx)(Al,{callback:e=>{e&&e.hasDeletedTemplates&&(t(),l.push("templates")),u([])},templatesToDelete:d}):null,Object(j.jsx)(g.EuiInMemoryTable,{items:e||[],itemId:"name",columns:x,search:h,sorting:{sort:{field:"name",direction:"asc"}},isSelectable:!0,selection:b,pagination:{initialPageSize:20,pageSizeOptions:[10,20,50]},rowProps:()=>({"data-test-subj":"row"}),cellProps:()=>({"data-test-subj":"cell"}),"data-test-subj":"templateTable",message:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.templateList.table.noIndexTemplatesMessage",defaultMessage:"No index templates found"})}))},Kc={yes:i.i18n.translate("xpack.idxMgmt.templateDetails.summaryTab.yesDescriptionText",{defaultMessage:"Yes"}),no:i.i18n.translate("xpack.idxMgmt.templateDetails.summaryTab.noDescriptionText",{defaultMessage:"No"}),none:i.i18n.translate("xpack.idxMgmt.templateDetails.summaryTab.noneDescriptionText",{defaultMessage:"None"})},Qc=({templateDetails:e})=>{const{version:t,priority:a,composedOf:i,order:s,indexPatterns:n=[],ilmPolicy:l,_meta:o,_kbnMeta:{isLegacy:r,hasDatastream:c},allowAutoCreate:d}=e,u=n.length,p=zc(Dl,null==l?void 0:l.name);return Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiFlexGroup,{"data-test-subj":"summaryTab"},Object(j.jsx)(g.EuiFlexItem,null,Object(j.jsx)(g.EuiDescriptionList,{textStyle:"reverse"},Object(j.jsx)(g.EuiDescriptionListTitle,null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.summaryTab.indexPatternsDescriptionListTitle",defaultMessage:"Index {numIndexPatterns, plural, one {pattern} other {patterns}}",values:{numIndexPatterns:u}})),Object(j.jsx)(g.EuiDescriptionListDescription,null,u>1?Object(j.jsx)(g.EuiText,null,Object(j.jsx)("ul",null,n.map(((e,t)=>Object(j.jsx)("li",{key:`${e}-${t}`},Object(j.jsx)(g.EuiTitle,{size:"xs"},Object(j.jsx)("span",null,e))))))):n.toString()),!0!==r?Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiDescriptionListTitle,null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.summaryTab.priorityDescriptionListTitle",defaultMessage:"Priority"})),Object(j.jsx)(g.EuiDescriptionListDescription,null,a||0===a?a:Kc.none)):Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiDescriptionListTitle,null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.summaryTab.orderDescriptionListTitle",defaultMessage:"Order"})),Object(j.jsx)(g.EuiDescriptionListDescription,null,s||0===s?s:Kc.none)),!0!==r&&Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiDescriptionListTitle,{"data-test-subj":"componentsTitle"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.summaryTab.componentsDescriptionListTitle",defaultMessage:"Component templates"})),Object(j.jsx)(g.EuiDescriptionListDescription,null,i&&i.length>0?Object(j.jsx)("ul",null,i.map((e=>Object(j.jsx)("li",{key:e},Object(j.jsx)(g.EuiTitle,{size:"xs"},Object(j.jsx)("span",null,e)))))):Kc.none)))),Object(j.jsx)(g.EuiFlexItem,null,Object(j.jsx)(g.EuiDescriptionList,{textStyle:"reverse"},r&&Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiDescriptionListTitle,null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.summaryTab.ilmPolicyDescriptionListTitle",defaultMessage:"ILM policy"})),Object(j.jsx)(g.EuiDescriptionListDescription,null,null!=l&&l.name&&p?Object(j.jsx)(g.EuiLink,{href:p},l.name):(null==l?void 0:l.name)||Kc.none)),!0!==r&&Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiDescriptionListTitle,null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.summaryTab.dataStreamDescriptionListTitle",defaultMessage:"Data stream"})),Object(j.jsx)(g.EuiDescriptionListDescription,null,c?Kc.yes:Kc.no)),Object(j.jsx)(g.EuiDescriptionListTitle,null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.summaryTab.versionDescriptionListTitle",defaultMessage:"Version"})),Object(j.jsx)(g.EuiDescriptionListDescription,null,t||0===t?t:Kc.none),c&&(null==e?void 0:e.lifecycle)&&Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiDescriptionListTitle,null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.summaryTab.lifecycleDescriptionListTitle",defaultMessage:"Data retention"})),Object(j.jsx)(g.EuiDescriptionListDescription,null,Xs(Le(e.lifecycle),!0))),!0!==r&&Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiDescriptionListTitle,null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.summaryTab.allowAutoCreateDescriptionListTitle",defaultMessage:"Allow auto create"})),Object(j.jsx)(g.EuiDescriptionListDescription,null,d?Kc.yes:Kc.no))))),Object(j.jsx)(g.EuiSpacer,{size:"m"}),Object(j.jsx)(g.EuiDescriptionList,{textStyle:"reverse"},!0!==r&&o&&Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiDescriptionListTitle,{"data-test-subj":"metaTitle"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.summaryTab.metaDescriptionListTitle",defaultMessage:"Metadata"})),Object(j.jsx)(g.EuiDescriptionListDescription,null,Object(j.jsx)(g.EuiCodeBlock,{language:"json"},JSON.stringify(o,null,2))))))},Zc=({templateDetails:e})=>Object(j.jsx)("div",{"data-test-subj":"previewTabContent"},Object(j.jsx)(g.EuiText,null,Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.previewTab.descriptionText",defaultMessage:"This is the final template that will be applied to matching indices."}))),Object(j.jsx)(g.EuiSpacer,{size:"m"}),Object(j.jsx)(Vl,{template:e})),ed="summary",td="mappings",ad="aliases",id="settings",sd="preview",nd=[{id:ed,name:i.i18n.translate("xpack.idxMgmt.templateDetails.summaryTabTitle",{defaultMessage:"Summary"})},{id:id,name:i.i18n.translate("xpack.idxMgmt.templateDetails.settingsTabTitle",{defaultMessage:"Settings"})},{id:td,name:i.i18n.translate("xpack.idxMgmt.templateDetails.mappingsTabTitle",{defaultMessage:"Mappings"})},{id:ad,name:i.i18n.translate("xpack.idxMgmt.templateDetails.aliasesTabTitle",{defaultMessage:"Aliases"})},{id:sd,name:i.i18n.translate("xpack.idxMgmt.templateDetails.previewTabTitle",{defaultMessage:"Preview"})}],ld={[ed]:s.P,[id]:s.O,[td]:s.M,[ad]:s.L,[sd]:s.N},od=({template:{name:e,isLegacy:t},onClose:a,editTemplate:s,cloneTemplate:n,reload:l})=>{const{uiMetricService:o}=Ae(),{error:r,data:c,isLoading:d}=je(e,t),u="cloudManaged"===(null==c?void 0:c._kbnMeta.type),[x,b]=Object(p.useState)([]),[h,M]=Object(p.useState)(ed),[O,y]=Object(p.useState)(!1);return Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiFlyoutHeader,null,Object(j.jsx)(g.EuiTitle,{size:"m"},Object(j.jsx)("h2",{id:"templateDetailsFlyoutTitle","data-test-subj":"title"},e,c&&Object(j.jsx)(m.a.Fragment,null," ",Object(j.jsx)(Yc,{templateType:c._kbnMeta.type}))))),Object(j.jsx)(g.EuiFlyoutBody,{"data-test-subj":"content"},(()=>{if(d)return Object(j.jsx)(ie.o,null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.loadingIndexTemplateDescription",defaultMessage:"Loading template…"}));if(r)return Object(j.jsx)(Bl,{title:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.loadingIndexTemplateErrorMessage",defaultMessage:"Error loading template"}),error:r,"data-test-subj":"sectionError"});if(c){const{template:{settings:e,mappings:a,aliases:i}={}}=c,s={[ed]:Object(j.jsx)(Qc,{templateDetails:c}),[id]:Object(j.jsx)(at,{settings:e}),[td]:Object(j.jsx)(tt,{mappings:a}),[ad]:Object(j.jsx)(et,{aliases:i}),[sd]:Object(j.jsx)(Zc,{templateDetails:c})}[h],n=u&&Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiCallOut,{title:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.cloudManagedTemplateInfoTitle",defaultMessage:"Editing a cloud-managed template is not permitted."}),color:"primary",size:"s"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.cloudManagedTemplateInfoDescription",defaultMessage:"Cloud-managed templates are critical for internal operations."})),Object(j.jsx)(g.EuiSpacer,{size:"m"}));return Object(j.jsx)(m.a.Fragment,null,n,Object(j.jsx)(g.EuiTabs,null,nd.filter((e=>!t||e.id!==sd)).map((e=>Object(j.jsx)(g.EuiTab,{onClick:()=>{o.trackMetric(ae.METRIC_TYPE.CLICK,ld[e.id]),M(e.id)},isSelected:e.id===h,key:e.id,"data-test-subj":"tab"},e.name)))),Object(j.jsx)(g.EuiSpacer,{size:"l"}),s)}})()),Object(j.jsx)(g.EuiFlyoutFooter,null,Object(j.jsx)(g.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(g.EuiButtonEmpty,{iconType:"cross",flush:"left",onClick:a,"data-test-subj":"closeDetailsButton"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.closeButtonLabel",defaultMessage:"Close"}))),c&&Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(g.EuiPopover,{id:"manageTemplatePanel",button:Object(j.jsx)(g.EuiButton,{fill:!0,"data-test-subj":"manageTemplateButton",iconType:"arrowDown",iconSide:"right",onClick:()=>y((e=>!e))},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.manageButtonLabel",defaultMessage:"Manage"})),isOpen:O,closePopover:()=>y(!1),panelPaddingSize:"none",anchorPosition:"rightUp",repositionOnScroll:!0},Object(j.jsx)(g.EuiContextMenu,{initialPanelId:0,panels:[{id:0,title:i.i18n.translate("xpack.idxMgmt.templateDetails.manageContextMenuPanelTitle",{defaultMessage:"Template options"}),items:[{name:i.i18n.translate("xpack.idxMgmt.templateDetails.editButtonLabel",{defaultMessage:"Edit"}),icon:"pencil",onClick:()=>s(e,t),disabled:u},{name:i.i18n.translate("xpack.idxMgmt.templateDetails.cloneButtonLabel",{defaultMessage:"Clone"}),icon:"copy",onClick:()=>n(e,t)},{name:i.i18n.translate("xpack.idxMgmt.templateDetails.deleteButtonLabel",{defaultMessage:"Delete"}),icon:"trash",onClick:()=>b([{name:e,isLegacy:t}]),disabled:u}]}]}))))),x&&x.length>0?Object(j.jsx)(Al,{callback:e=>{e&&e.hasDeletedTemplates?l():b([]),a()},templatesToDelete:x}):null)},rd=e=>Object(j.jsx)(g.EuiFlyout,{onClose:e.onClose,"data-test-subj":"templateDetails","aria-labelledby":"templateDetailsFlyoutTitle"},Object(j.jsx)(od,e)),cd=({templates:e,reload:t,editTemplate:a,cloneTemplate:n,history:l})=>{const{uiMetricService:o}=Ae(),[r,c]=Object(p.useState)([]),[d,u]=Object(p.useState)([]),x=[{field:"name",name:i.i18n.translate("xpack.idxMgmt.templateList.legacyTable.nameColumnTitle",{defaultMessage:"Name"}),truncateText:!0,sortable:!0,render:(e,t)=>Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiLink,Ue()({},Object(ie.E)(l,Object(Pl.e)(e,Boolean(t._kbnMeta.isLegacy)),(()=>o.trackMetric(ae.METRIC_TYPE.CLICK,s.R))),{"data-test-subj":"templateDetailsLink"}),e)," ",Object(j.jsx)(Yc,{templateType:t._kbnMeta.type}))},{field:"indexPatterns",name:i.i18n.translate("xpack.idxMgmt.templateList.legacyTable.indexPatternsColumnTitle",{defaultMessage:"Index patterns"}),truncateText:!0,sortable:!0,render:e=>Object(j.jsx)("strong",null,e.join(", "))},{field:"ilmPolicy",name:i.i18n.translate("xpack.idxMgmt.templateList.legacyTable.ilmPolicyColumnTitle",{defaultMessage:"ILM policy"}),truncateText:!0,sortable:!0,render:e=>e&&e.name?Object(j.jsx)("span",{title:i.i18n.translate("xpack.idxMgmt.templateList.legacyTable.ilmPolicyColumnDescription",{defaultMessage:"'{policyName}' index lifecycle policy",values:{policyName:e.name}})},e.name):null},{name:i.i18n.translate("xpack.idxMgmt.templateList.legacyTable.contentColumnTitle",{defaultMessage:"Content"}),width:"120px",render:e=>Object(j.jsx)(zs,{mappings:e.hasMappings,settings:e.hasSettings,aliases:e.hasAliases,contentWhenEmpty:Object(j.jsx)("em",null,i.i18n.translate("xpack.idxMgmt.templateList.table.noneDescriptionText",{defaultMessage:"None"}))})},{name:i.i18n.translate("xpack.idxMgmt.templateList.legacyTable.actionColumnTitle",{defaultMessage:"Actions"}),width:"120px",actions:[{name:i.i18n.translate("xpack.idxMgmt.templateList.legacyTable.actionEditText",{defaultMessage:"Edit"}),isPrimary:!0,description:i.i18n.translate("xpack.idxMgmt.templateList.legacyTable.actionEditDecription",{defaultMessage:"Edit this template"}),icon:"pencil",type:"icon",onClick:({name:e})=>{a(e,!0)},enabled:({_kbnMeta:{type:e}})=>"cloudManaged"!==e},{type:"icon",name:i.i18n.translate("xpack.idxMgmt.templateList.legacyTable.actionCloneTitle",{defaultMessage:"Clone"}),description:i.i18n.translate("xpack.idxMgmt.templateList.legacyTable.actionCloneDescription",{defaultMessage:"Clone this template"}),icon:"copy",onClick:({name:e})=>{n(e,!0)}},{name:i.i18n.translate("xpack.idxMgmt.templateList.legacyTable.actionDeleteText",{defaultMessage:"Delete"}),description:i.i18n.translate("xpack.idxMgmt.templateList.legacyTable.actionDeleteDecription",{defaultMessage:"Delete this template"}),icon:"trash",color:"danger",type:"icon",onClick:({name:e,_kbnMeta:{isLegacy:t}})=>{u([{name:e,isLegacy:t}])},isPrimary:!0,enabled:({_kbnMeta:{type:e}})=>"cloudManaged"!==e}]}],b={onSelectionChange:c,selectable:({_kbnMeta:{type:e}})=>"cloudManaged"!==e,selectableMessage:e=>e?"":i.i18n.translate("xpack.idxMgmt.templateList.legacyTable.deleteCloudManagedTemplateTooltip",{defaultMessage:"You cannot delete a cloud-managed template."})},h={box:{incremental:!0},toolsLeft:r.length>0?Object(j.jsx)(g.EuiButton,{"data-test-subj":"deleteTemplatesButton",onClick:()=>u(r.map((({name:e,_kbnMeta:{isLegacy:t}})=>({name:e,isLegacy:t})))),color:"danger"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.templateList.legacyTable.deleteTemplatesButtonLabel",defaultMessage:"Delete {count, plural, one {template} other {templates} }",values:{count:r.length}})):void 0,toolsRight:[Object(j.jsx)(g.EuiButton,Ue()({iconType:"plusInCircle","data-test-subj":"createLegacyTemplateButton",key:"createTemplateButton"},Object(ie.E)(l,{pathname:"/create_template",search:"legacy=true"})),Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.templateList.legacyTable.createLegacyTemplatesButtonLabel",defaultMessage:"Create legacy template"}))]};return Object(j.jsx)(p.Fragment,null,d&&d.length>0?Object(j.jsx)(Al,{callback:e=>{e&&e.hasDeletedTemplates&&(t(),l.push("templates")),u([])},templatesToDelete:d}):null,Object(j.jsx)(g.EuiInMemoryTable,{items:e||[],itemId:"name",columns:x,search:h,sorting:{sort:{field:"name",direction:"asc"}},isSelectable:!0,selection:b,pagination:{initialPageSize:20,pageSizeOptions:[10,20,50]},rowProps:()=>({"data-test-subj":"row"}),cellProps:()=>({"data-test-subj":"cell"}),"data-test-subj":"legacyTemplateTable",message:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.templateList.legacyTable.noLegacyIndexTemplatesMessage",defaultMessage:"No legacy index templates found"})}))};function dd(e,t){return e.filter((e=>"default"===e._kbnMeta.type||t.includes(e._kbnMeta.type)))}const ud=({match:{params:{templateName:e}},location:t,history:a})=>{const{uiMetricService:n}=Ae(),{core:{executionContext:l}}=Re(),{error:o,isLoading:d,data:u,resendRequest:x}=le({path:`${s.a}/index_templates`,method:"get"});Object(ie.I)(l,{type:"application",page:"indexManagementIndexTemplatesTab"}),Object(p.useEffect)((()=>{c.setBreadcrumbs(r.templates)}),[]);const[b,h]=Object(p.useState)({managed:{name:i.i18n.translate("xpack.idxMgmt.indexTemplatesList.viewManagedTemplateLabel",{defaultMessage:"Managed templates"}),checked:"on"},cloudManaged:{name:i.i18n.translate("xpack.idxMgmt.indexTemplatesList.viewCloudManagedTemplateLabel",{defaultMessage:"Cloud-managed templates"}),checked:"off"},system:{name:i.i18n.translate("xpack.idxMgmt.indexTemplatesList.viewSystemTemplateLabel",{defaultMessage:"System templates"}),checked:"off"}}),M=Object(p.useMemo)((()=>{if(!u)return{templates:[],legacyTemplates:[]};const e=Object.entries(b).filter((([e,t])=>"on"===t.checked)).map((([e])=>e));return{templates:dd(u.templates,e),legacyTemplates:dd(u.legacyTemplates,e)}}),[u,b]),O=Boolean(e)?{name:Object(ie.v)(e),isLegacy:Hc(t)}:null,y=null!==O,v=u&&(u.legacyTemplates.length>0||u.templates.length>0),E=(e,t)=>{a.push(Object(Pl.f)(e,t))},k=(e,t)=>{a.push(Object(Pl.d)(e,t))};let T;return Object(p.useEffect)((()=>{n.trackMetric(ae.METRIC_TYPE.LOADED,s.Q)}),[n]),T=d?Object(j.jsx)(ie.n,null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.indexTemplatesList.loadingIndexTemplatesDescription",defaultMessage:"Loading templates…"})):o?Object(j.jsx)(ie.m,{title:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.indexTemplatesList.loadingIndexTemplatesErrorMessage",defaultMessage:"Error loading templates"}),error:o}):v?Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiFlexGroup,{alignItems:"center",gutterSize:"s",style:{flexGrow:0}},Object(j.jsx)(g.EuiFlexItem,{grow:!0},Object(j.jsx)(g.EuiText,{color:"subdued"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.home.indexTemplatesDescription",defaultMessage:"Use composable index templates to automatically apply settings, mappings, and aliases to indices. {learnMoreLink}",values:{learnMoreLink:Object(j.jsx)(g.EuiLink,{href:te.getTemplatesDocumentationLink(),target:"_blank",external:!0},i.i18n.translate("xpack.idxMgmt.home.indexTemplatesDescription.learnMoreLinkText",{defaultMessage:"Learn more."}))}}))),Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(Gc,{filters:b,onChange:h})),Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(g.EuiButton,{color:"success",iconType:"refresh",onClick:x,"data-test-subj":"reloadButton",key:"reloadButton"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.templateList.table.reloadTemplatesButtonLabel",defaultMessage:"Reload"})))),Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiSpacer,{size:"l"}),Object(j.jsx)(Xc,{templates:M.templates,reload:x,editTemplate:E,cloneTemplate:k,history:a})),M.legacyTemplates.length>0&&Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiSpacer,{size:"xl"}),Object(j.jsx)(g.EuiTitle,{size:"s"},Object(j.jsx)("h1",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.home.legacyIndexTemplatesTitle",defaultMessage:"Legacy index templates"}))),Object(j.jsx)(g.EuiSpacer,{size:"s"}),Object(j.jsx)($l,null),Object(j.jsx)(g.EuiSpacer,{size:"m"}),Object(j.jsx)(cd,{templates:M.legacyTemplates,reload:x,editTemplate:E,cloneTemplate:k,history:a})),y&&Object(j.jsx)(rd,{template:O,onClose:()=>{a.push(Object(Pl.g)())},editTemplate:E,cloneTemplate:k,reload:x})):Object(j.jsx)(g.EuiEmptyPrompt,{iconType:"managementApp",title:Object(j.jsx)("h1",{"data-test-subj":"title"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.indexTemplatesList.emptyPrompt.noIndexTemplatesTitle",defaultMessage:"Create your first index template"})),body:Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.indexTemplatesList.emptyPrompt.noIndexTemplatesDescription",defaultMessage:"An index template automatically applies settings, mappings, and aliases to new indices."}))),actions:Object(j.jsx)(g.EuiButton,Ue()({},Object(ie.E)(a,"/create_template"),{fill:!0,iconType:"plusInCircle"}),Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.indexTemplatesList.emptyPrompt.createTemplatesButtonLabel",defaultMessage:"Create template"})),"data-test-subj":"emptyPrompt"}),Object(j.jsx)("div",{"data-test-subj":"templateList",className:ie.a},T)},pd=[s.o.Indices,s.o.DataStreams,s.o.IndexTemplates,s.o.ComponentTemplates,s.o.EnrichPolicies],md=({match:{params:{section:e}},history:t})=>{const a=[{id:s.o.Indices,name:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.home.indicesTabTitle",defaultMessage:"Indices"})},{id:s.o.DataStreams,name:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.home.dataStreamsTabTitle",defaultMessage:"Data Streams"})},{id:s.o.IndexTemplates,name:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.home.indexTemplatesTabTitle",defaultMessage:"Index Templates"})},{id:s.o.ComponentTemplates,name:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplatesTabTitle",defaultMessage:"Component Templates"})},{id:s.o.EnrichPolicies,name:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.home.enrichPoliciesTabTitle",defaultMessage:"Enrich Policies"})}],i=Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiPageHeader,{"data-test-subj":"indexManagementHeaderContent",pageTitle:Object(j.jsx)("span",{"data-test-subj":"appTitle"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.home.appTitle",defaultMessage:"Index Management"})),bottomBorder:!0,rightSideItems:[Object(j.jsx)(g.EuiButtonEmpty,{href:te.getIdxMgmtDocumentationLink(),target:"_blank",iconType:"help","data-test-subj":"documentationLink"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.home.idxMgmtDocsLinkText",defaultMessage:"Index Management docs"}))],tabs:a.map((a=>({onClick:()=>{return e=a.id,void t.push(`/${e}`);var e},isSelected:a.id===e,key:a.id,"data-test-subj":`${a.id}Tab`,label:a.name})))}),Object(j.jsx)(g.EuiSpacer,{size:"l"}),Object(j.jsx)(Ke,null,Object(j.jsx)(He,{exact:!0,path:[`/${s.o.DataStreams}`,`/${s.o.DataStreams}/:dataStreamName?`],component:$c}),Object(j.jsx)(He,{exact:!0,path:`/${s.o.Indices}`,component:No}),Object(j.jsx)(He,{exact:!0,path:[`/${s.o.IndexTemplates}`,`/${s.o.IndexTemplates}/:templateName?`],component:ud}),Object(j.jsx)(He,{exact:!0,path:[`/${s.o.ComponentTemplates}`,`/${s.o.ComponentTemplates}/:componentTemplateName?`],component:pn}),Object(j.jsx)(He,{exact:!0,path:`/${s.o.EnrichPolicies}`,component:kr})));return Object(j.jsx)(Ke,null,Object(j.jsx)(He,{path:`/${s.o.Indices}/index_details`,component:Dc}),Object(j.jsx)(He,{render:()=>i}))},gd=({history:e})=>{const[t,a]=Object(p.useState)(!1),[i,s]=Object(p.useState)(null),{config:{enableLegacyTemplates:n}}=Re(),l=Object(Jn.parse)(Object(ze.useLocation)().search.substring(1)),o=n&&Boolean(l.legacy);return Object(p.useEffect)((()=>{c.setBreadcrumbs(r.templateCreate)}),[]),Object(j.jsx)(g.EuiPageSection,{restrictWidth:!0,style:{width:"100%"}},Object(j.jsx)(ko,{title:o?Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.createTemplate.createLegacyTemplatePageTitle",defaultMessage:"Create legacy template"}):Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.createTemplate.createTemplatePageTitle",defaultMessage:"Create template"}),onSave:async t=>{const{name:i}=t;a(!0),s(null);const{error:n}=await he(t);a(!1),n?s(n):e.push(Object(Pl.e)(i,t._kbnMeta.isLegacy))},isSaving:t,saveError:i,clearSaveError:()=>{s(null)},isLegacy:o,history:e}))},xd=({match:{params:{name:e}},location:t,history:a})=>{const i=Object(ie.v)(e),{config:{enableLegacyTemplates:s}}=Re(),n=s&&Hc(t),[l,o]=Object(p.useState)(!1),[d,u]=Object(p.useState)(null),{error:m,data:x,isLoading:b}=je(i,n);if(Object(p.useEffect)((()=>{c.setBreadcrumbs(r.templateClone)}),[]),b)return Object(j.jsx)(ie.n,null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.templateCreate.loadingTemplateToCloneDescription",defaultMessage:"Loading template to clone…"}));if(m)return Object(j.jsx)(ie.m,{title:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.templateCreate.loadingTemplateToCloneErrorMessage",defaultMessage:"Error loading template to clone"}),error:m,"data-test-subj":"sectionError"});const h={...x,name:`${i}-copy`};return Object(j.jsx)(g.EuiPageSection,{restrictWidth:!0,style:{width:"100%"}},Object(j.jsx)(ko,{title:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.createTemplate.cloneTemplatePageTitle",defaultMessage:"Clone template '{name}'",values:{name:i}}),defaultValue:h,onSave:async e=>{o(!0),u(null);const{error:t}=await he(e,!0),{name:i}=e;o(!1),t?u(t):a.push(Object(Pl.e)(i,e._kbnMeta.isLegacy))},isSaving:l,saveError:d,clearSaveError:()=>{u(null)},isLegacy:n,history:a}))},bd=({match:{params:{name:e}},location:t,history:a})=>{const n=Object(ie.v)(e),{config:{enableLegacyTemplates:l}}=Re(),o=l&&Hc(t),[d,u]=Object(p.useState)(!1),[m,x]=Object(p.useState)(null),{error:b,data:h,isLoading:M}=je(n,o);let O;if(Object(p.useEffect)((()=>{c.setBreadcrumbs(r.templateEdit)}),[]),M)return Object(j.jsx)(ie.n,null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.templateEdit.loadingIndexTemplateDescription",defaultMessage:"Loading template…"}));if(b)return Object(j.jsx)(ie.m,{title:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.templateEdit.loadingIndexTemplateErrorMessage",defaultMessage:"Error loading template"}),error:b,"data-test-subj":"sectionError"});if(h){const{name:e,_kbnMeta:{type:t}}=h;if(O=e&&e.startsWith("."),"cloudManaged"===t)return Object(j.jsx)(ie.m,{title:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.templateEdit.managedTemplateWarningTitle",defaultMessage:"Editing a managed template is not permitted"}),error:{message:i.i18n.translate("xpack.idxMgmt.templateEdit.managedTemplateWarningDescription",{defaultMessage:"Managed templates are critical for internal operations."})},"data-test-subj":"systemTemplateEditCallout"})}return Object(j.jsx)(g.EuiPageSection,{restrictWidth:!0,style:{width:"100%"}},O&&Object(j.jsx)(p.Fragment,null,Object(j.jsx)(g.EuiCallOut,{title:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.templateEdit.systemTemplateWarningTitle",defaultMessage:"Editing a system template can break Kibana"}),color:"danger",iconType:"warning","data-test-subj":"systemTemplateEditCallout"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.templateEdit.systemTemplateWarningDescription",defaultMessage:"System templates are critical for internal operations."})),Object(j.jsx)(g.EuiSpacer,{size:"l"})),Object(j.jsx)(ko,{title:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.editTemplate.editTemplatePageTitle",defaultMessage:"Edit template '{name}'",values:{name:n}}),defaultValue:h,onSave:async e=>{u(!0),x(null);const{error:t}=await async function(e){const{name:t}=e,a=await ne({path:`${s.a}/index_templates/${encodeURIComponent(t)}`,method:"put",body:JSON.stringify(e)});return oe.trackMetric(ae.METRIC_TYPE.COUNT,s.T),a}(e);u(!1),t?x(t):a.push(Object(Pl.e)(n,e._kbnMeta.isLegacy))},isSaving:d,saveError:m,clearSaveError:()=>{x(null)},isEditing:!0,isLegacy:o,history:a}))},fd=({field:e,euiFieldProps:t,...a})=>{const{isInvalid:n,errorMessage:l}=Object(ie.A)(e),[o,r]=Object(p.useState)([]),[c,d]=Object(p.useState)(!1),u=Object(p.useCallback)((async e=>{const t=Object(Me.isEmpty)(e)?"*":e;d(!0),r(await(async e=>{const t=[];if(!e)return t;const{data:a}=await async function(e){return ne({path:`${s.k}/enrich_policies/get_matching_indices`,method:"post",body:JSON.stringify({pattern:e})})}(e),n=a.indices;if(n.length){const e=Object(Me.uniq)([...n]);t.push({label:i.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.indicesSelector.optionsLabel",{defaultMessage:"Based on your indices"}),options:e.map((e=>({label:e,value:e}))).sort(((e,t)=>String(e.label).localeCompare(t.label)))})}else t.push({label:i.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.indicesSelector.noMatchingOption",{defaultMessage:"No indices match your search criteria."}),options:[]});return t})(t)),d(!1)}),[d,r]);return Object(p.useEffect)((()=>{Object(Me.isEmpty)(e.value)&&u("*")}),[e.value,u]),Object(j.jsx)(g.EuiFormRow,Ue()({label:e.label,labelAppend:e.labelAppend,helpText:"function"==typeof e.helpText?e.helpText():e.helpText,error:l,isInvalid:n,fullWidth:!0},a),Object(j.jsx)(g.EuiComboBox,Ue()({async:!0,isLoading:c,options:o,noSuggestions:!o.length,selectedOptions:(e.value||[]).map((e=>({label:e,value:e}))),onChange:async t=>{e.setValue(t.map((e=>e.value)))},onSearchChange:u,onBlur:()=>{e.value||e.setValue([])},"data-test-subj":"comboBox"},t)))},jd=Object(p.createContext)({}),hd=({children:e})=>{const[t,a]=Object(p.useState)({}),[i,s]=Object(p.useState)({configurationStep:!1,fieldsSelectionStep:!1}),n={draft:t,updateDraft:a,completionState:i,updateCompletionState:s};return Object(j.jsx)(jd.Provider,{value:n},e)},Md=()=>{const e=Object(p.useContext)(jd);if(!e)throw new Error("Cannot use outside of create policy context");return e},Od=['"'," ","\\","/",",","|",">","?","*","<"],yd={name:{type:ie.d.TEXT,label:i.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.configurationStep.policyNameField",{defaultMessage:"Policy name"}),validations:[{validator:ie.z.emptyField(i.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.configurationStep.policyNameRequiredError",{defaultMessage:"A policy name value is required."}))},{validator:ie.z.containsCharsField({message:i.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.configurationStep.invalidCharactersInNameError",{defaultMessage:"Should not contain any of the following characters: {notAllowedChars}",values:{notAllowedChars:Od.join(", ")}}),chars:Od})}]},type:{type:ie.d.SELECT,label:i.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.configurationStep.policyTypeLabel",{defaultMessage:"Policy type"}),validations:[{validator:ie.z.emptyField(i.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.configurationStep.typeRequiredError",{defaultMessage:"A policy type value is required."}))}]},sourceIndices:{label:i.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.configurationStep.sourceIndicesLabel",{defaultMessage:"Source indices"}),validations:[{validator:ie.z.emptyField(i.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.configurationStep.sourceIndicesRequiredError",{defaultMessage:"At least one source index is required."}))}]},query:{type:ie.d.JSON,label:i.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.configurationStep.queryLabel",{defaultMessage:"Query (optional)"}),serializer:e=>{let t;try{t=JSON.parse(e)}catch{t={}}return t},deserializer:e=>e&&"object"==typeof e?JSON.stringify(e,null,2):"{\n\n}",validations:[{validator:ie.z.isJsonField(i.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.configurationStep.queryInvalidError",{defaultMessage:"The query is not valid JSON."}),{allowEmptyString:!0})}]}},vd=({onNext:e})=>{const{core:{application:{getUrlForApp:t}}}=Re(),[a,s]=Object(p.useState)(!1),{draft:n,updateDraft:l,updateCompletionState:o}=Md(),{form:r}=Object(ie.J)({defaultValue:n,schema:yd,id:"configurationForm"});return Object(j.jsx)(ie.f,{form:r,"data-test-subj":"configurationForm"},Object(j.jsx)(ie.s,{path:"name",component:ie.q,componentProps:{fullWidth:!1},"data-test-subj":"policyNameField"}),Object(j.jsx)(ie.s,{path:"type",component:ie.p,labelAppend:Object(j.jsx)(g.EuiPopover,{button:Object(j.jsx)(g.EuiLink,{"data-test-subj":"typePopoverIcon",onClick:()=>s((e=>!e))},Object(j.jsx)(g.EuiIcon,{type:"questionInCircle"})),isOpen:a,closePopover:()=>s(!1)},Object(j.jsx)(g.EuiText,{size:"s"},Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.enrichPolicyCreate.configurationStep.typeTitlePopOver",defaultMessage:"Determines how to match the data to incoming documents."})),Object(j.jsx)("ul",null,Object(j.jsx)("li",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.enrichPolicyCreate.configurationStep.matchTypePopOver",defaultMessage:"{type} matches an exact value.",values:{type:Object(j.jsx)(g.EuiCode,{transparentBackground:!0},"Match")}})),Object(j.jsx)("li",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.enrichPolicyCreate.configurationStep.geoMatchTypePopOver",defaultMessage:"{type} matches a geographic location.",values:{type:Object(j.jsx)(g.EuiCode,{transparentBackground:!0},"Geo match")}})),Object(j.jsx)("li",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.enrichPolicyCreate.configurationStep.rangeTypePopOver",defaultMessage:"{type} matches a number, date, or IP address range.",values:{type:Object(j.jsx)(g.EuiCode,{transparentBackground:!0},"Range")}}))))),componentProps:{fullWidth:!1,euiFieldProps:{"data-test-subj":"policyTypeField",options:[{value:"match",text:i.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.configurationStep.matchOption",{defaultMessage:"Match"})},{value:"geo_match",text:i.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.configurationStep.geoMatchOption",{defaultMessage:"Geo match"})},{value:"range",text:i.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.configurationStep.rangeOption",{defaultMessage:"Range"})}]}}}),Object(j.jsx)(ie.s,{path:"sourceIndices",component:fd,labelAppend:Object(j.jsx)(g.EuiText,{size:"xs"},Object(j.jsx)(g.EuiLink,{target:"_blank","data-test-subj":"uploadFileLink",href:t("home",{path:"#/tutorial_directory/fileDataViz"})},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.enrichPolicyCreate.configurationStep.uploadFileLink",defaultMessage:"Upload a file"}))),componentProps:{euiFieldProps:{"data-test-subj":"policySourceIndicesField"},fullWidth:!1}}),Object(j.jsx)(ie.s,{path:"query",component:ie.i,componentProps:{fullWidth:!1,helpText:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.enrichPolicyCreate.configurationStep.queryHelpText",defaultMessage:"Defaults to: {code} query.",values:{code:Object(j.jsx)(g.EuiLink,{external:!0,target:"_blank","data-test-subj":"matchAllQueryLink",href:te.getMatchAllQueryLink()},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.enrichPolicyCreate.configurationStep.matchAllLink",defaultMessage:"match_all"}))}}),codeEditorProps:{height:"300px",allowFullScreen:!0,"aria-label":i.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.configurationStep.ariaLabelQuery",{defaultMessage:"Query field data editor"}),options:{lineNumbers:"off",tabSize:2,automaticLayout:!0}}}}),Object(j.jsx)(g.EuiSpacer,null),Object(j.jsx)(g.EuiFlexGroup,{"data-test-subj":"configureStep",justifyContent:"spaceBetween",style:{maxWidth:400}},Object(j.jsx)(g.EuiFlexItem,{grow:!1}),Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(g.EuiButton,{fill:!0,color:"primary",iconSide:"right",iconType:"arrowRight",disabled:!1===r.isValid,"data-test-subj":"nextButton",onClick:async()=>{const{isValid:t,data:a}=await r.submit();t&&(o((e=>({...e,configurationStep:!0}))),l((e=>({...e,...Object(Me.isEmpty)(a.query)?Object(Me.omit)(a,"query"):a}))),e())}},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.enrichPolicyCreate.configurationStep.nextButtonLabel",defaultMessage:"Next"})))))},Ed={iconType:"questionInCircle",color:"gray"},kd={binary:{iconType:"tokenBinary"},boolean:{iconType:"tokenBoolean"},conflict:{iconType:"warning",color:"euiColorVis9",shape:"square"},date:{iconType:"tokenDate"},date_range:{iconType:"tokenDate"},dense_vector:{iconType:"tokenVectorDense"},geo_point:{iconType:"tokenGeo"},geo_shape:{iconType:"tokenGeo"},ip:{iconType:"tokenIP"},ip_range:{iconType:"tokenIP"},flattened:{iconType:"tokenFlattened"},match_only_text:{iconType:"tokenString"},murmur3:{iconType:"tokenSearchType"},number:{iconType:"tokenNumber"},number_range:{iconType:"tokenNumber"},rank_feature:{iconType:"tokenRankFeature"},rank_features:{iconType:"tokenRankFeatures"},histogram:{iconType:"tokenHistogram"},_source:{iconType:"editorCodeBlock",color:"gray"},point:{iconType:"tokenShape"},shape:{iconType:"tokenShape"},sparse_vector:{iconType:"tokenVectorSparse"},string:{iconType:"tokenString"},text:{iconType:"tokenString"},keyword:{iconType:"tokenKeyword"},gauge:{iconType:"tokenMetricGauge"},counter:{iconType:"tokenMetricCounter"},nested:{iconType:"tokenNested"},version:{iconType:"tokenTag"}};function Td({type:e,label:t,size:a="s",scripted:i,className:s,...n}){const l=kd[e]||Ed;return Object(j.jsx)(g.EuiToken,Ue()({},l,{className:Zi()("kbnFieldIcon",s),"aria-label":t||e,title:t||e,size:a,fill:i?"dark":void 0},n))}a(171);Object.keys({xs:"kbnFieldButton--xs",s:"kbnFieldButton--s"});const Fd={matchField:{defaultValue:"",type:ie.d.COMBO_BOX,serializer:e=>e.join(", "),deserializer:e=>0===e.length?[]:e.split(", "),label:i.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.fieldSelectionStep.matchFieldField",{defaultMessage:"Match field"}),validations:[{validator:ie.z.emptyField(i.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.fieldSelectionStep.matchFieldRequired",{defaultMessage:"A match field is required."}))}]},enrichFields:{defaultValue:[],type:ie.d.COMBO_BOX,label:i.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.fieldSelectionStep.enrichFieldsField",{defaultMessage:"Enrich fields"}),validations:[{validator:ie.z.emptyField(i.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.fieldSelectionStep.enrichFieldsRequired",{defaultMessage:"At least one enrich field is required."}))}]}},Sd=e=>({label:e.name,prepend:Object(j.jsx)(Td,{type:e.normalizedType})}),_d=({onBack:e,onNext:t})=>{var a,n;const[l,o]=Object(p.useState)(!1),[r,c]=Object(p.useState)([]),[d,u]=Object(p.useState)([]),{draft:x,updateDraft:b,updateCompletionState:h}=Md();Object(p.useEffect)((()=>{(async()=>{var e,t,a;o(!0);const{data:i}=await async function(e){return ne({path:`${s.k}/enrich_policies/get_fields_from_indices`,method:"post",body:JSON.stringify({indices:e})})}(x.sourceIndices);o(!1),null!=i&&null!==(e=i.commonFields)&&void 0!==e&&e.length?u(i.commonFields.map(Sd)):1===(null==i||null===(t=i.indices)||void 0===t?void 0:t.length)&&u(i.indices[0].fields.map(Sd)),null!=i&&null!==(a=i.indices)&&void 0!==a&&a.length&&c(i.indices.map((e=>({label:e.index,options:e.fields.map(Sd)}))))})()}),[x.sourceIndices]);const{form:M}=Object(ie.J)({defaultValue:x,schema:Fd,id:"fieldSelectionForm"}),O=(null!==(a=null===(n=x.sourceIndices)||void 0===n?void 0:n.length)&&void 0!==a?a:0)>1;return Object(j.jsx)(ie.f,{form:M,"data-test-subj":"fieldSelectionForm"},!l&&O&&0===d.length&&Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiCallOut,{title:i.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.noCommonFieldsFoundError",{defaultMessage:"No common fields"}),color:"danger",iconType:"error","data-test-subj":"noCommonFieldsError"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.enrichPolicyCreate.fieldSelectionStep.matchFieldError",defaultMessage:"The selected indices don't have any fields in common."})),Object(j.jsx)(g.EuiSpacer,null)),Object(j.jsx)(ie.s,{path:"matchField",component:ie.c,labelAppend:Object(j.jsx)(g.EuiIconTip,{"data-test-subj":"matchFieldPopover",content:i.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.fieldSelectionStep.matchFieldPopover",{defaultMessage:"The field in your source indices to match with the incoming documents."})}),componentProps:{fullWidth:!1,helpText:O?i.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.fieldSelectionStep.matchFieldHelpText",{defaultMessage:"The match field must be the same across all selected source indices."}):void 0,euiFieldProps:{"data-test-subj":"matchField",placeholder:i.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.fieldSelectionStep.matchFieldPlaceholder",{defaultMessage:"Select a field"}),noSuggestions:!1,singleSelection:{asPlainText:!0},options:d}}}),Object(j.jsx)(ie.s,{path:"enrichFields",component:ie.c,labelAppend:Object(j.jsx)(g.EuiIconTip,{"data-test-subj":"enrichFieldsPopover",content:i.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.fieldSelectionStep.EnrichFieldsFieldPopover",{defaultMessage:"The fields to add to your incoming documents."})}),componentProps:{fullWidth:!1,euiFieldProps:{"data-test-subj":"enrichFields",placeholder:i.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.fieldSelectionStep.enrichFieldsPlaceholder",{defaultMessage:"Select fields to enrich"}),noSuggestions:!1,options:r}}}),Object(j.jsx)(g.EuiSpacer,null),Object(j.jsx)(g.EuiFlexGroup,{"data-test-subj":"fieldSelectionStep",justifyContent:"spaceBetween",style:{maxWidth:400}},Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(g.EuiButton,{color:"primary",iconSide:"left",iconType:"arrowLeft","data-test-subj":"backButton",onClick:e},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.enrichPolicyCreate.fieldSelectionStep.backButtonLabel",defaultMessage:"Back"}))),Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(g.EuiButton,{fill:!0,color:"primary",iconSide:"right",iconType:"arrowRight",disabled:!1===M.isValid,"data-test-subj":"nextButton",onClick:async()=>{const{isValid:e,data:a}=await M.submit();e&&(h((e=>({...e,fieldsSelectionStep:!0}))),b((e=>({...e,...a}))),t())}},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.enrichPolicyCreate.fieldSelectionStep.nextButtonLabel",defaultMessage:"Next"})))))},Cd=e=>e.length<6e4?"json":void 0,Ld=({policy:e})=>{const t=e.query?JSON.stringify(e.query,null,2):"",a=Cd(t);return Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiSpacer,{size:"m"}),Object(j.jsx)(g.EuiDescriptionList,{"data-test-subj":"enrichPolicySummaryList"},e.name&&Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiDescriptionListTitle,null,i.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.createStep.nameLabel",{defaultMessage:"Name"})),Object(j.jsx)(g.EuiDescriptionListDescription,{"data-test-subj":"policyNameValue"},e.name)),e.type&&Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiDescriptionListTitle,null,i.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.createStep.typeLabel",{defaultMessage:"Type"})),Object(j.jsx)(g.EuiDescriptionListDescription,{"data-test-subj":"policyTypeValue"},e.type)),e.sourceIndices&&Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiDescriptionListTitle,null,i.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.createStep.sourceIndicesLabel",{defaultMessage:"Source indices"})),Object(j.jsx)(g.EuiDescriptionListDescription,{"data-test-subj":"policyIndicesValue"},Object(j.jsx)(g.EuiText,{size:"s"},Object(j.jsx)("ul",null,e.sourceIndices.map((e=>Object(j.jsx)("li",{key:e,className:"eui-textBreakWord"},e))))))),e.matchField&&Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiDescriptionListTitle,null,i.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.createStep.matchFieldLabel",{defaultMessage:"Match field"})),Object(j.jsx)(g.EuiDescriptionListDescription,{"data-test-subj":"policyMatchFieldValue"},e.matchField)),e.enrichFields&&Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiDescriptionListTitle,null,i.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.createStep.enrichFieldsLabel",{defaultMessage:"Enrich fields"})),Object(j.jsx)(g.EuiDescriptionListDescription,{"data-test-subj":"policyEnrichFieldsValue"},Object(j.jsx)(g.EuiText,{size:"s"},Object(j.jsx)("ul",null,e.enrichFields.map((e=>Object(j.jsx)("li",{key:e,className:"eui-textBreakWord"},e))))))),e.query&&Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiDescriptionListTitle,null,i.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.createStep.queryLabel",{defaultMessage:"Query"})),Object(j.jsx)(g.EuiDescriptionListDescription,null,Object(j.jsx)(g.EuiCodeBlock,{language:a,isCopyable:!0},t)))))},wd=({policy:e})=>{const t=JSON.stringify((e=>({[e.type]:{indices:e.sourceIndices,match_field:e.matchField,enrich_fields:e.enrichFields,query:e.query}}))(e),null,2),a=Cd(t);return Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiSpacer,{size:"m"}),Object(j.jsx)(g.EuiText,null,Object(j.jsx)("p",null,Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.enrichPolicyCreate.createStep.descriptionText",defaultMessage:"This request will create the following enrich policy."}))),Object(j.jsx)(g.EuiSpacer,{size:"m"}),Object(j.jsx)(g.EuiCodeBlock,{language:a,isCopyable:!0,"data-test-subj":"requestBody"},`PUT _enrich/policy/${e.name}`,"\n",t))},Dd=({onBack:e,onSubmit:t,isLoading:a})=>{const{draft:s}=Md(),n=[{id:"summary",name:i.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.createStep.summaryTabLabel",{defaultMessage:"Summary"}),"data-test-subj":"summaryTab",content:Object(j.jsx)(Ld,{policy:s})},{id:"request",name:i.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.createStep.requestTabLabel",{defaultMessage:"Request"}),"data-test-subj":"requestTab",content:Object(j.jsx)(wd,{policy:s})}];return Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiTabbedContent,{tabs:n}),Object(j.jsx)(g.EuiSpacer,null),Object(j.jsx)(g.EuiSpacer,{size:"l"}),Object(j.jsx)(g.EuiFlexGroup,{"data-test-subj":"creationStep",justifyContent:"spaceBetween",style:{maxWidth:400}},Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(g.EuiButton,{minWidth:!1,color:"primary",iconSide:"left",iconType:"arrowLeft","data-test-subj":"backButton",onClick:e},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.enrichPolicyCreate.createStep.backButtonLabel",defaultMessage:"Back"}))),Object(j.jsx)(g.EuiFlexGroup,{justifyContent:"flexEnd",gutterSize:"s"},Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(g.EuiButton,{color:"primary",onClick:()=>t(),isDisabled:a,"data-test-subj":"createButton"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.enrichPolicyCreate.createStep.createButtonLabel",defaultMessage:"Create"}))),Object(j.jsx)(g.EuiFlexItem,{grow:!1},Object(j.jsx)(g.EuiButton,{fill:!0,color:"primary",onClick:()=>t(!0),isDisabled:a,"data-test-subj":"createAndExecuteButton"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.enrichPolicyCreate.createStep.createAndExecuteButtonLabel",defaultMessage:"Create and execute"}))))))},Id=()=>{const{history:e,services:{notificationService:t}}=Re(),{draft:a,completionState:n}=Md(),[l,o]=Object(p.useState)(1),[r,c]=Object(p.useState)(!1),[d,u]=Object(p.useState)(null),x=Object(p.useCallback)((e=>l===e?"current":"incomplete"),[l]),b=Object(p.useCallback)((async n=>{c(!0);const{error:l,data:o}=await async function(e,t){return ne({path:`${s.k}/enrich_policies`,method:"post",body:JSON.stringify({policy:e}),query:{executePolicyAfterCreation:t}})}(a,n);if(c(!1),o){const e=n?i.i18n.translate("xpack.idxMgmt.enrichPoliciesCreate.createAndExecuteNotificationMessage",{defaultMessage:"Created and executed policy: {policyName}",values:{policyName:a.name}}):i.i18n.translate("xpack.idxMgmt.enrichPoliciesCreate.createNotificationMessage",{defaultMessage:"Created policy: {policyName}",values:{policyName:a.name}});t.showSuccessToast(e)}l?u(l):e.push("/enrich_policies")}),[a,e,c,u,t]),f=Object(p.useCallback)((e=>{o(e),u(null)}),[o,u]),h=Object(p.useMemo)((()=>[{step:1,title:i.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.configurationStepLabel",{defaultMessage:"Configuration"}),status:n.configurationStep?"complete":x(1),children:1===l&&Object(j.jsx)(vd,{onNext:()=>f(2)})},{step:2,title:i.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.fieldSelectionStepLabel",{defaultMessage:"Field selection"}),status:n.fieldsSelectionStep?"complete":x(2),children:2===l&&Object(j.jsx)(_d,{onNext:()=>f(3),onBack:()=>f(1)})},{step:3,title:i.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.createStepLabel",{defaultMessage:"Create"}),status:3===l?"current":"incomplete",children:3===l&&Object(j.jsx)(Dd,{onSubmit:b,isLoading:r,onBack:()=>f(2)})}]),[l,f,n,x,r,b]);return Object(j.jsx)(m.a.Fragment,null,d&&Object(j.jsx)(m.a.Fragment,null,Object(j.jsx)(g.EuiCallOut,{title:i.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.errorTitle",{defaultMessage:"Unable to create your policy"}),color:"danger",iconType:"error","data-test-subj":"errorWhenCreatingCallout"},Object(j.jsx)("p",{className:"eui-textBreakWord"},(null==d?void 0:d.message)||(null==d?void 0:d.error))),Object(j.jsx)(g.EuiSpacer,{size:"xl"})),Object(j.jsx)(g.EuiSteps,{steps:h}))},Pd=()=>(Object(p.useEffect)((()=>{c.setBreadcrumbs(r.enrichPoliciesCreate)}),[]),Object(j.jsx)(hd,null,Object(j.jsx)(g.EuiPageHeader,{"data-test-subj":"createEnrichPolicyHeaderContent",pageTitle:Object(j.jsx)("span",{"data-test-subj":"appTitle"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.enrichPolicyCreate.appTitle",defaultMessage:"Create enrich policy"})),description:Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.enrichPolicyCreate.appDescription",defaultMessage:"Specify how to retrieve and enrich your incoming data."}),bottomBorder:!0,rightSideItems:[Object(j.jsx)(g.EuiButtonEmpty,{href:te.getCreateEnrichPolicyLink(),target:"_blank",iconType:"help","data-test-subj":"createEnrichPolicyDocumentationLink"},Object(j.jsx)(f.FormattedMessage,{id:"xpack.idxMgmt.enrichPolicyCreate.titleDocsLinkText",defaultMessage:"Documentation"}))]}),Object(j.jsx)(g.EuiSpacer,{size:"l"}),Object(j.jsx)(Id,null))),Nd=e=>Object(j.jsx)(Ro,null,Object(j.jsx)(Bo,null,Object(j.jsx)(Pd,e))),Bd=({history:e})=>{const{services:t}=Re();return Object(p.useEffect)((()=>t.uiMetricService.trackMetric(ae.METRIC_TYPE.LOADED,s.p)),[t.uiMetricService]),Object(j.jsx)(Xe,{history:e},Object(j.jsx)(Rd,null))},Rd=()=>Object(j.jsx)(Ke,null,Object(j.jsx)(He,{exact:!0,path:"/create_template",component:gd}),Object(j.jsx)(He,{exact:!0,path:"/clone_template/:name*",component:xd}),Object(j.jsx)(He,{exact:!0,path:"/edit_template/:name*",component:bd}),Object(j.jsx)(He,{exact:!0,path:"/create_component_template",component:Ln}),Object(j.jsx)(He,{exact:!0,path:"/create_component_template/:sourceComponentTemplateName",component:In}),Object(j.jsx)(He,{exact:!0,path:"/edit_component_template/:name*",component:Dn}),Object(j.jsx)(He,{exact:!0,path:"/enrich_policies/create",component:Nd}),Object(j.jsx)(He,{path:`/:section(${pd.join("|")})`,component:md}),Object(j.jsx)(ze.Redirect,{from:"/",to:`/${s.o.Indices}`}));var Ad=a(43),zd=a(176),Vd=a.n(zd);const Ud={filter:"",pageSize:10,currentPage:0,sortField:"index.name",isSortAscending:!0},qd=Object(pl.handleActions)({[Sl](e,t){const{filter:a}=t.payload;return{...e,filter:a,currentPage:0}},[wl](e,t){const{toggleName:a,toggleValue:i}=t.payload,s={...e.toggleNameToVisibleMap};return s[a]=i,{...e,toggleNameToVisibleMap:s}},[Ll](e,t){const{sortField:a,isSortAscending:i}=t.payload;return{...e,sortField:a,isSortAscending:i}},[_l](e,t){const{pageNumber:a}=t.payload;return{...e,currentPage:a}},[Cl](e,t){const{pageSize:a}=t.payload;return{...e,pageSize:a}}},Ud),Wd=Object(pl.handleActions)({[bl](e,t){const{indexNames:a}=t.payload,i={};return Object.values(e).forEach((e=>{a.includes(e.name)||(i[e.name]=e)})),i},[Ml](e,t){const{indices:a}=t.payload,i={};return a.forEach((e=>{i[e.name]=e})),i},[Tl](e,t){const{indices:a}=t.payload,i={};return a.forEach((e=>{i[e.name]=e})),{...e,...i}}},{}),Gd=Object(pl.handleActions)({[bl](e,t){const{indexNames:a}=t.payload,i=[];return e.forEach((e=>{a.includes(e)||i.push(e)})),i},[Ml](e,t){const{indices:a}=t.payload;return a.map((e=>e.name))},[Tl]:e=>e},[]),$d=Object(pl.handleActions)({[hl]:()=>!0,[Ml]:()=>!1,[Ol]:()=>!1},!0),Hd=Object(pl.handleActions)({[Ol]:(e,t)=>({...t.payload})},!1),Jd=Object(Ad.combineReducers)({loading:$d,error:Hd,byId:Wd,allIds:Gd}),Yd=Object(pl.handleActions)({[gl](e,t){const{indexNames:a}=t.payload,i={...e};return a.forEach((e=>{delete i[e]})),i},[xl](e,t){const{indexNames:a}=t.payload,i={};return a.forEach((e=>{i[e]=s.d})),{...e,...i}},[vl](e,t){const{indexNames:a}=t.payload,i={};return a.forEach((e=>{i[e]=s.i})),{...e,...i}},[El](e,t){const{indexNames:a}=t.payload,i={};return a.forEach((e=>{i[e]=s.j})),{...e,...i}},[fl](e,t){const{indexNames:a}=t.payload,i={};return a.forEach((e=>{i[e]=s.e})),{...e,...i}},[jl](e,t){const{indexNames:a}=t.payload,i={};return a.forEach((e=>{i[e]=s.f})),{...e,...i}},[ml](e,t){const{indexNames:a}=t.payload,i={};return a.forEach((e=>{i[e]=s.b})),{...e,...i}},[Tl](e,t){const{indices:a}=t.payload,i=a.reduce(((e,t)=>(e[t.name]=t,e)),{}),n={...e};for(const t in e)e[t]===s.d&&i[t].status===s.c&&delete n[t],e[t]===s.i&&i[t].status===s.h&&delete n[t],e[t]===s.j&&i[t].status===s.h&&delete n[t],e[t]===s.j&&i[t].status===s.c&&delete n[t],e[t]===s.e&&i[t].status===s.h&&delete n[t],e[t]===s.e&&i[t].status===s.c&&delete n[t],e[t]===s.f&&i[t].status===s.h&&delete n[t],e[t]===s.f&&i[t].status===s.c&&delete n[t],e[t]===s.b&&i[t].status===s.h&&delete n[t],e[t]===s.b&&i[t].status===s.c&&delete n[t];return n}},{}),Xd=()=>Object(Ad.combineReducers)({indices:Jd,rowStatus:Yd,tableState:qd});function Kd(e){const t={};e.extensionsService.toggles.forEach((e=>{t[e.name]=!1}));const a={tableState:{...Ud,toggleNameToVisibleMap:t}},i=[Object(Ad.applyMiddleware)(Vd.a)];return window.__REDUX_DEVTOOLS_EXTENSION__&&i.push(window.__REDUX_DEVTOOLS_EXTENSION__()),Object(Ad.createStore)(Xd(),a,Object(Ad.compose)(...i))}const{GlobalFlyoutProvider:Qd}=ie.h,Zd=(e,{core:t,dependencies:a})=>{if(!e)return()=>{};const{i18n:i,docLinks:n,notifications:l,application:o,executionContext:r,overlays:c,theme:d}=t,{Context:u}=i,{services:p,history:m,setBreadcrumbs:g,uiSettings:x,settings:b,kibanaVersion:f,theme$:h}=a,{Provider:M}=Object(ie.w)({application:o,uiSettings:x,settings:b,kibanaVersion:{get:()=>f},theme:d}),O={httpClient:p.httpService.httpClient,overlays:c,apiBasePath:s.a,trackMetric:p.uiMetricService.trackMetric.bind(p.uiMetricService),docLinks:n,toasts:l.toasts,setBreadcrumbs:g,getUrlForApp:o.getUrlForApp,executionContext:r};return Object(_e.render)(Object(j.jsx)(u,null,Object(j.jsx)(ie.j,{theme$:h},Object(j.jsx)(M,null,Object(j.jsx)(Se.Provider,{store:Kd(p)},Object(j.jsx)(Ne,{value:a},Object(j.jsx)(Is,null,Object(j.jsx)(Gs,{value:O},Object(j.jsx)(Qd,null,Object(j.jsx)(Bd,{history:m}))))))))),e),()=>{Object(_e.unmountComponentAtNode)(e)}},eu=()=>Object(ie.M)();async function tu({coreSetup:e,usageCollection:t,params:a,extensionsService:l,isFleetEnabled:o,kibanaVersion:r,config:d,cloud:u}){const{element:p,setBreadcrumbs:m,history:g,theme$:x}=a,[b,f]=await e.getStartServices(),{docLinks:j,fatalErrors:h,application:M,chrome:{docTitle:O},uiSettings:y,executionContext:v,settings:E,http:k}=b,{url:T}=f.share;O.change(n.a.getI18nName(i.i18n)),c.setup(m),te.setup(j);const{uiMetricService:F}=function({usageCollection:e,core:t}){const{http:a,notifications:i}=t;se.setup(a),Fe.setup(i);const n=new ui_metric_UiMetricService(s.q);return re(n),n.setup(e),{uiMetricService:n}}({usageCollection:t,core:b}),S={core:{fatalErrors:h,getUrlForApp:M.getUrlForApp,executionContext:v,application:M,http:k},plugins:{usageCollection:t,isFleetEnabled:o,share:f.share,cloud:u},services:{httpService:se,notificationService:Fe,uiMetricService:F,extensionsService:l},config:d,history:g,setBreadcrumbs:m,uiSettings:y,settings:E,url:T,docLinks:j,kibanaVersion:r,theme$:x},_=Zd(p,{core:b,dependencies:S});return()=>{O.reset(),_()}}}])]);