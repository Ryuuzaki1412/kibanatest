/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.profiling_bundle_jsonpfunction=window.profiling_bundle_jsonpfunction||[]).push([[3],{106:function(e,t,r){"use strict";r.r(t),r.d(t,"EmbeddableSearchBar",(function(){return EmbeddableSearchBar}));var n=r(4),o=r.n(n),s=r(14),u=r(25),i=r(1),a=(r(13),r(21)),c=r(54),d=r(50),h={name:"1d3w5wq",styles:"width:100%"};class EmbeddableSearchBar extends u.Embeddable{constructor(e,t,r){super(t,{},r),o()(this,"type",i.EMBEDDABLE_PROFILING_SEARCH_BAR),o()(this,"_domNode",void 0),this.deps=e}render(e){this._domNode=e;const{showDatePicker:t,kuery:r,onQuerySubmit:n,onRefresh:o,rangeFrom:u,rangeTo:i}=this.input;Object(a.render)(Object(s.jsx)(d.a,{deps:this.deps},Object(s.jsx)("div",{css:h},Object(s.jsx)(c.a,{showDatePicker:t||!0,showSubmitButton:!0,kuery:r,onQuerySubmit:({dateRange:e,query:t})=>{n({dateRange:e,query:"string"==typeof(null==t?void 0:t.query)?t.query:""})},onRefresh:o,onRefreshClick:o,showQueryMenu:!1,rangeFrom:u,rangeTo:i}))),e)}destroy(){this._domNode&&Object(a.unmountComponentAtNode)(this._domNode)}reload(){this._domNode&&this.render(this._domNode)}}},35:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(13),o=r(43);function s(){const e=Object(n.useContext)(o.a);if(!e)throw new Error("ProfilingDependenciesContext not found");return e}},43:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return s}));var n=r(13);const o=Object(n.createContext)(void 0),s=o.Provider},50:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(18),o=r(13),s=r(20),u=r(43),i=r(14);const a=new s.Storage(localStorage);function c({deps:e,children:t}){const r=Object(o.useMemo)((()=>({start:{core:e.coreStart,...e.pluginsStart},setup:{core:e.coreSetup,...e.pluginsSetup},services:e.profilingFetchServices})),[e]),s=e.coreStart.i18n;return Object(i.jsx)(s.Context,null,Object(i.jsx)(n.KibanaContextProvider,{services:{...e.coreStart,...e.pluginsStart,storage:a}},Object(i.jsx)(u.b,{value:r},t)))}},54:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(27),o=r(3),s=r(13),u=r(7),i=r(35),a=r(14);function c({kuery:e,rangeFrom:t,rangeTo:r,onQuerySubmit:c,onRefresh:d,onRefreshClick:h,showSubmitButton:b=!0,dataTestSubj:l="profilingUnifiedSearchBar",showDatePicker:f=!0,showQueryMenu:y=!0}){const{start:{dataViews:S}}=Object(i.a)(),[g,j]=Object(s.useState)();Object(s.useEffect)((()=>{S.create({title:u.a}).then((e=>j(e)))}),[S]);const m={language:"kuery",query:e};return Object(a.jsx)(n.SearchBar,{onQuerySubmit:({dateRange:n,query:o})=>{n.from!==t||n.to!==r||(null==o?void 0:o.query)!==e?c({dateRange:n,query:o}):h()},showQueryInput:!0,showDatePicker:f,showFilterBar:!1,showSaveQuery:!1,submitButtonStyle:b?"auto":"iconOnly",query:m,dateRangeFrom:t,dateRangeTo:r,indexPatterns:Object(o.compact)([g]),onRefresh:d,displayStyle:"inPage",dataTestSubj:l,showQueryMenu:y})}}}]);