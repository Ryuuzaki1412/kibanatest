/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */!function(e){function n(n){for(var t,o,s=n[0],i=n[1],a=0,u=[];a<s.length;a++)o=s[a],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&u.push(r[o][0]),r[o]=0;for(t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t]);for(c&&c(n);u.length;)u.shift()()}var t={},r={8:0};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.e=function(e){var n=[],t=r[e];if(0!==t)if(t)n.push(t[2]);else{var s=new Promise((function(n,o){t=r[e]=[n,o]}));n.push(t[2]=s);var i,a=document.createElement("script");a.charset="utf-8",a.timeout=120,o.nc&&a.setAttribute("nonce",o.nc),a.src=function(e){return o.p+"canvas.chunk."+e+".js"}(e);var c=new Error;i=function(n){a.onerror=a.onload=null,clearTimeout(u);var t=r[e];if(0!==t){if(t){var o=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;c.message="Loading chunk "+e+" failed.\n("+o+": "+s+")",c.name="ChunkLoadError",c.type=o,c.request=s,t[1](c)}r[e]=void 0}};var u=setTimeout((function(){i({type:"timeout",target:a})}),12e4);a.onerror=a.onload=i,document.head.appendChild(a)}return Promise.all(n)},o.m=e,o.c=t,o.d=function(e,n,t){o.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,n){if(1&n&&(e=o(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(o.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)o.d(t,r,function(n){return e[n]}.bind(null,r));return t},o.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(n,"a",n),n},o.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},o.p="",o.oe=function(e){throw console.error(e),e};var s=window.canvas_bundle_jsonpfunction=window.canvas_bundle_jsonpfunction||[],i=s.push.bind(s);s.push=n,s=s.slice();for(var a=0;a<s.length;a++)n(s[a]);var c=i;o(o.s=13)}([function(e,n,t){"use strict";t.d(n,"k",(function(){return o})),t.d(n,"i",(function(){return s})),t.d(n,"f",(function(){return a})),t.d(n,"g",(function(){return c})),t.d(n,"h",(function(){return u})),t.d(n,"a",(function(){return p})),t.d(n,"e",(function(){return d})),t.d(n,"x",(function(){return _})),t.d(n,"A",(function(){return l})),t.d(n,"u",(function(){return f})),t.d(n,"r",(function(){return b})),t.d(n,"p",(function(){return g})),t.d(n,"q",(function(){return v})),t.d(n,"B",(function(){return h})),t.d(n,"j",(function(){return O})),t.d(n,"t",(function(){return m})),t.d(n,"s",(function(){return P})),t.d(n,"D",(function(){return k})),t.d(n,"z",(function(){return w})),t.d(n,"y",(function(){return y})),t.d(n,"C",(function(){return j})),t.d(n,"m",(function(){return x})),t.d(n,"o",(function(){return S})),t.d(n,"v",(function(){return D})),t.d(n,"w",(function(){return U})),t.d(n,"d",(function(){return E})),t.d(n,"c",(function(){return B})),t.d(n,"l",(function(){return I})),t.d(n,"n",(function(){return R})),t.d(n,"b",(function(){return C}));var r=t(10);const o="canvas",s="/app/canvas#/workpad",i="/internal/canvas",a=`${i}/workpad`,c=`${i}/workpad-assets`,u=`${i}/workpad-structures`,p=`${i}/custom-element`,d=`${i}/templates`,_="kibana.canvas.clipboard",l="lastPath:canvas",f=3e4,b=".canvasPage {\n\n}",g=".canvasRenderEl{\n\n}",v="filterGroup",h=["gif","jpeg","png","svg+xml"],O=25e3,m=10,P=1,k=[.25,.33,.5,.67,.75,1,1.25,1.5,1.75,2,3,4].sort(),w=k[0],y=k[k.length-1],j=32,x="canvasLayout__stageContent",S=["string","number","null","boolean","date"],D="workpad-full-screen-launch",U="workpad-full-screen-launch-with-autoplay",E="/public/canvas/zip",B=`/public/canvas/${r.SHAREABLE_RUNTIME_NAME}.js`,I="canvasEmbeddable",R="canvasContextMenu--topBorder",C=`${i}/fns`},function(e,n,t){e.exports=t(12)(2)},function(e,n){e.exports=__kbnSharedDeps__.Rxjs},function(e,n){e.exports=__kbnSharedDeps__.KbnI18n},function(e,n,t){t.r(n);var r=__kbnBundles__.get("plugin/expressions/common");Object.defineProperties(n,Object.getOwnPropertyDescriptors(r))},function(e,n,t){"use strict";t.d(n,"a",(function(){return i})),t.d(n,"b",(function(){return CanvasAppLocatorDefinition}));var r=t(1),o=t.n(r),s=t(0);const i="CANVAS_APP_LOCATOR";class CanvasAppLocatorDefinition{constructor(){o()(this,"id",i)}async getLocation(e){const n=s.k;if("workpadPDF"===e.view){const{id:t,page:r}=e;return{app:n,path:`#/export/workpad/pdf/${t}/page/${r}`,state:{}}}return{app:n,path:"#/",state:{}}}}},function(e,n,t){"use strict";t.d(n,"a",(function(){return o}));const r={location:null,localStorage:{},sessionStorage:{},innerWidth:0,innerHeight:0,addEventListener:()=>{},removeEventListener:()=>{}},o=()=>"undefined"==typeof window?r:window},function(e,n,t){"use strict";t.d(n,"a",(function(){return c})),t.d(n,"b",(function(){return u}));var r=t(11),o=t(6);let s;!function(e){e.Local="localStorage",e.Session="sessionStorage"}(s||(s={}));const i={[s.Local]:null,[s.Session]:null},a=e=>{const n=i[e]||new r.Storage(Object(o.a)()[e]);return i[e]=n,n},c=()=>a(s.Local),u=()=>a(s.Session)},function(e,n,t){"use strict";t.d(n,"a",(function(){return i})),t.d(n,"b",(function(){return a}));var r=t(2);let o=!1;const s=new r.BehaviorSubject(0),i=e=>e(s),a={show:()=>{o||(o=!0,s.next(1))},hide:()=>{o&&(o=!1,s.next(0))}}},function(e,n,t){t.r(n);var r=__kbnBundles__.get("entry/core/public");Object.defineProperties(n,Object.getOwnPropertyDescriptors(r))},function(e,n){e.exports={LIBRARY_NAME:"KbnCanvas",SHAREABLE_RUNTIME_NAME:"kbn_canvas"}},function(e,n,t){t.r(n);var r=__kbnBundles__.get("plugin/kibanaUtils/public");Object.defineProperties(n,Object.getOwnPropertyDescriptors(r))},function(e,n){e.exports=__kbnSharedDeps_npm__},function(e,n,t){t(14),__kbnBundles__.define("plugin/canvas/public",t,15)},function(e,n,t){t.p=window.__kbnPublicPath__.canvas},function(e,n,t){"use strict";t.r(n),t.d(n,"plugin",(function(){return b}));var r=t(1),o=t.n(r),s=t(2),i=t(9),a=t(3);const c={id:"canvas",title:"Canvas",subtitle:a.i18n.translate("xpack.canvas.featureCatalogue.canvasSubtitle",{defaultMessage:"Design pixel-perfect presentations."}),description:a.i18n.translate("xpack.canvas.appDescription",{defaultMessage:"Showcase your data in a pixel-perfect way."}),icon:"canvasApp",path:"/app/canvas",showOnHomePage:!1,category:"data",solutionId:"kibana",order:300};var u=t(5),p=t(0),d=t(7),_=t(8),l=t(4);let f=null;class plugin_CanvasPlugin{constructor(e){o()(this,"appUpdater",new s.BehaviorSubject((()=>({})))),o()(this,"initContext",void 0),this.initContext=e}setup(e,n){const{api:r,registries:o}=function(e){const n={elements:[],transformUIs:[],datasourceUIs:[],modelUIs:[],viewUIs:[],argumentUIs:[],tagUIs:[],transitions:[]},t=e=>n=>{Array.isArray(n)?e.push(...n):e.push(n)};return{api:{addFunctions:n=>{n.forEach((n=>{e.registerFunction(n)}))},addTypes:n=>{n.forEach((n=>{e.registerType(n)}))},addRenderers:n=>{n.forEach((n=>{e.registerRenderer(n)}))},addElements:t(n.elements),addTransformUIs:t(n.transformUIs),addDatasourceUIs:t(n.datasourceUIs),addModelUIs:t(n.modelUIs),addViewUIs:t(n.viewUIs),addArgumentUIs:t(n.argumentUIs),addTagUIs:t(n.tagUIs),addTransitions:t(n.transitions)},registries:n}}(n.expressions),s=Object(d.b)().get(`${p.A}:${e.http.basePath.get()}`);return s&&this.appUpdater.next((()=>({defaultPath:`#${s}`}))),e.application.register({category:i.DEFAULT_APP_CATEGORIES.kibana,id:p.k,title:"Canvas",euiIconType:"logoKibana",order:3e3,updater$:this.appUpdater,mount:async s=>{const{CanvasSrcPlugin:i}=await Promise.all([t.e(2),t.e(4),t.e(3),t.e(6),t.e(10)]).then(t.bind(null,416)),a=new i;a.setup(e,{canvas:r}),(async({coreSetup:e,setupPlugins:n})=>{const{expressions:t,bfetch:r}=n;await(async()=>(f||(f=(async()=>{const n=await e.http.get(p.b,{version:"1"}),o=r.batchedFunction({url:p.b}),{serialize:s}=Object(l.serializeProvider)(t.getTypes());Object.keys(n).forEach((e=>{t.getFunction(e)||t.registerFunction((()=>({...n[e],fn:(n,t)=>o({functionName:e,args:t,context:s(n)})})))}))})()),f))()})({coreSetup:e,setupPlugins:n});const[c,u]=await e.getStartServices();a.start(c,u);const{pluginServices:d}=await t.e(17).then(t.bind(null,65)),{pluginServiceRegistry:_}=await Promise.all([t.e(2),t.e(4),t.e(5),t.e(13)]).then(t.bind(null,418));d.setRegistry(_.start({coreStart:c,startPlugins:u,appUpdater:this.appUpdater,initContext:this.initContext}));const{expressions:b,presentationUtil:g}=u;await g.registerExpressionsLanguage(Object.values(b.getFunctions()));const{renderApp:v,initializeCanvas:h,teardownCanvas:O}=await Promise.all([t.e(2),t.e(4),t.e(3),t.e(6),t.e(5),t.e(7),t.e(9)]).then(t.bind(null,414)),m=await h(e,c,n,u,o,this.appUpdater),P=v({coreStart:c,startPlugins:u,params:s,canvasStore:m,pluginServices:d});return()=>{P(),O(c)}}}),n.home&&n.home.featureCatalogue.register(c),n.share&&n.share.url.locators.create(new u.b),r.addArgumentUIs((async()=>{const{argTypeSpecs:e}=await Promise.all([t.e(2),t.e(3),t.e(7),t.e(12)]).then(t.bind(null,417));return e})),r.addTransitions((async()=>{const{transitions:e}=await Promise.all([t.e(2),t.e(18)]).then(t.bind(null,420));return e})),{...r}}start(e,n){Object(_.a)(e.http.addLoadingCountSource)}}const b=e=>new plugin_CanvasPlugin(e)},function(e,n){e.exports=__kbnSharedDeps__.React},function(e,n){e.exports=__kbnSharedDeps__.EmotionReact},function(e,n){e.exports=__kbnSharedDeps__.ElasticEui},function(e,n){e.exports=__kbnSharedDeps__.Lodash},function(e,n){e.exports=__kbnSharedDeps__.ReactRedux},function(e,n){e.exports=__kbnSharedDeps__.ReactRouterDom},function(e,n){e.exports=__kbnSharedDeps__.ReactDom},function(e,n,t){t.r(n);var r=__kbnBundles__.get("plugin/presentationUtil/common");Object.defineProperties(n,Object.getOwnPropertyDescriptors(r))},function(e,n){e.exports=__kbnSharedDeps__.KbnI18nReact},function(e,n){e.exports=__kbnSharedDeps__.Moment},function(e,n,t){t.r(n);var r=__kbnBundles__.get("plugin/presentationUtil/public");Object.defineProperties(n,Object.getOwnPropertyDescriptors(r))},function(e,n){e.exports=__kbnSharedDeps__.Classnames},function(e,n,t){t.r(n);var r=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(n,Object.getOwnPropertyDescriptors(r))},function(e,n){e.exports=__kbnSharedDeps__.SaferLodashSet},function(e,n){e.exports=__kbnSharedDeps__.RxjsOperators},function(e,n){e.exports=__kbnSharedDeps__.KbnDatemath},function(e,n){e.exports=__kbnSharedDeps__.TsLib},function(e,n){e.exports=__kbnSharedDeps__.EmotionCache},function(e,n,t){t.r(n);var r=__kbnBundles__.get("plugin/expressionError/public");Object.defineProperties(n,Object.getOwnPropertyDescriptors(r))},function(e,n,t){t.r(n);var r=__kbnBundles__.get("plugin/expressionShape/public");Object.defineProperties(n,Object.getOwnPropertyDescriptors(r))},function(e,n){e.exports=__kbnSharedDeps__.Jquery},function(e,n){e.exports=__kbnSharedDeps__.Redux},function(e,n,t){t.r(n);var r=__kbnBundles__.get("plugin/fieldFormats/common");Object.defineProperties(n,Object.getOwnPropertyDescriptors(r))},function(e,n){e.exports=__kbnSharedDeps__.KbnEsQuery},function(e,n,t){t.r(n);var r=__kbnBundles__.get("plugin/expressions/common/fonts");Object.defineProperties(n,Object.getOwnPropertyDescriptors(r))},function(e,n,t){t.r(n);var r=__kbnBundles__.get("plugin/expressionImage/public");Object.defineProperties(n,Object.getOwnPropertyDescriptors(r))},function(e,n,t){t.r(n);var r=__kbnBundles__.get("plugin/expressionMetric/public");Object.defineProperties(n,Object.getOwnPropertyDescriptors(r))},function(e,n,t){t.r(n);var r=__kbnBundles__.get("plugin/expressionRevealImage/public");Object.defineProperties(n,Object.getOwnPropertyDescriptors(r))},function(e,n,t){t.r(n);var r=__kbnBundles__.get("plugin/expressionRepeatImage/public");Object.defineProperties(n,Object.getOwnPropertyDescriptors(r))},function(e,n){e.exports=__kbnSharedDeps__.ReactRouterDomV5Compat},function(e,n){e.exports=__kbnSharedDeps__.KbnMonaco},function(e,n){e.exports=__kbnSharedDeps__.KbnAnalytics},function(e,n,t){t.r(n);var r=__kbnBundles__.get("plugin/expressionShape/common");Object.defineProperties(n,Object.getOwnPropertyDescriptors(r))},function(e,n){e.exports=__kbnSharedDeps__.ElasticNumeral},function(e,n,t){t.r(n);var r=__kbnBundles__.get("plugin/data/common");Object.defineProperties(n,Object.getOwnPropertyDescriptors(r))},function(e,n,t){t.r(n);var r=__kbnBundles__.get("plugin/maps/common");Object.defineProperties(n,Object.getOwnPropertyDescriptors(r))},function(e,n,t){t.r(n);var r=__kbnBundles__.get("plugin/visualizations/common/constants");Object.defineProperties(n,Object.getOwnPropertyDescriptors(r))},function(e,n,t){t.r(n);var r=__kbnBundles__.get("plugin/lens/common/constants");Object.defineProperties(n,Object.getOwnPropertyDescriptors(r))},function(e,n,t){t.r(n);var r=__kbnBundles__.get("plugin/embeddable/public");Object.defineProperties(n,Object.getOwnPropertyDescriptors(r))},function(e,n,t){t.r(n);var r=__kbnBundles__.get("plugin/data/public");Object.defineProperties(n,Object.getOwnPropertyDescriptors(r))},function(e,n){e.exports=__kbnSharedDeps__.Uuid},function(e,n){e.exports=__kbnSharedDeps__.KbnSharedUxErrorBoundary},function(e,n,t){t.r(n);var r=__kbnBundles__.get("plugin/visualizations/public");Object.defineProperties(n,Object.getOwnPropertyDescriptors(r))},function(e,n,t){t.r(n);var r=__kbnBundles__.get("plugin/savedObjectsFinder/public");Object.defineProperties(n,Object.getOwnPropertyDescriptors(r))},function(e,n){e.exports=__kbnSharedDeps__.History},function(e,n){e.exports=__kbnSharedDeps__.MomentTimezone}]);