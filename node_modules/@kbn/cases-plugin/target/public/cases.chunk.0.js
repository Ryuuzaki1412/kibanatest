/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.cases_bundle_jsonpfunction=window.cases_bundle_jsonpfunction||[]).push([[0],{163:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var s=n(139),r=n(4),a=n(188);const i={[r.d.LOW]:{color:s.euiLightVars.euiColorVis0,label:a.c},[r.d.MEDIUM]:{color:s.euiLightVars.euiColorVis5,label:a.d},[r.d.HIGH]:{color:s.euiLightVars.euiColorVis7,label:a.b},[r.d.CRITICAL]:{color:s.euiLightVars.euiColorVis9,label:a.a}}},164:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var s=n(1),r=n(35),a=n(208);const i=()=>{const{features:e}=Object(r.a)(),{isAtLeastPlatinum:t}=Object(a.a)(),n=t();return Object(s.useMemo)((()=>({isAlertsEnabled:e.alerts.enabled,isSyncAlertsEnabled:!!e.alerts.enabled&&e.alerts.sync,metricsFeatures:e.metrics,caseAssignmentAuthorized:n,pushToServiceAuthorized:n})),[e.alerts.enabled,e.alerts.sync,e.metrics,n])}},165:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var s=n(46),r=n(38),a=n(209),i=n(192),o=n(80),l=n(47),c=n(35);const u={closureType:"close-by-user",connector:{fields:null,id:"none",name:"none",type:r.ConnectorTypes.none},customFields:[],mappings:[],version:"",id:""},d=e=>e||u,b=()=>{const{owner:e}=Object(c.a)(),{showErrorToast:t}=Object(l.a)();return Object(s.useQuery)(o.d.configuration({owner:e}),(({signal:t})=>Object(i.b)({owner:e,signal:t})),{select:d,onError:e=>{t(e,{title:a.a})},initialData:u})}},169:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return E})),n.d(t,"c",(function(){return b}));var s=n(57),r=n.n(s),a=n(5),i=n(1),o=n.n(i);const l=97,c=2;function u(e,t){if(t&&t.color)return t.color;const n=b(e).codePointAt(0)||l;return a.VISUALIZATION_COLORS[n%a.VISUALIZATION_COLORS.length]}function d(e,t){if(t&&t.initials)return t.initials;const n=b(e).split(" "),s=Math.min(c,n.length);return n.splice(s,n.length),n.map((e=>e.substring(0,1))).join("")}function b(e){return e.full_name||e.email||e.username}var g=n(13);const f=({user:e,avatar:t,...n})=>{const{euiTheme:s}=Object(a.useEuiTheme)();if(!e)return Object(g.jsx)(a.EuiAvatar,r()({name:"",color:s.colors.lightestShade,initials:"?"},n));const i=b(e);return null!=t&&t.imageUrl?Object(g.jsx)(a.EuiAvatar,r()({name:i,imageUrl:t.imageUrl,color:"plain"},n)):Object(g.jsx)(a.EuiAvatar,r()({name:i,initials:d(e,t),initialsLength:c,color:u(e,t)},n))};var m=n(2),j=n(136);const p="null",O=({selectedOptions:e,defaultOptions:t,options:n,onChange:s,onSearchChange:r,isLoading:l=!1,singleSelection:c=!1,limit:u,height:d,loadingMessage:b,noMatchesMessage:O,emptyMessage:E,errorMessage:y,searchPlaceholder:x,searchInputId:C,selectedStatusMessage:w,limitReachedMessage:S,nullOptionLabel:M,defaultOptionsLabel:L,clearButtonLabel:P})=>{const[A,k]=Object(i.useState)([]),[I,T]=Object(i.useState)(""),F=e?e.length:0,z=!!u&&F>=u,G=()=>{n||k((n=>{const s=[...n],r=e?e.filter((e=>!s.find((t=>v(t,e))))).map((e=>h(e,M))):[],a=t?t.filter((e=>!s.find((t=>v(t,e)))&&!r.find((t=>v(t,e))))).map((e=>h(e,M))):[];if(a.length){const e=(e=>{let t=e.findIndex((e=>e.isGroupLabel));return-1===t&&(t=e.push({label:null!=L?L:m.i18n.translate("userProfileComponents.userProfilesSelectable.defaultOptionsLabel",{defaultMessage:"Suggested"}),isGroupLabel:!0})-1),t})(s);s.splice(e,0,...r),s.push(...a)}else s.push(...r);return s}))};return Object(i.useEffect)((()=>{n?k(n.map((e=>h(e,M)))):(k([]),G())}),[n]),Object(i.useEffect)(G,[t,e]),Object(i.useEffect)((()=>{k((t=>t.map((t=>{if(e){var n;const s=void 0===e.find((e=>v(t,e)))?void 0:"on",r=!s&&z;return{...t,checked:s,disabled:r,prepend:t.data?Object(g.jsx)(f,{user:t.data.user,avatar:null===(n=t.data.data)||void 0===n?void 0:n.avatar,size:"s",isDisabled:r}):void 0}}return{...t,checked:void 0,disabled:void 0}}))))}),[n,t,e]),Object(g.jsx)(a.EuiSelectable,{options:A,onChange:t=>{if(!s)return;const n=t.filter((t=>!(t.isGroupLabel||"on"!==t.checked||e&&void 0!==e.find((e=>v(t,e)))))).map((e=>e.key===p?null:e.data));e&&!c&&e.forEach((e=>{const s=t.find((t=>v(t,e)));void 0!==s&&"on"!==s.checked||(s&&s.key===p?n.unshift(e):n.push(e))})),s(n)},style:{maxHeight:d},singleSelection:c,searchable:!0,searchProps:{placeholder:null!=x?x:m.i18n.translate("userProfileComponents.userProfilesSelectable.searchPlaceholder",{defaultMessage:"Search"}),value:I,onChange:e=>{T(e),null==r||r(e)},isLoading:l,isClearable:!l,id:C},isPreFiltered:!0,listProps:{onFocusBadge:!1},loadingMessage:b,noMatchesMessage:O,emptyMessage:E,errorMessage:y,renderOption:(e,t)=>e.user?Object(g.jsx)(a.EuiFlexGroup,{alignItems:"center",justifyContent:"spaceBetween",gutterSize:"s",responsive:!1},Object(g.jsx)(a.EuiFlexItem,null,Object(g.jsx)(a.EuiHighlight,{search:t},e.label)),e.user.email&&e.user.email!==e.label?Object(g.jsx)(a.EuiFlexItem,{grow:!1},Object(g.jsx)(a.EuiTextColor,{color:e.disabled?"disabled":"subdued"},t?Object(g.jsx)(a.EuiHighlight,{search:t},e.user.email):e.user.email)):void 0):Object(g.jsx)(a.EuiHighlight,{search:t},e.label)},((e,t)=>Object(g.jsx)(o.a.Fragment,null,Object(g.jsx)(a.EuiPanel,{hasShadow:!1,paddingSize:"s"},t,c?void 0:Object(g.jsx)(o.a.Fragment,null,Object(g.jsx)(a.EuiSpacer,{size:"s"}),Object(g.jsx)(a.EuiFlexGroup,{alignItems:"center",justifyContent:"spaceBetween",gutterSize:"s",responsive:!1},Object(g.jsx)(a.EuiFlexItem,{grow:!1},Object(g.jsx)(a.EuiText,{size:"xs",color:"subdued"},w?w(F):Object(g.jsx)(j.FormattedMessage,{id:"userProfileComponents.userProfilesSelectable.selectedStatusMessage",defaultMessage:"{count, plural, one {# user selected} other {# users selected}}",values:{count:F}}))),Object(g.jsx)(a.EuiFlexItem,{grow:!1},F?Object(g.jsx)(a.EuiButtonEmpty,{size:"xs",flush:"right",onClick:()=>null==s?void 0:s([]),style:{height:"1rem"}},null!=P?P:Object(g.jsx)(j.FormattedMessage,{id:"userProfileComponents.userProfilesSelectable.clearButtonLabel",defaultMessage:"Remove all users"})):void 0)))),u&&F>=u?Object(g.jsx)(o.a.Fragment,null,Object(g.jsx)(a.EuiHorizontalRule,{margin:"none"}),Object(g.jsx)(a.EuiCallOut,{title:S?S(u):Object(g.jsx)(j.FormattedMessage,{id:"userProfileComponents.userProfilesSelectable.limitReachedMessage",defaultMessage:"You've selected the maximum of {count, plural, one {# user} other {# users}}",values:{count:u}}),color:"warning",size:"s"})):void 0,Object(g.jsx)(a.EuiHorizontalRule,{margin:"none"}),e)))};function h(e,t){return e?{key:e.uid,label:b(e.user),data:e}:{key:p,label:null!=t?t:m.i18n.translate("userProfileComponents.userProfilesSelectable.nullOptionLabel",{defaultMessage:"No users"})}}function v(e,t){return e.key===(t?t.uid:p)}const E=({title:e,selectableProps:t,...n})=>{const s=Object(a.useGeneratedHtmlId)({prefix:"searchInput",conditionalId:t.searchInputId});return Object(g.jsx)(a.EuiPopover,r()({panelPaddingSize:"none",initialFocus:`#${s}`},n),Object(g.jsx)(a.EuiContextMenuPanel,{title:e},Object(g.jsx)(O,r()({},t,{searchInputId:s}))))};n(58),m.i18n.translate("userProfileComponents.updateUserProfile.notification.submitSuccessTitle",{defaultMessage:"Profile updated"}),m.i18n.translate("userProfileComponents.updateUserProfile.notification.requiresPageReloadDescription",{defaultMessage:"One or more settings require you to reload the page to take effect."})},179:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return c}));var s=n(12),r=n(238),a=n(83);const i=e=>{var t,n,s,r,i,o,l,c;return null!==(t=null!==(n=null!==(s=null===(r=e.user)||void 0===r||null===(i=r.full_name)||void 0===i?void 0:i.toLowerCase())&&void 0!==s?s:null===(o=e.user)||void 0===o||null===(l=o.email)||void 0===l?void 0:l.toLowerCase())&&void 0!==n?n:null===(c=e.user)||void 0===c?void 0:c.username.toLowerCase())&&void 0!==t?t:a.l},o=(e,t)=>((e,t)=>{if(!t)return;if(!e)return t;if(!t.find((t=>t.uid===e.uid)))return t;const n=t.filter((t=>t.uid!==e.uid));return[e,...n]})(e,l(t)),l=e=>{if(e)return Object(s.sortBy)(e,i)},c=(e,t)=>{var n;const s=u(t),a=null!==(n=o(e,s))&&void 0!==n?n:[];return void 0!==t.find((e=>e===r.b))?[r.b,...a]:a},u=e=>e.filter((e=>e!==r.b))},188:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return l}));var s=n(2);const r=s.i18n.translate("xpack.cases.severity.low",{defaultMessage:"Low"}),a=s.i18n.translate("xpack.cases.severity.medium",{defaultMessage:"Medium"}),i=s.i18n.translate("xpack.cases.severity.high",{defaultMessage:"High"}),o=s.i18n.translate("xpack.cases.severity.critical",{defaultMessage:"Critical"}),l=s.i18n.translate("xpack.cases.severity.title",{defaultMessage:"Severity"})},189:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var s=n(46),r=n(6),a=n(35),i=n(81),o=n(80),l=n(48);const c=()=>{const e=Object(r.j)(),{owner:t}=Object(a.a)();return Object(s.useQuery)(o.d.tags(),(({signal:e})=>Object(i.n)({owner:t,signal:e})),{onError:t=>{"AbortError"!==t.name&&e.addError(t.body&&t.body.message?new Error(t.body.message):t,{title:l.e})}})}},190:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var s=n(12),r=n(1);const a=()=>{const[e,t]=Object(r.useState)(!1),n=Object(r.useCallback)((()=>t(!1)),[]),a=Object(r.useCallback)((e=>{Object(s.isEmpty)(e)||t(!0)}),[]);return{isUserTyping:e,setIsUserTyping:t,onDebounce:n,onContentChange:a}}},191:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var s=n(1),r=n(46),a=n(178),i=n.n(a),o=n(12),l=n(3),c=n(48),u=n(6),d=n(80),b=n(177);const g=({name:e,owners:t,size:n=l.K,onDebounce:a=o.noop})=>{const{http:g}=Object(u.g)().services,[f,m]=Object(s.useState)(e);i()((()=>{m(e),a()}),l.Nb,[e]);const j=Object(u.j)();return Object(r.useQuery)(d.d.suggestUsers({name:f,owners:t,size:n}),(({signal:e})=>Object(b.c)({http:g,name:f,owners:t,size:n,signal:e})),{retry:!1,keepPreviousData:!0,staleTime:6e4,onError:e=>{"AbortError"!==e.name&&j.addError(e.body&&e.body.message?new Error(e.body.message):e,{title:c.e})}})}},192:function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return b})),n.d(t,"e",(function(){return g})),n.d(t,"d",(function(){return f})),n.d(t,"a",(function(){return m}));var s=n(26),r=n(140),a=n(84),i=n(11),o=n(3),l=n(6),c=n(15),u=n(17);const d=async({signal:e})=>await l.b.get().http.fetch(`${o.q}/_find`,{method:"GET",signal:e}),b=async({signal:e,owner:t})=>{const n=await l.b.get().http.fetch(o.s,{method:"GET",signal:e,query:{...t.length>0?{owner:t}:{}}});if(!Object(s.isEmpty)(n)){const e=Object(u.f)(n);if(Array.isArray(e)&&e.length>0){const t=Object(c.f)(e[0]);return j(t)}}return null},g=async e=>{const t=await l.b.get().http.fetch(o.s,{method:"POST",body:JSON.stringify(e)}),n=Object(c.f)(Object(u.g)(t));return j(n)},f=async(e,t)=>{const n=await l.b.get().http.fetch(Object(i.c)(e),{method:"PATCH",body:JSON.stringify(t)}),s=Object(c.f)(Object(u.g)(n));return j(s)},m=async({signal:e})=>{const t=await l.b.get().http.fetch(Object(a.a)(),{method:"GET",signal:e,query:{feature_id:r.CasesConnectorFeatureId}});return Object(c.b)(t)},j=e=>{const{id:t,version:n,mappings:s,customFields:r,closureType:a,connector:i}=e;return{id:t,version:n,mappings:s,customFields:r,closureType:a,connector:i}}},195:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var s=n(46),r=n(192),a=n(6),i=n(209),o=n(80),l=n(35);function c(){const e=Object(a.j)(),{actions:t}=Object(a.c)(),{permissions:n}=Object(l.a)();return Object(s.useQuery)(o.d.connectorsList(),(async({signal:e})=>t.read&&n.connectors?Object(r.c)({signal:e}):[]),{onError:t=>{"AbortError"!==t.name&&e.addError(t.body&&t.body.message?new Error(t.body.message):t,{title:i.a})}})}},203:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var s=n(1),r=n(46),a=n(80);const i=()=>{const e=Object(r.useQueryClient)();return Object(s.useCallback)((()=>{e.invalidateQueries(a.d.casesList()),e.invalidateQueries(a.d.tags()),e.invalidateQueries(a.d.categories()),e.invalidateQueries(a.d.userProfiles())}),[e])}},205:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var s=n(1),r=n.n(s);const a=()=>null;a.displayName="EmptyMessage";const i=r.a.memo(a)},206:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var s=n(5),r=n(1),a=n.n(r),i=n(83);const o=()=>a.a.createElement(s.EuiFlexGroup,{alignItems:"center",gutterSize:"none",direction:"column",justifyContent:"spaceAround","data-test-subj":"case-user-profiles-assignees-popover-no-matches"},a.a.createElement(s.EuiFlexItem,{grow:!1},a.a.createElement(s.EuiIcon,{type:"userAvatar",size:"xl"}),a.a.createElement(s.EuiSpacer,{size:"xs"})),a.a.createElement(s.EuiFlexItem,{grow:!1},a.a.createElement(s.EuiTextAlign,{textAlign:"center"},a.a.createElement(s.EuiText,{size:"s",color:"default"},a.a.createElement("strong",null,i.m),a.a.createElement("br",null)),a.a.createElement(s.EuiText,{size:"s",color:"subdued"},i.g,a.a.createElement("br",null),a.a.createElement(s.EuiLink,{href:"https://www.elastic.co/guide/en/security/current/case-permissions.html",target:"_blank"},i.d)))));o.displayName="NoMatches";const l=a.a.memo(o)},208:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var s=n(1),r=n(58),a=n.n(r),i=n(93),o=n(6);const l=()=>{var e;const{licensing:t}=Object(o.g)().services,n=a()(null!==(e=null==t?void 0:t.license$)&&void 0!==e?e:new i.Observable,null),r=Object(s.useCallback)((e=>!!n&&n.isAvailable&&n.isActive&&n.hasAtLeast(e)),[n]),l=Object(s.useCallback)((()=>r("platinum")),[r]),c=Object(s.useCallback)((()=>r("gold")),[r]),u=Object(s.useCallback)((()=>r("enterprise")),[r]);return{isAtLeast:r,isAtLeastPlatinum:l,isAtLeastGold:c,isAtLeastEnterprise:u,getLicense:()=>n}}},209:function(e,t,n){"use strict";n.d(t,"b",(function(){return a}));var s=n(2),r=n(48);n.d(t,"a",(function(){return r.e}));const a=s.i18n.translate("xpack.cases.configure.successSaveToast",{defaultMessage:"Settings successfully updated"})},211:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var s=n(46),r=n(47),a=n(35),i=n(81),o=n(80),l=n(48);const c=()=>{const{showErrorToast:e}=Object(r.a)(),{owner:t}=Object(a.a)();return Object(s.useQuery)(o.d.categories(),(({signal:e})=>Object(i.k)({owner:t,signal:e})),{onError:t=>{e(t,{title:l.a})},staleTime:6e4})}},238:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return h}));var s=n(5),r=n(169),a=n(12),i=n(1),o=n.n(i),l=n(190),c=n(191),u=n(155),d=n(35),b=n(205),g=n(206),f=n(179),m=n(82),j=n(3);const p=null,O=({selectedAssignees:e,currentUserProfile:t,isLoading:n,onSelectionChange:p})=>{const{owner:O}=Object(d.a)(),h=O.length>0,v=Object(u.a)(["read"]),[E,y]=Object(i.useState)(""),[x,C]=Object(i.useState)(!1),{isUserTyping:w,onContentChange:S,onDebounce:M}=Object(l.a)(),L=Object(i.useCallback)((()=>C((e=>!e))),[]),P=Object(i.useCallback)((e=>{const n=Object(f.c)(t,e);p({filterId:"assignees",selectedOptionKeys:n.map((e=>{var t;return null!==(t=null==e?void 0:e.uid)&&void 0!==t?t:null}))})}),[t,p]),A=Object(i.useCallback)((e=>m.db(e)),[]),k=Object(i.useCallback)((e=>{y(e),S(e)}),[S]),{data:I,isLoading:T}=Object(c.a)({name:E,owners:h?O:v,onDebounce:M}),F=Object(i.useCallback)((e=>m.w(e,"assignees")),[]),z=Object(i.useMemo)((()=>{var e;const n=null!==(e=Object(f.a)(t,I))&&void 0!==e?e:[];return Object(a.isEmpty)(E)?[null,...n]:n}),[t,I,E]),G=e.map((e=>null===e?null:z.find((t=>(null==t?void 0:t.uid)===e)))).filter((e=>void 0!==e)),U=n||T;return o.a.createElement(s.EuiFilterGroup,null,o.a.createElement(r.b,{isOpen:x,closePopover:L,panelStyle:{minWidth:520},button:o.a.createElement(s.EuiFilterButton,{"data-test-subj":"options-filter-popover-button-assignees",iconType:"arrowDown",onClick:L,isLoading:U,isSelected:x,hasActiveFilters:G.length>0,numActiveFilters:G.length,"aria-label":m.t},m.b),selectableProps:{onChange:P,onSearchChange:k,selectedStatusMessage:A,options:z,selectedOptions:G,isLoading:U||w,height:"full",searchPlaceholder:m.P,clearButtonLabel:m.i,emptyMessage:o.a.createElement(b.a,null),noMatchesMessage:w||U?o.a.createElement(b.a,null):o.a.createElement(g.a,null),limit:j.db,limitReachedMessage:F,singleSelection:!1,nullOptionLabel:m.B}}))};O.displayName="AssigneesFilterPopover";const h=o.a.memo(O)}}]);