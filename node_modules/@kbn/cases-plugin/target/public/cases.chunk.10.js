/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.cases_bundle_jsonpfunction=window.cases_bundle_jsonpfunction||[]).push([[10],{149:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i={jira:["jira"],resilient:["resilient"],servicenow:["servicenow"],jiraGetFieldsByIssueType:(e,t)=>[...i.jira,e,"getFields",t],jiraGetIssueTypes:e=>[...i.jira,e,"getIssueType"],jiraGetIssues:(e,t)=>[...i.jira,e,"getIssues",t],resilientGetIncidentTypes:e=>[...i.resilient,e,"getIncidentTypes"],resilientGetSeverity:e=>[...i.resilient,e,"getSeverity"],servicenowGetChoices:(e,t)=>[...i.servicenow,e,"getChoices",t]}},151:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i=({connector_id:e,service_message:t,...n})=>({...n,actionId:e,...t&&{serviceMessage:t}})},154:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(1),r=n.n(i),s=n(5),a=n(6),c=n(61);const l=({connectorType:e,title:t,listItems:n,isLoading:i})=>{const{triggersActionsUi:l}=Object(a.g)().services;return r.a.createElement(s.EuiSkeletonText,{lines:3,size:"m",isLoading:i,"data-test-subj":"connector-card-loading"},r.a.createElement(s.EuiFlexGroup,{direction:"column",alignItems:"stretch","data-test-subj":"connector-card"},r.a.createElement(s.EuiFlexGroup,{direction:"row",justifyContent:"spaceBetween",alignItems:"center"},r.a.createElement(s.EuiFlexItem,null,r.a.createElement(s.EuiText,{size:"s","data-test-subj":"connector-card-title"},r.a.createElement("strong",null,t))),r.a.createElement(s.EuiFlexItem,{grow:!1},r.a.createElement(s.EuiIcon,{size:"xl",type:Object(c.d)(l,e)}))),r.a.createElement(s.EuiFlexItem,{"data-test-subj":"connector-card-details"},n.length>0&&n.map(((e,t)=>r.a.createElement(s.EuiText,{size:"xs","data-test-subj":"card-list-item",key:`${e.title}-${t}`},r.a.createElement("strong",null,`${e.title}: `),`${e.description}`))))))};l.displayName="ConnectorCardDisplay";const o=Object(i.memo)(l)},157:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n(1),r=n.n(i),s=n(5),a=n(2);const c=a.i18n.translate("xpack.cases.connectors.serviceNow.deprecatedConnectorWarningTitle",{defaultMessage:"This connector type is deprecated"}),l=a.i18n.translate("xpack.cases.connectors.serviceNow.deprecatedConnectorWarningDesc",{defaultMessage:"Update this connector, or create a new one."}),o=({type:e="warning"})=>r.a.createElement(s.EuiCallOut,{title:c,color:e,iconType:"warning","data-test-subj":"deprecated-connector-warning-callout"},l);o.displayName="DeprecatedCallout";const u=r.a.memo(o)},168:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i=e=>e.map((e=>({value:e.value,text:e.label})))},170:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(46),r=n(47),s=n(149),a=n(84),c=n(151),l=n(156);const o=({http:e,connector:t,fields:n})=>{var o;const{showErrorToast:u}=Object(r.a)();return Object(i.useQuery)(s.a.servicenowGetChoices(null!==(o=null==t?void 0:t.id)&&void 0!==o?o:"",n),(({signal:i})=>{var r;return async function({http:e,connectorId:t,fields:n,signal:i}){const r=await e.post(Object(a.b)(t),{body:JSON.stringify({params:{subAction:"getChoices",subActionParams:{fields:n}}}),signal:i});return Object(c.a)(r)}({http:e,signal:i,connectorId:null!==(r=null==t?void 0:t.id)&&void 0!==r?r:"",fields:n})}),{enabled:Boolean(t),staleTime:6e4,onSuccess:e=>{var t;e.status&&"error"===e.status&&u(new Error(l.d),{title:l.d,toastMessage:`${null!==(t=e.serviceMessage)&&void 0!==t?t:e.message}`})},onError:e=>{u(e,{title:l.d})}})}},337:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var i=n(1),r=n.n(i),s=n(5),a=n(4),c=n(6),l=n(154),o=n(170),u=n(168),d=n(156),p=n(157);const m=["category","subcategory","priority"],g={category:[],subcategory:[],priority:[]},v=({connector:e,fields:t})=>{var n;const{category:v=null,destIp:b=!0,malwareHash:y=!0,malwareUrl:E=!0,priority:j=null,sourceIp:f=!0,subcategory:w=null}=null!=t?t:{},{http:I}=Object(c.g)().services,h=e.isDeprecated,{isLoading:x,isFetching:O,data:T}=Object(o.a)({http:I,connector:e,fields:m}),F=x||O,C=(null!==(n=null==T?void 0:T.data)&&void 0!==n?n:[]).reduce(((e,t)=>({...e,[t.element]:[...null!=e[t.element]?e[t.element]:[],t]})),g),G=Object(i.useMemo)((()=>Object(u.a)(C.category)),[C.category]),M=Object(i.useMemo)((()=>Object(u.a)(C.priority)),[C.priority]),N=Object(i.useMemo)((()=>Object(u.a)(C.subcategory.filter((e=>e.dependent_value===v)))),[C.subcategory,v]),S=Object(i.useMemo)((()=>{var e,t,n;return[...null!=b&&b?[{title:d.e,description:d.b}]:[],...null!=f&&f?[{title:d.k,description:d.b}]:[],...null!=E&&E?[{title:d.h,description:d.b}]:[],...null!=y&&y?[{title:d.g,description:d.b}]:[],...null!=j&&j.length>0?[{title:d.i,description:null===(e=M.find((e=>`${e.value}`===j)))||void 0===e?void 0:e.text}]:[],...null!=v&&v.length>0?[{title:d.c,description:null===(t=G.find((e=>`${e.value}`===v)))||void 0===t?void 0:t.text}]:[],...null!=w&&w.length>0?[{title:d.l,description:null===(n=N.find((e=>`${e.value}`===w)))||void 0===n?void 0:n.text}]:[]]}),[v,G,b,y,E,j,M,f,w,N]);return r.a.createElement(r.a.Fragment,null,h&&r.a.createElement(s.EuiFlexGroup,null,r.a.createElement(s.EuiFlexItem,null,r.a.createElement(p.a,null))),r.a.createElement(s.EuiFlexGroup,null,r.a.createElement(s.EuiFlexItem,null,r.a.createElement(l.a,{connectorType:a.i.serviceNowSIR,title:e.name,listItems:S,isLoading:F}))))};v.displayName="ServiceNowSIRFieldsPreviewComponent"}}]);