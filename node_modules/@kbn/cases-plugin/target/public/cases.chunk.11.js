/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.cases_bundle_jsonpfunction=window.cases_bundle_jsonpfunction||[]).push([[11],{149:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i={jira:["jira"],resilient:["resilient"],servicenow:["servicenow"],jiraGetFieldsByIssueType:(e,t)=>[...i.jira,e,"getFields",t],jiraGetIssueTypes:e=>[...i.jira,e,"getIssueType"],jiraGetIssues:(e,t)=>[...i.jira,e,"getIssues",t],resilientGetIncidentTypes:e=>[...i.resilient,e,"getIncidentTypes"],resilientGetSeverity:e=>[...i.resilient,e,"getSeverity"],servicenowGetChoices:(e,t)=>[...i.servicenow,e,"getChoices",t]}},151:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i=({connector_id:e,service_message:t,...n})=>({...n,actionId:e,...t&&{serviceMessage:t}})},154:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n(1),s=n.n(i),r=n(5),a=n(6),c=n(61);const o=({connectorType:e,title:t,listItems:n,isLoading:i})=>{const{triggersActionsUi:o}=Object(a.g)().services;return s.a.createElement(r.EuiSkeletonText,{lines:3,size:"m",isLoading:i,"data-test-subj":"connector-card-loading"},s.a.createElement(r.EuiFlexGroup,{direction:"column",alignItems:"stretch","data-test-subj":"connector-card"},s.a.createElement(r.EuiFlexGroup,{direction:"row",justifyContent:"spaceBetween",alignItems:"center"},s.a.createElement(r.EuiFlexItem,null,s.a.createElement(r.EuiText,{size:"s","data-test-subj":"connector-card-title"},s.a.createElement("strong",null,t))),s.a.createElement(r.EuiFlexItem,{grow:!1},s.a.createElement(r.EuiIcon,{size:"xl",type:Object(c.d)(o,e)}))),s.a.createElement(r.EuiFlexItem,{"data-test-subj":"connector-card-details"},n.length>0&&n.map(((e,t)=>s.a.createElement(r.EuiText,{size:"xs","data-test-subj":"card-list-item",key:`${e.title}-${t}`},s.a.createElement("strong",null,`${e.title}: `),`${e.description}`))))))};o.displayName="ConnectorCardDisplay";const l=Object(i.memo)(o)},183:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var i=n(84),s=n(151);async function r({http:e,connectorId:t,signal:n}){const r=await e.post(Object(i.b)(t),{body:JSON.stringify({params:{subAction:"incidentTypes",subActionParams:{}}}),signal:n});return Object(s.a)(r)}async function a({http:e,connectorId:t,signal:n}){const r=await e.post(Object(i.b)(t),{body:JSON.stringify({params:{subAction:"severity",subActionParams:{}}}),signal:n});return Object(s.a)(r)}},226:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(46),s=n(47),r=n(149),a=n(183),c=n(167);const o=({http:e,connector:t})=>{var n;const{showErrorToast:o}=Object(s.a)();return Object(i.useQuery)(r.a.resilientGetIncidentTypes(null!==(n=null==t?void 0:t.id)&&void 0!==n?n:""),(({signal:n})=>{var i;return Object(a.a)({http:e,signal:n,connectorId:null!==(i=null==t?void 0:t.id)&&void 0!==i?i:""})}),{enabled:Boolean(t),staleTime:6e4,onSuccess:e=>{var t;e.status&&"error"===e.status&&o(new Error(c.a),{title:c.a,toastMessage:`${null!==(t=e.serviceMessage)&&void 0!==t?t:e.message}`})},onError:e=>{o(e,{title:c.a})}})}},227:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(46),s=n(47),r=n(149),a=n(183),c=n(167);const o=({http:e,connector:t})=>{var n;const{showErrorToast:o}=Object(s.a)();return Object(i.useQuery)(r.a.resilientGetSeverity(null!==(n=null==t?void 0:t.id)&&void 0!==n?n:""),(({signal:n})=>{var i;return Object(a.b)({http:e,signal:n,connectorId:null!==(i=null==t?void 0:t.id)&&void 0!==i?i:""})}),{enabled:Boolean(t),staleTime:6e4,onSuccess:e=>{var t;e.status&&"error"===e.status&&o(new Error(c.d),{title:c.d,toastMessage:`${null!==(t=e.serviceMessage)&&void 0!==t?t:e.message}`})},onError:e=>{o(e,{title:c.d})}})}},332:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var i=n(1),s=n.n(i),r=n(6),a=n(226),c=n(227),o=n(167),l=n(4),u=n(154);const d=({connector:e,fields:t})=>{const{incidentTypes:n=null,severityCode:d=null}=null!=t?t:{},{http:g}=Object(r.g)().services,{isLoading:v,isFetching:m,data:p}=Object(a.a)({http:g,connector:e}),{isLoading:b,isFetching:j,data:y}=Object(c.a)({http:g,connector:e}),E=v||m,f=b||j,I=null==p?void 0:p.data,h=null==y?void 0:y.data,O=Object(i.useMemo)((()=>{var e,t;return[...null!=n&&n.length>0?[{title:o.b,description:(null!=I?I:[]).filter((e=>n.includes(e.id.toString()))).map((e=>e.name)).join(", ")}]:[],...null!=d&&d.length>0?[{title:o.e,description:null!==(e=null==h||null===(t=h.find((e=>e.id.toString()===d)))||void 0===t?void 0:t.name)&&void 0!==e?e:""}]:[]]}),[n,d,I,h]);return s.a.createElement(u.a,{connectorType:l.i.resilient,isLoading:E||f,listItems:O,title:e.name})};d.displayName="ResilientFields"}}]);