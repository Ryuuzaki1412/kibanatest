/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.cases_bundle_jsonpfunction=window.cases_bundle_jsonpfunction||[]).push([[15],{149:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i={jira:["jira"],resilient:["resilient"],servicenow:["servicenow"],jiraGetFieldsByIssueType:(e,t)=>[...i.jira,e,"getFields",t],jiraGetIssueTypes:e=>[...i.jira,e,"getIssueType"],jiraGetIssues:(e,t)=>[...i.jira,e,"getIssues",t],resilientGetIncidentTypes:e=>[...i.resilient,e,"getIncidentTypes"],resilientGetSeverity:e=>[...i.resilient,e,"getSeverity"],servicenowGetChoices:(e,t)=>[...i.servicenow,e,"getChoices",t]}},151:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i=({connector_id:e,service_message:t,...n})=>({...n,actionId:e,...t&&{serviceMessage:t}})},183:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var i=n(84),s=n(151);async function a({http:e,connectorId:t,signal:n}){const a=await e.post(Object(i.b)(t),{body:JSON.stringify({params:{subAction:"incidentTypes",subActionParams:{}}}),signal:n});return Object(s.a)(a)}async function r({http:e,connectorId:t,signal:n}){const a=await e.post(Object(i.b)(t),{body:JSON.stringify({params:{subAction:"severity",subActionParams:{}}}),signal:n});return Object(s.a)(a)}},226:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(46),s=n(47),a=n(149),r=n(183),o=n(167);const c=({http:e,connector:t})=>{var n;const{showErrorToast:c}=Object(s.a)();return Object(i.useQuery)(a.a.resilientGetIncidentTypes(null!==(n=null==t?void 0:t.id)&&void 0!==n?n:""),(({signal:n})=>{var i;return Object(r.a)({http:e,signal:n,connectorId:null!==(i=null==t?void 0:t.id)&&void 0!==i?i:""})}),{enabled:Boolean(t),staleTime:6e4,onSuccess:e=>{var t;e.status&&"error"===e.status&&c(new Error(o.a),{title:o.a,toastMessage:`${null!==(t=e.serviceMessage)&&void 0!==t?t:e.message}`})},onError:e=>{c(e,{title:o.a})}})}},227:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(46),s=n(47),a=n(149),r=n(183),o=n(167);const c=({http:e,connector:t})=>{var n;const{showErrorToast:c}=Object(s.a)();return Object(i.useQuery)(a.a.resilientGetSeverity(null!==(n=null==t?void 0:t.id)&&void 0!==n?n:""),(({signal:n})=>{var i;return Object(r.b)({http:e,signal:n,connectorId:null!==(i=null==t?void 0:t.id)&&void 0!==i?i:""})}),{enabled:Boolean(t),staleTime:6e4,onSuccess:e=>{var t;e.status&&"error"===e.status&&c(new Error(o.d),{title:o.d,toastMessage:`${null!==(t=e.serviceMessage)&&void 0!==t?t:e.message}`})},onError:e=>{c(e,{title:o.d})}})}},331:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var i=n(1),s=n.n(i),a=n(5),r=n(24),o=n(27),c=n(6),l=n(226),u=n(227),d=n(167);const v=({connector:e})=>{const{http:t}=Object(c.g)().services,{isLoading:n,isFetching:v,data:b}=Object(l.a)({http:t,connector:e}),{isLoading:p,isFetching:g,data:m}=Object(u.a)({http:t,connector:e}),f=null==b?void 0:b.data,j=null==m?void 0:m.data,y=n||v,h=p||g,O=Object(i.useMemo)((()=>(null!=j?j:[]).map((e=>({value:e.id.toString(),text:e.name})))),[j]),E=Object(i.useMemo)((()=>f?f.map((e=>({label:e.name,value:e.id.toString()}))):[]),[f]);return s.a.createElement("span",{"data-test-subj":"connector-fields-resilient"},s.a.createElement(r.UseField,{path:"fields.incidentTypes",config:{defaultValue:[]}},(e=>{var t;const{isInvalid:n,errorMessage:i}=Object(r.getFieldValidityAndErrorMessage)(e),o=(null!==(t=e.value)&&void 0!==t?t:[]).map((e=>{var t,n;return{value:e,label:null!==(t=null===(n=(null!=f?f:[]).find((t=>e===t.id.toString())))||void 0===n?void 0:n.name)&&void 0!==t?t:""}}));return s.a.createElement(a.EuiFormRow,{id:"indexConnectorSelectSearchBox",fullWidth:!0,label:d.b,isInvalid:n,error:i},s.a.createElement(a.EuiComboBox,{"data-test-subj":"incidentTypeComboBox",fullWidth:!0,isClearable:!0,isDisabled:y,isLoading:y,onChange:t=>{e.setValue(t.map((e=>e.value)))},options:E,placeholder:d.c,selectedOptions:o}))})),s.a.createElement(a.EuiSpacer,{size:"m"}),s.a.createElement(r.UseField,{path:"fields.severityCode",component:o.SelectField,config:{label:d.e},componentProps:{euiFieldProps:{"data-test-subj":"severitySelect",options:O,hasNoInitialSelection:!0,fullWidth:!0,disabled:h,isLoading:h}}}),s.a.createElement(a.EuiSpacer,{size:"m"}))};v.displayName="ResilientFields"}}]);