/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.cases_bundle_jsonpfunction=window.cases_bundle_jsonpfunction||[]).push([[17],{158:function(e,t,a){"use strict";a.d(t,"d",(function(){return c})),a.d(t,"c",(function(){return u})),a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return E}));var n=a(5),s=a(1),r=a.n(s),l=a(36),i=a(2);const o=e=>i.i18n.translate("xpack.cases.caseTable.caseDetailsLinkAria",{values:{detailName:e},defaultMessage:"click to visit case with title {detailName}"}),c=({children:e,...t})=>r.a.createElement(n.EuiButton,t,e),u=({children:e,...t})=>r.a.createElement(n.EuiLink,t,e),m=({children:e,detailName:t,title:a})=>{const{getCaseViewUrl:n,navigateToCaseView:i}=Object(l.j)(),c=Object(s.useCallback)((e=>{e.preventDefault(),i({detailName:t})}),[i,t]);return r.a.createElement(u,{onClick:c,href:n({detailName:t}),"data-test-subj":"case-details-link","aria-label":o(null!=a?a:t)},e||t)},d=r.a.memo(m);d.displayName="CaseDetailsLink";const p=({label:e,msgTooltip:t,showToolTip:a,titleTooltip:i})=>{const{getConfigureCasesUrl:o,navigateToConfigureCases:u}=Object(l.l)(),m=Object(s.useCallback)((e=>{e.preventDefault(),u()}),[u]),d=Object(s.useMemo)((()=>r.a.createElement(c,{onClick:m,href:o(),iconType:"controlsHorizontal",isDisabled:!1,"aria-label":e,"data-test-subj":"configure-case-button"},e)),[e,m,o]);return a?r.a.createElement(n.EuiToolTip,{position:"top",title:i,content:r.a.createElement("p",null,t),"data-test-subj":"configure-case-tooltip"},d):r.a.createElement(r.a.Fragment,null,d)},E=r.a.memo(p);E.displayName="ConfigureCaseButton"},187:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(5),s=a(91),r=a.n(s),l=a(1),i=a.n(l),o=a(6);const c=i.a.memo((({children:e,date:t,fieldName:a,className:s=""})=>i.a.createElement(n.EuiToolTip,{"data-test-subj":"localized-date-tool-tip",anchorClassName:s,content:i.a.createElement(n.EuiFlexGroup,{"data-test-subj":"dates-container",direction:"column",gutterSize:"none"},null!=a?i.a.createElement(n.EuiFlexItem,{grow:!1},i.a.createElement("span",{"data-test-subj":"field-name"},a)):null,i.a.createElement(n.EuiFlexItem,{"data-test-subj":"with-day-of-week",grow:!1},r.a.tz(t,Object(o.i)()).format("llll")))},i.a.createElement(i.a.Fragment,null,e))));c.displayName="LocalizedDateTooltip"},193:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(1),s=a.n(n),r=a(56);const l=a.n(r).a.span.withConfig({displayName:"Text",componentId:"sc-1sd0b9z-0"})(["text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:",";-webkit-box-orient:vertical;overflow:hidden;word-break:break-word;"],3),i=({text:e})=>s.a.createElement(l,{title:e},e);i.displayName="TruncatedText";const o=s.a.memo(i)},212:function(e,t,a){"use strict";a.d(t,"a",(function(){return m})),a.d(t,"b",(function(){return d}));var n=a(46),s=a(80),r=a(6),l=a(48),i=a(81),o=a(35),c=a(155),u=a(159);const m={cases:[],countClosedCases:0,countInProgressCases:0,countOpenCases:0,page:0,perPage:0,total:0},d=(e={})=>{var t;const a=Object(r.j)(),{owner:m}=Object(o.a)(),d=Object(c.a)(Object(u.b)("delete")),p=m.length?m:d,E=null!=(null===(t=e.filterOptions)||void 0===t?void 0:t.owner)&&e.filterOptions.owner.length>0?{owner:e.filterOptions.owner}:{owner:p};return Object(n.useQuery)(s.d.cases(e),(({signal:t})=>{var a,n;return Object(i.j)({filterOptions:{...s.a,...null!==(a=e.filterOptions)&&void 0!==a?a:{},...E},queryParams:{...s.b,...null!==(n=e.queryParams)&&void 0!==n?n:{}},signal:t})}),{keepPreviousData:!0,onError:e=>{"AbortError"!==e.name&&a.addError(e.body&&e.body.message?new Error(e.body.message):e,{title:l.e})}})}},340:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return H}));var n=a(5),s=a(1),r=a.n(s),l=a(137),i=a(2);const o=i.i18n.translate("xpack.cases.recentCases.commentsTooltip",{defaultMessage:"Comments"}),c=i.i18n.translate("xpack.cases.recentCases.myRecentlyReportedCasesLabel",{defaultMessage:"Created by me"}),u=i.i18n.translate("xpack.cases.recentCases.myRecentlyAssignedCasesLabel",{defaultMessage:"Assigned to me"}),m=i.i18n.translate("xpack.cases.recentCases.noCasesMessage",{defaultMessage:"No cases have been created yet. Put your detective hat on and"}),d=i.i18n.translate("xpack.cases.recentCases.noCasesMessageReadOnly",{defaultMessage:"No cases have been created yet."}),p=i.i18n.translate("xpack.cases.recentCases.noCasesMessageAssignedToMe",{defaultMessage:"No cases have been recently assigned to you."}),E=i.i18n.translate("xpack.cases.recentCases.recentCasesSidebarTitle",{defaultMessage:"Recent cases"}),g=i.i18n.translate("xpack.cases.recentCases.recentlyCreatedCasesLabel",{defaultMessage:"Created by anyone"}),C=i.i18n.translate("xpack.cases.recentCases.startNewCaseLink",{defaultMessage:"start a new case"}),b=i.i18n.translate("xpack.cases.recentCases.viewAllCasesLink",{defaultMessage:"View all cases"});i.i18n.translate("xpack.cases.recentCases.controlLegend",{defaultMessage:"Cases filter"});var f=a(158);const y=[{id:"recentlyCreated",label:g},{id:"myRecentlyReported",label:c},{id:"myRecentlyAssigned",label:u}],x=r.a.memo((({filterBy:e,setFilterBy:t,hasCurrentUserInfo:a,isLoading:l=!1})=>{const i=y.map((e=>({value:e.id,text:e.label}))),o=Object(s.useCallback)((e=>{t(e.target.value)}),[t]);return r.a.createElement(n.EuiSelect,{"data-test-subj":"recent-cases-filter",disabled:!a,fullWidth:!0,hasNoInitialSelection:!0,isLoading:l,onChange:o,options:i,value:e})}));x.displayName="RecentCasesFilters";var w=a(56),h=a.n(w),v=a(136),j=a(187);const k=h()(n.EuiIcon).withConfig({displayName:"Icon",componentId:"sc-1dfa9ts-0"})(["margin-right:4px;"]),O=h()(n.EuiFlexGroup).withConfig({displayName:"FlexGroup",componentId:"sc-1dfa9ts-1"})(["margin-right:16px;"]),T=h.a.span.withConfig({displayName:"OuterContainer",componentId:"sc-1dfa9ts-2"})(["width:fit-content;"]),F=r.a.memo((({count:e,icon:t,tooltip:a})=>r.a.createElement(T,null,r.a.createElement(n.EuiToolTip,{content:a},r.a.createElement(O,{alignItems:"center",gutterSize:"none"},r.a.createElement(n.EuiFlexItem,{grow:!1},r.a.createElement(k,{color:"default",size:"s",type:t})),r.a.createElement(n.EuiFlexItem,{grow:!1},r.a.createElement(n.EuiText,{color:"default",size:"xs"},e)))))));F.displayName="IconWithCount";const N=({lines:e,placeholders:t})=>r.a.createElement(r.a.Fragment,null,[...Array(t).keys()].map(((a,s)=>r.a.createElement(r.a.Fragment,{key:s},r.a.createElement(n.EuiSkeletonText,{lines:e,"data-test-subj":"loadingPlaceholders"}),s!==t-1&&r.a.createElement(n.EuiSpacer,{size:"l"})))));N.displayName="LoadingPlaceholdersComponent";const z=r.a.memo(N);var I=a(35),L=a(36);const M=({recentCasesFilterBy:e})=>{const{permissions:t}=Object(I.a)(),{getCreateCaseUrl:a,navigateToCreateCase:n}=Object(L.m)(),l=Object(s.useCallback)((e=>{e.preventDefault(),n()}),[n]);return"myRecentlyAssigned"===e?r.a.createElement("span",{"data-test-subj":"no-cases-assigned-to-me"},p):t.create?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,m),r.a.createElement(f.c,{"data-test-subj":"no-cases-create-case",onClick:l,href:a()},` ${C}`),"!"):r.a.createElement("span",{"data-test-subj":"no-cases-readonly"},d)};M.displayName="NoCasesComponent";const R=r.a.memo(M);var S=a(193),P=a(175),U=a(212),A=a(155);const B=h.a.div.withConfig({displayName:"MarkdownContainer",componentId:"sc-5uxj0y-0"})(["",""],(({theme:e})=>Object(w.css)(["max-height:150px;overflow-y:auto;color:",";"],e.eui.euiTextSubduedColor))),D=h.a.div.withConfig({displayName:"TruncateComp",componentId:"sc-5uxj0y-1"})(["& .euiMarkdownFormat{text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;word-break:break-word;}"]),_=r.a.memo((({filterOptions:e,maxCasesToShow:t,recentCasesFilterBy:a})=>{const{owner:s}=Object(I.a)(),l=Object(A.a)(["read"]),i=!!s.length,{data:c=U.a,isLoading:u}=Object(U.b)({queryParams:{perPage:t},filterOptions:{...e,owner:i?s:l}});return u?r.a.createElement(z,{lines:2,placeholders:3}):u||0!==c.cases.length?r.a.createElement(r.a.Fragment,null,c.cases.map(((e,t)=>r.a.createElement(n.EuiFlexGroup,{key:e.id,gutterSize:"none"},r.a.createElement(n.EuiFlexItem,null,r.a.createElement(n.EuiText,{size:"s"},r.a.createElement(f.a,{detailName:e.id,title:e.title},r.a.createElement(S.a,{text:e.title}))),r.a.createElement(n.EuiSpacer,{size:"xs"}),e.description&&e.description.length&&r.a.createElement(B,null,r.a.createElement(D,null,r.a.createElement(P.c,{disableLinks:!0,textSize:"relative"},e.description))),r.a.createElement(n.EuiSpacer,{size:"xs"}),r.a.createElement(n.EuiFlexGroup,{gutterSize:"s"},r.a.createElement(n.EuiFlexItem,{grow:!1},r.a.createElement(n.EuiText,{size:"xs",color:"default","data-test-subj":"recent-cases-creation-relative-time"},r.a.createElement(j.a,{date:new Date(e.createdAt)},r.a.createElement(v.FormattedRelative,{value:e.createdAt})))),r.a.createElement(F,{count:e.totalComment,icon:"editorComment",tooltip:o})),t!==c.cases.length-1&&r.a.createElement(n.EuiSpacer,{size:"l"})))))):r.a.createElement(R,{recentCasesFilterBy:a})}));_.displayName="RecentCasesComp";var G=a(6),q=a(180);const H=r.a.memo((e=>r.a.createElement(r.a.Fragment,null,r.a.createElement(l.ReactQueryDevtools,{initialIsOpen:!1}),r.a.createElement(V,e))));H.displayName="RecentCases";const V=r.a.memo((({maxCasesToShow:e})=>{const t=Object(G.d)(),{data:a,isLoading:l}=Object(q.a)(),{getAllCasesUrl:i,navigateToAllCases:o}=Object(L.i)(),[c,u]=Object(s.useState)("recentlyCreated"),m=Object(s.useCallback)((e=>{e.preventDefault(),o()}),[o]),d=Object(s.useMemo)((()=>"myRecentlyAssigned"===c?(({currentUserProfile:e,isLoadingCurrentUserProfile:t})=>null==e||t?{assignees:[]}:{assignees:[e.uid]})({isLoadingCurrentUserProfile:l,currentUserProfile:a}):(({currentUserProfile:e,currentUser:t,isLoadingCurrentUserProfile:a,recentCasesFilterBy:n})=>{const s={reporters:[]};return"myRecentlyReported"!==n?s:null==e||a?null!=t?{reporters:[{email:t.email,full_name:t.fullName,username:t.username}]}:s:{reporters:[{email:e.user.email,full_name:e.user.full_name,username:e.user.username,profile_uid:e.uid}]}})({currentUser:t,isLoadingCurrentUserProfile:l,recentCasesFilterBy:c,currentUserProfile:a})),[t,a,l,c]),p=null!=a||null!=t;return r.a.createElement(r.a.Fragment,null,r.a.createElement(n.EuiFlexGroup,{alignItems:"center",gutterSize:"none",justifyContent:"spaceBetween"},r.a.createElement(n.EuiFlexItem,{grow:!1},r.a.createElement(n.EuiTitle,{size:"xs"},r.a.createElement("h2",null,E))),r.a.createElement(n.EuiFlexItem,{grow:!1},r.a.createElement(x,{filterBy:c,setFilterBy:u,hasCurrentUserInfo:p,isLoading:l}))),r.a.createElement(n.EuiHorizontalRule,{margin:"s"}),r.a.createElement(n.EuiText,{color:"subdued",size:"s"},r.a.createElement(_,{filterOptions:d,maxCasesToShow:e,recentCasesFilterBy:c}),r.a.createElement(n.EuiHorizontalRule,{margin:"s"}),r.a.createElement(n.EuiText,{size:"xs"},r.a.createElement(f.c,{onClick:m,href:i()}," ",b))))}));V.displayName="RecentCasesComponent"}}]);