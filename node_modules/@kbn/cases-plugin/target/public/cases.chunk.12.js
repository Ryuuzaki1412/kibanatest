/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.cases_bundle_jsonpfunction=window.cases_bundle_jsonpfunction||[]).push([[12],{149:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i={jira:["jira"],resilient:["resilient"],servicenow:["servicenow"],jiraGetFieldsByIssueType:(e,t)=>[...i.jira,e,"getFields",t],jiraGetIssueTypes:e=>[...i.jira,e,"getIssueType"],jiraGetIssues:(e,t)=>[...i.jira,e,"getIssues",t],resilientGetIncidentTypes:e=>[...i.resilient,e,"getIncidentTypes"],resilientGetSeverity:e=>[...i.resilient,e,"getSeverity"],servicenowGetChoices:(e,t)=>[...i.servicenow,e,"getChoices",t]}},151:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i=({connector_id:e,service_message:t,...n})=>({...n,actionId:e,...t&&{serviceMessage:t}})},154:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n(1),s=n.n(i),r=n(5),c=n(6),a=n(61);const o=({connectorType:e,title:t,listItems:n,isLoading:i})=>{const{triggersActionsUi:o}=Object(c.g)().services;return s.a.createElement(r.EuiSkeletonText,{lines:3,size:"m",isLoading:i,"data-test-subj":"connector-card-loading"},s.a.createElement(r.EuiFlexGroup,{direction:"column",alignItems:"stretch","data-test-subj":"connector-card"},s.a.createElement(r.EuiFlexGroup,{direction:"row",justifyContent:"spaceBetween",alignItems:"center"},s.a.createElement(r.EuiFlexItem,null,s.a.createElement(r.EuiText,{size:"s","data-test-subj":"connector-card-title"},s.a.createElement("strong",null,t))),s.a.createElement(r.EuiFlexItem,{grow:!1},s.a.createElement(r.EuiIcon,{size:"xl",type:Object(a.d)(o,e)}))),s.a.createElement(r.EuiFlexItem,{"data-test-subj":"connector-card-details"},n.length>0&&n.map(((e,t)=>s.a.createElement(r.EuiText,{size:"xs","data-test-subj":"card-list-item",key:`${e.title}-${t}`},s.a.createElement("strong",null,`${e.title}: `),`${e.description}`))))))};o.displayName="ConnectorCardDisplay";const l=Object(i.memo)(o)},185:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return a}));var i=n(84);n(89),n(94),n(3);var s=n(151);async function r({http:e,connectorId:t,signal:n}){const r=await e.post(Object(i.b)(t),{body:JSON.stringify({params:{subAction:"issueTypes",subActionParams:{}}}),signal:n});return Object(s.a)(r)}async function c({http:e,connectorId:t,id:n,signal:r}){const c=await e.post(Object(i.b)(t),{body:JSON.stringify({params:{subAction:"fieldsByIssueType",subActionParams:{id:n}}}),signal:r});return Object(s.a)(c)}async function a({http:e,connectorId:t,title:n,signal:r}){const c=await e.post(Object(i.b)(t),{body:JSON.stringify({params:{subAction:"issues",subActionParams:{title:n}}}),signal:r});return Object(s.a)(c)}},225:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(46),s=n(47),r=n(149),c=n(185),a=n(160);const o=({http:e,connector:t})=>{var n;const{showErrorToast:o}=Object(s.a)();return Object(i.useQuery)(r.a.jiraGetIssueTypes(null!==(n=null==t?void 0:t.id)&&void 0!==n?n:""),(({signal:n})=>{var i;return Object(c.b)({http:e,signal:n,connectorId:null!==(i=null==t?void 0:t.id)&&void 0!==i?i:""})}),{enabled:Boolean(t),staleTime:6e4,onSuccess:e=>{var t;e.status&&"error"===e.status&&o(new Error(a.d),{title:a.d,toastMessage:`${null!==(t=e.serviceMessage)&&void 0!==t?t:e.message}`})},onError:e=>{o(e,{title:a.d})}})}},328:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var i=n(1),s=n.n(i),r=n(160),c=n(4),a=n(6),o=n(225),l=n(154);const u=({fields:e,connector:t})=>{const{http:n}=Object(a.g)().services,{issueType:u=null,priority:d=null,parent:g=null}=null!=e?e:{},{isLoading:p,isFetching:m,data:b}=Object(o.a)({connector:t,http:n}),j=null==b?void 0:b.data,y=Object(i.useMemo)((()=>{var e,t;return[...null!=u&&u.length>0?[{title:r.c,description:null!==(e=null===(t=(null!=j?j:[]).find((e=>e.id===u)))||void 0===t?void 0:t.name)&&void 0!==e?e:""}]:[],...null!=g&&g.length>0?[{title:r.f,description:g}]:[],...null!=d&&d.length>0?[{title:r.g,description:d}]:[]]}),[u,j,g,d]);return s.a.createElement(l.a,{connectorType:c.i.jira,isLoading:p||m,listItems:y,title:t.name})};u.displayName="JiraFieldsPreview"}}]);