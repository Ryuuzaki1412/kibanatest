/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */!function(e){function t(t){for(var n,i,a=t[0],o=t[1],s=0,u=[];s<a.length;s++)i=a[s],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&u.push(r[i][0]),r[i]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);for(c&&c(t);u.length;)u.shift()()}var n={},r={10:0};function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise((function(t,i){n=r[e]=[t,i]}));t.push(n[2]=a);var o,s=document.createElement("script");s.charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.src=function(e){return i.p+"maps.chunk."+e+".js"}(e);var c=new Error;o=function(t){s.onerror=s.onload=null,clearTimeout(u);var n=r[e];if(0!==n){if(n){var i=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+i+": "+a+")",c.name="ChunkLoadError",c.type=i,c.request=a,n[1](c)}r[e]=void 0}};var u=setTimeout((function(){o({type:"timeout",target:s})}),12e4);s.onerror=s.onload=o,document.head.appendChild(s)}return Promise.all(t)},i.m=e,i.c=n,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i.oe=function(e){throw console.error(e),e};var a=window.maps_bundle_jsonpfunction=window.maps_bundle_jsonpfunction||[],o=a.push.bind(a);a.push=t,a=a.slice();for(var s=0;s<a.length;s++)t(a[s]);var c=o;i(i.s=37)}([function(e,t,n){"use strict";n.d(t,"fb",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"db",(function(){return u})),n.d(t,"R",(function(){return l})),n.d(t,"eb",(function(){return p})),n.d(t,"P",(function(){return f})),n.d(t,"E",(function(){return b})),n.d(t,"Q",(function(){return E})),n.d(t,"O",(function(){return m})),n.d(t,"K",(function(){return O})),n.d(t,"i",(function(){return g})),n.d(t,"pb",(function(){return T})),n.d(t,"ob",(function(){return y})),n.d(t,"rb",(function(){return S})),n.d(t,"U",(function(){return A})),n.d(t,"H",(function(){return h})),n.d(t,"Nb",(function(){return N})),n.d(t,"Mb",(function(){return I})),n.d(t,"Z",(function(){return L})),n.d(t,"Cb",(function(){return v})),n.d(t,"D",(function(){return R})),n.d(t,"T",(function(){return M})),n.d(t,"kb",(function(){return P})),n.d(t,"F",(function(){return C})),n.d(t,"zb",(function(){return D})),n.d(t,"Bb",(function(){return x})),n.d(t,"Ab",(function(){return w})),n.d(t,"yb",(function(){return j})),n.d(t,"mb",(function(){return k})),n.d(t,"hb",(function(){return G})),n.d(t,"o",(function(){return F})),n.d(t,"Kb",(function(){return B})),n.d(t,"u",(function(){return U})),n.d(t,"t",(function(){return V})),n.d(t,"s",(function(){return z})),n.d(t,"C",(function(){return H})),n.d(t,"jb",(function(){return Y})),n.d(t,"A",(function(){return K})),n.d(t,"B",(function(){return J})),n.d(t,"J",(function(){return $})),n.d(t,"tb",(function(){return W})),n.d(t,"bb",(function(){return Z})),n.d(t,"X",(function(){return q})),n.d(t,"z",(function(){return X})),n.d(t,"x",(function(){return Q})),n.d(t,"y",(function(){return ee})),n.d(t,"a",(function(){return te})),n.d(t,"b",(function(){return ne})),n.d(t,"ub",(function(){return re})),n.d(t,"L",(function(){return ie})),n.d(t,"I",(function(){return ae})),n.d(t,"G",(function(){return oe})),n.d(t,"Gb",(function(){return se})),n.d(t,"v",(function(){return ce})),n.d(t,"k",(function(){return ue})),n.d(t,"Eb",(function(){return le})),n.d(t,"Y",(function(){return de})),n.d(t,"j",(function(){return pe})),n.d(t,"h",(function(){return _e})),n.d(t,"sb",(function(){return fe})),n.d(t,"Fb",(function(){return be})),n.d(t,"V",(function(){return Ee})),n.d(t,"W",(function(){return me})),n.d(t,"r",(function(){return Oe})),n.d(t,"p",(function(){return ge})),n.d(t,"q",(function(){return Te})),n.d(t,"m",(function(){return ye})),n.d(t,"l",(function(){return Se})),n.d(t,"cb",(function(){return Ae})),n.d(t,"M",(function(){return he})),n.d(t,"N",(function(){return Ne})),n.d(t,"Ib",(function(){return Ie})),n.d(t,"wb",(function(){return Le})),n.d(t,"nb",(function(){return ve})),n.d(t,"Db",(function(){return Re})),n.d(t,"S",(function(){return Me})),n.d(t,"ab",(function(){return Pe})),n.d(t,"Hb",(function(){return Ce})),n.d(t,"ib",(function(){return De})),n.d(t,"n",(function(){return xe})),n.d(t,"w",(function(){return we})),n.d(t,"qb",(function(){return je})),n.d(t,"g",(function(){return ke})),n.d(t,"Lb",(function(){return Ge})),n.d(t,"Jb",(function(){return Fe})),n.d(t,"gb",(function(){return Be})),n.d(t,"vb",(function(){return Ue})),n.d(t,"lb",(function(){return Ve})),n.d(t,"xb",(function(){return ze}));var r=n(1);const i="map",a="maps",o="gisApp",s="logoKibana",c=r.i18n.translate("xpack.maps.visTypeAlias.title",{defaultMessage:"Maps"}),u=r.i18n.translate("xpack.maps.embeddableDisplayName",{defaultMessage:"map"}),l="initialLayers",d=`app/${a}`,p="map",_=`internal/${a}`,f=`/${_}/indexSettings`,b=`/${_}/fonts`,E=`/${_}/docSource`,m=`/${_}/feature`,O=`/${_}/getMatchingIndexes`,g=`/${_}/checkIsDrawingIndex`,T=`/${_}/mvt/getTile`,y=`/${_}/mvt/getGridTile`,S="openLayerWizard",A="__kbn_is_centroid_feature__",h="__kbn__feature_id__";function N(e){return`/${d}${I(e)}`}function I(e){return e?`/${p}/${e}`:`/${p}`}let L,v,R;!function(e){e.RASTER_TILE="RASTER_TILE",e.GEOJSON_VECTOR="GEOJSON_VECTOR",e.EMS_VECTOR_TILE="EMS_VECTOR_TILE",e.HEATMAP="HEATMAP",e.BLENDED_VECTOR="BLENDED_VECTOR",e.MVT_VECTOR="MVT_VECTOR",e.LAYER_GROUP="LAYER_GROUP"}(L||(L={})),function(e){e.EMS_TMS="EMS_TMS",e.EMS_FILE="EMS_FILE",e.ES_GEO_GRID="ES_GEO_GRID",e.ES_GEO_LINE="ES_GEO_LINE",e.ES_SEARCH="ES_SEARCH",e.ES_PEW_PEW="ES_PEW_PEW",e.ES_ML_ANOMALIES="ML_ANOMALIES",e.EMS_XYZ="EMS_XYZ",e.WMS="WMS",e.KIBANA_TILEMAP="KIBANA_TILEMAP",e.GEOJSON_FILE="GEOJSON_FILE",e.MVT_SINGLE_LAYER="MVT_SINGLE_LAYER",e.ES_DISTANCE_SOURCE="ES_DISTANCE_SOURCE",e.ES_TERM_SOURCE="ES_TERM_SOURCE",e.TABLE_SOURCE="TABLE_SOURCE"}(v||(v={})),function(e){e.SOURCE="source",e.JOIN="join"}(R||(R={}));const M="__kbnjoin__",P="meta",C="formatters",D="source",x=`${D}_${P}`,w=`${D}_${C}`,j=`${D}_bounds`,k=0,G=24,F=5,B=2,U=1e4,V=100,z=65535,H="__kbn_isvisibleduetojoin__",Y="_";let K;!function(e){e.GEO_POINT="geo_point",e.GEO_SHAPE="geo_shape"}(K||(K={}));const J=["geo_point","geo_shape"];let $;!function(e){e.POINT="Point",e.MULTI_POINT="MultiPoint",e.LINE_STRING="LineString",e.MULTI_LINE_STRING="MultiLineString",e.POLYGON="Polygon",e.MULTI_POLYGON="MultiPolygon",e.GEOMETRY_COLLECTION="GeometryCollection"}($||($={}));const W=0,Z=0,q=1,X={type:"FeatureCollection",features:[]};let Q,ee;!function(e){e.DRAW_SHAPES="DRAW_SHAPES",e.DRAW_POINTS="DRAW_POINTS",e.DRAW_FILTERS="DRAW_FILTERS",e.NONE="NONE"}(Q||(Q={})),function(e){e.BOUNDS="BOUNDS",e.DISTANCE="DISTANCE",e.POLYGON="POLYGON",e.POINT="POINT",e.LINE="LINE",e.SIMPLE_SELECT="SIMPLE_SELECT",e.DELETE="DELETE",e.WAIT="WAIT"}(ee||(ee={}));const te="_of_";let ne,re,ie;!function(e){e.AVG="avg",e.COUNT="count",e.MAX="max",e.MIN="min",e.SUM="sum",e.TERMS="terms",e.PERCENTILE="percentile",e.UNIQUE_COUNT="cardinality"}(ne||(ne={})),function(e){e.HEATMAP="heatmap",e.POINT="point",e.GRID="grid",e.HEX="hex"}(re||(re={})),function(e){e.COARSE="COARSE",e.FINE="FINE",e.MOST_FINE="MOST_FINE",e.SUPER_FINE="SUPER_FINE"}(ie||(ie={}));const ae="gridSplit",oe="gridCentroid",se="__percentage",ce=50,ue="doc_count";let le,de,pe;!function(e){e.STATIC="STATIC",e.DYNAMIC="DYNAMIC"}(le||(le={})),function(e){e.VECTOR="VECTOR",e.HEATMAP="HEATMAP",e.TILE="TILE",e.EMS_VECTOR_TILE="EMS_VECTOR_TILE"}(de||(de={})),function(e){e.CATEGORICAL="CATEGORICAL",e.ORDINAL="ORDINAL"}(pe||(pe={}));const _e=["string","ip","boolean"],fe=["number","date"];let be,Ee,me;!function(e){e.CIRCLE="circle",e.ICON="icon"}(be||(be={})),function(e){e.NONE="NONE",e.SMALL="SMALL",e.MEDIUM="MEDIUM",e.LARGE="LARGE"}(Ee||(Ee={})),function(e){e.BOTTOM="BOTTOM",e.CENTER="CENTER",e.TOP="TOP"}(me||(me={}));const Oe="marker",ge=.25,Te=.25,ye=64,Se="__kbn__custom_icon_sdf__",Ae=16,he=Ae/2;let Ne,Ie,Le,ve;!function(e){e.CUSTOM="CUSTOM",e.MAKI="MAKI"}(Ne||(Ne={})),function(e){e.SYMBOLIZE_AS="symbolizeAs",e.FILL_COLOR="fillColor",e.LINE_COLOR="lineColor",e.LINE_WIDTH="lineWidth",e.ICON="icon",e.ICON_SIZE="iconSize",e.ICON_ORIENTATION="iconOrientation",e.LABEL_TEXT="labelText",e.LABEL_ZOOM_RANGE="labelZoomRange",e.LABEL_COLOR="labelColor",e.LABEL_SIZE="labelSize",e.LABEL_BORDER_COLOR="labelBorderColor",e.LABEL_BORDER_SIZE="labelBorderSize",e.LABEL_POSITION="labelPosition"}(Ie||(Ie={})),function(e){e.LIMIT="LIMIT",e.CLUSTERS="CLUSTERS",e.TOP_HITS="TOP_HITS",e.MVT="MVT"}(Le||(Le={})),function(e){e.STRING="String",e.NUMBER="Number"}(ve||(ve={}));const Re="SPATIAL_FILTERS_LAYER_ID";let Me,Pe,Ce,De,xe;!function(e){e.LAST_SAVED_LOCATION="LAST_SAVED_LOCATION",e.FIXED_LOCATION="FIXED_LOCATION",e.BROWSER_LOCATION="BROWSER_LOCATION",e.AUTO_FIT_TO_BOUNDS="AUTO_FIT_TO_BOUNDS"}(Me||(Me={})),function(e){e.ELASTICSEARCH="ELASTICSEARCH",e.REFERENCE="REFERENCE",e.SOLUTIONS="SOLUTIONS"}(Pe||(Pe={})),function(e){e.POINT="POINT",e.LINE="LINE",e.POLYGON="POLYGON"}(Ce||(Ce={})),function(e){e.GET="get",e.FEATURE_STATE="feature-state"}(De||(De={})),function(e){e.INTERPOLATE="INTERPOLATE",e.PERCENTILES="PERCENTILES"}(xe||(xe={}));const we=[50,75,90,95,99],je="none",ke="autoselect",Ge="world_countries";let Fe,Be;!function(e){e.CHOROPLETH="choropleth",e.GEO_FILE="uploadGeoFile",e.LAYER_GROUP="layerGroup",e.NEW_VECTOR="newVectorLayer",e.OBSERVABILITY="observabilityLayer",e.SECURITY="securityLayer",e.EMS_BOUNDARIES="emsBoundaries",e.EMS_BASEMAP="emsBaseMap",e.CLUSTERS="clusters",e.HEATMAP="heatmap",e.GEO_LINE="geoLine",e.POINT_2_POINT="point2Point",e.ES_DOCUMENT="esDocument",e.ES_TOP_HITS="esTopHits",e.KIBANA_BASEMAP="kibanaBasemap",e.MVT_VECTOR="mvtVector",e.WMS_LAYER="wmsLayer",e.TMS_LAYER="tmsLayer",e.SPATIAL_JOIN="spatialJoin"}(Fe||(Fe={})),function(e){e.ABOVE="ABOVE",e.BELOW="BELOW"}(Be||(Be={}));const Ue=1e3,Ve={truncation:"middle"},ze={asPlainText:!0}},function(e,t){e.exports=__kbnSharedDeps__.KbnI18n},function(e,t,n){e.exports=n(22)(2)},function(e,t){e.exports=__kbnSharedDeps__.EmotionReact},function(e,t){e.exports=__kbnSharedDeps__.React},function(e,t,n){"use strict";n.d(t,"Y",(function(){return c})),n.d(t,"W",(function(){return l})),n.d(t,"x",(function(){return d})),n.d(t,"s",(function(){return p})),n.d(t,"q",(function(){return _})),n.d(t,"u",(function(){return f})),n.d(t,"b",(function(){return b})),n.d(t,"v",(function(){return E})),n.d(t,"p",(function(){return m})),n.d(t,"S",(function(){return O})),n.d(t,"y",(function(){return g})),n.d(t,"t",(function(){return T})),n.d(t,"H",(function(){return y})),n.d(t,"r",(function(){return S})),n.d(t,"o",(function(){return A})),n.d(t,"P",(function(){return h})),n.d(t,"Q",(function(){return N})),n.d(t,"f",(function(){return I})),n.d(t,"j",(function(){return L})),n.d(t,"z",(function(){return v})),n.d(t,"U",(function(){return R})),n.d(t,"k",(function(){return M})),n.d(t,"h",(function(){return P})),n.d(t,"c",(function(){return C})),n.d(t,"i",(function(){return D})),n.d(t,"R",(function(){return x})),n.d(t,"e",(function(){return w})),n.d(t,"D",(function(){return j})),n.d(t,"g",(function(){return k})),n.d(t,"I",(function(){return G})),n.d(t,"m",(function(){return F})),n.d(t,"B",(function(){return B})),n.d(t,"C",(function(){return U})),n.d(t,"G",(function(){return V})),n.d(t,"E",(function(){return z})),n.d(t,"J",(function(){return H})),n.d(t,"N",(function(){return Y})),n.d(t,"O",(function(){return K})),n.d(t,"a",(function(){return J})),n.d(t,"T",(function(){return $})),n.d(t,"d",(function(){return W})),n.d(t,"V",(function(){return Z})),n.d(t,"K",(function(){return q})),n.d(t,"X",(function(){return Q})),n.d(t,"M",(function(){return te})),n.d(t,"F",(function(){return ne})),n.d(t,"A",(function(){return re})),n.d(t,"l",(function(){return ie})),n.d(t,"n",(function(){return ae})),n.d(t,"L",(function(){return oe})),n.d(t,"w",(function(){return se}));let r,i,a,o,s=!1;function c(e,t){r=e,i=t,a=t.mapsEms,o=a.createEMSSettings(),e.theme.theme$.subscribe((({darkMode:e})=>{s=e}))}let u=!1;function l(e){u=e}const d=()=>u,p=()=>i.fileUpload.IndexNameFormComponent,_=()=>i.fileUpload.FileUploadComponent,f=()=>i.data.dataViews,b=()=>i.unifiedSearch.autocomplete,E=()=>i.inspector,m=()=>i.fileUpload,O=()=>r.uiSettings,g=()=>s,T=()=>i.unifiedSearch.ui.IndexPatternSelect,y=()=>i.unifiedSearch.ui.SearchBar,S=()=>r.http,A=()=>r.executionContext,h=()=>i.data.query.timefilter.timefilter,N=()=>r.notifications.toasts,I=()=>r.chrome,L=()=>r.application.capabilities.dev_tools,v=()=>r.application.capabilities.maps,R=()=>r.application.capabilities.visualize,M=()=>r.docLinks,P=()=>r.overlays,C=()=>i.charts,D=()=>i.data,x=()=>i.uiActions,w=()=>r,j=()=>i.navigation,k=()=>r.i18n,G=()=>i.data.search,F=()=>i.embeddable,B=()=>r.application.navigateToApp,U=()=>r.application.navigateToUrl,V=()=>i.savedObjectsTagging,z=()=>i.presentationUtil.ContextProvider,H=()=>i.security,Y=()=>i.spaces,K=()=>r.theme,J=()=>r.application,$=()=>i.usageCollection,W=()=>i.contentManagement,Z=()=>!!i.screenshotMode&&i.screenshotMode.isScreenshotMode(),q=()=>i.serverless;let X;const Q=e=>X=e,ee=()=>X,te=()=>ee().showMapsInspectorAdapter,ne=()=>ee().preserveDrawingBuffer,re=()=>a,ie=()=>o,ae=()=>a.config.emsTileLayerId,oe=()=>i.share,se=()=>i.dashboard.dashboardFeatureFlagConfig.allowByValueEmbeddables},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(4),i=n(15),a=n(3);const o=()=>Object(a.jsx)(i.EuiDelayRender,null,Object(a.jsx)(i.EuiSkeletonText,{lines:3}));function s({getLazyComponent:e,lazyComponentProps:t}){const n=e();return Object(a.jsx)(i.EuiErrorBoundary,null,Object(a.jsx)(r.Suspense,{fallback:Object(a.jsx)(o,null)},Object(a.jsx)(n,t)))}},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/uiActions/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.ReactDom},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));const r=1,i="map"},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return a}));const r="tile_map_vis",i="tile_map";let a;!function(e){e.ScaledCircleMarkers="Scaled Circle Markers",e.Heatmap="Heatmap"}(a||(a={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));const r="region_map_vis",i="region_map"},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/expressions/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u}));var r=n(2),i=n.n(r);let a,o;!function(e){e._ID="_id",e._INDEX="_index",e._SOURCE="_source",e._TYPE="_type",e.STRING="string",e.TEXT="text",e.MATCH_ONLY_TEXT="match_only_text",e.KEYWORD="keyword",e.VERSION="version",e.BOOLEAN="boolean",e.OBJECT="object",e.DATE="date",e.DATE_NANOS="date_nanos",e.DATE_RANGE="date_range",e.GEO_POINT="geo_point",e.GEO_SHAPE="geo_shape",e.FLOAT="float",e.HALF_FLOAT="half_float",e.SCALED_FLOAT="scaled_float",e.DOUBLE="double",e.INTEGER="integer",e.LONG="long",e.SHORT="short",e.UNSIGNED_LONG="unsigned_long",e.AGGREGATE_METRIC_DOUBLE="aggregate_metric_double",e.FLOAT_RANGE="float_range",e.DOUBLE_RANGE="double_range",e.INTEGER_RANGE="integer_range",e.LONG_RANGE="long_range",e.NESTED="nested",e.BYTE="byte",e.IP="ip",e.IP_RANGE="ip_range",e.ATTACHMENT="attachment",e.TOKEN_COUNT="token_count",e.MURMUR3="murmur3",e.HISTOGRAM="histogram"}(a||(a={})),function(e){e._SOURCE="_source",e.ATTACHMENT="attachment",e.BOOLEAN="boolean",e.DATE="date",e.DATE_RANGE="date_range",e.GEO_POINT="geo_point",e.GEO_SHAPE="geo_shape",e.IP="ip",e.IP_RANGE="ip_range",e.MURMUR3="murmur3",e.NUMBER="number",e.NUMBER_RANGE="number_range",e.STRING="string",e.UNKNOWN="unknown",e.CONFLICT="conflict",e.OBJECT="object",e.NESTED="nested",e.HISTOGRAM="histogram",e.MISSING="missing"}(o||(o={}));class kbn_field_type_KbnFieldType{constructor(e={}){i()(this,"name",void 0),i()(this,"sortable",void 0),i()(this,"filterable",void 0),i()(this,"esTypes",void 0),this.name=e.name||o.UNKNOWN,this.sortable=e.sortable||!1,this.filterable=e.filterable||!1,this.esTypes=Object.freeze((e.esTypes||[]).slice())}}new kbn_field_type_KbnFieldType({name:o.UNKNOWN});new kbn_field_type_KbnFieldType({name:o.STRING,sortable:!0,filterable:!0,esTypes:[a.STRING,a.TEXT,a.MATCH_ONLY_TEXT,a.KEYWORD,a.VERSION,a._TYPE,a._ID]}),new kbn_field_type_KbnFieldType({name:o.NUMBER,sortable:!0,filterable:!0,esTypes:[a.FLOAT,a.HALF_FLOAT,a.SCALED_FLOAT,a.DOUBLE,a.INTEGER,a.LONG,a.UNSIGNED_LONG,a.SHORT,a.BYTE,a.TOKEN_COUNT,a.AGGREGATE_METRIC_DOUBLE]}),new kbn_field_type_KbnFieldType({name:o.NUMBER_RANGE,sortable:!0,filterable:!0,esTypes:[a.FLOAT_RANGE,a.DOUBLE_RANGE,a.INTEGER_RANGE,a.LONG_RANGE]}),new kbn_field_type_KbnFieldType({name:o.DATE,sortable:!0,filterable:!0,esTypes:[a.DATE,a.DATE_NANOS]}),new kbn_field_type_KbnFieldType({name:o.DATE_RANGE,sortable:!0,filterable:!0,esTypes:[a.DATE_RANGE]}),new kbn_field_type_KbnFieldType({name:o.IP,sortable:!0,filterable:!0,esTypes:[a.IP]}),new kbn_field_type_KbnFieldType({name:o.IP_RANGE,sortable:!0,filterable:!0,esTypes:[a.IP_RANGE]}),new kbn_field_type_KbnFieldType({name:o.BOOLEAN,sortable:!0,filterable:!0,esTypes:[a.BOOLEAN]}),new kbn_field_type_KbnFieldType({name:o.OBJECT,esTypes:[a.OBJECT]}),new kbn_field_type_KbnFieldType({name:o.NESTED,esTypes:[a.NESTED]}),new kbn_field_type_KbnFieldType({name:o.GEO_POINT,esTypes:[a.GEO_POINT]}),new kbn_field_type_KbnFieldType({name:o.GEO_SHAPE,esTypes:[a.GEO_SHAPE]}),new kbn_field_type_KbnFieldType({name:o.ATTACHMENT,esTypes:[a.ATTACHMENT]}),new kbn_field_type_KbnFieldType({name:o.MURMUR3,esTypes:[a.MURMUR3]}),new kbn_field_type_KbnFieldType({name:o._SOURCE,esTypes:[a._SOURCE]}),new kbn_field_type_KbnFieldType({name:o.HISTOGRAM,filterable:!0,esTypes:[a.HISTOGRAM]}),new kbn_field_type_KbnFieldType({name:o.CONFLICT});var s=n(32);const c="geohash_grid",u=()=>new s.BucketAggType({name:c,expressionName:"",title:c,makeLabel:()=>c,params:[{name:"field",type:"field",filterFieldTypes:o.GEO_POINT}],getRequestAggs:e=>[]})},function(e,t,n){"use strict";function r({attributes:e,references:t=[]}){if(!e.layerListJSON)return{attributes:e,references:t};const n=[];if(e.mapStateJSON)try{const t=JSON.parse(e.mapStateJSON);t.adHocDataViews&&t.adHocDataViews.length>0&&t.adHocDataViews.forEach((e=>{e.id&&n.push(e.id)}))}catch(e){throw new Error("Unable to parse attribute mapStateJSON")}const r=[];let i=[];try{i=JSON.parse(e.layerListJSON)}catch(e){throw new Error("Unable to parse attribute layerListJSON")}return i.forEach(((e,t)=>{if(e.sourceDescriptor&&"indexPatternId"in e.sourceDescriptor&&!n.includes(e.sourceDescriptor.indexPatternId)){const n=e.sourceDescriptor,i=`layer_${t}_source_index_pattern`;r.push({name:i,type:"index-pattern",id:n.indexPatternId}),delete n.indexPatternId,n.indexPatternRefName=i}if("joins"in e){const i=e;(i.joins?i.joins:[]).forEach(((e,i)=>{if(e.right&&"indexPatternId"in e.right&&!n.includes(e.right.indexPatternId)){const n=e.right,a=`layer_${t}_join_${i}_index_pattern`;r.push({name:a,type:"index-pattern",id:n.indexPatternId}),delete n.indexPatternId,n.indexPatternRefName=a}}))}})),{attributes:{...e,layerListJSON:JSON.stringify(i)},references:t.concat(r)}}function i(e,t){const n=t.find((({name:t})=>t===e));if(!n)throw new Error(`Could not find reference "${e}"`);return n}function a({attributes:e,references:t}){if(!e.layerListJSON)return{attributes:e};let n=[];try{n=JSON.parse(e.layerListJSON)}catch(e){throw new Error("Unable to parse attribute layerListJSON")}return n.forEach((e=>{if(e.sourceDescriptor&&"indexPatternRefName"in e.sourceDescriptor){const n=e.sourceDescriptor,r=i(n.indexPatternRefName,t);n.indexPatternId=r.id,delete n.indexPatternRefName}if("joins"in e){const n=e;(n.joins?n.joins:[]).forEach((e=>{if(e.right&&"indexPatternRefName"in e.right){const n=e.right,r=i(n.indexPatternRefName,t);n.indexPatternId=r.id,delete n.indexPatternRefName}}))}})),{attributes:{...e,layerListJSON:JSON.stringify(n)}}}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}))},function(e,t){e.exports=__kbnSharedDeps__.ElasticEui},function(e,t){e.exports=__kbnSharedDeps__.KbnAnalytics},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return MapsAppLocatorDefinition}));var r=n(2),i=n.n(r);const a="MAPS_APP_LOCATOR";class MapsAppLocatorDefinition{constructor(e){i()(this,"id",a),i()(this,"getLocation",(async e=>{const{getLocation:t}=await n.e(29).then(n.bind(null,70));return t(e,this.deps)})),this.deps=e}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d}));var r=n(4),i=n(1),a=n(12),o=n(33),s=n(10),c=n(6),u=n(3);const l=i.i18n.translate("xpack.maps.tileMap.vis.title",{defaultMessage:"Coordinate Map"}),d={name:s.c,title:l,icon:"visMapCoordinate",description:i.i18n.translate("xpack.maps.tileMap.vis.description",{defaultMessage:"Plot latitude and longitude coordinates on a map"}),editorConfig:{optionTabs:[{name:"",title:"",editor:function(e){return Object(u.jsx)(c.a,{getLazyComponent:()=>Object(r.lazy)((()=>n.e(26).then(n.bind(null,604)))),lazyComponentProps:e})}}]},visConfig:{defaults:{colorSchema:"Yellow to Red",mapType:s.a.ScaledCircleMarkers,mapZoom:2,mapCenter:[0,0]}},toExpressionAst:e=>{const t=Object(a.buildExpressionFunction)("tilemap",{visConfig:JSON.stringify({...e.params,mapCenter:e.uiState.get("mapCenter",[0,0]),mapZoom:parseInt(e.uiState.get("mapZoom",2),10),layerDescriptorParams:Object(o.a)(e)})});return Object(a.buildExpression)([t]).toAst()},requiresSearch:!0,disableCreate:!0}},function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d}));var r=n(4),i=n(1),a=n(12),o=n(34),s=n(11),c=n(6),u=n(3);const l=i.i18n.translate("xpack.maps.regionMapMap.vis.title",{defaultMessage:"Region Map"}),d={name:s.b,title:l,icon:"visMapRegion",description:i.i18n.translate("xpack.maps.regionMap.vis.description",{defaultMessage:"Show metrics on a thematic map."}),editorConfig:{optionTabs:[{name:"",title:"",editor:function(e){return Object(u.jsx)(c.a,{getLazyComponent:()=>Object(r.lazy)((()=>n.e(25).then(n.bind(null,606)))),lazyComponentProps:e})}}]},visConfig:{defaults:{colorSchema:"Yellow to Red",mapZoom:2,mapCenter:[0,0]}},toExpressionAst:e=>{const t=Object(a.buildExpressionFunction)("regionmap",{visConfig:JSON.stringify({...e.params,mapCenter:e.uiState.get("mapCenter",[0,0]),mapZoom:parseInt(e.uiState.get("mapZoom",2),10),layerDescriptorParams:Object(o.a)(e)})});return Object(a.buildExpression)([t]).toAst()},requiresSearch:!0,disableCreate:!0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"g",(function(){return _})),n.d(t,"f",(function(){return f})),n.d(t,"e",(function(){return E})),n.d(t,"d",(function(){return m}));var r=n(0);let i;!function(e){e.GEO_LINE_AGG="GEO_LINE_AGG",e.GEO_SHAPE_AGGS_GEO_TILE="GEO_SHAPE_AGGS_GEO_TILE",e.ON_PREM_EMS="ON_PREM_EMS"}(i||(i={}));const a={[i.GEO_LINE_AGG]:{name:"geo_line aggregation",license:"gold"},[i.GEO_SHAPE_AGGS_GEO_TILE]:{name:"geo_tile aggregation on geo_shape field-type",license:"gold"},[i.ON_PREM_EMS]:{name:"layer from local Elastic Maps Server",license:"enterprise"}};let o,s=!1;const c=()=>o,u=()=>s;let l,d;const p=new Promise((e=>{d=e})),_=async()=>{await p};async function f(e){b(await e.refresh()),l=e,l.license$.subscribe(b),d(void 0)}function b(e){const t=e.check(r.e,"gold");s="valid"===t.state,o=e.uid}function E(e){for(const t of Object.values(i))e.featureUsage.register(a[t].name,a[t].license)}function m(e){l?l.featureUsage.notifyUsage(a[i[e]].name):console.error("May not call notifyLicensedFeatureUsage before plugin start")}},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/embeddable/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps_npm__},function(e,t,n){e.exports=n(22)(3)},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/data/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.RxjsOperators},function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));const r=[];function i(e){r.push({checkVisibility:async()=>!0,getIsDisabled:async()=>!1,isBeta:!1,...e})}function a(e){if(e.order<100)throw new Error("layerWizard.order should be greater than or equal to '100'");i(e)}async function o(){const e=r.map((async e=>({...e,isVisible:await e.checkVisibility(),isDisabled:await e.getIsDisabled()})));return(await Promise.all(e)).filter((({isVisible:e})=>e)).sort(((e,t)=>e.order-t.order))}function s(e){return r.find((t=>t.id===e))}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));var r=n(9),i=n(5);function a(e=Object(i.d)()){return{get:async t=>e.client.get({contentTypeId:r.a,id:t}),create:async({data:t,options:n})=>await e.client.create({contentTypeId:r.a,data:t,options:n}),update:async({id:t,data:n,options:i})=>await e.client.update({contentTypeId:r.a,id:t,data:n,options:i}),delete:async t=>await e.client.delete({contentTypeId:r.a,id:t}),search:async(t={},n)=>e.client.search({contentTypeId:r.a,query:t,options:n})}}const o=n(1).i18n.translate("xpack.maps.saveDuplicateRejectedDescription",{defaultMessage:"Save with duplicate title confirmation was rejected"}),s=async({id:e,title:t,lastSavedTitle:n,copyOnSave:r,isTitleDuplicateConfirmed:i,getDisplayName:s,onTitleDuplicate:c},{overlays:u})=>{if(i)return!0;if(t===n&&!r)return!0;const{hits:l}=await a().search({text:`"${t}"`,limit:10},{onlyTitle:!0}),d=l.find((e=>e.attributes.title.toLowerCase()===t.toLowerCase()));return!d||d.id===e||(c(),Promise.reject(new Error(o)))}},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));const r=[];function i(e){if(r.some((({type:t})=>e.type===t)))throw new Error(`Unable to register source type ${e.type}. ${e.type} has already been registered`);r.push(e)}function a(e){return r.find((t=>t.type===e))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(4),i=n(1),a=n(6),o=n(3);const s=()=>Object(r.lazy)((()=>n.e(28).then(n.bind(null,74)))),c={title:i.i18n.translate("xpack.maps.inspector.mapDetailsViewTitle",{defaultMessage:"Map details"}),order:30,help:i.i18n.translate("xpack.maps.inspector.mapDetailsViewHelpText",{defaultMessage:"View the map state"}),shouldShow:e=>Boolean(e.map),component:e=>Object(o.jsx)(a.a,{getLazyComponent:s,lazyComponentProps:e})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(4),i=n(1),a=n(6),o=n(3);const s=()=>Object(r.lazy)((()=>n.e(23).then(n.bind(null,73)))),c={title:i.i18n.translate("xpack.maps.inspector.vectorTileViewTitle",{defaultMessage:"Vector tiles"}),order:10,help:i.i18n.translate("xpack.maps.inspector.vectorTileViewHelpText",{defaultMessage:"View the vector tile search requests used to collect the data"}),shouldShow(e){var t;return Boolean(null===(t=e.vectorTiles)||void 0===t?void 0:t.hasLayers())},component:e=>Object(o.jsx)(a.a,{getLazyComponent:s,lazyComponentProps:e})}},function(e,t,n){n.r(t);var r=__kbnBundles__.get("entry/core/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/data/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(24),i=n(18),a=n(13);function o(e){var t,n,o,s,c;const u={label:e.title?e.title:i.b,mapType:e.params.mapType,colorSchema:e.params.colorSchema,indexPatternId:null===(t=e.data.indexPattern)||void 0===t?void 0:t.id,metricAgg:"count"},l=null===(n=e.data)||void 0===n||null===(o=n.aggs)||void 0===o?void 0:o.byType("buckets");var d;if(null!=l&&l.length&&l[0].type.dslName===a.a)u.geoFieldName=null===(d=l[0].getField())||void 0===d?void 0:d.name;else if(e.data.indexPattern){const t=e.data.indexPattern.fields.find((e=>!r.indexPatterns.isNestedField(e)&&e.aggregatable&&"geo_point"===e.type));t&&(u.geoFieldName=t.name)}const p=null===(s=e.data)||void 0===s||null===(c=s.aggs)||void 0===c?void 0:c.byType("metrics");var _;return null!=p&&p.length&&(u.metricAgg=p[0].type.dslName,u.metricFieldName=null===(_=p[0].getField())||void 0===_?void 0:_.name),u}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(19);function i(e,t){if("string"==typeof e)return e;const n=t.split(".");return 2===n.length?n[1]:void 0}function a(e){var t,n,a,o,s;const c={label:e.title?e.title:r.b,emsLayerId:e.params.selectedLayer.isEMS?i(e.params.selectedLayer.id,e.params.selectedLayer.layerId):void 0,leftFieldName:e.params.selectedLayer.isEMS?e.params.selectedJoinField.name:void 0,colorSchema:e.params.colorSchema,indexPatternId:null===(t=e.data.indexPattern)||void 0===t?void 0:t.id,metricAgg:"count"},u=null===(n=e.data)||void 0===n||null===(a=n.aggs)||void 0===a?void 0:a.byType("buckets");var l;null!=u&&u.length&&"terms"===u[0].type.dslName&&(c.termsFieldName=null===(l=u[0].getField())||void 0===l?void 0:l.name,c.termsSize=u[0].getParam("size"));const d=null===(o=e.data)||void 0===o||null===(s=o.aggs)||void 0===s?void 0:s.byType("metrics");var p;return null!=d&&d.length&&(c.metricAgg=d[0].type.dslName,c.metricFieldName=null===(p=d[0].getField())||void 0===p?void 0:p.name),c}},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/visualizations/common/utils");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){"use strict";n.r(t);var r=n(0);n.d(t,"AGG_TYPE",(function(){return r.b})),n.d(t,"APP_ID",(function(){return r.e})),n.d(t,"COLOR_MAP_TYPE",(function(){return r.j})),n.d(t,"DECIMAL_DEGREES_PRECISION",(function(){return r.o})),n.d(t,"ES_GEO_FIELD_TYPE",(function(){return r.A})),n.d(t,"FIELD_ORIGIN",(function(){return r.D})),n.d(t,"INITIAL_LOCATION",(function(){return r.S})),n.d(t,"LABEL_BORDER_SIZES",(function(){return r.V})),n.d(t,"LABEL_POSITIONS",(function(){return r.W})),n.d(t,"LAYER_TYPE",(function(){return r.Z})),n.d(t,"MAP_SAVED_OBJECT_TYPE",(function(){return r.fb})),n.d(t,"SCALING_TYPES",(function(){return r.wb})),n.d(t,"SOURCE_TYPES",(function(){return r.Cb})),n.d(t,"STYLE_TYPE",(function(){return r.Eb})),n.d(t,"SYMBOLIZE_AS_TYPES",(function(){return r.Fb})),n.d(t,"LAYER_WIZARD_CATEGORY",(function(){return r.ab})),n.d(t,"MAX_ZOOM",(function(){return r.hb})),n.d(t,"MIN_ZOOM",(function(){return r.mb})),n.d(t,"VECTOR_SHAPE_TYPE",(function(){return r.Hb})),n.d(t,"VECTOR_STYLES",(function(){return r.Ib}))},function(e,t,n){n(38),__kbnBundles__.define("plugin/maps/public",n,39),__kbnBundles__.define("plugin/maps/common",n,36)},function(e,t,n){n.p=window.__kbnPublicPath__.maps},function(e,t,n){"use strict";n.r(t),n.d(t,"plugin",(function(){return ie})),n.d(t,"GEOJSON_FEATURE_ID_PROPERTY_NAME",(function(){return D.H})),n.d(t,"MAP_SAVED_OBJECT_TYPE",(function(){return D.fb})),n.d(t,"MAPS_APP_LOCATOR",(function(){return I.a}));var r=n(2),i=n.n(r),a=n(4),o=n.n(a),s=n(31),c=n(7),u=n(21),l=n(13),d=n(18),p=n(1),_=n(10);const f=()=>({name:"tilemap",type:"render",help:p.i18n.translate("xpack.maps.tileMap.function.help",{defaultMessage:"Tilemap visualization"}),args:{visConfig:{types:["string"],default:'"{}"',help:""}},async fn(e,t){const n=e.query;return{type:"render",as:_.b,value:{visType:_.c,visConfig:JSON.parse(t.visConfig),filters:e.filters,query:Array.isArray(n)?n[0]:n,timeRange:e.timeRange}}}});var b=n(8),E=n.n(b),m=n(6),O=n(3);const g=()=>Object(a.lazy)((()=>Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(4),n.e(5),n.e(6),n.e(16)]).then(n.bind(null,605)))),T={name:_.b,reuseDomNode:!0,render:async(e,{filters:t,query:n,timeRange:r,visConfig:i},a)=>{a.onDestroy((()=>{Object(b.unmountComponentAtNode)(e)}));const o={onInitialRenderComplete:()=>{a.done()},filters:t,query:n,timeRange:r,visConfig:i};Object(b.render)(Object(O.jsx)(m.a,{getLazyComponent:g,lazyComponentProps:o}),e)}};var y=n(19),S=n(11);const A=()=>({name:"regionmap",type:"render",help:p.i18n.translate("xpack.maps.regionMap.function.help",{defaultMessage:"Regionmap visualization"}),args:{visConfig:{types:["string"],default:'"{}"',help:""}},async fn(e,t){const n=e.query;return{type:"render",as:S.a,value:{visType:S.b,visConfig:JSON.parse(t.visConfig),filters:e.filters,query:Array.isArray(n)?n[0]:n,timeRange:e.timeRange}}}}),h=()=>Object(a.lazy)((()=>Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(4),n.e(5),n.e(6),n.e(15)]).then(n.bind(null,607)))),N={name:S.a,reuseDomNode:!0,render:async(e,{filters:t,query:n,timeRange:r,visConfig:i},a)=>{a.onDestroy((()=>{Object(b.unmountComponentAtNode)(e)}));const o={onInitialRenderComplete:()=>{a.done()},filters:t,query:n,timeRange:r,visConfig:i};Object(b.render)(Object(O.jsx)(m.a,{getLazyComponent:h,lazyComponentProps:o}),e)}};var I=n(17);class locator_definition_MapsAppTileMapLocatorDefinition{constructor(e){i()(this,"id","MAPS_APP_TILE_MAP_LOCATOR"),i()(this,"getLocation",(async e=>{const{getLocation:t}=await Promise.all([n.e(0),n.e(1),n.e(14)]).then(n.bind(null,608));return t(e,this.deps)})),this.deps=e}}class locator_definition_MapsAppRegionMapLocatorDefinition{constructor(e){i()(this,"id","MAPS_APP_REGION_MAP_LOCATOR"),i()(this,"getLocation",(async e=>{const{getLocation:t}=await Promise.all([n.e(0),n.e(1),n.e(13)]).then(n.bind(null,609));return t(e,this.deps)})),this.deps=e}}var L=n(20),v=n(28),R=n(26);const M={async createSecurityLayerDescriptors(e,t){const{createSecurityLayerDescriptors:r}=await Promise.all([n.e(0),n.e(1),n.e(3),n.e(4),n.e(7),n.e(19)]).then(n.bind(null,602));return r(e,t)},async createBasemapLayerDescriptor(){const{createBasemapLayerDescriptor:e}=await Promise.all([n.e(0),n.e(2)]).then(n.bind(null,170));return e()},async createESSearchSourceLayerDescriptor(e){const{createLayerDescriptor:t}=await Promise.all([n.e(0),n.e(1),n.e(3)]).then(n.bind(null,111));return t(e)}};async function P(e){const{suggestEMSTermJoinConfig:t}=await n.e(22).then(n.bind(null,173));return await t(e)}var C=n(25),D=n(0),x=n(14);const w=e=>{const t=e;if(!("attributes"in t)||void 0===t.attributes)return{state:e,references:[]};const{attributes:n,references:r}=Object(x.a)({attributes:t.attributes});return{state:{...e,attributes:n},references:r}},j=(e,t)=>{const n=e;if(!("attributes"in n)||void 0===n.attributes)return n;try{const{attributes:e}=Object(x.a)({attributes:n.attributes}),{attributes:r}=Object(x.b)({attributes:e,references:t});return{...n,attributes:r}}catch(e){return n}};var k=n(5);class map_embeddable_factory_MapEmbeddableFactory{constructor(){i()(this,"type",D.fb),i()(this,"savedObjectMetaData",{name:p.i18n.translate("xpack.maps.mapSavedObjectLabel",{defaultMessage:"Map"}),type:D.fb,getIconForSavedObject:()=>D.c}),i()(this,"createFromSavedObject",(async(e,t,n)=>(t.savedObjectId||(t.savedObjectId=e),this.create(t,n)))),i()(this,"create",(async(e,t)=>{const{MapEmbeddable:r}=await Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(4),n.e(5),n.e(6)]).then(n.bind(null,319)),i=Object(k.T)();return i&&Object(k.a)().currentAppId$.pipe(Object(C.first)()).subscribe((e=>{e&&i.reportUiCounter("map","loaded",`open_maps_vis_${e}`)})),new r({editable:await this.isEditable()},e,t)})),i()(this,"inject",j),i()(this,"extract",w)}async isEditable(){return Object(k.z)().save}canCreateNew(){return!1}getDisplayName(){return D.db}}const G="FILTER_BY_MAP_EXTENT";function F(e){var t;return"dashboard"===(null===(t=e.parent)||void 0===t?void 0:t.type)?p.i18n.translate("xpack.maps.filterByMapExtentMenuItem.dashboardLabel",{defaultMessage:"dashboard"}):p.i18n.translate("xpack.maps.filterByMapExtentMenuItem.pageLabel",{defaultMessage:"page"})}function B(e){return p.i18n.translate("xpack.maps.filterByMapExtentMenuItem.displayName",{defaultMessage:"Filter {containerLabel} by map bounds",values:{containerLabel:F(e)}})}const U=Object(c.createAction)({id:G,type:G,order:20,getDisplayName:e=>B(e.embeddable),getDisplayNameTooltip:e=>p.i18n.translate("xpack.maps.filterByMapExtentMenuItem.displayNameTooltip",{defaultMessage:"As you zoom and pan the map, the {containerLabel} updates to display only the data visible in the map bounds.",values:{containerLabel:F(e.embeddable)}}),getIconType:()=>"filter",isCompatible:async e=>{const{isCompatible:t}=await n.e(24).then(n.bind(null,610));return t(e)},execute:async e=>{const{openModal:t}=await n.e(20).then(n.bind(null,611));t(B(e.embeddable))}}),V="SYNCHRONIZE_MOVEMENT_ACTION",z=Object(c.createAction)({id:V,type:V,order:21,getDisplayName:({embeddable:e})=>p.i18n.translate("xpack.maps.synchronizeMovementAction.title",{defaultMessage:"Synchronize map movement"}),getDisplayNameTooltip:()=>p.i18n.translate("xpack.maps.synchronizeMovementAction.tooltipContent",{defaultMessage:"Synchronize maps, so that if you zoom and pan in one map, the movement is reflected in other maps"}),getIconType:()=>"crosshairs",isCompatible:async e=>{const{isCompatible:t}=await n.e(17).then(n.bind(null,612));return t(e)},execute:async e=>{const{openModal:t}=await n.e(21).then(n.bind(null,613));t()}});var H=n(16);const Y=Object(c.createAction)({id:c.ACTION_VISUALIZE_GEO_FIELD,type:c.ACTION_VISUALIZE_GEO_FIELD,getDisplayName:()=>p.i18n.translate("xpack.maps.discover.visualizeFieldLabel",{defaultMessage:"Visualize in Maps"}),isCompatible:async()=>!!Object(k.U)().show,getHref:async e=>{const{getMapsLink:t}=await n.e(8).then(n.bind(null,614)),{app:r,path:i}=await t(e);return Object(k.e)().application.getUrlForApp(r,{path:i,absolute:!1})},execute:async e=>{const{getMapsLink:t}=await n.e(8).then(n.bind(null,614)),{app:r,path:i,state:a}=await t(e),o=Object(k.T)();null==o||o.reportUiCounter(D.e,H.METRIC_TYPE.CLICK,`create_maps_vis_${e.originatingApp?e.originatingApp:"unknownOriginatingApp"}`),Object(k.e)().application.navigateToApp(r,{path:i,state:a})}});var K=n(27);const J={id:D.e,title:D.f,subtitle:p.i18n.translate("xpack.maps.featureCatalogue.mapsSubtitle",{defaultMessage:"Plot geographic data."}),description:p.i18n.translate("xpack.maps.feature.appDescription",{defaultMessage:"Explore geospatial data from Elasticsearch and the Elastic Maps Service."}),icon:D.c,path:"/app/maps",showOnHomePage:!1,category:"data",solutionId:"kibana",order:400};var $=n(29),W=n(30),Z=n(35),q=n(23),X=n.n(q);const Q="lens_choropleth_chart_renderer",ee=e=>{if(e){var t;const n=e=>e.type?e:e.child?n(e.child):void 0;return null===(t=n(e))||void 0===t?void 0:t.type}},te=e=>{if(e){var t;const n=e=>e.child?n(e.child):e;return null===(t=n(e))||void 0===t?void 0:t.type}},ne=()=>({name:"lens_choropleth_chart",type:"render",help:"A choropleth chart. Metrics are joined to vector features to compare values across political boundaries",args:{title:{types:["string"],help:""},description:{types:["string"],help:""},layerId:{types:["string"],help:""},emsField:{types:["string"],help:"Elastic Map Service boundaries layer field provides the vector feature join key"},emsLayerId:{types:["string"],help:"Elastic Map Service boundaries layer id that provides vector features"},regionAccessor:{types:["string"],help:"Bucket accessor identifies the region key column"},valueAccessor:{types:["string"],help:"Value accessor identifies the value column"}},inputTypes:["datatable"],fn(e,t,n){var r;if(null!=n&&null!==(r=n.inspectorAdapters)&&void 0!==r&&r.tables){n.inspectorAdapters.tables.reset(),n.inspectorAdapters.tables.allowCsvExport=!0;const r=Object(Z.prepareLogTable)(e,[[t.valueAccessor?[t.valueAccessor]:void 0,p.i18n.translate("xpack.maps.logDatatable.value",{defaultMessage:"Value"})],[t.regionAccessor?[t.regionAccessor]:void 0,p.i18n.translate("xpack.maps.logDatatable.region",{defaultMessage:"Region key"})]],!0);n.inspectorAdapters.tables.logDatatable("default",r)}return{type:"render",as:Q,value:{data:e,args:t}}}});var re=n(9);class plugin_MapsPlugin{constructor(e){i()(this,"_initializerContext",void 0),this._initializerContext=e}setup(e,t){var r,i;Object(L.e)(t.licensing);const a=this._initializerContext.config.get();Object(k.X)({...a,preserveDrawingBuffer:!(null===(r=t.screenshotMode)||void 0===r||!r.isScreenshotMode())||a.preserveDrawingBuffer});const c=t.share.url.locators.create(new I.b({useHash:e.uiSettings.get("state:storeInSessionStorage")}));return t.share.url.locators.create(new locator_definition_MapsAppTileMapLocatorDefinition({locator:c})),t.share.url.locators.create(new locator_definition_MapsAppRegionMapLocatorDefinition({locator:c})),t.inspector.registerView(W.a),t.inspector.registerView($.a),t.home&&t.home.featureCatalogue.register(J),t.visualizations.registerAlias(function(){const e=p.i18n.translate("xpack.maps.visTypeAlias.description",{defaultMessage:"Create and style maps with multiple layers and indices."});return{alias:{app:D.e,path:`/${D.eb}`},name:D.e,title:D.f,description:e,icon:D.c,stage:"production",appExtensions:{visualizations:{docTypes:[D.fb],searchFields:["title^3"],client:K.b,toListItem(e){const{id:t,type:n,updatedAt:r,attributes:i}=e,{title:a,description:o}=i;return{id:t,title:a,description:o,updatedAt:r,editor:{editUrl:Object(D.Mb)(t),editApp:D.e},icon:D.c,stage:"production",savedObjectType:n,typeTitle:D.f}}}}}}()),t.embeddable.registerEmbeddableFactory(D.fb,new map_embeddable_factory_MapEmbeddableFactory),e.application.register({id:D.e,title:D.f,order:4e3,icon:`plugins/${D.e}/icon.svg`,euiIconType:D.d,category:s.DEFAULT_APP_CATEGORIES.kibana,async mount(r){var i,a;const[s,{savedObjectsTagging:c}]=await e.getStartServices(),u=null!==(i=null===(a=t.usageCollection)||void 0===a?void 0:a.components.ApplicationUsageTrackingProvider)&&void 0!==i?i:o.a.Fragment,{renderApp:l}=await Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(4),n.e(5),n.e(7),n.e(11)]).then(n.bind(null,615));return l(r,{coreStart:s,AppUsageTracker:u,savedObjectsTagging:c})}}),t.contentManagement.registry.register({id:re.a,version:{latest:re.b},name:D.f}),u=e,_=t.expressions,b=t.lens,_.registerRenderer((()=>function(e){return{name:Q,displayName:"Choropleth chart",help:"Choropleth chart renderer",validate:()=>{},reuseDomNode:!0,render:async(t,r,i)=>{const[a,o]=await e.getStartServices(),{ChoroplethChart:s}=await Promise.all([n.e(0),n.e(2),n.e(18)]).then(n.bind(null,618)),{getEmsFileLayers:c}=await n.e(9).then(n.bind(null,81)),u=o.embeddable.getEmbeddableFactory("map");if(!u)return;let l=[];try{l=await c()}catch(e){}E.a.render(Object(O.jsx)(s,X()({},r,{formatFactory:o.fieldFormats.deserialize,uiSettings:a.uiSettings,emsFileLayers:l,mapEmbeddableFactory:u,onRenderComplete:()=>{const e=i.getExecutionContext(),t=ee(e),n=te(e);var r;t&&n&&(null===(r=o.usageCollection)||void 0===r||r.reportUiCounter(t,H.METRIC_TYPE.COUNT,[`render_${n}_regionmap`])),i.done()}})),t),i.onDestroy((()=>E.a.unmountComponentAtNode(t)))}}}(u))),_.registerFunction(ne),b.registerVisualization((async()=>{const[e,t]=await u.getStartServices(),{getEmsFileLayers:r}=await n.e(9).then(n.bind(null,81)),{getVisualization:i}=await n.e(12).then(n.bind(null,616));let a=[];try{a=await r()}catch(t){console.warn(`Lens region map setup is unable to access administrative boundaries from Elastic Maps Service (EMS). To avoid unnecessary EMS requests, set 'map.includeElasticMapsService: false' in 'kibana.yml'. For more details please visit ${e.docLinks.links.maps.connectToEms}`)}return i({theme:e.theme,emsFileLayers:a,paletteService:await t.charts.palettes.getPalettes()})})),t.data.search.aggs.types.registerLegacy(l.a,l.b),t.expressions.registerFunction(A),t.expressions.registerRenderer(N),t.visualizations.createBaseVisualization(y.a),t.expressions.registerFunction(f),t.expressions.registerRenderer(T),t.visualizations.createBaseVisualization(d.a),Object(k.W)(!(null===(i=t.cloud)||void 0===i||!i.isCloudEnabled)),{registerLayerWizard:R.c,registerSource:v.b};var u,_,b}start(e,t){return Object(L.f)(t.licensing),Object(k.Y)(e,t),e.application.capabilities.maps.show&&t.uiActions.addTriggerAction(c.VISUALIZE_GEO_FIELD_TRIGGER,Y),t.uiActions.addTriggerAction(u.CONTEXT_MENU_TRIGGER,U),t.uiActions.addTriggerAction(u.CONTEXT_MENU_TRIGGER,z),e.application.capabilities.maps.save||t.visualizations.unRegisterAlias(D.e),{createLayerDescriptors:M,suggestEMSTermJoinConfig:P}}}const ie=e=>new plugin_MapsPlugin(e)},function(e,t){e.exports=__kbnSharedDeps__.Lodash},function(e,t){e.exports=__kbnSharedDeps__.KbnI18nReact},function(e,t){e.exports=__kbnSharedDeps__.ReactRedux},function(e,t){e.exports=__kbnSharedDeps__.Uuid},function(e,t){e.exports=__kbnSharedDeps__.Classnames},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.KbnEsQuery},function(e,t){e.exports=__kbnSharedDeps__.ReactRouterDom},function(e,t){e.exports=__kbnSharedDeps__.KbnStd},function(e,t){e.exports=__kbnSharedDeps__.KbnUiTheme},function(e,t){e.exports=__kbnSharedDeps__.Rxjs},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/unifiedSearch/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.EmotionCache},function(e,t){e.exports=__kbnSharedDeps__.KbnRison},function(e,t){e.exports=__kbnSharedDeps__.TsLib},function(e,t){e.exports=__kbnSharedDeps__.Moment},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/kibanaUtils/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.ReactRouterDomV5Compat},function(e,t){e.exports=__kbnSharedDeps__.KbnSharedUxErrorBoundary},function(e,t){e.exports=__kbnSharedDeps__.Redux},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/inspector/common/adapters/request");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.Reselect},function(e,t){e.exports=__kbnSharedDeps__.ElasticNumeral},function(e,t){e.exports=__kbnSharedDeps__.SaferLodashSet},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/mapsEms/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/controls/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/fieldFormats/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/usageCollection/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/savedObjects/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/presentationUtil/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},,function(e,t){e.exports=__kbnSharedDeps__.KbnMonaco},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/lens/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))}]);